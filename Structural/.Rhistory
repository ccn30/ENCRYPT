require(tidyverse)
## import vol data subject csv files
resultsDir <- '/home/ccn30/rds/hpc-work/WBIC_lustre/ENCRYPT/results/volume'
scriptDir <- '/home/ccn30/rds/hpc-work/WBIC_lustre/ENCRYPT/scripts/Structural'
setwd(scriptDir)
csvFiles <- list.files(resultsDir,pattern="/*left.csv",full.names=1)
csvFiles <- list.files(resultsDir,pattern="*left.csv",full.names=1)
csvFilesL <- list.files(resultsDir,pattern="*left.csv",full.names=1)
csvFilesR <- list.files(resultsDir,pattern="*right.csv",full.names=1)
# make master table
filesListL=lapply(csvFilesL,read_csv)
View(filesListL)
filesListR=lapply(csvFilesR,read_csv)
volsL <- bind_rows(filesListL[1:length(filesListL)])
volsR <- bind_rows(filesListR[1:length(filesListR)])
View(volsL)
View(volsL)
volsL <- volsL %>% mutate(side = "left")
volsR <- volsR %>% mutate(side = "right")
volsL <- volsL %>% mutate(side = "left") %>% select("subjectID","LabelID")
volsL <- bind_rows(filesListL[1:length(filesListL)])
volsL <- volsL %>% mutate(side = "left") %>% select("subjectID","side","LabelID","Count","Vol(mm^3)")
View(volsL)
View(volsL)
View(volsL)
volsL <- volsL %>%
mutate(side = "left") %>%
select("subjectID","side","LabelID","Count","Vol(mm^3)") %>%
filter(LabelID != "0")
volsL <- bind_rows(filesListL[1:length(filesListL)])
volsL <- volsL %>%
mutate(side = "left") %>%
mutate(Label = case_when(LabelID == 1 ~ "CA1",
LabelID == 2 ~ "CA2",
LabelID == 3 ~ "DG",
LabelID == 4 ~ "CA3",
LabelID == 5 ~ "Tail",
LabelID == 8 ~ "Sub",
LabelID == 9 ~ "EC",
LabelID == 10 ~ "PrC",
LabelID == 11 ~ "A36",
LabelID == 12 ~ "PhC",
LabelID == 17 ~ "pmEC",
LabelID == 18 ~ "alEC")) %>%
select("subjectID","side","LabelID","Count","Vol(mm^3)") %>%
filter(LabelID != "0")
volsL <- bind_rows(filesListL[1:length(filesListL)])
volsL <- volsL %>%
mutate(side = "left") %>%
mutate(Label = case_when(LabelID == 1 ~ "CA1",
LabelID == 2 ~ "CA2",
LabelID == 3 ~ "DG",
LabelID == 4 ~ "CA3",
LabelID == 5 ~ "Tail",
LabelID == 8 ~ "Sub",
LabelID == 9 ~ "EC",
LabelID == 10 ~ "PrC",
LabelID == 11 ~ "A36",
LabelID == 12 ~ "PhC",
LabelID == 17 ~ "pmEC",
LabelID == 18 ~ "alEC")) %>%
select("subjectID","side","Label","Count","Vol(mm^3)") %>%
filter(LabelID != "0")
volsL <- bind_rows(filesListL[1:length(filesListL)])
volsL <- volsL %>%
mutate(side = "left") %>%
filter(LabelID != "0") %>%
mutate(Label = case_when(LabelID == 1 ~ "CA1",
LabelID == 2 ~ "CA2",
LabelID == 3 ~ "DG",
LabelID == 4 ~ "CA3",
LabelID == 5 ~ "Tail",
LabelID == 8 ~ "Sub",
LabelID == 9 ~ "EC",
LabelID == 10 ~ "PrC",
LabelID == 11 ~ "A36",
LabelID == 12 ~ "PhC",
LabelID == 17 ~ "pmEC",
LabelID == 18 ~ "alEC")) %>%
select("subjectID","side","Label","Count","Vol(mm^3)")
volsR <- volsR %>%
mutate(side = "right") %>%
filter(LabelID != "0") %>%
mutate(Label = case_when(LabelID == 1 ~ "CA1",
LabelID == 2 ~ "CA2",
LabelID == 3 ~ "DG",
LabelID == 4 ~ "CA3",
LabelID == 5 ~ "Tail",
LabelID == 8 ~ "Sub",
LabelID == 9 ~ "EC",
LabelID == 10 ~ "PrC",
LabelID == 11 ~ "A36",
LabelID == 12 ~ "PhC",
LabelID == 17 ~ "pmEC",
LabelID == 18 ~ "alEC")) %>%
select("subjectID","side","Label","Count","Vol(mm^3)")
View(volsR)
vols <- bind_rows(volsR, volsL)
View(vols)
write.csv(vols,paste(resultsDir,'/c3d_volsMTL_global_n55.csv',sep=""),row.names=FALSE)
