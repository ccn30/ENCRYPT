Changed directory to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs.

JobID: 5668741
======
Time: Thu Jan  7 19:32:32 GMT 2021
Running on master node: wbic-cs-19
Current directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs

Nodes allocated:
================
wbic-cs-19

numtasks=1, numnodes=1, mpi_tasks_per_node=1 (OMP_NUM_THREADS=1)

Executing command:
==================
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh /lustre/scratch/wbic-beta/ccn30/ENCRYPT 25846/20200211_U-ID48025 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs

mkdir: cannot create directory â€˜/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846â€™: File exists
Beginning ASHS for:  25846
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/Series_034_Highresolution_TSE_PAT2_100/t2.nii
ASHS started at 19:32:32


 ASHS completed for 25846 at 19:32:32, it took 0 days 0 hours 0 minutes and 0 seconds to complete 

Beginning ASHS for:  25846
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/Series_034_Highresolution_TSE_PAT2_100/n42_t2.nii
ASHS started at 19:32:32


 ASHS completed for 25846 at 19:32:32, it took 0 days 0 hours 0 minutes and 0 seconds to complete 

Beginning ASHS for:  25846
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/Series_034_Highresolution_TSE_PAT2_100/n42_t2.nii
ASHS started at 19:32:32


 ASHS completed for 25846 at 19:32:32, it took 0 days 0 hours 0 minutes and 0 seconds to complete 

Beginning ASHS for:  25846
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/Series_034_Highresolution_TSE_PAT2_100/n42_t2.nii
ASHS started at 19:32:32


 ASHS completed for 25846 at 19:32:32, it took 0 days 0 hours 0 minutes and 0 seconds to complete 

Beginning ASHS for:  25846
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/Series_034_Highresolution_TSE_PAT2_100/t2.nii
ASHS started at 19:32:32


 ASHS completed for 25846 at 19:32:32, it took 0 days 0 hours 0 minutes and 0 seconds to complete 

Beginning ASHS for:  25846
ASHS started at 19:32:32


 ASHS completed for 25846 at 19:32:32, it took 0 days 0 hours 0 minutes and 0 seconds to complete 

Beginning ASHS for:  25846
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh: line 164: cd: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht: No such file or directory
ASHS started at 19:32:33
ashs_main execution log
  timestamp:   Thu Jan  7 19:32:33 GMT 2021
  invocation:  /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_main.sh -I 25846 -a /home/ccn30/ENCRYPT/atlases/utrechtatlas -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/mp2rage/Rdenoise_n4mag0000_PSIR_skulled_std_struc_brain_mask.nii -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/Series_034_Highresolution_TSE_PAT2_100/n42_t2.nii -w /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht
  directory:   /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseBrain
  environment:
    ASHS_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/mp2rage/Rdenoise_n4mag0000_PSIR_skulled_std_struc_brain_mask.nii
    ASHS_ROOT=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
    ASHS_SUBJID=25846
    ASHS_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/Series_034_Highresolution_TSE_PAT2_100/n42_t2.nii
    ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht
Atlas    : /home/ccn30/ENCRYPT/atlases/utrechtatlas
T1 Image : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/mp2rage/Rdenoise_n4mag0000_PSIR_skulled_std_struc_brain_mask.nii
T2 Image : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/Series_034_Highresolution_TSE_PAT2_100/n42_t2.nii
WorkDir  : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht
Not using SGE or GNU parallel
****************************************
Starting stage 1: Normalization to T1 population template
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 1: Normalization to T1 population 
template
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ cat
Script: ashs_template_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
  Skip Rigid: 
  Skip Ants: 
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/ants_t1_to_temp
+ WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/affine_t1_to_template
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/ants_t1_to_temp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/flirt_t2_to_t1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/affine_t1_to_template
+ TEMP_T1_FULL=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz
+ TEMP_T1_MASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template_bet_mask.nii.gz
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_AFF_T1TEMP_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.nii.gz
+ [[ /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/mp2rage/Rdenoise_n4mag0000_PSIR_skulled_std_struc_brain_mask.nii -nt /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/mprage_raw.nii.gz ]]
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/mp2rage/Rdenoise_n4mag0000_PSIR_skulled_std_struc_brain_mask.nii -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/mprage_raw.nii.gz
+ SUBJ_MPRAGE_DENOISE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/mprage_d.nii.gz
+ echo 'ASHS_MPRAGE_DENOISE = 0'
ASHS_MPRAGE_DENOISE = 0
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/mprage_raw.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/mprage_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/mprage_d.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/mprage.nii.gz
+ rm -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/mprage_d.nii.gz
+ [[ /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/Series_034_Highresolution_TSE_PAT2_100/n42_t2.nii -nt /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/tse_raw.nii.gz ]]
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25846/20200211_U-ID48025/Series_034_Highresolution_TSE_PAT2_100/n42_t2.nii -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/tse_raw.nii.gz
+ SUBJ_TSE_DENOISE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/tse_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/tse_raw.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/tse_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/tse_d.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/tse.nii.gz
+ rm -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/tse_d.nii.gz
+ ashs_align_t1t2 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht
+ local ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht
+ local OVERRIDE_MAT=
+ local OVERRIDE_MODE=
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1.mat ]]
+ export FSLOUTPUTTYPE=NIFTI_GZ
+ FSLOUTPUTTYPE=NIFTI_GZ
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/tse.nii.gz -resample 100x100x100% -region 20x20x0% 60x60x100% -type short -o /tmp/ashs.jp226fnx/tse_iso.nii.gz
+ [[ -n '' ]]
+ local INIT_RIGID
+ [[ -n '' ]]
+ INIT_RIGID=-ia-identity
+ greedy -d 3 -a -dof 6 -m MI -n 100x100x10 -i /tmp/ashs.jp226fnx/tse_iso.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/mprage.nii.gz -ia-identity -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1.mat
Executing with the default number of threads: 24
*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1628.95   GNORM= 62.6762
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -1680.861      41.334       0.016
   2    3     -1729.552      22.661       1.000
   3    4     -1751.627      15.883       1.000
   4    6     -1756.629      10.064       0.454
   5    7     -1758.688      10.002       1.000
   6    8     -1760.795       6.115       1.000
   7    9     -1760.951       2.010       1.000
   8   10     -1761.002       5.408       1.000
   9   12     -1761.035       2.134       0.198
  10   13     -1761.112       1.899       1.000
  11   15     -1761.120       1.346       0.435
  12   16     -1761.133       0.674       1.000
  13   18     -1761.133       0.787       0.319
  14   20     -1761.134       0.877       0.087
  15   23     -1761.134       0.662       0.030
  16   24     -1761.134       0.378       1.000
  17   25     -1761.134       0.373       1.000
  18   26     -1761.134       0.489       1.000
  19   28     -1761.134       0.294       0.296
  20   29     -1761.134       0.259       1.000
  21   32     -1761.134       0.373       2.922
  22   33     -1761.134       0.385       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.999978 0.00523516 -0.00417758 -0.24913 
-0.00547207 0.99825 -0.0588735 1.90224 
0.00386206 0.0588951 0.998257 -3.75622 
0 0 0 1 

*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1410.42   GNORM= 66.134
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -1454.060      26.083       0.015
   2    3     -1465.701      27.256       1.000
   3    4     -1477.358      31.364       1.000
   4    6     -1511.805      45.051       0.508
   5    8     -1521.865      34.619       0.416
   6    9     -1526.518      14.053       1.000
   7   10     -1527.678       7.045       1.000
   8   11     -1528.322       2.971       1.000
   9   12     -1528.459       1.660       1.000
  10   13     -1528.506       1.513       1.000
  11   14     -1528.517       0.517       1.000
  12   17     -1528.521       0.288       1.854
  13   18     -1528.523       0.435       1.000
  14   19     -1528.526       0.467       1.000
  15   20     -1528.527       0.139       1.000
  16   21     -1528.527       0.140       1.000
  17   22     -1528.528       0.184       1.000
  18   24     -1528.528       0.096       0.188
  19   26     -1528.528       0.093       0.386
  20   27     -1528.528       0.105       1.000
  21   28     -1528.528       0.058       1.000
  22   30     -1528.528       0.033       0.491
  23   32     -1528.528       0.043       0.271
  24   34     -1528.528       0.038       0.536
  25   35     -1528.528       0.042       1.000
  26   37     -1528.528       0.026       0.417
  27   38     -1528.528       0.046       1.000
  28   39     -1528.528       0.048       1.000
  29   43     -1528.528       0.075       0.199
  30   44     -1528.528       0.065       1.000
  31   45     -1528.528       0.082       1.000
  32   46     -1528.528       0.053       1.000
  33   48     -1528.528       0.028       0.185
  34   49     -1528.528       0.031       1.000
  35   51     -1528.528       0.031       0.251
  36   53     -1528.528       0.037       0.404
  37   54     -1528.528       0.018       1.000
  38   55     -1528.528       0.013       1.000
  39   56     -1528.528       0.018       1.000
  40   57     -1528.528       0.020       1.000
  41   58     -1528.528       0.023       1.000
  42   60     -1528.528       0.019       0.292
  43   61     -1528.528       0.010       1.000
  44   62     -1528.528       0.011       1.000
  45   66     -1528.528       0.017       0.016
  46   69     -1528.528       0.021       2.369
  47   70     -1528.528       0.009       1.000
  48   72     -1528.528       0.015       0.501
  49   75     -1528.528       0.018       0.624
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.999964 0.00372281 -0.00768989 -0.191026 
-0.00384686 0.999862 -0.0161814 0.500863 
0.00762858 0.0162103 0.99984 -1.2049 
0 0 0 1 

*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2032.2   GNORM= 163.127
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2053.671      45.391       0.001
   2    4     -2056.463      35.189       1.000
   3    5     -2062.145      46.563       1.000
   4    6     -2073.008      80.584       1.000
   5    7     -2088.090      94.521       1.000
   6    9     -2090.738      94.328       0.177
   7   10     -2098.595      28.952       1.000
   8   11     -2099.274       9.325       1.000
Final RAS Transform: 
0.999963 0.00185392 -0.00841712 -0.0796026 
-0.00189974 0.999983 -0.00543938 0.149028 
0.00840689 0.00545517 0.99995 -0.745666 
0 0 0 1 

+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.25
+ local PROGRESS=0.25
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.25'
CHUNK 0 0.2 0.25
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.25
====================================
         PROGRESS: 0               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat ]]
+ greedy -d 3 -a -dof 6 -m NCC 2x2x2 -i /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/mprage.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/affine_t1_to_template/greedy_t1_to_template_init_rigid.mat -n 400x0x0x0 -ia-image-centers -search 400 5 5
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.0104249, moving = 57.03
Rigid search -> Initial best: -437.257 5.89806e-17 -7.15264e-19 -1.39057e-16 2.36181 45.4288 5.18203
New best: -591.051 0.0466339 0.00759078 0.0670481 -1.99411 52.1324 13.7572
New best: -644.731 0.0810471 0.015444 0.120831 4.29232 45.483 10.1082
New best: -679.135 0.165144 -0.078897 0.120552 4.08619 51.4092 12.4858
New best: -702.39 -0.0646239 -0.12686 0.18294 -0.38663 46.4729 7.75425
*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -702.389   GNORM= 26.3227
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -704.719      67.356       0.038
   2    4      -812.992      46.412       5.000
   3    5      -907.368      74.964       1.000
   4    7     -1034.276      22.682       0.276
   5    8     -1045.862      21.168       1.000
   6    9     -1059.619      19.966       1.000
   7   10     -1085.307       8.419       1.000
   8   15     -1085.316      14.360       0.001
   9   19     -1085.340      22.558       0.005
  10   24     -1085.507      15.531       0.032
  11   26     -1085.518      18.274       0.285
  12   27     -1085.673      17.674       1.000
  13   31     -1086.160      78.765       2.833
  14   32     -1086.250      18.044       1.000
  15   34     -1086.366      20.497       0.382
  16   35     -1086.367      25.102       1.000
  17   36     -1086.777      11.953       1.000
  18   39     -1086.898      21.264       0.340
  19   41     -1086.938      19.978       0.280
  20   42     -1087.020      47.646       1.000
  21   43     -1087.746      13.889       1.000
  22   44     -1087.802      11.396       1.000
  23   46     -1087.831       7.937       0.133
  24   48     -1087.837       6.232       0.188
  25   51     -1087.880      23.862       0.766
  26   53     -1087.890      27.139       0.119
  27   54     -1087.892      11.344       1.000
  28   55     -1087.911       6.460       1.000
  29   56     -1087.917       3.850       1.000
  30   57     -1087.922       4.499       1.000
  31   59     -1087.924       4.781       0.405
  32   62     -1087.925       5.022       0.077
  33   63     -1087.925       3.044       1.000
  34   64     -1087.925       1.948       1.000
  35   66     -1087.927       1.917       0.334
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.525552 -0.722927 0.448522 -16.6414 
0.460308 0.684995 0.564711 35.7277 
-0.71548 -0.0903264 0.692769 15.0479 
0 0 0 1 

Final RAS Transform: 
0.525552 -0.722927 0.448522 -16.6414 
0.460308 0.684995 0.564711 35.7277 
-0.71548 -0.0903264 0.692769 15.0479 
0 0 0 1 

Final RAS Transform: 
0.525552 -0.722927 0.448522 -16.6414 
0.460308 0.684995 0.564711 35.7277 
-0.71548 -0.0903264 0.692769 15.0479 
0 0 0 1 

Final RAS Transform: 
0.525552 -0.722927 0.448522 -16.6414 
0.460308 0.684995 0.564711 35.7277 
-0.71548 -0.0903264 0.692769 15.0479 
0 0 0 1 


real	1m30.394s
user	2m18.648s
sys	0m10.180s
+ greedy -d 3 -a -m NCC 2x2x2 -i /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/mprage.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/affine_t1_to_template/greedy_t1_to_template.mat -n 400x80x40x0 -ia /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/affine_t1_to_template/greedy_t1_to_template_init_rigid.mat
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.0104249, moving = 57.03
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1087.93   GNORM= 63.9723
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -1317.295      31.265       0.078
   2    5     -1967.367      11.894       5.000
   3    7     -2382.872       9.079       5.000
   4    8     -2403.240       1.174       1.000
   5    9     -2405.709       1.636       1.000
   6   11     -2407.375       0.607       0.500
   7   15     -2407.745       0.476       0.144
   8   17     -2407.794       0.730       0.087
   9   19     -2408.826       1.398       0.510
  10   20     -2409.629       2.010       1.000
  11   21     -2412.074       0.533       1.000
  12   24     -2412.173       1.011       0.064
  13   27     -2412.337       0.531       0.124
  14   28     -2412.601       0.902       1.000
  15   29     -2413.047       2.461       1.000
  16   32     -2413.402       0.512       0.054
  17   34     -2413.497       0.564       0.352
  18   38     -2413.563       1.147       0.331
  19   41     -2413.567       0.538       0.045
  20   42     -2413.591       1.258       1.000
  21   45     -2413.634       1.804       0.039
  22   47     -2413.833       0.573       5.000
  23   48     -2413.906       0.524       1.000
  24   49     -2414.076       0.378       1.000
  25   51     -2414.084       0.297       0.301
  26   52     -2414.135       0.177       1.000
  27   56     -2414.240       0.422       1.180
  28   58     -2414.243       0.253       0.140
  29   61     -2414.251       0.253       0.358
  30   63     -2414.252       0.696       0.121
  31   66     -2414.252       1.024       0.096
  32   67     -2414.257       0.493       1.000
  33   68     -2414.260       0.233       1.000
  34   69     -2414.264       0.179       1.000
  35   70     -2414.272       0.290       1.000
  36   71     -2414.280       0.270       1.000
  37   72     -2414.315       0.409       1.000
  38   73     -2414.331       0.419       1.000
  39   78     -2414.342       0.408       0.087
  40   80     -2414.356       0.688       0.184
  41   82     -2414.368       1.234       0.288
  42   83     -2414.392       0.119       1.000
  43   84     -2414.396       0.089       1.000
  44   89     -2414.407       0.274       0.347
  45   92     -2414.407       0.255       0.042
  46   93     -2414.412       0.234       1.000
  47   96     -2414.415       0.197       0.024
  48   97     -2414.417       0.107       1.000
  49   98     -2414.417       0.139       1.000
  50  100     -2414.418       0.173       0.294
  51  101     -2414.419       0.114       1.000
  52  102     -2414.419       0.138       1.000
  53  103     -2414.419       0.141       1.000
  54  105     -2414.420       0.207       0.225
  55  106     -2414.421       0.093       1.000
  56  107     -2414.422       0.188       1.000
  57  108     -2414.422       0.116       1.000
  58  109     -2414.423       0.107       1.000
  59  110     -2414.423       0.238       1.000
  60  111     -2414.424       0.200       1.000
  61  112     -2414.426       0.576       1.000
  62  113     -2414.427       0.117       1.000
  63  114     -2414.427       0.119       1.000
  64  115     -2414.428       0.082       1.000
  65  117     -2414.432       0.421       5.000
  66  120     -2414.442       0.363       1.879
  67  122     -2414.443       0.297       0.176
  68  124     -2414.444       0.226       0.215
  69  126     -2414.445       0.211       0.316
  70  127     -2414.445       0.189       1.000
  71  128     -2414.447       0.117       1.000
  72  129     -2414.447       0.163       1.000
  73  130     -2414.449       0.197       1.000
  74  132     -2414.450       0.185       0.098
  75  134     -2414.450       0.076       0.235
  76  135     -2414.450       0.061       1.000
  77  136     -2414.451       0.127       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.394416 -3.31492 0.431562 -5.26319 
1.56824 2.68878 2.88213 124.678 
-2.01174 -1.30801 2.22007 55.0114 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2679.5   GNORM= 0.2741
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -2679.657       0.231       3.648
   2    3     -2679.979       0.173       1.000
   3    5     -2680.181       0.108       0.353
   4    7     -2680.187       0.189       0.299
   5    8     -2680.213       0.191       1.000
   6    9     -2680.235       0.304       1.000
   7   13     -2680.246       0.175       0.008
   8   18     -2680.247       0.160       0.001
   9   20     -2680.248       0.125       0.240
  10   21     -2680.250       0.137       1.000
  11   22     -2680.258       0.127       1.000
  12   23     -2680.261       0.079       1.000
  13   24     -2680.269       0.072       1.000
  14   25     -2680.286       0.158       1.000
  15   26     -2680.289       0.122       1.000
  16   28     -2680.314       0.319       5.000
  17   30     -2680.340       0.231       0.121
  18   34     -2680.340       0.239       0.009
  19   35     -2680.347       0.195       1.000
  20   38     -2680.353       0.363       0.914
  21   39     -2680.357       0.217       1.000
  22   42     -2680.357       0.220       0.085
  23   43     -2680.367       0.167       1.000
  24   45     -2680.431       0.289       5.000
  25   46     -2680.488       0.209       1.000
  26   48     -2680.500       0.129       0.239
  27   49     -2680.533       0.210       1.000
  28   50     -2680.540       0.130       1.000
  29   51     -2680.546       0.142       1.000
  30   52     -2680.555       0.223       1.000
  31   55     -2680.557       0.125       0.139
  32   57     -2680.558       0.100       0.227
  33   61     -2680.558       0.087       0.149
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.359021 -3.29045 0.419785 -4.72013 
1.5661 2.67908 2.88422 127.233 
-1.99068 -1.34294 2.18443 59.2551 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2800.6   GNORM= 0.110113
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2800.631       0.136       2.802
   2    5     -2800.632       0.153       0.266
   3    6     -2800.638       0.054       1.000
   4    8     -2800.641       0.084       5.000
   5   12     -2800.645       0.111       2.764
   6   17     -2800.646       0.088       0.001
   7   20     -2800.646       0.109      21.000
   8   21     -2800.654       0.092       1.000
   9   23     -2800.655       0.048       0.115
  10   27     -2800.663       0.059       4.211
  11   28     -2800.667       0.057       1.000
  12   30     -2800.715       0.095       5.000
  13   31     -2800.736       0.199       1.000
  14   34     -2800.743       0.195       0.050
  15   35     -2800.746       0.100       1.000
  16   36     -2800.791       0.087       1.000
  17   40     -2800.791       0.070       0.009
Final RAS Transform: 
0.332442 -3.25549 0.394604 -5.9528 
1.58015 2.67644 2.89005 124.263 
-2.00985 -1.34969 2.16353 59.8597 
0 0 0 1 

Final RAS Transform: 
0.332442 -3.25549 0.394604 -5.9528 
1.58015 2.67644 2.89005 124.263 
-2.00985 -1.34969 2.16353 59.8597 
0 0 0 1 


real	3m53.792s
user	7m8.480s
sys	0m8.084s
+ greedy -d 3 -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/affine_t1_to_template/greedy_t1_to_template.mat -rf /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/affine_t1_to_template/test_greedy_affine.nii.gz
Executing with the default number of threads: 24
+ cp -a /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/affine_t1_to_template/greedy_t1_to_template.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat
+ ln -sf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/affine_t1_to_template/test_greedy_affine.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.nii.gz
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine_inv.mat
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.5'
CHUNK 0 0.2 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.5
====================================
         PROGRESS: 0               
====================================
+ [[ -n '' ]]
+ greedy -d 3 -m NCC 2x2x2 -e 0.5 -n 60x60x20x0 -i /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/affine_t1_to_template/t1_to_template_affine.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz -oinv /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25846/DenoiseT1N4T2Utrecht/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz -gm /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template_bet_mask.nii.gz
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.0104249, moving = 0
LEVEL 1 of 4
  Smoothing sigmas: [9.11606, 9.11606, 6.92825], [3.72161, 3.72161, 2.82845]
Level     0,  Iter     0:    Energy =   0.0002
Level     0,  Iter     1:    Energy =   0.0004
Level     0,  Iter     2:    Energy =   0.0006
Level     0,  Iter     3:    Energy =   0.0006
Level     0,  Iter     4:    Energy =   0.0006
Level     0,  Iter     5:    Energy =   0.0007
Level     0,  Iter     6:    Energy =   0.0007
Level     0,  Iter     7:    Energy =   0.0006
Level     0,  Iter     8:    Energy =   0.0008
Level     0,  Iter     9:    Energy =   0.0008
Level     0,  Iter    10:    Energy =   0.0008
Level     0,  Iter    11:    Energy =   0.0008
Level     0,  Iter    12:    Energy =   0.0009
Level     0,  Iter    13:    Energy =   0.0009
Level     0,  Iter    14:    Energy =   0.0010
Level     0,  Iter    15:    Energy =   0.0010
Level     0,  Iter    16:    Energy =   0.0010
Level     0,  Iter    17:    Energy =   0.0011
Level     0,  Iter    18:    Energy =   0.0010
Level     0,  Iter    19:    Energy =   0.0010
Level     0,  Iter    20:    Energy =   0.0012
Level     0,  Iter    21:    Energy =   0.0011
Level     0,  Iter    22:    Energy =   0.0011
Level     0,  Iter    23:    Energy =   0.0011
Level     0,  Iter    24:    Energy =   0.0012
Level     0,  Iter    25:    Energy =   0.0012
Level     0,  Iter    26:    Energy =   0.0013
Level     0,  Iter    27:    Energy =   0.0013
Level     0,  Iter    28:    Energy =   0.0013
Level     0,  Iter    29:    Energy =   0.0013
Level     0,  Iter    30:    Energy =   0.0013
Level     0,  Iter    31:    Energy =   0.0012
Level     0,  Iter    32:    Energy =   0.0012
Level     0,  Iter    33:    Energy =   0.0013
Level     0,  Iter    34:    Energy =   0.0013
Level     0,  Iter    35:    Energy =   0.0012
Level     0,  Iter    36:    Energy =   0.0012
Level     0,  Iter    37:    Energy =   0.0013
Level     0,  Iter    38:    Energy =   0.0012
Level     0,  Iter    39:    Energy =   0.0012
Level     0,  Iter    40:    Energy =   0.0013
Level     0,  Iter    41:    Energy =   0.0013
Level     0,  Iter    42:    Energy =   0.0013
Level     0,  Iter    43:    Energy =   0.0013
Level     0,  Iter    44:    Energy =   0.0012
Level     0,  Iter    45:    Energy =   0.0013
Level     0,  Iter    46:    Energy =   0.0013
Level     0,  Iter    47:    Energy =   0.0012
Level     0,  Iter    48:    Energy =   0.0012
Level     0,  Iter    49:    Energy =   0.0012
Level     0,  Iter    50:    Energy =   0.0012
Level     0,  Iter    51:    Energy =   0.0012
Level     0,  Iter    52:    Energy =   0.0013
Level     0,  Iter    53:    Energy =   0.0011
Level     0,  Iter    54:    Energy =   0.0012
Level     0,  Iter    55:    Energy =   0.0012
Level     0,  Iter    56:    Energy =   0.0012
Level     0,  Iter    57:    Energy =   0.0012
Level     0,  Iter    58:    Energy =   0.0013
Level     0,  Iter    59:    Energy =   0.0013
END OF LEVEL     0    DetJac Range:   0.4453  to   1.5597 
  Avg. Gradient Time  : 0.0188s  36.66% 
  Avg. Gaussian Time  : 0.0254s  49.64% 
  Avg. Iteration Time : 0.0511s 
LEVEL 2 of 4
  Smoothing sigmas: [4.55803, 4.55803, 3.46412], [1.86081, 1.86081, 1.41422]
Level     1,  Iter     0:    Energy =   0.0004
Level     1,  Iter     1:    Energy =   0.0004
Level     1,  Iter     2:    Energy =   0.0004
Level     1,  Iter     3:    Energy =   0.0004
Level     1,  Iter     4:    Energy =   0.0005
Level     1,  Iter     5:    Energy =   0.0005
Level     1,  Iter     6:    Energy =   0.0005
Level     1,  Iter     7:    Energy =   0.0005
Level     1,  Iter     8:    Energy =   0.0005
Level     1,  Iter     9:    Energy =   0.0005
Level     1,  Iter    10:    Energy =   0.0005
Level     1,  Iter    11:    Energy =   0.0005
Level     1,  Iter    12:    Energy =   0.0006
Level     1,  Iter    13:    Energy =   0.0006
Level     1,  Iter    14:    Energy =   0.0006
Level     1,  Iter    15:    Energy =   0.0006
Level     1,  Iter    16:    Energy =   0.0006
Level     1,  Iter    17:    Energy =   0.0006
Level     1,  Iter    18:    Energy =   0.0006
Level     1,  Iter    19:    Energy =   0.0006
Level     1,  Iter    20:    Energy =   0.0006
Level     1,  Iter    21:    Energy =   0.0006
Level     1,  Iter    22:    Energy =   0.0006
Level     1,  Iter    23:    Energy =   0.0006
Level     1,  Iter    24:    Energy =   0.0006
Level     1,  Iter    25:    Energy =   0.0006
Level     1,  Iter    26:    Energy =   0.0006
Level     1,  Iter    27:    Energy =   0.0007
Level     1,  Iter    28:    Energy =   0.0007
Level     1,  Iter    29:    Energy =   0.0006
Level     1,  Iter    30:    Energy =   0.0007
Level     1,  Iter    31:    Energy =   0.0007
Level     1,  Iter    32:    Energy =   0.0007
Level     1,  Iter    33:    Energy =   0.0007
Level     1,  Iter    34:    Energy =   0.0007
Level     1,  Iter    35:    Energy =   0.0007
Level     1,  Iter    36:    Energy =   0.0007
Level     1,  Iter    37:    Energy =   0.0007
Level     1,  Iter    38:    Energy =   0.0007
Level     1,  Iter    39:    Energy =   0.0007
Level     1,  Iter    40:    Energy =   0.0007
Level     1,  Iter    41:    Energy =   0.0007
Level     1,  Iter    42:    Energy =   0.0007
Level     1,  Iter    43:    Energy =   0.0007
Level     1,  Iter    44:    Energy =   0.0007
Level     1,  Iter    45:    Energy =   0.0007
Level     1,  Iter    46:    Energy =   0.0007
Level     1,  Iter    47:    Energy =   0.0007
Level     1,  Iter    48:    Energy =   0.0007
Level     1,  Iter    49:    Energy =   0.0007
Level     1,  Iter    50:    Energy =   0.0007
Level     1,  Iter    51:    Energy =   0.0007
Level     1,  Iter    52:    Energy =   0.0007
Level     1,  Iter    53:    Energy =   0.0007
Level     1,  Iter    54:    Energy =   0.0007
Level     1,  Iter    55:    Energy =   0.0007
Level     1,  Iter    56:    Energy =   0.0007
Level     1,  Iter    57:    Energy =   0.0007
Level     1,  Iter    58:    Energy =   0.0007
Level     1,  Iter    59:    Energy =   0.0007
END OF LEVEL     1    DetJac Range:   0.2077  to   1.4171 
  Avg. Gradient Time  : 0.1485s  38.07% 
  Avg. Gaussian Time  : 0.1995s  51.13% 
  Avg. Iteration Time : 0.3901s 
LEVEL 3 of 4
  Smoothing sigmas: [2.27901, 2.27901, 1.73206], [0.930404, 0.930404, 0.707111]
Level     2,  Iter     0:    Energy =   0.0003
Level     2,  Iter     1:    Energy =   0.0003
Level     2,  Iter     2:    Energy =   0.0003
Level     2,  Iter     3:    Energy =   0.0003
big value: 5010.358252
Level     2,  Iter     4:    Energy =   0.0003
Level     2,  Iter     5:    Energy =   0.0003
Level     2,  Iter     6:    Energy =   0.0003
Level     2,  Iter     7:    Energy =   0.0003
Level     2,  Iter     8:    Energy =   0.0003
Level     2,  Iter     9:    Energy =   0.0003
big value: -2260.402296
Level     2,  Iter    10:    Energy =   0.0003
Level     2,  Iter    11:    Energy =   0.0003
Level     2,  Iter    12:    Energy =   0.0003
big value: -1147.431676
big value: 8047.526105
Level     2,  Iter    13:    Energy =   0.0003
Level     2,  Iter    14:    Energy =   0.0003
Level     2,  Iter    15:    Energy =   0.0004
big value: -17379.032253
big value: -3836.482250
big value: 23045.515430
Level     2,  Iter    16:    Energy =   0.0004
Level     2,  Iter    17:    Energy =   0.0003
Level     2,  Iter    18:    Energy =   0.0004
Level     2,  Iter    19:    Energy =   0.0004
END OF LEVEL     2    DetJac Range:   0.2403  to   1.2787 
  Avg. Gradient Time  : 1.3363s  32.60% 
  Avg. Gaussian Time  : 2.4446s  59.64% 
  Avg. Iteration Time : 4.0988s 
LEVEL 4 of 4
  Smoothing sigmas: [1.13951, 1.13951, 0.866031], [0.465202, 0.465202, 0.353556]
slurmstepd: error: Job 5668741 exceeded memory limit (7184680 > 7168000), being killed
slurmstepd: error: Exceeded job memory limit
slurmstepd: error: *** JOB 5668741 ON wbic-cs-19 CANCELLED AT 2021-01-07T19:43:32 ***
