Changed directory to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs.

JobID: 6025736
======
Time: Thu Jan 14 21:44:48 GMT 2021
Running on master node: wbic-cs-29
Current directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs

Nodes allocated:
================
wbic-cs-29

numtasks=1, numnodes=1, mpi_tasks_per_node=1 (OMP_NUM_THREADS=1)

Executing command:
==================
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh /lustre/scratch/wbic-beta/ccn30/ENCRYPT 27532/20200917_U-ID49943 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs

Beginning ASHS for:  27532
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/Series_035_Highresolution_TSE_PAT2_100/t2.nii
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh: line 54: cd: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/original: No such file or directory
Beginning ASHS for:  27532
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/Series_035_Highresolution_TSE_PAT2_100/n42_t2.nii
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh: line 65: cd: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/N4T2: No such file or directory
Beginning ASHS for:  27532
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/Series_035_Highresolution_TSE_PAT2_100/n42_t2.nii
ashs_main execution log
  timestamp:   Thu Jan 14 21:44:49 GMT 2021
  invocation:  /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_main.sh -I 27532 -a /home/ccn30/ENCRYPT/atlases/utrechtatlas -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/mp2rage/n4mag0000_PSIR_skulled_std_struc_brain.nii -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/Series_035_Highresolution_TSE_PAT2_100/n42_t2.nii -w /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 -N
  directory:   /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
  environment:
    ASHS_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/mp2rage/n4mag0000_PSIR_skulled_std_struc_brain.nii
    ASHS_ROOT=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
    ASHS_SKIP_ANTS=1
    ASHS_SKIP_RIGID=1
    ASHS_SUBJID=27532
    ASHS_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/Series_035_Highresolution_TSE_PAT2_100/n42_t2.nii
    ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
Atlas    : /home/ccn30/ENCRYPT/atlases/utrechtatlas
T1 Image : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/mp2rage/n4mag0000_PSIR_skulled_std_struc_brain.nii
T2 Image : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/Series_035_Highresolution_TSE_PAT2_100/n42_t2.nii
WorkDir  : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
Not using SGE or GNU parallel
****************************************
Starting stage 1: Normalization to T1 population template
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 1: Normalization to T1 population 
template
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ cat
Script: ashs_template_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
  Skip Rigid: 1
  Skip Ants: 1
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ TEMP_T1_FULL=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz
+ TEMP_T1_MASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template_bet_mask.nii.gz
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_AFF_T1TEMP_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.nii.gz
+ [[ /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/mp2rage/n4mag0000_PSIR_skulled_std_struc_brain.nii -nt /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz ]]
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/mp2rage/n4mag0000_PSIR_skulled_std_struc_brain.nii -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_MPRAGE_DENOISE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_d.nii.gz
+ echo 'ASHS_MPRAGE_DENOISE = 0'
ASHS_MPRAGE_DENOISE = 0
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_d.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ rm -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_d.nii.gz
+ [[ /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/Series_035_Highresolution_TSE_PAT2_100/n42_t2.nii -nt /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz ]]
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/Series_035_Highresolution_TSE_PAT2_100/n42_t2.nii -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_TSE_DENOISE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_d.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ rm -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_d.nii.gz
+ ashs_align_t1t2 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local OVERRIDE_MAT=
+ local OVERRIDE_MODE=
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat ]]
+ export FSLOUTPUTTYPE=NIFTI_GZ
+ FSLOUTPUTTYPE=NIFTI_GZ
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -resample 100x100x100% -region 20x20x0% 60x60x100% -type short -o /tmp/ashs.s0GFur1z/tse_iso.nii.gz
+ [[ -n '' ]]
+ local INIT_RIGID
+ [[ -n '' ]]
+ INIT_RIGID=-ia-identity
+ greedy -d 3 -a -dof 6 -m MI -n 100x100x10 -i /tmp/ashs.s0GFur1z/tse_iso.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz -ia-identity -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
Executing with the default number of threads: 24
*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2407.94   GNORM= 81.5969
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -2478.908      59.417       0.012
   2    3     -2607.036      22.954       1.000
   3    4     -2633.430       9.277       1.000
   4    5     -2634.853      14.163       1.000
   5    6     -2635.971       6.052       1.000
   6    7     -2636.232       4.297       1.000
   7    8     -2636.589       4.769       1.000
   8    9     -2636.804       2.072       1.000
   9   10     -2636.865       1.042       1.000
  10   12     -2636.868       1.024       0.460
  11   13     -2636.871       1.405       1.000
  12   15     -2636.873       0.800       0.217
  13   16     -2636.879       1.180       1.000
  14   18     -2636.882       0.881       0.269
  15   20     -2636.886       0.750       0.377
  16   22     -2636.886       0.488       0.300
  17   24     -2636.886       0.647       0.323
  18   25     -2636.886       0.969       1.000
  19   26     -2636.886       0.482       1.000
  20   27     -2636.886       0.692       1.000
  21   28     -2636.887       0.768       1.000
  22   29     -2636.887       0.563       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.999957 0.00598824 0.00707911 0.287578 
-0.00519219 0.994185 -0.107563 -0.0514171 
-0.00768205 0.107521 0.994173 -3.01938 
0 0 0 1 

*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2244.53   GNORM= 59.2804
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -2295.199      37.462       0.017
   2    4     -2320.804      23.829       0.485
   3    5     -2333.911      24.835       1.000
   4    7     -2344.457      31.153       0.153
   5    9     -2358.083      32.633       0.489
   6   10     -2374.072      24.460       1.000
   7   11     -2386.351       8.851       1.000
   8   12     -2386.981       7.093       1.000
   9   13     -2387.139       2.258       1.000
  10   14     -2387.237       1.903       1.000
  11   15     -2387.370       3.437       1.000
  12   16     -2387.402       2.538       1.000
  13   17     -2387.438       0.544       1.000
  14   18     -2387.441       0.602       1.000
  15   19     -2387.442       0.382       1.000
  16   20     -2387.443       0.247       1.000
  17   21     -2387.443       0.198       1.000
  18   22     -2387.444       0.110       1.000
  19   24     -2387.444       0.134       0.181
  20   25     -2387.444       0.078       1.000
  21   26     -2387.444       0.055       1.000
  22   29     -2387.444       0.090       0.095
  23   30     -2387.444       0.099       1.000
  24   32     -2387.444       0.056       0.219
  25   34     -2387.444       0.063       0.317
  26   36     -2387.444       0.049       0.308
  27   38     -2387.444       0.072       0.196
  28   42     -2387.444       0.045       0.007
  29   43     -2387.444       0.055       1.000
  30   44     -2387.444       0.026       1.000
  31   46     -2387.444       0.054       0.189
  32   48     -2387.444       0.032       0.080
  33   52     -2387.444       0.044       0.008
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.999859 -0.0113063 0.0124166 -0.0155656 
0.0119967 0.998301 -0.0570127 0.419923 
-0.0117509 0.0571536 0.998296 -0.621622 
0 0 0 1 

*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2455.97   GNORM= 199.213
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2498.246      31.354       0.002
   2    4     -2499.807      22.218       1.000
   3    5     -2502.222      29.789       1.000
   4    6     -2507.902      53.326       1.000
   5    7     -2516.162      61.901       1.000
   6    9     -2517.560      61.814       0.172
   7   10     -2521.589      20.646       1.000
   8   11     -2522.118       7.221       1.000
Final RAS Transform: 
0.999805 -0.0115632 0.0159971 -0.150197 
0.0123272 0.998746 -0.0485137 0.451014 
-0.0154161 0.0487015 0.998694 -0.186801 
0 0 0 1 

+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.25
+ local PROGRESS=0.25
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.25'
CHUNK 0 0.2 0.25
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.25
====================================
         PROGRESS: 0               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat ]]
+ [[ -n 1 ]]
+ echo 'Skipping Affine Registration'
Skipping Affine Registration
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.5'
CHUNK 0 0.2 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.5
====================================
         PROGRESS: 0               
====================================
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz ]]
+ greedy -d 3 -m NCC 2x2x2 -e 0.5 -n 60x60x20x0 -i /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz -oinv /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz -gm /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template_bet_mask.nii.gz
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.0104249, moving = 70.6777
LEVEL 1 of 4
  Smoothing sigmas: [9.11606, 9.11606, 6.92825], [3.72161, 3.72161, 2.82845]
Level     0,  Iter     0:    Energy =   0.0429
Level     0,  Iter     1:    Energy =   0.0480
Level     0,  Iter     2:    Energy =   0.0522
Level     0,  Iter     3:    Energy =   0.0546
Level     0,  Iter     4:    Energy =   0.0556
Level     0,  Iter     5:    Energy =   0.0562
Level     0,  Iter     6:    Energy =   0.0566
Level     0,  Iter     7:    Energy =   0.0570
Level     0,  Iter     8:    Energy =   0.0572
Level     0,  Iter     9:    Energy =   0.0576
Level     0,  Iter    10:    Energy =   0.0576
Level     0,  Iter    11:    Energy =   0.0580
Level     0,  Iter    12:    Energy =   0.0579
Level     0,  Iter    13:    Energy =   0.0582
Level     0,  Iter    14:    Energy =   0.0581
Level     0,  Iter    15:    Energy =   0.0583
Level     0,  Iter    16:    Energy =   0.0582
Level     0,  Iter    17:    Energy =   0.0584
Level     0,  Iter    18:    Energy =   0.0583
Level     0,  Iter    19:    Energy =   0.0585
Level     0,  Iter    20:    Energy =   0.0583
Level     0,  Iter    21:    Energy =   0.0585
Level     0,  Iter    22:    Energy =   0.0584
Level     0,  Iter    23:    Energy =   0.0586
Level     0,  Iter    24:    Energy =   0.0584
Level     0,  Iter    25:    Energy =   0.0586
Level     0,  Iter    26:    Energy =   0.0585
Level     0,  Iter    27:    Energy =   0.0587
Level     0,  Iter    28:    Energy =   0.0585
Level     0,  Iter    29:    Energy =   0.0587
Level     0,  Iter    30:    Energy =   0.0586
Level     0,  Iter    31:    Energy =   0.0587
Level     0,  Iter    32:    Energy =   0.0586
Level     0,  Iter    33:    Energy =   0.0588
Level     0,  Iter    34:    Energy =   0.0586
Level     0,  Iter    35:    Energy =   0.0588
Level     0,  Iter    36:    Energy =   0.0586
Level     0,  Iter    37:    Energy =   0.0588
Level     0,  Iter    38:    Energy =   0.0586
Level     0,  Iter    39:    Energy =   0.0588
Level     0,  Iter    40:    Energy =   0.0586
Level     0,  Iter    41:    Energy =   0.0589
Level     0,  Iter    42:    Energy =   0.0586
Level     0,  Iter    43:    Energy =   0.0589
Level     0,  Iter    44:    Energy =   0.0587
Level     0,  Iter    45:    Energy =   0.0589
Level     0,  Iter    46:    Energy =   0.0587
Level     0,  Iter    47:    Energy =   0.0589
Level     0,  Iter    48:    Energy =   0.0587
Level     0,  Iter    49:    Energy =   0.0589
Level     0,  Iter    50:    Energy =   0.0587
Level     0,  Iter    51:    Energy =   0.0589
Level     0,  Iter    52:    Energy =   0.0587
Level     0,  Iter    53:    Energy =   0.0589
Level     0,  Iter    54:    Energy =   0.0587
Level     0,  Iter    55:    Energy =   0.0589
Level     0,  Iter    56:    Energy =   0.0587
Level     0,  Iter    57:    Energy =   0.0588
Level     0,  Iter    58:    Energy =   0.0587
Level     0,  Iter    59:    Energy =   0.0588
END OF LEVEL     0    DetJac Range:   0.4559  to   1.6712 
  Avg. Gradient Time  : 0.0183s  36.94% 
  Avg. Gaussian Time  : 0.0246s  49.69% 
  Avg. Iteration Time : 0.0496s 
LEVEL 2 of 4
  Smoothing sigmas: [4.55803, 4.55803, 3.46412], [1.86081, 1.86081, 1.41422]
Level     1,  Iter     0:    Energy =   0.0543
Level     1,  Iter     1:    Energy =   0.0570
Level     1,  Iter     2:    Energy =   0.0597
Level     1,  Iter     3:    Energy =   0.0617
Level     1,  Iter     4:    Energy =   0.0633
Level     1,  Iter     5:    Energy =   0.0647
Level     1,  Iter     6:    Energy =   0.0657
Level     1,  Iter     7:    Energy =   0.0663
Level     1,  Iter     8:    Energy =   0.0670
Level     1,  Iter     9:    Energy =   0.0678
Level     1,  Iter    10:    Energy =   0.0685
Level     1,  Iter    11:    Energy =   0.0691
Level     1,  Iter    12:    Energy =   0.0697
Level     1,  Iter    13:    Energy =   0.0699
Level     1,  Iter    14:    Energy =   0.0701
Level     1,  Iter    15:    Energy =   0.0703
Level     1,  Iter    16:    Energy =   0.0704
Level     1,  Iter    17:    Energy =   0.0705
Level     1,  Iter    18:    Energy =   0.0706
Level     1,  Iter    19:    Energy =   0.0707
Level     1,  Iter    20:    Energy =   0.0708
Level     1,  Iter    21:    Energy =   0.0709
Level     1,  Iter    22:    Energy =   0.0709
Level     1,  Iter    23:    Energy =   0.0709
Level     1,  Iter    24:    Energy =   0.0711
Level     1,  Iter    25:    Energy =   0.0710
Level     1,  Iter    26:    Energy =   0.0713
Level     1,  Iter    27:    Energy =   0.0711
Level     1,  Iter    28:    Energy =   0.0714
Level     1,  Iter    29:    Energy =   0.0712
Level     1,  Iter    30:    Energy =   0.0715
Level     1,  Iter    31:    Energy =   0.0713
Level     1,  Iter    32:    Energy =   0.0716
Level     1,  Iter    33:    Energy =   0.0713
Level     1,  Iter    34:    Energy =   0.0716
Level     1,  Iter    35:    Energy =   0.0714
Level     1,  Iter    36:    Energy =   0.0716
Level     1,  Iter    37:    Energy =   0.0714
Level     1,  Iter    38:    Energy =   0.0717
Level     1,  Iter    39:    Energy =   0.0715
Level     1,  Iter    40:    Energy =   0.0718
Level     1,  Iter    41:    Energy =   0.0715
Level     1,  Iter    42:    Energy =   0.0718
Level     1,  Iter    43:    Energy =   0.0716
Level     1,  Iter    44:    Energy =   0.0719
Level     1,  Iter    45:    Energy =   0.0717
Level     1,  Iter    46:    Energy =   0.0720
Level     1,  Iter    47:    Energy =   0.0717
Level     1,  Iter    48:    Energy =   0.0720
Level     1,  Iter    49:    Energy =   0.0718
Level     1,  Iter    50:    Energy =   0.0721
Level     1,  Iter    51:    Energy =   0.0718
Level     1,  Iter    52:    Energy =   0.0721
Level     1,  Iter    53:    Energy =   0.0718
Level     1,  Iter    54:    Energy =   0.0722
Level     1,  Iter    55:    Energy =   0.0718
Level     1,  Iter    56:    Energy =   0.0722
Level     1,  Iter    57:    Energy =   0.0719
Level     1,  Iter    58:    Energy =   0.0722
Level     1,  Iter    59:    Energy =   0.0719
END OF LEVEL     1    DetJac Range:   0.2014  to   2.9058 
  Avg. Gradient Time  : 0.1400s  37.72% 
  Avg. Gaussian Time  : 0.1908s  51.41% 
  Avg. Iteration Time : 0.3711s 
LEVEL 3 of 4
  Smoothing sigmas: [2.27901, 2.27901, 1.73206], [0.930404, 0.930404, 0.707111]
Level     2,  Iter     0:    Energy =   0.0530
Level     2,  Iter     1:    Energy =   0.0548
Level     2,  Iter     2:    Energy =   0.0567
Level     2,  Iter     3:    Energy =   0.0583
Level     2,  Iter     4:    Energy =   0.0598
Level     2,  Iter     5:    Energy =   0.0611
Level     2,  Iter     6:    Energy =   0.0622
Level     2,  Iter     7:    Energy =   0.0630
Level     2,  Iter     8:    Energy =   0.0639
Level     2,  Iter     9:    Energy =   0.0646
Level     2,  Iter    10:    Energy =   0.0651
Level     2,  Iter    11:    Energy =   0.0655
Level     2,  Iter    12:    Energy =   0.0655
Level     2,  Iter    13:    Energy =   0.0657
Level     2,  Iter    14:    Energy =   0.0657
Level     2,  Iter    15:    Energy =   0.0658
Level     2,  Iter    16:    Energy =   0.0658
Level     2,  Iter    17:    Energy =   0.0660
Level     2,  Iter    18:    Energy =   0.0660
Level     2,  Iter    19:    Energy =   0.0662
END OF LEVEL     2    DetJac Range:   0.1035  to   4.9615 
  Avg. Gradient Time  : 1.2052s  33.72% 
  Avg. Gaussian Time  : 2.0686s  57.88% 
  Avg. Iteration Time : 3.5738s 
LEVEL 4 of 4
  Smoothing sigmas: [1.13951, 1.13951, 0.866031], [0.465202, 0.465202, 0.353556]

real	6m33.331s
user	11m49.460s
sys	0m17.924s
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.9
+ local PROGRESS=0.9
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.9'
CHUNK 0 0.2 0.9
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.9
====================================
         PROGRESS: 0               
====================================
+ greedy -d 3 -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/reslice_mprage_to_template.nii.gz -rf /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
Executing with the default number of threads: 24
+ greedy -d 3 -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/reslice_tse_to_template.nii.gz -rf /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
Executing with the default number of threads: 24
+ ashs_reslice_to_template /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 /home/ccn30/ENCRYPT/atlases/utrechtatlas
+ local ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local ATLAS=/home/ccn30/ENCRYPT/atlases/utrechtatlas
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ local side
+ for side in '$SIDES'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ [[ -n '' ]]
+ REFSPACE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_left.nii.gz
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_left.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
Executing with the default number of threads: 24
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_left.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
Executing with the default number of threads: 24
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz -verbose -pim r -thresh 0.001% inf 1 0 -erode 0 4x4x4 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_left.nii.gz -times -type uchar -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
Intensity range spec 1e-05 maps to 0.01085
Thresholding #1
  Mapping range [0.01085, inf] to 1
  Values outside are mapped to 0
Applying erosion to #1
  Foreground value :    0
  Ball radius      :    [4, 4, 4]
Reading #2 from /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_left.nii.gz
Adding #1 and 0
Writing #1 to file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
  Output voxel type: uchar[h]
  Rounding off: Enabled
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz /tmp/ashs.s0GFur1z/natmask.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
Executing with the default number of threads: 24
+ c3d /tmp/ashs.s0GFur1z/natmask.nii.gz -thresh 0.5 inf 1 0 -trim 0x0x2vox /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-identity -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/seg_left.nii.gz ]]
+ for side in '$SIDES'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ [[ -n '' ]]
+ REFSPACE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_right.nii.gz
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_right.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
Executing with the default number of threads: 24
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_right.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
Executing with the default number of threads: 24
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz -verbose -pim r -thresh 0.001% inf 1 0 -erode 0 4x4x4 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_right.nii.gz -times -type uchar -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
Intensity range spec 1e-05 maps to 0.01284
Thresholding #1
  Mapping range [0.01284, inf] to 1
  Values outside are mapped to 0
Applying erosion to #1
  Foreground value :    0
  Ball radius      :    [4, 4, 4]
Reading #2 from /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_right.nii.gz
Adding #1 and 0
Writing #1 to file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
  Output voxel type: uchar[h]
  Rounding off: Enabled
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz /tmp/ashs.s0GFur1z/natmask.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
Executing with the default number of threads: 24
+ c3d /tmp/ashs.s0GFur1z/natmask.nii.gz -thresh 0.5 inf 1 0 -trim 0x0x2vox /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-identity -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/seg_right.nii.gz ]]
+ [[ -f '' ]]
+ [[ -n '' ]]
+ for side in '$SIDES'
+ ashs_registration_qc left
+ local side=left
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local TEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_mprage_left.nii.gz
+ local TEMPSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_meanseg_left.nii.gz
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_meanseg_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_mprage_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.s0GFur1z/cor_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.s0GFur1z/cor_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.s0GFur1z/cor_tse_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_meanseg_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_mprage_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.s0GFur1z/sag_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.s0GFur1z/sag_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.s0GFur1z/sag_tse_%02d.png
++ ls /tmp/ashs.s0GFur1z/cor_mprage_00.png /tmp/ashs.s0GFur1z/cor_mprage_01.png /tmp/ashs.s0GFur1z/cor_mprage_02.png /tmp/ashs.s0GFur1z/cor_mprage_03.png /tmp/ashs.s0GFur1z/cor_mprage_04.png /tmp/ashs.s0GFur1z/cor_temp_00.png /tmp/ashs.s0GFur1z/cor_temp_01.png /tmp/ashs.s0GFur1z/cor_temp_02.png /tmp/ashs.s0GFur1z/cor_temp_03.png /tmp/ashs.s0GFur1z/cor_temp_04.png /tmp/ashs.s0GFur1z/cor_tse_00.png /tmp/ashs.s0GFur1z/cor_tse_01.png /tmp/ashs.s0GFur1z/cor_tse_02.png /tmp/ashs.s0GFur1z/cor_tse_03.png /tmp/ashs.s0GFur1z/cor_tse_04.png /tmp/ashs.s0GFur1z/sag_mprage_00.png /tmp/ashs.s0GFur1z/sag_mprage_01.png /tmp/ashs.s0GFur1z/sag_temp_00.png /tmp/ashs.s0GFur1z/sag_temp_01.png /tmp/ashs.s0GFur1z/sag_tse_00.png /tmp/ashs.s0GFur1z/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/cor_mprage_00.png /tmp/ashs.s0GFur1z/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/cor_mprage_01.png /tmp/ashs.s0GFur1z/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/cor_mprage_02.png /tmp/ashs.s0GFur1z/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/cor_mprage_03.png /tmp/ashs.s0GFur1z/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/cor_mprage_04.png /tmp/ashs.s0GFur1z/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/cor_temp_00.png /tmp/ashs.s0GFur1z/cor_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/cor_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/cor_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/cor_temp_01.png /tmp/ashs.s0GFur1z/cor_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/cor_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/cor_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/cor_temp_02.png /tmp/ashs.s0GFur1z/cor_temp_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/cor_temp_02.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/cor_temp_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/cor_temp_03.png /tmp/ashs.s0GFur1z/cor_temp_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/cor_temp_03.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/cor_temp_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/cor_temp_04.png /tmp/ashs.s0GFur1z/cor_temp_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/cor_temp_04.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/cor_temp_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/cor_tse_00.png /tmp/ashs.s0GFur1z/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/cor_tse_01.png /tmp/ashs.s0GFur1z/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/cor_tse_02.png /tmp/ashs.s0GFur1z/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/cor_tse_03.png /tmp/ashs.s0GFur1z/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/cor_tse_04.png /tmp/ashs.s0GFur1z/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/sag_mprage_00.png /tmp/ashs.s0GFur1z/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/sag_mprage_01.png /tmp/ashs.s0GFur1z/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/sag_temp_00.png /tmp/ashs.s0GFur1z/sag_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/sag_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/sag_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/sag_temp_01.png /tmp/ashs.s0GFur1z/sag_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/sag_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/sag_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/sag_tse_00.png /tmp/ashs.s0GFur1z/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/sag_tse_01.png /tmp/ashs.s0GFur1z/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.s0GFur1z/cor_temp_00.png /tmp/ashs.s0GFur1z/cor_temp_01.png /tmp/ashs.s0GFur1z/cor_temp_02.png /tmp/ashs.s0GFur1z/cor_temp_03.png /tmp/ashs.s0GFur1z/cor_temp_04.png /tmp/ashs.s0GFur1z/sag_temp_00.png /tmp/ashs.s0GFur1z/sag_temp_01.png /tmp/ashs.s0GFur1z/cor_mprage_00.png /tmp/ashs.s0GFur1z/cor_mprage_01.png /tmp/ashs.s0GFur1z/cor_mprage_02.png /tmp/ashs.s0GFur1z/cor_mprage_03.png /tmp/ashs.s0GFur1z/cor_mprage_04.png /tmp/ashs.s0GFur1z/sag_mprage_00.png /tmp/ashs.s0GFur1z/sag_mprage_01.png /tmp/ashs.s0GFur1z/cor_tse_00.png /tmp/ashs.s0GFur1z/cor_tse_01.png /tmp/ashs.s0GFur1z/cor_tse_02.png /tmp/ashs.s0GFur1z/cor_tse_03.png /tmp/ashs.s0GFur1z/cor_tse_04.png /tmp/ashs.s0GFur1z/sag_tse_00.png /tmp/ashs.s0GFur1z/sag_tse_01.png /tmp/ashs.s0GFur1z/qa.png
+ convert /tmp/ashs.s0GFur1z/qa.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa
+ montage -label 27532:left /tmp/ashs.s0GFur1z/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/qa_registration_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Registration QC (left)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/qa_registration_left_qa.png
+ for side in '$SIDES'
+ ashs_registration_qc right
+ local side=right
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local TEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_mprage_right.nii.gz
+ local TEMPSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_meanseg_right.nii.gz
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_meanseg_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_mprage_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.s0GFur1z/cor_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.s0GFur1z/cor_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.s0GFur1z/cor_tse_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_meanseg_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/refspace_mprage_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.s0GFur1z/sag_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.s0GFur1z/sag_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.s0GFur1z/sag_tse_%02d.png
++ ls /tmp/ashs.s0GFur1z/cor_mprage_00.png /tmp/ashs.s0GFur1z/cor_mprage_01.png /tmp/ashs.s0GFur1z/cor_mprage_02.png /tmp/ashs.s0GFur1z/cor_mprage_03.png /tmp/ashs.s0GFur1z/cor_mprage_04.png /tmp/ashs.s0GFur1z/cor_temp_00.png /tmp/ashs.s0GFur1z/cor_temp_01.png /tmp/ashs.s0GFur1z/cor_temp_02.png /tmp/ashs.s0GFur1z/cor_temp_03.png /tmp/ashs.s0GFur1z/cor_temp_04.png /tmp/ashs.s0GFur1z/cor_tse_00.png /tmp/ashs.s0GFur1z/cor_tse_01.png /tmp/ashs.s0GFur1z/cor_tse_02.png /tmp/ashs.s0GFur1z/cor_tse_03.png /tmp/ashs.s0GFur1z/cor_tse_04.png /tmp/ashs.s0GFur1z/sag_mprage_00.png /tmp/ashs.s0GFur1z/sag_mprage_01.png /tmp/ashs.s0GFur1z/sag_temp_00.png /tmp/ashs.s0GFur1z/sag_temp_01.png /tmp/ashs.s0GFur1z/sag_tse_00.png /tmp/ashs.s0GFur1z/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/cor_mprage_00.png /tmp/ashs.s0GFur1z/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/cor_mprage_01.png /tmp/ashs.s0GFur1z/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/cor_mprage_02.png /tmp/ashs.s0GFur1z/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/cor_mprage_03.png /tmp/ashs.s0GFur1z/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/cor_mprage_04.png /tmp/ashs.s0GFur1z/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/cor_temp_00.png /tmp/ashs.s0GFur1z/cor_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/cor_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/cor_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/cor_temp_01.png /tmp/ashs.s0GFur1z/cor_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/cor_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/cor_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/cor_temp_02.png /tmp/ashs.s0GFur1z/cor_temp_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/cor_temp_02.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/cor_temp_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/cor_temp_03.png /tmp/ashs.s0GFur1z/cor_temp_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/cor_temp_03.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/cor_temp_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/cor_temp_04.png /tmp/ashs.s0GFur1z/cor_temp_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/cor_temp_04.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/cor_temp_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/cor_tse_00.png /tmp/ashs.s0GFur1z/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/cor_tse_01.png /tmp/ashs.s0GFur1z/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/cor_tse_02.png /tmp/ashs.s0GFur1z/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/cor_tse_03.png /tmp/ashs.s0GFur1z/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/cor_tse_04.png /tmp/ashs.s0GFur1z/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/sag_mprage_00.png /tmp/ashs.s0GFur1z/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/sag_mprage_01.png /tmp/ashs.s0GFur1z/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/sag_temp_00.png /tmp/ashs.s0GFur1z/sag_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/sag_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/sag_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/sag_temp_01.png /tmp/ashs.s0GFur1z/sag_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/sag_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/sag_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/sag_tse_00.png /tmp/ashs.s0GFur1z/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.s0GFur1z/sag_tse_01.png /tmp/ashs.s0GFur1z/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.s0GFur1z/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.s0GFur1z/cor_temp_00.png /tmp/ashs.s0GFur1z/cor_temp_01.png /tmp/ashs.s0GFur1z/cor_temp_02.png /tmp/ashs.s0GFur1z/cor_temp_03.png /tmp/ashs.s0GFur1z/cor_temp_04.png /tmp/ashs.s0GFur1z/sag_temp_00.png /tmp/ashs.s0GFur1z/sag_temp_01.png /tmp/ashs.s0GFur1z/cor_mprage_00.png /tmp/ashs.s0GFur1z/cor_mprage_01.png /tmp/ashs.s0GFur1z/cor_mprage_02.png /tmp/ashs.s0GFur1z/cor_mprage_03.png /tmp/ashs.s0GFur1z/cor_mprage_04.png /tmp/ashs.s0GFur1z/sag_mprage_00.png /tmp/ashs.s0GFur1z/sag_mprage_01.png /tmp/ashs.s0GFur1z/cor_tse_00.png /tmp/ashs.s0GFur1z/cor_tse_01.png /tmp/ashs.s0GFur1z/cor_tse_02.png /tmp/ashs.s0GFur1z/cor_tse_03.png /tmp/ashs.s0GFur1z/cor_tse_04.png /tmp/ashs.s0GFur1z/sag_tse_00.png /tmp/ashs.s0GFur1z/sag_tse_01.png /tmp/ashs.s0GFur1z/qa.png
+ convert /tmp/ashs.s0GFur1z/qa.png -bordercolor Black -border 1x1 /tmp/ashs.s0GFur1z/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa
+ montage -label 27532:right /tmp/ashs.s0GFur1z/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/qa_registration_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Registration QC (right)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/qa_registration_right_qa.png
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 1'
CHUNK 0 0.2 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 1
====================================
         PROGRESS: 0               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 1 successful
------------------------------------------------
[0m
****************************************
Starting stage 2: Initial ROI registration to all T2 atlases
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 2: Initial ROI registration to 
all T2 atlases
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=000
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 000
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train000
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train000
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left 000 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train000 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=left
+ local tid=000
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train000
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 000 left 0
+ local tid=000
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 000 0
+ set -e
+ local tid=000
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.789722
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3763.77   GNORM= 678.78
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3849.528     273.740       0.000
   2    4     -3873.973     258.211       1.000
   3    5     -4004.332     268.714       1.000
   4    6     -4028.636     316.394       1.000
   5    7     -4063.717     155.387       1.000
   6    8     -4089.854      95.530       1.000
   7    9     -4105.615     138.538       1.000
   8   11     -4114.659     187.618       0.319
   9   12     -4129.239     119.404       1.000
  10   13     -4141.648      78.884       1.000
  11   14     -4148.049      67.687       1.000
  12   15     -4157.559      94.276       1.000
  13   16     -4159.547     114.419       1.000
  14   17     -4163.794      49.359       1.000
  15   18     -4165.160      36.112       1.000
  16   19     -4166.089      30.642       1.000
  17   20     -4167.656      26.961       1.000
  18   21     -4169.172      76.528       1.000
  19   22     -4170.845      48.908       1.000
  20   23     -4173.419      36.205       1.000
  21   24     -4173.713      23.991       1.000
  22   25     -4173.830      11.173       1.000
  23   26     -4173.916      15.413       1.000
  24   27     -4174.286      25.463       1.000
  25   28     -4174.472      30.019       1.000
  26   29     -4174.684      16.057       1.000
  27   30     -4174.813       7.978       1.000
  28   31     -4174.878      10.008       1.000
  29   33     -4174.900      10.333       0.371
  30   34     -4174.958      12.473       1.000
  31   35     -4175.019      12.108       1.000
  32   36     -4175.071      16.206       1.000
  33   38     -4175.117      11.817       0.410
  34   39     -4175.184       6.054       1.000
  35   40     -4175.245       4.814       1.000
  36   42     -4175.294      10.109       0.056
  37   43     -4175.316       8.974       1.000
  38   44     -4175.339       5.622       1.000
  39   45     -4175.371       4.371       1.000
  40   47     -4175.382       9.132       0.321
  41   48     -4175.392      10.752       1.000
  42   49     -4175.422       7.457       1.000
  43   50     -4175.452       4.615       1.000
  44   51     -4175.465      10.324       1.000
  45   52     -4175.478       6.878       1.000
  46   54     -4175.487       4.732       0.373
  47   55     -4175.492       3.260       1.000
  48   56     -4175.521       6.497       1.000
  49   58     -4175.569       7.712       5.000
  50   59     -4175.593       3.230       1.000
Final RAS Transform: 
0.986863 -0.0146552 -0.0469323 -0.739219 
-0.0188234 1.00374 0.0772099 -0.383263 
-0.028541 -0.00228106 1.0253 -0.931035 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2817.28   GNORM= 226.825
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2826.973      69.254       0.000
   2    4     -2828.728      60.562       1.000
   3    5     -2832.230      65.384       1.000
   4    6     -2835.950      73.914       1.000
   5    7     -2843.943      78.549       1.000
   6    8     -2847.317      63.368       1.000
   7    9     -2848.767      30.620       1.000
   8   10     -2849.373      18.005       1.000
   9   11     -2849.879      26.322       1.000
  10   12     -2850.506      31.065       1.000
  11   13     -2850.968      12.640       1.000
  12   14     -2851.050      14.759       1.000
  13   15     -2851.192      13.205       1.000
  14   16     -2851.744      11.516       1.000
  15   17     -2852.394      15.149       1.000
  16   18     -2852.811      48.152       1.000
  17   19     -2853.539      33.463       1.000
  18   20     -2854.799      41.097       1.000
  19   21     -2855.239      20.153       1.000
  20   22     -2855.445       7.080       1.000
  21   23     -2855.549       6.126       1.000
  22   24     -2855.778       8.558       1.000
  23   25     -2855.887      11.169       1.000
  24   27     -2855.948       4.637       0.522
  25   28     -2855.978       7.381       1.000
  26   29     -2856.020       9.024       1.000
  27   30     -2856.079       7.683       1.000
  28   31     -2856.129       8.149       1.000
  29   32     -2856.148       6.518       1.000
  30   33     -2856.167       3.746       1.000
  31   34     -2856.184       6.733       1.000
  32   35     -2856.201       6.084       1.000
  33   36     -2856.213       3.131       1.000
  34   37     -2856.221       2.256       1.000
  35   38     -2856.236       2.517       1.000
  36   39     -2856.307       6.471       1.000
  37   41     -2856.320       5.839       0.271
  38   42     -2856.345       4.682       1.000
  39   43     -2856.400       8.575       1.000
  40   44     -2856.404       4.927       1.000
  41   45     -2856.418       4.067       1.000
  42   46     -2856.431       7.002       1.000
  43   47     -2856.441       2.457       1.000
  44   48     -2856.460       2.961       1.000
  45   50     -2856.474       3.123       0.471
  46   52     -2856.480       6.637       0.194
  47   53     -2856.501       3.653       1.000
  48   54     -2856.510       2.681       1.000
  49   55     -2856.514       4.601       1.000
  50   56     -2856.525       5.414       1.000
  51   57     -2856.531       3.552       1.000
  52   58     -2856.537       2.760       1.000
Final RAS Transform: 
1.00389 -0.005522 -0.0531262 0.0643029 
-0.0189549 1.00714 0.0860173 -0.212036 
-0.0158291 -0.00647877 1.02231 -0.773943 
0 0 0 1 

Final RAS Transform: 
1.00389 -0.005522 -0.0531262 0.0643029 
-0.0189549 1.00714 0.0860173 -0.212036 
-0.0158291 -0.00647877 1.02231 -0.773943 
0 0 0 1 


real	0m10.521s
user	0m18.504s
sys	0m0.408s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.78356
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1222
Level     0,  Iter     1:    Energy =   0.1300
Level     0,  Iter     2:    Energy =   0.1365
Level     0,  Iter     3:    Energy =   0.1408
Level     0,  Iter     4:    Energy =   0.1433
Level     0,  Iter     5:    Energy =   0.1448
Level     0,  Iter     6:    Energy =   0.1465
Level     0,  Iter     7:    Energy =   0.1475
Level     0,  Iter     8:    Energy =   0.1488
Level     0,  Iter     9:    Energy =   0.1495
Level     0,  Iter    10:    Energy =   0.1506
Level     0,  Iter    11:    Energy =   0.1510
Level     0,  Iter    12:    Energy =   0.1518
Level     0,  Iter    13:    Energy =   0.1520
Level     0,  Iter    14:    Energy =   0.1525
Level     0,  Iter    15:    Energy =   0.1528
Level     0,  Iter    16:    Energy =   0.1531
Level     0,  Iter    17:    Energy =   0.1533
Level     0,  Iter    18:    Energy =   0.1535
Level     0,  Iter    19:    Energy =   0.1536
Level     0,  Iter    20:    Energy =   0.1538
Level     0,  Iter    21:    Energy =   0.1540
Level     0,  Iter    22:    Energy =   0.1541
Level     0,  Iter    23:    Energy =   0.1542
Level     0,  Iter    24:    Energy =   0.1544
Level     0,  Iter    25:    Energy =   0.1545
Level     0,  Iter    26:    Energy =   0.1546
Level     0,  Iter    27:    Energy =   0.1547
Level     0,  Iter    28:    Energy =   0.1548
Level     0,  Iter    29:    Energy =   0.1550
Level     0,  Iter    30:    Energy =   0.1551
Level     0,  Iter    31:    Energy =   0.1553
Level     0,  Iter    32:    Energy =   0.1553
Level     0,  Iter    33:    Energy =   0.1555
Level     0,  Iter    34:    Energy =   0.1557
Level     0,  Iter    35:    Energy =   0.1559
Level     0,  Iter    36:    Energy =   0.1560
Level     0,  Iter    37:    Energy =   0.1561
Level     0,  Iter    38:    Energy =   0.1561
Level     0,  Iter    39:    Energy =   0.1562
Level     0,  Iter    40:    Energy =   0.1562
Level     0,  Iter    41:    Energy =   0.1563
Level     0,  Iter    42:    Energy =   0.1562
Level     0,  Iter    43:    Energy =   0.1563
Level     0,  Iter    44:    Energy =   0.1563
Level     0,  Iter    45:    Energy =   0.1564
Level     0,  Iter    46:    Energy =   0.1564
Level     0,  Iter    47:    Energy =   0.1564
Level     0,  Iter    48:    Energy =   0.1564
Level     0,  Iter    49:    Energy =   0.1564
Level     0,  Iter    50:    Energy =   0.1564
Level     0,  Iter    51:    Energy =   0.1564
Level     0,  Iter    52:    Energy =   0.1564
Level     0,  Iter    53:    Energy =   0.1565
Level     0,  Iter    54:    Energy =   0.1564
Level     0,  Iter    55:    Energy =   0.1564
Level     0,  Iter    56:    Energy =   0.1564
Level     0,  Iter    57:    Energy =   0.1565
Level     0,  Iter    58:    Energy =   0.1564
Level     0,  Iter    59:    Energy =   0.1565
END OF LEVEL     0    DetJac Range:   0.3540  to   1.8873 
  Avg. Gradient Time  : 0.0079s  34.62% 
  Avg. Gaussian Time  : 0.0113s  49.27% 
  Avg. Iteration Time : 0.0229s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.1010
Level     1,  Iter     1:    Energy =   0.1070
Level     1,  Iter     2:    Energy =   0.1118
Level     1,  Iter     3:    Energy =   0.1153
Level     1,  Iter     4:    Energy =   0.1180
Level     1,  Iter     5:    Energy =   0.1200
Level     1,  Iter     6:    Energy =   0.1223
Level     1,  Iter     7:    Energy =   0.1247
Level     1,  Iter     8:    Energy =   0.1256
Level     1,  Iter     9:    Energy =   0.1269
Level     1,  Iter    10:    Energy =   0.1282
Level     1,  Iter    11:    Energy =   0.1287
Level     1,  Iter    12:    Energy =   0.1290
Level     1,  Iter    13:    Energy =   0.1291
Level     1,  Iter    14:    Energy =   0.1296
Level     1,  Iter    15:    Energy =   0.1296
Level     1,  Iter    16:    Energy =   0.1305
Level     1,  Iter    17:    Energy =   0.1303
Level     1,  Iter    18:    Energy =   0.1313
Level     1,  Iter    19:    Energy =   0.1311
Level     1,  Iter    20:    Energy =   0.1315
Level     1,  Iter    21:    Energy =   0.1317
Level     1,  Iter    22:    Energy =   0.1319
Level     1,  Iter    23:    Energy =   0.1317
Level     1,  Iter    24:    Energy =   0.1324
Level     1,  Iter    25:    Energy =   0.1321
Level     1,  Iter    26:    Energy =   0.1328
Level     1,  Iter    27:    Energy =   0.1324
Level     1,  Iter    28:    Energy =   0.1332
Level     1,  Iter    29:    Energy =   0.1328
Level     1,  Iter    30:    Energy =   0.1335
Level     1,  Iter    31:    Energy =   0.1331
Level     1,  Iter    32:    Energy =   0.1338
Level     1,  Iter    33:    Energy =   0.1333
Level     1,  Iter    34:    Energy =   0.1340
Level     1,  Iter    35:    Energy =   0.1335
Level     1,  Iter    36:    Energy =   0.1342
Level     1,  Iter    37:    Energy =   0.1337
Level     1,  Iter    38:    Energy =   0.1343
Level     1,  Iter    39:    Energy =   0.1339
Level     1,  Iter    40:    Energy =   0.1344
Level     1,  Iter    41:    Energy =   0.1340
Level     1,  Iter    42:    Energy =   0.1345
Level     1,  Iter    43:    Energy =   0.1341
Level     1,  Iter    44:    Energy =   0.1343
Level     1,  Iter    45:    Energy =   0.1340
Level     1,  Iter    46:    Energy =   0.1341
Level     1,  Iter    47:    Energy =   0.1339
Level     1,  Iter    48:    Energy =   0.1338
Level     1,  Iter    49:    Energy =   0.1337
Level     1,  Iter    50:    Energy =   0.1337
Level     1,  Iter    51:    Energy =   0.1336
Level     1,  Iter    52:    Energy =   0.1337
Level     1,  Iter    53:    Energy =   0.1335
Level     1,  Iter    54:    Energy =   0.1337
Level     1,  Iter    55:    Energy =   0.1335
Level     1,  Iter    56:    Energy =   0.1338
Level     1,  Iter    57:    Energy =   0.1336
Level     1,  Iter    58:    Energy =   0.1337
Level     1,  Iter    59:    Energy =   0.1336
END OF LEVEL     1    DetJac Range:   0.0964  to   3.3596 
  Avg. Gradient Time  : 0.0463s  32.81% 
  Avg. Gaussian Time  : 0.0763s  54.05% 
  Avg. Iteration Time : 0.1412s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0662
Level     2,  Iter     1:    Energy =   0.0688
Level     2,  Iter     2:    Energy =   0.0717
Level     2,  Iter     3:    Energy =   0.0746
Level     2,  Iter     4:    Energy =   0.0769
Level     2,  Iter     5:    Energy =   0.0788
Level     2,  Iter     6:    Energy =   0.0803
Level     2,  Iter     7:    Energy =   0.0814
Level     2,  Iter     8:    Energy =   0.0822
Level     2,  Iter     9:    Energy =   0.0828
Level     2,  Iter    10:    Energy =   0.0832
Level     2,  Iter    11:    Energy =   0.0836
Level     2,  Iter    12:    Energy =   0.0838
Level     2,  Iter    13:    Energy =   0.0841
Level     2,  Iter    14:    Energy =   0.0844
Level     2,  Iter    15:    Energy =   0.0847
Level     2,  Iter    16:    Energy =   0.0851
Level     2,  Iter    17:    Energy =   0.0854
Level     2,  Iter    18:    Energy =   0.0857
Level     2,  Iter    19:    Energy =   0.0861
END OF LEVEL     2    DetJac Range:   0.0441  to   4.1764 
  Avg. Gradient Time  : 0.3303s  30.66% 
  Avg. Gaussian Time  : 0.5984s  55.53% 
  Avg. Iteration Time : 1.0775s 

real	0m36.699s
user	1m7.200s
sys	0m1.396s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=0 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=0 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.2 0.205769
+ echo 'CHUNK 0.2 0.205769 1'
CHUNK 0.2 0.205769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.2 0.205769 1
====================================
         PROGRESS: 0.2               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=001
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 001
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train001
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train001
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left 001 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train001 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=left
+ local tid=001
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train001
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 001 left 0
+ local tid=001
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 001 0
+ set -e
+ local tid=001
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.744224
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4126.26   GNORM= 753.396
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4257.006     449.837       0.000
   2    4     -4316.285     366.283       1.000
   3    5     -4392.986     211.140       1.000
   4    6     -4416.640     166.096       1.000
   5    7     -4449.026     203.799       1.000
   6    8     -4470.210      85.997       1.000
   7    9     -4476.636     127.932       1.000
   8   10     -4482.898      67.648       1.000
   9   11     -4488.804      57.124       1.000
  10   13     -4491.889      78.294       0.379
  11   14     -4495.874      55.796       1.000
  12   15     -4500.411      60.326       1.000
  13   16     -4502.669     105.430       1.000
  14   17     -4506.176      52.359       1.000
  15   18     -4506.947      28.524       1.000
  16   19     -4507.494      29.549       1.000
  17   21     -4509.070      33.064       0.441
  18   22     -4510.367     123.319       1.000
  19   23     -4512.468      48.808       1.000
  20   24     -4513.174      17.397       1.000
  21   25     -4513.329      28.317       1.000
  22   26     -4513.565      19.840       1.000
  23   27     -4514.005      16.931       1.000
  24   28     -4514.755      46.693       1.000
  25   29     -4515.105      17.783       1.000
  26   30     -4515.229      13.324       1.000
  27   31     -4515.313      12.089       1.000
  28   32     -4515.430      11.773       1.000
  29   33     -4515.475      10.931       1.000
  30   34     -4515.489      13.156       1.000
  31   35     -4515.574       9.295       1.000
  32   36     -4515.644      12.801       1.000
  33   37     -4515.690       6.999       1.000
  34   38     -4515.763       9.658       1.000
  35   39     -4515.801      19.495       1.000
  36   40     -4515.839       6.023       1.000
  37   41     -4515.842       6.809       1.000
  38   42     -4515.850       5.557       1.000
  39   43     -4515.857       5.591       1.000
  40   44     -4515.859       3.895       1.000
  41   45     -4515.859       5.955       1.000
  42   46     -4515.868       3.735       1.000
  43   47     -4515.879       4.047       1.000
  44   48     -4515.882       3.859       1.000
  45   49     -4515.892       5.240       1.000
  46   50     -4515.904       6.388       1.000
  47   52     -4515.905       7.664       0.140
  48   53     -4515.912       3.215       1.000
  49   55     -4515.916       4.255       0.312
Final RAS Transform: 
0.982611 0.00329288 0.0144984 -0.071626 
-0.0119435 0.998827 0.0710467 -0.343562 
-0.0133256 -0.00546344 1.01213 -0.475561 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3012.88   GNORM= 260.441
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3026.254      95.030       0.000
   2    4     -3029.807      83.204       1.000
   3    5     -3035.133      88.182       1.000
   4    6     -3042.522     104.897       1.000
   5    7     -3053.575      92.556       1.000
   6    8     -3055.134     130.939       1.000
   7    9     -3059.559      35.491       1.000
   8   10     -3060.403      24.223       1.000
   9   11     -3061.945      41.050       1.000
  10   12     -3062.623      76.186       1.000
  11   13     -3064.031      24.599       1.000
  12   14     -3064.311      11.992       1.000
  13   15     -3064.396      10.924       1.000
  14   16     -3064.799      17.900       1.000
  15   17     -3065.450      38.860       1.000
  16   18     -3066.772      37.148       1.000
  17   20     -3067.010      62.533       0.091
  18   21     -3068.096      33.962       1.000
  19   22     -3068.515      16.121       1.000
  20   23     -3068.677       9.857       1.000
  21   24     -3068.717       8.939       1.000
  22   25     -3068.801      10.423       1.000
  23   26     -3068.907      12.814       1.000
  24   27     -3069.042      19.265       1.000
  25   28     -3069.314       7.931       1.000
  26   29     -3069.462      15.485       1.000
  27   30     -3069.591      13.335       1.000
  28   32     -3069.633       7.994       0.412
  29   33     -3069.659       4.951       1.000
  30   34     -3069.678       8.698       1.000
  31   35     -3069.695       6.603       1.000
  32   37     -3069.710       5.210       0.110
  33   38     -3069.720       6.244       1.000
  34   39     -3069.757       9.662       1.000
  35   40     -3069.822       7.469       1.000
  36   41     -3069.855       7.454       1.000
  37   42     -3069.876       7.306       1.000
  38   43     -3069.894       4.275       1.000
  39   44     -3069.913       2.608       1.000
  40   45     -3069.932      11.021       1.000
  41   46     -3069.964      11.760       1.000
  42   47     -3069.995       5.402       1.000
  43   48     -3070.036       2.380       1.000
  44   49     -3070.058       3.418       1.000
  45   50     -3070.087       2.519       1.000
  46   51     -3070.125       3.523       1.000
  47   53     -3070.128       3.899       0.067
  48   54     -3070.136       5.378       1.000
  49   55     -3070.149       2.849       1.000
  50   56     -3070.163       2.553       1.000
  51   58     -3070.168       4.749       0.223
  52   59     -3070.173       3.436       1.000
  53   60     -3070.210       3.510       1.000
Final RAS Transform: 
0.991748 0.00415563 -0.00785835 -0.04851 
-0.0261518 1.00761 0.0734086 -0.520509 
-0.00422592 0.00163215 0.996339 -0.298368 
0 0 0 1 

Final RAS Transform: 
0.991748 0.00415563 -0.00785835 -0.04851 
-0.0261518 1.00761 0.0734086 -0.520509 
-0.00422592 0.00163215 0.996339 -0.298368 
0 0 0 1 


real	0m10.498s
user	0m18.412s
sys	0m0.484s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.741317
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1305
Level     0,  Iter     1:    Energy =   0.1387
Level     0,  Iter     2:    Energy =   0.1438
Level     0,  Iter     3:    Energy =   0.1482
Level     0,  Iter     4:    Energy =   0.1516
Level     0,  Iter     5:    Energy =   0.1537
Level     0,  Iter     6:    Energy =   0.1548
Level     0,  Iter     7:    Energy =   0.1557
Level     0,  Iter     8:    Energy =   0.1560
Level     0,  Iter     9:    Energy =   0.1566
Level     0,  Iter    10:    Energy =   0.1568
Level     0,  Iter    11:    Energy =   0.1570
Level     0,  Iter    12:    Energy =   0.1572
Level     0,  Iter    13:    Energy =   0.1574
Level     0,  Iter    14:    Energy =   0.1575
Level     0,  Iter    15:    Energy =   0.1577
Level     0,  Iter    16:    Energy =   0.1579
Level     0,  Iter    17:    Energy =   0.1579
Level     0,  Iter    18:    Energy =   0.1583
Level     0,  Iter    19:    Energy =   0.1584
Level     0,  Iter    20:    Energy =   0.1587
Level     0,  Iter    21:    Energy =   0.1587
Level     0,  Iter    22:    Energy =   0.1590
Level     0,  Iter    23:    Energy =   0.1590
Level     0,  Iter    24:    Energy =   0.1593
Level     0,  Iter    25:    Energy =   0.1592
Level     0,  Iter    26:    Energy =   0.1594
Level     0,  Iter    27:    Energy =   0.1593
Level     0,  Iter    28:    Energy =   0.1596
Level     0,  Iter    29:    Energy =   0.1595
Level     0,  Iter    30:    Energy =   0.1597
Level     0,  Iter    31:    Energy =   0.1594
Level     0,  Iter    32:    Energy =   0.1598
Level     0,  Iter    33:    Energy =   0.1596
Level     0,  Iter    34:    Energy =   0.1598
Level     0,  Iter    35:    Energy =   0.1596
Level     0,  Iter    36:    Energy =   0.1599
Level     0,  Iter    37:    Energy =   0.1597
Level     0,  Iter    38:    Energy =   0.1599
Level     0,  Iter    39:    Energy =   0.1598
Level     0,  Iter    40:    Energy =   0.1600
Level     0,  Iter    41:    Energy =   0.1598
Level     0,  Iter    42:    Energy =   0.1601
Level     0,  Iter    43:    Energy =   0.1599
Level     0,  Iter    44:    Energy =   0.1601
Level     0,  Iter    45:    Energy =   0.1600
Level     0,  Iter    46:    Energy =   0.1602
Level     0,  Iter    47:    Energy =   0.1601
Level     0,  Iter    48:    Energy =   0.1603
Level     0,  Iter    49:    Energy =   0.1601
Level     0,  Iter    50:    Energy =   0.1603
Level     0,  Iter    51:    Energy =   0.1601
Level     0,  Iter    52:    Energy =   0.1604
Level     0,  Iter    53:    Energy =   0.1601
Level     0,  Iter    54:    Energy =   0.1605
Level     0,  Iter    55:    Energy =   0.1603
Level     0,  Iter    56:    Energy =   0.1605
Level     0,  Iter    57:    Energy =   0.1602
Level     0,  Iter    58:    Energy =   0.1606
Level     0,  Iter    59:    Energy =   0.1603
END OF LEVEL     0    DetJac Range:   0.2990  to   2.0625 
  Avg. Gradient Time  : 0.0079s  34.61% 
  Avg. Gaussian Time  : 0.0113s  49.33% 
  Avg. Iteration Time : 0.0229s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.1060
Level     1,  Iter     1:    Energy =   0.1118
Level     1,  Iter     2:    Energy =   0.1164
Level     1,  Iter     3:    Energy =   0.1202
Level     1,  Iter     4:    Energy =   0.1233
Level     1,  Iter     5:    Energy =   0.1265
Level     1,  Iter     6:    Energy =   0.1287
Level     1,  Iter     7:    Energy =   0.1302
Level     1,  Iter     8:    Energy =   0.1313
Level     1,  Iter     9:    Energy =   0.1324
Level     1,  Iter    10:    Energy =   0.1335
Level     1,  Iter    11:    Energy =   0.1346
Level     1,  Iter    12:    Energy =   0.1355
Level     1,  Iter    13:    Energy =   0.1357
Level     1,  Iter    14:    Energy =   0.1360
Level     1,  Iter    15:    Energy =   0.1360
Level     1,  Iter    16:    Energy =   0.1366
Level     1,  Iter    17:    Energy =   0.1365
Level     1,  Iter    18:    Energy =   0.1366
Level     1,  Iter    19:    Energy =   0.1369
Level     1,  Iter    20:    Energy =   0.1367
Level     1,  Iter    21:    Energy =   0.1376
Level     1,  Iter    22:    Energy =   0.1372
Level     1,  Iter    23:    Energy =   0.1382
Level     1,  Iter    24:    Energy =   0.1378
Level     1,  Iter    25:    Energy =   0.1383
Level     1,  Iter    26:    Energy =   0.1380
Level     1,  Iter    27:    Energy =   0.1386
Level     1,  Iter    28:    Energy =   0.1381
Level     1,  Iter    29:    Energy =   0.1388
Level     1,  Iter    30:    Energy =   0.1383
Level     1,  Iter    31:    Energy =   0.1390
Level     1,  Iter    32:    Energy =   0.1386
Level     1,  Iter    33:    Energy =   0.1392
Level     1,  Iter    34:    Energy =   0.1387
Level     1,  Iter    35:    Energy =   0.1395
Level     1,  Iter    36:    Energy =   0.1390
Level     1,  Iter    37:    Energy =   0.1397
Level     1,  Iter    38:    Energy =   0.1392
Level     1,  Iter    39:    Energy =   0.1399
Level     1,  Iter    40:    Energy =   0.1394
Level     1,  Iter    41:    Energy =   0.1398
Level     1,  Iter    42:    Energy =   0.1393
Level     1,  Iter    43:    Energy =   0.1399
Level     1,  Iter    44:    Energy =   0.1394
Level     1,  Iter    45:    Energy =   0.1400
Level     1,  Iter    46:    Energy =   0.1395
Level     1,  Iter    47:    Energy =   0.1403
Level     1,  Iter    48:    Energy =   0.1398
Level     1,  Iter    49:    Energy =   0.1402
Level     1,  Iter    50:    Energy =   0.1397
Level     1,  Iter    51:    Energy =   0.1404
Level     1,  Iter    52:    Energy =   0.1398
Level     1,  Iter    53:    Energy =   0.1404
Level     1,  Iter    54:    Energy =   0.1399
Level     1,  Iter    55:    Energy =   0.1405
Level     1,  Iter    56:    Energy =   0.1400
Level     1,  Iter    57:    Energy =   0.1404
Level     1,  Iter    58:    Energy =   0.1399
Level     1,  Iter    59:    Energy =   0.1406
END OF LEVEL     1    DetJac Range:   0.1564  to   4.0378 
  Avg. Gradient Time  : 0.0462s  32.78% 
  Avg. Gaussian Time  : 0.0761s  54.04% 
  Avg. Iteration Time : 0.1409s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0706
Level     2,  Iter     1:    Energy =   0.0735
Level     2,  Iter     2:    Energy =   0.0762
Level     2,  Iter     3:    Energy =   0.0785
Level     2,  Iter     4:    Energy =   0.0800
Level     2,  Iter     5:    Energy =   0.0813
Level     2,  Iter     6:    Energy =   0.0824
Level     2,  Iter     7:    Energy =   0.0836
Level     2,  Iter     8:    Energy =   0.0846
Level     2,  Iter     9:    Energy =   0.0858
Level     2,  Iter    10:    Energy =   0.0871
Level     2,  Iter    11:    Energy =   0.0883
Level     2,  Iter    12:    Energy =   0.0892
Level     2,  Iter    13:    Energy =   0.0899
Level     2,  Iter    14:    Energy =   0.0906
Level     2,  Iter    15:    Energy =   0.0911
Level     2,  Iter    16:    Energy =   0.0916
Level     2,  Iter    17:    Energy =   0.0920
Level     2,  Iter    18:    Energy =   0.0924
Level     2,  Iter    19:    Energy =   0.0928
END OF LEVEL     2    DetJac Range:   0.0605  to   6.4034 
  Avg. Gradient Time  : 0.3306s  30.68% 
  Avg. Gaussian Time  : 0.5979s  55.49% 
  Avg. Iteration Time : 1.0775s 

real	0m36.721s
user	1m7.116s
sys	0m1.496s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=1 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=1 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.205769 0.211538
+ echo 'CHUNK 0.205769 0.211538 1'
CHUNK 0.205769 0.211538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.205769 0.211538 1
====================================
         PROGRESS: 0.205769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=002
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 002
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train002
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train002
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left 002 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train002 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=left
+ local tid=002
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train002
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 002 left 0
+ local tid=002
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 002 0
+ set -e
+ local tid=002
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.546432
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3821.13   GNORM= 432.731
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3885.028     376.706       0.001
   2    4     -3928.327     256.334       1.000
   3    5     -3970.242     125.945       1.000
   4    6     -3984.124     121.205       1.000
   5    7     -4035.673     130.667       1.000
   6    8     -4052.271     102.670       1.000
   7    9     -4058.465      53.917       1.000
   8   10     -4062.783      47.110       1.000
   9   11     -4065.422      66.348       1.000
  10   12     -4070.400      75.911       1.000
  11   13     -4078.623      61.828       1.000
  12   14     -4082.394      30.657       1.000
  13   15     -4084.305      22.007       1.000
  14   16     -4085.518      22.931       1.000
  15   18     -4085.815      22.664       0.293
  16   19     -4086.095      35.571       1.000
  17   20     -4086.257      23.352       1.000
  18   21     -4086.397       8.279       1.000
  19   22     -4086.458       9.625       1.000
  20   23     -4086.515      15.066       1.000
  21   25     -4086.938      12.324       5.000
  22   26     -4087.006      16.513       1.000
  23   27     -4087.237      11.774       1.000
  24   28     -4087.357       6.059       1.000
  25   29     -4087.435       7.239       1.000
  26   31     -4087.496      17.419       0.391
  27   32     -4087.550      22.001       1.000
  28   33     -4087.617       7.302       1.000
  29   34     -4087.630       5.330       1.000
  30   35     -4087.672       4.819       1.000
  31   36     -4087.701      14.759       1.000
  32   37     -4087.733       9.899       1.000
  33   38     -4087.768      12.673       1.000
  34   39     -4087.833      14.233       1.000
  35   40     -4087.908      19.384       1.000
  36   41     -4087.973       7.836       1.000
  37   42     -4087.990       5.051       1.000
  38   44     -4087.998       6.010       0.107
  39   45     -4088.010       4.765       1.000
  40   46     -4088.027       9.412       1.000
  41   47     -4088.051       3.494       1.000
  42   48     -4088.063       4.395       1.000
  43   49     -4088.092       4.706       1.000
  44   50     -4088.107       3.996       1.000
  45   52     -4088.127       7.403       0.403
  46   53     -4088.131       5.456       1.000
  47   54     -4088.143       2.883       1.000
  48   56     -4088.151       3.137       0.304
Final RAS Transform: 
0.980814 -0.031661 -0.0371166 -1.23134 
0.000917552 1.00261 0.0846103 -0.0443006 
0.00796923 -0.00430815 0.982056 0.231212 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2914.57   GNORM= 183.864
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2920.771      72.284       0.000
   2    4     -2922.563      67.074       1.000
   3    5     -2930.311      60.857       1.000
   4    6     -2936.961      76.928       1.000
   5    7     -2942.895      70.560       1.000
   6    8     -2950.014      39.888       1.000
   7   10     -2951.054      60.259       0.348
   8   11     -2952.321      50.766       1.000
   9   12     -2956.361      41.626       1.000
  10   13     -2959.326      33.384       1.000
  11   14     -2960.046      41.376       1.000
  12   15     -2960.940      18.924       1.000
  13   16     -2961.742      25.600       1.000
  14   17     -2962.768      51.688       1.000
  15   18     -2964.425      67.310       1.000
  16   19     -2966.918      59.533       1.000
  17   20     -2968.936      14.997       1.000
  18   21     -2969.336      26.936       1.000
  19   22     -2969.930      26.579       1.000
  20   23     -2970.225      33.589       1.000
  21   24     -2970.649      13.814       1.000
  22   25     -2970.698       7.730       1.000
  23   26     -2970.742       8.074       1.000
  24   27     -2970.780       5.497       1.000
  25   28     -2970.945       6.619       1.000
  26   29     -2971.168      12.033       1.000
  27   30     -2971.297      19.969       1.000
  28   31     -2971.474       9.650       1.000
  29   32     -2971.510      16.617       1.000
  30   33     -2971.552       2.264       1.000
  31   34     -2971.559       1.944       1.000
  32   36     -2971.563       3.676       0.466
  33   37     -2971.583       4.750       1.000
  34   38     -2971.591       3.729       1.000
  35   39     -2971.597       2.641       1.000
  36   41     -2971.601       1.945       0.307
  37   42     -2971.605       1.420       1.000
Final RAS Transform: 
0.999683 -0.0122852 -0.0188141 -0.139734 
-0.00365292 0.998849 0.0792601 -0.0586505 
0.00930929 0.0043202 1.00504 0.494046 
0 0 0 1 

Final RAS Transform: 
0.999683 -0.0122852 -0.0188141 -0.139734 
-0.00365292 0.998849 0.0792601 -0.0586505 
0.00930929 0.0043202 1.00504 0.494046 
0 0 0 1 


real	0m10.421s
user	0m18.260s
sys	0m0.496s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.553779
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1192
Level     0,  Iter     1:    Energy =   0.1251
Level     0,  Iter     2:    Energy =   0.1306
Level     0,  Iter     3:    Energy =   0.1359
Level     0,  Iter     4:    Energy =   0.1398
Level     0,  Iter     5:    Energy =   0.1429
Level     0,  Iter     6:    Energy =   0.1451
Level     0,  Iter     7:    Energy =   0.1463
Level     0,  Iter     8:    Energy =   0.1470
Level     0,  Iter     9:    Energy =   0.1478
Level     0,  Iter    10:    Energy =   0.1482
Level     0,  Iter    11:    Energy =   0.1488
Level     0,  Iter    12:    Energy =   0.1490
Level     0,  Iter    13:    Energy =   0.1496
Level     0,  Iter    14:    Energy =   0.1498
Level     0,  Iter    15:    Energy =   0.1504
Level     0,  Iter    16:    Energy =   0.1505
Level     0,  Iter    17:    Energy =   0.1511
Level     0,  Iter    18:    Energy =   0.1512
Level     0,  Iter    19:    Energy =   0.1517
Level     0,  Iter    20:    Energy =   0.1517
Level     0,  Iter    21:    Energy =   0.1521
Level     0,  Iter    22:    Energy =   0.1520
Level     0,  Iter    23:    Energy =   0.1524
Level     0,  Iter    24:    Energy =   0.1523
Level     0,  Iter    25:    Energy =   0.1525
Level     0,  Iter    26:    Energy =   0.1525
Level     0,  Iter    27:    Energy =   0.1527
Level     0,  Iter    28:    Energy =   0.1526
Level     0,  Iter    29:    Energy =   0.1528
Level     0,  Iter    30:    Energy =   0.1528
Level     0,  Iter    31:    Energy =   0.1529
Level     0,  Iter    32:    Energy =   0.1529
Level     0,  Iter    33:    Energy =   0.1531
Level     0,  Iter    34:    Energy =   0.1530
Level     0,  Iter    35:    Energy =   0.1531
Level     0,  Iter    36:    Energy =   0.1531
Level     0,  Iter    37:    Energy =   0.1533
Level     0,  Iter    38:    Energy =   0.1532
Level     0,  Iter    39:    Energy =   0.1533
Level     0,  Iter    40:    Energy =   0.1533
Level     0,  Iter    41:    Energy =   0.1534
Level     0,  Iter    42:    Energy =   0.1534
Level     0,  Iter    43:    Energy =   0.1534
Level     0,  Iter    44:    Energy =   0.1534
Level     0,  Iter    45:    Energy =   0.1535
Level     0,  Iter    46:    Energy =   0.1535
Level     0,  Iter    47:    Energy =   0.1535
Level     0,  Iter    48:    Energy =   0.1535
Level     0,  Iter    49:    Energy =   0.1536
Level     0,  Iter    50:    Energy =   0.1535
Level     0,  Iter    51:    Energy =   0.1536
Level     0,  Iter    52:    Energy =   0.1535
Level     0,  Iter    53:    Energy =   0.1537
Level     0,  Iter    54:    Energy =   0.1535
Level     0,  Iter    55:    Energy =   0.1536
Level     0,  Iter    56:    Energy =   0.1535
Level     0,  Iter    57:    Energy =   0.1537
Level     0,  Iter    58:    Energy =   0.1536
Level     0,  Iter    59:    Energy =   0.1536
END OF LEVEL     0    DetJac Range:   0.2146  to   1.8733 
  Avg. Gradient Time  : 0.0072s  35.15% 
  Avg. Gaussian Time  : 0.0101s  48.97% 
  Avg. Iteration Time : 0.0206s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.1018
Level     1,  Iter     1:    Energy =   0.1070
Level     1,  Iter     2:    Energy =   0.1111
Level     1,  Iter     3:    Energy =   0.1149
Level     1,  Iter     4:    Energy =   0.1177
Level     1,  Iter     5:    Energy =   0.1201
Level     1,  Iter     6:    Energy =   0.1218
Level     1,  Iter     7:    Energy =   0.1233
Level     1,  Iter     8:    Energy =   0.1246
Level     1,  Iter     9:    Energy =   0.1259
Level     1,  Iter    10:    Energy =   0.1272
Level     1,  Iter    11:    Energy =   0.1287
Level     1,  Iter    12:    Energy =   0.1298
Level     1,  Iter    13:    Energy =   0.1303
Level     1,  Iter    14:    Energy =   0.1306
Level     1,  Iter    15:    Energy =   0.1308
Level     1,  Iter    16:    Energy =   0.1310
Level     1,  Iter    17:    Energy =   0.1311
Level     1,  Iter    18:    Energy =   0.1313
Level     1,  Iter    19:    Energy =   0.1313
Level     1,  Iter    20:    Energy =   0.1317
Level     1,  Iter    21:    Energy =   0.1317
Level     1,  Iter    22:    Energy =   0.1320
Level     1,  Iter    23:    Energy =   0.1319
Level     1,  Iter    24:    Energy =   0.1324
Level     1,  Iter    25:    Energy =   0.1323
Level     1,  Iter    26:    Energy =   0.1327
Level     1,  Iter    27:    Energy =   0.1325
Level     1,  Iter    28:    Energy =   0.1329
Level     1,  Iter    29:    Energy =   0.1327
Level     1,  Iter    30:    Energy =   0.1330
Level     1,  Iter    31:    Energy =   0.1328
Level     1,  Iter    32:    Energy =   0.1333
Level     1,  Iter    33:    Energy =   0.1332
Level     1,  Iter    34:    Energy =   0.1334
Level     1,  Iter    35:    Energy =   0.1333
Level     1,  Iter    36:    Energy =   0.1337
Level     1,  Iter    37:    Energy =   0.1336
Level     1,  Iter    38:    Energy =   0.1339
Level     1,  Iter    39:    Energy =   0.1337
Level     1,  Iter    40:    Energy =   0.1340
Level     1,  Iter    41:    Energy =   0.1339
Level     1,  Iter    42:    Energy =   0.1342
Level     1,  Iter    43:    Energy =   0.1340
Level     1,  Iter    44:    Energy =   0.1344
Level     1,  Iter    45:    Energy =   0.1342
Level     1,  Iter    46:    Energy =   0.1345
Level     1,  Iter    47:    Energy =   0.1343
Level     1,  Iter    48:    Energy =   0.1347
Level     1,  Iter    49:    Energy =   0.1346
Level     1,  Iter    50:    Energy =   0.1348
Level     1,  Iter    51:    Energy =   0.1346
Level     1,  Iter    52:    Energy =   0.1350
Level     1,  Iter    53:    Energy =   0.1349
Level     1,  Iter    54:    Energy =   0.1349
Level     1,  Iter    55:    Energy =   0.1347
Level     1,  Iter    56:    Energy =   0.1350
Level     1,  Iter    57:    Energy =   0.1350
Level     1,  Iter    58:    Energy =   0.1350
Level     1,  Iter    59:    Energy =   0.1347
END OF LEVEL     1    DetJac Range:   0.0494  to   3.3048 
  Avg. Gradient Time  : 0.0402s  32.83% 
  Avg. Gaussian Time  : 0.0661s  54.01% 
  Avg. Iteration Time : 0.1224s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0713
Level     2,  Iter     1:    Energy =   0.0735
Level     2,  Iter     2:    Energy =   0.0760
Level     2,  Iter     3:    Energy =   0.0786
Level     2,  Iter     4:    Energy =   0.0807
Level     2,  Iter     5:    Energy =   0.0826
Level     2,  Iter     6:    Energy =   0.0841
Level     2,  Iter     7:    Energy =   0.0854
Level     2,  Iter     8:    Energy =   0.0864
Level     2,  Iter     9:    Energy =   0.0873
Level     2,  Iter    10:    Energy =   0.0882
Level     2,  Iter    11:    Energy =   0.0889
Level     2,  Iter    12:    Energy =   0.0896
Level     2,  Iter    13:    Energy =   0.0902
Level     2,  Iter    14:    Energy =   0.0908
Level     2,  Iter    15:    Energy =   0.0913
Level     2,  Iter    16:    Energy =   0.0918
Level     2,  Iter    17:    Energy =   0.0916
Level     2,  Iter    18:    Energy =   0.0921
Level     2,  Iter    19:    Energy =   0.0920
END OF LEVEL     2    DetJac Range:   0.0253  to   4.9011 
  Avg. Gradient Time  : 0.2930s  30.92% 
  Avg. Gaussian Time  : 0.5258s  55.49% 
  Avg. Iteration Time : 0.9476s 

real	0m32.167s
user	0m58.564s
sys	0m1.420s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=2 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=2 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.211538 0.217308
+ echo 'CHUNK 0.211538 0.217308 1'
CHUNK 0.211538 0.217308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.211538 0.217308 1
====================================
         PROGRESS: 0.211538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=003
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 003
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train003
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train003
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left 003 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train003 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=left
+ local tid=003
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train003
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 003 left 0
+ local tid=003
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 003 0
+ set -e
+ local tid=003
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.252747
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2906.77   GNORM= 625.522
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2997.945     171.129       0.000
   2    4     -3012.542     163.861       1.000
   3    5     -3061.153     237.413       1.000
   4    6     -3087.369     186.375       1.000
   5    7     -3136.952     212.644       1.000
   6    8     -3153.767     159.765       1.000
   7    9     -3169.025      69.305       1.000
   8   10     -3173.833      76.658       1.000
   9   11     -3182.711      79.036       1.000
  10   12     -3192.527      51.053       1.000
  11   13     -3205.237      63.481       1.000
  12   14     -3219.456     136.496       1.000
  13   15     -3232.512     123.703       1.000
  14   16     -3241.157      74.099       1.000
  15   17     -3242.605      78.888       1.000
  16   18     -3245.127      39.236       1.000
  17   19     -3247.282      29.628       1.000
  18   20     -3250.252      39.825       1.000
  19   22     -3251.203      60.634       0.348
  20   23     -3252.232      31.149       1.000
  21   24     -3252.747      22.180       1.000
  22   25     -3252.875       8.815       1.000
  23   26     -3252.917       7.893       1.000
  24   27     -3253.056      15.660       1.000
  25   28     -3253.387      16.070       1.000
  26   30     -3253.648      36.781       0.338
  27   31     -3253.998      34.462       1.000
  28   33     -3254.254      29.899       0.341
  29   34     -3254.506      12.672       1.000
  30   35     -3254.636      28.708       1.000
  31   36     -3254.744      11.502       1.000
  32   37     -3254.886      11.738       1.000
  33   38     -3255.067      12.360       1.000
  34   39     -3255.250      14.201       1.000
  35   40     -3255.362      16.582       1.000
  36   41     -3255.454       8.545       1.000
  37   42     -3255.486       7.633       1.000
  38   43     -3255.505       5.467       1.000
  39   45     -3255.528       8.893       0.303
  40   47     -3255.585      16.764       5.000
  41   48     -3255.658      11.298       1.000
  42   49     -3255.697       8.445       1.000
  43   50     -3255.722       7.220       1.000
  44   51     -3255.725       6.907       1.000
  45   52     -3255.731       3.995       1.000
  46   53     -3255.733       4.274       1.000
  47   54     -3255.734       2.307       1.000
  48   55     -3255.735       4.348       1.000
  49   56     -3255.740       4.075       1.000
  50   57     -3255.741       5.495       1.000
  51   58     -3255.756       3.580       1.000
  52   59     -3255.763       4.492       1.000
  53   60     -3255.773       4.096       1.000
  54   61     -3255.779       6.064       1.000
Final RAS Transform: 
0.917726 0.00271718 0.0267171 -2.30536 
-0.00350455 0.989816 0.0825215 -0.50656 
-0.0396077 0.00283117 0.982898 -1.44812 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2255.67   GNORM= 418.433
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2291.336      70.122       0.000
   2    4     -2292.859      47.466       1.000
   3    5     -2294.212      53.425       1.000
   4    6     -2296.367      50.700       1.000
   5    7     -2301.085      61.758       1.000
   6    8     -2306.043      57.932       1.000
   7   10     -2309.037      55.629       0.497
   8   11     -2311.537      31.305       1.000
   9   12     -2312.831      50.234       1.000
  10   13     -2314.126      28.781       1.000
  11   14     -2315.583      32.377       1.000
  12   15     -2316.713      21.686       1.000
  13   16     -2317.207      14.411       1.000
  14   17     -2317.759      20.262       1.000
  15   18     -2318.007      12.311       1.000
  16   19     -2318.731       9.009       1.000
  17   20     -2319.412      39.973       1.000
  18   21     -2319.721       9.060       1.000
  19   22     -2319.806       5.637       1.000
  20   24     -2320.026      18.140       5.000
  21   25     -2320.245       8.736       1.000
  22   26     -2320.378       6.916       1.000
  23   27     -2320.576      15.912       1.000
  24   29     -2320.754       9.675       0.389
  25   30     -2320.961      12.611       1.000
  26   31     -2321.143       9.771       1.000
  27   33     -2321.220       7.762       0.348
  28   34     -2321.277       5.266       1.000
  29   35     -2321.291       3.739       1.000
  30   36     -2321.321       3.763       1.000
  31   37     -2321.353      10.488       1.000
  32   38     -2321.417       5.633       1.000
  33   39     -2321.436      11.736       1.000
  34   40     -2321.469       6.727       1.000
  35   41     -2321.497       8.524       1.000
  36   42     -2321.560       8.673       1.000
  37   43     -2321.749       9.824       1.000
  38   44     -2321.933      12.899       1.000
  39   45     -2322.032      16.400       1.000
  40   47     -2322.147      11.558       0.169
  41   48     -2322.168      10.518       1.000
  42   49     -2322.216       5.913       1.000
  43   50     -2322.232       2.548       1.000
  44   51     -2322.249       2.750       1.000
  45   53     -2322.253       3.286       0.067
  46   54     -2322.263       8.417       1.000
  47   55     -2322.295       5.843       1.000
  48   56     -2322.336       3.943       1.000
  49   57     -2322.393       7.729       1.000
  50   58     -2322.435       7.868       1.000
  51   59     -2322.456       4.892       1.000
  52   60     -2322.483       7.113       1.000
  53   61     -2322.492       2.439       1.000
Final RAS Transform: 
0.938379 -0.00158731 0.00622767 -1.70904 
-0.00513283 1.00521 0.100113 -0.188036 
-0.0430147 0.00358721 0.992913 -1.58243 
0 0 0 1 

Final RAS Transform: 
0.938379 -0.00158731 0.00622767 -1.70904 
-0.00513283 1.00521 0.100113 -0.188036 
-0.0430147 0.00358721 0.992913 -1.58243 
0 0 0 1 


real	0m9.271s
user	0m16.312s
sys	0m0.396s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.250964
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0936
Level     0,  Iter     1:    Energy =   0.0996
Level     0,  Iter     2:    Energy =   0.1063
Level     0,  Iter     3:    Energy =   0.1121
Level     0,  Iter     4:    Energy =   0.1158
Level     0,  Iter     5:    Energy =   0.1189
Level     0,  Iter     6:    Energy =   0.1219
Level     0,  Iter     7:    Energy =   0.1226
Level     0,  Iter     8:    Energy =   0.1236
Level     0,  Iter     9:    Energy =   0.1240
Level     0,  Iter    10:    Energy =   0.1251
Level     0,  Iter    11:    Energy =   0.1253
Level     0,  Iter    12:    Energy =   0.1264
Level     0,  Iter    13:    Energy =   0.1266
Level     0,  Iter    14:    Energy =   0.1277
Level     0,  Iter    15:    Energy =   0.1277
Level     0,  Iter    16:    Energy =   0.1286
Level     0,  Iter    17:    Energy =   0.1286
Level     0,  Iter    18:    Energy =   0.1292
Level     0,  Iter    19:    Energy =   0.1291
Level     0,  Iter    20:    Energy =   0.1297
Level     0,  Iter    21:    Energy =   0.1296
Level     0,  Iter    22:    Energy =   0.1301
Level     0,  Iter    23:    Energy =   0.1300
Level     0,  Iter    24:    Energy =   0.1305
Level     0,  Iter    25:    Energy =   0.1304
Level     0,  Iter    26:    Energy =   0.1307
Level     0,  Iter    27:    Energy =   0.1306
Level     0,  Iter    28:    Energy =   0.1309
Level     0,  Iter    29:    Energy =   0.1308
Level     0,  Iter    30:    Energy =   0.1311
Level     0,  Iter    31:    Energy =   0.1309
Level     0,  Iter    32:    Energy =   0.1312
Level     0,  Iter    33:    Energy =   0.1310
Level     0,  Iter    34:    Energy =   0.1313
Level     0,  Iter    35:    Energy =   0.1312
Level     0,  Iter    36:    Energy =   0.1315
Level     0,  Iter    37:    Energy =   0.1313
Level     0,  Iter    38:    Energy =   0.1316
Level     0,  Iter    39:    Energy =   0.1314
Level     0,  Iter    40:    Energy =   0.1317
Level     0,  Iter    41:    Energy =   0.1315
Level     0,  Iter    42:    Energy =   0.1318
Level     0,  Iter    43:    Energy =   0.1316
Level     0,  Iter    44:    Energy =   0.1319
Level     0,  Iter    45:    Energy =   0.1317
Level     0,  Iter    46:    Energy =   0.1320
Level     0,  Iter    47:    Energy =   0.1318
Level     0,  Iter    48:    Energy =   0.1321
Level     0,  Iter    49:    Energy =   0.1320
Level     0,  Iter    50:    Energy =   0.1321
Level     0,  Iter    51:    Energy =   0.1319
Level     0,  Iter    52:    Energy =   0.1322
Level     0,  Iter    53:    Energy =   0.1320
Level     0,  Iter    54:    Energy =   0.1323
Level     0,  Iter    55:    Energy =   0.1321
Level     0,  Iter    56:    Energy =   0.1323
Level     0,  Iter    57:    Energy =   0.1321
Level     0,  Iter    58:    Energy =   0.1323
Level     0,  Iter    59:    Energy =   0.1321
END OF LEVEL     0    DetJac Range:   0.2001  to   2.0787 
  Avg. Gradient Time  : 0.0083s  35.14% 
  Avg. Gaussian Time  : 0.0115s  49.03% 
  Avg. Iteration Time : 0.0235s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0873
Level     1,  Iter     1:    Energy =   0.0924
Level     1,  Iter     2:    Energy =   0.0965
Level     1,  Iter     3:    Energy =   0.0994
Level     1,  Iter     4:    Energy =   0.1017
Level     1,  Iter     5:    Energy =   0.1042
Level     1,  Iter     6:    Energy =   0.1060
Level     1,  Iter     7:    Energy =   0.1075
Level     1,  Iter     8:    Energy =   0.1088
Level     1,  Iter     9:    Energy =   0.1097
Level     1,  Iter    10:    Energy =   0.1104
Level     1,  Iter    11:    Energy =   0.1113
Level     1,  Iter    12:    Energy =   0.1120
Level     1,  Iter    13:    Energy =   0.1126
Level     1,  Iter    14:    Energy =   0.1135
Level     1,  Iter    15:    Energy =   0.1142
Level     1,  Iter    16:    Energy =   0.1149
Level     1,  Iter    17:    Energy =   0.1153
Level     1,  Iter    18:    Energy =   0.1157
Level     1,  Iter    19:    Energy =   0.1158
Level     1,  Iter    20:    Energy =   0.1157
Level     1,  Iter    21:    Energy =   0.1158
Level     1,  Iter    22:    Energy =   0.1157
Level     1,  Iter    23:    Energy =   0.1159
Level     1,  Iter    24:    Energy =   0.1158
Level     1,  Iter    25:    Energy =   0.1161
Level     1,  Iter    26:    Energy =   0.1160
Level     1,  Iter    27:    Energy =   0.1163
Level     1,  Iter    28:    Energy =   0.1162
Level     1,  Iter    29:    Energy =   0.1165
Level     1,  Iter    30:    Energy =   0.1163
Level     1,  Iter    31:    Energy =   0.1167
Level     1,  Iter    32:    Energy =   0.1165
Level     1,  Iter    33:    Energy =   0.1168
Level     1,  Iter    34:    Energy =   0.1166
Level     1,  Iter    35:    Energy =   0.1169
Level     1,  Iter    36:    Energy =   0.1168
Level     1,  Iter    37:    Energy =   0.1169
Level     1,  Iter    38:    Energy =   0.1168
Level     1,  Iter    39:    Energy =   0.1169
Level     1,  Iter    40:    Energy =   0.1169
Level     1,  Iter    41:    Energy =   0.1170
Level     1,  Iter    42:    Energy =   0.1169
Level     1,  Iter    43:    Energy =   0.1170
Level     1,  Iter    44:    Energy =   0.1170
Level     1,  Iter    45:    Energy =   0.1170
Level     1,  Iter    46:    Energy =   0.1171
Level     1,  Iter    47:    Energy =   0.1170
Level     1,  Iter    48:    Energy =   0.1172
Level     1,  Iter    49:    Energy =   0.1170
Level     1,  Iter    50:    Energy =   0.1173
Level     1,  Iter    51:    Energy =   0.1171
Level     1,  Iter    52:    Energy =   0.1173
Level     1,  Iter    53:    Energy =   0.1171
Level     1,  Iter    54:    Energy =   0.1174
Level     1,  Iter    55:    Energy =   0.1171
Level     1,  Iter    56:    Energy =   0.1174
Level     1,  Iter    57:    Energy =   0.1172
Level     1,  Iter    58:    Energy =   0.1174
Level     1,  Iter    59:    Energy =   0.1172
END OF LEVEL     1    DetJac Range:   0.1084  to   3.5832 
  Avg. Gradient Time  : 0.0459s  32.81% 
  Avg. Gaussian Time  : 0.0755s  53.97% 
  Avg. Iteration Time : 0.1399s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0587
Level     2,  Iter     1:    Energy =   0.0609
Level     2,  Iter     2:    Energy =   0.0628
Level     2,  Iter     3:    Energy =   0.0647
Level     2,  Iter     4:    Energy =   0.0667
Level     2,  Iter     5:    Energy =   0.0686
Level     2,  Iter     6:    Energy =   0.0705
Level     2,  Iter     7:    Energy =   0.0721
Level     2,  Iter     8:    Energy =   0.0734
Level     2,  Iter     9:    Energy =   0.0745
Level     2,  Iter    10:    Energy =   0.0755
Level     2,  Iter    11:    Energy =   0.0764
Level     2,  Iter    12:    Energy =   0.0773
Level     2,  Iter    13:    Energy =   0.0780
Level     2,  Iter    14:    Energy =   0.0788
Level     2,  Iter    15:    Energy =   0.0795
Level     2,  Iter    16:    Energy =   0.0800
Level     2,  Iter    17:    Energy =   0.0805
Level     2,  Iter    18:    Energy =   0.0809
Level     2,  Iter    19:    Energy =   0.0809
END OF LEVEL     2    DetJac Range:   0.0557  to   5.0358 
  Avg. Gradient Time  : 0.3321s  30.78% 
  Avg. Gaussian Time  : 0.5982s  55.45% 
  Avg. Iteration Time : 1.0789s 

real	0m36.672s
user	1m7.036s
sys	0m1.440s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=3 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=3 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.217308 0.223077
+ echo 'CHUNK 0.217308 0.223077 1'
CHUNK 0.217308 0.223077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.217308 0.223077 1
====================================
         PROGRESS: 0.217308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=004
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 004
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train004
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train004
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left 004 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train004 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=left
+ local tid=004
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train004
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 004 left 0
+ local tid=004
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 004 0
+ set -e
+ local tid=004
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.623432
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3920.59   GNORM= 436.689
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -4056.380     414.245       0.002
   2    3     -4098.520     369.252       1.000
   3    4     -4122.023     103.662       1.000
   4    5     -4127.929     100.654       1.000
   5    6     -4167.890     152.367       1.000
   6    7     -4187.571      97.670       1.000
   7    8     -4197.403      97.750       1.000
   8    9     -4202.687      62.512       1.000
   9   10     -4207.833      58.597       1.000
  10   11     -4213.606      75.804       1.000
  11   12     -4216.441     122.336       1.000
  12   13     -4219.304      49.648       1.000
  13   14     -4220.711      38.594       1.000
  14   15     -4221.432      36.152       1.000
  15   16     -4223.335      33.285       1.000
  16   18     -4224.392      33.301       0.503
  17   19     -4225.220      41.360       1.000
  18   20     -4225.889      24.713       1.000
  19   21     -4226.357      32.968       1.000
  20   22     -4226.622      12.924       1.000
  21   23     -4226.690       8.031       1.000
  22   24     -4226.756       7.737       1.000
  23   26     -4226.882      15.835       0.512
  24   27     -4226.961       9.595       1.000
  25   28     -4227.080       5.864       1.000
  26   29     -4227.134      10.680       1.000
  27   30     -4227.198       7.384       1.000
  28   31     -4227.245      18.466       1.000
  29   32     -4227.314      14.150       1.000
  30   33     -4227.598       8.111       1.000
  31   34     -4227.714      17.982       1.000
  32   35     -4227.825      16.579       1.000
  33   36     -4227.882       9.801       1.000
  34   37     -4227.928       5.084       1.000
  35   38     -4227.959      10.026       1.000
  36   40     -4227.976       9.281       0.204
  37   41     -4227.998       4.812       1.000
  38   42     -4228.009       4.183       1.000
  39   44     -4228.012       5.441       0.310
  40   45     -4228.033       5.477       1.000
  41   47     -4228.089       8.256       0.491
  42   48     -4228.131       4.820       1.000
  43   49     -4228.139       5.252       1.000
  44   50     -4228.139       5.336       1.000
  45   51     -4228.147       4.453       1.000
  46   52     -4228.154       3.529       1.000
  47   53     -4228.163       2.763       1.000
  48   55     -4228.167       4.132       0.200
  49   56     -4228.169       2.793       1.000
  50   57     -4228.173       4.623       1.000
Final RAS Transform: 
0.975133 -0.0141483 -0.00394455 -0.797697 
-0.0020831 1.01354 0.0727773 0.0839301 
0.00970553 -0.00452225 0.991576 0.456571 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2877.77   GNORM= 246.822
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2889.704      53.099       0.000
   2    4     -2890.446      28.780       1.000
   3    5     -2890.920      32.806       1.000
   4    6     -2893.372      67.817       1.000
   5    7     -2897.526     123.405       1.000
   6    8     -2901.743     116.603       1.000
   7    9     -2906.069     147.831       1.000
   8   10     -2910.764      29.192       1.000
   9   11     -2911.101      19.050       1.000
  10   12     -2912.275      33.509       1.000
  11   13     -2912.924      26.777       1.000
  12   14     -2913.095      28.292       1.000
  13   15     -2913.380       6.539       1.000
  14   16     -2913.423       8.871       1.000
  15   17     -2913.652      15.981       1.000
  16   18     -2914.068      13.275       1.000
  17   19     -2914.486      44.872       1.000
  18   20     -2914.975      12.177       1.000
  19   21     -2915.129      12.051       1.000
  20   22     -2915.229      10.181       1.000
  21   23     -2915.316       6.228       1.000
  22   24     -2915.353       8.956       1.000
  23   25     -2915.419       8.409       1.000
  24   26     -2915.468      34.556       1.000
  25   27     -2915.759       7.238       1.000
  26   28     -2915.822       4.601       1.000
  27   29     -2915.921       6.568       1.000
  28   30     -2916.000       4.540       1.000
  29   31     -2916.038       2.788       1.000
  30   32     -2916.069       6.662       1.000
  31   33     -2916.093       7.670       1.000
  32   34     -2916.111       3.008       1.000
  33   35     -2916.132       3.435       1.000
  34   36     -2916.160       4.468       1.000
  35   37     -2916.179       3.347       1.000
  36   38     -2916.207       3.584       1.000
  37   39     -2916.209       9.586       1.000
  38   40     -2916.228       4.544       1.000
  39   41     -2916.238       2.900       1.000
  40   42     -2916.243       3.192       1.000
  41   43     -2916.250       5.293       1.000
  42   44     -2916.278       6.300       1.000
  43   45     -2916.317       7.253       1.000
  44   46     -2916.354       6.120       1.000
  45   47     -2916.380       4.228       1.000
  46   48     -2916.404       3.100       1.000
  47   50     -2916.424       1.911       0.419
  48   51     -2916.429       2.214       1.000
  49   52     -2916.431       2.260       1.000
  50   53     -2916.433       2.686       1.000
  51   54     -2916.434       1.867       1.000
  52   55     -2916.441       0.745       1.000
Final RAS Transform: 
0.985514 -0.0159174 0.00335758 -0.462597 
0.00704065 1.00325 0.0751191 0.144578 
0.0022027 0.00743339 1.01381 0.590409 
0 0 0 1 

Final RAS Transform: 
0.985514 -0.0159174 0.00335758 -0.462597 
0.00704065 1.00325 0.0751191 0.144578 
0.0022027 0.00743339 1.01381 0.590409 
0 0 0 1 


real	0m10.123s
user	0m17.728s
sys	0m0.440s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.631284
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1209
Level     0,  Iter     1:    Energy =   0.1283
Level     0,  Iter     2:    Energy =   0.1339
Level     0,  Iter     3:    Energy =   0.1388
Level     0,  Iter     4:    Energy =   0.1433
Level     0,  Iter     5:    Energy =   0.1466
Level     0,  Iter     6:    Energy =   0.1496
Level     0,  Iter     7:    Energy =   0.1514
Level     0,  Iter     8:    Energy =   0.1517
Level     0,  Iter     9:    Energy =   0.1518
Level     0,  Iter    10:    Energy =   0.1521
Level     0,  Iter    11:    Energy =   0.1523
Level     0,  Iter    12:    Energy =   0.1525
Level     0,  Iter    13:    Energy =   0.1528
Level     0,  Iter    14:    Energy =   0.1530
Level     0,  Iter    15:    Energy =   0.1533
Level     0,  Iter    16:    Energy =   0.1534
Level     0,  Iter    17:    Energy =   0.1535
Level     0,  Iter    18:    Energy =   0.1537
Level     0,  Iter    19:    Energy =   0.1537
Level     0,  Iter    20:    Energy =   0.1538
Level     0,  Iter    21:    Energy =   0.1538
Level     0,  Iter    22:    Energy =   0.1539
Level     0,  Iter    23:    Energy =   0.1540
Level     0,  Iter    24:    Energy =   0.1540
Level     0,  Iter    25:    Energy =   0.1540
Level     0,  Iter    26:    Energy =   0.1541
Level     0,  Iter    27:    Energy =   0.1541
Level     0,  Iter    28:    Energy =   0.1542
Level     0,  Iter    29:    Energy =   0.1542
Level     0,  Iter    30:    Energy =   0.1543
Level     0,  Iter    31:    Energy =   0.1543
Level     0,  Iter    32:    Energy =   0.1543
Level     0,  Iter    33:    Energy =   0.1544
Level     0,  Iter    34:    Energy =   0.1544
Level     0,  Iter    35:    Energy =   0.1544
Level     0,  Iter    36:    Energy =   0.1545
Level     0,  Iter    37:    Energy =   0.1544
Level     0,  Iter    38:    Energy =   0.1545
Level     0,  Iter    39:    Energy =   0.1544
Level     0,  Iter    40:    Energy =   0.1545
Level     0,  Iter    41:    Energy =   0.1545
Level     0,  Iter    42:    Energy =   0.1546
Level     0,  Iter    43:    Energy =   0.1546
Level     0,  Iter    44:    Energy =   0.1546
Level     0,  Iter    45:    Energy =   0.1547
Level     0,  Iter    46:    Energy =   0.1548
Level     0,  Iter    47:    Energy =   0.1549
Level     0,  Iter    48:    Energy =   0.1550
Level     0,  Iter    49:    Energy =   0.1550
Level     0,  Iter    50:    Energy =   0.1551
Level     0,  Iter    51:    Energy =   0.1551
Level     0,  Iter    52:    Energy =   0.1551
Level     0,  Iter    53:    Energy =   0.1551
Level     0,  Iter    54:    Energy =   0.1551
Level     0,  Iter    55:    Energy =   0.1551
Level     0,  Iter    56:    Energy =   0.1552
Level     0,  Iter    57:    Energy =   0.1552
Level     0,  Iter    58:    Energy =   0.1552
Level     0,  Iter    59:    Energy =   0.1552
END OF LEVEL     0    DetJac Range:   0.3831  to   1.9518 
  Avg. Gradient Time  : 0.0072s  35.06% 
  Avg. Gaussian Time  : 0.0101s  49.00% 
  Avg. Iteration Time : 0.0206s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.1032
Level     1,  Iter     1:    Energy =   0.1087
Level     1,  Iter     2:    Energy =   0.1131
Level     1,  Iter     3:    Energy =   0.1169
Level     1,  Iter     4:    Energy =   0.1194
Level     1,  Iter     5:    Energy =   0.1216
Level     1,  Iter     6:    Energy =   0.1228
Level     1,  Iter     7:    Energy =   0.1240
Level     1,  Iter     8:    Energy =   0.1248
Level     1,  Iter     9:    Energy =   0.1259
Level     1,  Iter    10:    Energy =   0.1266
Level     1,  Iter    11:    Energy =   0.1272
Level     1,  Iter    12:    Energy =   0.1280
Level     1,  Iter    13:    Energy =   0.1291
Level     1,  Iter    14:    Energy =   0.1294
Level     1,  Iter    15:    Energy =   0.1298
Level     1,  Iter    16:    Energy =   0.1299
Level     1,  Iter    17:    Energy =   0.1306
Level     1,  Iter    18:    Energy =   0.1305
Level     1,  Iter    19:    Energy =   0.1310
Level     1,  Iter    20:    Energy =   0.1311
Level     1,  Iter    21:    Energy =   0.1309
Level     1,  Iter    22:    Energy =   0.1309
Level     1,  Iter    23:    Energy =   0.1309
Level     1,  Iter    24:    Energy =   0.1309
Level     1,  Iter    25:    Energy =   0.1310
Level     1,  Iter    26:    Energy =   0.1310
Level     1,  Iter    27:    Energy =   0.1311
Level     1,  Iter    28:    Energy =   0.1311
Level     1,  Iter    29:    Energy =   0.1312
Level     1,  Iter    30:    Energy =   0.1312
Level     1,  Iter    31:    Energy =   0.1313
Level     1,  Iter    32:    Energy =   0.1313
Level     1,  Iter    33:    Energy =   0.1313
Level     1,  Iter    34:    Energy =   0.1314
Level     1,  Iter    35:    Energy =   0.1314
Level     1,  Iter    36:    Energy =   0.1315
Level     1,  Iter    37:    Energy =   0.1315
Level     1,  Iter    38:    Energy =   0.1316
Level     1,  Iter    39:    Energy =   0.1316
Level     1,  Iter    40:    Energy =   0.1317
Level     1,  Iter    41:    Energy =   0.1316
Level     1,  Iter    42:    Energy =   0.1317
Level     1,  Iter    43:    Energy =   0.1316
Level     1,  Iter    44:    Energy =   0.1317
Level     1,  Iter    45:    Energy =   0.1317
Level     1,  Iter    46:    Energy =   0.1318
Level     1,  Iter    47:    Energy =   0.1317
Level     1,  Iter    48:    Energy =   0.1318
Level     1,  Iter    49:    Energy =   0.1318
Level     1,  Iter    50:    Energy =   0.1319
Level     1,  Iter    51:    Energy =   0.1318
Level     1,  Iter    52:    Energy =   0.1319
Level     1,  Iter    53:    Energy =   0.1319
Level     1,  Iter    54:    Energy =   0.1320
Level     1,  Iter    55:    Energy =   0.1319
Level     1,  Iter    56:    Energy =   0.1320
Level     1,  Iter    57:    Energy =   0.1319
Level     1,  Iter    58:    Energy =   0.1319
Level     1,  Iter    59:    Energy =   0.1319
END OF LEVEL     1    DetJac Range:   0.1677  to   5.3995 
  Avg. Gradient Time  : 0.0408s  33.03% 
  Avg. Gaussian Time  : 0.0665s  53.92% 
  Avg. Iteration Time : 0.1234s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0690
Level     2,  Iter     1:    Energy =   0.0711
Level     2,  Iter     2:    Energy =   0.0732
Level     2,  Iter     3:    Energy =   0.0752
Level     2,  Iter     4:    Energy =   0.0773
Level     2,  Iter     5:    Energy =   0.0794
Level     2,  Iter     6:    Energy =   0.0813
Level     2,  Iter     7:    Energy =   0.0829
Level     2,  Iter     8:    Energy =   0.0843
Level     2,  Iter     9:    Energy =   0.0856
Level     2,  Iter    10:    Energy =   0.0867
Level     2,  Iter    11:    Energy =   0.0876
Level     2,  Iter    12:    Energy =   0.0885
Level     2,  Iter    13:    Energy =   0.0892
Level     2,  Iter    14:    Energy =   0.0897
Level     2,  Iter    15:    Energy =   0.0897
Level     2,  Iter    16:    Energy =   0.0902
Level     2,  Iter    17:    Energy =   0.0902
Level     2,  Iter    18:    Energy =   0.0908
Level     2,  Iter    19:    Energy =   0.0908
END OF LEVEL     2    DetJac Range:   0.0787  to   8.0399 
  Avg. Gradient Time  : 0.2933s  30.91% 
  Avg. Gaussian Time  : 0.5261s  55.46% 
  Avg. Iteration Time : 0.9486s 

real	0m32.245s
user	0m58.728s
sys	0m1.388s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=4 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=4 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.223077 0.228846
+ echo 'CHUNK 0.223077 0.228846 1'
CHUNK 0.223077 0.228846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.223077 0.228846 1
====================================
         PROGRESS: 0.223077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=005
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 005
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train005
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train005
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left 005 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train005 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=left
+ local tid=005
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train005
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 005 left 0
+ local tid=005
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 005 0
+ set -e
+ local tid=005
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.702135
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3331.7   GNORM= 261.007
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3372.600     268.679       0.001
   2    4     -3410.699     245.160       1.000
   3    5     -3459.378      73.417       1.000
   4    6     -3467.479      74.804       1.000
   5    7     -3496.405      80.085       1.000
   6    9     -3504.786      99.316       0.475
   7   10     -3516.269      58.639       1.000
   8   11     -3520.441      41.441       1.000
   9   12     -3524.366      40.394       1.000
  10   13     -3530.284     169.817       1.000
  11   14     -3538.075      24.303       1.000
  12   15     -3538.538      24.270       1.000
  13   16     -3538.976      18.671       1.000
  14   17     -3539.550      38.981       1.000
  15   18     -3540.201      28.474       1.000
  16   19     -3540.985      16.460       1.000
  17   21     -3541.108      22.124       0.194
  18   22     -3541.186      11.228       1.000
  19   23     -3541.305       7.787       1.000
  20   24     -3541.442      12.131       1.000
  21   25     -3541.591       8.817       1.000
  22   26     -3541.631      12.233       1.000
  23   27     -3541.713      11.640       1.000
  24   28     -3541.774       6.777       1.000
  25   29     -3541.816       5.729       1.000
  26   30     -3541.867       7.799       1.000
  27   31     -3541.878       5.404       1.000
  28   32     -3541.894       6.871       1.000
  29   33     -3541.908       3.354       1.000
  30   34     -3541.915       3.880       1.000
  31   35     -3541.927       4.475       1.000
  32   36     -3541.930       5.064       1.000
  33   38     -3541.932       5.306       0.408
  34   39     -3541.955       5.377       1.000
  35   40     -3541.966       5.249       1.000
  36   42     -3541.982       3.921       0.406
  37   43     -3541.991       1.962       1.000
  38   45     -3541.995       2.062       0.457
  39   46     -3542.004       5.308       1.000
  40   47     -3542.018       3.371       1.000
  41   49     -3542.020       2.039       0.326
  42   50     -3542.020       2.402       1.000
  43   52     -3542.028       3.548       0.449
Final RAS Transform: 
0.954229 -0.00831366 0.00865704 -1.07969 
0.00303657 1.00061 0.0697283 0.23748 
-0.0212909 -0.0100807 1.0092 -0.66065 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2301   GNORM= 334.555
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2331.597      60.298       0.000
   2    4     -2333.322      45.614       1.000
   3    5     -2335.610      43.856       1.000
   4    6     -2337.649      42.820       1.000
   5    7     -2341.334      46.046       1.000
   6    8     -2344.588      57.207       1.000
   7    9     -2354.462      40.718       1.000
   8   11     -2355.699      76.951       0.248
   9   12     -2358.502      37.527       1.000
  10   13     -2359.784      16.123       1.000
  11   14     -2360.812      33.118       1.000
  12   15     -2362.486      35.216       1.000
  13   16     -2365.585      33.674       1.000
  14   18     -2366.286      20.186       0.278
  15   19     -2366.773      12.816       1.000
  16   20     -2367.294      18.066       1.000
  17   21     -2367.881      24.613       1.000
  18   22     -2368.761      26.923       1.000
  19   23     -2371.744      24.930       1.000
  20   25     -2373.829      18.401       0.445
  21   27     -2374.747      34.779       0.468
  22   28     -2376.083      12.225       1.000
  23   29     -2376.440       9.955       1.000
  24   31     -2376.508      15.070       0.151
  25   32     -2376.575      16.189       1.000
  26   34     -2376.741      10.745       0.223
  27   35     -2376.818      15.314       1.000
  28   36     -2376.965       6.412       1.000
  29   37     -2377.043       5.881       1.000
  30   38     -2377.206      11.563       1.000
  31   39     -2377.324      14.085       1.000
  32   40     -2377.529      13.625       1.000
  33   41     -2377.655      10.954       1.000
  34   42     -2377.788       8.166       1.000
  35   43     -2377.883       8.721       1.000
  36   44     -2377.993      13.220       1.000
  37   46     -2378.170       9.530       5.000
  38   47     -2378.281       5.549       1.000
  39   48     -2378.343       4.427       1.000
  40   49     -2378.396       2.589       1.000
  41   50     -2378.492       4.384       1.000
  42   52     -2378.508       3.498       0.206
  43   53     -2378.517       4.638       1.000
  44   55     -2378.521       4.019       0.475
  45   56     -2378.531       5.814       1.000
  46   57     -2378.551       4.491       1.000
  47   58     -2378.573       7.901       1.000
  48   59     -2378.600       4.410       1.000
  49   60     -2378.640       3.564       1.000
  50   61     -2378.655       2.665       1.000
Final RAS Transform: 
0.989973 -0.0229918 -0.00323118 -0.385551 
0.0322463 1.01532 0.0780785 1.07405 
-0.0245461 -0.014218 1.01576 -0.820619 
0 0 0 1 

Final RAS Transform: 
0.989973 -0.0229918 -0.00323118 -0.385551 
0.0322463 1.01532 0.0780785 1.07405 
-0.0245461 -0.014218 1.01576 -0.820619 
0 0 0 1 


real	0m10.403s
user	0m18.196s
sys	0m0.508s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.702427
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0997
Level     0,  Iter     1:    Energy =   0.1064
Level     0,  Iter     2:    Energy =   0.1127
Level     0,  Iter     3:    Energy =   0.1185
Level     0,  Iter     4:    Energy =   0.1235
Level     0,  Iter     5:    Energy =   0.1265
Level     0,  Iter     6:    Energy =   0.1288
Level     0,  Iter     7:    Energy =   0.1309
Level     0,  Iter     8:    Energy =   0.1315
Level     0,  Iter     9:    Energy =   0.1321
Level     0,  Iter    10:    Energy =   0.1327
Level     0,  Iter    11:    Energy =   0.1332
Level     0,  Iter    12:    Energy =   0.1339
Level     0,  Iter    13:    Energy =   0.1342
Level     0,  Iter    14:    Energy =   0.1346
Level     0,  Iter    15:    Energy =   0.1352
Level     0,  Iter    16:    Energy =   0.1356
Level     0,  Iter    17:    Energy =   0.1360
Level     0,  Iter    18:    Energy =   0.1357
Level     0,  Iter    19:    Energy =   0.1362
Level     0,  Iter    20:    Energy =   0.1360
Level     0,  Iter    21:    Energy =   0.1364
Level     0,  Iter    22:    Energy =   0.1361
Level     0,  Iter    23:    Energy =   0.1366
Level     0,  Iter    24:    Energy =   0.1364
Level     0,  Iter    25:    Energy =   0.1368
Level     0,  Iter    26:    Energy =   0.1367
Level     0,  Iter    27:    Energy =   0.1370
Level     0,  Iter    28:    Energy =   0.1368
Level     0,  Iter    29:    Energy =   0.1371
Level     0,  Iter    30:    Energy =   0.1370
Level     0,  Iter    31:    Energy =   0.1372
Level     0,  Iter    32:    Energy =   0.1370
Level     0,  Iter    33:    Energy =   0.1373
Level     0,  Iter    34:    Energy =   0.1373
Level     0,  Iter    35:    Energy =   0.1375
Level     0,  Iter    36:    Energy =   0.1372
Level     0,  Iter    37:    Energy =   0.1375
Level     0,  Iter    38:    Energy =   0.1374
Level     0,  Iter    39:    Energy =   0.1376
Level     0,  Iter    40:    Energy =   0.1373
Level     0,  Iter    41:    Energy =   0.1376
Level     0,  Iter    42:    Energy =   0.1375
Level     0,  Iter    43:    Energy =   0.1377
Level     0,  Iter    44:    Energy =   0.1374
Level     0,  Iter    45:    Energy =   0.1377
Level     0,  Iter    46:    Energy =   0.1376
Level     0,  Iter    47:    Energy =   0.1378
Level     0,  Iter    48:    Energy =   0.1375
Level     0,  Iter    49:    Energy =   0.1377
Level     0,  Iter    50:    Energy =   0.1376
Level     0,  Iter    51:    Energy =   0.1377
Level     0,  Iter    52:    Energy =   0.1375
Level     0,  Iter    53:    Energy =   0.1377
Level     0,  Iter    54:    Energy =   0.1377
Level     0,  Iter    55:    Energy =   0.1378
Level     0,  Iter    56:    Energy =   0.1375
Level     0,  Iter    57:    Energy =   0.1377
Level     0,  Iter    58:    Energy =   0.1375
Level     0,  Iter    59:    Energy =   0.1377
END OF LEVEL     0    DetJac Range:   0.3012  to   2.3539 
  Avg. Gradient Time  : 0.0072s  35.06% 
  Avg. Gaussian Time  : 0.0100s  49.04% 
  Avg. Iteration Time : 0.0205s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0869
Level     1,  Iter     1:    Energy =   0.0909
Level     1,  Iter     2:    Energy =   0.0948
Level     1,  Iter     3:    Energy =   0.0988
Level     1,  Iter     4:    Energy =   0.1012
Level     1,  Iter     5:    Energy =   0.1032
Level     1,  Iter     6:    Energy =   0.1058
Level     1,  Iter     7:    Energy =   0.1081
Level     1,  Iter     8:    Energy =   0.1103
Level     1,  Iter     9:    Energy =   0.1123
Level     1,  Iter    10:    Energy =   0.1135
Level     1,  Iter    11:    Energy =   0.1143
Level     1,  Iter    12:    Energy =   0.1144
Level     1,  Iter    13:    Energy =   0.1157
Level     1,  Iter    14:    Energy =   0.1156
Level     1,  Iter    15:    Energy =   0.1169
Level     1,  Iter    16:    Energy =   0.1166
Level     1,  Iter    17:    Energy =   0.1178
Level     1,  Iter    18:    Energy =   0.1175
Level     1,  Iter    19:    Energy =   0.1184
Level     1,  Iter    20:    Energy =   0.1179
Level     1,  Iter    21:    Energy =   0.1188
Level     1,  Iter    22:    Energy =   0.1186
Level     1,  Iter    23:    Energy =   0.1193
Level     1,  Iter    24:    Energy =   0.1187
Level     1,  Iter    25:    Energy =   0.1195
Level     1,  Iter    26:    Energy =   0.1196
Level     1,  Iter    27:    Energy =   0.1197
Level     1,  Iter    28:    Energy =   0.1192
Level     1,  Iter    29:    Energy =   0.1200
Level     1,  Iter    30:    Energy =   0.1196
Level     1,  Iter    31:    Energy =   0.1202
Level     1,  Iter    32:    Energy =   0.1197
Level     1,  Iter    33:    Energy =   0.1204
Level     1,  Iter    34:    Energy =   0.1201
Level     1,  Iter    35:    Energy =   0.1205
Level     1,  Iter    36:    Energy =   0.1200
Level     1,  Iter    37:    Energy =   0.1206
Level     1,  Iter    38:    Energy =   0.1204
Level     1,  Iter    39:    Energy =   0.1208
Level     1,  Iter    40:    Energy =   0.1203
Level     1,  Iter    41:    Energy =   0.1209
Level     1,  Iter    42:    Energy =   0.1206
Level     1,  Iter    43:    Energy =   0.1209
Level     1,  Iter    44:    Energy =   0.1206
Level     1,  Iter    45:    Energy =   0.1210
Level     1,  Iter    46:    Energy =   0.1207
Level     1,  Iter    47:    Energy =   0.1211
Level     1,  Iter    48:    Energy =   0.1207
Level     1,  Iter    49:    Energy =   0.1213
Level     1,  Iter    50:    Energy =   0.1209
Level     1,  Iter    51:    Energy =   0.1214
Level     1,  Iter    52:    Energy =   0.1209
Level     1,  Iter    53:    Energy =   0.1214
Level     1,  Iter    54:    Energy =   0.1211
Level     1,  Iter    55:    Energy =   0.1214
Level     1,  Iter    56:    Energy =   0.1210
Level     1,  Iter    57:    Energy =   0.1215
Level     1,  Iter    58:    Energy =   0.1211
Level     1,  Iter    59:    Energy =   0.1216
END OF LEVEL     1    DetJac Range:   0.0630  to   4.1177 
  Avg. Gradient Time  : 0.0404s  32.81% 
  Avg. Gaussian Time  : 0.0666s  54.12% 
  Avg. Iteration Time : 0.1230s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0600
Level     2,  Iter     1:    Energy =   0.0625
Level     2,  Iter     2:    Energy =   0.0650
Level     2,  Iter     3:    Energy =   0.0672
Level     2,  Iter     4:    Energy =   0.0690
Level     2,  Iter     5:    Energy =   0.0707
Level     2,  Iter     6:    Energy =   0.0722
Level     2,  Iter     7:    Energy =   0.0732
Level     2,  Iter     8:    Energy =   0.0742
Level     2,  Iter     9:    Energy =   0.0750
Level     2,  Iter    10:    Energy =   0.0757
Level     2,  Iter    11:    Energy =   0.0763
Level     2,  Iter    12:    Energy =   0.0769
Level     2,  Iter    13:    Energy =   0.0774
Level     2,  Iter    14:    Energy =   0.0778
Level     2,  Iter    15:    Energy =   0.0782
Level     2,  Iter    16:    Energy =   0.0786
Level     2,  Iter    17:    Energy =   0.0789
Level     2,  Iter    18:    Energy =   0.0791
Level     2,  Iter    19:    Energy =   0.0793
END OF LEVEL     2    DetJac Range:   0.0434  to   4.3420 
  Avg. Gradient Time  : 0.2926s  30.86% 
  Avg. Gaussian Time  : 0.5267s  55.54% 
  Avg. Iteration Time : 0.9482s 

real	0m32.231s
user	0m58.768s
sys	0m1.276s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=5 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=5 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.228846 0.234615
+ echo 'CHUNK 0.228846 0.234615 1'
CHUNK 0.228846 0.234615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.228846 0.234615 1
====================================
         PROGRESS: 0.228846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=006
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 006
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train006
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train006
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left 006 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train006 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=left
+ local tid=006
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train006
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 006 left 0
+ local tid=006
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 006 0
+ set -e
+ local tid=006
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.572046
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3290.85   GNORM= 286.551
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3365.558     401.906       0.002
   2    4     -3426.932     203.994       1.000
   3    5     -3455.877     147.669       1.000
   4    6     -3485.275     181.261       1.000
   5    7     -3507.974     182.518       1.000
   6    8     -3534.825     123.960       1.000
   7    9     -3560.826     106.014       1.000
   8   10     -3569.878      49.777       1.000
   9   11     -3574.690      56.419       1.000
  10   13     -3578.819     136.045       0.406
  11   14     -3584.986      99.319       1.000
  12   15     -3591.396      49.236       1.000
  13   16     -3595.794      42.260       1.000
  14   17     -3598.283      45.493       1.000
  15   19     -3601.030      53.411       0.372
  16   20     -3603.576      50.663       1.000
  17   21     -3608.492      43.874       1.000
  18   22     -3611.746      38.337       1.000
  19   24     -3616.262      30.396       0.515
  20   25     -3617.672      34.563       1.000
  21   26     -3618.384      54.342       1.000
  22   27     -3619.214      17.034       1.000
  23   28     -3619.663      15.926       1.000
  24   29     -3619.996      17.039       1.000
  25   30     -3620.059      30.772       1.000
  26   31     -3621.072      11.905       1.000
  27   32     -3621.339      12.636       1.000
  28   34     -3621.513      20.063       0.293
  29   35     -3621.703      10.639       1.000
  30   36     -3621.836       9.649       1.000
  31   37     -3622.003      14.125       1.000
  32   38     -3622.078      11.632       1.000
  33   39     -3622.185       7.892       1.000
  34   40     -3622.248       8.264       1.000
  35   41     -3622.285      26.411       1.000
  36   42     -3622.396       6.362       1.000
  37   43     -3622.431       6.975       1.000
  38   44     -3622.453      16.574       1.000
  39   45     -3622.564       8.436       1.000
  40   46     -3622.612       5.779       1.000
  41   47     -3622.667       9.464       1.000
  42   48     -3622.743       4.699       1.000
  43   50     -3622.821      11.903       0.411
  44   52     -3622.830      12.713       0.183
  45   53     -3622.892       7.131       1.000
  46   54     -3622.923       9.924       1.000
  47   55     -3622.950       4.611       1.000
  48   56     -3622.972       3.193       1.000
  49   57     -3623.019       5.207       1.000
  50   59     -3623.033       8.564       0.136
  51   60     -3623.042       4.330       1.000
  52   61     -3623.052       3.185       1.000
Final RAS Transform: 
0.927728 -0.0100984 0.00882574 -2.28986 
-0.00902918 0.987565 0.070619 -0.500992 
-0.0103942 0.00169136 1.03207 0.0545978 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2475.83   GNORM= 363.977
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2509.906      97.397       0.000
   2    4     -2514.005      66.923       1.000
   3    5     -2517.660      64.411       1.000
   4    6     -2524.110      66.932       1.000
   5    7     -2530.176      60.682       1.000
   6    8     -2531.609     113.031       1.000
   7    9     -2534.480      28.622       1.000
   8   10     -2535.276      20.501       1.000
   9   11     -2538.008      50.141       1.000
  10   12     -2540.455      42.198       1.000
  11   13     -2543.146      30.715       1.000
  12   14     -2544.701      24.330       1.000
  13   15     -2546.420      35.770       1.000
  14   16     -2548.287      35.786       1.000
  15   17     -2551.887      30.094       1.000
  16   18     -2554.394      28.679       1.000
  17   19     -2554.888      24.650       1.000
  18   20     -2555.269      14.514       1.000
  19   21     -2555.706      11.568       1.000
  20   22     -2556.016      28.247       1.000
  21   23     -2556.437      14.988       1.000
  22   24     -2556.942      17.515       1.000
  23   25     -2557.766      59.040       1.000
  24   26     -2559.211      33.639       1.000
  25   27     -2560.533      18.494       1.000
  26   28     -2561.011       9.569       1.000
  27   29     -2561.261      26.326       1.000
  28   30     -2561.608      15.845       1.000
  29   31     -2562.012      15.296       1.000
  30   32     -2562.847      31.722       1.000
  31   33     -2563.649      24.014       1.000
  32   34     -2564.744      21.376       1.000
  33   35     -2565.179      15.107       1.000
  34   36     -2565.370       7.943       1.000
  35   37     -2565.454       7.185       1.000
  36   38     -2565.574      11.967       1.000
  37   39     -2565.689      25.018       1.000
  38   40     -2565.866       9.289       1.000
  39   41     -2565.903       8.459       1.000
  40   42     -2565.964       6.521       1.000
  41   43     -2566.298      11.029       1.000
  42   44     -2566.411      15.032       1.000
  43   45     -2566.529       5.960       1.000
  44   46     -2566.583       4.257       1.000
  45   48     -2566.634       9.164       0.476
  46   49     -2566.702       8.259       1.000
  47   50     -2566.983       8.498       1.000
  48   51     -2567.090       5.916       1.000
  49   52     -2567.217       8.639       1.000
  50   53     -2567.330       7.331       1.000
  51   55     -2567.361       5.294       0.422
  52   56     -2567.373       7.126       1.000
  53   57     -2567.381       5.305       1.000
  54   58     -2567.390       5.046       1.000
  55   59     -2567.399       2.936       1.000
  56   60     -2567.437       4.323       1.000
  57   61     -2567.456       9.157       1.000
Final RAS Transform: 
0.974744 -0.016855 -0.0126822 -1.04347 
0.0303344 0.993972 0.0603153 0.546071 
-0.0139037 0.00758073 1.02494 -0.0364709 
0 0 0 1 

Final RAS Transform: 
0.974744 -0.016855 -0.0126822 -1.04347 
0.0303344 0.993972 0.0603153 0.546071 
-0.0139037 0.00758073 1.02494 -0.0364709 
0 0 0 1 


real	0m9.693s
user	0m17.024s
sys	0m0.444s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.577963
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1030
Level     0,  Iter     1:    Energy =   0.1087
Level     0,  Iter     2:    Energy =   0.1145
Level     0,  Iter     3:    Energy =   0.1200
Level     0,  Iter     4:    Energy =   0.1243
Level     0,  Iter     5:    Energy =   0.1276
Level     0,  Iter     6:    Energy =   0.1289
Level     0,  Iter     7:    Energy =   0.1298
Level     0,  Iter     8:    Energy =   0.1309
Level     0,  Iter     9:    Energy =   0.1313
Level     0,  Iter    10:    Energy =   0.1321
Level     0,  Iter    11:    Energy =   0.1324
Level     0,  Iter    12:    Energy =   0.1332
Level     0,  Iter    13:    Energy =   0.1332
Level     0,  Iter    14:    Energy =   0.1338
Level     0,  Iter    15:    Energy =   0.1339
Level     0,  Iter    16:    Energy =   0.1345
Level     0,  Iter    17:    Energy =   0.1344
Level     0,  Iter    18:    Energy =   0.1349
Level     0,  Iter    19:    Energy =   0.1348
Level     0,  Iter    20:    Energy =   0.1353
Level     0,  Iter    21:    Energy =   0.1351
Level     0,  Iter    22:    Energy =   0.1356
Level     0,  Iter    23:    Energy =   0.1354
Level     0,  Iter    24:    Energy =   0.1359
Level     0,  Iter    25:    Energy =   0.1357
Level     0,  Iter    26:    Energy =   0.1361
Level     0,  Iter    27:    Energy =   0.1359
Level     0,  Iter    28:    Energy =   0.1363
Level     0,  Iter    29:    Energy =   0.1361
Level     0,  Iter    30:    Energy =   0.1364
Level     0,  Iter    31:    Energy =   0.1363
Level     0,  Iter    32:    Energy =   0.1366
Level     0,  Iter    33:    Energy =   0.1364
Level     0,  Iter    34:    Energy =   0.1367
Level     0,  Iter    35:    Energy =   0.1365
Level     0,  Iter    36:    Energy =   0.1368
Level     0,  Iter    37:    Energy =   0.1367
Level     0,  Iter    38:    Energy =   0.1370
Level     0,  Iter    39:    Energy =   0.1368
Level     0,  Iter    40:    Energy =   0.1371
Level     0,  Iter    41:    Energy =   0.1369
Level     0,  Iter    42:    Energy =   0.1372
Level     0,  Iter    43:    Energy =   0.1370
Level     0,  Iter    44:    Energy =   0.1373
Level     0,  Iter    45:    Energy =   0.1371
Level     0,  Iter    46:    Energy =   0.1374
Level     0,  Iter    47:    Energy =   0.1372
Level     0,  Iter    48:    Energy =   0.1374
Level     0,  Iter    49:    Energy =   0.1372
Level     0,  Iter    50:    Energy =   0.1375
Level     0,  Iter    51:    Energy =   0.1373
Level     0,  Iter    52:    Energy =   0.1376
Level     0,  Iter    53:    Energy =   0.1374
Level     0,  Iter    54:    Energy =   0.1377
Level     0,  Iter    55:    Energy =   0.1375
Level     0,  Iter    56:    Energy =   0.1377
Level     0,  Iter    57:    Energy =   0.1376
Level     0,  Iter    58:    Energy =   0.1379
Level     0,  Iter    59:    Energy =   0.1376
END OF LEVEL     0    DetJac Range:   0.2328  to   2.1246 
  Avg. Gradient Time  : 0.0070s  34.65% 
  Avg. Gaussian Time  : 0.0100s  49.46% 
  Avg. Iteration Time : 0.0202s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0918
Level     1,  Iter     1:    Energy =   0.0969
Level     1,  Iter     2:    Energy =   0.1000
Level     1,  Iter     3:    Energy =   0.1036
Level     1,  Iter     4:    Energy =   0.1068
Level     1,  Iter     5:    Energy =   0.1091
Level     1,  Iter     6:    Energy =   0.1108
Level     1,  Iter     7:    Energy =   0.1122
Level     1,  Iter     8:    Energy =   0.1134
Level     1,  Iter     9:    Energy =   0.1146
Level     1,  Iter    10:    Energy =   0.1158
Level     1,  Iter    11:    Energy =   0.1157
Level     1,  Iter    12:    Energy =   0.1164
Level     1,  Iter    13:    Energy =   0.1162
Level     1,  Iter    14:    Energy =   0.1171
Level     1,  Iter    15:    Energy =   0.1169
Level     1,  Iter    16:    Energy =   0.1178
Level     1,  Iter    17:    Energy =   0.1175
Level     1,  Iter    18:    Energy =   0.1183
Level     1,  Iter    19:    Energy =   0.1179
Level     1,  Iter    20:    Energy =   0.1187
Level     1,  Iter    21:    Energy =   0.1185
Level     1,  Iter    22:    Energy =   0.1187
Level     1,  Iter    23:    Energy =   0.1184
Level     1,  Iter    24:    Energy =   0.1190
Level     1,  Iter    25:    Energy =   0.1186
Level     1,  Iter    26:    Energy =   0.1191
Level     1,  Iter    27:    Energy =   0.1188
Level     1,  Iter    28:    Energy =   0.1192
Level     1,  Iter    29:    Energy =   0.1190
Level     1,  Iter    30:    Energy =   0.1193
Level     1,  Iter    31:    Energy =   0.1192
Level     1,  Iter    32:    Energy =   0.1195
Level     1,  Iter    33:    Energy =   0.1192
Level     1,  Iter    34:    Energy =   0.1195
Level     1,  Iter    35:    Energy =   0.1194
Level     1,  Iter    36:    Energy =   0.1197
Level     1,  Iter    37:    Energy =   0.1195
Level     1,  Iter    38:    Energy =   0.1198
Level     1,  Iter    39:    Energy =   0.1197
Level     1,  Iter    40:    Energy =   0.1199
Level     1,  Iter    41:    Energy =   0.1198
Level     1,  Iter    42:    Energy =   0.1201
Level     1,  Iter    43:    Energy =   0.1199
Level     1,  Iter    44:    Energy =   0.1201
Level     1,  Iter    45:    Energy =   0.1200
Level     1,  Iter    46:    Energy =   0.1202
Level     1,  Iter    47:    Energy =   0.1200
Level     1,  Iter    48:    Energy =   0.1203
Level     1,  Iter    49:    Energy =   0.1201
Level     1,  Iter    50:    Energy =   0.1204
Level     1,  Iter    51:    Energy =   0.1201
Level     1,  Iter    52:    Energy =   0.1204
Level     1,  Iter    53:    Energy =   0.1202
Level     1,  Iter    54:    Energy =   0.1204
Level     1,  Iter    55:    Energy =   0.1202
Level     1,  Iter    56:    Energy =   0.1205
Level     1,  Iter    57:    Energy =   0.1203
Level     1,  Iter    58:    Energy =   0.1205
Level     1,  Iter    59:    Energy =   0.1203
END OF LEVEL     1    DetJac Range:   0.1047  to   3.5373 
  Avg. Gradient Time  : 0.0401s  32.88% 
  Avg. Gaussian Time  : 0.0658s  53.98% 
  Avg. Iteration Time : 0.1219s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0620
Level     2,  Iter     1:    Energy =   0.0648
Level     2,  Iter     2:    Energy =   0.0673
Level     2,  Iter     3:    Energy =   0.0696
Level     2,  Iter     4:    Energy =   0.0715
Level     2,  Iter     5:    Energy =   0.0734
Level     2,  Iter     6:    Energy =   0.0750
Level     2,  Iter     7:    Energy =   0.0762
Level     2,  Iter     8:    Energy =   0.0774
Level     2,  Iter     9:    Energy =   0.0785
Level     2,  Iter    10:    Energy =   0.0793
Level     2,  Iter    11:    Energy =   0.0801
Level     2,  Iter    12:    Energy =   0.0808
Level     2,  Iter    13:    Energy =   0.0814
Level     2,  Iter    14:    Energy =   0.0819
Level     2,  Iter    15:    Energy =   0.0824
Level     2,  Iter    16:    Energy =   0.0829
Level     2,  Iter    17:    Energy =   0.0833
Level     2,  Iter    18:    Energy =   0.0837
Level     2,  Iter    19:    Energy =   0.0840
END OF LEVEL     2    DetJac Range:   0.0288  to   4.6453 
  Avg. Gradient Time  : 0.2920s  30.89% 
  Avg. Gaussian Time  : 0.5246s  55.49% 
  Avg. Iteration Time : 0.9453s 

real	0m32.072s
user	0m58.428s
sys	0m1.400s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=6 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=6 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.234615 0.240385
+ echo 'CHUNK 0.234615 0.240385 1'
CHUNK 0.234615 0.240385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.234615 0.240385 1
====================================
         PROGRESS: 0.234615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=007
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 007
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train007
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train007
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left 007 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train007 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=left
+ local tid=007
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train007
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 007 left 0
+ local tid=007
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 007 0
+ set -e
+ local tid=007
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.41663
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3160.5   GNORM= 390.677
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3253.564     288.800       0.001
   2    4     -3269.651     272.821       1.000
   3    5     -3287.068     121.703       1.000
   4    6     -3297.509      86.733       1.000
   5    7     -3306.398     129.457       1.000
   6    8     -3321.855     125.170       1.000
   7   10     -3340.847     212.860       0.241
   8   11     -3347.709     128.925       1.000
   9   12     -3360.684      49.437       1.000
  10   13     -3363.392      42.020       1.000
  11   14     -3364.559      33.354       1.000
  12   15     -3365.682      28.656       1.000
  13   16     -3369.833      40.539       1.000
  14   17     -3373.582      36.472       1.000
  15   18     -3376.092      36.821       1.000
  16   19     -3377.533      24.140       1.000
  17   20     -3378.271      24.290       1.000
  18   21     -3379.175      42.540       1.000
  19   22     -3379.804      20.516       1.000
  20   23     -3379.997      18.789       1.000
  21   24     -3380.143      15.087       1.000
  22   25     -3380.294      15.564       1.000
  23   26     -3380.446      40.866       1.000
  24   27     -3380.901      20.311       1.000
  25   28     -3381.062      12.195       1.000
  26   29     -3381.203      11.513       1.000
  27   31     -3381.277      11.813       0.510
  28   32     -3381.318       9.547       1.000
  29   33     -3381.386      11.290       1.000
  30   34     -3381.442       4.818       1.000
  31   35     -3381.464       4.094       1.000
  32   36     -3381.474       9.540       1.000
  33   37     -3381.492       2.198       1.000
  34   38     -3381.495       2.920       1.000
  35   39     -3381.502       5.240       1.000
  36   41     -3381.504       3.147       0.162
  37   43     -3381.509       2.997       0.295
  38   44     -3381.513       2.547       1.000
  39   45     -3381.514       4.102       1.000
  40   46     -3381.522       4.037       1.000
  41   47     -3381.531       3.002       1.000
Final RAS Transform: 
0.995482 -0.0293831 -0.0185131 -0.552136 
0.0173666 1.01172 0.0847555 0.272997 
0.00612429 -0.00968406 0.975784 0.300462 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2536.84   GNORM= 324.705
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2559.977     103.607       0.000
   2    4     -2564.556      92.914       1.000
   3    5     -2573.953      88.522       1.000
   4    6     -2579.296      60.356       1.000
   5    7     -2586.971      50.186       1.000
   6    8     -2589.500      29.300       1.000
   7    9     -2591.033      46.817       1.000
   8   11     -2591.782      32.178       0.457
   9   12     -2592.488      29.961       1.000
  10   13     -2595.431      34.758       1.000
  11   14     -2596.549      26.701       1.000
  12   15     -2596.937       8.453       1.000
  13   16     -2597.049      10.878       1.000
  14   17     -2597.299      15.323       1.000
  15   18     -2598.042      17.485       1.000
  16   20     -2598.357      34.085       0.214
  17   21     -2598.915      19.509       1.000
  18   22     -2599.381      13.732       1.000
  19   23     -2599.787      15.172       1.000
  20   25     -2600.146      31.210       0.435
  21   26     -2600.562      10.803       1.000
  22   27     -2600.747       7.934       1.000
  23   29     -2600.785       7.001       0.153
  24   30     -2600.804       8.088       1.000
  25   31     -2600.874       8.660       1.000
  26   32     -2601.004       6.486       1.000
  27   33     -2601.051       4.193       1.000
  28   34     -2601.121       5.442       1.000
  29   36     -2601.179      16.367       0.306
  30   37     -2601.268       9.050       1.000
  31   38     -2601.325       6.369       1.000
  32   40     -2601.484       5.994       5.000
  33   41     -2601.591      20.312       1.000
  34   42     -2601.883      10.269       1.000
  35   43     -2602.016       5.782       1.000
  36   44     -2602.085       7.483       1.000
  37   45     -2602.088      16.719       1.000
  38   46     -2602.137       5.743       1.000
  39   47     -2602.144       3.578       1.000
  40   48     -2602.172       6.881       1.000
  41   49     -2602.231       7.192       1.000
  42   50     -2602.320      21.083       1.000
  43   51     -2602.396      11.165       1.000
  44   52     -2602.433       4.753       1.000
  45   53     -2602.442       5.167       1.000
  46   54     -2602.461       3.753       1.000
  47   56     -2602.462       5.005       0.279
  48   57     -2602.489       5.870       1.000
  49   59     -2602.504       3.299       0.361
  50   60     -2602.532       3.470       1.000
  51   61     -2602.552       3.347       1.000
Final RAS Transform: 
0.98837 -0.0240733 -0.0346997 -0.916877 
0.0108338 1.00049 0.0695868 0.0768005 
-0.00424508 -0.0034536 0.997059 -0.0173932 
0 0 0 1 

Final RAS Transform: 
0.98837 -0.0240733 -0.0346997 -0.916877 
0.0108338 1.00049 0.0695868 0.0768005 
-0.00424508 -0.0034536 0.997059 -0.0173932 
0 0 0 1 


real	0m10.044s
user	0m17.560s
sys	0m0.440s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.424019
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0985
Level     0,  Iter     1:    Energy =   0.1041
Level     0,  Iter     2:    Energy =   0.1087
Level     0,  Iter     3:    Energy =   0.1130
Level     0,  Iter     4:    Energy =   0.1165
Level     0,  Iter     5:    Energy =   0.1190
Level     0,  Iter     6:    Energy =   0.1203
Level     0,  Iter     7:    Energy =   0.1209
Level     0,  Iter     8:    Energy =   0.1227
Level     0,  Iter     9:    Energy =   0.1230
Level     0,  Iter    10:    Energy =   0.1242
Level     0,  Iter    11:    Energy =   0.1244
Level     0,  Iter    12:    Energy =   0.1248
Level     0,  Iter    13:    Energy =   0.1250
Level     0,  Iter    14:    Energy =   0.1259
Level     0,  Iter    15:    Energy =   0.1260
Level     0,  Iter    16:    Energy =   0.1259
Level     0,  Iter    17:    Energy =   0.1262
Level     0,  Iter    18:    Energy =   0.1266
Level     0,  Iter    19:    Energy =   0.1267
Level     0,  Iter    20:    Energy =   0.1266
Level     0,  Iter    21:    Energy =   0.1267
Level     0,  Iter    22:    Energy =   0.1266
Level     0,  Iter    23:    Energy =   0.1267
Level     0,  Iter    24:    Energy =   0.1268
Level     0,  Iter    25:    Energy =   0.1269
Level     0,  Iter    26:    Energy =   0.1270
Level     0,  Iter    27:    Energy =   0.1271
Level     0,  Iter    28:    Energy =   0.1270
Level     0,  Iter    29:    Energy =   0.1270
Level     0,  Iter    30:    Energy =   0.1270
Level     0,  Iter    31:    Energy =   0.1271
Level     0,  Iter    32:    Energy =   0.1271
Level     0,  Iter    33:    Energy =   0.1272
Level     0,  Iter    34:    Energy =   0.1271
Level     0,  Iter    35:    Energy =   0.1272
Level     0,  Iter    36:    Energy =   0.1271
Level     0,  Iter    37:    Energy =   0.1272
Level     0,  Iter    38:    Energy =   0.1273
Level     0,  Iter    39:    Energy =   0.1273
Level     0,  Iter    40:    Energy =   0.1273
Level     0,  Iter    41:    Energy =   0.1274
Level     0,  Iter    42:    Energy =   0.1274
Level     0,  Iter    43:    Energy =   0.1275
Level     0,  Iter    44:    Energy =   0.1275
Level     0,  Iter    45:    Energy =   0.1276
Level     0,  Iter    46:    Energy =   0.1276
Level     0,  Iter    47:    Energy =   0.1277
Level     0,  Iter    48:    Energy =   0.1276
Level     0,  Iter    49:    Energy =   0.1277
Level     0,  Iter    50:    Energy =   0.1276
Level     0,  Iter    51:    Energy =   0.1277
Level     0,  Iter    52:    Energy =   0.1278
Level     0,  Iter    53:    Energy =   0.1279
Level     0,  Iter    54:    Energy =   0.1279
Level     0,  Iter    55:    Energy =   0.1279
Level     0,  Iter    56:    Energy =   0.1279
Level     0,  Iter    57:    Energy =   0.1280
Level     0,  Iter    58:    Energy =   0.1279
Level     0,  Iter    59:    Energy =   0.1280
END OF LEVEL     0    DetJac Range:   0.2644  to   2.2207 
  Avg. Gradient Time  : 0.0071s  35.00% 
  Avg. Gaussian Time  : 0.0100s  49.05% 
  Avg. Iteration Time : 0.0204s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0925
Level     1,  Iter     1:    Energy =   0.0963
Level     1,  Iter     2:    Energy =   0.1004
Level     1,  Iter     3:    Energy =   0.1045
Level     1,  Iter     4:    Energy =   0.1071
Level     1,  Iter     5:    Energy =   0.1097
Level     1,  Iter     6:    Energy =   0.1124
Level     1,  Iter     7:    Energy =   0.1147
Level     1,  Iter     8:    Energy =   0.1162
Level     1,  Iter     9:    Energy =   0.1178
Level     1,  Iter    10:    Energy =   0.1190
Level     1,  Iter    11:    Energy =   0.1198
Level     1,  Iter    12:    Energy =   0.1207
Level     1,  Iter    13:    Energy =   0.1216
Level     1,  Iter    14:    Energy =   0.1217
Level     1,  Iter    15:    Energy =   0.1222
Level     1,  Iter    16:    Energy =   0.1222
Level     1,  Iter    17:    Energy =   0.1228
Level     1,  Iter    18:    Energy =   0.1227
Level     1,  Iter    19:    Energy =   0.1234
Level     1,  Iter    20:    Energy =   0.1233
Level     1,  Iter    21:    Energy =   0.1239
Level     1,  Iter    22:    Energy =   0.1237
Level     1,  Iter    23:    Energy =   0.1243
Level     1,  Iter    24:    Energy =   0.1241
Level     1,  Iter    25:    Energy =   0.1245
Level     1,  Iter    26:    Energy =   0.1243
Level     1,  Iter    27:    Energy =   0.1245
Level     1,  Iter    28:    Energy =   0.1246
Level     1,  Iter    29:    Energy =   0.1246
Level     1,  Iter    30:    Energy =   0.1248
Level     1,  Iter    31:    Energy =   0.1247
Level     1,  Iter    32:    Energy =   0.1250
Level     1,  Iter    33:    Energy =   0.1249
Level     1,  Iter    34:    Energy =   0.1252
Level     1,  Iter    35:    Energy =   0.1250
Level     1,  Iter    36:    Energy =   0.1253
Level     1,  Iter    37:    Energy =   0.1251
Level     1,  Iter    38:    Energy =   0.1255
Level     1,  Iter    39:    Energy =   0.1253
Level     1,  Iter    40:    Energy =   0.1256
Level     1,  Iter    41:    Energy =   0.1254
Level     1,  Iter    42:    Energy =   0.1257
Level     1,  Iter    43:    Energy =   0.1255
Level     1,  Iter    44:    Energy =   0.1258
Level     1,  Iter    45:    Energy =   0.1256
Level     1,  Iter    46:    Energy =   0.1259
Level     1,  Iter    47:    Energy =   0.1257
Level     1,  Iter    48:    Energy =   0.1260
Level     1,  Iter    49:    Energy =   0.1258
Level     1,  Iter    50:    Energy =   0.1260
Level     1,  Iter    51:    Energy =   0.1259
Level     1,  Iter    52:    Energy =   0.1261
Level     1,  Iter    53:    Energy =   0.1259
Level     1,  Iter    54:    Energy =   0.1261
Level     1,  Iter    55:    Energy =   0.1260
Level     1,  Iter    56:    Energy =   0.1262
Level     1,  Iter    57:    Energy =   0.1260
Level     1,  Iter    58:    Energy =   0.1263
Level     1,  Iter    59:    Energy =   0.1261
END OF LEVEL     1    DetJac Range:   0.0613  to   4.2050 
  Avg. Gradient Time  : 0.0395s  32.65% 
  Avg. Gaussian Time  : 0.0655s  54.13% 
  Avg. Iteration Time : 0.1210s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0674
Level     2,  Iter     1:    Energy =   0.0703
Level     2,  Iter     2:    Energy =   0.0727
Level     2,  Iter     3:    Energy =   0.0748
Level     2,  Iter     4:    Energy =   0.0769
Level     2,  Iter     5:    Energy =   0.0789
Level     2,  Iter     6:    Energy =   0.0805
Level     2,  Iter     7:    Energy =   0.0819
Level     2,  Iter     8:    Energy =   0.0832
Level     2,  Iter     9:    Energy =   0.0842
Level     2,  Iter    10:    Energy =   0.0851
Level     2,  Iter    11:    Energy =   0.0858
Level     2,  Iter    12:    Energy =   0.0864
Level     2,  Iter    13:    Energy =   0.0869
Level     2,  Iter    14:    Energy =   0.0873
Level     2,  Iter    15:    Energy =   0.0875
Level     2,  Iter    16:    Energy =   0.0878
Level     2,  Iter    17:    Energy =   0.0877
Level     2,  Iter    18:    Energy =   0.0880
Level     2,  Iter    19:    Energy =   0.0881
END OF LEVEL     2    DetJac Range:   0.0591  to   5.3273 
  Avg. Gradient Time  : 0.2933s  30.97% 
  Avg. Gaussian Time  : 0.5251s  55.44% 
  Avg. Iteration Time : 0.9472s 

real	0m32.065s
user	0m58.428s
sys	0m1.328s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=7 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=7 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.240385 0.246154
+ echo 'CHUNK 0.240385 0.246154 1'
CHUNK 0.240385 0.246154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.240385 0.246154 1
====================================
         PROGRESS: 0.240385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=008
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 008
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train008
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train008
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left 008 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train008 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=left
+ local tid=008
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train008
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 008 left 0
+ local tid=008
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 008 0
+ set -e
+ local tid=008
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.418438
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2625.99   GNORM= 217.055
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -2660.400     380.785       0.005
   2    3     -2724.722     228.510       1.000
   3    4     -2749.645     141.369       1.000
   4    5     -2789.931     114.483       1.000
   5    6     -2815.804     119.929       1.000
   6    8     -2828.046     145.063       0.322
   7    9     -2842.772      73.593       1.000
   8   10     -2856.322      82.976       1.000
   9   11     -2861.491     139.054       1.000
  10   12     -2867.670      72.533       1.000
  11   13     -2870.728      37.548       1.000
  12   14     -2872.254      39.088       1.000
  13   16     -2878.123      63.314       0.500
  14   17     -2888.613      69.022       1.000
  15   18     -2889.709      68.773       1.000
  16   19     -2893.351      22.465       1.000
  17   20     -2894.248      20.839       1.000
  18   22     -2895.318      50.181       0.333
  19   23     -2896.405      21.807       1.000
  20   24     -2896.681      19.969       1.000
  21   25     -2897.089      19.544       1.000
  22   26     -2898.387      18.097       1.000
  23   27     -2899.342      23.161       1.000
  24   28     -2900.295      21.850       1.000
  25   29     -2901.296      32.382       1.000
  26   30     -2902.032      22.741       1.000
  27   31     -2902.503      11.524       1.000
  28   32     -2902.815      11.997       1.000
  29   34     -2902.950      19.207       0.163
  30   35     -2903.372      19.395       1.000
  31   36     -2903.394      28.746       1.000
  32   37     -2903.761      12.933       1.000
  33   38     -2903.975      14.859       1.000
  34   39     -2904.313      16.073       1.000
  35   41     -2904.491      15.052       0.313
  36   42     -2904.705       8.807       1.000
  37   43     -2904.973      10.348       1.000
  38   46     -2906.164      22.312       2.336
  39   48     -2906.371      31.835       0.495
  40   49     -2906.728      20.520       1.000
  41   50     -2906.990      15.627       1.000
  42   51     -2907.315      12.425       1.000
  43   52     -2907.592      12.677       1.000
  44   53     -2908.023       8.879       1.000
  45   55     -2908.140      10.158       0.446
  46   56     -2908.241       7.606       1.000
  47   58     -2908.315      13.256       0.376
  48   59     -2908.413       9.980       1.000
  49   60     -2908.545      11.581       1.000
Final RAS Transform: 
0.94085 -0.0119126 0.0245996 -1.74698 
-0.0399682 0.999481 0.109324 -0.970233 
0.00644975 -0.0109568 1.01495 0.159641 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2169.45   GNORM= 111.5
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2175.133      59.436       0.001
   2    4     -2177.560      40.011       1.000
   3    5     -2180.230      33.746       1.000
   4    6     -2183.447      51.424       1.000
   5    7     -2190.551      70.566       1.000
   6    8     -2198.538      42.192       1.000
   7    9     -2200.360     105.555       1.000
   8   10     -2204.447      28.321       1.000
   9   11     -2205.871      27.813       1.000
  10   12     -2208.202      52.478       1.000
  11   13     -2210.989      39.626       1.000
  12   14     -2211.313      34.074       1.000
  13   15     -2211.939      14.876       1.000
  14   16     -2212.375      12.516       1.000
  15   17     -2213.141      26.572       1.000
  16   18     -2214.262      32.325       1.000
  17   20     -2215.062      37.685       0.369
  18   21     -2216.257      15.620       1.000
  19   22     -2216.674       8.506       1.000
  20   23     -2216.848      10.448       1.000
  21   24     -2217.410      19.839       1.000
  22   25     -2218.465      33.747       1.000
  23   26     -2219.023      29.931       1.000
  24   27     -2219.558      16.822       1.000
  25   28     -2220.004      14.636       1.000
  26   29     -2220.365      16.926       1.000
  27   30     -2221.592      23.068       1.000
  28   31     -2222.752      28.655       1.000
  29   33     -2223.612      13.990       0.406
  30   34     -2224.318      11.513       1.000
  31   36     -2224.976      29.386       0.488
  32   37     -2225.412      21.284       1.000
  33   38     -2225.928      22.800       1.000
  34   39     -2226.418      13.705       1.000
  35   40     -2227.644      20.464       1.000
  36   41     -2229.046      20.998       1.000
  37   42     -2230.351      65.166       1.000
  38   43     -2230.591      48.423       1.000
  39   44     -2231.799      16.198       1.000
  40   45     -2232.032      11.143       1.000
  41   46     -2232.511      11.417       1.000
  42   47     -2232.980      14.946       1.000
  43   48     -2233.333      12.917       1.000
  44   49     -2233.751      10.907       1.000
  45   50     -2234.835      18.981       1.000
  46   51     -2235.763      24.628       1.000
  47   52     -2236.243      24.515       1.000
  48   53     -2236.585      26.471       1.000
  49   54     -2236.777       7.471       1.000
  50   55     -2236.818       7.407       1.000
  51   57     -2236.901      12.874       0.410
  52   58     -2237.082      16.045       1.000
  53   59     -2237.698      18.858       1.000
  54   60     -2238.684      22.231       1.000
  55   61     -2239.281      25.492       1.000
Final RAS Transform: 
1.00694 -0.028587 -0.0354892 -0.369586 
0.00923649 0.982484 0.0817622 0.16192 
0.0123725 -0.00197485 1.03327 0.628128 
0 0 0 1 

Final RAS Transform: 
1.00694 -0.028587 -0.0354892 -0.369586 
0.00923649 0.982484 0.0817622 0.16192 
0.0123725 -0.00197485 1.03327 0.628128 
0 0 0 1 


real	0m9.958s
user	0m17.404s
sys	0m0.456s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.426559
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0822
Level     0,  Iter     1:    Energy =   0.0875
Level     0,  Iter     2:    Energy =   0.0925
Level     0,  Iter     3:    Energy =   0.0965
Level     0,  Iter     4:    Energy =   0.1001
Level     0,  Iter     5:    Energy =   0.1024
Level     0,  Iter     6:    Energy =   0.1038
Level     0,  Iter     7:    Energy =   0.1050
Level     0,  Iter     8:    Energy =   0.1060
Level     0,  Iter     9:    Energy =   0.1065
Level     0,  Iter    10:    Energy =   0.1074
Level     0,  Iter    11:    Energy =   0.1077
Level     0,  Iter    12:    Energy =   0.1085
Level     0,  Iter    13:    Energy =   0.1087
Level     0,  Iter    14:    Energy =   0.1094
Level     0,  Iter    15:    Energy =   0.1094
Level     0,  Iter    16:    Energy =   0.1101
Level     0,  Iter    17:    Energy =   0.1101
Level     0,  Iter    18:    Energy =   0.1108
Level     0,  Iter    19:    Energy =   0.1107
Level     0,  Iter    20:    Energy =   0.1115
Level     0,  Iter    21:    Energy =   0.1113
Level     0,  Iter    22:    Energy =   0.1120
Level     0,  Iter    23:    Energy =   0.1119
Level     0,  Iter    24:    Energy =   0.1126
Level     0,  Iter    25:    Energy =   0.1123
Level     0,  Iter    26:    Energy =   0.1129
Level     0,  Iter    27:    Energy =   0.1127
Level     0,  Iter    28:    Energy =   0.1132
Level     0,  Iter    29:    Energy =   0.1130
Level     0,  Iter    30:    Energy =   0.1135
Level     0,  Iter    31:    Energy =   0.1132
Level     0,  Iter    32:    Energy =   0.1137
Level     0,  Iter    33:    Energy =   0.1133
Level     0,  Iter    34:    Energy =   0.1139
Level     0,  Iter    35:    Energy =   0.1136
Level     0,  Iter    36:    Energy =   0.1140
Level     0,  Iter    37:    Energy =   0.1137
Level     0,  Iter    38:    Energy =   0.1140
Level     0,  Iter    39:    Energy =   0.1137
Level     0,  Iter    40:    Energy =   0.1141
Level     0,  Iter    41:    Energy =   0.1138
Level     0,  Iter    42:    Energy =   0.1141
Level     0,  Iter    43:    Energy =   0.1138
Level     0,  Iter    44:    Energy =   0.1142
Level     0,  Iter    45:    Energy =   0.1138
Level     0,  Iter    46:    Energy =   0.1142
Level     0,  Iter    47:    Energy =   0.1139
Level     0,  Iter    48:    Energy =   0.1143
Level     0,  Iter    49:    Energy =   0.1139
Level     0,  Iter    50:    Energy =   0.1143
Level     0,  Iter    51:    Energy =   0.1139
Level     0,  Iter    52:    Energy =   0.1143
Level     0,  Iter    53:    Energy =   0.1140
Level     0,  Iter    54:    Energy =   0.1143
Level     0,  Iter    55:    Energy =   0.1140
Level     0,  Iter    56:    Energy =   0.1144
Level     0,  Iter    57:    Energy =   0.1140
Level     0,  Iter    58:    Energy =   0.1144
Level     0,  Iter    59:    Energy =   0.1141
END OF LEVEL     0    DetJac Range:   0.2130  to   2.9314 
  Avg. Gradient Time  : 0.0082s  35.13% 
  Avg. Gaussian Time  : 0.0115s  48.94% 
  Avg. Iteration Time : 0.0235s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0800
Level     1,  Iter     1:    Energy =   0.0843
Level     1,  Iter     2:    Energy =   0.0882
Level     1,  Iter     3:    Energy =   0.0914
Level     1,  Iter     4:    Energy =   0.0937
Level     1,  Iter     5:    Energy =   0.0959
Level     1,  Iter     6:    Energy =   0.0983
Level     1,  Iter     7:    Energy =   0.1001
Level     1,  Iter     8:    Energy =   0.1015
Level     1,  Iter     9:    Energy =   0.1026
Level     1,  Iter    10:    Energy =   0.1038
Level     1,  Iter    11:    Energy =   0.1051
Level     1,  Iter    12:    Energy =   0.1063
Level     1,  Iter    13:    Energy =   0.1074
Level     1,  Iter    14:    Energy =   0.1083
Level     1,  Iter    15:    Energy =   0.1091
Level     1,  Iter    16:    Energy =   0.1098
Level     1,  Iter    17:    Energy =   0.1098
Level     1,  Iter    18:    Energy =   0.1102
Level     1,  Iter    19:    Energy =   0.1104
Level     1,  Iter    20:    Energy =   0.1105
Level     1,  Iter    21:    Energy =   0.1106
Level     1,  Iter    22:    Energy =   0.1104
Level     1,  Iter    23:    Energy =   0.1108
Level     1,  Iter    24:    Energy =   0.1104
Level     1,  Iter    25:    Energy =   0.1109
Level     1,  Iter    26:    Energy =   0.1107
Level     1,  Iter    27:    Energy =   0.1110
Level     1,  Iter    28:    Energy =   0.1107
Level     1,  Iter    29:    Energy =   0.1111
Level     1,  Iter    30:    Energy =   0.1108
Level     1,  Iter    31:    Energy =   0.1113
Level     1,  Iter    32:    Energy =   0.1110
Level     1,  Iter    33:    Energy =   0.1114
Level     1,  Iter    34:    Energy =   0.1111
Level     1,  Iter    35:    Energy =   0.1115
Level     1,  Iter    36:    Energy =   0.1112
Level     1,  Iter    37:    Energy =   0.1116
Level     1,  Iter    38:    Energy =   0.1113
Level     1,  Iter    39:    Energy =   0.1117
Level     1,  Iter    40:    Energy =   0.1114
Level     1,  Iter    41:    Energy =   0.1118
Level     1,  Iter    42:    Energy =   0.1115
Level     1,  Iter    43:    Energy =   0.1119
Level     1,  Iter    44:    Energy =   0.1117
Level     1,  Iter    45:    Energy =   0.1120
Level     1,  Iter    46:    Energy =   0.1117
Level     1,  Iter    47:    Energy =   0.1120
Level     1,  Iter    48:    Energy =   0.1118
Level     1,  Iter    49:    Energy =   0.1121
Level     1,  Iter    50:    Energy =   0.1118
Level     1,  Iter    51:    Energy =   0.1121
Level     1,  Iter    52:    Energy =   0.1119
Level     1,  Iter    53:    Energy =   0.1122
Level     1,  Iter    54:    Energy =   0.1119
Level     1,  Iter    55:    Energy =   0.1123
Level     1,  Iter    56:    Energy =   0.1120
Level     1,  Iter    57:    Energy =   0.1123
Level     1,  Iter    58:    Energy =   0.1121
Level     1,  Iter    59:    Energy =   0.1124
END OF LEVEL     1    DetJac Range:   0.0842  to   5.2100 
  Avg. Gradient Time  : 0.0459s  32.87% 
  Avg. Gaussian Time  : 0.0751s  53.83% 
  Avg. Iteration Time : 0.1396s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0584
Level     2,  Iter     1:    Energy =   0.0604
Level     2,  Iter     2:    Energy =   0.0627
Level     2,  Iter     3:    Energy =   0.0649
Level     2,  Iter     4:    Energy =   0.0666
Level     2,  Iter     5:    Energy =   0.0682
Level     2,  Iter     6:    Energy =   0.0697
Level     2,  Iter     7:    Energy =   0.0708
Level     2,  Iter     8:    Energy =   0.0719
Level     2,  Iter     9:    Energy =   0.0728
Level     2,  Iter    10:    Energy =   0.0737
Level     2,  Iter    11:    Energy =   0.0744
Level     2,  Iter    12:    Energy =   0.0751
Level     2,  Iter    13:    Energy =   0.0758
Level     2,  Iter    14:    Energy =   0.0764
Level     2,  Iter    15:    Energy =   0.0771
Level     2,  Iter    16:    Energy =   0.0777
Level     2,  Iter    17:    Energy =   0.0783
Level     2,  Iter    18:    Energy =   0.0788
Level     2,  Iter    19:    Energy =   0.0792
END OF LEVEL     2    DetJac Range:   0.0612  to   4.8274 
  Avg. Gradient Time  : 0.3303s  30.67% 
  Avg. Gaussian Time  : 0.5980s  55.51% 
  Avg. Iteration Time : 1.0772s 

real	0m36.491s
user	1m6.756s
sys	0m1.520s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=8 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=8 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.246154 0.251923
+ echo 'CHUNK 0.246154 0.251923 1'
CHUNK 0.246154 0.251923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.246154 0.251923 1
====================================
         PROGRESS: 0.246154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=009
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 009
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train009
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train009
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left 009 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train009 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=left
+ local tid=009
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train009
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 009 left 0
+ local tid=009
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 009 0
+ set -e
+ local tid=009
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.747982
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3749.81   GNORM= 673.3
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3862.226     442.824       0.001
   2    4     -3925.445     338.551       1.000
   3    5     -3988.964     250.803       1.000
   4    6     -4018.212     143.676       1.000
   5    7     -4054.824     100.181       1.000
   6    8     -4082.253     111.283       1.000
   7    9     -4097.321     214.036       1.000
   8   10     -4105.385      83.793       1.000
   9   11     -4109.202      52.112       1.000
  10   12     -4114.863      55.574       1.000
  11   13     -4123.440      58.393       1.000
  12   14     -4134.503      82.073       1.000
  13   16     -4137.109      49.567       0.352
  14   17     -4138.663      32.865       1.000
  15   19     -4139.222      43.536       0.457
  16   20     -4140.171      29.005       1.000
  17   21     -4141.957      24.781       1.000
  18   22     -4143.128      51.013       1.000
  19   23     -4144.240      24.570       1.000
  20   24     -4144.687      15.895       1.000
  21   26     -4144.781      14.246       0.389
  22   27     -4144.866      11.828       1.000
  23   28     -4144.957      15.727       1.000
  24   29     -4145.032       8.356       1.000
  25   30     -4145.069       4.353       1.000
  26   31     -4145.088       3.807       1.000
  27   32     -4145.126      10.120       1.000
  28   34     -4145.138      12.640       0.246
  29   36     -4145.168       5.690       0.328
  30   37     -4145.168       5.267       1.000
  31   38     -4145.178       2.492       1.000
  32   39     -4145.183       4.060       1.000
  33   40     -4145.186       6.267       1.000
  34   41     -4145.194       3.507       1.000
  35   42     -4145.196       1.935       1.000
  36   43     -4145.200       1.681       1.000
  37   45     -4145.214       9.820       5.000
  38   47     -4145.221       9.529       0.010
  39   48     -4145.228       8.445       1.000
  40   49     -4145.258      11.732       1.000
  41   50     -4145.282       7.687       1.000
  42   52     -4145.325       6.311       0.479
  43   54     -4145.333       2.832       0.149
  44   57     -4145.338       2.597       0.196
  45   60     -4145.339       3.141       0.037
Final RAS Transform: 
0.968473 -0.0280349 -0.0410415 -1.41917 
-0.000573594 1.00748 0.0641926 0.0636534 
-0.0198431 -0.00287422 1.00211 -0.0912336 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2920.62   GNORM= 230.821
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2929.161      54.629       0.000
   2    4     -2930.016      43.874       1.000
   3    5     -2931.291      36.853       1.000
   4    6     -2932.285      30.287       1.000
   5    7     -2935.453      48.026       1.000
   6    8     -2938.730      51.850       1.000
   7    9     -2943.444      73.765       1.000
   8   11     -2944.635      45.056       0.315
   9   12     -2945.501      32.102       1.000
  10   13     -2946.896      26.525       1.000
  11   14     -2947.884      20.095       1.000
  12   15     -2949.018      19.680       1.000
  13   16     -2950.324      18.077       1.000
  14   17     -2951.752      48.439       1.000
  15   19     -2952.371      13.150       0.499
  16   20     -2952.550      11.866       1.000
  17   21     -2952.725      15.017       1.000
  18   22     -2952.889      13.061       1.000
  19   23     -2953.293      10.410       1.000
  20   24     -2953.672      11.842       1.000
  21   26     -2953.773      24.062       0.270
  22   27     -2954.030      17.068       1.000
  23   28     -2954.307      13.305       1.000
  24   29     -2954.557      16.970       1.000
  25   30     -2954.707       9.534       1.000
  26   31     -2954.780       6.230       1.000
  27   33     -2955.013      11.031       5.000
  28   34     -2955.114      20.706       1.000
  29   35     -2955.318       5.019       1.000
  30   36     -2955.330       4.008       1.000
  31   38     -2955.364       8.453       0.303
  32   39     -2955.390       5.599       1.000
  33   40     -2955.464       5.296       1.000
  34   41     -2955.586       5.818       1.000
  35   43     -2955.624       5.022       0.174
  36   45     -2955.631       8.303       0.493
  37   46     -2955.648       5.384       1.000
  38   47     -2955.654       3.635       1.000
  39   48     -2955.664       4.787       1.000
  40   49     -2955.691      12.192       1.000
  41   50     -2955.718       8.159       1.000
  42   51     -2955.728       5.441       1.000
  43   52     -2955.759       3.670       1.000
  44   53     -2955.774       2.414       1.000
  45   54     -2955.785       3.745       1.000
  46   55     -2955.790       8.172       1.000
  47   56     -2955.806       3.862       1.000
  48   57     -2955.809       2.091       1.000
  49   58     -2955.811       2.107       1.000
  50   59     -2955.817       4.201       1.000
  51   61     -2955.838       4.312       0.291
Final RAS Transform: 
0.983956 -0.015375 -0.0197276 -0.55947 
0.0156656 1.01118 0.0640117 0.533356 
-0.0120144 -0.00140622 1.0039 0.143523 
0 0 0 1 

Final RAS Transform: 
0.983956 -0.015375 -0.0197276 -0.55947 
0.0156656 1.01118 0.0640117 0.533356 
-0.0120144 -0.00140622 1.0039 0.143523 
0 0 0 1 


real	0m9.965s
user	0m17.428s
sys	0m0.444s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.745633
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1217
Level     0,  Iter     1:    Energy =   0.1292
Level     0,  Iter     2:    Energy =   0.1348
Level     0,  Iter     3:    Energy =   0.1395
Level     0,  Iter     4:    Energy =   0.1429
Level     0,  Iter     5:    Energy =   0.1456
Level     0,  Iter     6:    Energy =   0.1470
Level     0,  Iter     7:    Energy =   0.1484
Level     0,  Iter     8:    Energy =   0.1491
Level     0,  Iter     9:    Energy =   0.1499
Level     0,  Iter    10:    Energy =   0.1503
Level     0,  Iter    11:    Energy =   0.1507
Level     0,  Iter    12:    Energy =   0.1509
Level     0,  Iter    13:    Energy =   0.1512
Level     0,  Iter    14:    Energy =   0.1514
Level     0,  Iter    15:    Energy =   0.1516
Level     0,  Iter    16:    Energy =   0.1517
Level     0,  Iter    17:    Energy =   0.1518
Level     0,  Iter    18:    Energy =   0.1519
Level     0,  Iter    19:    Energy =   0.1520
Level     0,  Iter    20:    Energy =   0.1521
Level     0,  Iter    21:    Energy =   0.1522
Level     0,  Iter    22:    Energy =   0.1522
Level     0,  Iter    23:    Energy =   0.1523
Level     0,  Iter    24:    Energy =   0.1525
Level     0,  Iter    25:    Energy =   0.1525
Level     0,  Iter    26:    Energy =   0.1526
Level     0,  Iter    27:    Energy =   0.1527
Level     0,  Iter    28:    Energy =   0.1528
Level     0,  Iter    29:    Energy =   0.1529
Level     0,  Iter    30:    Energy =   0.1528
Level     0,  Iter    31:    Energy =   0.1530
Level     0,  Iter    32:    Energy =   0.1532
Level     0,  Iter    33:    Energy =   0.1532
Level     0,  Iter    34:    Energy =   0.1533
Level     0,  Iter    35:    Energy =   0.1533
Level     0,  Iter    36:    Energy =   0.1536
Level     0,  Iter    37:    Energy =   0.1535
Level     0,  Iter    38:    Energy =   0.1537
Level     0,  Iter    39:    Energy =   0.1536
Level     0,  Iter    40:    Energy =   0.1537
Level     0,  Iter    41:    Energy =   0.1538
Level     0,  Iter    42:    Energy =   0.1540
Level     0,  Iter    43:    Energy =   0.1539
Level     0,  Iter    44:    Energy =   0.1541
Level     0,  Iter    45:    Energy =   0.1539
Level     0,  Iter    46:    Energy =   0.1540
Level     0,  Iter    47:    Energy =   0.1541
Level     0,  Iter    48:    Energy =   0.1542
Level     0,  Iter    49:    Energy =   0.1542
Level     0,  Iter    50:    Energy =   0.1543
Level     0,  Iter    51:    Energy =   0.1542
Level     0,  Iter    52:    Energy =   0.1542
Level     0,  Iter    53:    Energy =   0.1543
Level     0,  Iter    54:    Energy =   0.1545
Level     0,  Iter    55:    Energy =   0.1545
Level     0,  Iter    56:    Energy =   0.1546
Level     0,  Iter    57:    Energy =   0.1545
Level     0,  Iter    58:    Energy =   0.1548
Level     0,  Iter    59:    Energy =   0.1547
END OF LEVEL     0    DetJac Range:   0.3280  to   2.2241 
  Avg. Gradient Time  : 0.0080s  34.87% 
  Avg. Gaussian Time  : 0.0113s  49.27% 
  Avg. Iteration Time : 0.0230s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.1017
Level     1,  Iter     1:    Energy =   0.1076
Level     1,  Iter     2:    Energy =   0.1124
Level     1,  Iter     3:    Energy =   0.1164
Level     1,  Iter     4:    Energy =   0.1191
Level     1,  Iter     5:    Energy =   0.1215
Level     1,  Iter     6:    Energy =   0.1238
Level     1,  Iter     7:    Energy =   0.1253
Level     1,  Iter     8:    Energy =   0.1261
Level     1,  Iter     9:    Energy =   0.1260
Level     1,  Iter    10:    Energy =   0.1273
Level     1,  Iter    11:    Energy =   0.1275
Level     1,  Iter    12:    Energy =   0.1279
Level     1,  Iter    13:    Energy =   0.1277
Level     1,  Iter    14:    Energy =   0.1286
Level     1,  Iter    15:    Energy =   0.1285
Level     1,  Iter    16:    Energy =   0.1291
Level     1,  Iter    17:    Energy =   0.1290
Level     1,  Iter    18:    Energy =   0.1296
Level     1,  Iter    19:    Energy =   0.1294
Level     1,  Iter    20:    Energy =   0.1300
Level     1,  Iter    21:    Energy =   0.1298
Level     1,  Iter    22:    Energy =   0.1303
Level     1,  Iter    23:    Energy =   0.1301
Level     1,  Iter    24:    Energy =   0.1306
Level     1,  Iter    25:    Energy =   0.1303
Level     1,  Iter    26:    Energy =   0.1308
Level     1,  Iter    27:    Energy =   0.1306
Level     1,  Iter    28:    Energy =   0.1310
Level     1,  Iter    29:    Energy =   0.1308
Level     1,  Iter    30:    Energy =   0.1313
Level     1,  Iter    31:    Energy =   0.1311
Level     1,  Iter    32:    Energy =   0.1315
Level     1,  Iter    33:    Energy =   0.1312
Level     1,  Iter    34:    Energy =   0.1317
Level     1,  Iter    35:    Energy =   0.1315
Level     1,  Iter    36:    Energy =   0.1319
Level     1,  Iter    37:    Energy =   0.1317
Level     1,  Iter    38:    Energy =   0.1322
Level     1,  Iter    39:    Energy =   0.1320
Level     1,  Iter    40:    Energy =   0.1324
Level     1,  Iter    41:    Energy =   0.1320
Level     1,  Iter    42:    Energy =   0.1325
Level     1,  Iter    43:    Energy =   0.1322
Level     1,  Iter    44:    Energy =   0.1326
Level     1,  Iter    45:    Energy =   0.1322
Level     1,  Iter    46:    Energy =   0.1327
Level     1,  Iter    47:    Energy =   0.1325
Level     1,  Iter    48:    Energy =   0.1327
Level     1,  Iter    49:    Energy =   0.1323
Level     1,  Iter    50:    Energy =   0.1329
Level     1,  Iter    51:    Energy =   0.1326
Level     1,  Iter    52:    Energy =   0.1329
Level     1,  Iter    53:    Energy =   0.1325
Level     1,  Iter    54:    Energy =   0.1330
Level     1,  Iter    55:    Energy =   0.1326
Level     1,  Iter    56:    Energy =   0.1330
Level     1,  Iter    57:    Energy =   0.1326
Level     1,  Iter    58:    Energy =   0.1331
Level     1,  Iter    59:    Energy =   0.1327
END OF LEVEL     1    DetJac Range:   0.1489  to   3.0732 
  Avg. Gradient Time  : 0.0464s  32.88% 
  Avg. Gaussian Time  : 0.0762s  54.02% 
  Avg. Iteration Time : 0.1411s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0659
Level     2,  Iter     1:    Energy =   0.0686
Level     2,  Iter     2:    Energy =   0.0715
Level     2,  Iter     3:    Energy =   0.0738
Level     2,  Iter     4:    Energy =   0.0757
Level     2,  Iter     5:    Energy =   0.0774
Level     2,  Iter     6:    Energy =   0.0793
Level     2,  Iter     7:    Energy =   0.0809
Level     2,  Iter     8:    Energy =   0.0819
Level     2,  Iter     9:    Energy =   0.0827
Level     2,  Iter    10:    Energy =   0.0835
Level     2,  Iter    11:    Energy =   0.0847
Level     2,  Iter    12:    Energy =   0.0858
Level     2,  Iter    13:    Energy =   0.0866
Level     2,  Iter    14:    Energy =   0.0874
Level     2,  Iter    15:    Energy =   0.0880
Level     2,  Iter    16:    Energy =   0.0885
Level     2,  Iter    17:    Energy =   0.0890
Level     2,  Iter    18:    Energy =   0.0894
Level     2,  Iter    19:    Energy =   0.0898
END OF LEVEL     2    DetJac Range:   0.0676  to   5.0881 
  Avg. Gradient Time  : 0.3301s  30.66% 
  Avg. Gaussian Time  : 0.5985s  55.58% 
  Avg. Iteration Time : 1.0769s 

real	0m36.475s
user	1m6.852s
sys	0m1.488s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=9 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=9 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.251923 0.257692
+ echo 'CHUNK 0.251923 0.257692 1'
CHUNK 0.251923 0.257692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.251923 0.257692 1
====================================
         PROGRESS: 0.251923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=010
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 010
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train010
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train010
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left 010 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train010 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=left
+ local tid=010
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train010
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 010 left 0
+ local tid=010
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 010 0
+ set -e
+ local tid=010
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.461945
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3874.11   GNORM= 554.967
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -3979.011     648.820       0.002
   2    3     -4080.883     354.872       1.000
   3    4     -4104.550     137.125       1.000
   4    5     -4114.361     121.884       1.000
   5    6     -4146.276     178.572       1.000
   6    7     -4160.999     113.793       1.000
   7    8     -4171.795      71.894       1.000
   8    9     -4181.872     106.490       1.000
   9   10     -4189.382      60.199       1.000
  10   11     -4192.900      69.283       1.000
  11   12     -4196.671      91.534       1.000
  12   13     -4208.017      82.340       1.000
  13   14     -4212.593      62.898       1.000
  14   15     -4213.861      83.061       1.000
  15   16     -4215.181      23.715       1.000
  16   17     -4215.468      19.886       1.000
  17   18     -4215.945      32.820       1.000
  18   19     -4216.853      30.735       1.000
  19   21     -4217.432      38.982       0.475
  20   22     -4218.014      33.059       1.000
  21   23     -4218.559      45.231       1.000
  22   24     -4218.996      34.263       1.000
  23   26     -4219.388      18.892       0.278
  24   27     -4219.491      14.584       1.000
  25   28     -4219.644      17.100       1.000
  26   29     -4219.835      25.261       1.000
  27   30     -4220.127      28.325       1.000
  28   31     -4220.276      13.670       1.000
  29   32     -4220.405       9.170       1.000
  30   33     -4220.563       9.847       1.000
  31   34     -4220.649      12.513       1.000
  32   35     -4220.745      34.994       1.000
  33   36     -4220.894      22.907       1.000
  34   37     -4220.986       7.895       1.000
  35   38     -4221.030       6.111       1.000
  36   39     -4221.072      12.207       1.000
  37   40     -4221.104      11.421       1.000
  38   41     -4221.113      11.594       1.000
  39   42     -4221.137       8.021       1.000
  40   43     -4221.169       5.424       1.000
  41   44     -4221.206       8.710       1.000
  42   46     -4221.259      11.111       0.263
  43   47     -4221.288       8.125       1.000
  44   48     -4221.317       8.343       1.000
  45   49     -4221.360      10.931       1.000
  46   51     -4221.373      10.681       0.384
  47   52     -4221.409       4.085       1.000
  48   53     -4221.416       4.701       1.000
  49   54     -4221.430       4.266       1.000
  50   55     -4221.431       2.334       1.000
  51   56     -4221.436       2.450       1.000
Final RAS Transform: 
0.97104 -0.0213144 -0.03342 -1.41124 
0.03157 1.00673 0.04228 0.635834 
-0.0196048 -0.0113177 0.999876 -0.51585 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2903.07   GNORM= 293.418
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2916.703      58.189       0.000
   2    4     -2917.752      51.304       1.000
   3    5     -2920.721      92.256       1.000
   4    6     -2926.049     134.165       1.000
   5    7     -2937.192     176.994       1.000
   6    8     -2947.849     141.030       1.000
   7    9     -2949.192     106.007       1.000
   8   10     -2953.749      29.322       1.000
   9   11     -2954.756      20.249       1.000
  10   12     -2956.079      33.529       1.000
  11   13     -2956.710      17.544       1.000
  12   14     -2957.006      11.771       1.000
  13   15     -2957.508      27.997       1.000
  14   16     -2958.015      23.224       1.000
  15   17     -2958.362      22.044       1.000
  16   18     -2958.715      12.253       1.000
  17   19     -2958.908      15.498       1.000
  18   20     -2959.096      17.695       1.000
  19   21     -2959.199      15.202       1.000
  20   22     -2959.245       4.661       1.000
  21   23     -2959.263       5.128       1.000
  22   24     -2959.279       7.423       1.000
  23   25     -2959.298      12.110       1.000
  24   26     -2959.326       4.030       1.000
  25   27     -2959.352       3.827       1.000
  26   29     -2959.400      10.750       0.329
  27   30     -2959.446       8.195       1.000
  28   31     -2959.507       5.973       1.000
  29   32     -2959.580       4.918       1.000
  30   33     -2959.721      14.050       1.000
  31   34     -2959.814      21.059       1.000
  32   35     -2959.955       8.189       1.000
  33   36     -2959.984       4.432       1.000
  34   37     -2960.023       5.391       1.000
  35   38     -2960.062      13.379       1.000
  36   39     -2960.106       7.569       1.000
  37   40     -2960.171       9.207       1.000
  38   41     -2960.198       7.965       1.000
  39   42     -2960.232       6.041       1.000
  40   43     -2960.266       4.766       1.000
  41   45     -2960.293       9.429       0.488
  42   46     -2960.319       6.715       1.000
  43   47     -2960.333       6.256       1.000
  44   48     -2960.348       4.228       1.000
  45   49     -2960.361       3.871       1.000
  46   50     -2960.365       5.161       1.000
  47   51     -2960.399       3.361       1.000
  48   52     -2960.429       3.200       1.000
  49   53     -2960.477       5.039       1.000
  50   55     -2960.479       2.396       0.263
  51   56     -2960.490       2.232       1.000
Final RAS Transform: 
0.973855 -0.00378904 -0.0373965 -1.13719 
0.0420646 0.994554 0.0488022 0.908592 
-0.0263277 0.00229188 1.00866 -0.558595 
0 0 0 1 

Final RAS Transform: 
0.973855 -0.00378904 -0.0373965 -1.13719 
0.0420646 0.994554 0.0488022 0.908592 
-0.0263277 0.00229188 1.00866 -0.558595 
0 0 0 1 


real	0m10.022s
user	0m17.492s
sys	0m0.452s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.46607
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1204
Level     0,  Iter     1:    Energy =   0.1287
Level     0,  Iter     2:    Energy =   0.1347
Level     0,  Iter     3:    Energy =   0.1386
Level     0,  Iter     4:    Energy =   0.1416
Level     0,  Iter     5:    Energy =   0.1443
Level     0,  Iter     6:    Energy =   0.1463
Level     0,  Iter     7:    Energy =   0.1481
Level     0,  Iter     8:    Energy =   0.1497
Level     0,  Iter     9:    Energy =   0.1509
Level     0,  Iter    10:    Energy =   0.1516
Level     0,  Iter    11:    Energy =   0.1520
Level     0,  Iter    12:    Energy =   0.1527
Level     0,  Iter    13:    Energy =   0.1528
Level     0,  Iter    14:    Energy =   0.1534
Level     0,  Iter    15:    Energy =   0.1535
Level     0,  Iter    16:    Energy =   0.1540
Level     0,  Iter    17:    Energy =   0.1542
Level     0,  Iter    18:    Energy =   0.1544
Level     0,  Iter    19:    Energy =   0.1547
Level     0,  Iter    20:    Energy =   0.1549
Level     0,  Iter    21:    Energy =   0.1553
Level     0,  Iter    22:    Energy =   0.1554
Level     0,  Iter    23:    Energy =   0.1557
Level     0,  Iter    24:    Energy =   0.1557
Level     0,  Iter    25:    Energy =   0.1560
Level     0,  Iter    26:    Energy =   0.1560
Level     0,  Iter    27:    Energy =   0.1563
Level     0,  Iter    28:    Energy =   0.1562
Level     0,  Iter    29:    Energy =   0.1566
Level     0,  Iter    30:    Energy =   0.1566
Level     0,  Iter    31:    Energy =   0.1567
Level     0,  Iter    32:    Energy =   0.1565
Level     0,  Iter    33:    Energy =   0.1568
Level     0,  Iter    34:    Energy =   0.1568
Level     0,  Iter    35:    Energy =   0.1569
Level     0,  Iter    36:    Energy =   0.1568
Level     0,  Iter    37:    Energy =   0.1570
Level     0,  Iter    38:    Energy =   0.1569
Level     0,  Iter    39:    Energy =   0.1570
Level     0,  Iter    40:    Energy =   0.1569
Level     0,  Iter    41:    Energy =   0.1570
Level     0,  Iter    42:    Energy =   0.1570
Level     0,  Iter    43:    Energy =   0.1570
Level     0,  Iter    44:    Energy =   0.1570
Level     0,  Iter    45:    Energy =   0.1570
Level     0,  Iter    46:    Energy =   0.1570
Level     0,  Iter    47:    Energy =   0.1570
Level     0,  Iter    48:    Energy =   0.1570
Level     0,  Iter    49:    Energy =   0.1569
Level     0,  Iter    50:    Energy =   0.1570
Level     0,  Iter    51:    Energy =   0.1569
Level     0,  Iter    52:    Energy =   0.1570
Level     0,  Iter    53:    Energy =   0.1569
Level     0,  Iter    54:    Energy =   0.1571
Level     0,  Iter    55:    Energy =   0.1570
Level     0,  Iter    56:    Energy =   0.1571
Level     0,  Iter    57:    Energy =   0.1570
Level     0,  Iter    58:    Energy =   0.1571
Level     0,  Iter    59:    Energy =   0.1570
END OF LEVEL     0    DetJac Range:   0.2671  to   2.3308 
  Avg. Gradient Time  : 0.0079s  34.64% 
  Avg. Gaussian Time  : 0.0113s  49.38% 
  Avg. Iteration Time : 0.0228s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.1042
Level     1,  Iter     1:    Energy =   0.1095
Level     1,  Iter     2:    Energy =   0.1147
Level     1,  Iter     3:    Energy =   0.1186
Level     1,  Iter     4:    Energy =   0.1215
Level     1,  Iter     5:    Energy =   0.1240
Level     1,  Iter     6:    Energy =   0.1261
Level     1,  Iter     7:    Energy =   0.1278
Level     1,  Iter     8:    Energy =   0.1292
Level     1,  Iter     9:    Energy =   0.1296
Level     1,  Iter    10:    Energy =   0.1308
Level     1,  Iter    11:    Energy =   0.1309
Level     1,  Iter    12:    Energy =   0.1315
Level     1,  Iter    13:    Energy =   0.1317
Level     1,  Iter    14:    Energy =   0.1321
Level     1,  Iter    15:    Energy =   0.1323
Level     1,  Iter    16:    Energy =   0.1325
Level     1,  Iter    17:    Energy =   0.1327
Level     1,  Iter    18:    Energy =   0.1329
Level     1,  Iter    19:    Energy =   0.1331
Level     1,  Iter    20:    Energy =   0.1333
Level     1,  Iter    21:    Energy =   0.1335
Level     1,  Iter    22:    Energy =   0.1336
Level     1,  Iter    23:    Energy =   0.1338
Level     1,  Iter    24:    Energy =   0.1339
Level     1,  Iter    25:    Energy =   0.1341
Level     1,  Iter    26:    Energy =   0.1341
Level     1,  Iter    27:    Energy =   0.1343
Level     1,  Iter    28:    Energy =   0.1344
Level     1,  Iter    29:    Energy =   0.1345
Level     1,  Iter    30:    Energy =   0.1346
Level     1,  Iter    31:    Energy =   0.1347
Level     1,  Iter    32:    Energy =   0.1347
Level     1,  Iter    33:    Energy =   0.1348
Level     1,  Iter    34:    Energy =   0.1348
Level     1,  Iter    35:    Energy =   0.1349
Level     1,  Iter    36:    Energy =   0.1349
Level     1,  Iter    37:    Energy =   0.1351
Level     1,  Iter    38:    Energy =   0.1350
Level     1,  Iter    39:    Energy =   0.1352
Level     1,  Iter    40:    Energy =   0.1351
Level     1,  Iter    41:    Energy =   0.1352
Level     1,  Iter    42:    Energy =   0.1352
Level     1,  Iter    43:    Energy =   0.1353
Level     1,  Iter    44:    Energy =   0.1352
Level     1,  Iter    45:    Energy =   0.1354
Level     1,  Iter    46:    Energy =   0.1352
Level     1,  Iter    47:    Energy =   0.1355
Level     1,  Iter    48:    Energy =   0.1354
Level     1,  Iter    49:    Energy =   0.1355
Level     1,  Iter    50:    Energy =   0.1354
Level     1,  Iter    51:    Energy =   0.1355
Level     1,  Iter    52:    Energy =   0.1354
Level     1,  Iter    53:    Energy =   0.1356
Level     1,  Iter    54:    Energy =   0.1355
Level     1,  Iter    55:    Energy =   0.1357
Level     1,  Iter    56:    Energy =   0.1356
Level     1,  Iter    57:    Energy =   0.1358
Level     1,  Iter    58:    Energy =   0.1357
Level     1,  Iter    59:    Energy =   0.1359
END OF LEVEL     1    DetJac Range:   0.1237  to   3.1759 
  Avg. Gradient Time  : 0.0461s  32.76% 
  Avg. Gaussian Time  : 0.0762s  54.10% 
  Avg. Iteration Time : 0.1408s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0705
Level     2,  Iter     1:    Energy =   0.0734
Level     2,  Iter     2:    Energy =   0.0761
Level     2,  Iter     3:    Energy =   0.0784
Level     2,  Iter     4:    Energy =   0.0803
Level     2,  Iter     5:    Energy =   0.0816
Level     2,  Iter     6:    Energy =   0.0826
Level     2,  Iter     7:    Energy =   0.0832
Level     2,  Iter     8:    Energy =   0.0839
Level     2,  Iter     9:    Energy =   0.0846
Level     2,  Iter    10:    Energy =   0.0855
Level     2,  Iter    11:    Energy =   0.0868
Level     2,  Iter    12:    Energy =   0.0880
Level     2,  Iter    13:    Energy =   0.0890
Level     2,  Iter    14:    Energy =   0.0899
Level     2,  Iter    15:    Energy =   0.0903
Level     2,  Iter    16:    Energy =   0.0903
Level     2,  Iter    17:    Energy =   0.0903
Level     2,  Iter    18:    Energy =   0.0905
Level     2,  Iter    19:    Energy =   0.0904
END OF LEVEL     2    DetJac Range:   0.0646  to   3.9756 
  Avg. Gradient Time  : 0.3311s  30.75% 
  Avg. Gaussian Time  : 0.5975s  55.48% 
  Avg. Iteration Time : 1.0771s 

real	0m36.516s
user	1m6.756s
sys	0m1.544s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=10 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=10 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.257692 0.263462
+ echo 'CHUNK 0.257692 0.263462 1'
CHUNK 0.257692 0.263462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.257692 0.263462 1
====================================
         PROGRESS: 0.257692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=011
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 011
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train011
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train011
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left 011 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train011 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=left
+ local tid=011
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train011
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 011 left 0
+ local tid=011
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 011 0
+ set -e
+ local tid=011
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.452227
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3380.05   GNORM= 589.997
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -3534.602     584.807       0.002
   2    3     -3626.468     328.130       1.000
   3    4     -3649.483     142.624       1.000
   4    5     -3665.378     130.948       1.000
   5    6     -3687.484     151.128       1.000
   6    7     -3724.202     192.186       1.000
   7    8     -3745.576     130.451       1.000
   8    9     -3749.151     203.819       1.000
   9   10     -3756.638      35.662       1.000
  10   11     -3757.135      32.049       1.000
  11   12     -3759.079      38.241       1.000
  12   13     -3761.839      55.202       1.000
  13   14     -3762.525     105.007       1.000
  14   15     -3764.111      29.986       1.000
  15   16     -3764.554      21.825       1.000
  16   17     -3765.114      25.732       1.000
  17   19     -3766.413      54.533       0.423
  18   20     -3767.646      52.874       1.000
  19   21     -3768.736      33.255       1.000
  20   22     -3769.257      17.999       1.000
  21   23     -3769.537      14.989       1.000
  22   24     -3769.570      26.863       1.000
  23   25     -3769.775      11.140       1.000
  24   26     -3769.949       9.051       1.000
  25   27     -3770.409      23.082       1.000
  26   28     -3770.625      13.435       1.000
  27   29     -3770.809      14.433       1.000
  28   31     -3771.122      10.202       0.206
  29   33     -3771.169      12.637       0.286
  30   34     -3771.197       9.117       1.000
  31   35     -3771.230       4.302       1.000
  32   36     -3771.243       4.874       1.000
  33   37     -3771.252       3.832       1.000
  34   39     -3771.264       3.959       0.480
  35   40     -3771.268       2.564       1.000
  36   41     -3771.271       4.374       1.000
  37   42     -3771.276       2.018       1.000
  38   43     -3771.278       2.267       1.000
  39   45     -3771.282       2.418       0.092
  40   46     -3771.283       1.445       1.000
Final RAS Transform: 
0.990762 -0.0136428 0.0161649 0.00568416 
0.0170916 1.0029 0.0802738 0.172893 
-0.00900747 -0.00559613 1.00555 -0.0272536 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2708.37   GNORM= 189.271
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2719.897     118.000       0.000
   2    4     -2727.752     120.872       1.000
   3    5     -2734.755      50.967       1.000
   4    6     -2736.885      38.289       1.000
   5    7     -2742.150      85.869       1.000
   6    8     -2748.340     105.943       1.000
   7    9     -2753.612      74.181       1.000
   8   10     -2756.054      40.598       1.000
   9   11     -2756.613      18.896       1.000
  10   12     -2756.952      20.349       1.000
  11   13     -2757.388      26.555       1.000
  12   14     -2758.853      46.851       1.000
  13   15     -2759.571      32.256       1.000
  14   16     -2760.362      45.108       1.000
  15   17     -2760.886      22.227       1.000
  16   18     -2761.189      18.608       1.000
  17   19     -2762.279      20.409       1.000
  18   20     -2763.209      13.563       1.000
  19   21     -2763.295      18.007       1.000
  20   22     -2763.518      13.967       1.000
  21   23     -2763.634       8.404       1.000
  22   24     -2763.789      12.021       1.000
  23   25     -2764.190      16.709       1.000
  24   26     -2764.537      43.369       1.000
  25   27     -2765.541      17.635       1.000
  26   28     -2766.025      13.315       1.000
  27   29     -2766.235       7.637       1.000
  28   31     -2766.293      14.124       0.355
  29   32     -2766.366      13.071       1.000
  30   33     -2766.797      18.239       1.000
  31   34     -2767.114       8.563       1.000
  32   35     -2767.165       4.146       1.000
  33   36     -2767.183       3.532       1.000
  34   37     -2767.236       9.239       1.000
  35   38     -2767.286       9.099       1.000
  36   39     -2767.343       6.742       1.000
  37   40     -2767.408      13.511       1.000
  38   41     -2767.446      17.647       1.000
  39   42     -2767.500       5.994       1.000
  40   43     -2767.505       4.751       1.000
  41   44     -2767.523       3.240       1.000
  42   45     -2767.529       1.784       1.000
  43   46     -2767.547       3.157       1.000
Final RAS Transform: 
1.00352 -0.00682221 0.00126095 0.407075 
0.0288338 1.00231 0.0525414 0.586393 
-0.0161368 0.00316664 1.02579 -0.0444447 
0 0 0 1 

Final RAS Transform: 
1.00352 -0.00682221 0.00126095 0.407075 
0.0288338 1.00231 0.0525414 0.586393 
-0.0161368 0.00316664 1.02579 -0.0444447 
0 0 0 1 


real	0m9.292s
user	0m16.240s
sys	0m0.428s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.461108
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1086
Level     0,  Iter     1:    Energy =   0.1154
Level     0,  Iter     2:    Energy =   0.1213
Level     0,  Iter     3:    Energy =   0.1260
Level     0,  Iter     4:    Energy =   0.1297
Level     0,  Iter     5:    Energy =   0.1315
Level     0,  Iter     6:    Energy =   0.1328
Level     0,  Iter     7:    Energy =   0.1334
Level     0,  Iter     8:    Energy =   0.1344
Level     0,  Iter     9:    Energy =   0.1349
Level     0,  Iter    10:    Energy =   0.1353
Level     0,  Iter    11:    Energy =   0.1356
Level     0,  Iter    12:    Energy =   0.1358
Level     0,  Iter    13:    Energy =   0.1361
Level     0,  Iter    14:    Energy =   0.1362
Level     0,  Iter    15:    Energy =   0.1365
Level     0,  Iter    16:    Energy =   0.1365
Level     0,  Iter    17:    Energy =   0.1370
Level     0,  Iter    18:    Energy =   0.1370
Level     0,  Iter    19:    Energy =   0.1374
Level     0,  Iter    20:    Energy =   0.1375
Level     0,  Iter    21:    Energy =   0.1380
Level     0,  Iter    22:    Energy =   0.1380
Level     0,  Iter    23:    Energy =   0.1384
Level     0,  Iter    24:    Energy =   0.1384
Level     0,  Iter    25:    Energy =   0.1389
Level     0,  Iter    26:    Energy =   0.1389
Level     0,  Iter    27:    Energy =   0.1392
Level     0,  Iter    28:    Energy =   0.1393
Level     0,  Iter    29:    Energy =   0.1395
Level     0,  Iter    30:    Energy =   0.1395
Level     0,  Iter    31:    Energy =   0.1397
Level     0,  Iter    32:    Energy =   0.1397
Level     0,  Iter    33:    Energy =   0.1399
Level     0,  Iter    34:    Energy =   0.1399
Level     0,  Iter    35:    Energy =   0.1401
Level     0,  Iter    36:    Energy =   0.1401
Level     0,  Iter    37:    Energy =   0.1403
Level     0,  Iter    38:    Energy =   0.1403
Level     0,  Iter    39:    Energy =   0.1403
Level     0,  Iter    40:    Energy =   0.1403
Level     0,  Iter    41:    Energy =   0.1405
Level     0,  Iter    42:    Energy =   0.1405
Level     0,  Iter    43:    Energy =   0.1405
Level     0,  Iter    44:    Energy =   0.1405
Level     0,  Iter    45:    Energy =   0.1407
Level     0,  Iter    46:    Energy =   0.1405
Level     0,  Iter    47:    Energy =   0.1406
Level     0,  Iter    48:    Energy =   0.1405
Level     0,  Iter    49:    Energy =   0.1406
Level     0,  Iter    50:    Energy =   0.1405
Level     0,  Iter    51:    Energy =   0.1407
Level     0,  Iter    52:    Energy =   0.1406
Level     0,  Iter    53:    Energy =   0.1407
Level     0,  Iter    54:    Energy =   0.1405
Level     0,  Iter    55:    Energy =   0.1406
Level     0,  Iter    56:    Energy =   0.1404
Level     0,  Iter    57:    Energy =   0.1404
Level     0,  Iter    58:    Energy =   0.1403
Level     0,  Iter    59:    Energy =   0.1403
END OF LEVEL     0    DetJac Range:   0.1545  to   2.1349 
  Avg. Gradient Time  : 0.0083s  35.12% 
  Avg. Gaussian Time  : 0.0115s  48.95% 
  Avg. Iteration Time : 0.0235s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0949
Level     1,  Iter     1:    Energy =   0.1000
Level     1,  Iter     2:    Energy =   0.1037
Level     1,  Iter     3:    Energy =   0.1066
Level     1,  Iter     4:    Energy =   0.1090
Level     1,  Iter     5:    Energy =   0.1110
Level     1,  Iter     6:    Energy =   0.1128
Level     1,  Iter     7:    Energy =   0.1145
Level     1,  Iter     8:    Energy =   0.1163
Level     1,  Iter     9:    Energy =   0.1174
Level     1,  Iter    10:    Energy =   0.1185
Level     1,  Iter    11:    Energy =   0.1197
Level     1,  Iter    12:    Energy =   0.1206
Level     1,  Iter    13:    Energy =   0.1214
Level     1,  Iter    14:    Energy =   0.1218
Level     1,  Iter    15:    Energy =   0.1221
Level     1,  Iter    16:    Energy =   0.1219
Level     1,  Iter    17:    Energy =   0.1227
Level     1,  Iter    18:    Energy =   0.1224
Level     1,  Iter    19:    Energy =   0.1232
Level     1,  Iter    20:    Energy =   0.1229
Level     1,  Iter    21:    Energy =   0.1237
Level     1,  Iter    22:    Energy =   0.1233
Level     1,  Iter    23:    Energy =   0.1240
Level     1,  Iter    24:    Energy =   0.1237
Level     1,  Iter    25:    Energy =   0.1242
Level     1,  Iter    26:    Energy =   0.1239
Level     1,  Iter    27:    Energy =   0.1246
Level     1,  Iter    28:    Energy =   0.1242
Level     1,  Iter    29:    Energy =   0.1249
Level     1,  Iter    30:    Energy =   0.1245
Level     1,  Iter    31:    Energy =   0.1251
Level     1,  Iter    32:    Energy =   0.1247
Level     1,  Iter    33:    Energy =   0.1253
Level     1,  Iter    34:    Energy =   0.1249
Level     1,  Iter    35:    Energy =   0.1255
Level     1,  Iter    36:    Energy =   0.1251
Level     1,  Iter    37:    Energy =   0.1256
Level     1,  Iter    38:    Energy =   0.1251
Level     1,  Iter    39:    Energy =   0.1258
Level     1,  Iter    40:    Energy =   0.1253
Level     1,  Iter    41:    Energy =   0.1259
Level     1,  Iter    42:    Energy =   0.1254
Level     1,  Iter    43:    Energy =   0.1260
Level     1,  Iter    44:    Energy =   0.1256
Level     1,  Iter    45:    Energy =   0.1262
Level     1,  Iter    46:    Energy =   0.1257
Level     1,  Iter    47:    Energy =   0.1263
Level     1,  Iter    48:    Energy =   0.1258
Level     1,  Iter    49:    Energy =   0.1264
Level     1,  Iter    50:    Energy =   0.1260
Level     1,  Iter    51:    Energy =   0.1264
Level     1,  Iter    52:    Energy =   0.1260
Level     1,  Iter    53:    Energy =   0.1265
Level     1,  Iter    54:    Energy =   0.1262
Level     1,  Iter    55:    Energy =   0.1265
Level     1,  Iter    56:    Energy =   0.1261
Level     1,  Iter    57:    Energy =   0.1266
Level     1,  Iter    58:    Energy =   0.1263
Level     1,  Iter    59:    Energy =   0.1266
END OF LEVEL     1    DetJac Range:   0.1501  to   3.5528 
  Avg. Gradient Time  : 0.0457s  32.82% 
  Avg. Gaussian Time  : 0.0752s  53.93% 
  Avg. Iteration Time : 0.1394s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0666
Level     2,  Iter     1:    Energy =   0.0695
Level     2,  Iter     2:    Energy =   0.0724
Level     2,  Iter     3:    Energy =   0.0748
Level     2,  Iter     4:    Energy =   0.0768
Level     2,  Iter     5:    Energy =   0.0785
Level     2,  Iter     6:    Energy =   0.0798
Level     2,  Iter     7:    Energy =   0.0809
Level     2,  Iter     8:    Energy =   0.0821
Level     2,  Iter     9:    Energy =   0.0832
Level     2,  Iter    10:    Energy =   0.0838
Level     2,  Iter    11:    Energy =   0.0844
Level     2,  Iter    12:    Energy =   0.0850
Level     2,  Iter    13:    Energy =   0.0858
Level     2,  Iter    14:    Energy =   0.0864
Level     2,  Iter    15:    Energy =   0.0869
Level     2,  Iter    16:    Energy =   0.0873
Level     2,  Iter    17:    Energy =   0.0877
Level     2,  Iter    18:    Energy =   0.0881
Level     2,  Iter    19:    Energy =   0.0885
END OF LEVEL     2    DetJac Range:   0.0543  to   4.2558 
  Avg. Gradient Time  : 0.3307s  30.68% 
  Avg. Gaussian Time  : 0.5986s  55.53% 
  Avg. Iteration Time : 1.0779s 

real	0m36.493s
user	1m6.784s
sys	0m1.436s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=11 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=11 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.263462 0.269231
+ echo 'CHUNK 0.263462 0.269231 1'
CHUNK 0.263462 0.269231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.263462 0.269231 1
====================================
         PROGRESS: 0.263462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=012
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 012
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train012
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train012
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left 012 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train012 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=left
+ local tid=012
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train012
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 012 left 0
+ local tid=012
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 012 0
+ set -e
+ local tid=012
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.815522
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3539.11   GNORM= 442.515
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -3707.863     532.783       0.002
   2    3     -3725.695     484.873       1.000
   3    4     -3771.041     155.553       1.000
   4    5     -3781.576     119.763       1.000
   5    6     -3818.019     172.020       1.000
   6    7     -3855.955     196.694       1.000
   7    8     -3875.464     247.215       1.000
   8    9     -3892.721      67.362       1.000
   9   10     -3895.332      37.017       1.000
  10   11     -3899.093      44.423       1.000
  11   13     -3903.056      64.144       0.373
  12   14     -3909.361      80.686       1.000
  13   15     -3924.766      75.179       1.000
  14   16     -3930.204      36.445       1.000
  15   17     -3931.939      38.100       1.000
  16   18     -3933.342      32.559       1.000
  17   19     -3936.583      32.363       1.000
  18   21     -3937.160      28.488       0.329
  19   22     -3937.558      24.701       1.000
  20   23     -3937.768      12.823       1.000
  21   24     -3937.856      14.976       1.000
  22   25     -3938.015      13.640       1.000
  23   26     -3938.726      40.742       1.000
  24   27     -3939.288      24.393       1.000
  25   28     -3939.528      23.110       1.000
  26   29     -3939.772       8.622       1.000
  27   30     -3939.883       8.401       1.000
  28   31     -3940.052      20.215       1.000
  29   32     -3940.288      19.013       1.000
  30   33     -3940.607      26.050       1.000
  31   34     -3940.895      19.737       1.000
  32   35     -3941.346      13.190       1.000
  33   36     -3941.579      11.622       1.000
  34   37     -3941.840      13.767       1.000
  35   38     -3941.974      15.475       1.000
  36   40     -3942.091      28.478       0.119
  37   41     -3942.413      22.053       1.000
  38   42     -3942.948      13.554       1.000
  39   43     -3943.117      13.286       1.000
  40   44     -3943.150      20.801       1.000
  41   45     -3943.237       7.014       1.000
  42   46     -3943.262       9.461       1.000
  43   47     -3943.279       4.246       1.000
  44   48     -3943.300       3.804       1.000
  45   49     -3943.338       4.768       1.000
  46   50     -3943.367       9.339       1.000
  47   51     -3943.401       5.401       1.000
  48   52     -3943.406       2.282       1.000
  49   53     -3943.416       4.179       1.000
  50   54     -3943.418       2.211       1.000
  51   56     -3943.421       3.636       0.321
  52   58     -3943.424       3.237       0.242
  53   59     -3943.433       1.897       1.000
  54   60     -3943.438       1.843       1.000
Final RAS Transform: 
1.01358 -0.0132326 -0.0218281 0.227725 
-0.0493418 0.99791 0.0952832 -1.93236 
0.0207598 -0.0032105 0.983814 0.843301 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2757.41   GNORM= 386.257
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2784.017      65.970       0.000
   2    4     -2785.172      35.936       1.000
   3    5     -2785.962      36.700       1.000
   4    6     -2786.675      31.975       1.000
   5    7     -2787.068      14.425       1.000
   6    8     -2787.730      26.901       1.000
   7    9     -2788.353      52.788       1.000
   8   10     -2789.165      48.748       1.000
   9   11     -2790.002      35.059       1.000
  10   12     -2790.544      12.486       1.000
  11   13     -2790.730      17.368       1.000
  12   14     -2791.032      17.218       1.000
  13   16     -2791.071      33.563       0.102
  14   17     -2791.234      16.618       1.000
  15   18     -2791.349       7.213       1.000
  16   19     -2791.399       7.852       1.000
  17   20     -2791.552      21.945       1.000
  18   22     -2792.353      15.785       5.000
  19   23     -2792.812      13.907       1.000
  20   24     -2792.921      27.203       1.000
  21   25     -2793.121      20.802       1.000
  22   26     -2793.207       5.990       1.000
  23   27     -2793.237       5.090       1.000
  24   28     -2793.294       7.831       1.000
  25   30     -2793.337      11.448       0.390
  26   31     -2793.402       7.469       1.000
  27   32     -2793.474       5.568       1.000
  28   33     -2793.674       8.711       1.000
  29   35     -2793.713      14.648       0.125
  30   36     -2793.822       7.602       1.000
  31   37     -2793.871       8.070       1.000
  32   38     -2793.895       3.211       1.000
  33   39     -2793.916       2.965       1.000
  34   40     -2793.943       3.080       1.000
  35   42     -2793.951       8.523       0.341
  36   43     -2793.964       5.842       1.000
  37   44     -2793.979       2.373       1.000
  38   45     -2793.993       2.591       1.000
  39   47     -2794.001       4.443       0.186
  40   48     -2794.006       7.401       1.000
  41   49     -2794.027       3.562       1.000
  42   50     -2794.033       2.918       1.000
  43   52     -2794.041       3.079       0.064
  44   53     -2794.044       1.852       1.000
  45   54     -2794.047       1.497       1.000
  46   55     -2794.051       1.598       1.000
  47   57     -2794.056       1.263       0.429
Final RAS Transform: 
1.02075 -0.00762029 -0.00696409 0.702132 
-0.0482305 1.00729 0.101827 -1.65537 
0.0272717 -0.00575126 0.982296 0.817951 
0 0 0 1 

Final RAS Transform: 
1.02075 -0.00762029 -0.00696409 0.702132 
-0.0482305 1.00729 0.101827 -1.65537 
0.0272717 -0.00575126 0.982296 0.817951 
0 0 0 1 


real	0m10.069s
user	0m17.672s
sys	0m0.412s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.821372
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1154
Level     0,  Iter     1:    Energy =   0.1233
Level     0,  Iter     2:    Energy =   0.1309
Level     0,  Iter     3:    Energy =   0.1359
Level     0,  Iter     4:    Energy =   0.1403
Level     0,  Iter     5:    Energy =   0.1427
Level     0,  Iter     6:    Energy =   0.1444
Level     0,  Iter     7:    Energy =   0.1453
Level     0,  Iter     8:    Energy =   0.1471
Level     0,  Iter     9:    Energy =   0.1475
Level     0,  Iter    10:    Energy =   0.1485
Level     0,  Iter    11:    Energy =   0.1489
Level     0,  Iter    12:    Energy =   0.1502
Level     0,  Iter    13:    Energy =   0.1501
Level     0,  Iter    14:    Energy =   0.1499
Level     0,  Iter    15:    Energy =   0.1500
Level     0,  Iter    16:    Energy =   0.1505
Level     0,  Iter    17:    Energy =   0.1508
Level     0,  Iter    18:    Energy =   0.1512
Level     0,  Iter    19:    Energy =   0.1511
Level     0,  Iter    20:    Energy =   0.1508
Level     0,  Iter    21:    Energy =   0.1511
Level     0,  Iter    22:    Energy =   0.1509
Level     0,  Iter    23:    Energy =   0.1515
Level     0,  Iter    24:    Energy =   0.1513
Level     0,  Iter    25:    Energy =   0.1516
Level     0,  Iter    26:    Energy =   0.1514
Level     0,  Iter    27:    Energy =   0.1514
Level     0,  Iter    28:    Energy =   0.1512
Level     0,  Iter    29:    Energy =   0.1514
Level     0,  Iter    30:    Energy =   0.1511
Level     0,  Iter    31:    Energy =   0.1515
Level     0,  Iter    32:    Energy =   0.1514
Level     0,  Iter    33:    Energy =   0.1517
Level     0,  Iter    34:    Energy =   0.1515
Level     0,  Iter    35:    Energy =   0.1516
Level     0,  Iter    36:    Energy =   0.1515
Level     0,  Iter    37:    Energy =   0.1515
Level     0,  Iter    38:    Energy =   0.1515
Level     0,  Iter    39:    Energy =   0.1515
Level     0,  Iter    40:    Energy =   0.1514
Level     0,  Iter    41:    Energy =   0.1516
Level     0,  Iter    42:    Energy =   0.1514
Level     0,  Iter    43:    Energy =   0.1516
Level     0,  Iter    44:    Energy =   0.1514
Level     0,  Iter    45:    Energy =   0.1516
Level     0,  Iter    46:    Energy =   0.1515
Level     0,  Iter    47:    Energy =   0.1516
Level     0,  Iter    48:    Energy =   0.1515
Level     0,  Iter    49:    Energy =   0.1516
Level     0,  Iter    50:    Energy =   0.1515
Level     0,  Iter    51:    Energy =   0.1516
Level     0,  Iter    52:    Energy =   0.1515
Level     0,  Iter    53:    Energy =   0.1516
Level     0,  Iter    54:    Energy =   0.1515
Level     0,  Iter    55:    Energy =   0.1516
Level     0,  Iter    56:    Energy =   0.1515
Level     0,  Iter    57:    Energy =   0.1516
Level     0,  Iter    58:    Energy =   0.1515
Level     0,  Iter    59:    Energy =   0.1516
END OF LEVEL     0    DetJac Range:   0.3516  to   2.3794 
  Avg. Gradient Time  : 0.0069s  34.66% 
  Avg. Gaussian Time  : 0.0098s  49.36% 
  Avg. Iteration Time : 0.0199s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.1014
Level     1,  Iter     1:    Energy =   0.1060
Level     1,  Iter     2:    Energy =   0.1102
Level     1,  Iter     3:    Energy =   0.1136
Level     1,  Iter     4:    Energy =   0.1170
Level     1,  Iter     5:    Energy =   0.1190
Level     1,  Iter     6:    Energy =   0.1207
Level     1,  Iter     7:    Energy =   0.1224
Level     1,  Iter     8:    Energy =   0.1238
Level     1,  Iter     9:    Energy =   0.1250
Level     1,  Iter    10:    Energy =   0.1260
Level     1,  Iter    11:    Energy =   0.1269
Level     1,  Iter    12:    Energy =   0.1274
Level     1,  Iter    13:    Energy =   0.1278
Level     1,  Iter    14:    Energy =   0.1281
Level     1,  Iter    15:    Energy =   0.1283
Level     1,  Iter    16:    Energy =   0.1287
Level     1,  Iter    17:    Energy =   0.1290
Level     1,  Iter    18:    Energy =   0.1292
Level     1,  Iter    19:    Energy =   0.1295
Level     1,  Iter    20:    Energy =   0.1296
Level     1,  Iter    21:    Energy =   0.1298
Level     1,  Iter    22:    Energy =   0.1300
Level     1,  Iter    23:    Energy =   0.1301
Level     1,  Iter    24:    Energy =   0.1302
Level     1,  Iter    25:    Energy =   0.1303
Level     1,  Iter    26:    Energy =   0.1304
Level     1,  Iter    27:    Energy =   0.1304
Level     1,  Iter    28:    Energy =   0.1305
Level     1,  Iter    29:    Energy =   0.1306
Level     1,  Iter    30:    Energy =   0.1306
Level     1,  Iter    31:    Energy =   0.1308
Level     1,  Iter    32:    Energy =   0.1307
Level     1,  Iter    33:    Energy =   0.1309
Level     1,  Iter    34:    Energy =   0.1308
Level     1,  Iter    35:    Energy =   0.1310
Level     1,  Iter    36:    Energy =   0.1310
Level     1,  Iter    37:    Energy =   0.1311
Level     1,  Iter    38:    Energy =   0.1311
Level     1,  Iter    39:    Energy =   0.1312
Level     1,  Iter    40:    Energy =   0.1312
Level     1,  Iter    41:    Energy =   0.1313
Level     1,  Iter    42:    Energy =   0.1313
Level     1,  Iter    43:    Energy =   0.1314
Level     1,  Iter    44:    Energy =   0.1314
Level     1,  Iter    45:    Energy =   0.1315
Level     1,  Iter    46:    Energy =   0.1315
Level     1,  Iter    47:    Energy =   0.1316
Level     1,  Iter    48:    Energy =   0.1315
Level     1,  Iter    49:    Energy =   0.1317
Level     1,  Iter    50:    Energy =   0.1316
Level     1,  Iter    51:    Energy =   0.1318
Level     1,  Iter    52:    Energy =   0.1317
Level     1,  Iter    53:    Energy =   0.1318
Level     1,  Iter    54:    Energy =   0.1318
Level     1,  Iter    55:    Energy =   0.1319
Level     1,  Iter    56:    Energy =   0.1319
Level     1,  Iter    57:    Energy =   0.1320
Level     1,  Iter    58:    Energy =   0.1319
Level     1,  Iter    59:    Energy =   0.1321
END OF LEVEL     1    DetJac Range:   0.1834  to   3.2789 
  Avg. Gradient Time  : 0.0398s  32.86% 
  Avg. Gaussian Time  : 0.0653s  53.93% 
  Avg. Iteration Time : 0.1211s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0692
Level     2,  Iter     1:    Energy =   0.0718
Level     2,  Iter     2:    Energy =   0.0738
Level     2,  Iter     3:    Energy =   0.0758
Level     2,  Iter     4:    Energy =   0.0782
Level     2,  Iter     5:    Energy =   0.0800
Level     2,  Iter     6:    Energy =   0.0817
Level     2,  Iter     7:    Energy =   0.0833
Level     2,  Iter     8:    Energy =   0.0847
Level     2,  Iter     9:    Energy =   0.0859
Level     2,  Iter    10:    Energy =   0.0869
Level     2,  Iter    11:    Energy =   0.0877
Level     2,  Iter    12:    Energy =   0.0882
Level     2,  Iter    13:    Energy =   0.0887
Level     2,  Iter    14:    Energy =   0.0892
Level     2,  Iter    15:    Energy =   0.0895
Level     2,  Iter    16:    Energy =   0.0898
Level     2,  Iter    17:    Energy =   0.0901
Level     2,  Iter    18:    Energy =   0.0903
Level     2,  Iter    19:    Energy =   0.0905
END OF LEVEL     2    DetJac Range:   0.0895  to   4.4662 
  Avg. Gradient Time  : 0.2929s  30.95% 
  Avg. Gaussian Time  : 0.5249s  55.47% 
  Avg. Iteration Time : 0.9463s 

real	0m32.046s
user	0m58.480s
sys	0m1.200s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=12 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=12 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.269231 0.275
+ echo 'CHUNK 0.269231 0.275 1'
CHUNK 0.269231 0.275 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.269231 0.275 1
====================================
         PROGRESS: 0.269231               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=013
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 013
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train013
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train013
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left 013 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train013 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=left
+ local tid=013
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train013
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 013 left 0
+ local tid=013
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 013 0
+ set -e
+ local tid=013
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.701244
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2936.37   GNORM= 322.019
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2977.490     240.704       0.001
   2    4     -3002.831     187.757       1.000
   3    5     -3050.284      90.805       1.000
   4    6     -3068.286      83.051       1.000
   5    7     -3083.667      83.220       1.000
   6    8     -3099.957      85.291       1.000
   7    9     -3121.891     101.026       1.000
   8   11     -3124.895      71.622       0.114
   9   12     -3130.374      54.747       1.000
  10   13     -3140.131      57.455       1.000
  11   14     -3151.182      68.063       1.000
  12   15     -3166.687     105.135       1.000
  13   16     -3172.585      68.934       1.000
  14   17     -3176.772      26.885       1.000
  15   18     -3177.702      40.274       1.000
  16   19     -3178.749      19.236       1.000
  17   20     -3179.179      26.540       1.000
  18   21     -3180.671      22.932       1.000
  19   22     -3182.360      24.671       1.000
  20   23     -3183.133      26.242       1.000
  21   24     -3183.718      16.882       1.000
  22   26     -3184.272      17.812       0.516
  23   27     -3184.576      24.149       1.000
  24   28     -3184.796      25.733       1.000
  25   29     -3185.218      20.760       1.000
  26   30     -3185.525      21.780       1.000
  27   31     -3185.651      22.780       1.000
  28   32     -3185.919      14.191       1.000
  29   33     -3186.046      10.171       1.000
  30   35     -3186.199      10.400       0.427
  31   37     -3186.248       9.655       0.239
  32   38     -3186.433       7.876       1.000
  33   39     -3186.708       5.920       1.000
  34   41     -3186.763       9.378       0.113
  35   42     -3186.771      12.385       1.000
  36   43     -3186.820       6.433       1.000
  37   45     -3186.836       5.366       0.339
  38   46     -3186.857       7.831       1.000
  39   47     -3186.924       8.976       1.000
  40   48     -3186.970       5.132       1.000
  41   49     -3186.986       7.446       1.000
  42   50     -3187.007       4.638       1.000
  43   51     -3187.042       5.727       1.000
  44   52     -3187.065       4.414       1.000
  45   53     -3187.082      10.700       1.000
  46   54     -3187.115       7.469       1.000
  47   55     -3187.120       5.972       1.000
  48   57     -3187.123       3.925       0.282
  49   59     -3187.132       2.273       0.415
Final RAS Transform: 
0.909219 -0.0121741 0.01889 -2.67752 
0.00948417 1.00324 0.0578361 0.0938882 
-0.0176146 -0.00253578 1.02807 -0.342569 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2156.33   GNORM= 203.176
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2167.058      47.698       0.000
   2    4     -2168.228      42.958       1.000
   3    5     -2171.407      62.109       1.000
   4    6     -2176.564     102.038       1.000
   5    7     -2181.067      68.340       1.000
   6    8     -2184.375      21.188       1.000
   7    9     -2185.100      21.047       1.000
   8   10     -2186.819      69.083       1.000
   9   11     -2189.219      53.037       1.000
  10   12     -2192.139      36.525       1.000
  11   13     -2193.220      22.021       1.000
  12   14     -2194.073      16.272       1.000
  13   15     -2194.583      26.002       1.000
  14   16     -2195.408      25.254       1.000
  15   17     -2202.067      48.716       1.000
  16   18     -2204.137      86.856       1.000
  17   19     -2206.004      13.903       1.000
  18   20     -2206.129      11.632       1.000
  19   21     -2206.457      21.176       1.000
  20   22     -2207.048      32.071       1.000
  21   23     -2208.558      45.558       1.000
  22   25     -2210.062      67.672       0.510
  23   26     -2212.529      70.973       1.000
  24   27     -2215.067      40.004       1.000
  25   28     -2216.216      22.820       1.000
  26   29     -2216.923      16.084       1.000
  27   30     -2217.416      13.912       1.000
  28   31     -2218.269      28.845       1.000
  29   32     -2219.181      15.662       1.000
  30   33     -2219.983      13.876       1.000
  31   35     -2220.679      23.965       0.319
  32   36     -2221.420      23.638       1.000
  33   37     -2222.433      25.651       1.000
  34   38     -2223.461      24.569       1.000
  35   39     -2224.529      25.963       1.000
  36   40     -2225.462      26.716       1.000
  37   41     -2225.967      31.488       1.000
  38   42     -2226.649       9.490       1.000
  39   43     -2226.767       4.888       1.000
  40   44     -2226.853       6.637       1.000
  41   46     -2226.879       5.219       0.182
  42   47     -2226.909       6.011       1.000
  43   48     -2226.951       4.496       1.000
  44   49     -2227.043      12.685       1.000
  45   50     -2227.183       5.789       1.000
  46   51     -2227.338       6.992       1.000
  47   53     -2227.384       3.510       0.324
  48   54     -2227.435       4.033       1.000
  49   55     -2227.487       8.003       1.000
  50   56     -2227.534       6.944       1.000
  51   57     -2227.586       2.800       1.000
  52   58     -2227.649       7.357       1.000
  53   59     -2227.689       7.436       1.000
  54   60     -2227.719       3.800       1.000
  55   61     -2227.747       6.345       1.000
Final RAS Transform: 
0.982152 -0.0102297 0.00170831 -0.625744 
0.0305451 1.00211 0.0576462 0.781583 
-0.0139171 0.00765104 1.0225 -0.162205 
0 0 0 1 

Final RAS Transform: 
0.982152 -0.0102297 0.00170831 -0.625744 
0.0305451 1.00211 0.0576462 0.781583 
-0.0139171 0.00765104 1.0225 -0.162205 
0 0 0 1 


real	0m9.235s
user	0m16.192s
sys	0m0.424s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.712858
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0903
Level     0,  Iter     1:    Energy =   0.0962
Level     0,  Iter     2:    Energy =   0.1030
Level     0,  Iter     3:    Energy =   0.1073
Level     0,  Iter     4:    Energy =   0.1118
Level     0,  Iter     5:    Energy =   0.1151
Level     0,  Iter     6:    Energy =   0.1170
Level     0,  Iter     7:    Energy =   0.1180
Level     0,  Iter     8:    Energy =   0.1197
Level     0,  Iter     9:    Energy =   0.1202
Level     0,  Iter    10:    Energy =   0.1218
Level     0,  Iter    11:    Energy =   0.1221
Level     0,  Iter    12:    Energy =   0.1235
Level     0,  Iter    13:    Energy =   0.1238
Level     0,  Iter    14:    Energy =   0.1245
Level     0,  Iter    15:    Energy =   0.1245
Level     0,  Iter    16:    Energy =   0.1248
Level     0,  Iter    17:    Energy =   0.1249
Level     0,  Iter    18:    Energy =   0.1251
Level     0,  Iter    19:    Energy =   0.1251
Level     0,  Iter    20:    Energy =   0.1252
Level     0,  Iter    21:    Energy =   0.1252
Level     0,  Iter    22:    Energy =   0.1254
Level     0,  Iter    23:    Energy =   0.1255
Level     0,  Iter    24:    Energy =   0.1257
Level     0,  Iter    25:    Energy =   0.1258
Level     0,  Iter    26:    Energy =   0.1260
Level     0,  Iter    27:    Energy =   0.1261
Level     0,  Iter    28:    Energy =   0.1262
Level     0,  Iter    29:    Energy =   0.1263
Level     0,  Iter    30:    Energy =   0.1266
Level     0,  Iter    31:    Energy =   0.1268
Level     0,  Iter    32:    Energy =   0.1270
Level     0,  Iter    33:    Energy =   0.1271
Level     0,  Iter    34:    Energy =   0.1272
Level     0,  Iter    35:    Energy =   0.1273
Level     0,  Iter    36:    Energy =   0.1274
Level     0,  Iter    37:    Energy =   0.1275
Level     0,  Iter    38:    Energy =   0.1278
Level     0,  Iter    39:    Energy =   0.1279
Level     0,  Iter    40:    Energy =   0.1281
Level     0,  Iter    41:    Energy =   0.1281
Level     0,  Iter    42:    Energy =   0.1281
Level     0,  Iter    43:    Energy =   0.1281
Level     0,  Iter    44:    Energy =   0.1282
Level     0,  Iter    45:    Energy =   0.1282
Level     0,  Iter    46:    Energy =   0.1283
Level     0,  Iter    47:    Energy =   0.1283
Level     0,  Iter    48:    Energy =   0.1286
Level     0,  Iter    49:    Energy =   0.1287
Level     0,  Iter    50:    Energy =   0.1289
Level     0,  Iter    51:    Energy =   0.1288
Level     0,  Iter    52:    Energy =   0.1288
Level     0,  Iter    53:    Energy =   0.1288
Level     0,  Iter    54:    Energy =   0.1288
Level     0,  Iter    55:    Energy =   0.1289
Level     0,  Iter    56:    Energy =   0.1291
Level     0,  Iter    57:    Energy =   0.1291
Level     0,  Iter    58:    Energy =   0.1293
Level     0,  Iter    59:    Energy =   0.1294
END OF LEVEL     0    DetJac Range:   0.1834  to   2.5934 
  Avg. Gradient Time  : 0.0082s  35.13% 
  Avg. Gaussian Time  : 0.0115s  48.97% 
  Avg. Iteration Time : 0.0234s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0837
Level     1,  Iter     1:    Energy =   0.0874
Level     1,  Iter     2:    Energy =   0.0917
Level     1,  Iter     3:    Energy =   0.0947
Level     1,  Iter     4:    Energy =   0.0969
Level     1,  Iter     5:    Energy =   0.0986
Level     1,  Iter     6:    Energy =   0.1002
Level     1,  Iter     7:    Energy =   0.1017
Level     1,  Iter     8:    Energy =   0.1031
Level     1,  Iter     9:    Energy =   0.1045
Level     1,  Iter    10:    Energy =   0.1056
Level     1,  Iter    11:    Energy =   0.1066
Level     1,  Iter    12:    Energy =   0.1074
Level     1,  Iter    13:    Energy =   0.1081
Level     1,  Iter    14:    Energy =   0.1087
Level     1,  Iter    15:    Energy =   0.1092
Level     1,  Iter    16:    Energy =   0.1098
Level     1,  Iter    17:    Energy =   0.1102
Level     1,  Iter    18:    Energy =   0.1103
Level     1,  Iter    19:    Energy =   0.1106
Level     1,  Iter    20:    Energy =   0.1107
Level     1,  Iter    21:    Energy =   0.1109
Level     1,  Iter    22:    Energy =   0.1110
Level     1,  Iter    23:    Energy =   0.1113
Level     1,  Iter    24:    Energy =   0.1113
Level     1,  Iter    25:    Energy =   0.1117
Level     1,  Iter    26:    Energy =   0.1116
Level     1,  Iter    27:    Energy =   0.1119
Level     1,  Iter    28:    Energy =   0.1119
Level     1,  Iter    29:    Energy =   0.1121
Level     1,  Iter    30:    Energy =   0.1121
Level     1,  Iter    31:    Energy =   0.1123
Level     1,  Iter    32:    Energy =   0.1123
Level     1,  Iter    33:    Energy =   0.1125
Level     1,  Iter    34:    Energy =   0.1124
Level     1,  Iter    35:    Energy =   0.1126
Level     1,  Iter    36:    Energy =   0.1125
Level     1,  Iter    37:    Energy =   0.1127
Level     1,  Iter    38:    Energy =   0.1127
Level     1,  Iter    39:    Energy =   0.1128
Level     1,  Iter    40:    Energy =   0.1128
Level     1,  Iter    41:    Energy =   0.1128
Level     1,  Iter    42:    Energy =   0.1129
Level     1,  Iter    43:    Energy =   0.1129
Level     1,  Iter    44:    Energy =   0.1130
Level     1,  Iter    45:    Energy =   0.1130
Level     1,  Iter    46:    Energy =   0.1131
Level     1,  Iter    47:    Energy =   0.1131
Level     1,  Iter    48:    Energy =   0.1132
Level     1,  Iter    49:    Energy =   0.1132
Level     1,  Iter    50:    Energy =   0.1133
Level     1,  Iter    51:    Energy =   0.1132
Level     1,  Iter    52:    Energy =   0.1134
Level     1,  Iter    53:    Energy =   0.1133
Level     1,  Iter    54:    Energy =   0.1135
Level     1,  Iter    55:    Energy =   0.1134
Level     1,  Iter    56:    Energy =   0.1136
Level     1,  Iter    57:    Energy =   0.1135
Level     1,  Iter    58:    Energy =   0.1137
Level     1,  Iter    59:    Energy =   0.1135
END OF LEVEL     1    DetJac Range:   0.0983  to   3.1166 
  Avg. Gradient Time  : 0.0459s  32.85% 
  Avg. Gaussian Time  : 0.0754s  53.94% 
  Avg. Iteration Time : 0.1397s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0554
Level     2,  Iter     1:    Energy =   0.0577
Level     2,  Iter     2:    Energy =   0.0600
Level     2,  Iter     3:    Energy =   0.0623
Level     2,  Iter     4:    Energy =   0.0642
Level     2,  Iter     5:    Energy =   0.0659
Level     2,  Iter     6:    Energy =   0.0672
Level     2,  Iter     7:    Energy =   0.0683
Level     2,  Iter     8:    Energy =   0.0692
Level     2,  Iter     9:    Energy =   0.0700
Level     2,  Iter    10:    Energy =   0.0706
Level     2,  Iter    11:    Energy =   0.0712
Level     2,  Iter    12:    Energy =   0.0716
Level     2,  Iter    13:    Energy =   0.0721
Level     2,  Iter    14:    Energy =   0.0724
Level     2,  Iter    15:    Energy =   0.0727
Level     2,  Iter    16:    Energy =   0.0730
Level     2,  Iter    17:    Energy =   0.0732
Level     2,  Iter    18:    Energy =   0.0735
Level     2,  Iter    19:    Energy =   0.0737
END OF LEVEL     2    DetJac Range:   0.0634  to   3.5888 
  Avg. Gradient Time  : 0.3316s  30.74% 
  Avg. Gaussian Time  : 0.5984s  55.47% 
  Avg. Iteration Time : 1.0787s 

real	0m36.385s
user	1m6.412s
sys	0m1.624s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=13 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=13 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.275 0.280769
+ echo 'CHUNK 0.275 0.280769 1'
CHUNK 0.275 0.280769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.275 0.280769 1
====================================
         PROGRESS: 0.275               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=014
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 014
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train014
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train014
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left 014 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train014 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=left
+ local tid=014
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train014
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 014 left 0
+ local tid=014
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 014 0
+ set -e
+ local tid=014
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.557761
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3031.83   GNORM= 244.866
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3054.950     230.102       0.001
   2    4     -3078.023     214.539       1.000
   3    6     -3134.702     165.681       0.491
   4    7     -3171.252     113.118       1.000
   5    8     -3236.747     135.110       1.000
   6    9     -3261.054      88.920       1.000
   7   10     -3275.278      83.825       1.000
   8   11     -3288.834      63.753       1.000
   9   12     -3293.677     100.994       1.000
  10   13     -3303.073      61.095       1.000
  11   14     -3307.151      54.305       1.000
  12   15     -3309.948      45.632       1.000
  13   16     -3313.716      93.553       1.000
  14   17     -3317.880      56.406       1.000
  15   18     -3322.164      90.390       1.000
  16   19     -3326.401      71.056       1.000
  17   20     -3330.820      40.293       1.000
  18   21     -3336.922      66.563       1.000
  19   22     -3340.149      76.410       1.000
  20   23     -3346.944      39.643       1.000
  21   25     -3348.657      72.704       0.364
  22   26     -3351.133      44.604       1.000
  23   27     -3352.439      40.400       1.000
  24   28     -3353.552      38.391       1.000
  25   29     -3354.197      41.384       1.000
  26   30     -3356.340      33.094       1.000
  27   31     -3357.824      32.765       1.000
  28   32     -3360.369      46.492       1.000
  29   33     -3362.202      71.048       1.000
  30   35     -3365.324      71.705       0.395
  31   36     -3368.523      52.317       1.000
  32   37     -3369.288      54.537       1.000
  33   38     -3370.615      27.341       1.000
  34   39     -3371.200      17.603       1.000
  35   40     -3372.048      24.256       1.000
  36   42     -3373.261      21.518       0.496
  37   44     -3373.592      30.740       0.351
  38   45     -3373.876      20.161       1.000
  39   46     -3374.178      14.639       1.000
  40   47     -3374.453      16.694       1.000
  41   48     -3375.020      27.883       1.000
  42   49     -3375.376      16.680       1.000
  43   50     -3375.425      21.834       1.000
  44   51     -3375.537      10.680       1.000
  45   52     -3375.576      13.230       1.000
  46   53     -3375.601       7.154       1.000
  47   54     -3375.612       8.718       1.000
  48   55     -3375.626       4.504       1.000
  49   56     -3375.642       4.138       1.000
  50   57     -3375.663       5.777       1.000
  51   58     -3375.708      16.254       1.000
  52   59     -3375.728       7.842       1.000
  53   60     -3375.753       5.563       1.000
  54   61     -3375.777       7.000       1.000
Final RAS Transform: 
0.944945 -0.015545 -0.00786643 -2.02765 
-0.126988 0.990448 0.11578 -3.83323 
-0.00376502 -0.000192845 1.00136 0.0695369 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2343.49   GNORM= 220.685
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2354.482      51.005       0.000
   2    4     -2355.367      36.505       1.000
   3    5     -2356.300      42.810       1.000
   4    6     -2358.479      41.925       1.000
   5    7     -2360.323      45.680       1.000
   6    8     -2364.021      24.464       1.000
   7    9     -2365.264      18.643       1.000
   8   10     -2367.777      50.020       1.000
   9   11     -2369.231      29.974       1.000
  10   12     -2370.037      23.100       1.000
  11   13     -2371.523       8.529       1.000
  12   14     -2371.825       9.254       1.000
  13   15     -2372.595      13.311       1.000
  14   16     -2373.385      46.752       1.000
  15   17     -2374.096      40.482       1.000
  16   18     -2374.628      15.626       1.000
  17   19     -2374.872       7.984       1.000
  18   20     -2375.007      10.874       1.000
  19   21     -2375.186      13.718       1.000
  20   22     -2375.465      11.367       1.000
  21   24     -2375.841      27.612       0.476
  22   26     -2376.110      14.057       0.461
  23   27     -2376.191       8.305       1.000
  24   28     -2376.252       8.140       1.000
  25   29     -2376.417      13.237       1.000
  26   30     -2376.620      24.294       1.000
  27   31     -2377.004      18.824       1.000
  28   32     -2377.231       8.412       1.000
  29   33     -2377.299       5.136       1.000
  30   34     -2377.331       5.330       1.000
  31   35     -2377.385       4.066       1.000
  32   36     -2377.465      11.600       1.000
  33   37     -2377.539      14.066       1.000
  34   38     -2377.739      10.558       1.000
  35   39     -2377.858      11.931       1.000
  36   40     -2377.986       7.214       1.000
  37   41     -2378.159      11.117       1.000
  38   44     -2378.489      23.386       1.522
  39   46     -2378.572      10.503       0.410
  40   47     -2378.617       5.671       1.000
  41   48     -2378.695       3.821       1.000
  42   49     -2378.760       2.948       1.000
  43   50     -2378.787       3.690       1.000
  44   51     -2378.823       2.788       1.000
  45   52     -2378.926       6.004       1.000
  46   53     -2378.939      23.175       1.000
  47   54     -2379.096       7.136       1.000
  48   55     -2379.141       8.868       1.000
  49   56     -2379.208       9.150       1.000
  50   57     -2379.242      10.888       1.000
  51   58     -2379.270       7.111       1.000
  52   59     -2379.294       7.542       1.000
  53   60     -2379.310       5.756       1.000
  54   61     -2379.355      10.222       1.000
Final RAS Transform: 
0.970802 -0.0119378 0.00211219 -1.11954 
-0.0976592 0.987283 0.0967734 -3.23616 
0.00342311 0.00511786 1.00281 0.368781 
0 0 0 1 

Final RAS Transform: 
0.970802 -0.0119378 0.00211219 -1.11954 
-0.0976592 0.987283 0.0967734 -3.23616 
0.00342311 0.00511786 1.00281 0.368781 
0 0 0 1 


real	0m9.249s
user	0m16.220s
sys	0m0.448s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.566867
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0959
Level     0,  Iter     1:    Energy =   0.1022
Level     0,  Iter     2:    Energy =   0.1082
Level     0,  Iter     3:    Energy =   0.1132
Level     0,  Iter     4:    Energy =   0.1171
Level     0,  Iter     5:    Energy =   0.1185
Level     0,  Iter     6:    Energy =   0.1210
Level     0,  Iter     7:    Energy =   0.1218
Level     0,  Iter     8:    Energy =   0.1227
Level     0,  Iter     9:    Energy =   0.1231
Level     0,  Iter    10:    Energy =   0.1238
Level     0,  Iter    11:    Energy =   0.1241
Level     0,  Iter    12:    Energy =   0.1247
Level     0,  Iter    13:    Energy =   0.1248
Level     0,  Iter    14:    Energy =   0.1254
Level     0,  Iter    15:    Energy =   0.1253
Level     0,  Iter    16:    Energy =   0.1258
Level     0,  Iter    17:    Energy =   0.1257
Level     0,  Iter    18:    Energy =   0.1261
Level     0,  Iter    19:    Energy =   0.1261
Level     0,  Iter    20:    Energy =   0.1263
Level     0,  Iter    21:    Energy =   0.1263
Level     0,  Iter    22:    Energy =   0.1266
Level     0,  Iter    23:    Energy =   0.1266
Level     0,  Iter    24:    Energy =   0.1268
Level     0,  Iter    25:    Energy =   0.1267
Level     0,  Iter    26:    Energy =   0.1270
Level     0,  Iter    27:    Energy =   0.1270
Level     0,  Iter    28:    Energy =   0.1273
Level     0,  Iter    29:    Energy =   0.1273
Level     0,  Iter    30:    Energy =   0.1275
Level     0,  Iter    31:    Energy =   0.1275
Level     0,  Iter    32:    Energy =   0.1277
Level     0,  Iter    33:    Energy =   0.1277
Level     0,  Iter    34:    Energy =   0.1279
Level     0,  Iter    35:    Energy =   0.1278
Level     0,  Iter    36:    Energy =   0.1279
Level     0,  Iter    37:    Energy =   0.1280
Level     0,  Iter    38:    Energy =   0.1282
Level     0,  Iter    39:    Energy =   0.1281
Level     0,  Iter    40:    Energy =   0.1282
Level     0,  Iter    41:    Energy =   0.1281
Level     0,  Iter    42:    Energy =   0.1282
Level     0,  Iter    43:    Energy =   0.1281
Level     0,  Iter    44:    Energy =   0.1282
Level     0,  Iter    45:    Energy =   0.1281
Level     0,  Iter    46:    Energy =   0.1281
Level     0,  Iter    47:    Energy =   0.1282
Level     0,  Iter    48:    Energy =   0.1283
Level     0,  Iter    49:    Energy =   0.1283
Level     0,  Iter    50:    Energy =   0.1284
Level     0,  Iter    51:    Energy =   0.1283
Level     0,  Iter    52:    Energy =   0.1284
Level     0,  Iter    53:    Energy =   0.1284
Level     0,  Iter    54:    Energy =   0.1285
Level     0,  Iter    55:    Energy =   0.1284
Level     0,  Iter    56:    Energy =   0.1285
Level     0,  Iter    57:    Energy =   0.1284
Level     0,  Iter    58:    Energy =   0.1284
Level     0,  Iter    59:    Energy =   0.1285
END OF LEVEL     0    DetJac Range:   0.2738  to   2.1412 
  Avg. Gradient Time  : 0.0072s  35.05% 
  Avg. Gaussian Time  : 0.0101s  49.15% 
  Avg. Iteration Time : 0.0205s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0840
Level     1,  Iter     1:    Energy =   0.0878
Level     1,  Iter     2:    Energy =   0.0913
Level     1,  Iter     3:    Energy =   0.0944
Level     1,  Iter     4:    Energy =   0.0976
Level     1,  Iter     5:    Energy =   0.1004
Level     1,  Iter     6:    Energy =   0.1027
Level     1,  Iter     7:    Energy =   0.1044
Level     1,  Iter     8:    Energy =   0.1057
Level     1,  Iter     9:    Energy =   0.1071
Level     1,  Iter    10:    Energy =   0.1082
Level     1,  Iter    11:    Energy =   0.1093
Level     1,  Iter    12:    Energy =   0.1102
Level     1,  Iter    13:    Energy =   0.1112
Level     1,  Iter    14:    Energy =   0.1119
Level     1,  Iter    15:    Energy =   0.1126
Level     1,  Iter    16:    Energy =   0.1128
Level     1,  Iter    17:    Energy =   0.1131
Level     1,  Iter    18:    Energy =   0.1133
Level     1,  Iter    19:    Energy =   0.1135
Level     1,  Iter    20:    Energy =   0.1138
Level     1,  Iter    21:    Energy =   0.1139
Level     1,  Iter    22:    Energy =   0.1142
Level     1,  Iter    23:    Energy =   0.1141
Level     1,  Iter    24:    Energy =   0.1145
Level     1,  Iter    25:    Energy =   0.1144
Level     1,  Iter    26:    Energy =   0.1148
Level     1,  Iter    27:    Energy =   0.1146
Level     1,  Iter    28:    Energy =   0.1150
Level     1,  Iter    29:    Energy =   0.1148
Level     1,  Iter    30:    Energy =   0.1153
Level     1,  Iter    31:    Energy =   0.1150
Level     1,  Iter    32:    Energy =   0.1154
Level     1,  Iter    33:    Energy =   0.1152
Level     1,  Iter    34:    Energy =   0.1156
Level     1,  Iter    35:    Energy =   0.1154
Level     1,  Iter    36:    Energy =   0.1158
Level     1,  Iter    37:    Energy =   0.1155
Level     1,  Iter    38:    Energy =   0.1159
Level     1,  Iter    39:    Energy =   0.1158
Level     1,  Iter    40:    Energy =   0.1162
Level     1,  Iter    41:    Energy =   0.1157
Level     1,  Iter    42:    Energy =   0.1161
Level     1,  Iter    43:    Energy =   0.1162
Level     1,  Iter    44:    Energy =   0.1165
Level     1,  Iter    45:    Energy =   0.1160
Level     1,  Iter    46:    Energy =   0.1164
Level     1,  Iter    47:    Energy =   0.1163
Level     1,  Iter    48:    Energy =   0.1166
Level     1,  Iter    49:    Energy =   0.1162
Level     1,  Iter    50:    Energy =   0.1165
Level     1,  Iter    51:    Energy =   0.1165
Level     1,  Iter    52:    Energy =   0.1168
Level     1,  Iter    53:    Energy =   0.1164
Level     1,  Iter    54:    Energy =   0.1167
Level     1,  Iter    55:    Energy =   0.1165
Level     1,  Iter    56:    Energy =   0.1169
Level     1,  Iter    57:    Energy =   0.1164
Level     1,  Iter    58:    Energy =   0.1168
Level     1,  Iter    59:    Energy =   0.1166
END OF LEVEL     1    DetJac Range:   0.1047  to   3.5855 
  Avg. Gradient Time  : 0.0406s  32.99% 
  Avg. Gaussian Time  : 0.0665s  54.01% 
  Avg. Iteration Time : 0.1231s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0582
Level     2,  Iter     1:    Energy =   0.0605
Level     2,  Iter     2:    Energy =   0.0625
Level     2,  Iter     3:    Energy =   0.0642
Level     2,  Iter     4:    Energy =   0.0657
Level     2,  Iter     5:    Energy =   0.0672
Level     2,  Iter     6:    Energy =   0.0687
Level     2,  Iter     7:    Energy =   0.0701
Level     2,  Iter     8:    Energy =   0.0713
Level     2,  Iter     9:    Energy =   0.0725
Level     2,  Iter    10:    Energy =   0.0735
Level     2,  Iter    11:    Energy =   0.0744
Level     2,  Iter    12:    Energy =   0.0751
Level     2,  Iter    13:    Energy =   0.0757
Level     2,  Iter    14:    Energy =   0.0762
Level     2,  Iter    15:    Energy =   0.0767
Level     2,  Iter    16:    Energy =   0.0771
Level     2,  Iter    17:    Energy =   0.0775
Level     2,  Iter    18:    Energy =   0.0778
Level     2,  Iter    19:    Energy =   0.0780
END OF LEVEL     2    DetJac Range:   0.0912  to   3.7966 
  Avg. Gradient Time  : 0.2929s  30.96% 
  Avg. Gaussian Time  : 0.5246s  55.46% 
  Avg. Iteration Time : 0.9460s 

real	0m32.191s
user	0m58.708s
sys	0m1.272s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=14 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=14 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.280769 0.286538
+ echo 'CHUNK 0.280769 0.286538 1'
CHUNK 0.280769 0.286538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.280769 0.286538 1
====================================
         PROGRESS: 0.280769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=015
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 015
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train015
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train015
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left 015 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train015 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=left
+ local tid=015
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train015
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 015 left 0
+ local tid=015
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 015 0
+ set -e
+ local tid=015
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.771967
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4047.83   GNORM= 454.612
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4086.467     219.945       0.000
   2    4     -4099.837     193.812       1.000
   3    5     -4170.312     188.335       1.000
   4    6     -4205.600     139.035       1.000
   5    7     -4248.344     198.293       1.000
   6    8     -4261.520     185.988       1.000
   7    9     -4270.986      81.036       1.000
   8   10     -4278.643      37.333       1.000
   9   11     -4281.806      79.207       1.000
  10   12     -4284.442      76.897       1.000
  11   13     -4286.352      51.550       1.000
  12   14     -4291.902      48.215       1.000
  13   15     -4297.835     120.436       1.000
  14   16     -4301.514      88.712       1.000
  15   17     -4304.296      38.713       1.000
  16   18     -4304.929      26.557       1.000
  17   19     -4305.811      20.971       1.000
  18   21     -4306.473      24.137       0.424
  19   22     -4307.199      36.824       1.000
  20   23     -4307.868      39.844       1.000
  21   24     -4308.524      33.342       1.000
  22   25     -4309.245      24.655       1.000
  23   26     -4309.757      18.969       1.000
  24   27     -4310.044      25.410       1.000
  25   28     -4310.177       8.196       1.000
  26   29     -4310.216       6.785       1.000
  27   31     -4310.248      13.552       0.517
  28   32     -4310.299      11.947       1.000
  29   33     -4310.446      24.545       1.000
  30   34     -4310.594      13.662       1.000
  31   35     -4310.685       8.852       1.000
  32   36     -4310.766       9.757       1.000
  33   37     -4310.830       8.054       1.000
  34   38     -4310.868      16.691       1.000
  35   39     -4310.922      10.048       1.000
  36   40     -4310.949       5.992       1.000
  37   41     -4310.981       9.797       1.000
  38   42     -4311.001      16.085       1.000
  39   44     -4311.034       7.074       0.251
  40   45     -4311.063       7.194       1.000
  41   47     -4311.073       9.196       0.393
  42   48     -4311.091       4.688       1.000
  43   49     -4311.107      10.032       1.000
  44   50     -4311.110      12.678       1.000
  45   51     -4311.139       6.822       1.000
  46   52     -4311.152       5.662       1.000
  47   53     -4311.160       6.998       1.000
  48   54     -4311.166       4.028       1.000
  49   55     -4311.182       4.944       1.000
  50   56     -4311.182      13.767       1.000
  51   57     -4311.209       9.185       1.000
  52   58     -4311.234       7.011       1.000
  53   59     -4311.246       4.338       1.000
  54   60     -4311.260       2.698       1.000
Final RAS Transform: 
0.993964 -0.0225121 -0.0130984 -0.723841 
-0.0209006 1.00722 0.0957796 -0.280046 
-0.00190023 1.46972e-05 0.999467 -0.0483483 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2913.29   GNORM= 135.967
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2916.990      58.573       0.000
   2    4     -2918.168      48.190       1.000
   3    5     -2921.550      40.704       1.000
   4    6     -2923.047      24.039       1.000
   5    7     -2924.341      30.879       1.000
   6    8     -2925.157      24.533       1.000
   7    9     -2926.098      13.764       1.000
   8   10     -2926.967      17.464       1.000
   9   12     -2927.190      19.992       0.464
  10   13     -2927.547      12.886       1.000
  11   14     -2927.668      25.931       1.000
  12   15     -2927.795      11.242       1.000
  13   16     -2927.871       9.588       1.000
  14   17     -2928.039      16.785       1.000
  15   18     -2928.300      30.182       1.000
  16   19     -2928.775      36.004       1.000
  17   20     -2929.593      25.123       1.000
  18   21     -2929.910       9.354       1.000
  19   22     -2929.994       7.257       1.000
  20   23     -2930.293       8.579       1.000
  21   24     -2930.337      32.992       1.000
  22   25     -2930.689      14.369       1.000
  23   26     -2930.903       5.728       1.000
  24   27     -2930.982      20.369       1.000
  25   28     -2931.136       6.373       1.000
  26   29     -2931.188       8.986       1.000
  27   31     -2931.280      17.979       0.240
  28   32     -2931.392      13.206       1.000
  29   33     -2931.493       7.767       1.000
  30   34     -2931.563       9.821       1.000
  31   35     -2931.652       5.459       1.000
  32   36     -2931.747       4.592       1.000
  33   38     -2931.767       8.326       0.045
  34   40     -2931.792       9.239       0.376
  35   41     -2931.813       3.184       1.000
  36   42     -2931.834       3.987       1.000
  37   44     -2931.859       1.822       0.134
  38   45     -2931.868       2.538       1.000
  39   46     -2931.874       6.982       1.000
  40   47     -2931.896       3.512       1.000
  41   48     -2931.915       3.883       1.000
  42   51     -2931.921       3.351       0.117
  43   52     -2931.923       1.819       1.000
  44   53     -2931.925       2.544       1.000
  45   54     -2931.935       2.716       1.000
  46   55     -2931.947       4.252       1.000
  47   56     -2931.952       4.633       1.000
  48   57     -2931.953       2.205       1.000
  49   58     -2931.959       1.590       1.000
  50   59     -2931.965       5.837       1.000
  51   60     -2931.988       3.628       1.000
  52   61     -2932.006       3.770       1.000
Final RAS Transform: 
0.993657 -0.0113415 -0.000456008 -0.413845 
-0.0114672 1.00238 0.0879168 -0.0689242 
-0.00773637 0.00507279 1.01981 -0.0501801 
0 0 0 1 

Final RAS Transform: 
0.993657 -0.0113415 -0.000456008 -0.413845 
-0.0114672 1.00238 0.0879168 -0.0689242 
-0.00773637 0.00507279 1.01981 -0.0501801 
0 0 0 1 


real	0m10.103s
user	0m17.672s
sys	0m0.452s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.790527
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1246
Level     0,  Iter     1:    Energy =   0.1326
Level     0,  Iter     2:    Energy =   0.1394
Level     0,  Iter     3:    Energy =   0.1435
Level     0,  Iter     4:    Energy =   0.1469
Level     0,  Iter     5:    Energy =   0.1499
Level     0,  Iter     6:    Energy =   0.1510
Level     0,  Iter     7:    Energy =   0.1519
Level     0,  Iter     8:    Energy =   0.1526
Level     0,  Iter     9:    Energy =   0.1532
Level     0,  Iter    10:    Energy =   0.1535
Level     0,  Iter    11:    Energy =   0.1540
Level     0,  Iter    12:    Energy =   0.1542
Level     0,  Iter    13:    Energy =   0.1546
Level     0,  Iter    14:    Energy =   0.1547
Level     0,  Iter    15:    Energy =   0.1550
Level     0,  Iter    16:    Energy =   0.1550
Level     0,  Iter    17:    Energy =   0.1553
Level     0,  Iter    18:    Energy =   0.1553
Level     0,  Iter    19:    Energy =   0.1555
Level     0,  Iter    20:    Energy =   0.1555
Level     0,  Iter    21:    Energy =   0.1557
Level     0,  Iter    22:    Energy =   0.1557
Level     0,  Iter    23:    Energy =   0.1559
Level     0,  Iter    24:    Energy =   0.1559
Level     0,  Iter    25:    Energy =   0.1561
Level     0,  Iter    26:    Energy =   0.1561
Level     0,  Iter    27:    Energy =   0.1562
Level     0,  Iter    28:    Energy =   0.1562
Level     0,  Iter    29:    Energy =   0.1563
Level     0,  Iter    30:    Energy =   0.1564
Level     0,  Iter    31:    Energy =   0.1564
Level     0,  Iter    32:    Energy =   0.1565
Level     0,  Iter    33:    Energy =   0.1565
Level     0,  Iter    34:    Energy =   0.1566
Level     0,  Iter    35:    Energy =   0.1566
Level     0,  Iter    36:    Energy =   0.1568
Level     0,  Iter    37:    Energy =   0.1567
Level     0,  Iter    38:    Energy =   0.1569
Level     0,  Iter    39:    Energy =   0.1568
Level     0,  Iter    40:    Energy =   0.1569
Level     0,  Iter    41:    Energy =   0.1569
Level     0,  Iter    42:    Energy =   0.1570
Level     0,  Iter    43:    Energy =   0.1570
Level     0,  Iter    44:    Energy =   0.1572
Level     0,  Iter    45:    Energy =   0.1571
Level     0,  Iter    46:    Energy =   0.1572
Level     0,  Iter    47:    Energy =   0.1571
Level     0,  Iter    48:    Energy =   0.1573
Level     0,  Iter    49:    Energy =   0.1572
Level     0,  Iter    50:    Energy =   0.1574
Level     0,  Iter    51:    Energy =   0.1573
Level     0,  Iter    52:    Energy =   0.1575
Level     0,  Iter    53:    Energy =   0.1572
Level     0,  Iter    54:    Energy =   0.1575
Level     0,  Iter    55:    Energy =   0.1572
Level     0,  Iter    56:    Energy =   0.1575
Level     0,  Iter    57:    Energy =   0.1573
Level     0,  Iter    58:    Energy =   0.1576
Level     0,  Iter    59:    Energy =   0.1573
END OF LEVEL     0    DetJac Range:   0.3019  to   2.2250 
  Avg. Gradient Time  : 0.0082s  35.00% 
  Avg. Gaussian Time  : 0.0114s  49.04% 
  Avg. Iteration Time : 0.0233s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.1045
Level     1,  Iter     1:    Energy =   0.1099
Level     1,  Iter     2:    Energy =   0.1140
Level     1,  Iter     3:    Energy =   0.1176
Level     1,  Iter     4:    Energy =   0.1207
Level     1,  Iter     5:    Energy =   0.1232
Level     1,  Iter     6:    Energy =   0.1253
Level     1,  Iter     7:    Energy =   0.1271
Level     1,  Iter     8:    Energy =   0.1286
Level     1,  Iter     9:    Energy =   0.1300
Level     1,  Iter    10:    Energy =   0.1311
Level     1,  Iter    11:    Energy =   0.1315
Level     1,  Iter    12:    Energy =   0.1323
Level     1,  Iter    13:    Energy =   0.1320
Level     1,  Iter    14:    Energy =   0.1329
Level     1,  Iter    15:    Energy =   0.1332
Level     1,  Iter    16:    Energy =   0.1336
Level     1,  Iter    17:    Energy =   0.1333
Level     1,  Iter    18:    Energy =   0.1341
Level     1,  Iter    19:    Energy =   0.1344
Level     1,  Iter    20:    Energy =   0.1346
Level     1,  Iter    21:    Energy =   0.1342
Level     1,  Iter    22:    Energy =   0.1349
Level     1,  Iter    23:    Energy =   0.1353
Level     1,  Iter    24:    Energy =   0.1352
Level     1,  Iter    25:    Energy =   0.1349
Level     1,  Iter    26:    Energy =   0.1355
Level     1,  Iter    27:    Energy =   0.1352
Level     1,  Iter    28:    Energy =   0.1357
Level     1,  Iter    29:    Energy =   0.1354
Level     1,  Iter    30:    Energy =   0.1358
Level     1,  Iter    31:    Energy =   0.1355
Level     1,  Iter    32:    Energy =   0.1361
Level     1,  Iter    33:    Energy =   0.1358
Level     1,  Iter    34:    Energy =   0.1362
Level     1,  Iter    35:    Energy =   0.1359
Level     1,  Iter    36:    Energy =   0.1365
Level     1,  Iter    37:    Energy =   0.1363
Level     1,  Iter    38:    Energy =   0.1365
Level     1,  Iter    39:    Energy =   0.1362
Level     1,  Iter    40:    Energy =   0.1367
Level     1,  Iter    41:    Energy =   0.1365
Level     1,  Iter    42:    Energy =   0.1368
Level     1,  Iter    43:    Energy =   0.1364
Level     1,  Iter    44:    Energy =   0.1369
Level     1,  Iter    45:    Energy =   0.1368
Level     1,  Iter    46:    Energy =   0.1369
Level     1,  Iter    47:    Energy =   0.1365
Level     1,  Iter    48:    Energy =   0.1370
Level     1,  Iter    49:    Energy =   0.1368
Level     1,  Iter    50:    Energy =   0.1370
Level     1,  Iter    51:    Energy =   0.1366
Level     1,  Iter    52:    Energy =   0.1370
Level     1,  Iter    53:    Energy =   0.1369
Level     1,  Iter    54:    Energy =   0.1371
Level     1,  Iter    55:    Energy =   0.1367
Level     1,  Iter    56:    Energy =   0.1371
Level     1,  Iter    57:    Energy =   0.1369
Level     1,  Iter    58:    Energy =   0.1371
Level     1,  Iter    59:    Energy =   0.1367
END OF LEVEL     1    DetJac Range:   0.1497  to   3.3576 
  Avg. Gradient Time  : 0.0465s  32.83% 
  Avg. Gaussian Time  : 0.0766s  54.09% 
  Avg. Iteration Time : 0.1416s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0709
Level     2,  Iter     1:    Energy =   0.0739
Level     2,  Iter     2:    Energy =   0.0768
Level     2,  Iter     3:    Energy =   0.0788
Level     2,  Iter     4:    Energy =   0.0807
Level     2,  Iter     5:    Energy =   0.0824
Level     2,  Iter     6:    Energy =   0.0839
Level     2,  Iter     7:    Energy =   0.0853
Level     2,  Iter     8:    Energy =   0.0864
Level     2,  Iter     9:    Energy =   0.0872
Level     2,  Iter    10:    Energy =   0.0880
Level     2,  Iter    11:    Energy =   0.0887
Level     2,  Iter    12:    Energy =   0.0893
Level     2,  Iter    13:    Energy =   0.0900
Level     2,  Iter    14:    Energy =   0.0900
Level     2,  Iter    15:    Energy =   0.0906
Level     2,  Iter    16:    Energy =   0.0904
Level     2,  Iter    17:    Energy =   0.0910
Level     2,  Iter    18:    Energy =   0.0912
Level     2,  Iter    19:    Energy =   0.0915
END OF LEVEL     2    DetJac Range:   0.0651  to   4.5673 
  Avg. Gradient Time  : 0.2975s  30.84% 
  Avg. Gaussian Time  : 0.5353s  55.51% 
  Avg. Iteration Time : 0.9644s 

real	0m34.080s
user	1m2.124s
sys	0m1.488s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=15 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=15 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.286538 0.292308
+ echo 'CHUNK 0.286538 0.292308 1'
CHUNK 0.286538 0.292308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.286538 0.292308 1
====================================
         PROGRESS: 0.286538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=016
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 016
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train016
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train016
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left 016 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train016 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=left
+ local tid=016
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train016
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 016 left 0
+ local tid=016
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 016 0
+ set -e
+ local tid=016
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.696052
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3181.96   GNORM= 425.975
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3227.520     260.966       0.000
   2    4     -3250.874     212.555       1.000
   3    5     -3293.762      92.102       1.000
   4    6     -3315.376     118.032       1.000
   5    7     -3331.533      85.157       1.000
   6    8     -3350.303     103.179       1.000
   7    9     -3359.302      61.313       1.000
   8   10     -3359.507     131.360       1.000
   9   11     -3361.834      31.797       1.000
  10   12     -3362.339      23.853       1.000
  11   13     -3363.496      58.348       1.000
  12   14     -3365.049      42.136       1.000
  13   15     -3368.277      30.382       1.000
  14   16     -3370.202      39.905       1.000
  15   17     -3371.319      26.053       1.000
  16   18     -3372.040      21.370       1.000
  17   19     -3372.680      42.582       1.000
  18   20     -3373.725      24.220       1.000
  19   21     -3375.399      22.091       1.000
  20   22     -3376.209      14.700       1.000
  21   23     -3376.346      24.057       1.000
  22   24     -3376.634       9.954       1.000
  23   26     -3376.695       6.978       0.381
  24   27     -3376.731      10.474       1.000
  25   28     -3376.776      12.897       1.000
  26   29     -3376.826       5.426       1.000
  27   30     -3376.847       7.271       1.000
  28   31     -3376.869       4.110       1.000
  29   32     -3376.882       5.461       1.000
  30   33     -3376.901       7.190       1.000
  31   35     -3376.904       4.623       0.370
  32   36     -3376.907       4.667       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.979195 -0.00437393 -0.00413142 -0.359221 
0.0134595 1.00524 0.061615 0.18603 
-0.0270935 0.00301122 1.01574 -0.493056 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2533.39   GNORM= 145.993
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2538.488      77.932       0.000
   2    4     -2540.802      59.189       1.000
   3    5     -2543.017      25.997       1.000
   4    6     -2543.989      28.285       1.000
   5    7     -2545.680      36.429       1.000
   6    8     -2546.998      26.261       1.000
   7    9     -2547.569      71.868       1.000
   8   10     -2548.430      36.581       1.000
   9   11     -2548.743      18.896       1.000
  10   12     -2549.069      17.482       1.000
  11   13     -2549.568      22.201       1.000
  12   14     -2550.041      17.951       1.000
  13   15     -2550.253       8.291       1.000
  14   16     -2550.365      10.994       1.000
  15   17     -2550.490      12.043       1.000
  16   18     -2550.684      13.934       1.000
  17   19     -2550.950      18.584       1.000
  18   20     -2551.187      11.314       1.000
  19   21     -2551.247       7.878       1.000
  20   22     -2551.349      16.903       1.000
  21   23     -2551.422       9.359       1.000
  22   24     -2551.489       6.107       1.000
  23   25     -2551.521       5.162       1.000
  24   27     -2551.592      11.821       0.468
  25   28     -2551.695      13.003       1.000
  26   29     -2551.846       6.265       1.000
  27   30     -2552.050       7.380       1.000
  28   32     -2552.080       9.599       0.291
  29   33     -2552.110       6.554       1.000
  30   34     -2552.119       5.100       1.000
  31   35     -2552.159       4.273       1.000
  32   36     -2552.184       4.199       1.000
  33   37     -2552.201       3.446       1.000
  34   38     -2552.301       6.973       1.000
  35   40     -2552.358       5.295       0.282
  36   41     -2552.393       4.889       1.000
  37   43     -2552.561      13.642       0.339
  38   45     -2552.587       5.019       0.457
  39   46     -2552.597       4.624       1.000
  40   47     -2552.626       3.735       1.000
  41   48     -2552.657       4.067       1.000
  42   49     -2552.726       6.910       1.000
  43   50     -2552.748       4.812       1.000
  44   51     -2552.787       3.041       1.000
  45   53     -2552.789       1.909       0.300
  46   54     -2552.795       1.603       1.000
  47   55     -2552.797       1.386       1.000
  48   57     -2552.805       3.512       0.411
  49   58     -2552.814       3.617       1.000
  50   59     -2552.828       4.193       1.000
  51   60     -2552.837       2.942       1.000
  52   61     -2552.841       2.876       1.000
Final RAS Transform: 
0.974051 -0.00586939 0.0144715 -0.54895 
0.0231565 1.00855 0.0735554 0.525522 
-0.026918 0.00415093 1.01864 -0.46454 
0 0 0 1 

Final RAS Transform: 
0.974051 -0.00586939 0.0144715 -0.54895 
0.0231565 1.00855 0.0735554 0.525522 
-0.026918 0.00415093 1.01864 -0.46454 
0 0 0 1 


real	0m9.395s
user	0m16.356s
sys	0m0.520s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.698659
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0982
Level     0,  Iter     1:    Energy =   0.1042
Level     0,  Iter     2:    Energy =   0.1098
Level     0,  Iter     3:    Energy =   0.1148
Level     0,  Iter     4:    Energy =   0.1190
Level     0,  Iter     5:    Energy =   0.1224
Level     0,  Iter     6:    Energy =   0.1244
Level     0,  Iter     7:    Energy =   0.1263
Level     0,  Iter     8:    Energy =   0.1271
Level     0,  Iter     9:    Energy =   0.1280
Level     0,  Iter    10:    Energy =   0.1283
Level     0,  Iter    11:    Energy =   0.1287
Level     0,  Iter    12:    Energy =   0.1288
Level     0,  Iter    13:    Energy =   0.1290
Level     0,  Iter    14:    Energy =   0.1294
Level     0,  Iter    15:    Energy =   0.1294
Level     0,  Iter    16:    Energy =   0.1300
Level     0,  Iter    17:    Energy =   0.1300
Level     0,  Iter    18:    Energy =   0.1306
Level     0,  Iter    19:    Energy =   0.1305
Level     0,  Iter    20:    Energy =   0.1309
Level     0,  Iter    21:    Energy =   0.1310
Level     0,  Iter    22:    Energy =   0.1312
Level     0,  Iter    23:    Energy =   0.1313
Level     0,  Iter    24:    Energy =   0.1317
Level     0,  Iter    25:    Energy =   0.1317
Level     0,  Iter    26:    Energy =   0.1320
Level     0,  Iter    27:    Energy =   0.1321
Level     0,  Iter    28:    Energy =   0.1325
Level     0,  Iter    29:    Energy =   0.1325
Level     0,  Iter    30:    Energy =   0.1326
Level     0,  Iter    31:    Energy =   0.1327
Level     0,  Iter    32:    Energy =   0.1331
Level     0,  Iter    33:    Energy =   0.1330
Level     0,  Iter    34:    Energy =   0.1331
Level     0,  Iter    35:    Energy =   0.1332
Level     0,  Iter    36:    Energy =   0.1334
Level     0,  Iter    37:    Energy =   0.1334
Level     0,  Iter    38:    Energy =   0.1334
Level     0,  Iter    39:    Energy =   0.1334
Level     0,  Iter    40:    Energy =   0.1337
Level     0,  Iter    41:    Energy =   0.1335
Level     0,  Iter    42:    Energy =   0.1335
Level     0,  Iter    43:    Energy =   0.1334
Level     0,  Iter    44:    Energy =   0.1338
Level     0,  Iter    45:    Energy =   0.1336
Level     0,  Iter    46:    Energy =   0.1340
Level     0,  Iter    47:    Energy =   0.1338
Level     0,  Iter    48:    Energy =   0.1341
Level     0,  Iter    49:    Energy =   0.1339
Level     0,  Iter    50:    Energy =   0.1340
Level     0,  Iter    51:    Energy =   0.1339
Level     0,  Iter    52:    Energy =   0.1343
Level     0,  Iter    53:    Energy =   0.1340
Level     0,  Iter    54:    Energy =   0.1341
Level     0,  Iter    55:    Energy =   0.1339
Level     0,  Iter    56:    Energy =   0.1343
Level     0,  Iter    57:    Energy =   0.1340
Level     0,  Iter    58:    Energy =   0.1342
Level     0,  Iter    59:    Energy =   0.1340
END OF LEVEL     0    DetJac Range:   0.2342  to   2.2902 
  Avg. Gradient Time  : 0.0083s  34.85% 
  Avg. Gaussian Time  : 0.0117s  49.27% 
  Avg. Iteration Time : 0.0237s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0941
Level     1,  Iter     1:    Energy =   0.0989
Level     1,  Iter     2:    Energy =   0.1027
Level     1,  Iter     3:    Energy =   0.1055
Level     1,  Iter     4:    Energy =   0.1087
Level     1,  Iter     5:    Energy =   0.1109
Level     1,  Iter     6:    Energy =   0.1125
Level     1,  Iter     7:    Energy =   0.1140
Level     1,  Iter     8:    Energy =   0.1153
Level     1,  Iter     9:    Energy =   0.1164
Level     1,  Iter    10:    Energy =   0.1174
Level     1,  Iter    11:    Energy =   0.1184
Level     1,  Iter    12:    Energy =   0.1189
Level     1,  Iter    13:    Energy =   0.1190
Level     1,  Iter    14:    Energy =   0.1194
Level     1,  Iter    15:    Energy =   0.1196
Level     1,  Iter    16:    Energy =   0.1197
Level     1,  Iter    17:    Energy =   0.1201
Level     1,  Iter    18:    Energy =   0.1201
Level     1,  Iter    19:    Energy =   0.1205
Level     1,  Iter    20:    Energy =   0.1205
Level     1,  Iter    21:    Energy =   0.1209
Level     1,  Iter    22:    Energy =   0.1208
Level     1,  Iter    23:    Energy =   0.1214
Level     1,  Iter    24:    Energy =   0.1212
Level     1,  Iter    25:    Energy =   0.1218
Level     1,  Iter    26:    Energy =   0.1215
Level     1,  Iter    27:    Energy =   0.1222
Level     1,  Iter    28:    Energy =   0.1220
Level     1,  Iter    29:    Energy =   0.1225
Level     1,  Iter    30:    Energy =   0.1221
Level     1,  Iter    31:    Energy =   0.1227
Level     1,  Iter    32:    Energy =   0.1225
Level     1,  Iter    33:    Energy =   0.1229
Level     1,  Iter    34:    Energy =   0.1225
Level     1,  Iter    35:    Energy =   0.1230
Level     1,  Iter    36:    Energy =   0.1228
Level     1,  Iter    37:    Energy =   0.1232
Level     1,  Iter    38:    Energy =   0.1228
Level     1,  Iter    39:    Energy =   0.1234
Level     1,  Iter    40:    Energy =   0.1232
Level     1,  Iter    41:    Energy =   0.1236
Level     1,  Iter    42:    Energy =   0.1232
Level     1,  Iter    43:    Energy =   0.1238
Level     1,  Iter    44:    Energy =   0.1235
Level     1,  Iter    45:    Energy =   0.1239
Level     1,  Iter    46:    Energy =   0.1235
Level     1,  Iter    47:    Energy =   0.1240
Level     1,  Iter    48:    Energy =   0.1239
Level     1,  Iter    49:    Energy =   0.1240
Level     1,  Iter    50:    Energy =   0.1237
Level     1,  Iter    51:    Energy =   0.1239
Level     1,  Iter    52:    Energy =   0.1240
Level     1,  Iter    53:    Energy =   0.1240
Level     1,  Iter    54:    Energy =   0.1240
Level     1,  Iter    55:    Energy =   0.1241
Level     1,  Iter    56:    Energy =   0.1240
Level     1,  Iter    57:    Energy =   0.1241
Level     1,  Iter    58:    Energy =   0.1241
Level     1,  Iter    59:    Energy =   0.1243
END OF LEVEL     1    DetJac Range:   0.0737  to   4.5829 
  Avg. Gradient Time  : 0.0465s  32.65% 
  Avg. Gaussian Time  : 0.0774s  54.31% 
  Avg. Iteration Time : 0.1425s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0654
Level     2,  Iter     1:    Energy =   0.0678
Level     2,  Iter     2:    Energy =   0.0702
Level     2,  Iter     3:    Energy =   0.0726
Level     2,  Iter     4:    Energy =   0.0747
Level     2,  Iter     5:    Energy =   0.0765
Level     2,  Iter     6:    Energy =   0.0779
Level     2,  Iter     7:    Energy =   0.0788
Level     2,  Iter     8:    Energy =   0.0796
Level     2,  Iter     9:    Energy =   0.0802
Level     2,  Iter    10:    Energy =   0.0808
Level     2,  Iter    11:    Energy =   0.0813
Level     2,  Iter    12:    Energy =   0.0816
Level     2,  Iter    13:    Energy =   0.0820
Level     2,  Iter    14:    Energy =   0.0824
Level     2,  Iter    15:    Energy =   0.0828
Level     2,  Iter    16:    Energy =   0.0832
Level     2,  Iter    17:    Energy =   0.0836
Level     2,  Iter    18:    Energy =   0.0841
Level     2,  Iter    19:    Energy =   0.0844
END OF LEVEL     2    DetJac Range:   0.0645  to   5.4049 
  Avg. Gradient Time  : 0.3326s  30.73% 
  Avg. Gaussian Time  : 0.6007s  55.49% 
  Avg. Iteration Time : 1.0826s 

real	0m36.856s
user	1m7.288s
sys	0m1.660s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=16 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=16 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.292308 0.298077
+ echo 'CHUNK 0.292308 0.298077 1'
CHUNK 0.292308 0.298077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.292308 0.298077 1
====================================
         PROGRESS: 0.292308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=017
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 017
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train017
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train017
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left 017 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train017 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=left
+ local tid=017
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train017
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 017 left 0
+ local tid=017
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 017 0
+ set -e
+ local tid=017
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.410941
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3321.48   GNORM= 491.871
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3384.763     276.490       0.000
   2    4     -3413.573     234.810       1.000
   3    5     -3462.920     134.765       1.000
   4    6     -3474.498      95.285       1.000
   5    7     -3503.471     102.267       1.000
   6    8     -3512.317      89.166       1.000
   7    9     -3519.665      96.826       1.000
   8   10     -3533.719      78.715       1.000
   9   11     -3545.738      73.101       1.000
  10   12     -3551.887      54.227       1.000
  11   13     -3556.304      38.389       1.000
  12   14     -3560.049      79.644       1.000
  13   15     -3563.126      70.358       1.000
  14   16     -3565.231      46.057       1.000
  15   17     -3567.149      23.893       1.000
  16   18     -3568.280      23.634       1.000
  17   19     -3570.909      46.199       1.000
  18   21     -3571.706      24.356       0.365
  19   22     -3572.208      20.190       1.000
  20   23     -3572.507      19.004       1.000
  21   24     -3572.826      25.733       1.000
  22   25     -3573.140      16.038       1.000
  23   26     -3573.259      10.342       1.000
  24   28     -3573.305       6.877       0.281
  25   29     -3573.323       4.818       1.000
  26   30     -3573.355       5.614       1.000
  27   32     -3573.365       7.076       0.467
  28   33     -3573.392      11.815       1.000
  29   34     -3573.425       6.566       1.000
  30   36     -3573.452       4.894       0.345
  31   37     -3573.455      10.632       1.000
  32   38     -3573.469       6.464       1.000
  33   39     -3573.504       4.096       1.000
  34   40     -3573.524       8.943       1.000
  35   41     -3573.540       5.237       1.000
  36   43     -3573.609       5.353       5.000
  37   45     -3573.611       3.209       0.225
  38   46     -3573.611       4.264       1.000
  39   47     -3573.620       1.513       1.000
Final RAS Transform: 
0.954795 -0.0159176 0.0195037 -1.52697 
0.00308356 1.00603 0.0622887 -0.137096 
-0.0362088 -0.00571144 1.02052 -1.05093 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2618.57   GNORM= 219.958
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2627.186      64.959       0.000
   2    4     -2628.571      46.553       1.000
   3    5     -2629.684      42.380       1.000
   4    6     -2631.570      35.033       1.000
   5    7     -2634.901      54.431       1.000
   6    8     -2640.371      65.234       1.000
   7    9     -2644.325      80.370       1.000
   8   11     -2645.887      25.720       0.428
   9   12     -2646.374      16.132       1.000
  10   13     -2646.698      15.115       1.000
  11   14     -2647.422      24.896       1.000
  12   15     -2650.092      56.389       1.000
  13   16     -2652.292      66.108       1.000
  14   17     -2652.568      89.402       1.000
  15   18     -2655.433      23.802       1.000
  16   19     -2656.387      13.737       1.000
  17   20     -2656.923      12.463       1.000
  18   22     -2657.242      14.044       0.518
  19   24     -2657.362      12.859       0.361
  20   25     -2657.434      13.656       1.000
  21   26     -2657.805      16.595       1.000
  22   27     -2658.216      19.342       1.000
  23   29     -2658.279      22.228       0.053
  24   30     -2658.590      11.033       1.000
  25   31     -2658.660       4.137       1.000
  26   32     -2658.674       2.635       1.000
  27   34     -2658.675       3.960       0.526
  28   35     -2658.686       3.535       1.000
  29   37     -2658.703       3.639       0.452
  30   38     -2658.704       1.646       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.981568 -0.0100584 0.0149354 -0.541382 
0.00711776 1.00893 0.0724633 0.155348 
-0.0244663 0.00127785 1.02268 -0.564884 
0 0 0 1 

Final RAS Transform: 
0.981568 -0.0100584 0.0149354 -0.541382 
0.00711776 1.00893 0.0724633 0.155348 
-0.0244663 0.00127785 1.02268 -0.564884 
0 0 0 1 


real	0m9.072s
user	0m15.832s
sys	0m0.452s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.423501
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1036
Level     0,  Iter     1:    Energy =   0.1107
Level     0,  Iter     2:    Energy =   0.1167
Level     0,  Iter     3:    Energy =   0.1215
Level     0,  Iter     4:    Energy =   0.1251
Level     0,  Iter     5:    Energy =   0.1264
Level     0,  Iter     6:    Energy =   0.1280
Level     0,  Iter     7:    Energy =   0.1287
Level     0,  Iter     8:    Energy =   0.1296
Level     0,  Iter     9:    Energy =   0.1302
Level     0,  Iter    10:    Energy =   0.1309
Level     0,  Iter    11:    Energy =   0.1310
Level     0,  Iter    12:    Energy =   0.1318
Level     0,  Iter    13:    Energy =   0.1318
Level     0,  Iter    14:    Energy =   0.1322
Level     0,  Iter    15:    Energy =   0.1322
Level     0,  Iter    16:    Energy =   0.1326
Level     0,  Iter    17:    Energy =   0.1324
Level     0,  Iter    18:    Energy =   0.1327
Level     0,  Iter    19:    Energy =   0.1326
Level     0,  Iter    20:    Energy =   0.1330
Level     0,  Iter    21:    Energy =   0.1329
Level     0,  Iter    22:    Energy =   0.1331
Level     0,  Iter    23:    Energy =   0.1330
Level     0,  Iter    24:    Energy =   0.1334
Level     0,  Iter    25:    Energy =   0.1333
Level     0,  Iter    26:    Energy =   0.1336
Level     0,  Iter    27:    Energy =   0.1334
Level     0,  Iter    28:    Energy =   0.1339
Level     0,  Iter    29:    Energy =   0.1337
Level     0,  Iter    30:    Energy =   0.1340
Level     0,  Iter    31:    Energy =   0.1338
Level     0,  Iter    32:    Energy =   0.1343
Level     0,  Iter    33:    Energy =   0.1341
Level     0,  Iter    34:    Energy =   0.1346
Level     0,  Iter    35:    Energy =   0.1344
Level     0,  Iter    36:    Energy =   0.1351
Level     0,  Iter    37:    Energy =   0.1349
Level     0,  Iter    38:    Energy =   0.1353
Level     0,  Iter    39:    Energy =   0.1351
Level     0,  Iter    40:    Energy =   0.1357
Level     0,  Iter    41:    Energy =   0.1355
Level     0,  Iter    42:    Energy =   0.1358
Level     0,  Iter    43:    Energy =   0.1356
Level     0,  Iter    44:    Energy =   0.1359
Level     0,  Iter    45:    Energy =   0.1357
Level     0,  Iter    46:    Energy =   0.1361
Level     0,  Iter    47:    Energy =   0.1358
Level     0,  Iter    48:    Energy =   0.1362
Level     0,  Iter    49:    Energy =   0.1359
Level     0,  Iter    50:    Energy =   0.1363
Level     0,  Iter    51:    Energy =   0.1360
Level     0,  Iter    52:    Energy =   0.1364
Level     0,  Iter    53:    Energy =   0.1361
Level     0,  Iter    54:    Energy =   0.1364
Level     0,  Iter    55:    Energy =   0.1361
Level     0,  Iter    56:    Energy =   0.1366
Level     0,  Iter    57:    Energy =   0.1363
Level     0,  Iter    58:    Energy =   0.1366
Level     0,  Iter    59:    Energy =   0.1363
END OF LEVEL     0    DetJac Range:   0.2129  to   2.4353 
  Avg. Gradient Time  : 0.0072s  35.02% 
  Avg. Gaussian Time  : 0.0101s  49.09% 
  Avg. Iteration Time : 0.0206s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0912
Level     1,  Iter     1:    Energy =   0.0956
Level     1,  Iter     2:    Energy =   0.0998
Level     1,  Iter     3:    Energy =   0.1032
Level     1,  Iter     4:    Energy =   0.1062
Level     1,  Iter     5:    Energy =   0.1092
Level     1,  Iter     6:    Energy =   0.1123
Level     1,  Iter     7:    Energy =   0.1147
Level     1,  Iter     8:    Energy =   0.1164
Level     1,  Iter     9:    Energy =   0.1176
Level     1,  Iter    10:    Energy =   0.1175
Level     1,  Iter    11:    Energy =   0.1187
Level     1,  Iter    12:    Energy =   0.1186
Level     1,  Iter    13:    Energy =   0.1195
Level     1,  Iter    14:    Energy =   0.1193
Level     1,  Iter    15:    Energy =   0.1203
Level     1,  Iter    16:    Energy =   0.1201
Level     1,  Iter    17:    Energy =   0.1209
Level     1,  Iter    18:    Energy =   0.1206
Level     1,  Iter    19:    Energy =   0.1216
Level     1,  Iter    20:    Energy =   0.1213
Level     1,  Iter    21:    Energy =   0.1220
Level     1,  Iter    22:    Energy =   0.1217
Level     1,  Iter    23:    Energy =   0.1223
Level     1,  Iter    24:    Energy =   0.1220
Level     1,  Iter    25:    Energy =   0.1225
Level     1,  Iter    26:    Energy =   0.1222
Level     1,  Iter    27:    Energy =   0.1227
Level     1,  Iter    28:    Energy =   0.1224
Level     1,  Iter    29:    Energy =   0.1230
Level     1,  Iter    30:    Energy =   0.1226
Level     1,  Iter    31:    Energy =   0.1232
Level     1,  Iter    32:    Energy =   0.1228
Level     1,  Iter    33:    Energy =   0.1234
Level     1,  Iter    34:    Energy =   0.1230
Level     1,  Iter    35:    Energy =   0.1236
Level     1,  Iter    36:    Energy =   0.1232
Level     1,  Iter    37:    Energy =   0.1238
Level     1,  Iter    38:    Energy =   0.1233
Level     1,  Iter    39:    Energy =   0.1240
Level     1,  Iter    40:    Energy =   0.1236
Level     1,  Iter    41:    Energy =   0.1241
Level     1,  Iter    42:    Energy =   0.1237
Level     1,  Iter    43:    Energy =   0.1243
Level     1,  Iter    44:    Energy =   0.1238
Level     1,  Iter    45:    Energy =   0.1242
Level     1,  Iter    46:    Energy =   0.1238
Level     1,  Iter    47:    Energy =   0.1241
Level     1,  Iter    48:    Energy =   0.1238
Level     1,  Iter    49:    Energy =   0.1242
Level     1,  Iter    50:    Energy =   0.1239
Level     1,  Iter    51:    Energy =   0.1243
Level     1,  Iter    52:    Energy =   0.1239
Level     1,  Iter    53:    Energy =   0.1243
Level     1,  Iter    54:    Energy =   0.1240
Level     1,  Iter    55:    Energy =   0.1244
Level     1,  Iter    56:    Energy =   0.1240
Level     1,  Iter    57:    Energy =   0.1244
Level     1,  Iter    58:    Energy =   0.1241
Level     1,  Iter    59:    Energy =   0.1245
END OF LEVEL     1    DetJac Range:   0.1243  to   3.6219 
  Avg. Gradient Time  : 0.0413s  32.76% 
  Avg. Gaussian Time  : 0.0686s  54.42% 
  Avg. Iteration Time : 0.1260s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0643
Level     2,  Iter     1:    Energy =   0.0676
Level     2,  Iter     2:    Energy =   0.0710
Level     2,  Iter     3:    Energy =   0.0739
Level     2,  Iter     4:    Energy =   0.0759
Level     2,  Iter     5:    Energy =   0.0770
Level     2,  Iter     6:    Energy =   0.0784
Level     2,  Iter     7:    Energy =   0.0802
Level     2,  Iter     8:    Energy =   0.0814
Level     2,  Iter     9:    Energy =   0.0826
Level     2,  Iter    10:    Energy =   0.0836
Level     2,  Iter    11:    Energy =   0.0845
Level     2,  Iter    12:    Energy =   0.0853
Level     2,  Iter    13:    Energy =   0.0859
Level     2,  Iter    14:    Energy =   0.0859
Level     2,  Iter    15:    Energy =   0.0865
Level     2,  Iter    16:    Energy =   0.0864
Level     2,  Iter    17:    Energy =   0.0869
Level     2,  Iter    18:    Energy =   0.0870
Level     2,  Iter    19:    Energy =   0.0873
END OF LEVEL     2    DetJac Range:   0.0640  to   6.4929 
  Avg. Gradient Time  : 0.2928s  30.87% 
  Avg. Gaussian Time  : 0.5272s  55.58% 
  Avg. Iteration Time : 0.9486s 

real	0m32.457s
user	0m58.940s
sys	0m1.488s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=17 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=17 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.298077 0.303846
+ echo 'CHUNK 0.298077 0.303846 1'
CHUNK 0.298077 0.303846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.298077 0.303846 1
====================================
         PROGRESS: 0.298077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=018
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 018
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train018
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train018
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left 018 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train018 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=left
+ local tid=018
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train018
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 018 left 0
+ local tid=018
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 018 0
+ set -e
+ local tid=018
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.628946
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4015.52   GNORM= 356.604
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -4078.887     409.853       0.003
   2    3     -4143.894     345.723       1.000
   3    4     -4170.576     144.389       1.000
   4    5     -4186.952     143.553       1.000
   5    6     -4268.642     182.360       1.000
   6    8     -4277.371     130.477       0.262
   7    9     -4284.492      51.038       1.000
   8   10     -4287.071      52.523       1.000
   9   11     -4291.396      44.868       1.000
  10   12     -4295.724      64.029       1.000
  11   13     -4296.432     167.460       1.000
  12   14     -4301.610      60.111       1.000
  13   15     -4303.955      42.936       1.000
  14   16     -4307.111      43.492       1.000
  15   17     -4308.540      52.743       1.000
  16   18     -4310.339      31.875       1.000
  17   19     -4311.165      33.654       1.000
  18   21     -4311.638      37.268       0.420
  19   23     -4311.832      13.462       0.238
  20   24     -4311.896      13.595       1.000
  21   26     -4312.005       7.276       0.468
  22   27     -4312.180       9.448       1.000
  23   28     -4312.568       7.707       1.000
  24   30     -4312.769      16.289       0.483
  25   32     -4312.856      18.585       0.428
  26   33     -4312.951       7.936       1.000
  27   34     -4313.011       5.289       1.000
  28   35     -4313.025       3.154       1.000
  29   36     -4313.048       5.772       1.000
  30   37     -4313.055       2.732       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.972561 -0.0110995 0.0185754 -1.07809 
0.00823562 0.982745 0.0596458 -0.422287 
-0.0154917 0.00736251 1.00238 -0.0760786 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2934.92   GNORM= 391.443
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2959.912      94.508       0.000
   2    4     -2962.266      62.930       1.000
   3    5     -2964.326      51.102       1.000
   4    6     -2966.098      37.918       1.000
   5    7     -2968.175      45.436       1.000
   6    8     -2972.820      62.732       1.000
   7    9     -2975.726      53.076       1.000
   8   10     -2976.589      58.290       1.000
   9   11     -2977.525      16.363       1.000
  10   12     -2977.753      18.300       1.000
  11   13     -2978.189      19.487       1.000
  12   14     -2978.621      25.570       1.000
  13   15     -2978.715      32.511       1.000
  14   16     -2978.989       6.333       1.000
  15   17     -2979.029       8.158       1.000
  16   18     -2979.156      11.128       1.000
  17   19     -2979.339      30.209       1.000
  18   20     -2979.741      12.159       1.000
  19   21     -2980.082      18.360       1.000
  20   22     -2980.278      12.410       1.000
  21   24     -2980.339       7.950       0.436
  22   25     -2980.369       4.760       1.000
  23   26     -2980.424       4.570       1.000
  24   27     -2980.430       6.825       1.000
  25   28     -2980.484       8.100       1.000
  26   29     -2980.568       4.528       1.000
  27   30     -2980.604      10.095       1.000
  28   31     -2980.633       6.825       1.000
  29   33     -2980.646       5.541       0.495
  30   34     -2980.669       7.590       1.000
  31   35     -2980.713       5.981       1.000
  32   36     -2980.731       7.890       1.000
  33   37     -2980.832       5.879       1.000
  34   39     -2980.849       6.547       0.398
  35   40     -2980.868       4.324       1.000
  36   41     -2980.932       7.904       1.000
  37   42     -2981.003      16.460       1.000
  38   43     -2981.058       6.677       1.000
  39   44     -2981.097       9.740       1.000
  40   45     -2981.116       6.191       1.000
  41   46     -2981.129       3.363       1.000
  42   47     -2981.149       2.521       1.000
  43   48     -2981.166       6.457       1.000
  44   50     -2981.172       3.606       0.326
  45   51     -2981.183       2.932       1.000
  46   52     -2981.191       3.855       1.000
Final RAS Transform: 
0.97465 -0.00415753 0.0229542 -0.700533 
0.0148748 0.989344 0.072379 -0.0757771 
-0.0233314 0.0148827 1.01209 -0.136978 
0 0 0 1 

Final RAS Transform: 
0.97465 -0.00415753 0.0229542 -0.700533 
0.0148748 0.989344 0.072379 -0.0757771 
-0.0233314 0.0148827 1.01209 -0.136978 
0 0 0 1 


real	0m10.106s
user	0m17.752s
sys	0m0.412s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.645706
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1257
Level     0,  Iter     1:    Energy =   0.1325
Level     0,  Iter     2:    Energy =   0.1381
Level     0,  Iter     3:    Energy =   0.1431
Level     0,  Iter     4:    Energy =   0.1468
Level     0,  Iter     5:    Energy =   0.1498
Level     0,  Iter     6:    Energy =   0.1507
Level     0,  Iter     7:    Energy =   0.1514
Level     0,  Iter     8:    Energy =   0.1518
Level     0,  Iter     9:    Energy =   0.1522
Level     0,  Iter    10:    Energy =   0.1525
Level     0,  Iter    11:    Energy =   0.1528
Level     0,  Iter    12:    Energy =   0.1531
Level     0,  Iter    13:    Energy =   0.1532
Level     0,  Iter    14:    Energy =   0.1535
Level     0,  Iter    15:    Energy =   0.1536
Level     0,  Iter    16:    Energy =   0.1539
Level     0,  Iter    17:    Energy =   0.1540
Level     0,  Iter    18:    Energy =   0.1543
Level     0,  Iter    19:    Energy =   0.1543
Level     0,  Iter    20:    Energy =   0.1546
Level     0,  Iter    21:    Energy =   0.1546
Level     0,  Iter    22:    Energy =   0.1549
Level     0,  Iter    23:    Energy =   0.1549
Level     0,  Iter    24:    Energy =   0.1551
Level     0,  Iter    25:    Energy =   0.1551
Level     0,  Iter    26:    Energy =   0.1553
Level     0,  Iter    27:    Energy =   0.1553
Level     0,  Iter    28:    Energy =   0.1555
Level     0,  Iter    29:    Energy =   0.1555
Level     0,  Iter    30:    Energy =   0.1557
Level     0,  Iter    31:    Energy =   0.1556
Level     0,  Iter    32:    Energy =   0.1557
Level     0,  Iter    33:    Energy =   0.1557
Level     0,  Iter    34:    Energy =   0.1558
Level     0,  Iter    35:    Energy =   0.1558
Level     0,  Iter    36:    Energy =   0.1559
Level     0,  Iter    37:    Energy =   0.1558
Level     0,  Iter    38:    Energy =   0.1559
Level     0,  Iter    39:    Energy =   0.1559
Level     0,  Iter    40:    Energy =   0.1560
Level     0,  Iter    41:    Energy =   0.1559
Level     0,  Iter    42:    Energy =   0.1560
Level     0,  Iter    43:    Energy =   0.1559
Level     0,  Iter    44:    Energy =   0.1561
Level     0,  Iter    45:    Energy =   0.1560
Level     0,  Iter    46:    Energy =   0.1561
Level     0,  Iter    47:    Energy =   0.1560
Level     0,  Iter    48:    Energy =   0.1561
Level     0,  Iter    49:    Energy =   0.1561
Level     0,  Iter    50:    Energy =   0.1562
Level     0,  Iter    51:    Energy =   0.1561
Level     0,  Iter    52:    Energy =   0.1562
Level     0,  Iter    53:    Energy =   0.1561
Level     0,  Iter    54:    Energy =   0.1562
Level     0,  Iter    55:    Energy =   0.1561
Level     0,  Iter    56:    Energy =   0.1563
Level     0,  Iter    57:    Energy =   0.1562
Level     0,  Iter    58:    Energy =   0.1562
Level     0,  Iter    59:    Energy =   0.1562
END OF LEVEL     0    DetJac Range:   0.2856  to   1.9927 
  Avg. Gradient Time  : 0.0072s  34.96% 
  Avg. Gaussian Time  : 0.0100s  49.07% 
  Avg. Iteration Time : 0.0205s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.1019
Level     1,  Iter     1:    Energy =   0.1070
Level     1,  Iter     2:    Energy =   0.1113
Level     1,  Iter     3:    Energy =   0.1146
Level     1,  Iter     4:    Energy =   0.1173
Level     1,  Iter     5:    Energy =   0.1192
Level     1,  Iter     6:    Energy =   0.1209
Level     1,  Iter     7:    Energy =   0.1225
Level     1,  Iter     8:    Energy =   0.1242
Level     1,  Iter     9:    Energy =   0.1255
Level     1,  Iter    10:    Energy =   0.1265
Level     1,  Iter    11:    Energy =   0.1274
Level     1,  Iter    12:    Energy =   0.1280
Level     1,  Iter    13:    Energy =   0.1285
Level     1,  Iter    14:    Energy =   0.1290
Level     1,  Iter    15:    Energy =   0.1288
Level     1,  Iter    16:    Energy =   0.1293
Level     1,  Iter    17:    Energy =   0.1294
Level     1,  Iter    18:    Energy =   0.1298
Level     1,  Iter    19:    Energy =   0.1296
Level     1,  Iter    20:    Energy =   0.1300
Level     1,  Iter    21:    Energy =   0.1301
Level     1,  Iter    22:    Energy =   0.1305
Level     1,  Iter    23:    Energy =   0.1303
Level     1,  Iter    24:    Energy =   0.1307
Level     1,  Iter    25:    Energy =   0.1307
Level     1,  Iter    26:    Energy =   0.1311
Level     1,  Iter    27:    Energy =   0.1309
Level     1,  Iter    28:    Energy =   0.1312
Level     1,  Iter    29:    Energy =   0.1313
Level     1,  Iter    30:    Energy =   0.1316
Level     1,  Iter    31:    Energy =   0.1313
Level     1,  Iter    32:    Energy =   0.1317
Level     1,  Iter    33:    Energy =   0.1317
Level     1,  Iter    34:    Energy =   0.1320
Level     1,  Iter    35:    Energy =   0.1318
Level     1,  Iter    36:    Energy =   0.1322
Level     1,  Iter    37:    Energy =   0.1321
Level     1,  Iter    38:    Energy =   0.1324
Level     1,  Iter    39:    Energy =   0.1322
Level     1,  Iter    40:    Energy =   0.1326
Level     1,  Iter    41:    Energy =   0.1325
Level     1,  Iter    42:    Energy =   0.1328
Level     1,  Iter    43:    Energy =   0.1326
Level     1,  Iter    44:    Energy =   0.1330
Level     1,  Iter    45:    Energy =   0.1328
Level     1,  Iter    46:    Energy =   0.1332
Level     1,  Iter    47:    Energy =   0.1329
Level     1,  Iter    48:    Energy =   0.1333
Level     1,  Iter    49:    Energy =   0.1330
Level     1,  Iter    50:    Energy =   0.1334
Level     1,  Iter    51:    Energy =   0.1332
Level     1,  Iter    52:    Energy =   0.1334
Level     1,  Iter    53:    Energy =   0.1331
Level     1,  Iter    54:    Energy =   0.1335
Level     1,  Iter    55:    Energy =   0.1332
Level     1,  Iter    56:    Energy =   0.1336
Level     1,  Iter    57:    Energy =   0.1333
Level     1,  Iter    58:    Energy =   0.1337
Level     1,  Iter    59:    Energy =   0.1333
END OF LEVEL     1    DetJac Range:   0.1103  to   3.2825 
  Avg. Gradient Time  : 0.0414s  32.79% 
  Avg. Gaussian Time  : 0.0686s  54.34% 
  Avg. Iteration Time : 0.1262s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0685
Level     2,  Iter     1:    Energy =   0.0710
Level     2,  Iter     2:    Energy =   0.0732
Level     2,  Iter     3:    Energy =   0.0753
Level     2,  Iter     4:    Energy =   0.0771
Level     2,  Iter     5:    Energy =   0.0788
Level     2,  Iter     6:    Energy =   0.0804
Level     2,  Iter     7:    Energy =   0.0819
Level     2,  Iter     8:    Energy =   0.0832
Level     2,  Iter     9:    Energy =   0.0843
Level     2,  Iter    10:    Energy =   0.0851
Level     2,  Iter    11:    Energy =   0.0858
Level     2,  Iter    12:    Energy =   0.0866
Level     2,  Iter    13:    Energy =   0.0875
Level     2,  Iter    14:    Energy =   0.0883
Level     2,  Iter    15:    Energy =   0.0891
Level     2,  Iter    16:    Energy =   0.0896
Level     2,  Iter    17:    Energy =   0.0902
Level     2,  Iter    18:    Energy =   0.0906
Level     2,  Iter    19:    Energy =   0.0910
END OF LEVEL     2    DetJac Range:   0.0649  to   5.0515 
  Avg. Gradient Time  : 0.2919s  30.80% 
  Avg. Gaussian Time  : 0.5266s  55.57% 
  Avg. Iteration Time : 0.9477s 

real	0m32.459s
user	0m58.996s
sys	0m1.428s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=18 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=18 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.303846 0.309615
+ echo 'CHUNK 0.303846 0.309615 1'
CHUNK 0.303846 0.309615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.303846 0.309615 1
====================================
         PROGRESS: 0.303846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=019
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 019
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train019
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train019
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left 019 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train019 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=left
+ local tid=019
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train019
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 019 left 0
+ local tid=019
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 019 0
+ set -e
+ local tid=019
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.456454
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3231.97   GNORM= 393.07
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3281.245     329.505       0.001
   2    4     -3317.729     287.689       1.000
   3    5     -3400.450     145.175       1.000
   4    6     -3422.621     128.059       1.000
   5    7     -3475.129      69.611       1.000
   6    8     -3495.522      96.713       1.000
   7   10     -3505.583      87.190       0.498
   8   11     -3508.317     120.210       1.000
   9   12     -3511.668      46.539       1.000
  10   13     -3513.147      48.237       1.000
  11   14     -3518.207     119.183       1.000
  12   15     -3523.897     103.719       1.000
  13   16     -3525.735     160.291       1.000
  14   17     -3533.034      70.416       1.000
  15   18     -3536.080      40.699       1.000
  16   19     -3539.012      59.261       1.000
  17   20     -3545.741      97.418       1.000
  18   21     -3549.356     104.272       1.000
  19   22     -3553.517      43.197       1.000
  20   23     -3555.351      35.082       1.000
  21   24     -3556.340      34.837       1.000
  22   25     -3558.335      27.855       1.000
  23   27     -3558.609      18.495       0.277
  24   28     -3558.824      12.500       1.000
  25   29     -3559.254      18.824       1.000
  26   30     -3559.469      36.051       1.000
  27   31     -3560.049      32.981       1.000
  28   32     -3560.474      17.972       1.000
  29   33     -3560.693      11.102       1.000
  30   34     -3560.870      12.151       1.000
  31   35     -3561.180      30.360       1.000
  32   36     -3561.485      37.239       1.000
  33   37     -3561.900      32.501       1.000
  34   38     -3562.142      20.939       1.000
  35   39     -3562.407      13.552       1.000
  36   40     -3562.462       7.441       1.000
  37   41     -3562.554      12.516       1.000
  38   42     -3562.609      12.185       1.000
  39   43     -3562.853       5.947       1.000
  40   44     -3562.918      12.237       1.000
  41   45     -3562.966      14.549       1.000
  42   46     -3563.047       6.098       1.000
  43   47     -3563.058      13.246       1.000
  44   48     -3563.094       4.156       1.000
  45   49     -3563.096       3.057       1.000
  46   50     -3563.103       2.854       1.000
  47   51     -3563.114       3.346       1.000
  48   52     -3563.129       3.326       1.000
  49   53     -3563.142       4.443       1.000
Final RAS Transform: 
0.943043 -0.00907912 0.0426373 -1.53214 
-0.0295008 1.0159 0.106347 -0.654297 
-0.0101694 -0.00499978 1.02244 -0.094452 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2587.66   GNORM= 353.094
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2612.106      84.802       0.000
   2    4     -2614.750      64.747       1.000
   3    5     -2618.086      66.678       1.000
   4    6     -2620.474      49.658       1.000
   5    7     -2624.695      41.730       1.000
   6    8     -2629.203      64.802       1.000
   7    9     -2635.134      84.618       1.000
   8   11     -2636.820     113.562       0.228
   9   12     -2640.246      42.867       1.000
  10   13     -2641.169      17.517       1.000
  11   14     -2641.573      18.057       1.000
  12   15     -2642.192      35.221       1.000
  13   16     -2643.194      21.999       1.000
  14   17     -2645.341      30.304       1.000
  15   19     -2645.925      28.240       0.356
  16   20     -2646.486      24.224       1.000
  17   21     -2647.780      26.675       1.000
  18   22     -2648.842      97.516       1.000
  19   23     -2651.813      56.520       1.000
  20   24     -2654.401      13.604       1.000
  21   25     -2655.425      18.904       1.000
  22   27     -2655.646      20.614       0.204
  23   28     -2656.200      20.315       1.000
  24   29     -2658.041      13.892       1.000
  25   30     -2658.154      24.752       1.000
  26   31     -2658.601      11.211       1.000
  27   33     -2658.668       4.923       0.365
  28   34     -2658.704       4.911       1.000
  29   35     -2658.869       9.320       1.000
  30   37     -2658.940       7.654       0.359
  31   38     -2659.000       6.657       1.000
  32   39     -2659.177       6.030       1.000
  33   40     -2659.425      17.495       1.000
  34   41     -2659.557       6.183       1.000
  35   42     -2659.663       5.220       1.000
  36   44     -2659.684       7.029       0.096
  37   47     -2659.787       8.495       2.513
  38   48     -2659.822       5.226       1.000
  39   49     -2659.853       4.434       1.000
  40   50     -2659.876       6.845       1.000
  41   52     -2659.897       2.596       0.465
  42   53     -2659.903       4.115       1.000
  43   54     -2659.912       2.693       1.000
  44   55     -2659.928       3.361       1.000
  45   56     -2659.960       4.325       1.000
  46   57     -2660.011       3.770       1.000
  47   59     -2660.013       2.900       0.360
  48   60     -2660.030       5.733       1.000
Final RAS Transform: 
0.973986 -0.0168124 0.00122569 -0.958694 
-0.0340187 1.01591 0.120072 -0.499266 
0.00431969 -0.0022758 1.00727 0.0831523 
0 0 0 1 

Final RAS Transform: 
0.973986 -0.0168124 0.00122569 -0.958694 
-0.0340187 1.01591 0.120072 -0.499266 
0.00431969 -0.0022758 1.00727 0.0831523 
0 0 0 1 


real	0m10.108s
user	0m17.596s
sys	0m0.492s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.469082
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1019
Level     0,  Iter     1:    Energy =   0.1077
Level     0,  Iter     2:    Energy =   0.1132
Level     0,  Iter     3:    Energy =   0.1184
Level     0,  Iter     4:    Energy =   0.1220
Level     0,  Iter     5:    Energy =   0.1234
Level     0,  Iter     6:    Energy =   0.1252
Level     0,  Iter     7:    Energy =   0.1261
Level     0,  Iter     8:    Energy =   0.1270
Level     0,  Iter     9:    Energy =   0.1275
Level     0,  Iter    10:    Energy =   0.1280
Level     0,  Iter    11:    Energy =   0.1284
Level     0,  Iter    12:    Energy =   0.1289
Level     0,  Iter    13:    Energy =   0.1291
Level     0,  Iter    14:    Energy =   0.1295
Level     0,  Iter    15:    Energy =   0.1296
Level     0,  Iter    16:    Energy =   0.1300
Level     0,  Iter    17:    Energy =   0.1302
Level     0,  Iter    18:    Energy =   0.1308
Level     0,  Iter    19:    Energy =   0.1317
Level     0,  Iter    20:    Energy =   0.1318
Level     0,  Iter    21:    Energy =   0.1317
Level     0,  Iter    22:    Energy =   0.1317
Level     0,  Iter    23:    Energy =   0.1316
Level     0,  Iter    24:    Energy =   0.1317
Level     0,  Iter    25:    Energy =   0.1318
Level     0,  Iter    26:    Energy =   0.1321
Level     0,  Iter    27:    Energy =   0.1326
Level     0,  Iter    28:    Energy =   0.1329
Level     0,  Iter    29:    Energy =   0.1325
Level     0,  Iter    30:    Energy =   0.1329
Level     0,  Iter    31:    Energy =   0.1333
Level     0,  Iter    32:    Energy =   0.1334
Level     0,  Iter    33:    Energy =   0.1329
Level     0,  Iter    34:    Energy =   0.1333
Level     0,  Iter    35:    Energy =   0.1331
Level     0,  Iter    36:    Energy =   0.1336
Level     0,  Iter    37:    Energy =   0.1340
Level     0,  Iter    38:    Energy =   0.1341
Level     0,  Iter    39:    Energy =   0.1338
Level     0,  Iter    40:    Energy =   0.1337
Level     0,  Iter    41:    Energy =   0.1334
Level     0,  Iter    42:    Energy =   0.1335
Level     0,  Iter    43:    Energy =   0.1335
Level     0,  Iter    44:    Energy =   0.1338
Level     0,  Iter    45:    Energy =   0.1341
Level     0,  Iter    46:    Energy =   0.1345
Level     0,  Iter    47:    Energy =   0.1345
Level     0,  Iter    48:    Energy =   0.1349
Level     0,  Iter    49:    Energy =   0.1352
Level     0,  Iter    50:    Energy =   0.1353
Level     0,  Iter    51:    Energy =   0.1349
Level     0,  Iter    52:    Energy =   0.1350
Level     0,  Iter    53:    Energy =   0.1348
Level     0,  Iter    54:    Energy =   0.1353
Level     0,  Iter    55:    Energy =   0.1352
Level     0,  Iter    56:    Energy =   0.1355
Level     0,  Iter    57:    Energy =   0.1357
Level     0,  Iter    58:    Energy =   0.1358
Level     0,  Iter    59:    Energy =   0.1353
END OF LEVEL     0    DetJac Range:   0.2148  to   2.3291 
  Avg. Gradient Time  : 0.0073s  34.47% 
  Avg. Gaussian Time  : 0.0106s  49.95% 
  Avg. Iteration Time : 0.0212s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0947
Level     1,  Iter     1:    Energy =   0.0997
Level     1,  Iter     2:    Energy =   0.1040
Level     1,  Iter     3:    Energy =   0.1079
Level     1,  Iter     4:    Energy =   0.1110
Level     1,  Iter     5:    Energy =   0.1131
Level     1,  Iter     6:    Energy =   0.1148
Level     1,  Iter     7:    Energy =   0.1159
Level     1,  Iter     8:    Energy =   0.1171
Level     1,  Iter     9:    Energy =   0.1180
Level     1,  Iter    10:    Energy =   0.1189
Level     1,  Iter    11:    Energy =   0.1197
Level     1,  Iter    12:    Energy =   0.1199
Level     1,  Iter    13:    Energy =   0.1200
Level     1,  Iter    14:    Energy =   0.1205
Level     1,  Iter    15:    Energy =   0.1205
Level     1,  Iter    16:    Energy =   0.1212
Level     1,  Iter    17:    Energy =   0.1210
Level     1,  Iter    18:    Energy =   0.1217
Level     1,  Iter    19:    Energy =   0.1216
Level     1,  Iter    20:    Energy =   0.1221
Level     1,  Iter    21:    Energy =   0.1218
Level     1,  Iter    22:    Energy =   0.1224
Level     1,  Iter    23:    Energy =   0.1222
Level     1,  Iter    24:    Energy =   0.1227
Level     1,  Iter    25:    Energy =   0.1224
Level     1,  Iter    26:    Energy =   0.1230
Level     1,  Iter    27:    Energy =   0.1227
Level     1,  Iter    28:    Energy =   0.1231
Level     1,  Iter    29:    Energy =   0.1228
Level     1,  Iter    30:    Energy =   0.1233
Level     1,  Iter    31:    Energy =   0.1230
Level     1,  Iter    32:    Energy =   0.1235
Level     1,  Iter    33:    Energy =   0.1232
Level     1,  Iter    34:    Energy =   0.1237
Level     1,  Iter    35:    Energy =   0.1234
Level     1,  Iter    36:    Energy =   0.1238
Level     1,  Iter    37:    Energy =   0.1234
Level     1,  Iter    38:    Energy =   0.1236
Level     1,  Iter    39:    Energy =   0.1236
Level     1,  Iter    40:    Energy =   0.1237
Level     1,  Iter    41:    Energy =   0.1234
Level     1,  Iter    42:    Energy =   0.1238
Level     1,  Iter    43:    Energy =   0.1235
Level     1,  Iter    44:    Energy =   0.1238
Level     1,  Iter    45:    Energy =   0.1236
Level     1,  Iter    46:    Energy =   0.1238
Level     1,  Iter    47:    Energy =   0.1235
Level     1,  Iter    48:    Energy =   0.1238
Level     1,  Iter    49:    Energy =   0.1236
Level     1,  Iter    50:    Energy =   0.1238
Level     1,  Iter    51:    Energy =   0.1235
Level     1,  Iter    52:    Energy =   0.1238
Level     1,  Iter    53:    Energy =   0.1237
Level     1,  Iter    54:    Energy =   0.1238
Level     1,  Iter    55:    Energy =   0.1236
Level     1,  Iter    56:    Energy =   0.1239
Level     1,  Iter    57:    Energy =   0.1237
Level     1,  Iter    58:    Energy =   0.1240
Level     1,  Iter    59:    Energy =   0.1237
END OF LEVEL     1    DetJac Range:   0.1424  to   3.8994 
  Avg. Gradient Time  : 0.0420s  33.15% 
  Avg. Gaussian Time  : 0.0684s  54.06% 
  Avg. Iteration Time : 0.1266s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0638
Level     2,  Iter     1:    Energy =   0.0667
Level     2,  Iter     2:    Energy =   0.0699
Level     2,  Iter     3:    Energy =   0.0725
Level     2,  Iter     4:    Energy =   0.0744
Level     2,  Iter     5:    Energy =   0.0763
Level     2,  Iter     6:    Energy =   0.0778
Level     2,  Iter     7:    Energy =   0.0792
Level     2,  Iter     8:    Energy =   0.0804
Level     2,  Iter     9:    Energy =   0.0815
Level     2,  Iter    10:    Energy =   0.0826
Level     2,  Iter    11:    Energy =   0.0836
Level     2,  Iter    12:    Energy =   0.0845
Level     2,  Iter    13:    Energy =   0.0854
Level     2,  Iter    14:    Energy =   0.0861
Level     2,  Iter    15:    Energy =   0.0868
Level     2,  Iter    16:    Energy =   0.0874
Level     2,  Iter    17:    Energy =   0.0880
Level     2,  Iter    18:    Energy =   0.0885
Level     2,  Iter    19:    Energy =   0.0883
END OF LEVEL     2    DetJac Range:   0.0553  to   6.3048 
  Avg. Gradient Time  : 0.2939s  30.94% 
  Avg. Gaussian Time  : 0.5273s  55.51% 
  Avg. Iteration Time : 0.9500s 

real	0m32.638s
user	0m59.320s
sys	0m1.376s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=19 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=19 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.309615 0.315385
+ echo 'CHUNK 0.309615 0.315385 1'
CHUNK 0.309615 0.315385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.309615 0.315385 1
====================================
         PROGRESS: 0.309615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=020
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 020
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train020
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train020
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left 020 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train020 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=left
+ local tid=020
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train020
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 020 left 0
+ local tid=020
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 020 0
+ set -e
+ local tid=020
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.459973
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3117.68   GNORM= 320.31
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3195.285     292.135       0.002
   2    4     -3228.567     231.652       1.000
   3    5     -3249.426     158.527       1.000
   4    6     -3281.401     122.286       1.000
   5    7     -3297.143     115.934       1.000
   6    8     -3338.085     118.290       1.000
   7   10     -3345.735     151.824       0.402
   8   11     -3358.296     159.419       1.000
   9   12     -3365.306      65.426       1.000
  10   13     -3367.977      43.875       1.000
  11   14     -3369.648      48.448       1.000
  12   15     -3378.194      81.701       1.000
  13   17     -3384.017      60.453       0.336
  14   18     -3389.098      68.018       1.000
  15   19     -3390.716      69.219       1.000
  16   20     -3391.998      31.806       1.000
  17   21     -3392.668      34.903       1.000
  18   22     -3393.054      26.761       1.000
  19   23     -3393.487      18.859       1.000
  20   24     -3394.021      36.789       1.000
  21   25     -3394.566      31.519       1.000
  22   26     -3395.677      39.808       1.000
  23   27     -3396.228      23.322       1.000
  24   28     -3396.486      12.054       1.000
  25   29     -3396.701      19.565       1.000
  26   30     -3396.806      15.049       1.000
  27   31     -3396.842      15.308       1.000
  28   32     -3396.913      10.519       1.000
  29   33     -3396.940       6.576       1.000
  30   34     -3396.984       6.385       1.000
  31   36     -3397.008      10.239       0.393
  32   37     -3397.084      11.783       1.000
  33   38     -3397.182      11.190       1.000
  34   39     -3397.191       8.759       1.000
  35   40     -3397.245       8.224       1.000
  36   41     -3397.292      14.658       1.000
  37   42     -3397.359      11.360       1.000
  38   44     -3397.389       5.276       0.359
  39   45     -3397.424       3.565       1.000
  40   46     -3397.451       5.600       1.000
  41   47     -3397.452       8.279       1.000
  42   48     -3397.470       3.941       1.000
  43   50     -3397.477       2.353       0.311
Final RAS Transform: 
0.953271 -0.0262628 0.00584668 -1.63565 
0.000887928 1.01272 0.0875136 0.361737 
-0.00949052 -0.0134362 1.02227 -0.119469 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2373.27   GNORM= 376.613
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2407.322      78.038       0.000
   2    4     -2408.978      41.845       1.000
   3    5     -2409.591      36.999       1.000
   4    6     -2414.259      25.316       1.000
   5    7     -2420.374      41.192       1.000
   6    8     -2423.499      52.781       1.000
   7    9     -2427.271      32.368       1.000
   8   10     -2428.088      65.577       1.000
   9   11     -2429.551      30.370       1.000
  10   12     -2430.147      28.335       1.000
  11   13     -2431.270      11.936       1.000
  12   14     -2431.829      12.077       1.000
  13   15     -2433.639      17.076       1.000
  14   17     -2434.508      28.221       0.346
  15   18     -2435.053      47.463       1.000
  16   19     -2435.495      12.747       1.000
  17   20     -2435.583       8.545       1.000
  18   21     -2435.747       8.564       1.000
  19   22     -2436.134      13.331       1.000
  20   23     -2436.571      14.212       1.000
  21   24     -2436.999      11.911       1.000
  22   25     -2437.315      10.570       1.000
  23   27     -2437.543      18.498       0.481
  24   28     -2437.699       6.600       1.000
  25   29     -2437.728       3.240       1.000
  26   30     -2437.751       3.579       1.000
  27   31     -2437.785       4.756       1.000
  28   32     -2437.818       7.725       1.000
  29   33     -2437.853       4.203       1.000
  30   34     -2437.873       2.869       1.000
  31   35     -2437.884       2.268       1.000
  32   37     -2437.890       2.346       0.271
  33   38     -2437.899       2.361       1.000
  34   41     -2437.902       1.792       0.010
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.97481 -0.0230556 0.00393653 -0.938836 
0.00475819 1.01578 0.112227 0.660582 
-0.0120777 -0.0076598 1.03002 -0.141003 
0 0 0 1 

Final RAS Transform: 
0.97481 -0.0230556 0.00393653 -0.938836 
0.00475819 1.01578 0.112227 0.660582 
-0.0120777 -0.0076598 1.03002 -0.141003 
0 0 0 1 


real	0m10.358s
user	0m18.120s
sys	0m0.472s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.465196
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0941
Level     0,  Iter     1:    Energy =   0.1015
Level     0,  Iter     2:    Energy =   0.1080
Level     0,  Iter     3:    Energy =   0.1134
Level     0,  Iter     4:    Energy =   0.1152
Level     0,  Iter     5:    Energy =   0.1180
Level     0,  Iter     6:    Energy =   0.1191
Level     0,  Iter     7:    Energy =   0.1205
Level     0,  Iter     8:    Energy =   0.1211
Level     0,  Iter     9:    Energy =   0.1222
Level     0,  Iter    10:    Energy =   0.1227
Level     0,  Iter    11:    Energy =   0.1235
Level     0,  Iter    12:    Energy =   0.1238
Level     0,  Iter    13:    Energy =   0.1243
Level     0,  Iter    14:    Energy =   0.1245
Level     0,  Iter    15:    Energy =   0.1250
Level     0,  Iter    16:    Energy =   0.1251
Level     0,  Iter    17:    Energy =   0.1255
Level     0,  Iter    18:    Energy =   0.1256
Level     0,  Iter    19:    Energy =   0.1258
Level     0,  Iter    20:    Energy =   0.1259
Level     0,  Iter    21:    Energy =   0.1261
Level     0,  Iter    22:    Energy =   0.1261
Level     0,  Iter    23:    Energy =   0.1263
Level     0,  Iter    24:    Energy =   0.1263
Level     0,  Iter    25:    Energy =   0.1265
Level     0,  Iter    26:    Energy =   0.1265
Level     0,  Iter    27:    Energy =   0.1267
Level     0,  Iter    28:    Energy =   0.1267
Level     0,  Iter    29:    Energy =   0.1269
Level     0,  Iter    30:    Energy =   0.1269
Level     0,  Iter    31:    Energy =   0.1270
Level     0,  Iter    32:    Energy =   0.1271
Level     0,  Iter    33:    Energy =   0.1272
Level     0,  Iter    34:    Energy =   0.1272
Level     0,  Iter    35:    Energy =   0.1274
Level     0,  Iter    36:    Energy =   0.1273
Level     0,  Iter    37:    Energy =   0.1275
Level     0,  Iter    38:    Energy =   0.1274
Level     0,  Iter    39:    Energy =   0.1275
Level     0,  Iter    40:    Energy =   0.1275
Level     0,  Iter    41:    Energy =   0.1277
Level     0,  Iter    42:    Energy =   0.1276
Level     0,  Iter    43:    Energy =   0.1278
Level     0,  Iter    44:    Energy =   0.1277
Level     0,  Iter    45:    Energy =   0.1279
Level     0,  Iter    46:    Energy =   0.1278
Level     0,  Iter    47:    Energy =   0.1280
Level     0,  Iter    48:    Energy =   0.1279
Level     0,  Iter    49:    Energy =   0.1280
Level     0,  Iter    50:    Energy =   0.1280
Level     0,  Iter    51:    Energy =   0.1281
Level     0,  Iter    52:    Energy =   0.1281
Level     0,  Iter    53:    Energy =   0.1282
Level     0,  Iter    54:    Energy =   0.1281
Level     0,  Iter    55:    Energy =   0.1283
Level     0,  Iter    56:    Energy =   0.1282
Level     0,  Iter    57:    Energy =   0.1284
Level     0,  Iter    58:    Energy =   0.1283
Level     0,  Iter    59:    Energy =   0.1284
END OF LEVEL     0    DetJac Range:   0.2825  to   2.7320 
  Avg. Gradient Time  : 0.0072s  34.74% 
  Avg. Gaussian Time  : 0.0103s  49.48% 
  Avg. Iteration Time : 0.0208s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0842
Level     1,  Iter     1:    Energy =   0.0891
Level     1,  Iter     2:    Energy =   0.0937
Level     1,  Iter     3:    Energy =   0.0969
Level     1,  Iter     4:    Energy =   0.0994
Level     1,  Iter     5:    Energy =   0.1024
Level     1,  Iter     6:    Energy =   0.1045
Level     1,  Iter     7:    Energy =   0.1063
Level     1,  Iter     8:    Energy =   0.1080
Level     1,  Iter     9:    Energy =   0.1096
Level     1,  Iter    10:    Energy =   0.1110
Level     1,  Iter    11:    Energy =   0.1119
Level     1,  Iter    12:    Energy =   0.1121
Level     1,  Iter    13:    Energy =   0.1126
Level     1,  Iter    14:    Energy =   0.1131
Level     1,  Iter    15:    Energy =   0.1132
Level     1,  Iter    16:    Energy =   0.1138
Level     1,  Iter    17:    Energy =   0.1138
Level     1,  Iter    18:    Energy =   0.1145
Level     1,  Iter    19:    Energy =   0.1144
Level     1,  Iter    20:    Energy =   0.1150
Level     1,  Iter    21:    Energy =   0.1149
Level     1,  Iter    22:    Energy =   0.1154
Level     1,  Iter    23:    Energy =   0.1152
Level     1,  Iter    24:    Energy =   0.1156
Level     1,  Iter    25:    Energy =   0.1155
Level     1,  Iter    26:    Energy =   0.1158
Level     1,  Iter    27:    Energy =   0.1157
Level     1,  Iter    28:    Energy =   0.1160
Level     1,  Iter    29:    Energy =   0.1159
Level     1,  Iter    30:    Energy =   0.1161
Level     1,  Iter    31:    Energy =   0.1161
Level     1,  Iter    32:    Energy =   0.1163
Level     1,  Iter    33:    Energy =   0.1162
Level     1,  Iter    34:    Energy =   0.1164
Level     1,  Iter    35:    Energy =   0.1163
Level     1,  Iter    36:    Energy =   0.1165
Level     1,  Iter    37:    Energy =   0.1164
Level     1,  Iter    38:    Energy =   0.1166
Level     1,  Iter    39:    Energy =   0.1165
Level     1,  Iter    40:    Energy =   0.1167
Level     1,  Iter    41:    Energy =   0.1166
Level     1,  Iter    42:    Energy =   0.1167
Level     1,  Iter    43:    Energy =   0.1167
Level     1,  Iter    44:    Energy =   0.1168
Level     1,  Iter    45:    Energy =   0.1168
Level     1,  Iter    46:    Energy =   0.1169
Level     1,  Iter    47:    Energy =   0.1169
Level     1,  Iter    48:    Energy =   0.1169
Level     1,  Iter    49:    Energy =   0.1170
Level     1,  Iter    50:    Energy =   0.1170
Level     1,  Iter    51:    Energy =   0.1170
Level     1,  Iter    52:    Energy =   0.1171
Level     1,  Iter    53:    Energy =   0.1171
Level     1,  Iter    54:    Energy =   0.1172
Level     1,  Iter    55:    Energy =   0.1172
Level     1,  Iter    56:    Energy =   0.1173
Level     1,  Iter    57:    Energy =   0.1173
Level     1,  Iter    58:    Energy =   0.1173
Level     1,  Iter    59:    Energy =   0.1173
END OF LEVEL     1    DetJac Range:   0.1271  to   4.0721 
  Avg. Gradient Time  : 0.0411s  32.78% 
  Avg. Gaussian Time  : 0.0682s  54.37% 
  Avg. Iteration Time : 0.1254s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0596
Level     2,  Iter     1:    Energy =   0.0623
Level     2,  Iter     2:    Energy =   0.0645
Level     2,  Iter     3:    Energy =   0.0662
Level     2,  Iter     4:    Energy =   0.0677
Level     2,  Iter     5:    Energy =   0.0691
Level     2,  Iter     6:    Energy =   0.0704
Level     2,  Iter     7:    Energy =   0.0715
Level     2,  Iter     8:    Energy =   0.0725
Level     2,  Iter     9:    Energy =   0.0733
Level     2,  Iter    10:    Energy =   0.0740
Level     2,  Iter    11:    Energy =   0.0746
Level     2,  Iter    12:    Energy =   0.0751
Level     2,  Iter    13:    Energy =   0.0756
Level     2,  Iter    14:    Energy =   0.0760
Level     2,  Iter    15:    Energy =   0.0764
Level     2,  Iter    16:    Energy =   0.0768
Level     2,  Iter    17:    Energy =   0.0771
Level     2,  Iter    18:    Energy =   0.0774
Level     2,  Iter    19:    Energy =   0.0777
END OF LEVEL     2    DetJac Range:   0.0687  to   4.4006 
  Avg. Gradient Time  : 0.2927s  30.88% 
  Avg. Gaussian Time  : 0.5266s  55.54% 
  Avg. Iteration Time : 0.9481s 

real	0m32.413s
user	0m59.084s
sys	0m1.332s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=20 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=20 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.315385 0.321154
+ echo 'CHUNK 0.315385 0.321154 1'
CHUNK 0.315385 0.321154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.315385 0.321154 1
====================================
         PROGRESS: 0.315385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=021
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 021
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train021
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train021
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left 021 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train021 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=left
+ local tid=021
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train021
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 021 left 0
+ local tid=021
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 021 0
+ set -e
+ local tid=021
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.70117
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3067.99   GNORM= 242.495
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3087.401     157.122       0.001
   2    4     -3099.735     141.488       1.000
   3    5     -3125.405     107.596       1.000
   4    6     -3145.223     129.921       1.000
   5    7     -3175.800     150.020       1.000
   6    8     -3198.653      63.248       1.000
   7    9     -3200.319     160.333       1.000
   8   10     -3206.050      75.321       1.000
   9   11     -3209.958      70.031       1.000
  10   12     -3216.820      96.225       1.000
  11   13     -3233.540     104.069       1.000
  12   15     -3235.850      90.832       0.233
  13   16     -3238.732      35.658       1.000
  14   17     -3240.534      26.346       1.000
  15   18     -3242.448      30.806       1.000
  16   19     -3244.834      68.813       1.000
  17   20     -3248.033      77.976       1.000
  18   21     -3254.148      57.643       1.000
  19   22     -3261.362      39.842       1.000
  20   24     -3263.321      64.423       0.446
  21   25     -3265.747      33.201       1.000
  22   26     -3267.387      36.320       1.000
  23   27     -3268.406      36.169       1.000
  24   28     -3269.362      62.650       1.000
  25   29     -3270.671      32.965       1.000
  26   30     -3271.806      20.646       1.000
  27   31     -3272.496      23.810       1.000
  28   33     -3272.848      16.133       0.403
  29   34     -3273.186      19.120       1.000
  30   35     -3273.393      11.063       1.000
  31   36     -3273.457      14.416       1.000
  32   37     -3274.010       7.596       1.000
  33   39     -3274.139      11.924       0.397
  34   40     -3274.210      14.453       1.000
  35   41     -3274.283       8.013       1.000
  36   42     -3274.321       5.223       1.000
  37   44     -3274.351      12.693       0.212
  38   45     -3274.396       8.966       1.000
  39   46     -3274.447       8.877       1.000
  40   47     -3274.470       6.301       1.000
  41   48     -3274.507       5.357       1.000
  42   49     -3274.512       5.346       1.000
  43   50     -3274.526       3.990       1.000
  44   51     -3274.552       6.463       1.000
  45   52     -3274.565       4.279       1.000
  46   53     -3274.568       6.796       1.000
  47   54     -3274.582       2.342       1.000
  48   55     -3274.598       2.829       1.000
  49   57     -3274.600       4.689       0.322
  50   58     -3274.611       4.832       1.000
  51   59     -3274.627       4.538       1.000
  52   60     -3274.629       3.817       1.000
Final RAS Transform: 
0.913976 0.019436 0.0787184 -1.81148 
-0.0368172 0.986345 0.0509665 -1.31416 
-0.00653316 0.0156754 1.01441 0.165121 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2369.3   GNORM= 510.933
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2433.262     108.673       0.000
   2    4     -2436.789      64.667       1.000
   3    6     -2443.885      71.314       5.000
   4    7     -2455.200      60.592       1.000
   5    8     -2462.598      57.606       1.000
   6    9     -2467.297      50.490       1.000
   7   10     -2470.951      37.237       1.000
   8   11     -2476.024      42.202       1.000
   9   13     -2477.582      72.245       0.362
  10   14     -2479.714      35.527       1.000
  11   15     -2480.674      20.033       1.000
  12   16     -2481.267      33.548       1.000
  13   17     -2482.026      30.197       1.000
  14   18     -2486.974      35.302       1.000
  15   20     -2487.689      50.423       0.105
  16   21     -2489.686      41.437       1.000
  17   22     -2491.487      22.053       1.000
  18   23     -2491.828      25.927       1.000
  19   24     -2492.062      11.648       1.000
  20   25     -2492.249       9.502       1.000
  21   26     -2492.675       9.973       1.000
  22   28     -2492.859      32.302       0.353
  23   29     -2493.267      20.101       1.000
  24   30     -2494.060      17.103       1.000
  25   31     -2494.713      24.260       1.000
  26   32     -2495.038      58.252       1.000
  27   33     -2496.210      21.422       1.000
  28   34     -2496.759      14.224       1.000
  29   35     -2496.906      11.407       1.000
  30   37     -2497.046      15.596       0.431
  31   38     -2497.264      15.863       1.000
  32   39     -2497.412      13.964       1.000
  33   40     -2498.019      21.127       1.000
  34   41     -2498.722      15.337       1.000
  35   43     -2498.930      19.499       0.341
  36   44     -2499.099       7.133       1.000
  37   45     -2499.137       4.889       1.000
  38   46     -2499.193       6.440       1.000
  39   47     -2499.355       9.067       1.000
  40   49     -2499.398      17.733       0.312
  41   50     -2499.505       8.814       1.000
  42   51     -2499.578       7.550       1.000
  43   52     -2499.721       9.562       1.000
  44   53     -2499.759       6.617       1.000
  45   54     -2499.808       5.876       1.000
  46   55     -2499.853       8.186       1.000
  47   57     -2499.966      14.343       0.482
  48   58     -2500.103      11.364       1.000
  49   59     -2500.289      11.873       1.000
  50   60     -2500.319       3.819       1.000
  51   61     -2500.328       2.969       1.000
Final RAS Transform: 
0.940016 0.0248971 0.0673819 -0.847853 
-0.0401973 1.0132 0.0962414 -0.648461 
0.00304741 0.0167445 1.02579 0.30485 
0 0 0 1 

Final RAS Transform: 
0.940016 0.0248971 0.0673819 -0.847853 
-0.0401973 1.0132 0.0962414 -0.648461 
0.00304741 0.0167445 1.02579 0.30485 
0 0 0 1 


real	0m10.027s
user	0m17.520s
sys	0m0.448s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.695508
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0960
Level     0,  Iter     1:    Energy =   0.1030
Level     0,  Iter     2:    Energy =   0.1078
Level     0,  Iter     3:    Energy =   0.1128
Level     0,  Iter     4:    Energy =   0.1169
Level     0,  Iter     5:    Energy =   0.1195
Level     0,  Iter     6:    Energy =   0.1208
Level     0,  Iter     7:    Energy =   0.1226
Level     0,  Iter     8:    Energy =   0.1235
Level     0,  Iter     9:    Energy =   0.1255
Level     0,  Iter    10:    Energy =   0.1263
Level     0,  Iter    11:    Energy =   0.1274
Level     0,  Iter    12:    Energy =   0.1279
Level     0,  Iter    13:    Energy =   0.1288
Level     0,  Iter    14:    Energy =   0.1292
Level     0,  Iter    15:    Energy =   0.1298
Level     0,  Iter    16:    Energy =   0.1302
Level     0,  Iter    17:    Energy =   0.1306
Level     0,  Iter    18:    Energy =   0.1310
Level     0,  Iter    19:    Energy =   0.1312
Level     0,  Iter    20:    Energy =   0.1317
Level     0,  Iter    21:    Energy =   0.1322
Level     0,  Iter    22:    Energy =   0.1323
Level     0,  Iter    23:    Energy =   0.1321
Level     0,  Iter    24:    Energy =   0.1322
Level     0,  Iter    25:    Energy =   0.1322
Level     0,  Iter    26:    Energy =   0.1324
Level     0,  Iter    27:    Energy =   0.1328
Level     0,  Iter    28:    Energy =   0.1330
Level     0,  Iter    29:    Energy =   0.1332
Level     0,  Iter    30:    Energy =   0.1335
Level     0,  Iter    31:    Energy =   0.1339
Level     0,  Iter    32:    Energy =   0.1340
Level     0,  Iter    33:    Energy =   0.1339
Level     0,  Iter    34:    Energy =   0.1341
Level     0,  Iter    35:    Energy =   0.1343
Level     0,  Iter    36:    Energy =   0.1345
Level     0,  Iter    37:    Energy =   0.1346
Level     0,  Iter    38:    Energy =   0.1348
Level     0,  Iter    39:    Energy =   0.1352
Level     0,  Iter    40:    Energy =   0.1351
Level     0,  Iter    41:    Energy =   0.1349
Level     0,  Iter    42:    Energy =   0.1348
Level     0,  Iter    43:    Energy =   0.1347
Level     0,  Iter    44:    Energy =   0.1348
Level     0,  Iter    45:    Energy =   0.1351
Level     0,  Iter    46:    Energy =   0.1352
Level     0,  Iter    47:    Energy =   0.1349
Level     0,  Iter    48:    Energy =   0.1350
Level     0,  Iter    49:    Energy =   0.1352
Level     0,  Iter    50:    Energy =   0.1353
Level     0,  Iter    51:    Energy =   0.1352
Level     0,  Iter    52:    Energy =   0.1354
Level     0,  Iter    53:    Energy =   0.1356
Level     0,  Iter    54:    Energy =   0.1356
Level     0,  Iter    55:    Energy =   0.1353
Level     0,  Iter    56:    Energy =   0.1353
Level     0,  Iter    57:    Energy =   0.1351
Level     0,  Iter    58:    Energy =   0.1353
Level     0,  Iter    59:    Energy =   0.1356
END OF LEVEL     0    DetJac Range:   0.1268  to   2.2583 
  Avg. Gradient Time  : 0.0072s  34.84% 
  Avg. Gaussian Time  : 0.0102s  49.30% 
  Avg. Iteration Time : 0.0207s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0923
Level     1,  Iter     1:    Energy =   0.0976
Level     1,  Iter     2:    Energy =   0.1020
Level     1,  Iter     3:    Energy =   0.1051
Level     1,  Iter     4:    Energy =   0.1075
Level     1,  Iter     5:    Energy =   0.1091
Level     1,  Iter     6:    Energy =   0.1104
Level     1,  Iter     7:    Energy =   0.1120
Level     1,  Iter     8:    Energy =   0.1134
Level     1,  Iter     9:    Energy =   0.1151
Level     1,  Iter    10:    Energy =   0.1163
Level     1,  Iter    11:    Energy =   0.1171
Level     1,  Iter    12:    Energy =   0.1179
Level     1,  Iter    13:    Energy =   0.1187
Level     1,  Iter    14:    Energy =   0.1194
Level     1,  Iter    15:    Energy =   0.1196
Level     1,  Iter    16:    Energy =   0.1195
Level     1,  Iter    17:    Energy =   0.1200
Level     1,  Iter    18:    Energy =   0.1199
Level     1,  Iter    19:    Energy =   0.1202
Level     1,  Iter    20:    Energy =   0.1203
Level     1,  Iter    21:    Energy =   0.1204
Level     1,  Iter    22:    Energy =   0.1205
Level     1,  Iter    23:    Energy =   0.1207
Level     1,  Iter    24:    Energy =   0.1207
Level     1,  Iter    25:    Energy =   0.1208
Level     1,  Iter    26:    Energy =   0.1208
Level     1,  Iter    27:    Energy =   0.1210
Level     1,  Iter    28:    Energy =   0.1210
Level     1,  Iter    29:    Energy =   0.1212
Level     1,  Iter    30:    Energy =   0.1211
Level     1,  Iter    31:    Energy =   0.1214
Level     1,  Iter    32:    Energy =   0.1212
Level     1,  Iter    33:    Energy =   0.1215
Level     1,  Iter    34:    Energy =   0.1214
Level     1,  Iter    35:    Energy =   0.1215
Level     1,  Iter    36:    Energy =   0.1215
Level     1,  Iter    37:    Energy =   0.1217
Level     1,  Iter    38:    Energy =   0.1215
Level     1,  Iter    39:    Energy =   0.1218
Level     1,  Iter    40:    Energy =   0.1216
Level     1,  Iter    41:    Energy =   0.1218
Level     1,  Iter    42:    Energy =   0.1217
Level     1,  Iter    43:    Energy =   0.1219
Level     1,  Iter    44:    Energy =   0.1217
Level     1,  Iter    45:    Energy =   0.1220
Level     1,  Iter    46:    Energy =   0.1218
Level     1,  Iter    47:    Energy =   0.1221
Level     1,  Iter    48:    Energy =   0.1219
Level     1,  Iter    49:    Energy =   0.1221
Level     1,  Iter    50:    Energy =   0.1219
Level     1,  Iter    51:    Energy =   0.1222
Level     1,  Iter    52:    Energy =   0.1220
Level     1,  Iter    53:    Energy =   0.1222
Level     1,  Iter    54:    Energy =   0.1220
Level     1,  Iter    55:    Energy =   0.1222
Level     1,  Iter    56:    Energy =   0.1220
Level     1,  Iter    57:    Energy =   0.1223
Level     1,  Iter    58:    Energy =   0.1221
Level     1,  Iter    59:    Energy =   0.1224
END OF LEVEL     1    DetJac Range:   0.0873  to   3.2304 
  Avg. Gradient Time  : 0.0410s  32.70% 
  Avg. Gaussian Time  : 0.0683s  54.44% 
  Avg. Iteration Time : 0.1254s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0618
Level     2,  Iter     1:    Energy =   0.0646
Level     2,  Iter     2:    Energy =   0.0668
Level     2,  Iter     3:    Energy =   0.0687
Level     2,  Iter     4:    Energy =   0.0704
Level     2,  Iter     5:    Energy =   0.0722
Level     2,  Iter     6:    Energy =   0.0736
Level     2,  Iter     7:    Energy =   0.0749
Level     2,  Iter     8:    Energy =   0.0761
Level     2,  Iter     9:    Energy =   0.0773
Level     2,  Iter    10:    Energy =   0.0783
Level     2,  Iter    11:    Energy =   0.0794
Level     2,  Iter    12:    Energy =   0.0804
Level     2,  Iter    13:    Energy =   0.0815
Level     2,  Iter    14:    Energy =   0.0825
Level     2,  Iter    15:    Energy =   0.0833
Level     2,  Iter    16:    Energy =   0.0840
Level     2,  Iter    17:    Energy =   0.0847
Level     2,  Iter    18:    Energy =   0.0852
Level     2,  Iter    19:    Energy =   0.0857
END OF LEVEL     2    DetJac Range:   0.0456  to   5.0932 
  Avg. Gradient Time  : 0.2946s  30.97% 
  Avg. Gaussian Time  : 0.5274s  55.44% 
  Avg. Iteration Time : 0.9513s 

real	0m32.491s
user	0m59.232s
sys	0m1.300s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=21 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=21 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.321154 0.326923
+ echo 'CHUNK 0.321154 0.326923 1'
CHUNK 0.321154 0.326923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.321154 0.326923 1
====================================
         PROGRESS: 0.321154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=022
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 022
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train022
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train022
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left 022 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train022 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=left
+ local tid=022
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train022
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 022 left 0
+ local tid=022
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 022 0
+ set -e
+ local tid=022
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.593068
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3450.02   GNORM= 255.072
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3499.763     272.404       0.001
   2    4     -3521.662     212.149       1.000
   3    5     -3533.855     135.687       1.000
   4    6     -3555.592      89.408       1.000
   5    7     -3573.238     125.933       1.000
   6    8     -3594.983     149.724       1.000
   7    9     -3608.722     133.890       1.000
   8   11     -3615.002      77.392       0.376
   9   12     -3619.647      73.339       1.000
  10   13     -3626.286      73.436       1.000
  11   14     -3630.285      50.751       1.000
  12   15     -3645.840     111.719       1.000
  13   16     -3651.089      65.017       1.000
  14   17     -3654.344     103.565       1.000
  15   18     -3658.465     108.954       1.000
  16   19     -3660.698      59.235       1.000
  17   20     -3662.982      67.495       1.000
  18   21     -3664.334      55.075       1.000
  19   22     -3669.762      28.964       1.000
  20   23     -3672.022      24.174       1.000
  21   25     -3674.891      40.477       0.303
  22   26     -3676.960      66.197       1.000
  23   27     -3678.056     104.694       1.000
  24   28     -3679.445      37.312       1.000
  25   29     -3680.155      30.939       1.000
  26   30     -3681.083      26.810       1.000
  27   31     -3681.441      18.719       1.000
  28   32     -3682.142      24.471       1.000
  29   33     -3683.058      39.537       1.000
  30   34     -3685.006      45.859       1.000
  31   36     -3686.314      68.186       0.449
  32   37     -3687.788      38.685       1.000
  33   38     -3689.161      16.459       1.000
  34   39     -3689.441      24.200       1.000
  35   40     -3689.710      24.700       1.000
  36   41     -3690.112      19.166       1.000
  37   42     -3690.530      19.312       1.000
  38   43     -3690.676      13.967       1.000
  39   44     -3690.758      17.527       1.000
  40   46     -3690.829      17.081       0.428
  41   47     -3690.906       6.917       1.000
  42   48     -3690.936       7.012       1.000
  43   50     -3690.979      12.430       0.176
  44   51     -3691.052       9.866       1.000
  45   52     -3691.081      20.515       1.000
  46   53     -3691.154       3.273       1.000
  47   54     -3691.157       3.661       1.000
  48   55     -3691.162       3.515       1.000
  49   56     -3691.175      10.733       1.000
  50   57     -3691.203       4.990       1.000
  51   58     -3691.217       6.689       1.000
  52   59     -3691.226       2.454       1.000
  53   60     -3691.234       2.066       1.000
Final RAS Transform: 
0.94936 0.0033029 0.0152232 -1.19322 
-0.0841722 1.00468 0.088902 -2.10788 
0.00613818 -0.00824232 0.992754 0.0410095 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2725.89   GNORM= 437.058
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2757.506      78.894       0.000
   2    4     -2758.830      34.186       1.000
   3    5     -2759.323      35.487       1.000
   4    6     -2761.402      37.783       1.000
   5    7     -2763.739      60.782       1.000
   6    8     -2768.424      70.491       1.000
   7    9     -2778.350      99.044       1.000
   8   11     -2780.350      55.493       0.202
   9   12     -2782.689      31.747       1.000
  10   13     -2784.182      27.520       1.000
  11   14     -2784.962      16.544       1.000
  12   15     -2785.577      20.331       1.000
  13   16     -2787.734      25.289       1.000
  14   17     -2789.205      62.084       1.000
  15   18     -2790.210      34.749       1.000
  16   19     -2790.727      15.935       1.000
  17   20     -2790.948      10.939       1.000
  18   21     -2791.418      15.399       1.000
  19   22     -2792.591      21.954       1.000
  20   24     -2793.362      48.351       0.370
  21   25     -2794.398      22.381       1.000
  22   26     -2795.596      30.234       1.000
  23   27     -2796.307      20.887       1.000
  24   28     -2796.668      20.083       1.000
  25   29     -2797.115      13.582       1.000
  26   30     -2797.451      15.883       1.000
  27   31     -2799.846      19.516       1.000
  28   32     -2800.664      71.054       1.000
  29   34     -2801.955      40.465       0.478
  30   35     -2802.752      35.991       1.000
  31   37     -2803.519      27.213       0.332
  32   38     -2804.242      18.779       1.000
  33   39     -2804.646      14.336       1.000
  34   40     -2805.385      11.397       1.000
  35   42     -2805.471      27.115       0.109
  36   43     -2805.748      21.997       1.000
  37   44     -2806.244      22.246       1.000
  38   46     -2807.636      50.243       0.518
  39   47     -2809.595      43.920       1.000
  40   48     -2811.191      35.645       1.000
  41   49     -2812.131      50.055       1.000
  42   51     -2812.538      16.531       0.318
  43   52     -2812.846      15.177       1.000
  44   53     -2812.973       8.229       1.000
  45   54     -2813.187      20.733       1.000
  46   55     -2813.434      25.383       1.000
  47   56     -2813.917      36.738       1.000
  48   57     -2814.327      20.717       1.000
  49   58     -2814.600      11.331       1.000
  50   59     -2814.755      14.692       1.000
  51   60     -2814.987      16.844       1.000
Final RAS Transform: 
0.983298 -0.00909499 -0.0233318 -0.571891 
-0.0307912 0.994225 0.0335438 -1.11492 
0.0012807 0.00354061 1.02166 0.22619 
0 0 0 1 

Final RAS Transform: 
0.983298 -0.00909499 -0.0233318 -0.571891 
-0.0307912 0.994225 0.0335438 -1.11492 
0.0012807 0.00354061 1.02166 0.22619 
0 0 0 1 


real	0m10.073s
user	0m17.616s
sys	0m0.424s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.594634
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1074
Level     0,  Iter     1:    Energy =   0.1131
Level     0,  Iter     2:    Energy =   0.1187
Level     0,  Iter     3:    Energy =   0.1243
Level     0,  Iter     4:    Energy =   0.1276
Level     0,  Iter     5:    Energy =   0.1293
Level     0,  Iter     6:    Energy =   0.1318
Level     0,  Iter     7:    Energy =   0.1328
Level     0,  Iter     8:    Energy =   0.1344
Level     0,  Iter     9:    Energy =   0.1351
Level     0,  Iter    10:    Energy =   0.1364
Level     0,  Iter    11:    Energy =   0.1369
Level     0,  Iter    12:    Energy =   0.1377
Level     0,  Iter    13:    Energy =   0.1381
Level     0,  Iter    14:    Energy =   0.1386
Level     0,  Iter    15:    Energy =   0.1389
Level     0,  Iter    16:    Energy =   0.1396
Level     0,  Iter    17:    Energy =   0.1398
Level     0,  Iter    18:    Energy =   0.1403
Level     0,  Iter    19:    Energy =   0.1404
Level     0,  Iter    20:    Energy =   0.1408
Level     0,  Iter    21:    Energy =   0.1410
Level     0,  Iter    22:    Energy =   0.1415
Level     0,  Iter    23:    Energy =   0.1417
Level     0,  Iter    24:    Energy =   0.1422
Level     0,  Iter    25:    Energy =   0.1422
Level     0,  Iter    26:    Energy =   0.1423
Level     0,  Iter    27:    Energy =   0.1424
Level     0,  Iter    28:    Energy =   0.1427
Level     0,  Iter    29:    Energy =   0.1426
Level     0,  Iter    30:    Energy =   0.1428
Level     0,  Iter    31:    Energy =   0.1428
Level     0,  Iter    32:    Energy =   0.1431
Level     0,  Iter    33:    Energy =   0.1431
Level     0,  Iter    34:    Energy =   0.1435
Level     0,  Iter    35:    Energy =   0.1434
Level     0,  Iter    36:    Energy =   0.1435
Level     0,  Iter    37:    Energy =   0.1436
Level     0,  Iter    38:    Energy =   0.1438
Level     0,  Iter    39:    Energy =   0.1437
Level     0,  Iter    40:    Energy =   0.1437
Level     0,  Iter    41:    Energy =   0.1437
Level     0,  Iter    42:    Energy =   0.1438
Level     0,  Iter    43:    Energy =   0.1439
Level     0,  Iter    44:    Energy =   0.1440
Level     0,  Iter    45:    Energy =   0.1440
Level     0,  Iter    46:    Energy =   0.1439
Level     0,  Iter    47:    Energy =   0.1440
Level     0,  Iter    48:    Energy =   0.1440
Level     0,  Iter    49:    Energy =   0.1440
Level     0,  Iter    50:    Energy =   0.1440
Level     0,  Iter    51:    Energy =   0.1440
Level     0,  Iter    52:    Energy =   0.1439
Level     0,  Iter    53:    Energy =   0.1440
Level     0,  Iter    54:    Energy =   0.1440
Level     0,  Iter    55:    Energy =   0.1440
Level     0,  Iter    56:    Energy =   0.1439
Level     0,  Iter    57:    Energy =   0.1441
Level     0,  Iter    58:    Energy =   0.1441
Level     0,  Iter    59:    Energy =   0.1442
END OF LEVEL     0    DetJac Range:   0.1935  to   1.9780 
  Avg. Gradient Time  : 0.0074s  34.43% 
  Avg. Gaussian Time  : 0.0108s  50.20% 
  Avg. Iteration Time : 0.0215s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.1015
Level     1,  Iter     1:    Energy =   0.1056
Level     1,  Iter     2:    Energy =   0.1097
Level     1,  Iter     3:    Energy =   0.1130
Level     1,  Iter     4:    Energy =   0.1160
Level     1,  Iter     5:    Energy =   0.1184
Level     1,  Iter     6:    Energy =   0.1205
Level     1,  Iter     7:    Energy =   0.1223
Level     1,  Iter     8:    Energy =   0.1238
Level     1,  Iter     9:    Energy =   0.1252
Level     1,  Iter    10:    Energy =   0.1262
Level     1,  Iter    11:    Energy =   0.1264
Level     1,  Iter    12:    Energy =   0.1269
Level     1,  Iter    13:    Energy =   0.1272
Level     1,  Iter    14:    Energy =   0.1273
Level     1,  Iter    15:    Energy =   0.1278
Level     1,  Iter    16:    Energy =   0.1278
Level     1,  Iter    17:    Energy =   0.1283
Level     1,  Iter    18:    Energy =   0.1283
Level     1,  Iter    19:    Energy =   0.1288
Level     1,  Iter    20:    Energy =   0.1287
Level     1,  Iter    21:    Energy =   0.1289
Level     1,  Iter    22:    Energy =   0.1289
Level     1,  Iter    23:    Energy =   0.1292
Level     1,  Iter    24:    Energy =   0.1291
Level     1,  Iter    25:    Energy =   0.1294
Level     1,  Iter    26:    Energy =   0.1293
Level     1,  Iter    27:    Energy =   0.1296
Level     1,  Iter    28:    Energy =   0.1294
Level     1,  Iter    29:    Energy =   0.1297
Level     1,  Iter    30:    Energy =   0.1296
Level     1,  Iter    31:    Energy =   0.1299
Level     1,  Iter    32:    Energy =   0.1297
Level     1,  Iter    33:    Energy =   0.1300
Level     1,  Iter    34:    Energy =   0.1299
Level     1,  Iter    35:    Energy =   0.1301
Level     1,  Iter    36:    Energy =   0.1299
Level     1,  Iter    37:    Energy =   0.1303
Level     1,  Iter    38:    Energy =   0.1301
Level     1,  Iter    39:    Energy =   0.1304
Level     1,  Iter    40:    Energy =   0.1301
Level     1,  Iter    41:    Energy =   0.1305
Level     1,  Iter    42:    Energy =   0.1303
Level     1,  Iter    43:    Energy =   0.1304
Level     1,  Iter    44:    Energy =   0.1302
Level     1,  Iter    45:    Energy =   0.1306
Level     1,  Iter    46:    Energy =   0.1304
Level     1,  Iter    47:    Energy =   0.1305
Level     1,  Iter    48:    Energy =   0.1303
Level     1,  Iter    49:    Energy =   0.1307
Level     1,  Iter    50:    Energy =   0.1305
Level     1,  Iter    51:    Energy =   0.1306
Level     1,  Iter    52:    Energy =   0.1303
Level     1,  Iter    53:    Energy =   0.1307
Level     1,  Iter    54:    Energy =   0.1305
Level     1,  Iter    55:    Energy =   0.1307
Level     1,  Iter    56:    Energy =   0.1304
Level     1,  Iter    57:    Energy =   0.1308
Level     1,  Iter    58:    Energy =   0.1306
Level     1,  Iter    59:    Energy =   0.1307
END OF LEVEL     1    DetJac Range:   0.1686  to   2.9947 
  Avg. Gradient Time  : 0.0412s  32.82% 
  Avg. Gaussian Time  : 0.0682s  54.31% 
  Avg. Iteration Time : 0.1256s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0654
Level     2,  Iter     1:    Energy =   0.0678
Level     2,  Iter     2:    Energy =   0.0703
Level     2,  Iter     3:    Energy =   0.0726
Level     2,  Iter     4:    Energy =   0.0746
Level     2,  Iter     5:    Energy =   0.0762
Level     2,  Iter     6:    Energy =   0.0777
Level     2,  Iter     7:    Energy =   0.0792
Level     2,  Iter     8:    Energy =   0.0807
Level     2,  Iter     9:    Energy =   0.0820
Level     2,  Iter    10:    Energy =   0.0832
Level     2,  Iter    11:    Energy =   0.0841
Level     2,  Iter    12:    Energy =   0.0847
Level     2,  Iter    13:    Energy =   0.0852
Level     2,  Iter    14:    Energy =   0.0858
Level     2,  Iter    15:    Energy =   0.0865
Level     2,  Iter    16:    Energy =   0.0872
Level     2,  Iter    17:    Energy =   0.0877
Level     2,  Iter    18:    Energy =   0.0882
Level     2,  Iter    19:    Energy =   0.0886
END OF LEVEL     2    DetJac Range:   0.0818  to   5.0162 
  Avg. Gradient Time  : 0.2926s  30.84% 
  Avg. Gaussian Time  : 0.5273s  55.57% 
  Avg. Iteration Time : 0.9488s 

real	0m32.484s
user	0m59.044s
sys	0m1.468s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=22 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=22 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.326923 0.332692
+ echo 'CHUNK 0.326923 0.332692 1'
CHUNK 0.326923 0.332692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.326923 0.332692 1
====================================
         PROGRESS: 0.326923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=023
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 023
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train023
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train023
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left 023 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train023 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=left
+ local tid=023
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train023
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 023 left 0
+ local tid=023
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 023 0
+ set -e
+ local tid=023
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.784759
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3535.92   GNORM= 468.513
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3638.805     506.093       0.001
   2    4     -3717.962     231.358       1.000
   3    5     -3747.385     133.111       1.000
   4    6     -3760.678     139.405       1.000
   5    7     -3845.832     137.183       1.000
   6    9     -3852.280      71.094       0.236
   7   10     -3853.230      71.295       1.000
   8   11     -3855.361      34.762       1.000
   9   12     -3856.689      40.558       1.000
  10   13     -3860.299     100.670       1.000
  11   14     -3866.303     141.150       1.000
  12   15     -3876.660     105.454       1.000
  13   16     -3885.343      94.212       1.000
  14   17     -3889.942      26.229       1.000
  15   18     -3890.242      22.069       1.000
  16   19     -3890.360      12.609       1.000
  17   20     -3890.486      13.658       1.000
  18   21     -3890.512      21.026       1.000
  19   22     -3890.582       8.438       1.000
  20   23     -3890.607       5.203       1.000
  21   24     -3890.660      14.498       1.000
  22   25     -3890.721      18.586       1.000
  23   26     -3890.808      17.205       1.000
  24   27     -3890.873      15.347       1.000
  25   28     -3890.927       4.921       1.000
  26   29     -3890.931       3.911       1.000
  27   30     -3890.938       5.090       1.000
  28   32     -3890.938       2.110       0.342
  29   33     -3890.944       4.510       1.000
  30   34     -3890.946       4.813       1.000
  31   35     -3890.953       2.694       1.000
  32   36     -3890.957       2.836       1.000
  33   38     -3890.960       6.424       0.343
  34   39     -3890.962       3.535       1.000
  35   40     -3890.965       2.732       1.000
  36   42     -3890.982       3.033       5.000
  37   43     -3890.989       1.321       1.000
  38   45     -3890.990       2.245       0.272
  39   46     -3890.995       1.871       1.000
  40   48     -3890.996       2.433       0.190
  41   49     -3890.996       2.058       1.000
Final RAS Transform: 
0.984712 -0.0345263 -0.0472443 -1.46047 
0.014035 1.01029 0.077791 0.182282 
-0.0131911 -0.0103961 0.962202 -0.38677 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2643.14   GNORM= 208.582
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2653.549      60.153       0.000
   2    4     -2655.272      50.413       1.000
   3    5     -2658.923      76.856       1.000
   4    6     -2662.778      75.334       1.000
   5    7     -2669.685      68.917       1.000
   6    8     -2671.702      99.221       1.000
   7    9     -2674.707      31.347       1.000
   8   10     -2675.657      26.985       1.000
   9   11     -2678.381      38.236       1.000
  10   12     -2681.821      65.790       1.000
  11   13     -2682.250     119.096       1.000
  12   14     -2685.465      22.586       1.000
  13   15     -2685.689      14.610       1.000
  14   16     -2685.939      10.209       1.000
  15   17     -2686.146      15.852       1.000
  16   18     -2686.399      13.425       1.000
  17   19     -2686.878       8.948       1.000
  18   21     -2687.011      11.991       0.518
  19   22     -2687.086       8.097       1.000
  20   23     -2687.121       5.768       1.000
  21   24     -2687.134      14.630       1.000
  22   25     -2687.223       6.219       1.000
  23   26     -2687.255       3.767       1.000
  24   27     -2687.340       6.998       1.000
  25   28     -2687.454      18.615       1.000
  26   29     -2687.544       8.532       1.000
  27   30     -2687.604       5.492       1.000
  28   31     -2687.717       5.468       1.000
  29   32     -2687.829      10.839       1.000
  30   33     -2687.903       7.063       1.000
  31   34     -2687.919      10.259       1.000
  32   35     -2687.951       6.354       1.000
  33   36     -2687.962       4.064       1.000
  34   38     -2687.972       3.230       0.309
  35   39     -2687.975       2.146       1.000
  36   40     -2687.985       2.179       1.000
  37   41     -2687.992       1.940       1.000
  38   43     -2688.004       3.628       0.276
  39   44     -2688.011       1.818       1.000
Final RAS Transform: 
0.983298 -0.0321653 -0.0427544 -1.32659 
0.0128517 1.00049 0.0766399 0.00851351 
-0.0078647 -0.000172072 0.992894 0.109662 
0 0 0 1 

Final RAS Transform: 
0.983298 -0.0321653 -0.0427544 -1.32659 
0.0128517 1.00049 0.0766399 0.00851351 
-0.0078647 -0.000172072 0.992894 0.109662 
0 0 0 1 


real	0m9.427s
user	0m16.520s
sys	0m0.416s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.799851
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.1128
Level     0,  Iter     1:    Energy =   0.1216
Level     0,  Iter     2:    Energy =   0.1280
Level     0,  Iter     3:    Energy =   0.1332
Level     0,  Iter     4:    Energy =   0.1372
Level     0,  Iter     5:    Energy =   0.1405
Level     0,  Iter     6:    Energy =   0.1436
Level     0,  Iter     7:    Energy =   0.1460
Level     0,  Iter     8:    Energy =   0.1464
Level     0,  Iter     9:    Energy =   0.1469
Level     0,  Iter    10:    Energy =   0.1478
Level     0,  Iter    11:    Energy =   0.1482
Level     0,  Iter    12:    Energy =   0.1489
Level     0,  Iter    13:    Energy =   0.1488
Level     0,  Iter    14:    Energy =   0.1491
Level     0,  Iter    15:    Energy =   0.1494
Level     0,  Iter    16:    Energy =   0.1494
Level     0,  Iter    17:    Energy =   0.1497
Level     0,  Iter    18:    Energy =   0.1497
Level     0,  Iter    19:    Energy =   0.1498
Level     0,  Iter    20:    Energy =   0.1498
Level     0,  Iter    21:    Energy =   0.1500
Level     0,  Iter    22:    Energy =   0.1500
Level     0,  Iter    23:    Energy =   0.1501
Level     0,  Iter    24:    Energy =   0.1502
Level     0,  Iter    25:    Energy =   0.1504
Level     0,  Iter    26:    Energy =   0.1504
Level     0,  Iter    27:    Energy =   0.1506
Level     0,  Iter    28:    Energy =   0.1504
Level     0,  Iter    29:    Energy =   0.1506
Level     0,  Iter    30:    Energy =   0.1506
Level     0,  Iter    31:    Energy =   0.1506
Level     0,  Iter    32:    Energy =   0.1507
Level     0,  Iter    33:    Energy =   0.1509
Level     0,  Iter    34:    Energy =   0.1506
Level     0,  Iter    35:    Energy =   0.1508
Level     0,  Iter    36:    Energy =   0.1507
Level     0,  Iter    37:    Energy =   0.1507
Level     0,  Iter    38:    Energy =   0.1509
Level     0,  Iter    39:    Energy =   0.1510
Level     0,  Iter    40:    Energy =   0.1507
Level     0,  Iter    41:    Energy =   0.1509
Level     0,  Iter    42:    Energy =   0.1509
Level     0,  Iter    43:    Energy =   0.1508
Level     0,  Iter    44:    Energy =   0.1510
Level     0,  Iter    45:    Energy =   0.1511
Level     0,  Iter    46:    Energy =   0.1509
Level     0,  Iter    47:    Energy =   0.1509
Level     0,  Iter    48:    Energy =   0.1510
Level     0,  Iter    49:    Energy =   0.1510
Level     0,  Iter    50:    Energy =   0.1511
Level     0,  Iter    51:    Energy =   0.1512
Level     0,  Iter    52:    Energy =   0.1511
Level     0,  Iter    53:    Energy =   0.1511
Level     0,  Iter    54:    Energy =   0.1512
Level     0,  Iter    55:    Energy =   0.1511
Level     0,  Iter    56:    Energy =   0.1512
Level     0,  Iter    57:    Energy =   0.1513
Level     0,  Iter    58:    Energy =   0.1512
Level     0,  Iter    59:    Energy =   0.1511
END OF LEVEL     0    DetJac Range:   0.3237  to   2.0199 
  Avg. Gradient Time  : 0.0083s  35.15% 
  Avg. Gaussian Time  : 0.0116s  48.99% 
  Avg. Iteration Time : 0.0236s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0989
Level     1,  Iter     1:    Energy =   0.1039
Level     1,  Iter     2:    Energy =   0.1075
Level     1,  Iter     3:    Energy =   0.1108
Level     1,  Iter     4:    Energy =   0.1142
Level     1,  Iter     5:    Energy =   0.1169
Level     1,  Iter     6:    Energy =   0.1189
Level     1,  Iter     7:    Energy =   0.1207
Level     1,  Iter     8:    Energy =   0.1223
Level     1,  Iter     9:    Energy =   0.1239
Level     1,  Iter    10:    Energy =   0.1250
Level     1,  Iter    11:    Energy =   0.1259
Level     1,  Iter    12:    Energy =   0.1267
Level     1,  Iter    13:    Energy =   0.1276
Level     1,  Iter    14:    Energy =   0.1284
Level     1,  Iter    15:    Energy =   0.1292
Level     1,  Iter    16:    Energy =   0.1293
Level     1,  Iter    17:    Energy =   0.1296
Level     1,  Iter    18:    Energy =   0.1297
Level     1,  Iter    19:    Energy =   0.1302
Level     1,  Iter    20:    Energy =   0.1302
Level     1,  Iter    21:    Energy =   0.1305
Level     1,  Iter    22:    Energy =   0.1306
Level     1,  Iter    23:    Energy =   0.1309
Level     1,  Iter    24:    Energy =   0.1309
Level     1,  Iter    25:    Energy =   0.1311
Level     1,  Iter    26:    Energy =   0.1310
Level     1,  Iter    27:    Energy =   0.1314
Level     1,  Iter    28:    Energy =   0.1314
Level     1,  Iter    29:    Energy =   0.1316
Level     1,  Iter    30:    Energy =   0.1314
Level     1,  Iter    31:    Energy =   0.1318
Level     1,  Iter    32:    Energy =   0.1316
Level     1,  Iter    33:    Energy =   0.1320
Level     1,  Iter    34:    Energy =   0.1319
Level     1,  Iter    35:    Energy =   0.1320
Level     1,  Iter    36:    Energy =   0.1319
Level     1,  Iter    37:    Energy =   0.1323
Level     1,  Iter    38:    Energy =   0.1320
Level     1,  Iter    39:    Energy =   0.1324
Level     1,  Iter    40:    Energy =   0.1321
Level     1,  Iter    41:    Energy =   0.1324
Level     1,  Iter    42:    Energy =   0.1322
Level     1,  Iter    43:    Energy =   0.1325
Level     1,  Iter    44:    Energy =   0.1322
Level     1,  Iter    45:    Energy =   0.1326
Level     1,  Iter    46:    Energy =   0.1323
Level     1,  Iter    47:    Energy =   0.1326
Level     1,  Iter    48:    Energy =   0.1324
Level     1,  Iter    49:    Energy =   0.1328
Level     1,  Iter    50:    Energy =   0.1325
Level     1,  Iter    51:    Energy =   0.1328
Level     1,  Iter    52:    Energy =   0.1325
Level     1,  Iter    53:    Energy =   0.1329
Level     1,  Iter    54:    Energy =   0.1326
Level     1,  Iter    55:    Energy =   0.1329
Level     1,  Iter    56:    Energy =   0.1326
Level     1,  Iter    57:    Energy =   0.1329
Level     1,  Iter    58:    Energy =   0.1326
Level     1,  Iter    59:    Energy =   0.1329
END OF LEVEL     1    DetJac Range:   0.1118  to   3.0746 
  Avg. Gradient Time  : 0.0470s  32.79% 
  Avg. Gaussian Time  : 0.0776s  54.16% 
  Avg. Iteration Time : 0.1433s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0700
Level     2,  Iter     1:    Energy =   0.0727
Level     2,  Iter     2:    Energy =   0.0748
Level     2,  Iter     3:    Energy =   0.0765
Level     2,  Iter     4:    Energy =   0.0781
Level     2,  Iter     5:    Energy =   0.0797
Level     2,  Iter     6:    Energy =   0.0814
Level     2,  Iter     7:    Energy =   0.0828
Level     2,  Iter     8:    Energy =   0.0841
Level     2,  Iter     9:    Energy =   0.0851
Level     2,  Iter    10:    Energy =   0.0860
Level     2,  Iter    11:    Energy =   0.0870
Level     2,  Iter    12:    Energy =   0.0879
Level     2,  Iter    13:    Energy =   0.0887
Level     2,  Iter    14:    Energy =   0.0894
Level     2,  Iter    15:    Energy =   0.0900
Level     2,  Iter    16:    Energy =   0.0904
Level     2,  Iter    17:    Energy =   0.0908
Level     2,  Iter    18:    Energy =   0.0911
Level     2,  Iter    19:    Energy =   0.0914
END OF LEVEL     2    DetJac Range:   0.0568  to   4.8354 
  Avg. Gradient Time  : 0.3330s  30.74% 
  Avg. Gaussian Time  : 0.6006s  55.44% 
  Avg. Iteration Time : 1.0833s 

real	0m36.933s
user	1m7.384s
sys	0m1.660s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=23 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=23 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.332692 0.338462
+ echo 'CHUNK 0.332692 0.338462 1'
CHUNK 0.332692 0.338462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.332692 0.338462 1
====================================
         PROGRESS: 0.332692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=024
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 024
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train024
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train024
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left 024 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train024 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=left
+ local tid=024
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train024
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 024 left 0
+ local tid=024
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 024 0
+ set -e
+ local tid=024
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.679531
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2710.99   GNORM= 362.719
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2757.465     111.369       0.001
   2    5     -2787.391     105.766       5.000
   3    6     -2817.631      89.315       1.000
   4    7     -2844.734      88.947       1.000
   5    8     -2866.523     236.679       1.000
   6    9     -2902.761      69.617       1.000
   7   10     -2908.389      66.609       1.000
   8   11     -2914.144      45.547       1.000
   9   12     -2921.006      41.721       1.000
  10   13     -2934.888      72.656       1.000
  11   14     -2946.469      54.204       1.000
  12   15     -2949.103      93.536       1.000
  13   16     -2951.408      28.114       1.000
  14   17     -2952.013      23.547       1.000
  15   19     -2954.444      49.027       0.320
  16   20     -2958.281      29.119       1.000
  17   21     -2958.795      47.185       1.000
  18   22     -2959.886      17.311       1.000
  19   23     -2960.353      12.329       1.000
  20   24     -2960.546      55.650       1.000
  21   25     -2961.198      23.050       1.000
  22   26     -2961.619      11.289       1.000
  23   27     -2961.925      18.947       1.000
  24   28     -2962.496      15.826       1.000
  25   30     -2962.834      20.491       0.156
  26   31     -2963.020      17.059       1.000
  27   32     -2963.173      23.337       1.000
  28   33     -2963.353      10.003       1.000
  29   34     -2963.402       7.075       1.000
  30   35     -2963.461       7.349       1.000
  31   36     -2963.568       8.950       1.000
  32   37     -2963.892       9.510       1.000
  33   38     -2964.095      14.696       1.000
  34   40     -2964.141       6.195       0.146
  35   41     -2964.172       8.137       1.000
  36   42     -2964.212       6.367       1.000
  37   44     -2964.430       8.833       5.000
  38   45     -2964.522      12.299       1.000
  39   46     -2964.684      10.147       1.000
  40   47     -2964.802       4.177       1.000
  41   48     -2964.843       4.111       1.000
  42   49     -2964.946       6.544       1.000
  43   51     -2965.007       5.543       0.098
  44   52     -2965.014       6.957       1.000
  45   53     -2965.074       4.455       1.000
  46   55     -2965.099       4.997       0.371
  47   56     -2965.120      11.306       1.000
  48   57     -2965.171       6.001       1.000
  49   58     -2965.216       5.315       1.000
  50   59     -2965.228       5.292       1.000
  51   61     -2965.261       8.260       0.393
Final RAS Transform: 
0.897616 -0.0150043 0.0280336 -2.86602 
0.019226 0.964728 -0.0260252 -0.320226 
-0.0632648 0.007796 1.07727 -1.41777 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1867.47   GNORM= 122.481
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -1874.025      44.580       0.001
   2    4     -1875.616      33.827       1.000
   3    5     -1878.415      33.927       1.000
   4    6     -1880.570      28.705       1.000
   5    7     -1886.302      41.482       1.000
   6    8     -1891.707      40.175       1.000
   7   10     -1892.883      69.835       0.113
   8   11     -1898.523      58.487       1.000
   9   12     -1901.430      23.705       1.000
  10   13     -1903.227      34.384       1.000
  11   14     -1905.273      49.048       1.000
  12   15     -1909.461      58.858       1.000
  13   16     -1921.060      42.428       1.000
  14   18     -1924.734      23.664       0.489
  15   19     -1926.710      21.326       1.000
  16   20     -1931.728      27.174       1.000
  17   22     -1932.850      34.450       0.412
  18   23     -1935.629      30.348       1.000
  19   24     -1941.787      51.986       1.000
  20   26     -1944.828      37.895       0.406
  21   27     -1946.531      21.082       1.000
  22   28     -1947.339      10.012       1.000
  23   29     -1947.547      13.034       1.000
  24   30     -1947.737      12.215       1.000
  25   32     -1948.237      20.389       0.439
  26   33     -1948.532      12.285       1.000
  27   34     -1948.793       6.756       1.000
  28   36     -1948.850       6.233       0.359
  29   37     -1948.882       5.639       1.000
  30   39     -1948.936      10.358       0.414
  31   40     -1949.207       8.639       1.000
  32   42     -1949.481      10.930       0.371
  33   43     -1949.639       5.238       1.000
  34   44     -1949.751       5.765       1.000
  35   46     -1949.788       6.996       0.368
  36   47     -1949.809       4.093       1.000
  37   48     -1949.833       3.377       1.000
  38   50     -1949.976      14.371       0.453
  39   51     -1950.134      13.528       1.000
  40   53     -1950.206      12.031       0.169
  41   55     -1950.263       9.356       0.325
  42   56     -1950.317       6.729       1.000
  43   57     -1950.408       3.546       1.000
  44   58     -1950.497       4.134       1.000
  45   60     -1950.543       7.651       0.262
  46   61     -1950.603       3.413       1.000
Final RAS Transform: 
0.979585 -0.00761286 0.01432 -0.565829 
0.062437 0.970797 -0.0265846 0.875055 
-0.0378406 0.0148857 1.07817 -0.573066 
0 0 0 1 

Final RAS Transform: 
0.979585 -0.00761286 0.01432 -0.565829 
0.062437 0.970797 -0.0265846 0.875055 
-0.0378406 0.0148857 1.07817 -0.573066 
0 0 0 1 


real	0m10.236s
user	0m17.980s
sys	0m0.404s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.684039
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0824
Level     0,  Iter     1:    Energy =   0.0901
Level     0,  Iter     2:    Energy =   0.0975
Level     0,  Iter     3:    Energy =   0.1032
Level     0,  Iter     4:    Energy =   0.1079
Level     0,  Iter     5:    Energy =   0.1114
Level     0,  Iter     6:    Energy =   0.1132
Level     0,  Iter     7:    Energy =   0.1139
Level     0,  Iter     8:    Energy =   0.1159
Level     0,  Iter     9:    Energy =   0.1163
Level     0,  Iter    10:    Energy =   0.1178
Level     0,  Iter    11:    Energy =   0.1180
Level     0,  Iter    12:    Energy =   0.1195
Level     0,  Iter    13:    Energy =   0.1197
Level     0,  Iter    14:    Energy =   0.1200
Level     0,  Iter    15:    Energy =   0.1201
Level     0,  Iter    16:    Energy =   0.1211
Level     0,  Iter    17:    Energy =   0.1211
Level     0,  Iter    18:    Energy =   0.1218
Level     0,  Iter    19:    Energy =   0.1216
Level     0,  Iter    20:    Energy =   0.1224
Level     0,  Iter    21:    Energy =   0.1222
Level     0,  Iter    22:    Energy =   0.1225
Level     0,  Iter    23:    Energy =   0.1224
Level     0,  Iter    24:    Energy =   0.1230
Level     0,  Iter    25:    Energy =   0.1229
Level     0,  Iter    26:    Energy =   0.1228
Level     0,  Iter    27:    Energy =   0.1227
Level     0,  Iter    28:    Energy =   0.1228
Level     0,  Iter    29:    Energy =   0.1227
Level     0,  Iter    30:    Energy =   0.1228
Level     0,  Iter    31:    Energy =   0.1228
Level     0,  Iter    32:    Energy =   0.1230
Level     0,  Iter    33:    Energy =   0.1230
Level     0,  Iter    34:    Energy =   0.1232
Level     0,  Iter    35:    Energy =   0.1231
Level     0,  Iter    36:    Energy =   0.1233
Level     0,  Iter    37:    Energy =   0.1232
Level     0,  Iter    38:    Energy =   0.1234
Level     0,  Iter    39:    Energy =   0.1233
Level     0,  Iter    40:    Energy =   0.1234
Level     0,  Iter    41:    Energy =   0.1233
Level     0,  Iter    42:    Energy =   0.1234
Level     0,  Iter    43:    Energy =   0.1233
Level     0,  Iter    44:    Energy =   0.1235
Level     0,  Iter    45:    Energy =   0.1234
Level     0,  Iter    46:    Energy =   0.1235
Level     0,  Iter    47:    Energy =   0.1234
Level     0,  Iter    48:    Energy =   0.1236
Level     0,  Iter    49:    Energy =   0.1235
Level     0,  Iter    50:    Energy =   0.1236
Level     0,  Iter    51:    Energy =   0.1235
Level     0,  Iter    52:    Energy =   0.1237
Level     0,  Iter    53:    Energy =   0.1235
Level     0,  Iter    54:    Energy =   0.1237
Level     0,  Iter    55:    Energy =   0.1235
Level     0,  Iter    56:    Energy =   0.1237
Level     0,  Iter    57:    Energy =   0.1236
Level     0,  Iter    58:    Energy =   0.1239
Level     0,  Iter    59:    Energy =   0.1238
END OF LEVEL     0    DetJac Range:   0.1300  to   2.2987 
  Avg. Gradient Time  : 0.0072s  34.75% 
  Avg. Gaussian Time  : 0.0102s  49.43% 
  Avg. Iteration Time : 0.0207s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0780
Level     1,  Iter     1:    Energy =   0.0819
Level     1,  Iter     2:    Energy =   0.0855
Level     1,  Iter     3:    Energy =   0.0891
Level     1,  Iter     4:    Energy =   0.0921
Level     1,  Iter     5:    Energy =   0.0947
Level     1,  Iter     6:    Energy =   0.0967
Level     1,  Iter     7:    Energy =   0.0982
Level     1,  Iter     8:    Energy =   0.0997
Level     1,  Iter     9:    Energy =   0.1009
Level     1,  Iter    10:    Energy =   0.1020
Level     1,  Iter    11:    Energy =   0.1030
Level     1,  Iter    12:    Energy =   0.1039
Level     1,  Iter    13:    Energy =   0.1046
Level     1,  Iter    14:    Energy =   0.1052
Level     1,  Iter    15:    Energy =   0.1057
Level     1,  Iter    16:    Energy =   0.1061
Level     1,  Iter    17:    Energy =   0.1064
Level     1,  Iter    18:    Energy =   0.1064
Level     1,  Iter    19:    Energy =   0.1066
Level     1,  Iter    20:    Energy =   0.1068
Level     1,  Iter    21:    Energy =   0.1068
Level     1,  Iter    22:    Energy =   0.1071
Level     1,  Iter    23:    Energy =   0.1073
Level     1,  Iter    24:    Energy =   0.1075
Level     1,  Iter    25:    Energy =   0.1075
Level     1,  Iter    26:    Energy =   0.1078
Level     1,  Iter    27:    Energy =   0.1079
Level     1,  Iter    28:    Energy =   0.1081
Level     1,  Iter    29:    Energy =   0.1082
Level     1,  Iter    30:    Energy =   0.1084
Level     1,  Iter    31:    Energy =   0.1084
Level     1,  Iter    32:    Energy =   0.1086
Level     1,  Iter    33:    Energy =   0.1086
Level     1,  Iter    34:    Energy =   0.1088
Level     1,  Iter    35:    Energy =   0.1088
Level     1,  Iter    36:    Energy =   0.1090
Level     1,  Iter    37:    Energy =   0.1090
Level     1,  Iter    38:    Energy =   0.1091
Level     1,  Iter    39:    Energy =   0.1091
Level     1,  Iter    40:    Energy =   0.1093
Level     1,  Iter    41:    Energy =   0.1093
Level     1,  Iter    42:    Energy =   0.1094
Level     1,  Iter    43:    Energy =   0.1094
Level     1,  Iter    44:    Energy =   0.1095
Level     1,  Iter    45:    Energy =   0.1095
Level     1,  Iter    46:    Energy =   0.1096
Level     1,  Iter    47:    Energy =   0.1096
Level     1,  Iter    48:    Energy =   0.1097
Level     1,  Iter    49:    Energy =   0.1097
Level     1,  Iter    50:    Energy =   0.1098
Level     1,  Iter    51:    Energy =   0.1097
Level     1,  Iter    52:    Energy =   0.1099
Level     1,  Iter    53:    Energy =   0.1098
Level     1,  Iter    54:    Energy =   0.1099
Level     1,  Iter    55:    Energy =   0.1099
Level     1,  Iter    56:    Energy =   0.1100
Level     1,  Iter    57:    Energy =   0.1100
Level     1,  Iter    58:    Energy =   0.1101
Level     1,  Iter    59:    Energy =   0.1100
END OF LEVEL     1    DetJac Range:   0.0462  to   3.8955 
  Avg. Gradient Time  : 0.0414s  32.89% 
  Avg. Gaussian Time  : 0.0682s  54.24% 
  Avg. Iteration Time : 0.1258s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0537
Level     2,  Iter     1:    Energy =   0.0561
Level     2,  Iter     2:    Energy =   0.0582
Level     2,  Iter     3:    Energy =   0.0597
Level     2,  Iter     4:    Energy =   0.0613
Level     2,  Iter     5:    Energy =   0.0626
Level     2,  Iter     6:    Energy =   0.0637
Level     2,  Iter     7:    Energy =   0.0648
Level     2,  Iter     8:    Energy =   0.0659
Level     2,  Iter     9:    Energy =   0.0670
Level     2,  Iter    10:    Energy =   0.0677
Level     2,  Iter    11:    Energy =   0.0684
Level     2,  Iter    12:    Energy =   0.0692
Level     2,  Iter    13:    Energy =   0.0699
Level     2,  Iter    14:    Energy =   0.0706
Level     2,  Iter    15:    Energy =   0.0711
Level     2,  Iter    16:    Energy =   0.0717
Level     2,  Iter    17:    Energy =   0.0722
Level     2,  Iter    18:    Energy =   0.0728
Level     2,  Iter    19:    Energy =   0.0733
END OF LEVEL     2    DetJac Range:   0.0372  to   5.3701 
  Avg. Gradient Time  : 0.2971s  31.17% 
  Avg. Gaussian Time  : 0.5271s  55.30% 
  Avg. Iteration Time : 0.9532s 

real	0m32.534s
user	0m59.292s
sys	0m1.336s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=24 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=24 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.338462 0.344231
+ echo 'CHUNK 0.338462 0.344231 1'
CHUNK 0.338462 0.344231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.338462 0.344231 1
====================================
         PROGRESS: 0.338462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=025
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 025
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train025
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train025
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left 025 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train025 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=left
+ local tid=025
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train025
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 025 left 0
+ local tid=025
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 025 0
+ set -e
+ local tid=025
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.432333
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2807.81   GNORM= 321.099
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2853.352     359.456       0.001
   2    4     -2899.200     315.969       1.000
   3    5     -3012.535     190.428       1.000
   4    6     -3045.161     217.765       1.000
   5    7     -3075.680     206.302       1.000
   6    8     -3115.046     140.351       1.000
   7    9     -3130.113     138.793       1.000
   8   10     -3139.418      65.447       1.000
   9   11     -3149.112      45.105       1.000
  10   12     -3152.773     122.554       1.000
  11   13     -3168.558     117.010       1.000
  12   14     -3175.168      71.250       1.000
  13   15     -3189.292      44.269       1.000
  14   16     -3201.954      67.903       1.000
  15   17     -3206.045     120.298       1.000
  16   18     -3212.697      67.695       1.000
  17   19     -3217.538      65.554       1.000
  18   20     -3223.625     131.603       1.000
  19   21     -3228.483      61.688       1.000
  20   22     -3230.396      36.866       1.000
  21   23     -3231.096      28.056       1.000
  22   25     -3232.141      25.507       0.280
  23   26     -3232.901      31.456       1.000
  24   27     -3234.679      22.738       1.000
  25   29     -3236.023      50.162       0.288
  26   30     -3237.560      34.257       1.000
  27   31     -3238.654      21.190       1.000
  28   32     -3239.866      26.517       1.000
  29   34     -3240.158      29.182       0.232
  30   35     -3240.458      19.850       1.000
  31   36     -3240.809      13.819       1.000
  32   37     -3241.233      15.373       1.000
  33   39     -3242.307      36.145       0.247
  34   40     -3242.956      30.523       1.000
  35   41     -3243.488      28.941       1.000
  36   43     -3243.769      29.200       0.118
  37   44     -3244.229      16.331       1.000
  38   45     -3244.503      12.179       1.000
  39   46     -3244.834      20.268       1.000
  40   47     -3245.135      25.624       1.000
  41   48     -3245.361      14.189       1.000
  42   49     -3245.463      11.153       1.000
  43   50     -3245.545      24.265       1.000
  44   51     -3245.739       8.802       1.000
  45   52     -3245.789      14.351       1.000
  46   53     -3245.823       6.828       1.000
  47   54     -3245.894       6.411       1.000
  48   56     -3245.953      12.572       0.445
  49   57     -3246.026       9.221       1.000
  50   58     -3246.078       9.832       1.000
  51   60     -3246.117      10.225       0.407
Final RAS Transform: 
0.920539 -0.00535522 0.00501471 -2.70724 
-0.0810207 0.992778 0.121182 -2.45786 
-0.00340108 -0.00764435 0.978705 -0.438843 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2317.16   GNORM= 340.546
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2345.654      96.173       0.000
   2    4     -2349.582      74.357       1.000
   3    5     -2353.591      68.219       1.000
   4    6     -2357.495      42.647       1.000
   5    7     -2360.480      34.453       1.000
   6    8     -2364.984      78.300       1.000
   7    9     -2368.110      50.579       1.000
   8   10     -2371.667      37.978       1.000
   9   11     -2372.790      50.933       1.000
  10   12     -2374.892      34.543       1.000
  11   13     -2376.496      45.478       1.000
  12   14     -2378.898      54.546       1.000
  13   16     -2382.458      26.396       0.485
  14   17     -2383.370      17.393       1.000
  15   18     -2384.010      20.941       1.000
  16   19     -2386.035      55.337       1.000
  17   20     -2388.904      27.339       1.000
  18   21     -2391.479      24.522       1.000
  19   22     -2392.570      30.862       1.000
  20   23     -2392.962      15.218       1.000
  21   24     -2393.038      19.122       1.000
  22   25     -2393.159       9.975       1.000
  23   26     -2393.275       8.136       1.000
  24   27     -2393.513      18.016       1.000
  25   28     -2393.915      20.644       1.000
  26   30     -2394.725      24.408       0.487
  27   31     -2395.001      61.187       1.000
  28   32     -2395.777      27.786       1.000
  29   33     -2396.174       8.047       1.000
  30   34     -2396.337       7.515       1.000
  31   36     -2396.460      16.984       0.136
  32   37     -2396.651      13.032       1.000
  33   38     -2396.774      12.667       1.000
  34   39     -2396.963       7.716       1.000
  35   41     -2396.976       7.637       0.164
  36   42     -2397.042       3.843       1.000
  37   43     -2397.107       4.248       1.000
  38   44     -2397.174       4.009       1.000
  39   45     -2397.301       6.258       1.000
  40   47     -2397.313       2.562       0.214
  41   48     -2397.327       3.019       1.000
  42   49     -2397.351       4.173       1.000
  43   50     -2397.358       2.107       1.000
  44   51     -2397.362       2.001       1.000
  45   52     -2397.365       2.632       1.000
  46   53     -2397.375       4.011       1.000
  47   54     -2397.389       2.836       1.000
  48   55     -2397.391       2.537       1.000
  49   56     -2397.392       4.332       1.000
  50   57     -2397.393       1.961       1.000
  51   58     -2397.396       0.732       1.000
  52   59     -2397.396       1.141       1.000
  53   60     -2397.401       1.047       1.000
Final RAS Transform: 
0.960423 -0.00715037 0.000214995 -1.31645 
-0.0761624 1.00887 0.12721 -2.11296 
0.00202325 -0.000326746 0.992741 0.0299625 
0 0 0 1 

Final RAS Transform: 
0.960423 -0.00715037 0.000214995 -1.31645 
-0.0761624 1.00887 0.12721 -2.11296 
0.00202325 -0.000326746 0.992741 0.0299625 
0 0 0 1 


real	0m10.163s
user	0m17.732s
sys	0m0.472s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.778, moving = 0.442192
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.37956, 2.38905], [0.961417, 0.971451, 0.975326]
Level     0,  Iter     0:    Energy =   0.0938
Level     0,  Iter     1:    Energy =   0.1011
Level     0,  Iter     2:    Energy =   0.1079
Level     0,  Iter     3:    Energy =   0.1141
Level     0,  Iter     4:    Energy =   0.1192
Level     0,  Iter     5:    Energy =   0.1227
Level     0,  Iter     6:    Energy =   0.1249
Level     0,  Iter     7:    Energy =   0.1261
Level     0,  Iter     8:    Energy =   0.1272
Level     0,  Iter     9:    Energy =   0.1279
Level     0,  Iter    10:    Energy =   0.1290
Level     0,  Iter    11:    Energy =   0.1295
Level     0,  Iter    12:    Energy =   0.1306
Level     0,  Iter    13:    Energy =   0.1308
Level     0,  Iter    14:    Energy =   0.1313
Level     0,  Iter    15:    Energy =   0.1315
Level     0,  Iter    16:    Energy =   0.1321
Level     0,  Iter    17:    Energy =   0.1322
Level     0,  Iter    18:    Energy =   0.1327
Level     0,  Iter    19:    Energy =   0.1327
Level     0,  Iter    20:    Energy =   0.1330
Level     0,  Iter    21:    Energy =   0.1331
Level     0,  Iter    22:    Energy =   0.1336
Level     0,  Iter    23:    Energy =   0.1335
Level     0,  Iter    24:    Energy =   0.1338
Level     0,  Iter    25:    Energy =   0.1338
Level     0,  Iter    26:    Energy =   0.1343
Level     0,  Iter    27:    Energy =   0.1343
Level     0,  Iter    28:    Energy =   0.1347
Level     0,  Iter    29:    Energy =   0.1347
Level     0,  Iter    30:    Energy =   0.1349
Level     0,  Iter    31:    Energy =   0.1348
Level     0,  Iter    32:    Energy =   0.1351
Level     0,  Iter    33:    Energy =   0.1350
Level     0,  Iter    34:    Energy =   0.1351
Level     0,  Iter    35:    Energy =   0.1351
Level     0,  Iter    36:    Energy =   0.1352
Level     0,  Iter    37:    Energy =   0.1352
Level     0,  Iter    38:    Energy =   0.1352
Level     0,  Iter    39:    Energy =   0.1353
Level     0,  Iter    40:    Energy =   0.1352
Level     0,  Iter    41:    Energy =   0.1353
Level     0,  Iter    42:    Energy =   0.1354
Level     0,  Iter    43:    Energy =   0.1355
Level     0,  Iter    44:    Energy =   0.1356
Level     0,  Iter    45:    Energy =   0.1356
Level     0,  Iter    46:    Energy =   0.1358
Level     0,  Iter    47:    Energy =   0.1358
Level     0,  Iter    48:    Energy =   0.1359
Level     0,  Iter    49:    Energy =   0.1359
Level     0,  Iter    50:    Energy =   0.1360
Level     0,  Iter    51:    Energy =   0.1360
Level     0,  Iter    52:    Energy =   0.1361
Level     0,  Iter    53:    Energy =   0.1361
Level     0,  Iter    54:    Energy =   0.1362
Level     0,  Iter    55:    Energy =   0.1362
Level     0,  Iter    56:    Energy =   0.1363
Level     0,  Iter    57:    Energy =   0.1362
Level     0,  Iter    58:    Energy =   0.1364
Level     0,  Iter    59:    Energy =   0.1363
END OF LEVEL     0    DetJac Range:   0.1627  to   2.1972 
  Avg. Gradient Time  : 0.0071s  34.92% 
  Avg. Gaussian Time  : 0.0101s  49.17% 
  Avg. Iteration Time : 0.0204s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18978, 1.19453], [0.48611, 0.485725, 0.487663]
Level     1,  Iter     0:    Energy =   0.0904
Level     1,  Iter     1:    Energy =   0.0947
Level     1,  Iter     2:    Energy =   0.0989
Level     1,  Iter     3:    Energy =   0.1024
Level     1,  Iter     4:    Energy =   0.1059
Level     1,  Iter     5:    Energy =   0.1084
Level     1,  Iter     6:    Energy =   0.1107
Level     1,  Iter     7:    Energy =   0.1130
Level     1,  Iter     8:    Energy =   0.1151
Level     1,  Iter     9:    Energy =   0.1164
Level     1,  Iter    10:    Energy =   0.1174
Level     1,  Iter    11:    Energy =   0.1183
Level     1,  Iter    12:    Energy =   0.1191
Level     1,  Iter    13:    Energy =   0.1198
Level     1,  Iter    14:    Energy =   0.1205
Level     1,  Iter    15:    Energy =   0.1212
Level     1,  Iter    16:    Energy =   0.1218
Level     1,  Iter    17:    Energy =   0.1223
Level     1,  Iter    18:    Energy =   0.1223
Level     1,  Iter    19:    Energy =   0.1229
Level     1,  Iter    20:    Energy =   0.1227
Level     1,  Iter    21:    Energy =   0.1233
Level     1,  Iter    22:    Energy =   0.1234
Level     1,  Iter    23:    Energy =   0.1239
Level     1,  Iter    24:    Energy =   0.1235
Level     1,  Iter    25:    Energy =   0.1241
Level     1,  Iter    26:    Energy =   0.1244
Level     1,  Iter    27:    Energy =   0.1247
Level     1,  Iter    28:    Energy =   0.1242
Level     1,  Iter    29:    Energy =   0.1247
Level     1,  Iter    30:    Energy =   0.1251
Level     1,  Iter    31:    Energy =   0.1254
Level     1,  Iter    32:    Energy =   0.1250
Level     1,  Iter    33:    Energy =   0.1254
Level     1,  Iter    34:    Energy =   0.1254
Level     1,  Iter    35:    Energy =   0.1257
Level     1,  Iter    36:    Energy =   0.1252
Level     1,  Iter    37:    Energy =   0.1256
Level     1,  Iter    38:    Energy =   0.1257
Level     1,  Iter    39:    Energy =   0.1260
Level     1,  Iter    40:    Energy =   0.1256
Level     1,  Iter    41:    Energy =   0.1260
Level     1,  Iter    42:    Energy =   0.1258
Level     1,  Iter    43:    Energy =   0.1261
Level     1,  Iter    44:    Energy =   0.1257
Level     1,  Iter    45:    Energy =   0.1261
Level     1,  Iter    46:    Energy =   0.1261
Level     1,  Iter    47:    Energy =   0.1263
Level     1,  Iter    48:    Energy =   0.1258
Level     1,  Iter    49:    Energy =   0.1261
Level     1,  Iter    50:    Energy =   0.1264
Level     1,  Iter    51:    Energy =   0.1266
Level     1,  Iter    52:    Energy =   0.1263
Level     1,  Iter    53:    Energy =   0.1266
Level     1,  Iter    54:    Energy =   0.1262
Level     1,  Iter    55:    Energy =   0.1265
Level     1,  Iter    56:    Energy =   0.1264
Level     1,  Iter    57:    Energy =   0.1266
Level     1,  Iter    58:    Energy =   0.1261
Level     1,  Iter    59:    Energy =   0.1264
END OF LEVEL     1    DetJac Range:   0.0798  to   4.4619 
  Avg. Gradient Time  : 0.0410s  32.71% 
  Avg. Gaussian Time  : 0.0681s  54.40% 
  Avg. Iteration Time : 0.1253s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.599296, 0.602456], [0.244428, 0.244662, 0.245952]
Level     2,  Iter     0:    Energy =   0.0649
Level     2,  Iter     1:    Energy =   0.0676
Level     2,  Iter     2:    Energy =   0.0700
Level     2,  Iter     3:    Energy =   0.0724
Level     2,  Iter     4:    Energy =   0.0741
Level     2,  Iter     5:    Energy =   0.0754
Level     2,  Iter     6:    Energy =   0.0765
Level     2,  Iter     7:    Energy =   0.0774
Level     2,  Iter     8:    Energy =   0.0785
Level     2,  Iter     9:    Energy =   0.0795
Level     2,  Iter    10:    Energy =   0.0805
Level     2,  Iter    11:    Energy =   0.0814
Level     2,  Iter    12:    Energy =   0.0823
Level     2,  Iter    13:    Energy =   0.0829
Level     2,  Iter    14:    Energy =   0.0833
Level     2,  Iter    15:    Energy =   0.0836
Level     2,  Iter    16:    Energy =   0.0839
Level     2,  Iter    17:    Energy =   0.0841
Level     2,  Iter    18:    Energy =   0.0843
Level     2,  Iter    19:    Energy =   0.0845
END OF LEVEL     2    DetJac Range:   0.0654  to   4.6942 
  Avg. Gradient Time  : 0.2991s  31.31% 
  Avg. Gaussian Time  : 0.5277s  55.23% 
  Avg. Iteration Time : 0.9554s 

real	0m32.565s
user	0m59.252s
sys	0m1.412s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=25 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=25 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.344231 0.35
+ echo 'CHUNK 0.344231 0.35 1'
CHUNK 0.344231 0.35 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.344231 0.35 1
====================================
         PROGRESS: 0.344231               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=000
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 000
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train000
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train000
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right 000 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train000 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=right
+ local tid=000
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train000
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 000 right 0
+ local tid=000
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 000 0
+ set -e
+ local tid=000
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.82766
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3913.1   GNORM= 1191.56
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4211.972     274.845       0.000
   2    4     -4238.734     246.482       1.000
   3    5     -4349.144     167.344       1.000
   4    7     -4363.043     117.805       0.523
   5    8     -4371.916      77.436       1.000
   6    9     -4385.658      70.125       1.000
   7   10     -4396.390      95.509       1.000
   8   11     -4398.666     148.342       1.000
   9   12     -4404.084      48.642       1.000
  10   13     -4406.104      45.122       1.000
  11   14     -4410.805      84.861       1.000
  12   15     -4414.452      63.105       1.000
  13   16     -4415.882      47.436       1.000
  14   17     -4416.775      18.449       1.000
  15   18     -4416.950      11.168       1.000
  16   19     -4417.079       8.706       1.000
  17   20     -4417.104      32.543       1.000
  18   21     -4417.245      12.404       1.000
  19   22     -4417.296       9.546       1.000
  20   23     -4417.359       9.208       1.000
  21   24     -4417.390       7.091       1.000
  22   25     -4417.453       5.927       1.000
  23   26     -4417.471       5.468       1.000
  24   28     -4417.518       3.991       0.315
  25   30     -4417.527       7.526       0.479
  26   31     -4417.552       7.160       1.000
  27   33     -4417.557       4.773       0.350
  28   34     -4417.558       3.847       1.000
  29   35     -4417.563       3.413       1.000
  30   37     -4417.575       5.111       0.358
  31   38     -4417.582       8.014       1.000
  32   39     -4417.592       6.045       1.000
  33   40     -4417.600       4.189       1.000
  34   42     -4417.601       2.784       0.187
Final RAS Transform: 
0.976655 -0.000710423 0.01824 0.501899 
0.0027267 1.00833 0.0550165 0.471052 
0.00758485 -0.00905317 0.99515 -0.708929 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3218.27   GNORM= 143.108
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3221.199      39.441       0.000
   2    4     -3221.709      38.010       1.000
   3    5     -3222.506     112.734       1.000
   4    6     -3224.371      58.953       1.000
   5    7     -3226.360      33.559       1.000
   6    8     -3228.561      71.736       1.000
   7    9     -3230.782      65.877       1.000
   8   11     -3231.902      85.106       0.440
   9   12     -3234.396      33.633       1.000
  10   13     -3235.985      54.744       1.000
  11   14     -3237.824      89.152       1.000
  12   15     -3241.215      61.453       1.000
  13   16     -3242.148      50.749       1.000
  14   17     -3243.549      20.336       1.000
  15   18     -3244.361      30.060       1.000
  16   19     -3245.382      49.788       1.000
  17   20     -3246.621      47.579       1.000
  18   21     -3247.828      13.945       1.000
  19   22     -3248.286      10.302       1.000
  20   23     -3248.466       7.342       1.000
  21   25     -3248.492       9.687       0.452
  22   26     -3248.549       9.504       1.000
  23   27     -3248.671      15.723       1.000
  24   28     -3248.771       7.891       1.000
  25   29     -3248.803       7.709       1.000
  26   30     -3248.856      11.674       1.000
  27   32     -3248.906       7.885       0.404
  28   33     -3248.918       5.824       1.000
  29   34     -3248.969       8.034       1.000
  30   35     -3248.985       6.250       1.000
  31   36     -3249.001       4.707       1.000
  32   37     -3249.024       2.713       1.000
  33   38     -3249.062       4.856       1.000
  34   39     -3249.091       7.877       1.000
  35   41     -3249.115       8.971       0.287
  36   43     -3249.135       3.385       0.433
  37   44     -3249.148       3.636       1.000
  38   45     -3249.192       6.071       1.000
  39   46     -3249.223       6.277       1.000
  40   47     -3249.265       7.197       1.000
  41   49     -3249.288       4.233       0.407
  42   50     -3249.301       5.940       1.000
  43   52     -3249.332       6.380       0.516
  44   54     -3249.341       3.987       0.155
  45   55     -3249.354       2.307       1.000
  46   56     -3249.365       2.844       1.000
  47   57     -3249.380       3.276       1.000
  48   59     -3249.383       2.731       0.301
  49   61     -3249.394       2.981       0.388
Final RAS Transform: 
0.99656 -0.00551737 0.0195223 0.0963543 
-0.000600818 1.0003 0.0362364 0.290103 
0.00711094 -0.0046298 1.00642 -0.625371 
0 0 0 1 

Final RAS Transform: 
0.99656 -0.00551737 0.0195223 0.0963543 
-0.000600818 1.0003 0.0362364 0.290103 
0.00711094 -0.0046298 1.00642 -0.625371 
0 0 0 1 


real	0m10.538s
user	0m18.512s
sys	0m0.448s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.823427
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1306
Level     0,  Iter     1:    Energy =   0.1378
Level     0,  Iter     2:    Energy =   0.1428
Level     0,  Iter     3:    Energy =   0.1459
Level     0,  Iter     4:    Energy =   0.1480
Level     0,  Iter     5:    Energy =   0.1496
Level     0,  Iter     6:    Energy =   0.1509
Level     0,  Iter     7:    Energy =   0.1518
Level     0,  Iter     8:    Energy =   0.1527
Level     0,  Iter     9:    Energy =   0.1532
Level     0,  Iter    10:    Energy =   0.1539
Level     0,  Iter    11:    Energy =   0.1540
Level     0,  Iter    12:    Energy =   0.1546
Level     0,  Iter    13:    Energy =   0.1547
Level     0,  Iter    14:    Energy =   0.1552
Level     0,  Iter    15:    Energy =   0.1551
Level     0,  Iter    16:    Energy =   0.1557
Level     0,  Iter    17:    Energy =   0.1557
Level     0,  Iter    18:    Energy =   0.1560
Level     0,  Iter    19:    Energy =   0.1556
Level     0,  Iter    20:    Energy =   0.1561
Level     0,  Iter    21:    Energy =   0.1560
Level     0,  Iter    22:    Energy =   0.1563
Level     0,  Iter    23:    Energy =   0.1558
Level     0,  Iter    24:    Energy =   0.1563
Level     0,  Iter    25:    Energy =   0.1561
Level     0,  Iter    26:    Energy =   0.1564
Level     0,  Iter    27:    Energy =   0.1560
Level     0,  Iter    28:    Energy =   0.1564
Level     0,  Iter    29:    Energy =   0.1562
Level     0,  Iter    30:    Energy =   0.1565
Level     0,  Iter    31:    Energy =   0.1560
Level     0,  Iter    32:    Energy =   0.1565
Level     0,  Iter    33:    Energy =   0.1563
Level     0,  Iter    34:    Energy =   0.1567
Level     0,  Iter    35:    Energy =   0.1562
Level     0,  Iter    36:    Energy =   0.1567
Level     0,  Iter    37:    Energy =   0.1565
Level     0,  Iter    38:    Energy =   0.1568
Level     0,  Iter    39:    Energy =   0.1563
Level     0,  Iter    40:    Energy =   0.1568
Level     0,  Iter    41:    Energy =   0.1565
Level     0,  Iter    42:    Energy =   0.1569
Level     0,  Iter    43:    Energy =   0.1564
Level     0,  Iter    44:    Energy =   0.1568
Level     0,  Iter    45:    Energy =   0.1566
Level     0,  Iter    46:    Energy =   0.1570
Level     0,  Iter    47:    Energy =   0.1565
Level     0,  Iter    48:    Energy =   0.1570
Level     0,  Iter    49:    Energy =   0.1569
Level     0,  Iter    50:    Energy =   0.1573
Level     0,  Iter    51:    Energy =   0.1568
Level     0,  Iter    52:    Energy =   0.1573
Level     0,  Iter    53:    Energy =   0.1572
Level     0,  Iter    54:    Energy =   0.1575
Level     0,  Iter    55:    Energy =   0.1570
Level     0,  Iter    56:    Energy =   0.1575
Level     0,  Iter    57:    Energy =   0.1573
Level     0,  Iter    58:    Energy =   0.1576
Level     0,  Iter    59:    Energy =   0.1571
END OF LEVEL     0    DetJac Range:   0.2748  to   2.0465 
  Avg. Gradient Time  : 0.0087s  34.78% 
  Avg. Gaussian Time  : 0.0123s  49.58% 
  Avg. Iteration Time : 0.0249s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.1070
Level     1,  Iter     1:    Energy =   0.1120
Level     1,  Iter     2:    Energy =   0.1167
Level     1,  Iter     3:    Energy =   0.1210
Level     1,  Iter     4:    Energy =   0.1238
Level     1,  Iter     5:    Energy =   0.1260
Level     1,  Iter     6:    Energy =   0.1273
Level     1,  Iter     7:    Energy =   0.1282
Level     1,  Iter     8:    Energy =   0.1288
Level     1,  Iter     9:    Energy =   0.1293
Level     1,  Iter    10:    Energy =   0.1297
Level     1,  Iter    11:    Energy =   0.1300
Level     1,  Iter    12:    Energy =   0.1304
Level     1,  Iter    13:    Energy =   0.1306
Level     1,  Iter    14:    Energy =   0.1309
Level     1,  Iter    15:    Energy =   0.1312
Level     1,  Iter    16:    Energy =   0.1314
Level     1,  Iter    17:    Energy =   0.1316
Level     1,  Iter    18:    Energy =   0.1317
Level     1,  Iter    19:    Energy =   0.1319
Level     1,  Iter    20:    Energy =   0.1320
Level     1,  Iter    21:    Energy =   0.1321
Level     1,  Iter    22:    Energy =   0.1322
Level     1,  Iter    23:    Energy =   0.1323
Level     1,  Iter    24:    Energy =   0.1325
Level     1,  Iter    25:    Energy =   0.1326
Level     1,  Iter    26:    Energy =   0.1326
Level     1,  Iter    27:    Energy =   0.1327
Level     1,  Iter    28:    Energy =   0.1328
Level     1,  Iter    29:    Energy =   0.1329
Level     1,  Iter    30:    Energy =   0.1330
Level     1,  Iter    31:    Energy =   0.1331
Level     1,  Iter    32:    Energy =   0.1332
Level     1,  Iter    33:    Energy =   0.1333
Level     1,  Iter    34:    Energy =   0.1333
Level     1,  Iter    35:    Energy =   0.1334
Level     1,  Iter    36:    Energy =   0.1335
Level     1,  Iter    37:    Energy =   0.1335
Level     1,  Iter    38:    Energy =   0.1336
Level     1,  Iter    39:    Energy =   0.1336
Level     1,  Iter    40:    Energy =   0.1337
Level     1,  Iter    41:    Energy =   0.1338
Level     1,  Iter    42:    Energy =   0.1338
Level     1,  Iter    43:    Energy =   0.1339
Level     1,  Iter    44:    Energy =   0.1339
Level     1,  Iter    45:    Energy =   0.1339
Level     1,  Iter    46:    Energy =   0.1339
Level     1,  Iter    47:    Energy =   0.1340
Level     1,  Iter    48:    Energy =   0.1340
Level     1,  Iter    49:    Energy =   0.1340
Level     1,  Iter    50:    Energy =   0.1340
Level     1,  Iter    51:    Energy =   0.1340
Level     1,  Iter    52:    Energy =   0.1340
Level     1,  Iter    53:    Energy =   0.1340
Level     1,  Iter    54:    Energy =   0.1340
Level     1,  Iter    55:    Energy =   0.1341
Level     1,  Iter    56:    Energy =   0.1341
Level     1,  Iter    57:    Energy =   0.1341
Level     1,  Iter    58:    Energy =   0.1341
Level     1,  Iter    59:    Energy =   0.1341
END OF LEVEL     1    DetJac Range:   0.1106  to   2.4917 
  Avg. Gradient Time  : 0.0484s  32.55% 
  Avg. Gaussian Time  : 0.0808s  54.37% 
  Avg. Iteration Time : 0.1485s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0667
Level     2,  Iter     1:    Energy =   0.0701
Level     2,  Iter     2:    Energy =   0.0730
Level     2,  Iter     3:    Energy =   0.0757
Level     2,  Iter     4:    Energy =   0.0780
Level     2,  Iter     5:    Energy =   0.0798
Level     2,  Iter     6:    Energy =   0.0813
Level     2,  Iter     7:    Energy =   0.0826
Level     2,  Iter     8:    Energy =   0.0837
Level     2,  Iter     9:    Energy =   0.0847
Level     2,  Iter    10:    Energy =   0.0855
Level     2,  Iter    11:    Energy =   0.0862
Level     2,  Iter    12:    Energy =   0.0869
Level     2,  Iter    13:    Energy =   0.0875
Level     2,  Iter    14:    Energy =   0.0881
Level     2,  Iter    15:    Energy =   0.0887
Level     2,  Iter    16:    Energy =   0.0891
Level     2,  Iter    17:    Energy =   0.0896
Level     2,  Iter    18:    Energy =   0.0893
Level     2,  Iter    19:    Energy =   0.0899
END OF LEVEL     2    DetJac Range:   0.0675  to   3.7075 
  Avg. Gradient Time  : 0.3257s  26.93% 
  Avg. Gaussian Time  : 0.7376s  60.98% 
  Avg. Iteration Time : 1.2096s 

real	0m39.837s
user	1m12.580s
sys	0m2.356s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=26 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=26 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.35 0.355769
+ echo 'CHUNK 0.35 0.355769 1'
CHUNK 0.35 0.355769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.35 0.355769 1
====================================
         PROGRESS: 0.35               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=001
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 001
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train001
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train001
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right 001 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train001 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=right
+ local tid=001
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train001
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 001 right 0
+ local tid=001
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 001 0
+ set -e
+ local tid=001
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.769215
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3026.44   GNORM= 451.716
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3138.537     230.272       0.001
   2    4     -3177.245     195.170       1.000
   3    6     -3247.928     170.768       0.365
   4    7     -3305.316     152.177       1.000
   5    8     -3364.001     125.221       1.000
   6    9     -3386.752      83.502       1.000
   7   10     -3406.674      73.937       1.000
   8   12     -3412.906      88.189       0.278
   9   13     -3418.877      79.209       1.000
  10   14     -3434.607      51.603       1.000
  11   15     -3438.126      67.250       1.000
  12   16     -3441.267      33.628       1.000
  13   17     -3441.768      15.296       1.000
  14   18     -3441.993      15.892       1.000
  15   19     -3442.443      31.197       1.000
  16   20     -3442.953      22.033       1.000
  17   22     -3443.632      10.956       0.412
  18   23     -3443.846      21.774       1.000
  19   24     -3444.208      10.357       1.000
  20   25     -3444.560      10.233       1.000
  21   27     -3444.934       8.953       0.498
  22   28     -3445.115      15.451       1.000
  23   29     -3445.338       6.752       1.000
  24   30     -3445.387       6.071       1.000
  25   31     -3445.423       7.524       1.000
  26   32     -3445.454      11.195       1.000
  27   33     -3445.541       9.360       1.000
  28   34     -3445.620       4.417       1.000
  29   35     -3445.640       8.359       1.000
  30   36     -3445.649       3.999       1.000
  31   37     -3445.654       3.301       1.000
  32   39     -3445.663       5.723       0.478
  33   40     -3445.674       4.775       1.000
  34   42     -3445.676       4.632       0.401
  35   43     -3445.692       3.275       1.000
  36   45     -3445.716       3.378       0.169
  37   47     -3445.724       5.737       0.501
  38   48     -3445.739       3.263       1.000
  39   49     -3445.748       1.914       1.000
  40   50     -3445.757       3.125       1.000
  41   52     -3445.758       5.361       0.329
  42   53     -3445.768       3.156       1.000
  43   56     -3445.778       3.100       2.378
Final RAS Transform: 
0.990198 0.0347615 -0.00623653 0.739581 
-0.0374071 1.02526 0.112507 1.34558 
0.00678654 -0.0256715 1.00292 -0.226106 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2309.36   GNORM= 71.7473
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2312.209      39.929       0.001
   2    4     -2313.896      41.532       1.000
   3    5     -2317.719      77.648       1.000
   4    6     -2323.365      48.030       1.000
   5    7     -2332.277      40.382       1.000
   6    8     -2339.275      43.781       1.000
   7    9     -2347.640      35.564       1.000
   8   11     -2350.296      71.075       0.471
   9   12     -2353.814      44.158       1.000
  10   13     -2357.813      22.347       1.000
  11   14     -2358.268       8.439       1.000
  12   15     -2358.397       5.963       1.000
  13   16     -2358.529       9.851       1.000
  14   17     -2358.726      16.015       1.000
  15   18     -2359.102      17.057       1.000
  16   19     -2359.630      28.143       1.000
  17   20     -2359.945       3.954       1.000
  18   21     -2359.958       3.197       1.000
  19   22     -2359.960       2.489       1.000
  20   23     -2359.960       7.938       1.000
  21   24     -2359.982       5.192       1.000
  22   25     -2360.009       7.162       1.000
  23   26     -2360.041       3.642       1.000
  24   27     -2360.091       3.905       1.000
  25   28     -2360.106       8.740       1.000
  26   29     -2360.157       4.446       1.000
  27   30     -2360.194       4.031       1.000
  28   31     -2360.229       6.613       1.000
  29   32     -2360.267       6.667       1.000
  30   33     -2360.293       4.984       1.000
  31   34     -2360.299       6.712       1.000
  32   35     -2360.317       2.434       1.000
  33   36     -2360.323       1.979       1.000
  34   37     -2360.327       1.238       1.000
  35   38     -2360.330       2.038       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.01009 0.0239839 -0.00435988 0.301547 
-0.0166167 1.0288 0.0836523 0.705088 
0.00849893 -0.019447 0.99486 -0.339692 
0 0 0 1 

Final RAS Transform: 
1.01009 0.0239839 -0.00435988 0.301547 
-0.0166167 1.0288 0.0836523 0.705088 
0.00849893 -0.019447 0.99486 -0.339692 
0 0 0 1 


real	0m10.436s
user	0m18.288s
sys	0m0.452s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.762217
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0963
Level     0,  Iter     1:    Energy =   0.1037
Level     0,  Iter     2:    Energy =   0.1087
Level     0,  Iter     3:    Energy =   0.1129
Level     0,  Iter     4:    Energy =   0.1169
Level     0,  Iter     5:    Energy =   0.1204
Level     0,  Iter     6:    Energy =   0.1230
Level     0,  Iter     7:    Energy =   0.1246
Level     0,  Iter     8:    Energy =   0.1250
Level     0,  Iter     9:    Energy =   0.1257
Level     0,  Iter    10:    Energy =   0.1259
Level     0,  Iter    11:    Energy =   0.1263
Level     0,  Iter    12:    Energy =   0.1265
Level     0,  Iter    13:    Energy =   0.1269
Level     0,  Iter    14:    Energy =   0.1270
Level     0,  Iter    15:    Energy =   0.1274
Level     0,  Iter    16:    Energy =   0.1274
Level     0,  Iter    17:    Energy =   0.1278
Level     0,  Iter    18:    Energy =   0.1278
Level     0,  Iter    19:    Energy =   0.1281
Level     0,  Iter    20:    Energy =   0.1281
Level     0,  Iter    21:    Energy =   0.1284
Level     0,  Iter    22:    Energy =   0.1283
Level     0,  Iter    23:    Energy =   0.1285
Level     0,  Iter    24:    Energy =   0.1285
Level     0,  Iter    25:    Energy =   0.1287
Level     0,  Iter    26:    Energy =   0.1286
Level     0,  Iter    27:    Energy =   0.1289
Level     0,  Iter    28:    Energy =   0.1288
Level     0,  Iter    29:    Energy =   0.1290
Level     0,  Iter    30:    Energy =   0.1289
Level     0,  Iter    31:    Energy =   0.1290
Level     0,  Iter    32:    Energy =   0.1289
Level     0,  Iter    33:    Energy =   0.1291
Level     0,  Iter    34:    Energy =   0.1290
Level     0,  Iter    35:    Energy =   0.1292
Level     0,  Iter    36:    Energy =   0.1291
Level     0,  Iter    37:    Energy =   0.1293
Level     0,  Iter    38:    Energy =   0.1292
Level     0,  Iter    39:    Energy =   0.1293
Level     0,  Iter    40:    Energy =   0.1292
Level     0,  Iter    41:    Energy =   0.1294
Level     0,  Iter    42:    Energy =   0.1293
Level     0,  Iter    43:    Energy =   0.1294
Level     0,  Iter    44:    Energy =   0.1293
Level     0,  Iter    45:    Energy =   0.1295
Level     0,  Iter    46:    Energy =   0.1294
Level     0,  Iter    47:    Energy =   0.1295
Level     0,  Iter    48:    Energy =   0.1294
Level     0,  Iter    49:    Energy =   0.1296
Level     0,  Iter    50:    Energy =   0.1295
Level     0,  Iter    51:    Energy =   0.1296
Level     0,  Iter    52:    Energy =   0.1295
Level     0,  Iter    53:    Energy =   0.1296
Level     0,  Iter    54:    Energy =   0.1295
Level     0,  Iter    55:    Energy =   0.1296
Level     0,  Iter    56:    Energy =   0.1295
Level     0,  Iter    57:    Energy =   0.1296
Level     0,  Iter    58:    Energy =   0.1295
Level     0,  Iter    59:    Energy =   0.1297
END OF LEVEL     0    DetJac Range:   0.2665  to   2.2404 
  Avg. Gradient Time  : 0.0075s  35.12% 
  Avg. Gaussian Time  : 0.0105s  49.07% 
  Avg. Iteration Time : 0.0214s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0867
Level     1,  Iter     1:    Energy =   0.0901
Level     1,  Iter     2:    Energy =   0.0939
Level     1,  Iter     3:    Energy =   0.0974
Level     1,  Iter     4:    Energy =   0.1000
Level     1,  Iter     5:    Energy =   0.1019
Level     1,  Iter     6:    Energy =   0.1033
Level     1,  Iter     7:    Energy =   0.1046
Level     1,  Iter     8:    Energy =   0.1059
Level     1,  Iter     9:    Energy =   0.1069
Level     1,  Iter    10:    Energy =   0.1078
Level     1,  Iter    11:    Energy =   0.1086
Level     1,  Iter    12:    Energy =   0.1094
Level     1,  Iter    13:    Energy =   0.1101
Level     1,  Iter    14:    Energy =   0.1104
Level     1,  Iter    15:    Energy =   0.1107
Level     1,  Iter    16:    Energy =   0.1110
Level     1,  Iter    17:    Energy =   0.1114
Level     1,  Iter    18:    Energy =   0.1118
Level     1,  Iter    19:    Energy =   0.1123
Level     1,  Iter    20:    Energy =   0.1128
Level     1,  Iter    21:    Energy =   0.1128
Level     1,  Iter    22:    Energy =   0.1132
Level     1,  Iter    23:    Energy =   0.1134
Level     1,  Iter    24:    Energy =   0.1136
Level     1,  Iter    25:    Energy =   0.1136
Level     1,  Iter    26:    Energy =   0.1140
Level     1,  Iter    27:    Energy =   0.1141
Level     1,  Iter    28:    Energy =   0.1143
Level     1,  Iter    29:    Energy =   0.1142
Level     1,  Iter    30:    Energy =   0.1146
Level     1,  Iter    31:    Energy =   0.1146
Level     1,  Iter    32:    Energy =   0.1148
Level     1,  Iter    33:    Energy =   0.1146
Level     1,  Iter    34:    Energy =   0.1148
Level     1,  Iter    35:    Energy =   0.1148
Level     1,  Iter    36:    Energy =   0.1147
Level     1,  Iter    37:    Energy =   0.1149
Level     1,  Iter    38:    Energy =   0.1148
Level     1,  Iter    39:    Energy =   0.1149
Level     1,  Iter    40:    Energy =   0.1150
Level     1,  Iter    41:    Energy =   0.1150
Level     1,  Iter    42:    Energy =   0.1150
Level     1,  Iter    43:    Energy =   0.1151
Level     1,  Iter    44:    Energy =   0.1150
Level     1,  Iter    45:    Energy =   0.1151
Level     1,  Iter    46:    Energy =   0.1151
Level     1,  Iter    47:    Energy =   0.1151
Level     1,  Iter    48:    Energy =   0.1152
Level     1,  Iter    49:    Energy =   0.1153
Level     1,  Iter    50:    Energy =   0.1152
Level     1,  Iter    51:    Energy =   0.1153
Level     1,  Iter    52:    Energy =   0.1153
Level     1,  Iter    53:    Energy =   0.1152
Level     1,  Iter    54:    Energy =   0.1155
Level     1,  Iter    55:    Energy =   0.1154
Level     1,  Iter    56:    Energy =   0.1155
Level     1,  Iter    57:    Energy =   0.1156
Level     1,  Iter    58:    Energy =   0.1155
Level     1,  Iter    59:    Energy =   0.1155
END OF LEVEL     1    DetJac Range:   0.0457  to   3.7088 
  Avg. Gradient Time  : 0.0427s  32.63% 
  Avg. Gaussian Time  : 0.0712s  54.46% 
  Avg. Iteration Time : 0.1308s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0579
Level     2,  Iter     1:    Energy =   0.0602
Level     2,  Iter     2:    Energy =   0.0621
Level     2,  Iter     3:    Energy =   0.0639
Level     2,  Iter     4:    Energy =   0.0654
Level     2,  Iter     5:    Energy =   0.0669
Level     2,  Iter     6:    Energy =   0.0681
Level     2,  Iter     7:    Energy =   0.0694
Level     2,  Iter     8:    Energy =   0.0705
Level     2,  Iter     9:    Energy =   0.0716
Level     2,  Iter    10:    Energy =   0.0726
Level     2,  Iter    11:    Energy =   0.0736
Level     2,  Iter    12:    Energy =   0.0746
Level     2,  Iter    13:    Energy =   0.0754
Level     2,  Iter    14:    Energy =   0.0761
Level     2,  Iter    15:    Energy =   0.0768
Level     2,  Iter    16:    Energy =   0.0774
Level     2,  Iter    17:    Energy =   0.0779
Level     2,  Iter    18:    Energy =   0.0783
Level     2,  Iter    19:    Energy =   0.0787
END OF LEVEL     2    DetJac Range:   0.0230  to   4.9479 
  Avg. Gradient Time  : 0.3062s  26.86% 
  Avg. Gaussian Time  : 0.6972s  61.15% 
  Avg. Iteration Time : 1.1400s 

real	0m36.863s
user	1m7.068s
sys	0m2.076s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=27 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=27 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.355769 0.361538
+ echo 'CHUNK 0.355769 0.361538 1'
CHUNK 0.355769 0.361538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.355769 0.361538 1
====================================
         PROGRESS: 0.355769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=002
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 002
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train002
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train002
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right 002 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train002 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=right
+ local tid=002
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train002
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 002 right 0
+ local tid=002
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 002 0
+ set -e
+ local tid=002
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.529508
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3622.37   GNORM= 436.959
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3679.113     252.084       0.001
   2    4     -3707.692     235.723       1.000
   3    5     -3748.513     284.944       1.000
   4    6     -3806.214     153.747       1.000
   5    7     -3837.762     120.524       1.000
   6    8     -3853.786      75.147       1.000
   7    9     -3871.714      72.282       1.000
   8   11     -3877.526     125.417       0.151
   9   12     -3888.564      85.281       1.000
  10   13     -3901.538      69.719       1.000
  11   14     -3906.198      83.181       1.000
  12   16     -3910.172      48.521       0.327
  13   17     -3912.307      14.680       1.000
  14   18     -3912.553      21.708       1.000
  15   19     -3912.794      16.600       1.000
  16   20     -3912.951      11.451       1.000
  17   21     -3912.958      24.436       1.000
  18   22     -3913.280      13.798       1.000
  19   23     -3913.338      13.515       1.000
  20   24     -3913.455      13.801       1.000
  21   25     -3913.617      12.288       1.000
  22   27     -3913.702       6.345       0.185
  23   28     -3913.751       5.441       1.000
  24   29     -3913.786       9.815       1.000
  25   30     -3913.853       5.287       1.000
  26   31     -3913.900       7.587       1.000
  27   32     -3913.914       9.076       1.000
  28   33     -3913.921       3.193       1.000
  29   34     -3913.937       2.851       1.000
  30   35     -3913.944       6.114       1.000
  31   36     -3913.957       5.528       1.000
  32   37     -3913.970       3.458       1.000
  33   38     -3913.973       2.769       1.000
  34   39     -3913.984       4.060       1.000
  35   41     -3913.990       3.094       0.336
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.969098 0.0213302 0.016944 1.27631 
-0.00914464 1.01797 0.065183 0.688532 
-0.0107072 -0.0150175 0.973888 -0.145369 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2928.43   GNORM= 102.283
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2934.573     100.426       0.001
   2    4     -2938.044      39.116       1.000
   3    6     -2940.988      41.851       5.000
   4    7     -2944.622      49.051       1.000
   5    8     -2962.507      77.082       1.000
   6    9     -2968.267      79.207       1.000
   7   10     -2972.496      41.430       1.000
   8   11     -2972.641      82.749       1.000
   9   12     -2973.983      24.407       1.000
  10   13     -2974.250      19.910       1.000
  11   14     -2975.162      39.707       1.000
  12   15     -2976.330      46.530       1.000
  13   16     -2977.758      45.889       1.000
  14   18     -2978.365      15.802       0.392
  15   19     -2978.601       8.094       1.000
  16   20     -2978.749      26.427       1.000
  17   21     -2979.050      11.625       1.000
  18   22     -2979.215       9.792       1.000
  19   23     -2979.452      14.106       1.000
  20   24     -2979.682      22.466       1.000
  21   26     -2979.728      14.132       0.286
  22   27     -2979.808       7.239       1.000
  23   28     -2979.857       5.683       1.000
  24   29     -2979.883       4.832       1.000
  25   30     -2979.948       4.337       1.000
  26   31     -2980.067       5.374       1.000
  27   32     -2980.153       9.963       1.000
  28   33     -2980.155      18.068       1.000
  29   34     -2980.261       5.168       1.000
  30   35     -2980.297       5.200       1.000
  31   36     -2980.335       6.654       1.000
  32   37     -2980.344      12.128       1.000
  33   38     -2980.389       4.171       1.000
  34   39     -2980.417       3.998       1.000
  35   40     -2980.434       6.611       1.000
  36   41     -2980.480      11.426       1.000
  37   42     -2980.526       5.569       1.000
  38   43     -2980.577       3.661       1.000
  39   44     -2980.584       4.827       1.000
  40   45     -2980.590       5.444       1.000
  41   46     -2980.610       2.069       1.000
  42   47     -2980.625       2.290       1.000
  43   49     -2980.637       4.695       0.432
  44   50     -2980.650       4.303       1.000
  45   51     -2980.686       3.255       1.000
  46   53     -2980.688       2.332       0.434
  47   55     -2980.692       2.592       0.251
  48   56     -2980.701       3.620       1.000
  49   57     -2980.710       2.842       1.000
  50   58     -2980.735       5.748       1.000
  51   59     -2980.761       7.346       1.000
  52   61     -2980.773       5.363       0.170
Final RAS Transform: 
0.998896 0.0172191 0.00767729 0.435884 
-0.0182038 1.0264 0.0718663 0.88337 
-0.00882092 -0.01145 0.987987 0.123281 
0 0 0 1 

Final RAS Transform: 
0.998896 0.0172191 0.00767729 0.435884 
-0.0182038 1.0264 0.0718663 0.88337 
-0.00882092 -0.01145 0.987987 0.123281 
0 0 0 1 


real	0m10.747s
user	0m18.840s
sys	0m0.476s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.533127
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1150
Level     0,  Iter     1:    Energy =   0.1221
Level     0,  Iter     2:    Energy =   0.1285
Level     0,  Iter     3:    Energy =   0.1324
Level     0,  Iter     4:    Energy =   0.1352
Level     0,  Iter     5:    Energy =   0.1366
Level     0,  Iter     6:    Energy =   0.1380
Level     0,  Iter     7:    Energy =   0.1389
Level     0,  Iter     8:    Energy =   0.1398
Level     0,  Iter     9:    Energy =   0.1402
Level     0,  Iter    10:    Energy =   0.1409
Level     0,  Iter    11:    Energy =   0.1412
Level     0,  Iter    12:    Energy =   0.1418
Level     0,  Iter    13:    Energy =   0.1420
Level     0,  Iter    14:    Energy =   0.1425
Level     0,  Iter    15:    Energy =   0.1426
Level     0,  Iter    16:    Energy =   0.1431
Level     0,  Iter    17:    Energy =   0.1431
Level     0,  Iter    18:    Energy =   0.1435
Level     0,  Iter    19:    Energy =   0.1435
Level     0,  Iter    20:    Energy =   0.1439
Level     0,  Iter    21:    Energy =   0.1439
Level     0,  Iter    22:    Energy =   0.1442
Level     0,  Iter    23:    Energy =   0.1441
Level     0,  Iter    24:    Energy =   0.1445
Level     0,  Iter    25:    Energy =   0.1445
Level     0,  Iter    26:    Energy =   0.1449
Level     0,  Iter    27:    Energy =   0.1448
Level     0,  Iter    28:    Energy =   0.1452
Level     0,  Iter    29:    Energy =   0.1451
Level     0,  Iter    30:    Energy =   0.1454
Level     0,  Iter    31:    Energy =   0.1453
Level     0,  Iter    32:    Energy =   0.1456
Level     0,  Iter    33:    Energy =   0.1454
Level     0,  Iter    34:    Energy =   0.1458
Level     0,  Iter    35:    Energy =   0.1456
Level     0,  Iter    36:    Energy =   0.1459
Level     0,  Iter    37:    Energy =   0.1457
Level     0,  Iter    38:    Energy =   0.1460
Level     0,  Iter    39:    Energy =   0.1457
Level     0,  Iter    40:    Energy =   0.1460
Level     0,  Iter    41:    Energy =   0.1457
Level     0,  Iter    42:    Energy =   0.1461
Level     0,  Iter    43:    Energy =   0.1459
Level     0,  Iter    44:    Energy =   0.1462
Level     0,  Iter    45:    Energy =   0.1459
Level     0,  Iter    46:    Energy =   0.1462
Level     0,  Iter    47:    Energy =   0.1459
Level     0,  Iter    48:    Energy =   0.1463
Level     0,  Iter    49:    Energy =   0.1459
Level     0,  Iter    50:    Energy =   0.1463
Level     0,  Iter    51:    Energy =   0.1460
Level     0,  Iter    52:    Energy =   0.1464
Level     0,  Iter    53:    Energy =   0.1461
Level     0,  Iter    54:    Energy =   0.1464
Level     0,  Iter    55:    Energy =   0.1462
Level     0,  Iter    56:    Energy =   0.1465
Level     0,  Iter    57:    Energy =   0.1461
Level     0,  Iter    58:    Energy =   0.1464
Level     0,  Iter    59:    Energy =   0.1462
END OF LEVEL     0    DetJac Range:   0.2865  to   2.3372 
  Avg. Gradient Time  : 0.0086s  35.10% 
  Avg. Gaussian Time  : 0.0120s  49.10% 
  Avg. Iteration Time : 0.0245s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.1002
Level     1,  Iter     1:    Energy =   0.1053
Level     1,  Iter     2:    Energy =   0.1088
Level     1,  Iter     3:    Energy =   0.1115
Level     1,  Iter     4:    Energy =   0.1137
Level     1,  Iter     5:    Energy =   0.1158
Level     1,  Iter     6:    Energy =   0.1178
Level     1,  Iter     7:    Energy =   0.1197
Level     1,  Iter     8:    Energy =   0.1214
Level     1,  Iter     9:    Energy =   0.1229
Level     1,  Iter    10:    Energy =   0.1242
Level     1,  Iter    11:    Energy =   0.1251
Level     1,  Iter    12:    Energy =   0.1260
Level     1,  Iter    13:    Energy =   0.1268
Level     1,  Iter    14:    Energy =   0.1274
Level     1,  Iter    15:    Energy =   0.1279
Level     1,  Iter    16:    Energy =   0.1277
Level     1,  Iter    17:    Energy =   0.1282
Level     1,  Iter    18:    Energy =   0.1280
Level     1,  Iter    19:    Energy =   0.1284
Level     1,  Iter    20:    Energy =   0.1281
Level     1,  Iter    21:    Energy =   0.1287
Level     1,  Iter    22:    Energy =   0.1284
Level     1,  Iter    23:    Energy =   0.1289
Level     1,  Iter    24:    Energy =   0.1286
Level     1,  Iter    25:    Energy =   0.1291
Level     1,  Iter    26:    Energy =   0.1289
Level     1,  Iter    27:    Energy =   0.1293
Level     1,  Iter    28:    Energy =   0.1292
Level     1,  Iter    29:    Energy =   0.1295
Level     1,  Iter    30:    Energy =   0.1293
Level     1,  Iter    31:    Energy =   0.1296
Level     1,  Iter    32:    Energy =   0.1295
Level     1,  Iter    33:    Energy =   0.1298
Level     1,  Iter    34:    Energy =   0.1297
Level     1,  Iter    35:    Energy =   0.1298
Level     1,  Iter    36:    Energy =   0.1298
Level     1,  Iter    37:    Energy =   0.1299
Level     1,  Iter    38:    Energy =   0.1300
Level     1,  Iter    39:    Energy =   0.1301
Level     1,  Iter    40:    Energy =   0.1302
Level     1,  Iter    41:    Energy =   0.1302
Level     1,  Iter    42:    Energy =   0.1304
Level     1,  Iter    43:    Energy =   0.1303
Level     1,  Iter    44:    Energy =   0.1305
Level     1,  Iter    45:    Energy =   0.1304
Level     1,  Iter    46:    Energy =   0.1306
Level     1,  Iter    47:    Energy =   0.1305
Level     1,  Iter    48:    Energy =   0.1306
Level     1,  Iter    49:    Energy =   0.1306
Level     1,  Iter    50:    Energy =   0.1307
Level     1,  Iter    51:    Energy =   0.1307
Level     1,  Iter    52:    Energy =   0.1308
Level     1,  Iter    53:    Energy =   0.1307
Level     1,  Iter    54:    Energy =   0.1308
Level     1,  Iter    55:    Energy =   0.1308
Level     1,  Iter    56:    Energy =   0.1308
Level     1,  Iter    57:    Energy =   0.1308
Level     1,  Iter    58:    Energy =   0.1309
Level     1,  Iter    59:    Energy =   0.1308
END OF LEVEL     1    DetJac Range:   0.1292  to   4.3654 
  Avg. Gradient Time  : 0.0486s  32.54% 
  Avg. Gaussian Time  : 0.0813s  54.41% 
  Avg. Iteration Time : 0.1494s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0695
Level     2,  Iter     1:    Energy =   0.0722
Level     2,  Iter     2:    Energy =   0.0746
Level     2,  Iter     3:    Energy =   0.0768
Level     2,  Iter     4:    Energy =   0.0785
Level     2,  Iter     5:    Energy =   0.0800
Level     2,  Iter     6:    Energy =   0.0813
Level     2,  Iter     7:    Energy =   0.0824
Level     2,  Iter     8:    Energy =   0.0833
Level     2,  Iter     9:    Energy =   0.0841
Level     2,  Iter    10:    Energy =   0.0847
Level     2,  Iter    11:    Energy =   0.0853
Level     2,  Iter    12:    Energy =   0.0858
Level     2,  Iter    13:    Energy =   0.0862
Level     2,  Iter    14:    Energy =   0.0866
Level     2,  Iter    15:    Energy =   0.0870
Level     2,  Iter    16:    Energy =   0.0873
Level     2,  Iter    17:    Energy =   0.0875
Level     2,  Iter    18:    Energy =   0.0878
Level     2,  Iter    19:    Energy =   0.0880
END OF LEVEL     2    DetJac Range:   0.0768  to   5.4381 
  Avg. Gradient Time  : 0.3170s  27.28% 
  Avg. Gaussian Time  : 0.7031s  60.51% 
  Avg. Iteration Time : 1.1620s 

real	0m39.039s
user	1m10.936s
sys	0m2.268s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=28 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=28 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.361538 0.367308
+ echo 'CHUNK 0.361538 0.367308 1'
CHUNK 0.361538 0.367308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.361538 0.367308 1
====================================
         PROGRESS: 0.361538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=003
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 003
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train003
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train003
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right 003 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train003 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=right
+ local tid=003
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train003
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 003 right 0
+ local tid=003
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 003 0
+ set -e
+ local tid=003
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.261065
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2754.05   GNORM= 1065.18
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -3145.215     596.772       0.001
   2    3     -3234.039     205.403       1.000
   3    4     -3252.024     147.439       1.000
   4    5     -3288.008      98.916       1.000
   5    6     -3306.538     112.014       1.000
   6    7     -3335.667     104.877       1.000
   7    8     -3353.607      78.908       1.000
   8    9     -3370.176      72.744       1.000
   9   10     -3392.526     155.494       1.000
  10   11     -3392.815     203.838       1.000
  11   12     -3409.044      47.588       1.000
  12   13     -3412.605      32.252       1.000
  13   14     -3415.986      59.608       1.000
  14   15     -3418.905      39.807       1.000
  15   16     -3420.930      32.505       1.000
  16   17     -3422.138      44.529       1.000
  17   18     -3423.340      35.332       1.000
  18   19     -3424.538      14.524       1.000
  19   20     -3424.922      20.743       1.000
  20   21     -3425.711      15.763       1.000
  21   22     -3425.940      24.118       1.000
  22   23     -3426.222      25.280       1.000
  23   24     -3426.695      15.812       1.000
  24   25     -3426.843      14.412       1.000
  25   26     -3426.845      20.980       1.000
  26   27     -3427.041       9.276       1.000
  27   28     -3427.130       7.963       1.000
  28   29     -3427.255      10.591       1.000
  29   30     -3427.466      18.849       1.000
  30   31     -3427.677      20.417       1.000
  31   32     -3427.847      13.606       1.000
  32   33     -3427.901      17.200       1.000
  33   34     -3428.006      10.514       1.000
  34   36     -3428.123       8.721       0.273
  35   37     -3428.248       6.716       1.000
  36   39     -3428.320       8.912       0.343
  37   40     -3428.340      10.452       1.000
  38   41     -3428.384       3.570       1.000
  39   42     -3428.398       2.530       1.000
  40   43     -3428.402       4.214       1.000
  41   44     -3428.419       3.794       1.000
  42   45     -3428.431       2.470       1.000
  43   46     -3428.439       3.738       1.000
  44   47     -3428.447       3.264       1.000
  45   48     -3428.461       3.802       1.000
  46   50     -3428.465       1.871       0.388
  47   51     -3428.466       1.288       1.000
  48   53     -3428.471       1.030       0.168
Final RAS Transform: 
0.93519 0.0215049 0.0201542 1.49823 
-0.0249242 0.985302 0.00251265 -0.243852 
0.0383392 0.0124945 1.03744 -0.659247 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2524.3   GNORM= 116.192
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2539.765      62.988       0.002
   2    4     -2545.457      49.451       1.000
   3    5     -2552.937     124.753       1.000
   4    6     -2558.638      53.072       1.000
   5    7     -2560.342      28.640       1.000
   6    8     -2561.401      31.142       1.000
   7    9     -2562.380      27.063       1.000
   8   10     -2568.013      75.338       1.000
   9   11     -2570.426      19.217       1.000
  10   12     -2570.694      14.093       1.000
  11   13     -2571.191      32.872       1.000
  12   14     -2571.806      44.209       1.000
  13   15     -2574.776      47.541       1.000
  14   17     -2577.027      91.914       0.335
  15   18     -2579.031      45.149       1.000
  16   19     -2579.913      13.932       1.000
  17   20     -2580.133      17.075       1.000
  18   21     -2580.294      13.352       1.000
  19   22     -2580.441      25.193       1.000
  20   23     -2580.745      11.454       1.000
  21   24     -2580.829      12.336       1.000
  22   25     -2580.938       8.188       1.000
  23   27     -2581.138      20.167       0.420
  24   28     -2581.332      15.112       1.000
  25   29     -2581.720       9.422       1.000
  26   30     -2582.065       9.594       1.000
  27   31     -2582.393       7.723       1.000
  28   32     -2582.792      13.629       1.000
  29   33     -2583.110      15.322       1.000
  30   34     -2583.212      13.586       1.000
  31   35     -2583.265       3.221       1.000
  32   36     -2583.269       2.282       1.000
  33   37     -2583.289       4.210       1.000
  34   38     -2583.336       3.354       1.000
  35   40     -2583.346       3.848       0.368
  36   41     -2583.352       2.191       1.000
  37   42     -2583.365       1.620       1.000
  38   43     -2583.379       2.362       1.000
  39   45     -2583.390       6.233       0.239
  40   46     -2583.397       2.941       1.000
  41   47     -2583.407       5.910       1.000
  42   48     -2583.421       4.753       1.000
  43   50     -2583.430       3.131       0.299
  44   51     -2583.440       3.498       1.000
  45   52     -2583.449       3.580       1.000
  46   53     -2583.457       2.584       1.000
  47   54     -2583.470       2.147       1.000
  48   55     -2583.477       1.726       1.000
  49   56     -2583.482       3.486       1.000
  50   57     -2583.501       5.284       1.000
  51   58     -2583.517       4.842       1.000
  52   59     -2583.529       4.450       1.000
  53   60     -2583.533       1.789       1.000
  54   61     -2583.536       1.214       1.000
Final RAS Transform: 
0.964982 0.0112026 0.0132027 0.949657 
-0.0485319 0.984651 0.000761302 -0.0996469 
0.0384939 0.0239106 1.03218 -0.422736 
0 0 0 1 

Final RAS Transform: 
0.964982 0.0112026 0.0132027 0.949657 
-0.0485319 0.984651 0.000761302 -0.0996469 
0.0384939 0.0239106 1.03218 -0.422736 
0 0 0 1 


real	0m10.638s
user	0m18.636s
sys	0m0.496s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.259504
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1002
Level     0,  Iter     1:    Energy =   0.1063
Level     0,  Iter     2:    Energy =   0.1109
Level     0,  Iter     3:    Energy =   0.1153
Level     0,  Iter     4:    Energy =   0.1180
Level     0,  Iter     5:    Energy =   0.1202
Level     0,  Iter     6:    Energy =   0.1219
Level     0,  Iter     7:    Energy =   0.1236
Level     0,  Iter     8:    Energy =   0.1247
Level     0,  Iter     9:    Energy =   0.1260
Level     0,  Iter    10:    Energy =   0.1268
Level     0,  Iter    11:    Energy =   0.1280
Level     0,  Iter    12:    Energy =   0.1286
Level     0,  Iter    13:    Energy =   0.1288
Level     0,  Iter    14:    Energy =   0.1294
Level     0,  Iter    15:    Energy =   0.1298
Level     0,  Iter    16:    Energy =   0.1302
Level     0,  Iter    17:    Energy =   0.1302
Level     0,  Iter    18:    Energy =   0.1305
Level     0,  Iter    19:    Energy =   0.1306
Level     0,  Iter    20:    Energy =   0.1309
Level     0,  Iter    21:    Energy =   0.1310
Level     0,  Iter    22:    Energy =   0.1313
Level     0,  Iter    23:    Energy =   0.1313
Level     0,  Iter    24:    Energy =   0.1316
Level     0,  Iter    25:    Energy =   0.1316
Level     0,  Iter    26:    Energy =   0.1319
Level     0,  Iter    27:    Energy =   0.1318
Level     0,  Iter    28:    Energy =   0.1321
Level     0,  Iter    29:    Energy =   0.1320
Level     0,  Iter    30:    Energy =   0.1323
Level     0,  Iter    31:    Energy =   0.1322
Level     0,  Iter    32:    Energy =   0.1325
Level     0,  Iter    33:    Energy =   0.1324
Level     0,  Iter    34:    Energy =   0.1326
Level     0,  Iter    35:    Energy =   0.1325
Level     0,  Iter    36:    Energy =   0.1327
Level     0,  Iter    37:    Energy =   0.1326
Level     0,  Iter    38:    Energy =   0.1329
Level     0,  Iter    39:    Energy =   0.1327
Level     0,  Iter    40:    Energy =   0.1330
Level     0,  Iter    41:    Energy =   0.1329
Level     0,  Iter    42:    Energy =   0.1331
Level     0,  Iter    43:    Energy =   0.1330
Level     0,  Iter    44:    Energy =   0.1332
Level     0,  Iter    45:    Energy =   0.1330
Level     0,  Iter    46:    Energy =   0.1332
Level     0,  Iter    47:    Energy =   0.1330
Level     0,  Iter    48:    Energy =   0.1332
Level     0,  Iter    49:    Energy =   0.1331
Level     0,  Iter    50:    Energy =   0.1333
Level     0,  Iter    51:    Energy =   0.1331
Level     0,  Iter    52:    Energy =   0.1333
Level     0,  Iter    53:    Energy =   0.1332
Level     0,  Iter    54:    Energy =   0.1334
Level     0,  Iter    55:    Energy =   0.1332
Level     0,  Iter    56:    Energy =   0.1334
Level     0,  Iter    57:    Energy =   0.1332
Level     0,  Iter    58:    Energy =   0.1334
Level     0,  Iter    59:    Energy =   0.1332
END OF LEVEL     0    DetJac Range:   0.1965  to   2.3724 
  Avg. Gradient Time  : 0.0077s  34.63% 
  Avg. Gaussian Time  : 0.0110s  49.78% 
  Avg. Iteration Time : 0.0222s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0884
Level     1,  Iter     1:    Energy =   0.0931
Level     1,  Iter     2:    Energy =   0.0975
Level     1,  Iter     3:    Energy =   0.1008
Level     1,  Iter     4:    Energy =   0.1034
Level     1,  Iter     5:    Energy =   0.1054
Level     1,  Iter     6:    Energy =   0.1071
Level     1,  Iter     7:    Energy =   0.1086
Level     1,  Iter     8:    Energy =   0.1098
Level     1,  Iter     9:    Energy =   0.1108
Level     1,  Iter    10:    Energy =   0.1116
Level     1,  Iter    11:    Energy =   0.1122
Level     1,  Iter    12:    Energy =   0.1128
Level     1,  Iter    13:    Energy =   0.1132
Level     1,  Iter    14:    Energy =   0.1136
Level     1,  Iter    15:    Energy =   0.1139
Level     1,  Iter    16:    Energy =   0.1142
Level     1,  Iter    17:    Energy =   0.1142
Level     1,  Iter    18:    Energy =   0.1145
Level     1,  Iter    19:    Energy =   0.1148
Level     1,  Iter    20:    Energy =   0.1150
Level     1,  Iter    21:    Energy =   0.1150
Level     1,  Iter    22:    Energy =   0.1153
Level     1,  Iter    23:    Energy =   0.1155
Level     1,  Iter    24:    Energy =   0.1156
Level     1,  Iter    25:    Energy =   0.1156
Level     1,  Iter    26:    Energy =   0.1157
Level     1,  Iter    27:    Energy =   0.1159
Level     1,  Iter    28:    Energy =   0.1160
Level     1,  Iter    29:    Energy =   0.1161
Level     1,  Iter    30:    Energy =   0.1161
Level     1,  Iter    31:    Energy =   0.1163
Level     1,  Iter    32:    Energy =   0.1163
Level     1,  Iter    33:    Energy =   0.1163
Level     1,  Iter    34:    Energy =   0.1164
Level     1,  Iter    35:    Energy =   0.1164
Level     1,  Iter    36:    Energy =   0.1165
Level     1,  Iter    37:    Energy =   0.1165
Level     1,  Iter    38:    Energy =   0.1166
Level     1,  Iter    39:    Energy =   0.1166
Level     1,  Iter    40:    Energy =   0.1166
Level     1,  Iter    41:    Energy =   0.1166
Level     1,  Iter    42:    Energy =   0.1167
Level     1,  Iter    43:    Energy =   0.1167
Level     1,  Iter    44:    Energy =   0.1167
Level     1,  Iter    45:    Energy =   0.1167
Level     1,  Iter    46:    Energy =   0.1168
Level     1,  Iter    47:    Energy =   0.1167
Level     1,  Iter    48:    Energy =   0.1168
Level     1,  Iter    49:    Energy =   0.1168
Level     1,  Iter    50:    Energy =   0.1169
Level     1,  Iter    51:    Energy =   0.1168
Level     1,  Iter    52:    Energy =   0.1168
Level     1,  Iter    53:    Energy =   0.1169
Level     1,  Iter    54:    Energy =   0.1169
Level     1,  Iter    55:    Energy =   0.1168
Level     1,  Iter    56:    Energy =   0.1169
Level     1,  Iter    57:    Energy =   0.1169
Level     1,  Iter    58:    Energy =   0.1169
Level     1,  Iter    59:    Energy =   0.1169
END OF LEVEL     1    DetJac Range:   0.0636  to   3.8387 
  Avg. Gradient Time  : 0.0431s  32.85% 
  Avg. Gaussian Time  : 0.0713s  54.27% 
  Avg. Iteration Time : 0.1313s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0579
Level     2,  Iter     1:    Energy =   0.0611
Level     2,  Iter     2:    Energy =   0.0635
Level     2,  Iter     3:    Energy =   0.0654
Level     2,  Iter     4:    Energy =   0.0670
Level     2,  Iter     5:    Energy =   0.0684
Level     2,  Iter     6:    Energy =   0.0696
Level     2,  Iter     7:    Energy =   0.0707
Level     2,  Iter     8:    Energy =   0.0716
Level     2,  Iter     9:    Energy =   0.0725
Level     2,  Iter    10:    Energy =   0.0734
Level     2,  Iter    11:    Energy =   0.0742
Level     2,  Iter    12:    Energy =   0.0751
Level     2,  Iter    13:    Energy =   0.0759
Level     2,  Iter    14:    Energy =   0.0766
Level     2,  Iter    15:    Energy =   0.0772
Level     2,  Iter    16:    Energy =   0.0778
Level     2,  Iter    17:    Energy =   0.0783
Level     2,  Iter    18:    Energy =   0.0787
Level     2,  Iter    19:    Energy =   0.0792
END OF LEVEL     2    DetJac Range:   0.0459  to   6.0259 
  Avg. Gradient Time  : 0.3047s  27.57% 
  Avg. Gaussian Time  : 0.6634s  60.04% 
  Avg. Iteration Time : 1.1050s 

real	0m36.332s
user	1m5.824s
sys	0m2.196s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=29 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=29 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.367308 0.373077
+ echo 'CHUNK 0.367308 0.373077 1'
CHUNK 0.367308 0.373077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.367308 0.373077 1
====================================
         PROGRESS: 0.367308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=004
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 004
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train004
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train004
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right 004 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train004 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=right
+ local tid=004
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train004
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 004 right 0
+ local tid=004
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 004 0
+ set -e
+ local tid=004
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.614173
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -4247.91   GNORM= 464.73
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4358.472     291.259       0.001
   2    4     -4384.968     218.496       1.000
   3    5     -4399.252     150.781       1.000
   4    6     -4419.683     172.710       1.000
   5    7     -4437.815     182.248       1.000
   6    8     -4482.870     140.277       1.000
   7    9     -4494.250      71.467       1.000
   8   10     -4503.093      80.949       1.000
   9   12     -4510.282     156.220       0.427
  10   13     -4517.960      61.068       1.000
  11   14     -4520.004      35.446       1.000
  12   15     -4521.075      30.616       1.000
  13   16     -4522.906      25.774       1.000
  14   17     -4523.745      80.693       1.000
  15   18     -4525.934      51.866       1.000
  16   19     -4526.625       9.521       1.000
  17   20     -4526.767       7.789       1.000
  18   21     -4526.778      16.941       1.000
  19   22     -4526.859       6.996       1.000
  20   24     -4526.944      23.619       5.000
  21   25     -4527.047       7.890       1.000
  22   26     -4527.084       5.605       1.000
  23   27     -4527.110       9.023       1.000
  24   28     -4527.130       6.881       1.000
  25   29     -4527.187       4.930       1.000
  26   30     -4527.234       9.601       1.000
  27   31     -4527.292       7.663       1.000
  28   33     -4527.322       9.536       0.265
  29   34     -4527.365      11.505       1.000
  30   35     -4527.414       9.681       1.000
  31   36     -4527.456       2.971       1.000
  32   37     -4527.465       3.913       1.000
  33   38     -4527.482       2.680       1.000
  34   39     -4527.518       4.270       1.000
  35   41     -4527.565       7.201       0.486
  36   43     -4527.583       5.343       0.434
  37   44     -4527.605       4.464       1.000
  38   45     -4527.611       3.037       1.000
  39   46     -4527.625      10.196       1.000
  40   47     -4527.642       3.370       1.000
  41   49     -4527.645       3.329       0.164
  42   50     -4527.658       4.149       1.000
Final RAS Transform: 
0.968716 -0.00246264 -0.00408831 0.615303 
0.0129388 1.03284 0.0698136 0.719525 
0.00292483 -0.00446155 0.989678 0.092773 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3259.24   GNORM= 201.95
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3266.102      73.916       0.000
   2    4     -3267.926      62.568       1.000
   3    5     -3271.098      35.045       1.000
   4    6     -3271.997      23.188       1.000
   5    7     -3273.497      27.895       1.000
   6    8     -3275.206      50.067       1.000
   7    9     -3276.931      45.671       1.000
   8   10     -3279.150      35.655       1.000
   9   11     -3279.824      15.214       1.000
  10   12     -3280.141      19.946       1.000
  11   13     -3280.452      23.011       1.000
  12   14     -3282.649      29.387       1.000
  13   16     -3283.514      29.873       0.374
  14   17     -3284.455      17.084       1.000
  15   18     -3284.881      14.734       1.000
  16   19     -3285.105       4.772       1.000
  17   20     -3285.166       8.850       1.000
  18   21     -3285.210       4.552       1.000
  19   23     -3285.242       5.631       0.501
  20   24     -3285.271       7.045       1.000
  21   25     -3285.304      11.086       1.000
  22   26     -3285.342      12.767       1.000
  23   27     -3285.368       5.078       1.000
  24   28     -3285.381       3.516       1.000
  25   29     -3285.395       3.721       1.000
  26   30     -3285.435       9.411       1.000
  27   31     -3285.466       6.612       1.000
  28   32     -3285.513       5.834       1.000
  29   33     -3285.539       4.394       1.000
  30   35     -3285.543       6.021       0.152
  31   36     -3285.551       2.912       1.000
  32   38     -3285.553       2.646       0.231
  33   39     -3285.559       7.298       1.000
  34   40     -3285.567       4.049       1.000
  35   41     -3285.584       3.827       1.000
  36   44     -3285.620       5.876       2.727
  37   45     -3285.628       3.461       1.000
  38   46     -3285.640       3.496       1.000
  39   47     -3285.657       2.929       1.000
  40   48     -3285.659       5.160       1.000
  41   49     -3285.668       2.965       1.000
  42   50     -3285.685       5.151       1.000
  43   51     -3285.687       4.263       1.000
  44   52     -3285.700       3.579       1.000
  45   54     -3285.706       3.703       0.367
  46   55     -3285.711       1.496       1.000
  47   56     -3285.715       2.282       1.000
  48   57     -3285.720       1.634       1.000
Final RAS Transform: 
0.98353 -0.0105599 -0.0127398 0.0287617 
0.0159393 1.03608 0.0792844 0.682087 
-0.00252262 -0.00314156 0.989527 0.241997 
0 0 0 1 

Final RAS Transform: 
0.98353 -0.0105599 -0.0127398 0.0287617 
0.0159393 1.03608 0.0792844 0.682087 
-0.00252262 -0.00314156 0.989527 0.241997 
0 0 0 1 


real	0m9.891s
user	0m17.372s
sys	0m0.476s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.620173
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1339
Level     0,  Iter     1:    Energy =   0.1418
Level     0,  Iter     2:    Energy =   0.1474
Level     0,  Iter     3:    Energy =   0.1509
Level     0,  Iter     4:    Energy =   0.1528
Level     0,  Iter     5:    Energy =   0.1559
Level     0,  Iter     6:    Energy =   0.1568
Level     0,  Iter     7:    Energy =   0.1582
Level     0,  Iter     8:    Energy =   0.1589
Level     0,  Iter     9:    Energy =   0.1609
Level     0,  Iter    10:    Energy =   0.1610
Level     0,  Iter    11:    Energy =   0.1612
Level     0,  Iter    12:    Energy =   0.1614
Level     0,  Iter    13:    Energy =   0.1617
Level     0,  Iter    14:    Energy =   0.1621
Level     0,  Iter    15:    Energy =   0.1632
Level     0,  Iter    16:    Energy =   0.1632
Level     0,  Iter    17:    Energy =   0.1630
Level     0,  Iter    18:    Energy =   0.1630
Level     0,  Iter    19:    Energy =   0.1629
Level     0,  Iter    20:    Energy =   0.1632
Level     0,  Iter    21:    Energy =   0.1642
Level     0,  Iter    22:    Energy =   0.1641
Level     0,  Iter    23:    Energy =   0.1637
Level     0,  Iter    24:    Energy =   0.1636
Level     0,  Iter    25:    Energy =   0.1635
Level     0,  Iter    26:    Energy =   0.1637
Level     0,  Iter    27:    Energy =   0.1647
Level     0,  Iter    28:    Energy =   0.1646
Level     0,  Iter    29:    Energy =   0.1641
Level     0,  Iter    30:    Energy =   0.1642
Level     0,  Iter    31:    Energy =   0.1642
Level     0,  Iter    32:    Energy =   0.1648
Level     0,  Iter    33:    Energy =   0.1659
Level     0,  Iter    34:    Energy =   0.1650
Level     0,  Iter    35:    Energy =   0.1652
Level     0,  Iter    36:    Energy =   0.1646
Level     0,  Iter    37:    Energy =   0.1648
Level     0,  Iter    38:    Energy =   0.1645
Level     0,  Iter    39:    Energy =   0.1648
Level     0,  Iter    40:    Energy =   0.1646
Level     0,  Iter    41:    Energy =   0.1649
Level     0,  Iter    42:    Energy =   0.1645
Level     0,  Iter    43:    Energy =   0.1648
Level     0,  Iter    44:    Energy =   0.1644
Level     0,  Iter    45:    Energy =   0.1645
Level     0,  Iter    46:    Energy =   0.1640
Level     0,  Iter    47:    Energy =   0.1641
Level     0,  Iter    48:    Energy =   0.1637
Level     0,  Iter    49:    Energy =   0.1637
Level     0,  Iter    50:    Energy =   0.1636
Level     0,  Iter    51:    Energy =   0.1635
Level     0,  Iter    52:    Energy =   0.1634
Level     0,  Iter    53:    Energy =   0.1634
Level     0,  Iter    54:    Energy =   0.1633
Level     0,  Iter    55:    Energy =   0.1633
Level     0,  Iter    56:    Energy =   0.1632
Level     0,  Iter    57:    Energy =   0.1633
Level     0,  Iter    58:    Energy =   0.1632
Level     0,  Iter    59:    Energy =   0.1632
END OF LEVEL     0    DetJac Range:   0.3580  to   2.0133 
  Avg. Gradient Time  : 0.0077s  34.57% 
  Avg. Gaussian Time  : 0.0112s  50.02% 
  Avg. Iteration Time : 0.0223s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.1101
Level     1,  Iter     1:    Energy =   0.1152
Level     1,  Iter     2:    Energy =   0.1192
Level     1,  Iter     3:    Energy =   0.1231
Level     1,  Iter     4:    Energy =   0.1259
Level     1,  Iter     5:    Energy =   0.1283
Level     1,  Iter     6:    Energy =   0.1303
Level     1,  Iter     7:    Energy =   0.1318
Level     1,  Iter     8:    Energy =   0.1322
Level     1,  Iter     9:    Energy =   0.1330
Level     1,  Iter    10:    Energy =   0.1334
Level     1,  Iter    11:    Energy =   0.1338
Level     1,  Iter    12:    Energy =   0.1342
Level     1,  Iter    13:    Energy =   0.1345
Level     1,  Iter    14:    Energy =   0.1347
Level     1,  Iter    15:    Energy =   0.1351
Level     1,  Iter    16:    Energy =   0.1353
Level     1,  Iter    17:    Energy =   0.1356
Level     1,  Iter    18:    Energy =   0.1357
Level     1,  Iter    19:    Energy =   0.1360
Level     1,  Iter    20:    Energy =   0.1361
Level     1,  Iter    21:    Energy =   0.1363
Level     1,  Iter    22:    Energy =   0.1364
Level     1,  Iter    23:    Energy =   0.1366
Level     1,  Iter    24:    Energy =   0.1366
Level     1,  Iter    25:    Energy =   0.1368
Level     1,  Iter    26:    Energy =   0.1369
Level     1,  Iter    27:    Energy =   0.1370
Level     1,  Iter    28:    Energy =   0.1370
Level     1,  Iter    29:    Energy =   0.1372
Level     1,  Iter    30:    Energy =   0.1372
Level     1,  Iter    31:    Energy =   0.1373
Level     1,  Iter    32:    Energy =   0.1373
Level     1,  Iter    33:    Energy =   0.1375
Level     1,  Iter    34:    Energy =   0.1374
Level     1,  Iter    35:    Energy =   0.1376
Level     1,  Iter    36:    Energy =   0.1375
Level     1,  Iter    37:    Energy =   0.1377
Level     1,  Iter    38:    Energy =   0.1376
Level     1,  Iter    39:    Energy =   0.1378
Level     1,  Iter    40:    Energy =   0.1377
Level     1,  Iter    41:    Energy =   0.1378
Level     1,  Iter    42:    Energy =   0.1378
Level     1,  Iter    43:    Energy =   0.1379
Level     1,  Iter    44:    Energy =   0.1379
Level     1,  Iter    45:    Energy =   0.1380
Level     1,  Iter    46:    Energy =   0.1379
Level     1,  Iter    47:    Energy =   0.1380
Level     1,  Iter    48:    Energy =   0.1380
Level     1,  Iter    49:    Energy =   0.1381
Level     1,  Iter    50:    Energy =   0.1380
Level     1,  Iter    51:    Energy =   0.1381
Level     1,  Iter    52:    Energy =   0.1381
Level     1,  Iter    53:    Energy =   0.1382
Level     1,  Iter    54:    Energy =   0.1381
Level     1,  Iter    55:    Energy =   0.1383
Level     1,  Iter    56:    Energy =   0.1382
Level     1,  Iter    57:    Energy =   0.1383
Level     1,  Iter    58:    Energy =   0.1382
Level     1,  Iter    59:    Energy =   0.1383
END OF LEVEL     1    DetJac Range:   0.1429  to   3.1253 
  Avg. Gradient Time  : 0.0429s  32.72% 
  Avg. Gaussian Time  : 0.0714s  54.39% 
  Avg. Iteration Time : 0.1312s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0717
Level     2,  Iter     1:    Energy =   0.0741
Level     2,  Iter     2:    Energy =   0.0761
Level     2,  Iter     3:    Energy =   0.0780
Level     2,  Iter     4:    Energy =   0.0798
Level     2,  Iter     5:    Energy =   0.0814
Level     2,  Iter     6:    Energy =   0.0827
Level     2,  Iter     7:    Energy =   0.0838
Level     2,  Iter     8:    Energy =   0.0849
Level     2,  Iter     9:    Energy =   0.0860
Level     2,  Iter    10:    Energy =   0.0870
Level     2,  Iter    11:    Energy =   0.0880
Level     2,  Iter    12:    Energy =   0.0888
Level     2,  Iter    13:    Energy =   0.0897
Level     2,  Iter    14:    Energy =   0.0898
Level     2,  Iter    15:    Energy =   0.0894
Level     2,  Iter    16:    Energy =   0.0903
Level     2,  Iter    17:    Energy =   0.0899
Level     2,  Iter    18:    Energy =   0.0908
Level     2,  Iter    19:    Energy =   0.0903
END OF LEVEL     2    DetJac Range:   0.0787  to   4.6416 
  Avg. Gradient Time  : 0.3051s  29.69% 
  Avg. Gaussian Time  : 0.5846s  56.89% 
  Avg. Iteration Time : 1.0276s 

real	0m34.754s
user	1m2.756s
sys	0m2.104s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=30 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=30 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.373077 0.378846
+ echo 'CHUNK 0.373077 0.378846 1'
CHUNK 0.373077 0.378846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.373077 0.378846 1
====================================
         PROGRESS: 0.373077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=005
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 005
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train005
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train005
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right 005 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train005 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=right
+ local tid=005
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train005
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 005 right 0
+ local tid=005
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 005 0
+ set -e
+ local tid=005
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.682003
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3514.78   GNORM= 462.853
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3591.246     320.769       0.001
   2    4     -3633.553     249.403       1.000
   3    5     -3727.480     151.977       1.000
   4    6     -3766.221     135.848       1.000
   5    7     -3808.615     169.912       1.000
   6    8     -3836.548      94.831       1.000
   7    9     -3852.290     111.223       1.000
   8   10     -3861.161     145.045       1.000
   9   11     -3870.937      94.412       1.000
  10   12     -3877.070     105.589       1.000
  11   13     -3902.769     100.685       1.000
  12   15     -3907.993     105.793       0.378
  13   16     -3913.061      47.371       1.000
  14   17     -3914.791      53.639       1.000
  15   18     -3916.269      38.607       1.000
  16   19     -3918.369      29.997       1.000
  17   20     -3919.905      48.876       1.000
  18   21     -3921.302      28.981       1.000
  19   22     -3922.104      15.225       1.000
  20   23     -3922.463      27.052       1.000
  21   24     -3922.744      41.804       1.000
  22   25     -3923.380      23.561       1.000
  23   26     -3923.961      16.398       1.000
  24   27     -3924.151      16.430       1.000
  25   28     -3924.489      12.058       1.000
  26   29     -3924.861      18.464       1.000
  27   30     -3925.040       9.093       1.000
  28   31     -3925.164       8.600       1.000
  29   32     -3925.416      10.837       1.000
  30   34     -3925.461       9.627       0.265
  31   35     -3925.531       5.872       1.000
  32   36     -3925.592       4.924       1.000
  33   37     -3925.634      20.776       1.000
  34   38     -3925.711       6.702       1.000
  35   39     -3925.768       3.351       1.000
  36   40     -3925.770      11.303       1.000
  37   41     -3925.799       7.938       1.000
  38   42     -3925.803       7.215       1.000
  39   43     -3925.818       1.906       1.000
  40   46     -3925.837       4.759       2.036
  41   47     -3925.843       2.084       1.000
Final RAS Transform: 
0.936132 -0.0106166 -0.0580521 0.600674 
0.0293934 1.03163 0.10416 0.512283 
-0.00724981 -0.0145604 1.00889 0.125215 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2931.33   GNORM= 287.75
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2947.038      73.844       0.000
   2    4     -2949.046      62.555       1.000
   3    5     -2952.525      73.092       1.000
   4    6     -2956.451      72.703       1.000
   5    7     -2964.065      82.675       1.000
   6    8     -2975.350      78.279       1.000
   7    9     -2980.436      82.434       1.000
   8   10     -2984.175      74.287       1.000
   9   11     -2986.331      47.944       1.000
  10   12     -2990.316      53.276       1.000
  11   13     -2993.006      43.640       1.000
  12   14     -2996.014      27.429       1.000
  13   15     -2999.189      31.468       1.000
  14   16     -3003.126      72.078       1.000
  15   17     -3005.451      25.211       1.000
  16   18     -3006.317      36.865       1.000
  17   19     -3007.090      20.120       1.000
  18   20     -3008.051      36.392       1.000
  19   21     -3008.629      26.083       1.000
  20   22     -3009.227      16.238       1.000
  21   23     -3009.592      16.160       1.000
  22   24     -3009.865      16.285       1.000
  23   25     -3010.476      25.412       1.000
  24   26     -3011.114      17.846       1.000
  25   27     -3011.523      10.222       1.000
  26   28     -3011.679      16.450       1.000
  27   29     -3011.791       9.723       1.000
  28   30     -3011.868       7.260       1.000
  29   31     -3012.001      29.122       1.000
  30   32     -3012.289      11.223       1.000
  31   33     -3012.371       6.639       1.000
  32   34     -3012.470       6.931       1.000
  33   35     -3012.522       7.284       1.000
  34   37     -3012.694      15.146       0.173
  35   38     -3012.802      12.109       1.000
  36   40     -3012.859       7.249       0.478
  37   41     -3012.870       5.394       1.000
  38   43     -3012.928       9.498       5.000
  39   44     -3013.145       5.044       1.000
  40   46     -3013.273       8.110       0.361
  41   48     -3013.285       6.324       0.210
  42   50     -3013.292       4.346       0.426
  43   51     -3013.320       3.719       1.000
  44   52     -3013.331       2.586       1.000
  45   53     -3013.355       6.435       1.000
  46   54     -3013.387       6.031       1.000
  47   55     -3013.446      13.019       1.000
  48   56     -3013.522       5.647       1.000
  49   57     -3013.534       2.819       1.000
  50   58     -3013.567       3.959       1.000
  51   59     -3013.653       8.090       1.000
  52   61     -3013.657       6.173       0.363
Final RAS Transform: 
0.97327 -0.001019 -0.0212439 0.408933 
0.015206 1.03214 0.0868268 0.602293 
-0.0127406 -0.0137553 1.01665 0.199678 
0 0 0 1 

Final RAS Transform: 
0.97327 -0.001019 -0.0212439 0.408933 
0.015206 1.03214 0.0868268 0.602293 
-0.0127406 -0.0137553 1.01665 0.199678 
0 0 0 1 


real	0m11.174s
user	0m19.612s
sys	0m0.592s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.677859
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1152
Level     0,  Iter     1:    Energy =   0.1219
Level     0,  Iter     2:    Energy =   0.1270
Level     0,  Iter     3:    Energy =   0.1314
Level     0,  Iter     4:    Energy =   0.1336
Level     0,  Iter     5:    Energy =   0.1350
Level     0,  Iter     6:    Energy =   0.1364
Level     0,  Iter     7:    Energy =   0.1375
Level     0,  Iter     8:    Energy =   0.1383
Level     0,  Iter     9:    Energy =   0.1393
Level     0,  Iter    10:    Energy =   0.1400
Level     0,  Iter    11:    Energy =   0.1404
Level     0,  Iter    12:    Energy =   0.1411
Level     0,  Iter    13:    Energy =   0.1411
Level     0,  Iter    14:    Energy =   0.1420
Level     0,  Iter    15:    Energy =   0.1418
Level     0,  Iter    16:    Energy =   0.1426
Level     0,  Iter    17:    Energy =   0.1423
Level     0,  Iter    18:    Energy =   0.1434
Level     0,  Iter    19:    Energy =   0.1432
Level     0,  Iter    20:    Energy =   0.1437
Level     0,  Iter    21:    Energy =   0.1431
Level     0,  Iter    22:    Energy =   0.1437
Level     0,  Iter    23:    Energy =   0.1434
Level     0,  Iter    24:    Energy =   0.1440
Level     0,  Iter    25:    Energy =   0.1434
Level     0,  Iter    26:    Energy =   0.1442
Level     0,  Iter    27:    Energy =   0.1440
Level     0,  Iter    28:    Energy =   0.1444
Level     0,  Iter    29:    Energy =   0.1436
Level     0,  Iter    30:    Energy =   0.1442
Level     0,  Iter    31:    Energy =   0.1440
Level     0,  Iter    32:    Energy =   0.1445
Level     0,  Iter    33:    Energy =   0.1437
Level     0,  Iter    34:    Energy =   0.1446
Level     0,  Iter    35:    Energy =   0.1446
Level     0,  Iter    36:    Energy =   0.1448
Level     0,  Iter    37:    Energy =   0.1441
Level     0,  Iter    38:    Energy =   0.1446
Level     0,  Iter    39:    Energy =   0.1441
Level     0,  Iter    40:    Energy =   0.1449
Level     0,  Iter    41:    Energy =   0.1449
Level     0,  Iter    42:    Energy =   0.1453
Level     0,  Iter    43:    Energy =   0.1445
Level     0,  Iter    44:    Energy =   0.1452
Level     0,  Iter    45:    Energy =   0.1451
Level     0,  Iter    46:    Energy =   0.1454
Level     0,  Iter    47:    Energy =   0.1446
Level     0,  Iter    48:    Energy =   0.1453
Level     0,  Iter    49:    Energy =   0.1451
Level     0,  Iter    50:    Energy =   0.1455
Level     0,  Iter    51:    Energy =   0.1447
Level     0,  Iter    52:    Energy =   0.1456
Level     0,  Iter    53:    Energy =   0.1455
Level     0,  Iter    54:    Energy =   0.1458
Level     0,  Iter    55:    Energy =   0.1450
Level     0,  Iter    56:    Energy =   0.1456
Level     0,  Iter    57:    Energy =   0.1452
Level     0,  Iter    58:    Energy =   0.1459
Level     0,  Iter    59:    Energy =   0.1452
END OF LEVEL     0    DetJac Range:   0.1701  to   2.0225 
  Avg. Gradient Time  : 0.0086s  34.92% 
  Avg. Gaussian Time  : 0.0121s  49.25% 
  Avg. Iteration Time : 0.0246s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.1008
Level     1,  Iter     1:    Energy =   0.1050
Level     1,  Iter     2:    Energy =   0.1085
Level     1,  Iter     3:    Energy =   0.1116
Level     1,  Iter     4:    Energy =   0.1138
Level     1,  Iter     5:    Energy =   0.1154
Level     1,  Iter     6:    Energy =   0.1170
Level     1,  Iter     7:    Energy =   0.1181
Level     1,  Iter     8:    Energy =   0.1193
Level     1,  Iter     9:    Energy =   0.1206
Level     1,  Iter    10:    Energy =   0.1217
Level     1,  Iter    11:    Energy =   0.1226
Level     1,  Iter    12:    Energy =   0.1233
Level     1,  Iter    13:    Energy =   0.1240
Level     1,  Iter    14:    Energy =   0.1245
Level     1,  Iter    15:    Energy =   0.1250
Level     1,  Iter    16:    Energy =   0.1254
Level     1,  Iter    17:    Energy =   0.1256
Level     1,  Iter    18:    Energy =   0.1257
Level     1,  Iter    19:    Energy =   0.1259
Level     1,  Iter    20:    Energy =   0.1260
Level     1,  Iter    21:    Energy =   0.1263
Level     1,  Iter    22:    Energy =   0.1263
Level     1,  Iter    23:    Energy =   0.1265
Level     1,  Iter    24:    Energy =   0.1266
Level     1,  Iter    25:    Energy =   0.1267
Level     1,  Iter    26:    Energy =   0.1267
Level     1,  Iter    27:    Energy =   0.1269
Level     1,  Iter    28:    Energy =   0.1269
Level     1,  Iter    29:    Energy =   0.1271
Level     1,  Iter    30:    Energy =   0.1271
Level     1,  Iter    31:    Energy =   0.1272
Level     1,  Iter    32:    Energy =   0.1273
Level     1,  Iter    33:    Energy =   0.1274
Level     1,  Iter    34:    Energy =   0.1274
Level     1,  Iter    35:    Energy =   0.1275
Level     1,  Iter    36:    Energy =   0.1275
Level     1,  Iter    37:    Energy =   0.1276
Level     1,  Iter    38:    Energy =   0.1276
Level     1,  Iter    39:    Energy =   0.1277
Level     1,  Iter    40:    Energy =   0.1277
Level     1,  Iter    41:    Energy =   0.1278
Level     1,  Iter    42:    Energy =   0.1278
Level     1,  Iter    43:    Energy =   0.1278
Level     1,  Iter    44:    Energy =   0.1279
Level     1,  Iter    45:    Energy =   0.1279
Level     1,  Iter    46:    Energy =   0.1279
Level     1,  Iter    47:    Energy =   0.1280
Level     1,  Iter    48:    Energy =   0.1279
Level     1,  Iter    49:    Energy =   0.1280
Level     1,  Iter    50:    Energy =   0.1281
Level     1,  Iter    51:    Energy =   0.1281
Level     1,  Iter    52:    Energy =   0.1281
Level     1,  Iter    53:    Energy =   0.1281
Level     1,  Iter    54:    Energy =   0.1281
Level     1,  Iter    55:    Energy =   0.1282
Level     1,  Iter    56:    Energy =   0.1281
Level     1,  Iter    57:    Energy =   0.1282
Level     1,  Iter    58:    Energy =   0.1283
Level     1,  Iter    59:    Energy =   0.1283
END OF LEVEL     1    DetJac Range:   0.1042  to   2.8562 
  Avg. Gradient Time  : 0.0485s  32.55% 
  Avg. Gaussian Time  : 0.0810s  54.37% 
  Avg. Iteration Time : 0.1491s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0651
Level     2,  Iter     1:    Energy =   0.0678
Level     2,  Iter     2:    Energy =   0.0704
Level     2,  Iter     3:    Energy =   0.0727
Level     2,  Iter     4:    Energy =   0.0746
Level     2,  Iter     5:    Energy =   0.0761
Level     2,  Iter     6:    Energy =   0.0774
Level     2,  Iter     7:    Energy =   0.0784
Level     2,  Iter     8:    Energy =   0.0793
Level     2,  Iter     9:    Energy =   0.0801
Level     2,  Iter    10:    Energy =   0.0808
Level     2,  Iter    11:    Energy =   0.0815
Level     2,  Iter    12:    Energy =   0.0820
Level     2,  Iter    13:    Energy =   0.0825
Level     2,  Iter    14:    Energy =   0.0830
Level     2,  Iter    15:    Energy =   0.0834
Level     2,  Iter    16:    Energy =   0.0837
Level     2,  Iter    17:    Energy =   0.0841
Level     2,  Iter    18:    Energy =   0.0845
Level     2,  Iter    19:    Energy =   0.0848
END OF LEVEL     2    DetJac Range:   0.0613  to   3.9625 
  Avg. Gradient Time  : 0.3406s  26.67% 
  Avg. Gaussian Time  : 0.7818s  61.22% 
  Avg. Iteration Time : 1.2770s 

real	0m41.376s
user	1m15.456s
sys	0m2.376s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=31 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=31 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.378846 0.384615
+ echo 'CHUNK 0.378846 0.384615 1'
CHUNK 0.378846 0.384615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.378846 0.384615 1
====================================
         PROGRESS: 0.378846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=006
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 006
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train006
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train006
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right 006 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train006 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=right
+ local tid=006
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train006
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 006 right 0
+ local tid=006
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 006 0
+ set -e
+ local tid=006
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.56944
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3484.75   GNORM= 675.708
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3614.416     347.222       0.001
   2    4     -3660.411     267.346       1.000
   3    5     -3739.565     179.253       1.000
   4    6     -3769.342     130.208       1.000
   5    7     -3815.872     108.070       1.000
   6    8     -3825.157     133.983       1.000
   7    9     -3831.189     139.417       1.000
   8   10     -3834.407      55.712       1.000
   9   11     -3836.395      41.332       1.000
  10   12     -3838.610      60.842       1.000
  11   13     -3844.078      68.983       1.000
  12   14     -3851.585     159.994       1.000
  13   15     -3855.305      77.402       1.000
  14   16     -3857.339      39.404       1.000
  15   17     -3858.923      23.376       1.000
  16   18     -3860.040      47.469       1.000
  17   19     -3861.374      44.939       1.000
  18   20     -3862.960      37.812       1.000
  19   21     -3863.623      24.380       1.000
  20   22     -3864.410      18.878       1.000
  21   23     -3865.163      53.730       1.000
  22   24     -3865.875      27.368       1.000
  23   25     -3866.156      14.658       1.000
  24   26     -3866.469      12.300       1.000
  25   27     -3866.792      26.703       1.000
  26   28     -3866.917      20.097       1.000
  27   29     -3867.009       7.005       1.000
  28   30     -3867.038       6.225       1.000
  29   31     -3867.077       8.254       1.000
  30   32     -3867.120      15.120       1.000
  31   33     -3867.219      10.079       1.000
  32   34     -3867.276       9.257       1.000
  33   35     -3867.333       6.903       1.000
  34   36     -3867.420       5.560       1.000
  35   38     -3867.459       8.630       0.171
  36   40     -3867.471      11.126       0.311
  37   41     -3867.482      14.169       1.000
  38   42     -3867.533       7.210       1.000
  39   43     -3867.546       6.485       1.000
  40   44     -3867.556       3.133       1.000
  41   45     -3867.563       3.012       1.000
  42   46     -3867.565       3.701       1.000
  43   47     -3867.573       2.247       1.000
  44   50     -3867.584       4.229       2.164
  45   51     -3867.587       1.840       1.000
  46   52     -3867.591       2.670       1.000
  47   53     -3867.591       5.045       1.000
  48   54     -3867.597       2.298       1.000
Final RAS Transform: 
0.970076 0.000519541 -0.0040972 0.57154 
0.0215809 1.02149 0.0840189 0.253647 
-0.0159811 -0.00423911 0.984245 0.22774 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2932.26   GNORM= 288.375
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2945.983      67.558       0.000
   2    4     -2947.384      51.044       1.000
   3    5     -2949.215      44.387       1.000
   4    6     -2950.500      37.259       1.000
   5    7     -2951.833      26.187       1.000
   6    8     -2954.691      68.487       1.000
   7    9     -2956.556      50.647       1.000
   8   10     -2957.899      31.027       1.000
   9   11     -2958.275      45.870       1.000
  10   12     -2958.560      19.977       1.000
  11   13     -2958.796      11.849       1.000
  12   14     -2959.659      38.227       1.000
  13   15     -2961.152      74.063       1.000
  14   16     -2963.403      79.341       1.000
  15   18     -2964.315      99.270       0.148
  16   19     -2966.508      44.718       1.000
  17   20     -2967.232      12.176       1.000
  18   21     -2967.370      18.523       1.000
  19   22     -2967.538      14.340       1.000
  20   23     -2967.886      20.406       1.000
  21   24     -2968.496      16.758       1.000
  22   25     -2969.497      17.695       1.000
  23   27     -2969.648      16.250       0.160
  24   28     -2969.832      12.473       1.000
  25   29     -2970.024      19.055       1.000
  26   30     -2970.200      12.385       1.000
  27   31     -2970.355      18.236       1.000
  28   32     -2970.432       8.979       1.000
  29   33     -2970.526       5.196       1.000
  30   34     -2970.585       9.712       1.000
  31   35     -2970.647      10.300       1.000
  32   36     -2970.715       7.171       1.000
  33   37     -2970.798       7.119       1.000
  34   38     -2970.820      37.964       1.000
  35   39     -2970.983      17.043       1.000
  36   40     -2971.106       8.981       1.000
  37   41     -2971.204       7.368       1.000
  38   42     -2971.269      10.133       1.000
  39   43     -2971.320      10.765       1.000
  40   44     -2971.392       8.553       1.000
  41   45     -2971.448       7.472       1.000
  42   46     -2971.489       7.025       1.000
  43   47     -2971.541       4.113       1.000
  44   48     -2971.582       6.362       1.000
  45   49     -2971.657       6.590       1.000
  46   50     -2971.702      19.330       1.000
  47   51     -2971.801       7.405       1.000
  48   52     -2971.825       5.925       1.000
  49   53     -2971.860       8.341       1.000
  50   55     -2971.976      20.362       0.335
  51   56     -2972.097      16.211       1.000
  52   57     -2972.226       9.697       1.000
  53   58     -2972.255       3.197       1.000
  54   59     -2972.281       2.204       1.000
  55   61     -2972.284       3.583       0.249
Final RAS Transform: 
0.994743 0.00963819 0.0209448 0.425691 
-0.000551741 1.01384 0.065517 0.231315 
-0.012065 0.00192202 0.991463 0.297446 
0 0 0 1 

Final RAS Transform: 
0.994743 0.00963819 0.0209448 0.425691 
-0.000551741 1.01384 0.065517 0.231315 
-0.012065 0.00192202 0.991463 0.297446 
0 0 0 1 


real	0m10.560s
user	0m18.448s
sys	0m0.536s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.57395
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1139
Level     0,  Iter     1:    Energy =   0.1203
Level     0,  Iter     2:    Energy =   0.1249
Level     0,  Iter     3:    Energy =   0.1286
Level     0,  Iter     4:    Energy =   0.1312
Level     0,  Iter     5:    Energy =   0.1332
Level     0,  Iter     6:    Energy =   0.1346
Level     0,  Iter     7:    Energy =   0.1360
Level     0,  Iter     8:    Energy =   0.1370
Level     0,  Iter     9:    Energy =   0.1381
Level     0,  Iter    10:    Energy =   0.1388
Level     0,  Iter    11:    Energy =   0.1395
Level     0,  Iter    12:    Energy =   0.1401
Level     0,  Iter    13:    Energy =   0.1407
Level     0,  Iter    14:    Energy =   0.1411
Level     0,  Iter    15:    Energy =   0.1417
Level     0,  Iter    16:    Energy =   0.1420
Level     0,  Iter    17:    Energy =   0.1424
Level     0,  Iter    18:    Energy =   0.1427
Level     0,  Iter    19:    Energy =   0.1432
Level     0,  Iter    20:    Energy =   0.1434
Level     0,  Iter    21:    Energy =   0.1437
Level     0,  Iter    22:    Energy =   0.1439
Level     0,  Iter    23:    Energy =   0.1443
Level     0,  Iter    24:    Energy =   0.1444
Level     0,  Iter    25:    Energy =   0.1445
Level     0,  Iter    26:    Energy =   0.1447
Level     0,  Iter    27:    Energy =   0.1449
Level     0,  Iter    28:    Energy =   0.1450
Level     0,  Iter    29:    Energy =   0.1451
Level     0,  Iter    30:    Energy =   0.1452
Level     0,  Iter    31:    Energy =   0.1455
Level     0,  Iter    32:    Energy =   0.1456
Level     0,  Iter    33:    Energy =   0.1457
Level     0,  Iter    34:    Energy =   0.1458
Level     0,  Iter    35:    Energy =   0.1460
Level     0,  Iter    36:    Energy =   0.1461
Level     0,  Iter    37:    Energy =   0.1462
Level     0,  Iter    38:    Energy =   0.1463
Level     0,  Iter    39:    Energy =   0.1463
Level     0,  Iter    40:    Energy =   0.1464
Level     0,  Iter    41:    Energy =   0.1464
Level     0,  Iter    42:    Energy =   0.1464
Level     0,  Iter    43:    Energy =   0.1464
Level     0,  Iter    44:    Energy =   0.1465
Level     0,  Iter    45:    Energy =   0.1464
Level     0,  Iter    46:    Energy =   0.1465
Level     0,  Iter    47:    Energy =   0.1465
Level     0,  Iter    48:    Energy =   0.1466
Level     0,  Iter    49:    Energy =   0.1465
Level     0,  Iter    50:    Energy =   0.1466
Level     0,  Iter    51:    Energy =   0.1466
Level     0,  Iter    52:    Energy =   0.1466
Level     0,  Iter    53:    Energy =   0.1465
Level     0,  Iter    54:    Energy =   0.1466
Level     0,  Iter    55:    Energy =   0.1466
Level     0,  Iter    56:    Energy =   0.1467
Level     0,  Iter    57:    Energy =   0.1466
Level     0,  Iter    58:    Energy =   0.1466
Level     0,  Iter    59:    Energy =   0.1466
END OF LEVEL     0    DetJac Range:   0.1742  to   1.9058 
  Avg. Gradient Time  : 0.0088s  34.41% 
  Avg. Gaussian Time  : 0.0129s  50.18% 
  Avg. Iteration Time : 0.0256s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.1031
Level     1,  Iter     1:    Energy =   0.1083
Level     1,  Iter     2:    Energy =   0.1124
Level     1,  Iter     3:    Energy =   0.1156
Level     1,  Iter     4:    Energy =   0.1183
Level     1,  Iter     5:    Energy =   0.1201
Level     1,  Iter     6:    Energy =   0.1214
Level     1,  Iter     7:    Energy =   0.1226
Level     1,  Iter     8:    Energy =   0.1237
Level     1,  Iter     9:    Energy =   0.1245
Level     1,  Iter    10:    Energy =   0.1252
Level     1,  Iter    11:    Energy =   0.1260
Level     1,  Iter    12:    Energy =   0.1267
Level     1,  Iter    13:    Energy =   0.1270
Level     1,  Iter    14:    Energy =   0.1274
Level     1,  Iter    15:    Energy =   0.1275
Level     1,  Iter    16:    Energy =   0.1279
Level     1,  Iter    17:    Energy =   0.1280
Level     1,  Iter    18:    Energy =   0.1284
Level     1,  Iter    19:    Energy =   0.1284
Level     1,  Iter    20:    Energy =   0.1287
Level     1,  Iter    21:    Energy =   0.1287
Level     1,  Iter    22:    Energy =   0.1290
Level     1,  Iter    23:    Energy =   0.1290
Level     1,  Iter    24:    Energy =   0.1292
Level     1,  Iter    25:    Energy =   0.1292
Level     1,  Iter    26:    Energy =   0.1294
Level     1,  Iter    27:    Energy =   0.1294
Level     1,  Iter    28:    Energy =   0.1295
Level     1,  Iter    29:    Energy =   0.1295
Level     1,  Iter    30:    Energy =   0.1297
Level     1,  Iter    31:    Energy =   0.1297
Level     1,  Iter    32:    Energy =   0.1298
Level     1,  Iter    33:    Energy =   0.1298
Level     1,  Iter    34:    Energy =   0.1299
Level     1,  Iter    35:    Energy =   0.1299
Level     1,  Iter    36:    Energy =   0.1300
Level     1,  Iter    37:    Energy =   0.1301
Level     1,  Iter    38:    Energy =   0.1301
Level     1,  Iter    39:    Energy =   0.1302
Level     1,  Iter    40:    Energy =   0.1302
Level     1,  Iter    41:    Energy =   0.1303
Level     1,  Iter    42:    Energy =   0.1303
Level     1,  Iter    43:    Energy =   0.1304
Level     1,  Iter    44:    Energy =   0.1304
Level     1,  Iter    45:    Energy =   0.1305
Level     1,  Iter    46:    Energy =   0.1304
Level     1,  Iter    47:    Energy =   0.1306
Level     1,  Iter    48:    Energy =   0.1305
Level     1,  Iter    49:    Energy =   0.1307
Level     1,  Iter    50:    Energy =   0.1306
Level     1,  Iter    51:    Energy =   0.1308
Level     1,  Iter    52:    Energy =   0.1307
Level     1,  Iter    53:    Energy =   0.1308
Level     1,  Iter    54:    Energy =   0.1308
Level     1,  Iter    55:    Energy =   0.1309
Level     1,  Iter    56:    Energy =   0.1308
Level     1,  Iter    57:    Energy =   0.1309
Level     1,  Iter    58:    Energy =   0.1309
Level     1,  Iter    59:    Energy =   0.1310
END OF LEVEL     1    DetJac Range:   0.0817  to   3.4042 
  Avg. Gradient Time  : 0.0486s  32.54% 
  Avg. Gaussian Time  : 0.0813s  54.39% 
  Avg. Iteration Time : 0.1494s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0671
Level     2,  Iter     1:    Energy =   0.0700
Level     2,  Iter     2:    Energy =   0.0721
Level     2,  Iter     3:    Energy =   0.0738
Level     2,  Iter     4:    Energy =   0.0754
Level     2,  Iter     5:    Energy =   0.0769
Level     2,  Iter     6:    Energy =   0.0784
Level     2,  Iter     7:    Energy =   0.0797
Level     2,  Iter     8:    Energy =   0.0807
Level     2,  Iter     9:    Energy =   0.0816
Level     2,  Iter    10:    Energy =   0.0824
Level     2,  Iter    11:    Energy =   0.0830
Level     2,  Iter    12:    Energy =   0.0837
Level     2,  Iter    13:    Energy =   0.0842
Level     2,  Iter    14:    Energy =   0.0847
Level     2,  Iter    15:    Energy =   0.0852
Level     2,  Iter    16:    Energy =   0.0856
Level     2,  Iter    17:    Energy =   0.0861
Level     2,  Iter    18:    Energy =   0.0865
Level     2,  Iter    19:    Energy =   0.0868
END OF LEVEL     2    DetJac Range:   0.0421  to   4.0485 
  Avg. Gradient Time  : 0.3298s  26.68% 
  Avg. Gaussian Time  : 0.7579s  61.31% 
  Avg. Iteration Time : 1.2363s 

real	0m40.504s
user	1m13.756s
sys	0m2.416s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=32 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=32 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.384615 0.390385
+ echo 'CHUNK 0.384615 0.390385 1'
CHUNK 0.384615 0.390385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.384615 0.390385 1
====================================
         PROGRESS: 0.384615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=007
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 007
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train007
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train007
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right 007 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train007 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=right
+ local tid=007
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train007
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 007 right 0
+ local tid=007
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 007 0
+ set -e
+ local tid=007
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.421882
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3216.12   GNORM= 451.176
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3314.122     326.441       0.001
   2    4     -3356.623     192.585       1.000
   3    5     -3385.851     183.343       1.000
   4    6     -3428.303     145.437       1.000
   5    7     -3455.714     115.979       1.000
   6    8     -3486.090      68.389       1.000
   7   10     -3495.748      94.023       0.476
   8   11     -3503.490      51.748       1.000
   9   12     -3507.398      50.241       1.000
  10   13     -3516.856      58.934       1.000
  11   14     -3523.549     114.453       1.000
  12   15     -3532.408      33.735       1.000
  13   16     -3534.805      26.457       1.000
  14   18     -3536.031      20.832       0.210
  15   19     -3537.034      21.642       1.000
  16   20     -3538.400      65.597       1.000
  17   21     -3539.373      37.274       1.000
  18   22     -3539.932      26.021       1.000
  19   23     -3540.496      21.580       1.000
  20   24     -3541.006      55.101       1.000
  21   25     -3541.594      21.052       1.000
  22   26     -3541.783      13.470       1.000
  23   27     -3541.938      13.598       1.000
  24   28     -3542.226      30.531       1.000
  25   29     -3542.716      19.552       1.000
  26   30     -3543.010       7.424       1.000
  27   31     -3543.254      17.016       1.000
  28   32     -3543.387      22.151       1.000
  29   33     -3543.660      19.258       1.000
  30   34     -3543.815       9.809       1.000
  31   35     -3543.964      12.761       1.000
  32   36     -3544.280      11.892       1.000
  33   37     -3544.508      12.109       1.000
  34   39     -3544.575       8.717       0.374
  35   40     -3544.634       4.427       1.000
  36   41     -3544.662       4.970       1.000
  37   42     -3544.770       8.023       1.000
  38   44     -3544.890      15.264       0.457
  39   46     -3544.918       9.290       0.209
  40   47     -3544.955       3.458       1.000
  41   48     -3544.971       2.825       1.000
  42   49     -3544.982       3.460       1.000
  43   50     -3544.988       2.069       1.000
  44   51     -3545.000       3.113       1.000
  45   53     -3545.002       3.238       0.231
  46   55     -3545.002       2.751       0.238
Final RAS Transform: 
0.948819 0.00378237 -0.000561139 0.964697 
0.013884 1.01318 0.088806 0.476616 
-0.00389712 -0.0149102 0.983897 -0.159421 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2772.33   GNORM= 405.667
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2800.088      88.383       0.000
   2    4     -2802.262      64.101       1.000
   3    5     -2804.646      75.870       1.000
   4    6     -2808.504      75.153       1.000
   5    7     -2817.803     109.150       1.000
   6    8     -2826.905     107.616       1.000
   7    9     -2837.708      52.330       1.000
   8   10     -2840.875      77.707       1.000
   9   12     -2842.312      38.379       0.483
  10   13     -2843.031      34.592       1.000
  11   14     -2847.646      29.305       1.000
  12   15     -2850.309      49.008       1.000
  13   16     -2851.769      43.486       1.000
  14   17     -2853.014      30.574       1.000
  15   18     -2854.807      85.267       1.000
  16   19     -2856.555      37.109       1.000
  17   20     -2857.476      26.319       1.000
  18   21     -2858.500      21.487       1.000
  19   22     -2859.040      20.795       1.000
  20   23     -2859.654      16.869       1.000
  21   24     -2860.111      26.199       1.000
  22   25     -2860.552      65.444       1.000
  23   26     -2861.290      18.067       1.000
  24   27     -2861.392       7.564       1.000
  25   28     -2861.433       8.107       1.000
  26   29     -2861.493       9.938       1.000
  27   30     -2861.751      13.851       1.000
  28   31     -2861.903      50.275       1.000
  29   32     -2862.282      21.829       1.000
  30   33     -2862.481      13.577       1.000
  31   34     -2862.536      10.434       1.000
  32   35     -2862.717       8.290       1.000
  33   36     -2862.816      14.453       1.000
  34   37     -2862.883       5.919       1.000
  35   38     -2862.930       8.537       1.000
  36   39     -2863.005       5.461       1.000
  37   40     -2863.091       6.431       1.000
  38   42     -2863.121       6.327       0.374
  39   43     -2863.171      14.093       1.000
  40   44     -2863.240      11.069       1.000
  41   45     -2863.437      22.835       1.000
  42   46     -2863.576       8.908       1.000
  43   47     -2863.585       2.304       1.000
  44   48     -2863.589       1.664       1.000
  45   50     -2863.598       6.956       5.000
  46   51     -2863.601       2.313       1.000
  47   52     -2863.607       1.310       1.000
Final RAS Transform: 
0.969736 -0.0135996 -0.0178274 -0.0107067 
0.00341677 1.02957 0.099935 0.752557 
0.00850924 -0.0101712 1.00406 -0.132843 
0 0 0 1 

Final RAS Transform: 
0.969736 -0.0135996 -0.0178274 -0.0107067 
0.00341677 1.02957 0.099935 0.752557 
0.00850924 -0.0101712 1.00406 -0.132843 
0 0 0 1 


real	0m10.584s
user	0m18.504s
sys	0m0.524s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.429529
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1046
Level     0,  Iter     1:    Energy =   0.1113
Level     0,  Iter     2:    Energy =   0.1161
Level     0,  Iter     3:    Energy =   0.1200
Level     0,  Iter     4:    Energy =   0.1220
Level     0,  Iter     5:    Energy =   0.1240
Level     0,  Iter     6:    Energy =   0.1253
Level     0,  Iter     7:    Energy =   0.1271
Level     0,  Iter     8:    Energy =   0.1280
Level     0,  Iter     9:    Energy =   0.1288
Level     0,  Iter    10:    Energy =   0.1297
Level     0,  Iter    11:    Energy =   0.1308
Level     0,  Iter    12:    Energy =   0.1311
Level     0,  Iter    13:    Energy =   0.1312
Level     0,  Iter    14:    Energy =   0.1318
Level     0,  Iter    15:    Energy =   0.1319
Level     0,  Iter    16:    Energy =   0.1328
Level     0,  Iter    17:    Energy =   0.1336
Level     0,  Iter    18:    Energy =   0.1338
Level     0,  Iter    19:    Energy =   0.1334
Level     0,  Iter    20:    Energy =   0.1339
Level     0,  Iter    21:    Energy =   0.1340
Level     0,  Iter    22:    Energy =   0.1344
Level     0,  Iter    23:    Energy =   0.1341
Level     0,  Iter    24:    Energy =   0.1347
Level     0,  Iter    25:    Energy =   0.1347
Level     0,  Iter    26:    Energy =   0.1350
Level     0,  Iter    27:    Energy =   0.1347
Level     0,  Iter    28:    Energy =   0.1350
Level     0,  Iter    29:    Energy =   0.1348
Level     0,  Iter    30:    Energy =   0.1354
Level     0,  Iter    31:    Energy =   0.1358
Level     0,  Iter    32:    Energy =   0.1357
Level     0,  Iter    33:    Energy =   0.1355
Level     0,  Iter    34:    Energy =   0.1356
Level     0,  Iter    35:    Energy =   0.1354
Level     0,  Iter    36:    Energy =   0.1357
Level     0,  Iter    37:    Energy =   0.1357
Level     0,  Iter    38:    Energy =   0.1359
Level     0,  Iter    39:    Energy =   0.1358
Level     0,  Iter    40:    Energy =   0.1360
Level     0,  Iter    41:    Energy =   0.1358
Level     0,  Iter    42:    Energy =   0.1360
Level     0,  Iter    43:    Energy =   0.1359
Level     0,  Iter    44:    Energy =   0.1362
Level     0,  Iter    45:    Energy =   0.1362
Level     0,  Iter    46:    Energy =   0.1364
Level     0,  Iter    47:    Energy =   0.1362
Level     0,  Iter    48:    Energy =   0.1363
Level     0,  Iter    49:    Energy =   0.1362
Level     0,  Iter    50:    Energy =   0.1364
Level     0,  Iter    51:    Energy =   0.1362
Level     0,  Iter    52:    Energy =   0.1365
Level     0,  Iter    53:    Energy =   0.1364
Level     0,  Iter    54:    Energy =   0.1366
Level     0,  Iter    55:    Energy =   0.1365
Level     0,  Iter    56:    Energy =   0.1367
Level     0,  Iter    57:    Energy =   0.1366
Level     0,  Iter    58:    Energy =   0.1366
Level     0,  Iter    59:    Energy =   0.1365
END OF LEVEL     0    DetJac Range:   0.2250  to   1.8138 
  Avg. Gradient Time  : 0.0086s  34.71% 
  Avg. Gaussian Time  : 0.0123s  49.66% 
  Avg. Iteration Time : 0.0249s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.1012
Level     1,  Iter     1:    Energy =   0.1062
Level     1,  Iter     2:    Energy =   0.1103
Level     1,  Iter     3:    Energy =   0.1136
Level     1,  Iter     4:    Energy =   0.1162
Level     1,  Iter     5:    Energy =   0.1179
Level     1,  Iter     6:    Energy =   0.1195
Level     1,  Iter     7:    Energy =   0.1211
Level     1,  Iter     8:    Energy =   0.1223
Level     1,  Iter     9:    Energy =   0.1233
Level     1,  Iter    10:    Energy =   0.1240
Level     1,  Iter    11:    Energy =   0.1244
Level     1,  Iter    12:    Energy =   0.1247
Level     1,  Iter    13:    Energy =   0.1251
Level     1,  Iter    14:    Energy =   0.1253
Level     1,  Iter    15:    Energy =   0.1257
Level     1,  Iter    16:    Energy =   0.1258
Level     1,  Iter    17:    Energy =   0.1261
Level     1,  Iter    18:    Energy =   0.1261
Level     1,  Iter    19:    Energy =   0.1264
Level     1,  Iter    20:    Energy =   0.1265
Level     1,  Iter    21:    Energy =   0.1268
Level     1,  Iter    22:    Energy =   0.1268
Level     1,  Iter    23:    Energy =   0.1270
Level     1,  Iter    24:    Energy =   0.1271
Level     1,  Iter    25:    Energy =   0.1272
Level     1,  Iter    26:    Energy =   0.1273
Level     1,  Iter    27:    Energy =   0.1274
Level     1,  Iter    28:    Energy =   0.1275
Level     1,  Iter    29:    Energy =   0.1276
Level     1,  Iter    30:    Energy =   0.1277
Level     1,  Iter    31:    Energy =   0.1277
Level     1,  Iter    32:    Energy =   0.1278
Level     1,  Iter    33:    Energy =   0.1279
Level     1,  Iter    34:    Energy =   0.1280
Level     1,  Iter    35:    Energy =   0.1280
Level     1,  Iter    36:    Energy =   0.1281
Level     1,  Iter    37:    Energy =   0.1281
Level     1,  Iter    38:    Energy =   0.1282
Level     1,  Iter    39:    Energy =   0.1282
Level     1,  Iter    40:    Energy =   0.1283
Level     1,  Iter    41:    Energy =   0.1283
Level     1,  Iter    42:    Energy =   0.1283
Level     1,  Iter    43:    Energy =   0.1284
Level     1,  Iter    44:    Energy =   0.1284
Level     1,  Iter    45:    Energy =   0.1284
Level     1,  Iter    46:    Energy =   0.1285
Level     1,  Iter    47:    Energy =   0.1285
Level     1,  Iter    48:    Energy =   0.1286
Level     1,  Iter    49:    Energy =   0.1286
Level     1,  Iter    50:    Energy =   0.1287
Level     1,  Iter    51:    Energy =   0.1287
Level     1,  Iter    52:    Energy =   0.1287
Level     1,  Iter    53:    Energy =   0.1287
Level     1,  Iter    54:    Energy =   0.1288
Level     1,  Iter    55:    Energy =   0.1288
Level     1,  Iter    56:    Energy =   0.1289
Level     1,  Iter    57:    Energy =   0.1289
Level     1,  Iter    58:    Energy =   0.1289
Level     1,  Iter    59:    Energy =   0.1289
END OF LEVEL     1    DetJac Range:   0.1230  to   2.9497 
  Avg. Gradient Time  : 0.0487s  32.70% 
  Avg. Gaussian Time  : 0.0808s  54.26% 
  Avg. Iteration Time : 0.1489s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0674
Level     2,  Iter     1:    Energy =   0.0705
Level     2,  Iter     2:    Energy =   0.0731
Level     2,  Iter     3:    Energy =   0.0752
Level     2,  Iter     4:    Energy =   0.0771
Level     2,  Iter     5:    Energy =   0.0786
Level     2,  Iter     6:    Energy =   0.0798
Level     2,  Iter     7:    Energy =   0.0809
Level     2,  Iter     8:    Energy =   0.0818
Level     2,  Iter     9:    Energy =   0.0826
Level     2,  Iter    10:    Energy =   0.0832
Level     2,  Iter    11:    Energy =   0.0838
Level     2,  Iter    12:    Energy =   0.0844
Level     2,  Iter    13:    Energy =   0.0850
Level     2,  Iter    14:    Energy =   0.0855
Level     2,  Iter    15:    Energy =   0.0860
Level     2,  Iter    16:    Energy =   0.0866
Level     2,  Iter    17:    Energy =   0.0871
Level     2,  Iter    18:    Energy =   0.0877
Level     2,  Iter    19:    Energy =   0.0882
END OF LEVEL     2    DetJac Range:   0.0641  to   3.8613 
  Avg. Gradient Time  : 0.3095s  26.84% 
  Avg. Gaussian Time  : 0.7054s  61.17% 
  Avg. Iteration Time : 1.1532s 

real	0m38.735s
user	1m10.344s
sys	0m2.332s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=33 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=33 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.390385 0.396154
+ echo 'CHUNK 0.390385 0.396154 1'
CHUNK 0.390385 0.396154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.390385 0.396154 1
====================================
         PROGRESS: 0.390385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=008
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 008
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train008
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train008
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right 008 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train008 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=right
+ local tid=008
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train008
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 008 right 0
+ local tid=008
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 008 0
+ set -e
+ local tid=008
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.414324
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2568.57   GNORM= 550.084
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2674.404     261.503       0.001
   2    4     -2711.186     223.943       1.000
   3    5     -2830.688     307.642       1.000
   4    6     -2890.596     144.417       1.000
   5    7     -2917.136     130.680       1.000
   6    8     -2945.788     108.792       1.000
   7    9     -2964.179      96.762       1.000
   8   11     -2970.070      77.345       0.255
   9   12     -2974.985      61.340       1.000
  10   13     -2983.590      73.827       1.000
  11   15     -3006.045     104.587       0.489
  12   16     -3018.481      69.872       1.000
  13   17     -3025.601      64.964       1.000
  14   18     -3030.549      55.313       1.000
  15   19     -3032.732      56.007       1.000
  16   20     -3033.920      24.517       1.000
  17   21     -3034.985      30.176       1.000
  18   22     -3036.588      32.683       1.000
  19   24     -3038.282      19.696       0.453
  20   25     -3039.477      18.051       1.000
  21   26     -3040.506      22.989       1.000
  22   27     -3040.803      13.719       1.000
  23   28     -3040.948       8.117       1.000
  24   29     -3040.960      18.162       1.000
  25   30     -3041.055       7.443       1.000
  26   31     -3041.095       6.859       1.000
  27   32     -3041.213       6.904       1.000
  28   33     -3041.403      15.969       1.000
  29   34     -3041.718      12.919       1.000
  30   35     -3041.965      37.139       1.000
  31   36     -3042.295      23.020       1.000
  32   37     -3042.451      13.532       1.000
  33   38     -3042.496       6.030       1.000
  34   39     -3042.550       4.458       1.000
  35   41     -3042.559       4.002       0.286
  36   42     -3042.607       3.994       1.000
  37   43     -3042.668       5.644       1.000
  38   45     -3042.700       6.709       0.312
  39   47     -3042.715       4.388       0.214
  40   48     -3042.725       4.265       1.000
  41   49     -3042.743       3.675       1.000
  42   50     -3042.748       2.829       1.000
  43   52     -3042.762       5.172       0.455
  44   53     -3042.776       3.359       1.000
  45   54     -3042.787       2.995       1.000
  46   57     -3042.789       2.550       0.106
  47   59     -3042.800       1.809       0.161
Final RAS Transform: 
0.920296 0.0122452 -0.0509751 1.55821 
0.0160296 1.01483 0.110323 0.0214074 
-0.00621464 -0.0223585 0.987841 -0.248559 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2342.24   GNORM= 79.1636
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2348.547      68.526       0.002
   2    4     -2350.567      75.654       1.000
   3    5     -2352.514      51.728       1.000
   4    6     -2361.121      64.486       1.000
   5    7     -2371.256      97.156       1.000
   6    8     -2384.092     143.585       1.000
   7    9     -2399.647     164.408       1.000
   8   11     -2403.207      94.850       0.208
   9   12     -2408.781      44.552       1.000
  10   13     -2410.767      30.029       1.000
  11   14     -2412.336      44.907       1.000
  12   15     -2415.831      61.146       1.000
  13   16     -2423.422      57.869       1.000
  14   18     -2427.110     127.660       0.300
  15   19     -2433.009      58.101       1.000
  16   20     -2436.400      28.403       1.000
  17   21     -2440.891      48.082       1.000
  18   22     -2442.352      30.167       1.000
  19   23     -2443.095      14.929       1.000
  20   24     -2443.642      15.574       1.000
  21   25     -2444.284      20.190       1.000
  22   26     -2445.017      49.695       1.000
  23   27     -2446.009      29.114       1.000
  24   28     -2447.057      21.265       1.000
  25   29     -2447.268      12.874       1.000
  26   30     -2447.593      19.204       1.000
  27   31     -2448.115      20.304       1.000
  28   32     -2448.388      29.255       1.000
  29   33     -2448.783      11.145       1.000
  30   34     -2448.985      12.794       1.000
  31   35     -2449.268      21.829       1.000
  32   36     -2449.843      28.449       1.000
  33   38     -2450.089      37.696       0.426
  34   39     -2450.397      21.467       1.000
  35   40     -2450.624       7.779       1.000
  36   41     -2450.672       6.653       1.000
  37   42     -2450.704       7.980       1.000
  38   43     -2450.837      10.253       1.000
  39   44     -2451.050       6.757       1.000
  40   45     -2451.171      15.728       1.000
  41   46     -2451.331       8.422       1.000
  42   48     -2451.504      12.487       0.407
  43   49     -2451.583       8.714       1.000
  44   50     -2451.642       7.409       1.000
  45   51     -2451.673       5.768       1.000
  46   52     -2451.700       8.311       1.000
  47   53     -2451.710       5.224       1.000
  48   54     -2451.745       4.862       1.000
  49   56     -2451.748       4.720       0.356
  50   57     -2451.818       2.437       1.000
  51   58     -2451.878       4.404       1.000
  52   59     -2451.919       5.423       1.000
  53   60     -2451.956       4.863       1.000
  54   61     -2452.034       7.458       1.000
Final RAS Transform: 
0.986624 0.0127097 -0.0346436 0.26885 
0.0176034 1.02214 0.110101 0.183932 
-0.00913405 -0.0178255 1.00641 0.0214762 
0 0 0 1 

Final RAS Transform: 
0.986624 0.0127097 -0.0346436 0.26885 
0.0176034 1.02214 0.110101 0.183932 
-0.00913405 -0.0178255 1.00641 0.0214762 
0 0 0 1 


real	0m10.492s
user	0m18.464s
sys	0m0.420s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.421228
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0884
Level     0,  Iter     1:    Energy =   0.0944
Level     0,  Iter     2:    Energy =   0.0988
Level     0,  Iter     3:    Energy =   0.1014
Level     0,  Iter     4:    Energy =   0.1034
Level     0,  Iter     5:    Energy =   0.1049
Level     0,  Iter     6:    Energy =   0.1062
Level     0,  Iter     7:    Energy =   0.1071
Level     0,  Iter     8:    Energy =   0.1080
Level     0,  Iter     9:    Energy =   0.1086
Level     0,  Iter    10:    Energy =   0.1093
Level     0,  Iter    11:    Energy =   0.1098
Level     0,  Iter    12:    Energy =   0.1103
Level     0,  Iter    13:    Energy =   0.1106
Level     0,  Iter    14:    Energy =   0.1111
Level     0,  Iter    15:    Energy =   0.1112
Level     0,  Iter    16:    Energy =   0.1117
Level     0,  Iter    17:    Energy =   0.1118
Level     0,  Iter    18:    Energy =   0.1122
Level     0,  Iter    19:    Energy =   0.1123
Level     0,  Iter    20:    Energy =   0.1127
Level     0,  Iter    21:    Energy =   0.1126
Level     0,  Iter    22:    Energy =   0.1130
Level     0,  Iter    23:    Energy =   0.1130
Level     0,  Iter    24:    Energy =   0.1134
Level     0,  Iter    25:    Energy =   0.1134
Level     0,  Iter    26:    Energy =   0.1137
Level     0,  Iter    27:    Energy =   0.1137
Level     0,  Iter    28:    Energy =   0.1140
Level     0,  Iter    29:    Energy =   0.1139
Level     0,  Iter    30:    Energy =   0.1143
Level     0,  Iter    31:    Energy =   0.1143
Level     0,  Iter    32:    Energy =   0.1146
Level     0,  Iter    33:    Energy =   0.1147
Level     0,  Iter    34:    Energy =   0.1150
Level     0,  Iter    35:    Energy =   0.1150
Level     0,  Iter    36:    Energy =   0.1153
Level     0,  Iter    37:    Energy =   0.1152
Level     0,  Iter    38:    Energy =   0.1155
Level     0,  Iter    39:    Energy =   0.1154
Level     0,  Iter    40:    Energy =   0.1157
Level     0,  Iter    41:    Energy =   0.1155
Level     0,  Iter    42:    Energy =   0.1158
Level     0,  Iter    43:    Energy =   0.1156
Level     0,  Iter    44:    Energy =   0.1159
Level     0,  Iter    45:    Energy =   0.1157
Level     0,  Iter    46:    Energy =   0.1160
Level     0,  Iter    47:    Energy =   0.1159
Level     0,  Iter    48:    Energy =   0.1161
Level     0,  Iter    49:    Energy =   0.1159
Level     0,  Iter    50:    Energy =   0.1161
Level     0,  Iter    51:    Energy =   0.1160
Level     0,  Iter    52:    Energy =   0.1162
Level     0,  Iter    53:    Energy =   0.1162
Level     0,  Iter    54:    Energy =   0.1164
Level     0,  Iter    55:    Energy =   0.1163
Level     0,  Iter    56:    Energy =   0.1165
Level     0,  Iter    57:    Energy =   0.1164
Level     0,  Iter    58:    Energy =   0.1166
Level     0,  Iter    59:    Energy =   0.1166
END OF LEVEL     0    DetJac Range:   0.2744  to   2.0009 
  Avg. Gradient Time  : 0.0076s  34.64% 
  Avg. Gaussian Time  : 0.0109s  49.70% 
  Avg. Iteration Time : 0.0219s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0845
Level     1,  Iter     1:    Energy =   0.0886
Level     1,  Iter     2:    Energy =   0.0921
Level     1,  Iter     3:    Energy =   0.0949
Level     1,  Iter     4:    Energy =   0.0970
Level     1,  Iter     5:    Energy =   0.0988
Level     1,  Iter     6:    Energy =   0.1003
Level     1,  Iter     7:    Energy =   0.1017
Level     1,  Iter     8:    Energy =   0.1029
Level     1,  Iter     9:    Energy =   0.1040
Level     1,  Iter    10:    Energy =   0.1050
Level     1,  Iter    11:    Energy =   0.1058
Level     1,  Iter    12:    Energy =   0.1065
Level     1,  Iter    13:    Energy =   0.1070
Level     1,  Iter    14:    Energy =   0.1075
Level     1,  Iter    15:    Energy =   0.1079
Level     1,  Iter    16:    Energy =   0.1083
Level     1,  Iter    17:    Energy =   0.1086
Level     1,  Iter    18:    Energy =   0.1089
Level     1,  Iter    19:    Energy =   0.1090
Level     1,  Iter    20:    Energy =   0.1093
Level     1,  Iter    21:    Energy =   0.1095
Level     1,  Iter    22:    Energy =   0.1097
Level     1,  Iter    23:    Energy =   0.1098
Level     1,  Iter    24:    Energy =   0.1100
Level     1,  Iter    25:    Energy =   0.1101
Level     1,  Iter    26:    Energy =   0.1103
Level     1,  Iter    27:    Energy =   0.1103
Level     1,  Iter    28:    Energy =   0.1105
Level     1,  Iter    29:    Energy =   0.1106
Level     1,  Iter    30:    Energy =   0.1108
Level     1,  Iter    31:    Energy =   0.1107
Level     1,  Iter    32:    Energy =   0.1109
Level     1,  Iter    33:    Energy =   0.1110
Level     1,  Iter    34:    Energy =   0.1112
Level     1,  Iter    35:    Energy =   0.1111
Level     1,  Iter    36:    Energy =   0.1113
Level     1,  Iter    37:    Energy =   0.1114
Level     1,  Iter    38:    Energy =   0.1116
Level     1,  Iter    39:    Energy =   0.1115
Level     1,  Iter    40:    Energy =   0.1116
Level     1,  Iter    41:    Energy =   0.1117
Level     1,  Iter    42:    Energy =   0.1119
Level     1,  Iter    43:    Energy =   0.1117
Level     1,  Iter    44:    Energy =   0.1119
Level     1,  Iter    45:    Energy =   0.1120
Level     1,  Iter    46:    Energy =   0.1121
Level     1,  Iter    47:    Energy =   0.1120
Level     1,  Iter    48:    Energy =   0.1122
Level     1,  Iter    49:    Energy =   0.1123
Level     1,  Iter    50:    Energy =   0.1124
Level     1,  Iter    51:    Energy =   0.1122
Level     1,  Iter    52:    Energy =   0.1124
Level     1,  Iter    53:    Energy =   0.1125
Level     1,  Iter    54:    Energy =   0.1125
Level     1,  Iter    55:    Energy =   0.1124
Level     1,  Iter    56:    Energy =   0.1125
Level     1,  Iter    57:    Energy =   0.1126
Level     1,  Iter    58:    Energy =   0.1127
Level     1,  Iter    59:    Energy =   0.1125
END OF LEVEL     1    DetJac Range:   0.0830  to   3.5455 
  Avg. Gradient Time  : 0.0429s  32.79% 
  Avg. Gaussian Time  : 0.0710s  54.33% 
  Avg. Iteration Time : 0.1308s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0589
Level     2,  Iter     1:    Energy =   0.0614
Level     2,  Iter     2:    Energy =   0.0638
Level     2,  Iter     3:    Energy =   0.0657
Level     2,  Iter     4:    Energy =   0.0674
Level     2,  Iter     5:    Energy =   0.0690
Level     2,  Iter     6:    Energy =   0.0703
Level     2,  Iter     7:    Energy =   0.0715
Level     2,  Iter     8:    Energy =   0.0725
Level     2,  Iter     9:    Energy =   0.0734
Level     2,  Iter    10:    Energy =   0.0741
Level     2,  Iter    11:    Energy =   0.0748
Level     2,  Iter    12:    Energy =   0.0754
Level     2,  Iter    13:    Energy =   0.0759
Level     2,  Iter    14:    Energy =   0.0765
Level     2,  Iter    15:    Energy =   0.0769
Level     2,  Iter    16:    Energy =   0.0773
Level     2,  Iter    17:    Energy =   0.0777
Level     2,  Iter    18:    Energy =   0.0780
Level     2,  Iter    19:    Energy =   0.0784
END OF LEVEL     2    DetJac Range:   0.0332  to   3.8811 
  Avg. Gradient Time  : 0.3069s  27.00% 
  Avg. Gaussian Time  : 0.6932s  60.98% 
  Avg. Iteration Time : 1.1367s 

real	0m36.828s
user	1m6.852s
sys	0m2.216s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=34 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=34 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.396154 0.401923
+ echo 'CHUNK 0.396154 0.401923 1'
CHUNK 0.396154 0.401923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.396154 0.401923 1
====================================
         PROGRESS: 0.396154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=009
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 009
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train009
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train009
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right 009 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train009 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=right
+ local tid=009
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train009
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 009 right 0
+ local tid=009
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 009 0
+ set -e
+ local tid=009
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.777078
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3810.64   GNORM= 496.17
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -3925.422     557.498       0.002
   2    3     -4000.526     327.172       1.000
   3    4     -4021.150     124.798       1.000
   4    5     -4031.689     102.382       1.000
   5    6     -4058.349     147.642       1.000
   6    7     -4081.295     106.350       1.000
   7    8     -4098.861     117.995       1.000
   8    9     -4124.622      95.838       1.000
   9   10     -4137.380      58.429       1.000
  10   11     -4142.732     125.717       1.000
  11   12     -4147.939      73.262       1.000
  12   13     -4150.405      56.328       1.000
  13   14     -4151.193      51.847       1.000
  14   15     -4153.135      19.395       1.000
  15   16     -4153.757      44.416       1.000
  16   17     -4154.282      19.852       1.000
  17   18     -4154.703      12.251       1.000
  18   20     -4154.794      19.378       0.443
  19   21     -4154.893      17.267       1.000
  20   22     -4155.201       8.929       1.000
  21   24     -4155.296      15.550       0.462
  22   25     -4155.350      11.825       1.000
  23   26     -4155.405       7.056       1.000
  24   27     -4155.431       9.720       1.000
  25   28     -4155.458       6.893       1.000
  26   29     -4155.497      12.158       1.000
  27   30     -4155.529       5.044       1.000
  28   31     -4155.556       3.864       1.000
  29   32     -4155.583       5.132       1.000
  30   33     -4155.593       6.167       1.000
  31   34     -4155.598       7.217       1.000
  32   36     -4155.610       4.282       0.480
  33   37     -4155.615       2.029       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.957514 0.0141822 0.01539 1.03038 
0.0173512 1.02001 0.0543286 0.241243 
0.0234664 -0.014595 0.994436 -0.286024 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3044.75   GNORM= 120.686
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3047.311      60.886       0.000
   2    4     -3048.492      59.921       1.000
   3    5     -3051.629     113.321       1.000
   4    6     -3056.372      47.642       1.000
   5    7     -3059.946      43.203       1.000
   6    8     -3067.467     114.300       1.000
   7    9     -3074.786     104.539       1.000
   8   10     -3078.711     227.359       1.000
   9   11     -3085.872      89.602       1.000
  10   12     -3088.736      43.569       1.000
  11   13     -3089.699      52.422       1.000
  12   14     -3093.624      94.143       1.000
  13   15     -3096.492      76.129       1.000
  14   16     -3098.336      23.385       1.000
  15   17     -3098.680      21.120       1.000
  16   19     -3099.139      22.768       0.457
  17   20     -3099.406      14.744       1.000
  18   21     -3099.729      16.376       1.000
  19   22     -3100.529      28.713       1.000
  20   23     -3101.497      34.198       1.000
  21   25     -3101.664      22.090       0.178
  22   26     -3101.918      11.181       1.000
  23   27     -3102.025       8.114       1.000
  24   29     -3102.192      13.537       0.516
  25   30     -3102.383      14.390       1.000
  26   32     -3102.906      13.624       0.519
  27   34     -3102.973      13.178       0.221
  28   35     -3103.032      11.627       1.000
  29   36     -3103.231      13.575       1.000
  30   37     -3103.391       9.686       1.000
  31   38     -3103.471       6.395       1.000
  32   39     -3103.521       8.662       1.000
  33   41     -3103.543       7.120       0.240
  34   42     -3103.544       6.853       1.000
  35   43     -3103.567       4.194       1.000
Final RAS Transform: 
0.981729 0.0061772 -0.00134621 0.240815 
0.0120636 1.01965 0.0615126 0.293839 
3.11735e-05 -0.016802 0.988077 0.0962204 
0 0 0 1 

Final RAS Transform: 
0.981729 0.0061772 -0.00134621 0.240815 
0.0120636 1.01965 0.0615126 0.293839 
3.11735e-05 -0.016802 0.988077 0.0962204 
0 0 0 1 


real	0m10.303s
user	0m18.140s
sys	0m0.484s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.776156
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1233
Level     0,  Iter     1:    Energy =   0.1298
Level     0,  Iter     2:    Energy =   0.1364
Level     0,  Iter     3:    Energy =   0.1415
Level     0,  Iter     4:    Energy =   0.1441
Level     0,  Iter     5:    Energy =   0.1460
Level     0,  Iter     6:    Energy =   0.1474
Level     0,  Iter     7:    Energy =   0.1491
Level     0,  Iter     8:    Energy =   0.1501
Level     0,  Iter     9:    Energy =   0.1518
Level     0,  Iter    10:    Energy =   0.1521
Level     0,  Iter    11:    Energy =   0.1519
Level     0,  Iter    12:    Energy =   0.1521
Level     0,  Iter    13:    Energy =   0.1520
Level     0,  Iter    14:    Energy =   0.1525
Level     0,  Iter    15:    Energy =   0.1529
Level     0,  Iter    16:    Energy =   0.1534
Level     0,  Iter    17:    Energy =   0.1533
Level     0,  Iter    18:    Energy =   0.1538
Level     0,  Iter    19:    Energy =   0.1542
Level     0,  Iter    20:    Energy =   0.1542
Level     0,  Iter    21:    Energy =   0.1536
Level     0,  Iter    22:    Energy =   0.1539
Level     0,  Iter    23:    Energy =   0.1535
Level     0,  Iter    24:    Energy =   0.1544
Level     0,  Iter    25:    Energy =   0.1549
Level     0,  Iter    26:    Energy =   0.1547
Level     0,  Iter    27:    Energy =   0.1543
Level     0,  Iter    28:    Energy =   0.1544
Level     0,  Iter    29:    Energy =   0.1538
Level     0,  Iter    30:    Energy =   0.1543
Level     0,  Iter    31:    Energy =   0.1546
Level     0,  Iter    32:    Energy =   0.1549
Level     0,  Iter    33:    Energy =   0.1542
Level     0,  Iter    34:    Energy =   0.1548
Level     0,  Iter    35:    Energy =   0.1551
Level     0,  Iter    36:    Energy =   0.1553
Level     0,  Iter    37:    Energy =   0.1546
Level     0,  Iter    38:    Energy =   0.1550
Level     0,  Iter    39:    Energy =   0.1549
Level     0,  Iter    40:    Energy =   0.1554
Level     0,  Iter    41:    Energy =   0.1553
Level     0,  Iter    42:    Energy =   0.1557
Level     0,  Iter    43:    Energy =   0.1553
Level     0,  Iter    44:    Energy =   0.1559
Level     0,  Iter    45:    Energy =   0.1560
Level     0,  Iter    46:    Energy =   0.1560
Level     0,  Iter    47:    Energy =   0.1553
Level     0,  Iter    48:    Energy =   0.1555
Level     0,  Iter    49:    Energy =   0.1551
Level     0,  Iter    50:    Energy =   0.1558
Level     0,  Iter    51:    Energy =   0.1565
Level     0,  Iter    52:    Energy =   0.1561
Level     0,  Iter    53:    Energy =   0.1556
Level     0,  Iter    54:    Energy =   0.1556
Level     0,  Iter    55:    Energy =   0.1550
Level     0,  Iter    56:    Energy =   0.1553
Level     0,  Iter    57:    Energy =   0.1554
Level     0,  Iter    58:    Energy =   0.1558
Level     0,  Iter    59:    Energy =   0.1552
END OF LEVEL     0    DetJac Range:   0.2189  to   2.0863 
  Avg. Gradient Time  : 0.0086s  34.93% 
  Avg. Gaussian Time  : 0.0121s  49.20% 
  Avg. Iteration Time : 0.0246s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.1074
Level     1,  Iter     1:    Energy =   0.1116
Level     1,  Iter     2:    Energy =   0.1151
Level     1,  Iter     3:    Energy =   0.1176
Level     1,  Iter     4:    Energy =   0.1196
Level     1,  Iter     5:    Energy =   0.1215
Level     1,  Iter     6:    Energy =   0.1232
Level     1,  Iter     7:    Energy =   0.1249
Level     1,  Iter     8:    Energy =   0.1262
Level     1,  Iter     9:    Energy =   0.1272
Level     1,  Iter    10:    Energy =   0.1280
Level     1,  Iter    11:    Energy =   0.1287
Level     1,  Iter    12:    Energy =   0.1293
Level     1,  Iter    13:    Energy =   0.1297
Level     1,  Iter    14:    Energy =   0.1301
Level     1,  Iter    15:    Energy =   0.1305
Level     1,  Iter    16:    Energy =   0.1308
Level     1,  Iter    17:    Energy =   0.1311
Level     1,  Iter    18:    Energy =   0.1314
Level     1,  Iter    19:    Energy =   0.1314
Level     1,  Iter    20:    Energy =   0.1317
Level     1,  Iter    21:    Energy =   0.1317
Level     1,  Iter    22:    Energy =   0.1319
Level     1,  Iter    23:    Energy =   0.1319
Level     1,  Iter    24:    Energy =   0.1322
Level     1,  Iter    25:    Energy =   0.1322
Level     1,  Iter    26:    Energy =   0.1324
Level     1,  Iter    27:    Energy =   0.1324
Level     1,  Iter    28:    Energy =   0.1326
Level     1,  Iter    29:    Energy =   0.1326
Level     1,  Iter    30:    Energy =   0.1328
Level     1,  Iter    31:    Energy =   0.1327
Level     1,  Iter    32:    Energy =   0.1329
Level     1,  Iter    33:    Energy =   0.1329
Level     1,  Iter    34:    Energy =   0.1330
Level     1,  Iter    35:    Energy =   0.1330
Level     1,  Iter    36:    Energy =   0.1331
Level     1,  Iter    37:    Energy =   0.1331
Level     1,  Iter    38:    Energy =   0.1332
Level     1,  Iter    39:    Energy =   0.1331
Level     1,  Iter    40:    Energy =   0.1333
Level     1,  Iter    41:    Energy =   0.1332
Level     1,  Iter    42:    Energy =   0.1333
Level     1,  Iter    43:    Energy =   0.1333
Level     1,  Iter    44:    Energy =   0.1334
Level     1,  Iter    45:    Energy =   0.1333
Level     1,  Iter    46:    Energy =   0.1334
Level     1,  Iter    47:    Energy =   0.1334
Level     1,  Iter    48:    Energy =   0.1335
Level     1,  Iter    49:    Energy =   0.1334
Level     1,  Iter    50:    Energy =   0.1335
Level     1,  Iter    51:    Energy =   0.1335
Level     1,  Iter    52:    Energy =   0.1336
Level     1,  Iter    53:    Energy =   0.1335
Level     1,  Iter    54:    Energy =   0.1336
Level     1,  Iter    55:    Energy =   0.1335
Level     1,  Iter    56:    Energy =   0.1336
Level     1,  Iter    57:    Energy =   0.1336
Level     1,  Iter    58:    Energy =   0.1337
Level     1,  Iter    59:    Energy =   0.1336
END OF LEVEL     1    DetJac Range:   0.1035  to   3.6009 
  Avg. Gradient Time  : 0.0485s  32.57% 
  Avg. Gaussian Time  : 0.0810s  54.34% 
  Avg. Iteration Time : 0.1490s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0665
Level     2,  Iter     1:    Energy =   0.0693
Level     2,  Iter     2:    Energy =   0.0719
Level     2,  Iter     3:    Energy =   0.0741
Level     2,  Iter     4:    Energy =   0.0763
Level     2,  Iter     5:    Energy =   0.0779
Level     2,  Iter     6:    Energy =   0.0793
Level     2,  Iter     7:    Energy =   0.0805
Level     2,  Iter     8:    Energy =   0.0815
Level     2,  Iter     9:    Energy =   0.0823
Level     2,  Iter    10:    Energy =   0.0832
Level     2,  Iter    11:    Energy =   0.0840
Level     2,  Iter    12:    Energy =   0.0847
Level     2,  Iter    13:    Energy =   0.0855
Level     2,  Iter    14:    Energy =   0.0862
Level     2,  Iter    15:    Energy =   0.0868
Level     2,  Iter    16:    Energy =   0.0874
Level     2,  Iter    17:    Energy =   0.0878
Level     2,  Iter    18:    Energy =   0.0881
Level     2,  Iter    19:    Energy =   0.0885
END OF LEVEL     2    DetJac Range:   0.0770  to   5.4346 
  Avg. Gradient Time  : 0.3089s  27.51% 
  Avg. Gaussian Time  : 0.6752s  60.14% 
  Avg. Iteration Time : 1.1227s 

real	0m38.224s
user	1m9.292s
sys	0m2.320s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=35 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=35 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.401923 0.407692
+ echo 'CHUNK 0.401923 0.407692 1'
CHUNK 0.401923 0.407692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.401923 0.407692 1
====================================
         PROGRESS: 0.401923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=010
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 010
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train010
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train010
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right 010 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train010 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=right
+ local tid=010
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train010
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 010 right 0
+ local tid=010
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 010 0
+ set -e
+ local tid=010
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.482932
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3622.21   GNORM= 519.636
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3741.675     357.596       0.001
   2    4     -3787.702     200.341       1.000
   3    5     -3818.265     171.091       1.000
   4    6     -3859.347     100.634       1.000
   5    7     -3879.342     120.199       1.000
   6    8     -3895.696      81.025       1.000
   7    9     -3904.166      69.120       1.000
   8   10     -3910.115     131.647       1.000
   9   11     -3915.514      56.682       1.000
  10   12     -3917.050      47.198       1.000
  11   13     -3924.225      41.230       1.000
  12   15     -3925.423      34.865       0.380
  13   16     -3926.259      13.660       1.000
  14   17     -3926.439      10.894       1.000
  15   18     -3926.688      10.736       1.000
  16   19     -3927.289      30.809       1.000
  17   20     -3927.700      15.011       1.000
  18   21     -3927.791       9.572       1.000
  19   22     -3927.865      15.590       1.000
  20   23     -3927.903       5.992       1.000
  21   24     -3927.948       7.984       1.000
  22   25     -3927.977       6.890       1.000
  23   26     -3928.022       8.972       1.000
  24   27     -3928.106       6.786       1.000
  25   28     -3928.200       5.244       1.000
  26   29     -3928.244       3.878       1.000
  27   31     -3928.282       7.014       0.481
  28   32     -3928.288       5.573       1.000
  29   33     -3928.301       2.214       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.975535 0.0114165 0.0151797 0.587885 
-0.0105385 1.01052 0.0631811 0.825182 
-0.000353764 -0.0204972 0.996694 -0.278999 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3073.15   GNORM= 140.124
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3079.888     102.293       0.001
   2    4     -3083.820      58.658       1.000
   3    5     -3086.186      35.066       1.000
   4    6     -3088.627      72.794       1.000
   5    8     -3100.018      60.138       5.000
   6    9     -3118.878      21.453       1.000
   7   11     -3119.367      29.338       0.266
   8   12     -3120.468      27.233       1.000
   9   13     -3123.455      27.455       1.000
  10   15     -3123.673      20.934       0.235
  11   16     -3123.804       9.641       1.000
  12   18     -3124.052      10.955       5.000
  13   19     -3124.349      18.548       1.000
  14   20     -3124.520      23.394       1.000
  15   21     -3124.638      13.578       1.000
  16   22     -3124.725       7.429       1.000
  17   23     -3124.757       7.453       1.000
  18   24     -3124.855      18.211       1.000
  19   25     -3124.967      10.657       1.000
  20   26     -3125.057       7.037       1.000
  21   27     -3125.095       7.704       1.000
  22   28     -3125.142       7.183       1.000
  23   29     -3125.372       8.933       1.000
  24   31     -3125.410      13.061       0.130
  25   32     -3125.497       8.043       1.000
  26   33     -3125.650       6.586       1.000
  27   35     -3125.698       5.866       0.500
  28   36     -3125.730       4.396       1.000
  29   37     -3125.785       7.651       1.000
  30   38     -3125.860       6.365       1.000
  31   39     -3125.885       7.083       1.000
  32   40     -3125.908      16.526       1.000
  33   41     -3125.962       2.913       1.000
  34   42     -3125.970       3.037       1.000
  35   43     -3125.983       3.548       1.000
  36   45     -3125.992       7.480       0.176
  37   46     -3126.043       6.532       1.000
  38   47     -3126.114       6.366       1.000
  39   48     -3126.174       7.534       1.000
  40   50     -3126.205       4.587       0.397
Final RAS Transform: 
0.997292 0.0027269 0.00566873 -0.027262 
-0.0222354 1.01234 0.0584853 0.851286 
0.00844121 -0.0098787 1.01863 0.000861051 
0 0 0 1 

Final RAS Transform: 
0.997292 0.0027269 0.00566873 -0.027262 
-0.0222354 1.01234 0.0584853 0.851286 
0.00844121 -0.0098787 1.01863 0.000861051 
0 0 0 1 


real	0m10.429s
user	0m18.276s
sys	0m0.456s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.489818
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1162
Level     0,  Iter     1:    Energy =   0.1235
Level     0,  Iter     2:    Energy =   0.1290
Level     0,  Iter     3:    Energy =   0.1336
Level     0,  Iter     4:    Energy =   0.1363
Level     0,  Iter     5:    Energy =   0.1375
Level     0,  Iter     6:    Energy =   0.1390
Level     0,  Iter     7:    Energy =   0.1396
Level     0,  Iter     8:    Energy =   0.1405
Level     0,  Iter     9:    Energy =   0.1408
Level     0,  Iter    10:    Energy =   0.1415
Level     0,  Iter    11:    Energy =   0.1417
Level     0,  Iter    12:    Energy =   0.1423
Level     0,  Iter    13:    Energy =   0.1423
Level     0,  Iter    14:    Energy =   0.1428
Level     0,  Iter    15:    Energy =   0.1428
Level     0,  Iter    16:    Energy =   0.1433
Level     0,  Iter    17:    Energy =   0.1432
Level     0,  Iter    18:    Energy =   0.1437
Level     0,  Iter    19:    Energy =   0.1436
Level     0,  Iter    20:    Energy =   0.1441
Level     0,  Iter    21:    Energy =   0.1439
Level     0,  Iter    22:    Energy =   0.1444
Level     0,  Iter    23:    Energy =   0.1443
Level     0,  Iter    24:    Energy =   0.1447
Level     0,  Iter    25:    Energy =   0.1444
Level     0,  Iter    26:    Energy =   0.1449
Level     0,  Iter    27:    Energy =   0.1447
Level     0,  Iter    28:    Energy =   0.1452
Level     0,  Iter    29:    Energy =   0.1449
Level     0,  Iter    30:    Energy =   0.1452
Level     0,  Iter    31:    Energy =   0.1450
Level     0,  Iter    32:    Energy =   0.1455
Level     0,  Iter    33:    Energy =   0.1452
Level     0,  Iter    34:    Energy =   0.1457
Level     0,  Iter    35:    Energy =   0.1454
Level     0,  Iter    36:    Energy =   0.1458
Level     0,  Iter    37:    Energy =   0.1453
Level     0,  Iter    38:    Energy =   0.1458
Level     0,  Iter    39:    Energy =   0.1456
Level     0,  Iter    40:    Energy =   0.1459
Level     0,  Iter    41:    Energy =   0.1454
Level     0,  Iter    42:    Energy =   0.1457
Level     0,  Iter    43:    Energy =   0.1454
Level     0,  Iter    44:    Energy =   0.1459
Level     0,  Iter    45:    Energy =   0.1457
Level     0,  Iter    46:    Energy =   0.1460
Level     0,  Iter    47:    Energy =   0.1455
Level     0,  Iter    48:    Energy =   0.1459
Level     0,  Iter    49:    Energy =   0.1456
Level     0,  Iter    50:    Energy =   0.1461
Level     0,  Iter    51:    Energy =   0.1457
Level     0,  Iter    52:    Energy =   0.1461
Level     0,  Iter    53:    Energy =   0.1459
Level     0,  Iter    54:    Energy =   0.1462
Level     0,  Iter    55:    Energy =   0.1456
Level     0,  Iter    56:    Energy =   0.1460
Level     0,  Iter    57:    Energy =   0.1457
Level     0,  Iter    58:    Energy =   0.1461
Level     0,  Iter    59:    Energy =   0.1458
END OF LEVEL     0    DetJac Range:   0.2675  to   2.5315 
  Avg. Gradient Time  : 0.0076s  34.82% 
  Avg. Gaussian Time  : 0.0107s  49.32% 
  Avg. Iteration Time : 0.0218s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.1047
Level     1,  Iter     1:    Energy =   0.1104
Level     1,  Iter     2:    Energy =   0.1151
Level     1,  Iter     3:    Energy =   0.1189
Level     1,  Iter     4:    Energy =   0.1220
Level     1,  Iter     5:    Energy =   0.1242
Level     1,  Iter     6:    Energy =   0.1262
Level     1,  Iter     7:    Energy =   0.1278
Level     1,  Iter     8:    Energy =   0.1291
Level     1,  Iter     9:    Energy =   0.1299
Level     1,  Iter    10:    Energy =   0.1305
Level     1,  Iter    11:    Energy =   0.1308
Level     1,  Iter    12:    Energy =   0.1313
Level     1,  Iter    13:    Energy =   0.1315
Level     1,  Iter    14:    Energy =   0.1319
Level     1,  Iter    15:    Energy =   0.1320
Level     1,  Iter    16:    Energy =   0.1323
Level     1,  Iter    17:    Energy =   0.1325
Level     1,  Iter    18:    Energy =   0.1327
Level     1,  Iter    19:    Energy =   0.1328
Level     1,  Iter    20:    Energy =   0.1330
Level     1,  Iter    21:    Energy =   0.1331
Level     1,  Iter    22:    Energy =   0.1333
Level     1,  Iter    23:    Energy =   0.1333
Level     1,  Iter    24:    Energy =   0.1335
Level     1,  Iter    25:    Energy =   0.1336
Level     1,  Iter    26:    Energy =   0.1337
Level     1,  Iter    27:    Energy =   0.1338
Level     1,  Iter    28:    Energy =   0.1339
Level     1,  Iter    29:    Energy =   0.1340
Level     1,  Iter    30:    Energy =   0.1341
Level     1,  Iter    31:    Energy =   0.1342
Level     1,  Iter    32:    Energy =   0.1342
Level     1,  Iter    33:    Energy =   0.1343
Level     1,  Iter    34:    Energy =   0.1343
Level     1,  Iter    35:    Energy =   0.1344
Level     1,  Iter    36:    Energy =   0.1344
Level     1,  Iter    37:    Energy =   0.1344
Level     1,  Iter    38:    Energy =   0.1345
Level     1,  Iter    39:    Energy =   0.1345
Level     1,  Iter    40:    Energy =   0.1345
Level     1,  Iter    41:    Energy =   0.1345
Level     1,  Iter    42:    Energy =   0.1346
Level     1,  Iter    43:    Energy =   0.1346
Level     1,  Iter    44:    Energy =   0.1346
Level     1,  Iter    45:    Energy =   0.1346
Level     1,  Iter    46:    Energy =   0.1347
Level     1,  Iter    47:    Energy =   0.1346
Level     1,  Iter    48:    Energy =   0.1347
Level     1,  Iter    49:    Energy =   0.1347
Level     1,  Iter    50:    Energy =   0.1347
Level     1,  Iter    51:    Energy =   0.1347
Level     1,  Iter    52:    Energy =   0.1347
Level     1,  Iter    53:    Energy =   0.1347
Level     1,  Iter    54:    Energy =   0.1347
Level     1,  Iter    55:    Energy =   0.1347
Level     1,  Iter    56:    Energy =   0.1348
Level     1,  Iter    57:    Energy =   0.1347
Level     1,  Iter    58:    Energy =   0.1348
Level     1,  Iter    59:    Energy =   0.1347
END OF LEVEL     1    DetJac Range:   0.1128  to   3.2520 
  Avg. Gradient Time  : 0.0431s  32.82% 
  Avg. Gaussian Time  : 0.0713s  54.31% 
  Avg. Iteration Time : 0.1313s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0711
Level     2,  Iter     1:    Energy =   0.0740
Level     2,  Iter     2:    Energy =   0.0762
Level     2,  Iter     3:    Energy =   0.0784
Level     2,  Iter     4:    Energy =   0.0803
Level     2,  Iter     5:    Energy =   0.0819
Level     2,  Iter     6:    Energy =   0.0832
Level     2,  Iter     7:    Energy =   0.0844
Level     2,  Iter     8:    Energy =   0.0856
Level     2,  Iter     9:    Energy =   0.0865
Level     2,  Iter    10:    Energy =   0.0873
Level     2,  Iter    11:    Energy =   0.0880
Level     2,  Iter    12:    Energy =   0.0886
Level     2,  Iter    13:    Energy =   0.0892
Level     2,  Iter    14:    Energy =   0.0897
Level     2,  Iter    15:    Energy =   0.0902
Level     2,  Iter    16:    Energy =   0.0906
Level     2,  Iter    17:    Energy =   0.0911
Level     2,  Iter    18:    Energy =   0.0915
Level     2,  Iter    19:    Energy =   0.0918
END OF LEVEL     2    DetJac Range:   0.0647  to   4.7427 
  Avg. Gradient Time  : 0.3097s  27.00% 
  Avg. Gaussian Time  : 0.7008s  61.09% 
  Avg. Iteration Time : 1.1470s 

real	0m37.103s
user	1m7.472s
sys	0m2.088s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=36 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=36 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.407692 0.413462
+ echo 'CHUNK 0.407692 0.413462 1'
CHUNK 0.407692 0.413462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.407692 0.413462 1
====================================
         PROGRESS: 0.407692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=011
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 011
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train011
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train011
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right 011 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train011 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=right
+ local tid=011
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train011
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 011 right 0
+ local tid=011
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 011 0
+ set -e
+ local tid=011
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.463675
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3439.53   GNORM= 372.259
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3485.603     255.649       0.001
   2    4     -3510.961     183.312       1.000
   3    5     -3551.585     139.721       1.000
   4    6     -3578.138      96.365       1.000
   5    7     -3593.655      86.469       1.000
   6    8     -3613.747      93.529       1.000
   7   10     -3618.562     123.803       0.327
   8   11     -3624.289      58.818       1.000
   9   12     -3626.893      39.155       1.000
  10   13     -3630.135      55.311       1.000
  11   14     -3634.547      84.146       1.000
  12   15     -3638.134      48.512       1.000
  13   16     -3639.541      49.994       1.000
  14   17     -3640.601      32.502       1.000
  15   18     -3640.918      19.778       1.000
  16   19     -3641.674      15.936       1.000
  17   20     -3642.255      44.502       1.000
  18   21     -3643.058      35.315       1.000
  19   22     -3643.852      11.976       1.000
  20   23     -3644.158      11.987       1.000
  21   25     -3644.422      15.130       0.384
  22   26     -3644.464      22.116       1.000
  23   27     -3644.549       6.091       1.000
  24   28     -3644.581       4.084       1.000
  25   29     -3644.628       6.845       1.000
  26   31     -3644.730      11.525       0.304
  27   32     -3644.753      14.262       1.000
  28   33     -3644.939       8.385       1.000
  29   34     -3644.986      26.565       1.000
  30   35     -3645.188       9.782       1.000
  31   36     -3645.244      11.799       1.000
  32   37     -3645.311      14.561       1.000
  33   38     -3645.425       6.546       1.000
  34   39     -3645.468       8.709       1.000
  35   40     -3645.496       4.401       1.000
  36   41     -3645.518       6.401       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.96144 -0.00601089 -0.0328632 0.384482 
-0.0139001 1.01199 0.0550193 0.938751 
0.00561874 -0.00844936 1.01548 -0.00700984 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2802.81   GNORM= 159.276
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2809.041      77.317       0.000
   2    4     -2811.781      66.861       1.000
   3    5     -2816.091      47.696       1.000
   4    6     -2819.199      42.708       1.000
   5    7     -2822.520      49.446       1.000
   6    8     -2824.653      90.765       1.000
   7    9     -2829.838      35.834       1.000
   8   10     -2829.978      64.236       1.000
   9   11     -2830.729      21.849       1.000
  10   12     -2831.161      16.469       1.000
  11   13     -2831.974      18.450       1.000
  12   14     -2832.579      46.235       1.000
  13   15     -2833.096      14.024       1.000
  14   16     -2833.219      10.792       1.000
  15   17     -2833.479      22.480       1.000
  16   18     -2833.877      41.136       1.000
  17   19     -2834.735      53.578       1.000
  18   21     -2835.124      36.195       0.337
  19   22     -2835.501      24.571       1.000
  20   23     -2835.758      15.560       1.000
  21   24     -2835.861       5.961       1.000
  22   25     -2835.907       8.991       1.000
  23   26     -2835.980       7.601       1.000
  24   27     -2836.322      12.019       1.000
  25   28     -2836.368      25.020       1.000
  26   29     -2836.567       6.569       1.000
  27   30     -2836.611       7.347       1.000
  28   31     -2836.661       7.242       1.000
  29   32     -2836.860       6.179       1.000
  30   34     -2836.945      11.528       0.299
  31   35     -2837.004       5.481       1.000
  32   36     -2837.043       3.792       1.000
  33   37     -2837.068      15.882       1.000
  34   38     -2837.136       4.933       1.000
  35   39     -2837.150       2.854       1.000
  36   40     -2837.176       3.289       1.000
  37   42     -2837.180       3.765       0.388
  38   43     -2837.188       3.803       1.000
  39   44     -2837.203       3.040       1.000
  40   45     -2837.211       2.070       1.000
  41   46     -2837.212       5.212       1.000
  42   47     -2837.228       3.748       1.000
  43   49     -2837.228       1.834       0.358
  44   50     -2837.235       2.611       1.000
  45   52     -2837.245       4.802       0.339
  46   53     -2837.250       2.539       1.000
  47   54     -2837.255       1.906       1.000
  48   56     -2837.260       1.463       0.233
Final RAS Transform: 
0.978566 -0.00544068 -0.027143 0.0592869 
-0.0115711 1.01293 0.0534058 0.761548 
0.0102756 0.00366792 1.025 0.258017 
0 0 0 1 

Final RAS Transform: 
0.978566 -0.00544068 -0.027143 0.0592869 
-0.0115711 1.01293 0.0534058 0.761548 
0.0102756 0.00366792 1.025 0.258017 
0 0 0 1 


real	0m10.716s
user	0m18.780s
sys	0m0.492s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.474891
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1077
Level     0,  Iter     1:    Energy =   0.1146
Level     0,  Iter     2:    Energy =   0.1197
Level     0,  Iter     3:    Energy =   0.1233
Level     0,  Iter     4:    Energy =   0.1250
Level     0,  Iter     5:    Energy =   0.1262
Level     0,  Iter     6:    Energy =   0.1272
Level     0,  Iter     7:    Energy =   0.1281
Level     0,  Iter     8:    Energy =   0.1287
Level     0,  Iter     9:    Energy =   0.1295
Level     0,  Iter    10:    Energy =   0.1301
Level     0,  Iter    11:    Energy =   0.1306
Level     0,  Iter    12:    Energy =   0.1310
Level     0,  Iter    13:    Energy =   0.1314
Level     0,  Iter    14:    Energy =   0.1317
Level     0,  Iter    15:    Energy =   0.1319
Level     0,  Iter    16:    Energy =   0.1321
Level     0,  Iter    17:    Energy =   0.1323
Level     0,  Iter    18:    Energy =   0.1325
Level     0,  Iter    19:    Energy =   0.1327
Level     0,  Iter    20:    Energy =   0.1329
Level     0,  Iter    21:    Energy =   0.1330
Level     0,  Iter    22:    Energy =   0.1332
Level     0,  Iter    23:    Energy =   0.1334
Level     0,  Iter    24:    Energy =   0.1336
Level     0,  Iter    25:    Energy =   0.1337
Level     0,  Iter    26:    Energy =   0.1339
Level     0,  Iter    27:    Energy =   0.1340
Level     0,  Iter    28:    Energy =   0.1342
Level     0,  Iter    29:    Energy =   0.1343
Level     0,  Iter    30:    Energy =   0.1344
Level     0,  Iter    31:    Energy =   0.1345
Level     0,  Iter    32:    Energy =   0.1346
Level     0,  Iter    33:    Energy =   0.1347
Level     0,  Iter    34:    Energy =   0.1348
Level     0,  Iter    35:    Energy =   0.1349
Level     0,  Iter    36:    Energy =   0.1350
Level     0,  Iter    37:    Energy =   0.1351
Level     0,  Iter    38:    Energy =   0.1352
Level     0,  Iter    39:    Energy =   0.1352
Level     0,  Iter    40:    Energy =   0.1353
Level     0,  Iter    41:    Energy =   0.1353
Level     0,  Iter    42:    Energy =   0.1355
Level     0,  Iter    43:    Energy =   0.1354
Level     0,  Iter    44:    Energy =   0.1355
Level     0,  Iter    45:    Energy =   0.1355
Level     0,  Iter    46:    Energy =   0.1356
Level     0,  Iter    47:    Energy =   0.1356
Level     0,  Iter    48:    Energy =   0.1357
Level     0,  Iter    49:    Energy =   0.1357
Level     0,  Iter    50:    Energy =   0.1358
Level     0,  Iter    51:    Energy =   0.1358
Level     0,  Iter    52:    Energy =   0.1358
Level     0,  Iter    53:    Energy =   0.1358
Level     0,  Iter    54:    Energy =   0.1359
Level     0,  Iter    55:    Energy =   0.1359
Level     0,  Iter    56:    Energy =   0.1359
Level     0,  Iter    57:    Energy =   0.1359
Level     0,  Iter    58:    Energy =   0.1360
Level     0,  Iter    59:    Energy =   0.1359
END OF LEVEL     0    DetJac Range:   0.3090  to   2.0785 
  Avg. Gradient Time  : 0.0075s  35.03% 
  Avg. Gaussian Time  : 0.0106s  49.04% 
  Avg. Iteration Time : 0.0215s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0984
Level     1,  Iter     1:    Energy =   0.1037
Level     1,  Iter     2:    Energy =   0.1073
Level     1,  Iter     3:    Energy =   0.1099
Level     1,  Iter     4:    Energy =   0.1122
Level     1,  Iter     5:    Energy =   0.1142
Level     1,  Iter     6:    Energy =   0.1160
Level     1,  Iter     7:    Energy =   0.1176
Level     1,  Iter     8:    Energy =   0.1189
Level     1,  Iter     9:    Energy =   0.1201
Level     1,  Iter    10:    Energy =   0.1210
Level     1,  Iter    11:    Energy =   0.1219
Level     1,  Iter    12:    Energy =   0.1220
Level     1,  Iter    13:    Energy =   0.1227
Level     1,  Iter    14:    Energy =   0.1228
Level     1,  Iter    15:    Energy =   0.1234
Level     1,  Iter    16:    Energy =   0.1234
Level     1,  Iter    17:    Energy =   0.1240
Level     1,  Iter    18:    Energy =   0.1239
Level     1,  Iter    19:    Energy =   0.1244
Level     1,  Iter    20:    Energy =   0.1243
Level     1,  Iter    21:    Energy =   0.1248
Level     1,  Iter    22:    Energy =   0.1246
Level     1,  Iter    23:    Energy =   0.1251
Level     1,  Iter    24:    Energy =   0.1249
Level     1,  Iter    25:    Energy =   0.1253
Level     1,  Iter    26:    Energy =   0.1252
Level     1,  Iter    27:    Energy =   0.1255
Level     1,  Iter    28:    Energy =   0.1254
Level     1,  Iter    29:    Energy =   0.1257
Level     1,  Iter    30:    Energy =   0.1256
Level     1,  Iter    31:    Energy =   0.1259
Level     1,  Iter    32:    Energy =   0.1258
Level     1,  Iter    33:    Energy =   0.1261
Level     1,  Iter    34:    Energy =   0.1259
Level     1,  Iter    35:    Energy =   0.1262
Level     1,  Iter    36:    Energy =   0.1260
Level     1,  Iter    37:    Energy =   0.1263
Level     1,  Iter    38:    Energy =   0.1261
Level     1,  Iter    39:    Energy =   0.1264
Level     1,  Iter    40:    Energy =   0.1262
Level     1,  Iter    41:    Energy =   0.1264
Level     1,  Iter    42:    Energy =   0.1263
Level     1,  Iter    43:    Energy =   0.1265
Level     1,  Iter    44:    Energy =   0.1263
Level     1,  Iter    45:    Energy =   0.1265
Level     1,  Iter    46:    Energy =   0.1264
Level     1,  Iter    47:    Energy =   0.1265
Level     1,  Iter    48:    Energy =   0.1264
Level     1,  Iter    49:    Energy =   0.1265
Level     1,  Iter    50:    Energy =   0.1265
Level     1,  Iter    51:    Energy =   0.1266
Level     1,  Iter    52:    Energy =   0.1265
Level     1,  Iter    53:    Energy =   0.1266
Level     1,  Iter    54:    Energy =   0.1265
Level     1,  Iter    55:    Energy =   0.1266
Level     1,  Iter    56:    Energy =   0.1266
Level     1,  Iter    57:    Energy =   0.1266
Level     1,  Iter    58:    Energy =   0.1266
Level     1,  Iter    59:    Energy =   0.1267
END OF LEVEL     1    DetJac Range:   0.0897  to   3.6537 
  Avg. Gradient Time  : 0.0428s  32.62% 
  Avg. Gaussian Time  : 0.0715s  54.48% 
  Avg. Iteration Time : 0.1312s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0666
Level     2,  Iter     1:    Energy =   0.0695
Level     2,  Iter     2:    Energy =   0.0715
Level     2,  Iter     3:    Energy =   0.0736
Level     2,  Iter     4:    Energy =   0.0755
Level     2,  Iter     5:    Energy =   0.0770
Level     2,  Iter     6:    Energy =   0.0783
Level     2,  Iter     7:    Energy =   0.0794
Level     2,  Iter     8:    Energy =   0.0804
Level     2,  Iter     9:    Energy =   0.0813
Level     2,  Iter    10:    Energy =   0.0821
Level     2,  Iter    11:    Energy =   0.0828
Level     2,  Iter    12:    Energy =   0.0833
Level     2,  Iter    13:    Energy =   0.0838
Level     2,  Iter    14:    Energy =   0.0841
Level     2,  Iter    15:    Energy =   0.0844
Level     2,  Iter    16:    Energy =   0.0848
Level     2,  Iter    17:    Energy =   0.0852
Level     2,  Iter    18:    Energy =   0.0855
Level     2,  Iter    19:    Energy =   0.0858
END OF LEVEL     2    DetJac Range:   0.0645  to   3.8649 
  Avg. Gradient Time  : 0.3094s  27.06% 
  Avg. Gaussian Time  : 0.6970s  60.95% 
  Avg. Iteration Time : 1.1437s 

real	0m36.998s
user	1m7.268s
sys	0m2.096s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=37 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=37 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.413462 0.419231
+ echo 'CHUNK 0.413462 0.419231 1'
CHUNK 0.413462 0.419231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.413462 0.419231 1
====================================
         PROGRESS: 0.413462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=012
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 012
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train012
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train012
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right 012 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train012 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=right
+ local tid=012
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train012
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 012 right 0
+ local tid=012
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 012 0
+ set -e
+ local tid=012
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.82589
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3641.7   GNORM= 709.348
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3783.726     359.519       0.001
   2    4     -3831.615     274.341       1.000
   3    5     -3922.269     150.892       1.000
   4    6     -3948.242     143.047       1.000
   5    7     -3971.899     112.541       1.000
   6    8     -3990.571      73.318       1.000
   7   10     -3992.362      66.888       0.259
   8   11     -3996.479      83.265       1.000
   9   12     -4001.962      60.373       1.000
  10   13     -4007.492      50.373       1.000
  11   14     -4015.553     137.437       1.000
  12   15     -4024.997      51.316       1.000
  13   16     -4026.852      35.455       1.000
  14   17     -4027.485      28.960       1.000
  15   18     -4028.792      23.421       1.000
  16   19     -4029.555      49.839       1.000
  17   20     -4030.645      21.903       1.000
  18   21     -4031.221      23.329       1.000
  19   22     -4032.182      27.396       1.000
  20   23     -4033.153      25.141       1.000
  21   25     -4034.487      14.435       0.236
  22   27     -4034.781      24.014       0.293
  23   28     -4035.213      30.202       1.000
  24   30     -4035.428       7.693       0.455
  25   31     -4035.485       8.519       1.000
  26   32     -4035.534       7.553       1.000
  27   33     -4035.575       4.740       1.000
  28   35     -4035.600       6.638       0.220
  29   36     -4035.643       7.148       1.000
  30   38     -4035.720       7.849       0.198
  31   40     -4035.733       6.667       0.209
  32   41     -4035.761       9.877       1.000
  33   42     -4035.819       6.784       1.000
  34   44     -4035.825       5.592       0.263
  35   45     -4035.836       3.557       1.000
  36   46     -4035.858       3.162       1.000
  37   47     -4035.899       9.350       1.000
  38   49     -4035.920       5.155       0.488
  39   50     -4035.937       4.811       1.000
  40   51     -4035.942       3.738       1.000
  41   52     -4035.942       2.708       1.000
  42   53     -4035.947       1.943       1.000
  43   55     -4035.958       2.481       0.326
  44   56     -4035.961       3.873       1.000
  45   58     -4035.965       1.198       0.368
  46   61     -4035.972       5.370       2.820
Final RAS Transform: 
0.999971 0.0124511 0.0197936 0.261815 
0.0165615 1.03074 0.0956252 0.417552 
-0.0252016 -0.0221695 0.974951 0.019663 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3019.73   GNORM= 103.706
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3022.380      51.029       0.000
   2    4     -3023.454      38.954       1.000
   3    5     -3024.426      16.839       1.000
   4    7     -3025.717      21.652       5.000
   5    8     -3028.486      69.150       1.000
   6    9     -3030.481      28.729       1.000
   7   10     -3031.221      16.628       1.000
   8   11     -3031.369      27.742       1.000
   9   12     -3031.572      15.591       1.000
  10   13     -3031.773      13.150       1.000
  11   14     -3032.008      18.356       1.000
  12   15     -3032.676      13.230       1.000
  13   17     -3033.045      27.519       0.448
  14   18     -3033.381      17.519       1.000
  15   19     -3033.776      17.344       1.000
  16   20     -3033.897       8.212       1.000
  17   21     -3033.994       9.063       1.000
  18   22     -3034.128      10.193       1.000
  19   24     -3034.254      22.611       0.454
  20   25     -3034.369      13.021       1.000
  21   26     -3034.452       8.608       1.000
  22   27     -3034.471       8.256       1.000
  23   29     -3034.779      13.360       5.000
  24   30     -3034.988      14.769       1.000
  25   32     -3035.139       7.155       0.389
  26   33     -3035.196       5.928       1.000
  27   34     -3035.227       6.414       1.000
  28   35     -3035.468      14.685       1.000
  29   36     -3035.655       7.688       1.000
  30   37     -3035.705       5.328       1.000
  31   39     -3035.749       3.951       0.340
  32   40     -3035.758      13.309       1.000
  33   41     -3035.783       7.178       1.000
  34   42     -3035.812       4.486       1.000
  35   43     -3035.817       4.325       1.000
  36   44     -3035.839       8.422       1.000
  37   46     -3035.926       5.294       5.000
  38   47     -3035.956       1.388       1.000
  39   48     -3035.966       2.030       1.000
  40   50     -3035.974       2.195       0.476
  41   52     -3035.978       2.629       0.214
Final RAS Transform: 
1.00899 0.0108812 0.0152155 -0.0159299 
0.00757848 1.021 0.075878 0.17192 
-0.0157432 -0.0165832 0.984579 0.031998 
0 0 0 1 

Final RAS Transform: 
1.00899 0.0108812 0.0152155 -0.0159299 
0.00757848 1.021 0.075878 0.17192 
-0.0157432 -0.0165832 0.984579 0.031998 
0 0 0 1 


real	0m11.154s
user	0m19.632s
sys	0m0.544s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.831502
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1200
Level     0,  Iter     1:    Energy =   0.1276
Level     0,  Iter     2:    Energy =   0.1342
Level     0,  Iter     3:    Energy =   0.1385
Level     0,  Iter     4:    Energy =   0.1420
Level     0,  Iter     5:    Energy =   0.1435
Level     0,  Iter     6:    Energy =   0.1452
Level     0,  Iter     7:    Energy =   0.1461
Level     0,  Iter     8:    Energy =   0.1472
Level     0,  Iter     9:    Energy =   0.1478
Level     0,  Iter    10:    Energy =   0.1486
Level     0,  Iter    11:    Energy =   0.1488
Level     0,  Iter    12:    Energy =   0.1494
Level     0,  Iter    13:    Energy =   0.1495
Level     0,  Iter    14:    Energy =   0.1500
Level     0,  Iter    15:    Energy =   0.1502
Level     0,  Iter    16:    Energy =   0.1506
Level     0,  Iter    17:    Energy =   0.1507
Level     0,  Iter    18:    Energy =   0.1510
Level     0,  Iter    19:    Energy =   0.1511
Level     0,  Iter    20:    Energy =   0.1514
Level     0,  Iter    21:    Energy =   0.1514
Level     0,  Iter    22:    Energy =   0.1517
Level     0,  Iter    23:    Energy =   0.1517
Level     0,  Iter    24:    Energy =   0.1519
Level     0,  Iter    25:    Energy =   0.1519
Level     0,  Iter    26:    Energy =   0.1521
Level     0,  Iter    27:    Energy =   0.1521
Level     0,  Iter    28:    Energy =   0.1523
Level     0,  Iter    29:    Energy =   0.1523
Level     0,  Iter    30:    Energy =   0.1524
Level     0,  Iter    31:    Energy =   0.1524
Level     0,  Iter    32:    Energy =   0.1525
Level     0,  Iter    33:    Energy =   0.1524
Level     0,  Iter    34:    Energy =   0.1525
Level     0,  Iter    35:    Energy =   0.1525
Level     0,  Iter    36:    Energy =   0.1526
Level     0,  Iter    37:    Energy =   0.1525
Level     0,  Iter    38:    Energy =   0.1526
Level     0,  Iter    39:    Energy =   0.1526
Level     0,  Iter    40:    Energy =   0.1527
Level     0,  Iter    41:    Energy =   0.1526
Level     0,  Iter    42:    Energy =   0.1527
Level     0,  Iter    43:    Energy =   0.1526
Level     0,  Iter    44:    Energy =   0.1527
Level     0,  Iter    45:    Energy =   0.1527
Level     0,  Iter    46:    Energy =   0.1528
Level     0,  Iter    47:    Energy =   0.1527
Level     0,  Iter    48:    Energy =   0.1528
Level     0,  Iter    49:    Energy =   0.1527
Level     0,  Iter    50:    Energy =   0.1528
Level     0,  Iter    51:    Energy =   0.1527
Level     0,  Iter    52:    Energy =   0.1528
Level     0,  Iter    53:    Energy =   0.1527
Level     0,  Iter    54:    Energy =   0.1528
Level     0,  Iter    55:    Energy =   0.1528
Level     0,  Iter    56:    Energy =   0.1528
Level     0,  Iter    57:    Energy =   0.1528
Level     0,  Iter    58:    Energy =   0.1529
Level     0,  Iter    59:    Energy =   0.1528
END OF LEVEL     0    DetJac Range:   0.3223  to   2.3989 
  Avg. Gradient Time  : 0.0087s  34.81% 
  Avg. Gaussian Time  : 0.0124s  49.57% 
  Avg. Iteration Time : 0.0250s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.1038
Level     1,  Iter     1:    Energy =   0.1090
Level     1,  Iter     2:    Energy =   0.1136
Level     1,  Iter     3:    Energy =   0.1171
Level     1,  Iter     4:    Energy =   0.1204
Level     1,  Iter     5:    Energy =   0.1233
Level     1,  Iter     6:    Energy =   0.1253
Level     1,  Iter     7:    Energy =   0.1272
Level     1,  Iter     8:    Energy =   0.1284
Level     1,  Iter     9:    Energy =   0.1294
Level     1,  Iter    10:    Energy =   0.1299
Level     1,  Iter    11:    Energy =   0.1306
Level     1,  Iter    12:    Energy =   0.1312
Level     1,  Iter    13:    Energy =   0.1317
Level     1,  Iter    14:    Energy =   0.1321
Level     1,  Iter    15:    Energy =   0.1324
Level     1,  Iter    16:    Energy =   0.1327
Level     1,  Iter    17:    Energy =   0.1329
Level     1,  Iter    18:    Energy =   0.1330
Level     1,  Iter    19:    Energy =   0.1332
Level     1,  Iter    20:    Energy =   0.1335
Level     1,  Iter    21:    Energy =   0.1336
Level     1,  Iter    22:    Energy =   0.1339
Level     1,  Iter    23:    Energy =   0.1340
Level     1,  Iter    24:    Energy =   0.1341
Level     1,  Iter    25:    Energy =   0.1342
Level     1,  Iter    26:    Energy =   0.1343
Level     1,  Iter    27:    Energy =   0.1341
Level     1,  Iter    28:    Energy =   0.1343
Level     1,  Iter    29:    Energy =   0.1344
Level     1,  Iter    30:    Energy =   0.1343
Level     1,  Iter    31:    Energy =   0.1345
Level     1,  Iter    32:    Energy =   0.1344
Level     1,  Iter    33:    Energy =   0.1346
Level     1,  Iter    34:    Energy =   0.1345
Level     1,  Iter    35:    Energy =   0.1347
Level     1,  Iter    36:    Energy =   0.1346
Level     1,  Iter    37:    Energy =   0.1348
Level     1,  Iter    38:    Energy =   0.1347
Level     1,  Iter    39:    Energy =   0.1349
Level     1,  Iter    40:    Energy =   0.1348
Level     1,  Iter    41:    Energy =   0.1349
Level     1,  Iter    42:    Energy =   0.1349
Level     1,  Iter    43:    Energy =   0.1349
Level     1,  Iter    44:    Energy =   0.1351
Level     1,  Iter    45:    Energy =   0.1349
Level     1,  Iter    46:    Energy =   0.1351
Level     1,  Iter    47:    Energy =   0.1350
Level     1,  Iter    48:    Energy =   0.1352
Level     1,  Iter    49:    Energy =   0.1351
Level     1,  Iter    50:    Energy =   0.1352
Level     1,  Iter    51:    Energy =   0.1351
Level     1,  Iter    52:    Energy =   0.1352
Level     1,  Iter    53:    Energy =   0.1351
Level     1,  Iter    54:    Energy =   0.1352
Level     1,  Iter    55:    Energy =   0.1351
Level     1,  Iter    56:    Energy =   0.1352
Level     1,  Iter    57:    Energy =   0.1351
Level     1,  Iter    58:    Energy =   0.1352
Level     1,  Iter    59:    Energy =   0.1352
END OF LEVEL     1    DetJac Range:   0.1288  to   4.2496 
  Avg. Gradient Time  : 0.0489s  32.60% 
  Avg. Gaussian Time  : 0.0815s  54.35% 
  Avg. Iteration Time : 0.1499s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0704
Level     2,  Iter     1:    Energy =   0.0729
Level     2,  Iter     2:    Energy =   0.0750
Level     2,  Iter     3:    Energy =   0.0775
Level     2,  Iter     4:    Energy =   0.0797
Level     2,  Iter     5:    Energy =   0.0813
Level     2,  Iter     6:    Energy =   0.0827
Level     2,  Iter     7:    Energy =   0.0840
Level     2,  Iter     8:    Energy =   0.0852
Level     2,  Iter     9:    Energy =   0.0864
Level     2,  Iter    10:    Energy =   0.0874
Level     2,  Iter    11:    Energy =   0.0884
Level     2,  Iter    12:    Energy =   0.0892
Level     2,  Iter    13:    Energy =   0.0900
Level     2,  Iter    14:    Energy =   0.0906
Level     2,  Iter    15:    Energy =   0.0909
Level     2,  Iter    16:    Energy =   0.0914
Level     2,  Iter    17:    Energy =   0.0915
Level     2,  Iter    18:    Energy =   0.0920
Level     2,  Iter    19:    Energy =   0.0922
END OF LEVEL     2    DetJac Range:   0.0839  to   5.4240 
  Avg. Gradient Time  : 0.3469s  26.71% 
  Avg. Gaussian Time  : 0.7936s  61.11% 
  Avg. Iteration Time : 1.2986s 

real	0m42.197s
user	1m16.712s
sys	0m2.556s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=38 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=38 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.419231 0.425
+ echo 'CHUNK 0.419231 0.425 1'
CHUNK 0.419231 0.425 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.419231 0.425 1
====================================
         PROGRESS: 0.419231               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=013
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 013
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train013
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train013
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right 013 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train013 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=right
+ local tid=013
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train013
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 013 right 0
+ local tid=013
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 013 0
+ set -e
+ local tid=013
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.699131
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3083.36   GNORM= 575.317
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3186.187     223.042       0.001
   2    4     -3209.723     169.391       1.000
   3    5     -3259.372     104.769       1.000
   4    6     -3284.561     121.613       1.000
   5    7     -3315.724     112.152       1.000
   6    8     -3346.801     111.089       1.000
   7    9     -3361.640     168.548       1.000
   8   10     -3375.650      59.132       1.000
   9   11     -3379.144      46.185       1.000
  10   12     -3386.156      44.163       1.000
  11   13     -3399.181      60.011       1.000
  12   15     -3402.219      54.579       0.285
  13   16     -3405.370      49.420       1.000
  14   18     -3406.617      39.883       0.517
  15   19     -3406.994      22.866       1.000
  16   20     -3407.140      13.361       1.000
  17   21     -3407.280      12.456       1.000
  18   22     -3407.548      25.512       1.000
  19   23     -3408.060      24.823       1.000
  20   24     -3409.510      14.747       1.000
  21   25     -3409.843      30.642       1.000
  22   27     -3409.984       9.699       0.388
  23   28     -3410.043       7.242       1.000
  24   29     -3410.203       7.517       1.000
  25   30     -3410.223      29.280       1.000
  26   31     -3410.557       9.964       1.000
  27   32     -3410.601       4.360       1.000
  28   33     -3410.655       4.431       1.000
  29   34     -3410.677      12.076       1.000
  30   36     -3410.727       6.515       0.488
  31   37     -3410.747       4.036       1.000
  32   38     -3410.763       3.704       1.000
  33   39     -3410.779       4.797       1.000
  34   40     -3410.819       4.748       1.000
  35   42     -3410.864       3.519       0.400
  36   44     -3410.881       7.235       0.476
  37   46     -3410.896       9.070       0.316
  38   47     -3410.911       7.206       1.000
  39   48     -3410.916       5.488       1.000
  40   49     -3410.932       3.966       1.000
  41   51     -3410.938       2.449       0.363
  42   52     -3410.952       4.559       1.000
  43   53     -3410.959       2.984       1.000
  44   54     -3410.966       1.710       1.000
  45   55     -3410.975       2.844       1.000
Final RAS Transform: 
0.938487 0.0401548 0.0382545 2.38086 
-0.0268104 0.99298 0.0270529 0.0185752 
0.00955885 -0.00402163 1.00548 -0.13685 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2561.66   GNORM= 173.727
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2567.617      44.622       0.000
   2    4     -2568.441      40.138       1.000
   3    5     -2570.896      62.359       1.000
   4    6     -2572.829      55.273       1.000
   5    7     -2577.858      51.931       1.000
   6    8     -2587.866      86.783       1.000
   7    9     -2594.136      58.252       1.000
   8   10     -2598.980      45.198       1.000
   9   11     -2599.915      40.880       1.000
  10   12     -2600.346      18.527       1.000
  11   13     -2600.677      17.458       1.000
  12   14     -2601.272      47.097       1.000
  13   16     -2605.889      43.767       5.000
  14   17     -2613.707      32.386       1.000
  15   18     -2616.344      50.260       1.000
  16   19     -2617.440      51.452       1.000
  17   20     -2618.788      22.155       1.000
  18   21     -2619.002      34.813       1.000
  19   22     -2619.280      21.991       1.000
  20   23     -2619.698      13.385       1.000
  21   24     -2620.228      22.117       1.000
  22   25     -2621.189      37.212       1.000
  23   26     -2621.533      20.323       1.000
  24   27     -2621.695       7.534       1.000
  25   28     -2621.776       7.190       1.000
  26   29     -2621.832      11.869       1.000
  27   30     -2621.936       8.145       1.000
  28   31     -2621.956      11.074       1.000
  29   32     -2622.001      23.831       1.000
  30   33     -2622.118       6.781       1.000
  31   34     -2622.150       4.234       1.000
  32   35     -2622.197       5.238       1.000
  33   36     -2622.340       5.000       1.000
  34   38     -2622.397       6.494       0.254
  35   39     -2622.504       8.979       1.000
  36   40     -2622.543      15.954       1.000
  37   41     -2622.585       7.803       1.000
  38   42     -2622.599       5.138       1.000
  39   43     -2622.618       5.244       1.000
  40   44     -2622.689       6.527       1.000
  41   45     -2622.759      11.686       1.000
  42   46     -2622.895       9.312       1.000
  43   47     -2622.926      18.482       1.000
  44   48     -2623.014      27.330       1.000
  45   49     -2623.178       3.608       1.000
  46   50     -2623.183       3.702       1.000
  47   51     -2623.201       4.261       1.000
  48   52     -2623.225       3.484       1.000
  49   53     -2623.265       2.535       1.000
  50   54     -2623.346       7.707       1.000
  51   56     -2623.365       4.217       0.196
  52   57     -2623.406       2.104       1.000
  53   59     -2623.413       1.409       0.346
  54   60     -2623.428       1.893       1.000
Final RAS Transform: 
0.982272 0.0171004 0.0388385 0.971695 
-0.0394695 1.00189 0.0144377 0.372504 
0.000425915 0.00125366 1.01182 0.116652 
0 0 0 1 

Final RAS Transform: 
0.982272 0.0171004 0.0388385 0.971695 
-0.0394695 1.00189 0.0144377 0.372504 
0.000425915 0.00125366 1.01182 0.116652 
0 0 0 1 


real	0m10.650s
user	0m18.664s
sys	0m0.508s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.703123
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1008
Level     0,  Iter     1:    Energy =   0.1058
Level     0,  Iter     2:    Energy =   0.1106
Level     0,  Iter     3:    Energy =   0.1145
Level     0,  Iter     4:    Energy =   0.1167
Level     0,  Iter     5:    Energy =   0.1184
Level     0,  Iter     6:    Energy =   0.1198
Level     0,  Iter     7:    Energy =   0.1210
Level     0,  Iter     8:    Energy =   0.1222
Level     0,  Iter     9:    Energy =   0.1235
Level     0,  Iter    10:    Energy =   0.1244
Level     0,  Iter    11:    Energy =   0.1257
Level     0,  Iter    12:    Energy =   0.1261
Level     0,  Iter    13:    Energy =   0.1262
Level     0,  Iter    14:    Energy =   0.1267
Level     0,  Iter    15:    Energy =   0.1273
Level     0,  Iter    16:    Energy =   0.1279
Level     0,  Iter    17:    Energy =   0.1281
Level     0,  Iter    18:    Energy =   0.1287
Level     0,  Iter    19:    Energy =   0.1294
Level     0,  Iter    20:    Energy =   0.1294
Level     0,  Iter    21:    Energy =   0.1290
Level     0,  Iter    22:    Energy =   0.1291
Level     0,  Iter    23:    Energy =   0.1290
Level     0,  Iter    24:    Energy =   0.1292
Level     0,  Iter    25:    Energy =   0.1293
Level     0,  Iter    26:    Energy =   0.1296
Level     0,  Iter    27:    Energy =   0.1297
Level     0,  Iter    28:    Energy =   0.1301
Level     0,  Iter    29:    Energy =   0.1300
Level     0,  Iter    30:    Energy =   0.1305
Level     0,  Iter    31:    Energy =   0.1304
Level     0,  Iter    32:    Energy =   0.1308
Level     0,  Iter    33:    Energy =   0.1307
Level     0,  Iter    34:    Energy =   0.1312
Level     0,  Iter    35:    Energy =   0.1309
Level     0,  Iter    36:    Energy =   0.1313
Level     0,  Iter    37:    Energy =   0.1313
Level     0,  Iter    38:    Energy =   0.1315
Level     0,  Iter    39:    Energy =   0.1311
Level     0,  Iter    40:    Energy =   0.1314
Level     0,  Iter    41:    Energy =   0.1314
Level     0,  Iter    42:    Energy =   0.1314
Level     0,  Iter    43:    Energy =   0.1309
Level     0,  Iter    44:    Energy =   0.1310
Level     0,  Iter    45:    Energy =   0.1308
Level     0,  Iter    46:    Energy =   0.1310
Level     0,  Iter    47:    Energy =   0.1308
Level     0,  Iter    48:    Energy =   0.1311
Level     0,  Iter    49:    Energy =   0.1311
Level     0,  Iter    50:    Energy =   0.1313
Level     0,  Iter    51:    Energy =   0.1312
Level     0,  Iter    52:    Energy =   0.1315
Level     0,  Iter    53:    Energy =   0.1314
Level     0,  Iter    54:    Energy =   0.1317
Level     0,  Iter    55:    Energy =   0.1315
Level     0,  Iter    56:    Energy =   0.1318
Level     0,  Iter    57:    Energy =   0.1316
Level     0,  Iter    58:    Energy =   0.1319
Level     0,  Iter    59:    Energy =   0.1316
END OF LEVEL     0    DetJac Range:   0.1259  to   2.9901 
  Avg. Gradient Time  : 0.0076s  35.12% 
  Avg. Gaussian Time  : 0.0106s  49.07% 
  Avg. Iteration Time : 0.0216s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0902
Level     1,  Iter     1:    Energy =   0.0951
Level     1,  Iter     2:    Energy =   0.0991
Level     1,  Iter     3:    Energy =   0.1020
Level     1,  Iter     4:    Energy =   0.1042
Level     1,  Iter     5:    Energy =   0.1061
Level     1,  Iter     6:    Energy =   0.1079
Level     1,  Iter     7:    Energy =   0.1095
Level     1,  Iter     8:    Energy =   0.1106
Level     1,  Iter     9:    Energy =   0.1115
Level     1,  Iter    10:    Energy =   0.1123
Level     1,  Iter    11:    Energy =   0.1131
Level     1,  Iter    12:    Energy =   0.1140
Level     1,  Iter    13:    Energy =   0.1148
Level     1,  Iter    14:    Energy =   0.1154
Level     1,  Iter    15:    Energy =   0.1155
Level     1,  Iter    16:    Energy =   0.1153
Level     1,  Iter    17:    Energy =   0.1158
Level     1,  Iter    18:    Energy =   0.1158
Level     1,  Iter    19:    Energy =   0.1163
Level     1,  Iter    20:    Energy =   0.1160
Level     1,  Iter    21:    Energy =   0.1165
Level     1,  Iter    22:    Energy =   0.1166
Level     1,  Iter    23:    Energy =   0.1170
Level     1,  Iter    24:    Energy =   0.1166
Level     1,  Iter    25:    Energy =   0.1171
Level     1,  Iter    26:    Energy =   0.1176
Level     1,  Iter    27:    Energy =   0.1178
Level     1,  Iter    28:    Energy =   0.1173
Level     1,  Iter    29:    Energy =   0.1176
Level     1,  Iter    30:    Energy =   0.1181
Level     1,  Iter    31:    Energy =   0.1184
Level     1,  Iter    32:    Energy =   0.1180
Level     1,  Iter    33:    Energy =   0.1182
Level     1,  Iter    34:    Energy =   0.1181
Level     1,  Iter    35:    Energy =   0.1183
Level     1,  Iter    36:    Energy =   0.1178
Level     1,  Iter    37:    Energy =   0.1181
Level     1,  Iter    38:    Energy =   0.1183
Level     1,  Iter    39:    Energy =   0.1185
Level     1,  Iter    40:    Energy =   0.1180
Level     1,  Iter    41:    Energy =   0.1183
Level     1,  Iter    42:    Energy =   0.1187
Level     1,  Iter    43:    Energy =   0.1188
Level     1,  Iter    44:    Energy =   0.1183
Level     1,  Iter    45:    Energy =   0.1186
Level     1,  Iter    46:    Energy =   0.1188
Level     1,  Iter    47:    Energy =   0.1189
Level     1,  Iter    48:    Energy =   0.1184
Level     1,  Iter    49:    Energy =   0.1188
Level     1,  Iter    50:    Energy =   0.1190
Level     1,  Iter    51:    Energy =   0.1190
Level     1,  Iter    52:    Energy =   0.1185
Level     1,  Iter    53:    Energy =   0.1189
Level     1,  Iter    54:    Energy =   0.1192
Level     1,  Iter    55:    Energy =   0.1193
Level     1,  Iter    56:    Energy =   0.1188
Level     1,  Iter    57:    Energy =   0.1191
Level     1,  Iter    58:    Energy =   0.1194
Level     1,  Iter    59:    Energy =   0.1194
END OF LEVEL     1    DetJac Range:   0.0774  to   3.9669 
  Avg. Gradient Time  : 0.0430s  32.71% 
  Avg. Gaussian Time  : 0.0715s  54.40% 
  Avg. Iteration Time : 0.1314s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0594
Level     2,  Iter     1:    Energy =   0.0622
Level     2,  Iter     2:    Energy =   0.0641
Level     2,  Iter     3:    Energy =   0.0661
Level     2,  Iter     4:    Energy =   0.0679
Level     2,  Iter     5:    Energy =   0.0693
Level     2,  Iter     6:    Energy =   0.0706
Level     2,  Iter     7:    Energy =   0.0715
Level     2,  Iter     8:    Energy =   0.0723
Level     2,  Iter     9:    Energy =   0.0731
Level     2,  Iter    10:    Energy =   0.0739
Level     2,  Iter    11:    Energy =   0.0748
Level     2,  Iter    12:    Energy =   0.0755
Level     2,  Iter    13:    Energy =   0.0763
Level     2,  Iter    14:    Energy =   0.0770
Level     2,  Iter    15:    Energy =   0.0778
Level     2,  Iter    16:    Energy =   0.0785
Level     2,  Iter    17:    Energy =   0.0791
Level     2,  Iter    18:    Energy =   0.0797
Level     2,  Iter    19:    Energy =   0.0802
END OF LEVEL     2    DetJac Range:   0.0331  to   5.3126 
  Avg. Gradient Time  : 0.3058s  26.93% 
  Avg. Gaussian Time  : 0.6929s  61.01% 
  Avg. Iteration Time : 1.1357s 

real	0m36.884s
user	1m6.876s
sys	0m2.236s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=39 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=39 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.425 0.430769
+ echo 'CHUNK 0.425 0.430769 1'
CHUNK 0.425 0.430769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.425 0.430769 1
====================================
         PROGRESS: 0.425               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=014
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 014
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train014
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train014
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right 014 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train014 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=right
+ local tid=014
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train014
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 014 right 0
+ local tid=014
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 014 0
+ set -e
+ local tid=014
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.543471
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2843.61   GNORM= 478.348
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2952.065     388.977       0.001
   2    4     -3016.502     245.919       1.000
   3    5     -3081.618     151.789       1.000
   4    6     -3131.261     152.662       1.000
   5    7     -3203.378     254.447       1.000
   6    8     -3254.582     165.990       1.000
   7    9     -3295.013     125.943       1.000
   8   11     -3301.681     139.376       0.394
   9   12     -3308.492      97.034       1.000
  10   13     -3326.437      82.535       1.000
  11   14     -3348.259     124.724       1.000
  12   15     -3382.081     111.375       1.000
  13   17     -3386.642      54.795       0.267
  14   18     -3392.137      48.603       1.000
  15   20     -3393.423      46.512       0.468
  16   21     -3394.212      30.377       1.000
  17   22     -3396.915      26.733       1.000
  18   23     -3401.503      40.142       1.000
  19   24     -3405.028      34.599       1.000
  20   25     -3405.931      65.905       1.000
  21   26     -3407.408      64.426       1.000
  22   27     -3408.248      22.027       1.000
  23   28     -3408.700      13.182       1.000
  24   29     -3409.413      14.546       1.000
  25   31     -3410.171      24.417       0.449
  26   32     -3410.841      22.069       1.000
  27   34     -3411.242      18.103       0.479
  28   35     -3411.348      16.766       1.000
  29   36     -3411.584      13.503       1.000
  30   37     -3412.119      12.227       1.000
  31   39     -3412.309      33.951       0.266
  32   40     -3412.822      25.314       1.000
  33   42     -3413.092       9.954       0.476
  34   43     -3413.225       6.551       1.000
  35   45     -3413.271      11.907       0.493
  36   46     -3413.346      12.636       1.000
  37   48     -3413.388      10.091       0.069
  38   49     -3413.416       2.987       1.000
  39   50     -3413.417       3.932       1.000
  40   51     -3413.428       2.998       1.000
  41   52     -3413.434       2.693       1.000
  42   53     -3413.444       8.492       1.000
  43   54     -3413.466       4.166       1.000
  44   55     -3413.474       2.790       1.000
  45   56     -3413.485       2.617       1.000
Final RAS Transform: 
0.896125 0.0257273 -0.00247738 2.32677 
0.0743116 1.01772 0.108619 -0.789254 
-0.00517263 -0.0108948 1.00339 0.213313 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2491.07   GNORM= 134.259
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2494.870      45.713       0.000
   2    4     -2495.767      44.560       1.000
   3    5     -2498.456      61.039       1.000
   4    6     -2502.462      75.492       1.000
   5    7     -2513.737     153.968       1.000
   6    8     -2524.052     130.050       1.000
   7    9     -2541.042     101.758       1.000
   8   10     -2542.272      73.090       1.000
   9   11     -2543.773      27.806       1.000
  10   12     -2544.639      29.487       1.000
  11   13     -2550.624      40.896       1.000
  12   14     -2557.591      45.781       1.000
  13   16     -2559.591     108.073       0.345
  14   17     -2564.008      74.392       1.000
  15   18     -2567.089      21.882       1.000
  16   19     -2568.086      38.685       1.000
  17   20     -2569.590      20.553       1.000
  18   21     -2570.495      12.034       1.000
  19   22     -2571.114      17.135       1.000
  20   24     -2571.361      20.461       0.086
  21   25     -2571.817      13.199       1.000
  22   26     -2572.264      12.827       1.000
  23   28     -2572.394       9.379       0.248
  24   29     -2572.458       5.698       1.000
  25   30     -2572.565       5.015       1.000
  26   32     -2572.725       8.053       0.190
  27   33     -2572.850       7.692       1.000
  28   34     -2573.049      13.014       1.000
  29   35     -2573.110       8.070       1.000
  30   36     -2573.139       5.654       1.000
  31   37     -2573.209       6.266       1.000
  32   38     -2573.332       8.280       1.000
  33   39     -2573.389       3.664       1.000
  34   40     -2573.469       9.571       1.000
  35   41     -2573.551       4.485       1.000
  36   42     -2573.597       6.055       1.000
  37   44     -2573.652       4.474       0.179
  38   45     -2573.738       5.749       1.000
  39   46     -2573.829       6.963       1.000
  40   48     -2573.852       6.403       0.414
  41   49     -2573.880       3.184       1.000
  42   50     -2573.901       5.861       1.000
  43   52     -2573.920       5.232       0.209
  44   53     -2573.944       4.973       1.000
  45   54     -2573.972       2.569       1.000
  46   55     -2574.014       7.194       1.000
  47   56     -2574.067       4.765       1.000
  48   57     -2574.069       4.523       1.000
  49   58     -2574.110       5.006       1.000
  50   59     -2574.110       3.841       1.000
  51   60     -2574.121       2.020       1.000
  52   61     -2574.122       3.392       1.000
Final RAS Transform: 
0.944219 0.00609013 -0.00652498 0.932973 
0.065483 1.01889 0.0881075 -0.644612 
-0.00619496 -0.00730357 1.00754 0.218784 
0 0 0 1 

Final RAS Transform: 
0.944219 0.00609013 -0.00652498 0.932973 
0.065483 1.01889 0.0881075 -0.644612 
-0.00619496 -0.00730357 1.00754 0.218784 
0 0 0 1 


real	0m10.898s
user	0m19.160s
sys	0m0.476s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.542014
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0981
Level     0,  Iter     1:    Energy =   0.1035
Level     0,  Iter     2:    Energy =   0.1077
Level     0,  Iter     3:    Energy =   0.1120
Level     0,  Iter     4:    Energy =   0.1155
Level     0,  Iter     5:    Energy =   0.1169
Level     0,  Iter     6:    Energy =   0.1183
Level     0,  Iter     7:    Energy =   0.1193
Level     0,  Iter     8:    Energy =   0.1202
Level     0,  Iter     9:    Energy =   0.1214
Level     0,  Iter    10:    Energy =   0.1221
Level     0,  Iter    11:    Energy =   0.1228
Level     0,  Iter    12:    Energy =   0.1232
Level     0,  Iter    13:    Energy =   0.1235
Level     0,  Iter    14:    Energy =   0.1239
Level     0,  Iter    15:    Energy =   0.1242
Level     0,  Iter    16:    Energy =   0.1244
Level     0,  Iter    17:    Energy =   0.1246
Level     0,  Iter    18:    Energy =   0.1248
Level     0,  Iter    19:    Energy =   0.1249
Level     0,  Iter    20:    Energy =   0.1251
Level     0,  Iter    21:    Energy =   0.1252
Level     0,  Iter    22:    Energy =   0.1253
Level     0,  Iter    23:    Energy =   0.1254
Level     0,  Iter    24:    Energy =   0.1256
Level     0,  Iter    25:    Energy =   0.1257
Level     0,  Iter    26:    Energy =   0.1259
Level     0,  Iter    27:    Energy =   0.1260
Level     0,  Iter    28:    Energy =   0.1261
Level     0,  Iter    29:    Energy =   0.1261
Level     0,  Iter    30:    Energy =   0.1262
Level     0,  Iter    31:    Energy =   0.1262
Level     0,  Iter    32:    Energy =   0.1263
Level     0,  Iter    33:    Energy =   0.1263
Level     0,  Iter    34:    Energy =   0.1264
Level     0,  Iter    35:    Energy =   0.1264
Level     0,  Iter    36:    Energy =   0.1264
Level     0,  Iter    37:    Energy =   0.1264
Level     0,  Iter    38:    Energy =   0.1265
Level     0,  Iter    39:    Energy =   0.1265
Level     0,  Iter    40:    Energy =   0.1265
Level     0,  Iter    41:    Energy =   0.1265
Level     0,  Iter    42:    Energy =   0.1266
Level     0,  Iter    43:    Energy =   0.1266
Level     0,  Iter    44:    Energy =   0.1266
Level     0,  Iter    45:    Energy =   0.1266
Level     0,  Iter    46:    Energy =   0.1266
Level     0,  Iter    47:    Energy =   0.1266
Level     0,  Iter    48:    Energy =   0.1266
Level     0,  Iter    49:    Energy =   0.1266
Level     0,  Iter    50:    Energy =   0.1266
Level     0,  Iter    51:    Energy =   0.1266
Level     0,  Iter    52:    Energy =   0.1266
Level     0,  Iter    53:    Energy =   0.1266
Level     0,  Iter    54:    Energy =   0.1266
Level     0,  Iter    55:    Energy =   0.1265
Level     0,  Iter    56:    Energy =   0.1266
Level     0,  Iter    57:    Energy =   0.1265
Level     0,  Iter    58:    Energy =   0.1266
Level     0,  Iter    59:    Energy =   0.1265
END OF LEVEL     0    DetJac Range:   0.2251  to   2.0111 
  Avg. Gradient Time  : 0.0076s  35.11% 
  Avg. Gaussian Time  : 0.0106s  49.01% 
  Avg. Iteration Time : 0.0216s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0884
Level     1,  Iter     1:    Energy =   0.0928
Level     1,  Iter     2:    Energy =   0.0963
Level     1,  Iter     3:    Energy =   0.0990
Level     1,  Iter     4:    Energy =   0.1016
Level     1,  Iter     5:    Energy =   0.1040
Level     1,  Iter     6:    Energy =   0.1061
Level     1,  Iter     7:    Energy =   0.1078
Level     1,  Iter     8:    Energy =   0.1094
Level     1,  Iter     9:    Energy =   0.1110
Level     1,  Iter    10:    Energy =   0.1124
Level     1,  Iter    11:    Energy =   0.1130
Level     1,  Iter    12:    Energy =   0.1131
Level     1,  Iter    13:    Energy =   0.1138
Level     1,  Iter    14:    Energy =   0.1138
Level     1,  Iter    15:    Energy =   0.1144
Level     1,  Iter    16:    Energy =   0.1144
Level     1,  Iter    17:    Energy =   0.1151
Level     1,  Iter    18:    Energy =   0.1150
Level     1,  Iter    19:    Energy =   0.1156
Level     1,  Iter    20:    Energy =   0.1155
Level     1,  Iter    21:    Energy =   0.1160
Level     1,  Iter    22:    Energy =   0.1159
Level     1,  Iter    23:    Energy =   0.1164
Level     1,  Iter    24:    Energy =   0.1162
Level     1,  Iter    25:    Energy =   0.1167
Level     1,  Iter    26:    Energy =   0.1165
Level     1,  Iter    27:    Energy =   0.1170
Level     1,  Iter    28:    Energy =   0.1168
Level     1,  Iter    29:    Energy =   0.1172
Level     1,  Iter    30:    Energy =   0.1169
Level     1,  Iter    31:    Energy =   0.1174
Level     1,  Iter    32:    Energy =   0.1172
Level     1,  Iter    33:    Energy =   0.1176
Level     1,  Iter    34:    Energy =   0.1173
Level     1,  Iter    35:    Energy =   0.1179
Level     1,  Iter    36:    Energy =   0.1176
Level     1,  Iter    37:    Energy =   0.1180
Level     1,  Iter    38:    Energy =   0.1177
Level     1,  Iter    39:    Energy =   0.1181
Level     1,  Iter    40:    Energy =   0.1179
Level     1,  Iter    41:    Energy =   0.1183
Level     1,  Iter    42:    Energy =   0.1180
Level     1,  Iter    43:    Energy =   0.1184
Level     1,  Iter    44:    Energy =   0.1181
Level     1,  Iter    45:    Energy =   0.1185
Level     1,  Iter    46:    Energy =   0.1182
Level     1,  Iter    47:    Energy =   0.1186
Level     1,  Iter    48:    Energy =   0.1183
Level     1,  Iter    49:    Energy =   0.1187
Level     1,  Iter    50:    Energy =   0.1184
Level     1,  Iter    51:    Energy =   0.1188
Level     1,  Iter    52:    Energy =   0.1185
Level     1,  Iter    53:    Energy =   0.1189
Level     1,  Iter    54:    Energy =   0.1186
Level     1,  Iter    55:    Energy =   0.1190
Level     1,  Iter    56:    Energy =   0.1187
Level     1,  Iter    57:    Energy =   0.1190
Level     1,  Iter    58:    Energy =   0.1187
Level     1,  Iter    59:    Energy =   0.1191
END OF LEVEL     1    DetJac Range:   0.0995  to   3.7016 
  Avg. Gradient Time  : 0.0427s  32.64% 
  Avg. Gaussian Time  : 0.0712s  54.43% 
  Avg. Iteration Time : 0.1308s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0597
Level     2,  Iter     1:    Energy =   0.0625
Level     2,  Iter     2:    Energy =   0.0650
Level     2,  Iter     3:    Energy =   0.0669
Level     2,  Iter     4:    Energy =   0.0688
Level     2,  Iter     5:    Energy =   0.0704
Level     2,  Iter     6:    Energy =   0.0718
Level     2,  Iter     7:    Energy =   0.0730
Level     2,  Iter     8:    Energy =   0.0741
Level     2,  Iter     9:    Energy =   0.0752
Level     2,  Iter    10:    Energy =   0.0761
Level     2,  Iter    11:    Energy =   0.0770
Level     2,  Iter    12:    Energy =   0.0778
Level     2,  Iter    13:    Energy =   0.0785
Level     2,  Iter    14:    Energy =   0.0792
Level     2,  Iter    15:    Energy =   0.0798
Level     2,  Iter    16:    Energy =   0.0803
Level     2,  Iter    17:    Energy =   0.0808
Level     2,  Iter    18:    Energy =   0.0812
Level     2,  Iter    19:    Energy =   0.0816
END OF LEVEL     2    DetJac Range:   0.0475  to   6.7728 
  Avg. Gradient Time  : 0.3062s  27.22% 
  Avg. Gaussian Time  : 0.6815s  60.58% 
  Avg. Iteration Time : 1.1250s 

real	0m36.606s
user	1m6.148s
sys	0m2.380s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=40 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=40 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.430769 0.436538
+ echo 'CHUNK 0.430769 0.436538 1'
CHUNK 0.430769 0.436538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.430769 0.436538 1
====================================
         PROGRESS: 0.430769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=015
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 015
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train015
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train015
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right 015 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train015 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=right
+ local tid=015
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train015
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 015 right 0
+ local tid=015
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 015 0
+ set -e
+ local tid=015
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.755546
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3993.09   GNORM= 962.168
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4177.430     229.184       0.000
   2    4     -4196.390     207.143       1.000
   3    5     -4276.415     206.188       1.000
   4    6     -4315.683     163.788       1.000
   5    7     -4336.739     198.090       1.000
   6    8     -4353.182      76.522       1.000
   7    9     -4359.732      55.353       1.000
   8   10     -4364.776     165.096       1.000
   9   11     -4370.890      94.700       1.000
  10   12     -4373.920      49.822       1.000
  11   13     -4377.395      60.653       1.000
  12   14     -4385.630      66.847       1.000
  13   16     -4390.100      57.807       0.420
  14   17     -4393.843      49.150       1.000
  15   19     -4394.459      70.670       0.187
  16   20     -4395.570      35.287       1.000
  17   21     -4396.214      24.393       1.000
  18   22     -4397.655      32.384       1.000
  19   23     -4398.372      24.572       1.000
  20   24     -4398.815      20.854       1.000
  21   25     -4399.264      14.114       1.000
  22   26     -4399.465      22.786       1.000
  23   27     -4399.633      11.780       1.000
  24   28     -4399.841      22.722       1.000
  25   29     -4400.074      10.048       1.000
  26   30     -4400.159      10.881       1.000
  27   31     -4400.254      13.385       1.000
  28   32     -4400.356      18.488       1.000
  29   33     -4400.472      13.740       1.000
  30   34     -4400.579      11.520       1.000
  31   35     -4400.626       8.986       1.000
  32   36     -4400.671       3.556       1.000
  33   37     -4400.694       7.592       1.000
  34   39     -4400.708      11.306       0.409
  35   40     -4400.762       9.304       1.000
  36   42     -4400.806       6.273       0.305
  37   43     -4400.815       4.695       1.000
  38   45     -4400.825       6.747       0.327
  39   46     -4400.851       6.387       1.000
  40   47     -4400.891      12.537       1.000
  41   48     -4400.924       6.620       1.000
  42   49     -4400.933       4.231       1.000
  43   50     -4400.938       5.958       1.000
  44   51     -4400.950       2.615       1.000
  45   52     -4400.963       5.349       1.000
  46   53     -4400.970       3.353       1.000
  47   55     -4400.971       1.844       0.066
  48   56     -4400.977       2.624       1.000
  49   58     -4400.977       3.916       0.113
  50   59     -4400.978       3.560       1.000
  51   61     -4400.979       2.610       0.107
Final RAS Transform: 
0.981382 0.00391136 -0.0249517 0.153095 
0.0215733 1.0217 0.0949862 0.605345 
-0.00557724 -0.00884807 1.00331 -0.142509 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3240.72   GNORM= 238.062
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3251.349     111.057       0.000
   2    4     -3255.216      88.082       1.000
   3    5     -3260.508      41.800       1.000
   4    6     -3262.709      49.498       1.000
   5    7     -3266.239      47.796       1.000
   6    8     -3273.627      47.850       1.000
   7    9     -3274.430      68.769       1.000
   8   10     -3276.750      53.459       1.000
   9   11     -3277.138      47.110       1.000
  10   12     -3277.598      19.967       1.000
  11   13     -3277.916      18.953       1.000
  12   14     -3278.766      35.355       1.000
  13   15     -3279.295      20.105       1.000
  14   16     -3279.559      13.733       1.000
  15   17     -3279.872      14.958       1.000
  16   18     -3280.386      37.295       1.000
  17   19     -3281.206      31.873       1.000
  18   21     -3281.947      64.124       0.316
  19   22     -3282.627      26.463       1.000
  20   23     -3283.056      13.482       1.000
  21   24     -3283.144      14.923       1.000
  22   25     -3283.222       7.782       1.000
  23   26     -3283.284       8.445       1.000
  24   28     -3283.662      18.705       5.000
  25   29     -3283.966      30.322       1.000
  26   30     -3284.170       9.778       1.000
  27   31     -3284.295       6.695       1.000
  28   32     -3284.464      14.361       1.000
  29   33     -3284.547       9.757       1.000
  30   34     -3284.652       6.528       1.000
  31   36     -3284.678       6.669       0.284
  32   37     -3284.734       5.668       1.000
  33   38     -3284.954       9.667       1.000
  34   40     -3285.006      21.089       0.212
  35   41     -3285.169      15.802       1.000
  36   43     -3285.843       9.721       0.465
  37   44     -3285.908      14.795       1.000
  38   45     -3286.040       7.963       1.000
  39   46     -3286.070       4.237       1.000
  40   47     -3286.089       2.962       1.000
  41   48     -3286.099      11.262       1.000
  42   49     -3286.131       7.838       1.000
  43   50     -3286.149       2.739       1.000
  44   51     -3286.164       3.198       1.000
  45   52     -3286.166       4.372       1.000
  46   53     -3286.186       3.543       1.000
  47   54     -3286.215       2.108       1.000
  48   56     -3286.218       2.073       0.271
  49   57     -3286.222       4.217       1.000
  50   58     -3286.230       2.979       1.000
  51   59     -3286.235      10.805       1.000
  52   60     -3286.245       2.023       1.000
  53   61     -3286.251       1.208       1.000
Final RAS Transform: 
1.00302 0.000905814 -0.00898399 -0.170846 
0.00568549 1.02195 0.0762174 0.659353 
-0.0078058 -0.00783047 1.01125 -0.0478357 
0 0 0 1 

Final RAS Transform: 
1.00302 0.000905814 -0.00898399 -0.170846 
0.00568549 1.02195 0.0762174 0.659353 
-0.0078058 -0.00783047 1.01125 -0.0478357 
0 0 0 1 


real	0m10.581s
user	0m18.532s
sys	0m0.484s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.763261
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1290
Level     0,  Iter     1:    Energy =   0.1368
Level     0,  Iter     2:    Energy =   0.1428
Level     0,  Iter     3:    Energy =   0.1467
Level     0,  Iter     4:    Energy =   0.1489
Level     0,  Iter     5:    Energy =   0.1503
Level     0,  Iter     6:    Energy =   0.1514
Level     0,  Iter     7:    Energy =   0.1521
Level     0,  Iter     8:    Energy =   0.1529
Level     0,  Iter     9:    Energy =   0.1533
Level     0,  Iter    10:    Energy =   0.1540
Level     0,  Iter    11:    Energy =   0.1542
Level     0,  Iter    12:    Energy =   0.1548
Level     0,  Iter    13:    Energy =   0.1548
Level     0,  Iter    14:    Energy =   0.1554
Level     0,  Iter    15:    Energy =   0.1554
Level     0,  Iter    16:    Energy =   0.1559
Level     0,  Iter    17:    Energy =   0.1559
Level     0,  Iter    18:    Energy =   0.1564
Level     0,  Iter    19:    Energy =   0.1562
Level     0,  Iter    20:    Energy =   0.1567
Level     0,  Iter    21:    Energy =   0.1565
Level     0,  Iter    22:    Energy =   0.1570
Level     0,  Iter    23:    Energy =   0.1568
Level     0,  Iter    24:    Energy =   0.1573
Level     0,  Iter    25:    Energy =   0.1571
Level     0,  Iter    26:    Energy =   0.1575
Level     0,  Iter    27:    Energy =   0.1572
Level     0,  Iter    28:    Energy =   0.1577
Level     0,  Iter    29:    Energy =   0.1574
Level     0,  Iter    30:    Energy =   0.1578
Level     0,  Iter    31:    Energy =   0.1575
Level     0,  Iter    32:    Energy =   0.1579
Level     0,  Iter    33:    Energy =   0.1576
Level     0,  Iter    34:    Energy =   0.1580
Level     0,  Iter    35:    Energy =   0.1577
Level     0,  Iter    36:    Energy =   0.1581
Level     0,  Iter    37:    Energy =   0.1577
Level     0,  Iter    38:    Energy =   0.1582
Level     0,  Iter    39:    Energy =   0.1579
Level     0,  Iter    40:    Energy =   0.1583
Level     0,  Iter    41:    Energy =   0.1579
Level     0,  Iter    42:    Energy =   0.1584
Level     0,  Iter    43:    Energy =   0.1582
Level     0,  Iter    44:    Energy =   0.1586
Level     0,  Iter    45:    Energy =   0.1581
Level     0,  Iter    46:    Energy =   0.1586
Level     0,  Iter    47:    Energy =   0.1582
Level     0,  Iter    48:    Energy =   0.1586
Level     0,  Iter    49:    Energy =   0.1581
Level     0,  Iter    50:    Energy =   0.1586
Level     0,  Iter    51:    Energy =   0.1583
Level     0,  Iter    52:    Energy =   0.1587
Level     0,  Iter    53:    Energy =   0.1581
Level     0,  Iter    54:    Energy =   0.1585
Level     0,  Iter    55:    Energy =   0.1582
Level     0,  Iter    56:    Energy =   0.1586
Level     0,  Iter    57:    Energy =   0.1580
Level     0,  Iter    58:    Energy =   0.1584
Level     0,  Iter    59:    Energy =   0.1581
END OF LEVEL     0    DetJac Range:   0.2516  to   2.1683 
  Avg. Gradient Time  : 0.0076s  34.72% 
  Avg. Gaussian Time  : 0.0109s  49.64% 
  Avg. Iteration Time : 0.0219s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.1104
Level     1,  Iter     1:    Energy =   0.1154
Level     1,  Iter     2:    Energy =   0.1190
Level     1,  Iter     3:    Energy =   0.1221
Level     1,  Iter     4:    Energy =   0.1246
Level     1,  Iter     5:    Energy =   0.1266
Level     1,  Iter     6:    Energy =   0.1280
Level     1,  Iter     7:    Energy =   0.1291
Level     1,  Iter     8:    Energy =   0.1300
Level     1,  Iter     9:    Energy =   0.1307
Level     1,  Iter    10:    Energy =   0.1313
Level     1,  Iter    11:    Energy =   0.1318
Level     1,  Iter    12:    Energy =   0.1320
Level     1,  Iter    13:    Energy =   0.1323
Level     1,  Iter    14:    Energy =   0.1323
Level     1,  Iter    15:    Energy =   0.1328
Level     1,  Iter    16:    Energy =   0.1327
Level     1,  Iter    17:    Energy =   0.1331
Level     1,  Iter    18:    Energy =   0.1330
Level     1,  Iter    19:    Energy =   0.1334
Level     1,  Iter    20:    Energy =   0.1333
Level     1,  Iter    21:    Energy =   0.1336
Level     1,  Iter    22:    Energy =   0.1335
Level     1,  Iter    23:    Energy =   0.1338
Level     1,  Iter    24:    Energy =   0.1336
Level     1,  Iter    25:    Energy =   0.1339
Level     1,  Iter    26:    Energy =   0.1338
Level     1,  Iter    27:    Energy =   0.1340
Level     1,  Iter    28:    Energy =   0.1339
Level     1,  Iter    29:    Energy =   0.1341
Level     1,  Iter    30:    Energy =   0.1340
Level     1,  Iter    31:    Energy =   0.1342
Level     1,  Iter    32:    Energy =   0.1341
Level     1,  Iter    33:    Energy =   0.1343
Level     1,  Iter    34:    Energy =   0.1342
Level     1,  Iter    35:    Energy =   0.1344
Level     1,  Iter    36:    Energy =   0.1342
Level     1,  Iter    37:    Energy =   0.1345
Level     1,  Iter    38:    Energy =   0.1343
Level     1,  Iter    39:    Energy =   0.1345
Level     1,  Iter    40:    Energy =   0.1343
Level     1,  Iter    41:    Energy =   0.1346
Level     1,  Iter    42:    Energy =   0.1344
Level     1,  Iter    43:    Energy =   0.1346
Level     1,  Iter    44:    Energy =   0.1345
Level     1,  Iter    45:    Energy =   0.1347
Level     1,  Iter    46:    Energy =   0.1345
Level     1,  Iter    47:    Energy =   0.1348
Level     1,  Iter    48:    Energy =   0.1346
Level     1,  Iter    49:    Energy =   0.1348
Level     1,  Iter    50:    Energy =   0.1346
Level     1,  Iter    51:    Energy =   0.1348
Level     1,  Iter    52:    Energy =   0.1347
Level     1,  Iter    53:    Energy =   0.1349
Level     1,  Iter    54:    Energy =   0.1347
Level     1,  Iter    55:    Energy =   0.1349
Level     1,  Iter    56:    Energy =   0.1348
Level     1,  Iter    57:    Energy =   0.1350
Level     1,  Iter    58:    Energy =   0.1348
Level     1,  Iter    59:    Energy =   0.1350
END OF LEVEL     1    DetJac Range:   0.1656  to   2.9347 
  Avg. Gradient Time  : 0.0436s  33.09% 
  Avg. Gaussian Time  : 0.0713s  54.07% 
  Avg. Iteration Time : 0.1319s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0709
Level     2,  Iter     1:    Energy =   0.0741
Level     2,  Iter     2:    Energy =   0.0767
Level     2,  Iter     3:    Energy =   0.0789
Level     2,  Iter     4:    Energy =   0.0806
Level     2,  Iter     5:    Energy =   0.0820
Level     2,  Iter     6:    Energy =   0.0830
Level     2,  Iter     7:    Energy =   0.0840
Level     2,  Iter     8:    Energy =   0.0848
Level     2,  Iter     9:    Energy =   0.0854
Level     2,  Iter    10:    Energy =   0.0861
Level     2,  Iter    11:    Energy =   0.0866
Level     2,  Iter    12:    Energy =   0.0871
Level     2,  Iter    13:    Energy =   0.0876
Level     2,  Iter    14:    Energy =   0.0880
Level     2,  Iter    15:    Energy =   0.0885
Level     2,  Iter    16:    Energy =   0.0889
Level     2,  Iter    17:    Energy =   0.0892
Level     2,  Iter    18:    Energy =   0.0895
Level     2,  Iter    19:    Energy =   0.0898
END OF LEVEL     2    DetJac Range:   0.0970  to   3.5909 
  Avg. Gradient Time  : 0.3042s  26.81% 
  Avg. Gaussian Time  : 0.6940s  61.15% 
  Avg. Iteration Time : 1.1349s 

real	0m36.846s
user	1m6.904s
sys	0m2.196s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=41 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=41 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.436538 0.442308
+ echo 'CHUNK 0.436538 0.442308 1'
CHUNK 0.436538 0.442308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.436538 0.442308 1
====================================
         PROGRESS: 0.436538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=016
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 016
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train016
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train016
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right 016 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train016 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=right
+ local tid=016
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train016
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 016 right 0
+ local tid=016
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 016 0
+ set -e
+ local tid=016
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.683794
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3392.47   GNORM= 530.135
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3481.108     295.700       0.001
   2    4     -3520.359     257.817       1.000
   3    5     -3578.280     194.979       1.000
   4    6     -3604.821     118.576       1.000
   5    7     -3624.801      94.035       1.000
   6    8     -3635.428      62.868       1.000
   7    9     -3649.670      92.354       1.000
   8   10     -3652.404     163.511       1.000
   9   11     -3662.727      44.362       1.000
  10   12     -3666.693      45.685       1.000
  11   13     -3676.633      76.000       1.000
  12   14     -3681.400     123.694       1.000
  13   15     -3690.118      62.158       1.000
  14   16     -3699.938      37.054       1.000
  15   17     -3703.491      69.703       1.000
  16   18     -3704.703      84.504       1.000
  17   19     -3706.309      36.321       1.000
  18   20     -3707.558      34.340       1.000
  19   21     -3709.102      47.028       1.000
  20   22     -3715.591      66.551       1.000
  21   24     -3717.299      52.565       0.457
  22   25     -3718.326      17.832       1.000
  23   26     -3718.832      27.681       1.000
  24   27     -3719.042      19.548       1.000
  25   28     -3719.576      12.677       1.000
  26   30     -3720.247      36.656       0.157
  27   31     -3720.710      38.153       1.000
  28   32     -3721.783      33.606       1.000
  29   33     -3722.148      28.444       1.000
  30   34     -3722.379      17.571       1.000
  31   35     -3722.936      13.491       1.000
  32   36     -3723.417      18.507       1.000
  33   38     -3723.827      19.365       0.425
  34   40     -3723.957      13.824       0.400
  35   41     -3724.099      10.741       1.000
  36   43     -3724.172       8.512       0.481
  37   44     -3724.177      10.275       1.000
  38   45     -3724.242       9.041       1.000
  39   47     -3724.266       5.772       0.222
  40   48     -3724.309       5.251       1.000
  41   50     -3724.352      10.492       0.361
  42   51     -3724.429       6.567       1.000
  43   52     -3724.455       6.744       1.000
  44   53     -3724.487       5.864       1.000
  45   54     -3724.493       7.199       1.000
  46   55     -3724.507       4.037       1.000
  47   56     -3724.540       3.092       1.000
  48   57     -3724.569       5.030       1.000
  49   59     -3724.583       5.093       0.400
  50   60     -3724.590       6.106       1.000
  51   61     -3724.618       2.603       1.000
Final RAS Transform: 
0.927061 -0.0195795 -0.0758715 0.749018 
0.0430635 1.02233 0.113557 0.023943 
-0.00280931 -0.012607 0.993341 -0.0902855 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2792.52   GNORM= 198.931
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2805.944     127.417       0.001
   2    4     -2811.347      53.180       1.000
   3    5     -2813.563      44.549       1.000
   4    6     -2818.598      94.460       1.000
   5    7     -2823.631      93.827       1.000
   6    8     -2826.942     144.010       1.000
   7    9     -2838.829      30.254       1.000
   8   10     -2839.224      40.959       1.000
   9   11     -2839.568      10.510       1.000
  10   12     -2839.670      11.156       1.000
  11   13     -2840.061      18.823       1.000
  12   14     -2840.704      21.041       1.000
  13   16     -2841.163      41.016       0.272
  14   17     -2841.680      20.949       1.000
  15   18     -2842.009      25.896       1.000
  16   19     -2842.322      20.301       1.000
  17   20     -2843.073      10.602       1.000
  18   22     -2843.484      25.907       0.398
  19   23     -2843.787       8.052       1.000
  20   24     -2843.853       6.283       1.000
  21   25     -2843.986       8.856       1.000
  22   26     -2844.161      20.807       1.000
  23   27     -2844.342       6.745       1.000
  24   28     -2844.394       3.700       1.000
  25   29     -2844.426       3.283       1.000
  26   31     -2844.443       8.157       0.373
  27   32     -2844.470       4.899       1.000
  28   33     -2844.528       4.556       1.000
  29   35     -2844.571       5.704       0.337
  30   36     -2844.587       2.956       1.000
  31   37     -2844.593       3.545       1.000
  32   38     -2844.600       8.011       1.000
  33   39     -2844.635       2.659       1.000
  34   40     -2844.660       2.128       1.000
  35   42     -2844.677      10.350       0.437
  36   43     -2844.711       6.742       1.000
  37   45     -2844.762       3.811       0.393
  38   46     -2844.782       5.275       1.000
  39   47     -2844.815       8.503       1.000
  40   48     -2844.854       5.316       1.000
  41   49     -2844.866      15.889       1.000
  42   50     -2844.912       8.590       1.000
  43   51     -2844.936       6.449       1.000
  44   52     -2844.948       3.565       1.000
  45   53     -2844.978       3.819       1.000
  46   54     -2844.987       3.672       1.000
  47   55     -2845.003       4.222       1.000
  48   56     -2845.013       4.169       1.000
  49   57     -2845.039       9.321       1.000
  50   58     -2845.059       6.073       1.000
  51   59     -2845.095       3.072       1.000
  52   61     -2845.108       2.257       0.491
Final RAS Transform: 
0.940939 -0.0216871 -0.0612108 0.336498 
0.033629 1.03476 0.119994 0.335305 
0.00248026 -0.00588301 1.00561 0.0996468 
0 0 0 1 

Final RAS Transform: 
0.940939 -0.0216871 -0.0612108 0.336498 
0.033629 1.03476 0.119994 0.335305 
0.00248026 -0.00588301 1.00561 0.0996468 
0 0 0 1 


real	0m10.778s
user	0m18.852s
sys	0m0.524s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.683448
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1114
Level     0,  Iter     1:    Energy =   0.1180
Level     0,  Iter     2:    Energy =   0.1231
Level     0,  Iter     3:    Energy =   0.1273
Level     0,  Iter     4:    Energy =   0.1313
Level     0,  Iter     5:    Energy =   0.1328
Level     0,  Iter     6:    Energy =   0.1343
Level     0,  Iter     7:    Energy =   0.1356
Level     0,  Iter     8:    Energy =   0.1365
Level     0,  Iter     9:    Energy =   0.1376
Level     0,  Iter    10:    Energy =   0.1383
Level     0,  Iter    11:    Energy =   0.1391
Level     0,  Iter    12:    Energy =   0.1396
Level     0,  Iter    13:    Energy =   0.1401
Level     0,  Iter    14:    Energy =   0.1405
Level     0,  Iter    15:    Energy =   0.1409
Level     0,  Iter    16:    Energy =   0.1412
Level     0,  Iter    17:    Energy =   0.1413
Level     0,  Iter    18:    Energy =   0.1416
Level     0,  Iter    19:    Energy =   0.1417
Level     0,  Iter    20:    Energy =   0.1420
Level     0,  Iter    21:    Energy =   0.1420
Level     0,  Iter    22:    Energy =   0.1422
Level     0,  Iter    23:    Energy =   0.1422
Level     0,  Iter    24:    Energy =   0.1425
Level     0,  Iter    25:    Energy =   0.1423
Level     0,  Iter    26:    Energy =   0.1426
Level     0,  Iter    27:    Energy =   0.1425
Level     0,  Iter    28:    Energy =   0.1428
Level     0,  Iter    29:    Energy =   0.1427
Level     0,  Iter    30:    Energy =   0.1429
Level     0,  Iter    31:    Energy =   0.1428
Level     0,  Iter    32:    Energy =   0.1431
Level     0,  Iter    33:    Energy =   0.1429
Level     0,  Iter    34:    Energy =   0.1432
Level     0,  Iter    35:    Energy =   0.1430
Level     0,  Iter    36:    Energy =   0.1433
Level     0,  Iter    37:    Energy =   0.1431
Level     0,  Iter    38:    Energy =   0.1434
Level     0,  Iter    39:    Energy =   0.1432
Level     0,  Iter    40:    Energy =   0.1434
Level     0,  Iter    41:    Energy =   0.1433
Level     0,  Iter    42:    Energy =   0.1435
Level     0,  Iter    43:    Energy =   0.1433
Level     0,  Iter    44:    Energy =   0.1436
Level     0,  Iter    45:    Energy =   0.1434
Level     0,  Iter    46:    Energy =   0.1437
Level     0,  Iter    47:    Energy =   0.1434
Level     0,  Iter    48:    Energy =   0.1437
Level     0,  Iter    49:    Energy =   0.1435
Level     0,  Iter    50:    Energy =   0.1437
Level     0,  Iter    51:    Energy =   0.1435
Level     0,  Iter    52:    Energy =   0.1438
Level     0,  Iter    53:    Energy =   0.1436
Level     0,  Iter    54:    Energy =   0.1439
Level     0,  Iter    55:    Energy =   0.1437
Level     0,  Iter    56:    Energy =   0.1439
Level     0,  Iter    57:    Energy =   0.1437
Level     0,  Iter    58:    Energy =   0.1440
Level     0,  Iter    59:    Energy =   0.1438
END OF LEVEL     0    DetJac Range:   0.2216  to   1.8375 
  Avg. Gradient Time  : 0.0076s  35.01% 
  Avg. Gaussian Time  : 0.0107s  49.24% 
  Avg. Iteration Time : 0.0217s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.1023
Level     1,  Iter     1:    Energy =   0.1068
Level     1,  Iter     2:    Energy =   0.1107
Level     1,  Iter     3:    Energy =   0.1135
Level     1,  Iter     4:    Energy =   0.1155
Level     1,  Iter     5:    Energy =   0.1174
Level     1,  Iter     6:    Energy =   0.1195
Level     1,  Iter     7:    Energy =   0.1213
Level     1,  Iter     8:    Energy =   0.1231
Level     1,  Iter     9:    Energy =   0.1234
Level     1,  Iter    10:    Energy =   0.1244
Level     1,  Iter    11:    Energy =   0.1245
Level     1,  Iter    12:    Energy =   0.1254
Level     1,  Iter    13:    Energy =   0.1253
Level     1,  Iter    14:    Energy =   0.1260
Level     1,  Iter    15:    Energy =   0.1258
Level     1,  Iter    16:    Energy =   0.1262
Level     1,  Iter    17:    Energy =   0.1260
Level     1,  Iter    18:    Energy =   0.1264
Level     1,  Iter    19:    Energy =   0.1262
Level     1,  Iter    20:    Energy =   0.1266
Level     1,  Iter    21:    Energy =   0.1264
Level     1,  Iter    22:    Energy =   0.1268
Level     1,  Iter    23:    Energy =   0.1266
Level     1,  Iter    24:    Energy =   0.1270
Level     1,  Iter    25:    Energy =   0.1268
Level     1,  Iter    26:    Energy =   0.1271
Level     1,  Iter    27:    Energy =   0.1270
Level     1,  Iter    28:    Energy =   0.1273
Level     1,  Iter    29:    Energy =   0.1271
Level     1,  Iter    30:    Energy =   0.1275
Level     1,  Iter    31:    Energy =   0.1273
Level     1,  Iter    32:    Energy =   0.1276
Level     1,  Iter    33:    Energy =   0.1275
Level     1,  Iter    34:    Energy =   0.1278
Level     1,  Iter    35:    Energy =   0.1276
Level     1,  Iter    36:    Energy =   0.1279
Level     1,  Iter    37:    Energy =   0.1278
Level     1,  Iter    38:    Energy =   0.1280
Level     1,  Iter    39:    Energy =   0.1279
Level     1,  Iter    40:    Energy =   0.1281
Level     1,  Iter    41:    Energy =   0.1281
Level     1,  Iter    42:    Energy =   0.1282
Level     1,  Iter    43:    Energy =   0.1282
Level     1,  Iter    44:    Energy =   0.1283
Level     1,  Iter    45:    Energy =   0.1282
Level     1,  Iter    46:    Energy =   0.1284
Level     1,  Iter    47:    Energy =   0.1283
Level     1,  Iter    48:    Energy =   0.1285
Level     1,  Iter    49:    Energy =   0.1284
Level     1,  Iter    50:    Energy =   0.1286
Level     1,  Iter    51:    Energy =   0.1285
Level     1,  Iter    52:    Energy =   0.1287
Level     1,  Iter    53:    Energy =   0.1286
Level     1,  Iter    54:    Energy =   0.1287
Level     1,  Iter    55:    Energy =   0.1286
Level     1,  Iter    56:    Energy =   0.1288
Level     1,  Iter    57:    Energy =   0.1287
Level     1,  Iter    58:    Energy =   0.1289
Level     1,  Iter    59:    Energy =   0.1287
END OF LEVEL     1    DetJac Range:   0.1572  to   3.0775 
  Avg. Gradient Time  : 0.0432s  32.87% 
  Avg. Gaussian Time  : 0.0713s  54.25% 
  Avg. Iteration Time : 0.1315s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0688
Level     2,  Iter     1:    Energy =   0.0712
Level     2,  Iter     2:    Energy =   0.0734
Level     2,  Iter     3:    Energy =   0.0761
Level     2,  Iter     4:    Energy =   0.0777
Level     2,  Iter     5:    Energy =   0.0790
Level     2,  Iter     6:    Energy =   0.0802
Level     2,  Iter     7:    Energy =   0.0812
Level     2,  Iter     8:    Energy =   0.0821
Level     2,  Iter     9:    Energy =   0.0827
Level     2,  Iter    10:    Energy =   0.0834
Level     2,  Iter    11:    Energy =   0.0840
Level     2,  Iter    12:    Energy =   0.0846
Level     2,  Iter    13:    Energy =   0.0852
Level     2,  Iter    14:    Energy =   0.0857
Level     2,  Iter    15:    Energy =   0.0864
Level     2,  Iter    16:    Energy =   0.0869
Level     2,  Iter    17:    Energy =   0.0875
Level     2,  Iter    18:    Energy =   0.0881
Level     2,  Iter    19:    Energy =   0.0884
END OF LEVEL     2    DetJac Range:   0.1162  to   4.8169 
  Avg. Gradient Time  : 0.3064s  27.53% 
  Avg. Gaussian Time  : 0.6696s  60.16% 
  Avg. Iteration Time : 1.1130s 

real	0m36.392s
user	1m5.936s
sys	0m2.244s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=42 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=42 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.442308 0.448077
+ echo 'CHUNK 0.442308 0.448077 1'
CHUNK 0.442308 0.448077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.442308 0.448077 1
====================================
         PROGRESS: 0.442308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=017
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 017
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train017
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train017
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right 017 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train017 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=right
+ local tid=017
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train017
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 017 right 0
+ local tid=017
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 017 0
+ set -e
+ local tid=017
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.409406
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3287.81   GNORM= 833.825
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3468.633     244.417       0.000
   2    4     -3493.700     196.415       1.000
   3    5     -3545.136     133.324       1.000
   4    6     -3572.067     111.278       1.000
   5    7     -3608.599      88.003       1.000
   6    8     -3652.398      73.221       1.000
   7   10     -3663.179     161.271       0.464
   8   11     -3677.527      86.737       1.000
   9   12     -3685.505      62.131       1.000
  10   13     -3699.192      45.707       1.000
  11   14     -3700.296      62.269       1.000
  12   15     -3702.918      19.310       1.000
  13   16     -3703.104      10.992       1.000
  14   17     -3703.249      10.689       1.000
  15   19     -3703.382      15.469       0.215
  16   20     -3703.504      14.441       1.000
  17   21     -3703.725      13.545       1.000
  18   22     -3703.830      29.587       1.000
  19   23     -3704.206      12.809       1.000
  20   24     -3704.274       7.058       1.000
  21   25     -3704.321       9.787       1.000
  22   27     -3704.362       9.067       0.307
  23   28     -3704.394       4.119       1.000
  24   29     -3704.415       3.694       1.000
  25   30     -3704.479       8.077       1.000
  26   31     -3704.530       5.367       1.000
  27   32     -3704.573       7.265       1.000
  28   34     -3704.624       9.522       0.378
  29   35     -3704.682       9.237       1.000
  30   36     -3704.711      11.702       1.000
  31   37     -3704.764       9.595       1.000
  32   39     -3704.792       3.884       0.488
  33   41     -3704.796       4.688       0.222
  34   43     -3704.799       7.444       0.331
  35   45     -3704.830       5.480       5.000
  36   46     -3704.845       3.715       1.000
  37   48     -3704.847       3.546       0.365
  38   49     -3704.862       3.674       1.000
  39   51     -3704.865       5.977       0.395
  40   52     -3704.909       4.209       1.000
  41   54     -3704.931       4.726       0.255
  42   55     -3704.944       5.439       1.000
  43   57     -3704.951       7.141       0.261
  44   59     -3704.960       6.228       0.091
  45   61     -3704.962       2.845       0.193
Final RAS Transform: 
0.926656 0.000186163 -0.0226944 1.05095 
-0.00839756 1.00022 0.0425997 0.475527 
0.0293905 -0.00853672 1.01291 -0.849733 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2800.8   GNORM= 281.147
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2817.914     116.434       0.000
   2    4     -2823.751     104.395       1.000
   3    5     -2831.795      42.652       1.000
   4    6     -2833.465      32.313       1.000
   5    7     -2840.321      89.589       1.000
   6    8     -2845.835      91.424       1.000
   7   10     -2849.464      86.915       0.248
   8   11     -2855.320      31.790       1.000
   9   12     -2856.231      18.068       1.000
  10   13     -2857.011      27.590       1.000
  11   14     -2858.620      43.785       1.000
  12   15     -2860.923      37.466       1.000
  13   17     -2861.443      44.245       0.162
  14   18     -2862.599      27.144       1.000
  15   19     -2863.707      22.545       1.000
  16   20     -2864.544      20.289       1.000
  17   21     -2865.719      34.196       1.000
  18   22     -2866.313      19.744       1.000
  19   23     -2866.540      11.113       1.000
  20   24     -2866.690      11.609       1.000
  21   25     -2866.801      15.980       1.000
  22   26     -2866.912      10.688       1.000
  23   27     -2867.314      10.372       1.000
  24   28     -2867.648      10.239       1.000
  25   30     -2867.886      12.300       0.399
  26   31     -2868.073       8.233       1.000
  27   32     -2868.121       6.202       1.000
  28   33     -2868.146       4.363       1.000
  29   34     -2868.162       4.339       1.000
  30   35     -2868.213       2.755       1.000
  31   36     -2868.244       3.506       1.000
  32   37     -2868.267      13.927       1.000
  33   38     -2868.311       6.603       1.000
  34   39     -2868.369       6.633       1.000
  35   40     -2868.387       9.990       1.000
  36   41     -2868.411       4.885       1.000
  37   42     -2868.422       3.887       1.000
  38   43     -2868.445       2.507       1.000
  39   45     -2868.446       2.954       0.349
  40   46     -2868.460       4.000       1.000
  41   47     -2868.486       4.227       1.000
  42   48     -2868.488       6.684       1.000
  43   49     -2868.504       2.073       1.000
  44   51     -2868.504       1.715       0.171
  45   52     -2868.509       2.056       1.000
  46   53     -2868.518       1.418       1.000
  47   54     -2868.521       1.954       1.000
  48   56     -2868.528       2.155       0.282
  49   57     -2868.537       1.522       1.000
  50   58     -2868.548       2.484       1.000
Final RAS Transform: 
0.953814 -0.00114733 -0.0230301 0.457794 
-0.00389692 1.00888 0.0603622 0.417465 
0.0163836 -0.00314324 1.0174 -0.398885 
0 0 0 1 

Final RAS Transform: 
0.953814 -0.00114733 -0.0230301 0.457794 
-0.00389692 1.00888 0.0603622 0.417465 
0.0163836 -0.00314324 1.0174 -0.398885 
0 0 0 1 


real	0m9.873s
user	0m17.388s
sys	0m0.432s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.423285
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1098
Level     0,  Iter     1:    Energy =   0.1182
Level     0,  Iter     2:    Energy =   0.1251
Level     0,  Iter     3:    Energy =   0.1290
Level     0,  Iter     4:    Energy =   0.1317
Level     0,  Iter     5:    Energy =   0.1331
Level     0,  Iter     6:    Energy =   0.1347
Level     0,  Iter     7:    Energy =   0.1352
Level     0,  Iter     8:    Energy =   0.1362
Level     0,  Iter     9:    Energy =   0.1365
Level     0,  Iter    10:    Energy =   0.1372
Level     0,  Iter    11:    Energy =   0.1374
Level     0,  Iter    12:    Energy =   0.1380
Level     0,  Iter    13:    Energy =   0.1382
Level     0,  Iter    14:    Energy =   0.1388
Level     0,  Iter    15:    Energy =   0.1391
Level     0,  Iter    16:    Energy =   0.1396
Level     0,  Iter    17:    Energy =   0.1400
Level     0,  Iter    18:    Energy =   0.1402
Level     0,  Iter    19:    Energy =   0.1399
Level     0,  Iter    20:    Energy =   0.1402
Level     0,  Iter    21:    Energy =   0.1403
Level     0,  Iter    22:    Energy =   0.1406
Level     0,  Iter    23:    Energy =   0.1408
Level     0,  Iter    24:    Energy =   0.1411
Level     0,  Iter    25:    Energy =   0.1408
Level     0,  Iter    26:    Energy =   0.1413
Level     0,  Iter    27:    Energy =   0.1417
Level     0,  Iter    28:    Energy =   0.1417
Level     0,  Iter    29:    Energy =   0.1412
Level     0,  Iter    30:    Energy =   0.1416
Level     0,  Iter    31:    Energy =   0.1420
Level     0,  Iter    32:    Energy =   0.1420
Level     0,  Iter    33:    Energy =   0.1416
Level     0,  Iter    34:    Energy =   0.1419
Level     0,  Iter    35:    Energy =   0.1421
Level     0,  Iter    36:    Energy =   0.1422
Level     0,  Iter    37:    Energy =   0.1418
Level     0,  Iter    38:    Energy =   0.1421
Level     0,  Iter    39:    Energy =   0.1424
Level     0,  Iter    40:    Energy =   0.1424
Level     0,  Iter    41:    Energy =   0.1421
Level     0,  Iter    42:    Energy =   0.1423
Level     0,  Iter    43:    Energy =   0.1424
Level     0,  Iter    44:    Energy =   0.1426
Level     0,  Iter    45:    Energy =   0.1423
Level     0,  Iter    46:    Energy =   0.1426
Level     0,  Iter    47:    Energy =   0.1428
Level     0,  Iter    48:    Energy =   0.1428
Level     0,  Iter    49:    Energy =   0.1423
Level     0,  Iter    50:    Energy =   0.1427
Level     0,  Iter    51:    Energy =   0.1429
Level     0,  Iter    52:    Energy =   0.1429
Level     0,  Iter    53:    Energy =   0.1425
Level     0,  Iter    54:    Energy =   0.1428
Level     0,  Iter    55:    Energy =   0.1428
Level     0,  Iter    56:    Energy =   0.1429
Level     0,  Iter    57:    Energy =   0.1427
Level     0,  Iter    58:    Energy =   0.1430
Level     0,  Iter    59:    Energy =   0.1431
END OF LEVEL     0    DetJac Range:   0.1458  to   1.8650 
  Avg. Gradient Time  : 0.0086s  34.93% 
  Avg. Gaussian Time  : 0.0121s  49.25% 
  Avg. Iteration Time : 0.0246s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.1007
Level     1,  Iter     1:    Energy =   0.1051
Level     1,  Iter     2:    Energy =   0.1096
Level     1,  Iter     3:    Energy =   0.1134
Level     1,  Iter     4:    Energy =   0.1163
Level     1,  Iter     5:    Energy =   0.1182
Level     1,  Iter     6:    Energy =   0.1188
Level     1,  Iter     7:    Energy =   0.1201
Level     1,  Iter     8:    Energy =   0.1206
Level     1,  Iter     9:    Energy =   0.1213
Level     1,  Iter    10:    Energy =   0.1215
Level     1,  Iter    11:    Energy =   0.1223
Level     1,  Iter    12:    Energy =   0.1224
Level     1,  Iter    13:    Energy =   0.1229
Level     1,  Iter    14:    Energy =   0.1229
Level     1,  Iter    15:    Energy =   0.1234
Level     1,  Iter    16:    Energy =   0.1234
Level     1,  Iter    17:    Energy =   0.1238
Level     1,  Iter    18:    Energy =   0.1238
Level     1,  Iter    19:    Energy =   0.1241
Level     1,  Iter    20:    Energy =   0.1241
Level     1,  Iter    21:    Energy =   0.1243
Level     1,  Iter    22:    Energy =   0.1243
Level     1,  Iter    23:    Energy =   0.1245
Level     1,  Iter    24:    Energy =   0.1245
Level     1,  Iter    25:    Energy =   0.1248
Level     1,  Iter    26:    Energy =   0.1247
Level     1,  Iter    27:    Energy =   0.1250
Level     1,  Iter    28:    Energy =   0.1249
Level     1,  Iter    29:    Energy =   0.1252
Level     1,  Iter    30:    Energy =   0.1251
Level     1,  Iter    31:    Energy =   0.1254
Level     1,  Iter    32:    Energy =   0.1253
Level     1,  Iter    33:    Energy =   0.1255
Level     1,  Iter    34:    Energy =   0.1254
Level     1,  Iter    35:    Energy =   0.1256
Level     1,  Iter    36:    Energy =   0.1255
Level     1,  Iter    37:    Energy =   0.1257
Level     1,  Iter    38:    Energy =   0.1256
Level     1,  Iter    39:    Energy =   0.1257
Level     1,  Iter    40:    Energy =   0.1256
Level     1,  Iter    41:    Energy =   0.1258
Level     1,  Iter    42:    Energy =   0.1257
Level     1,  Iter    43:    Energy =   0.1258
Level     1,  Iter    44:    Energy =   0.1257
Level     1,  Iter    45:    Energy =   0.1259
Level     1,  Iter    46:    Energy =   0.1258
Level     1,  Iter    47:    Energy =   0.1259
Level     1,  Iter    48:    Energy =   0.1258
Level     1,  Iter    49:    Energy =   0.1260
Level     1,  Iter    50:    Energy =   0.1259
Level     1,  Iter    51:    Energy =   0.1260
Level     1,  Iter    52:    Energy =   0.1259
Level     1,  Iter    53:    Energy =   0.1261
Level     1,  Iter    54:    Energy =   0.1260
Level     1,  Iter    55:    Energy =   0.1262
Level     1,  Iter    56:    Energy =   0.1260
Level     1,  Iter    57:    Energy =   0.1262
Level     1,  Iter    58:    Energy =   0.1261
Level     1,  Iter    59:    Energy =   0.1262
END OF LEVEL     1    DetJac Range:   0.1289  to   2.8916 
  Avg. Gradient Time  : 0.0489s  32.68% 
  Avg. Gaussian Time  : 0.0812s  54.26% 
  Avg. Iteration Time : 0.1496s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0627
Level     2,  Iter     1:    Energy =   0.0655
Level     2,  Iter     2:    Energy =   0.0678
Level     2,  Iter     3:    Energy =   0.0699
Level     2,  Iter     4:    Energy =   0.0720
Level     2,  Iter     5:    Energy =   0.0741
Level     2,  Iter     6:    Energy =   0.0761
Level     2,  Iter     7:    Energy =   0.0777
Level     2,  Iter     8:    Energy =   0.0789
Level     2,  Iter     9:    Energy =   0.0797
Level     2,  Iter    10:    Energy =   0.0805
Level     2,  Iter    11:    Energy =   0.0813
Level     2,  Iter    12:    Energy =   0.0820
Level     2,  Iter    13:    Energy =   0.0827
Level     2,  Iter    14:    Energy =   0.0835
Level     2,  Iter    15:    Energy =   0.0842
Level     2,  Iter    16:    Energy =   0.0847
Level     2,  Iter    17:    Energy =   0.0851
Level     2,  Iter    18:    Energy =   0.0854
Level     2,  Iter    19:    Energy =   0.0858
END OF LEVEL     2    DetJac Range:   0.0643  to   4.8513 
  Avg. Gradient Time  : 0.3452s  29.65% 
  Avg. Gaussian Time  : 0.6616s  56.82% 
  Avg. Iteration Time : 1.1643s 

real	0m39.155s
user	1m11.316s
sys	0m2.152s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=43 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=43 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.448077 0.453846
+ echo 'CHUNK 0.448077 0.453846 1'
CHUNK 0.448077 0.453846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.448077 0.453846 1
====================================
         PROGRESS: 0.448077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=018
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 018
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train018
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train018
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right 018 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train018 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=right
+ local tid=018
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train018
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 018 right 0
+ local tid=018
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 018 0
+ set -e
+ local tid=018
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.634007
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3997.5   GNORM= 914.059
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4183.773     371.551       0.000
   2    4     -4231.660     322.803       1.000
   3    5     -4303.742     303.031       1.000
   4    6     -4352.617     149.209       1.000
   5    7     -4384.869     140.708       1.000
   6    8     -4429.884     166.832       1.000
   7    9     -4435.338     312.120       1.000
   8   10     -4453.331      75.498       1.000
   9   11     -4456.390      83.735       1.000
  10   12     -4467.849     174.837       1.000
  11   13     -4478.784     197.932       1.000
  12   14     -4487.363     177.891       1.000
  13   15     -4499.442      54.160       1.000
  14   16     -4500.457      17.971       1.000
  15   17     -4500.730      20.853       1.000
  16   18     -4500.956      25.382       1.000
  17   19     -4501.313      24.811       1.000
  18   20     -4502.026      15.883       1.000
  19   21     -4502.226       5.994       1.000
  20   22     -4502.393      11.144       1.000
  21   23     -4502.506       9.188       1.000
  22   25     -4502.589       7.057       0.360
  23   28     -4502.716       8.134       2.699
  24   29     -4502.765       6.147       1.000
  25   30     -4502.865       6.736       1.000
  26   32     -4502.912       5.120       0.292
  27   33     -4502.924       4.435       1.000
  28   34     -4502.933       2.966       1.000
  29   35     -4502.940       5.803       1.000
  30   36     -4502.955       3.055       1.000
  31   37     -4502.977       4.911       1.000
  32   39     -4502.989       9.039       0.377
  33   41     -4502.993       8.259       0.145
  34   42     -4503.005       3.381       1.000
  35   43     -4503.006       2.496       1.000
  36   44     -4503.017       3.214       1.000
Final RAS Transform: 
0.952927 -0.00116329 -0.0302599 0.89935 
-0.0198278 1.0119 0.0660335 0.463951 
0.00994546 -0.00296122 0.994493 -0.263746 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3207.51   GNORM= 174.042
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3223.182      64.576       0.001
   2    4     -3223.400     121.056       1.000
   3    5     -3225.318      43.807       1.000
   4    6     -3226.129      37.713       1.000
   5    7     -3228.576      85.412       1.000
   6    8     -3231.129      83.750       1.000
   7    9     -3239.427      75.296       1.000
   8   10     -3243.738      67.898       1.000
   9   11     -3245.849      67.378       1.000
  10   12     -3252.053      39.777       1.000
  11   13     -3253.551      37.862       1.000
  12   14     -3254.293      25.386       1.000
  13   15     -3254.600      19.585       1.000
  14   16     -3256.377      39.905       1.000
  15   17     -3257.889      64.079       1.000
  16   18     -3259.020      62.949       1.000
  17   19     -3260.598      25.911       1.000
  18   20     -3260.876      11.525       1.000
  19   21     -3260.940      15.503       1.000
  20   22     -3261.033      10.024       1.000
  21   24     -3261.086      11.631       0.356
  22   25     -3261.154      26.637       1.000
  23   26     -3261.234      12.506       1.000
  24   27     -3261.312       7.575       1.000
  25   28     -3261.444      14.412       1.000
  26   29     -3261.578      28.668       1.000
  27   30     -3261.706      26.528       1.000
  28   31     -3261.995       6.818       1.000
  29   32     -3262.069       9.345       1.000
  30   33     -3262.317      10.192       1.000
  31   35     -3262.451      12.645       0.185
  32   36     -3262.486      10.857       1.000
  33   37     -3262.561       5.457       1.000
  34   38     -3262.633       7.444       1.000
  35   39     -3262.717       9.225       1.000
  36   41     -3262.743       9.551       0.365
  37   42     -3262.811       6.814       1.000
  38   44     -3262.832       2.515       0.348
Final RAS Transform: 
0.979585 0.00484013 -0.00806185 0.495596 
-0.0185716 1.01632 0.0649307 0.436995 
0.00438472 -0.0032992 0.995012 -0.0786435 
0 0 0 1 

Final RAS Transform: 
0.979585 0.00484013 -0.00806185 0.495596 
-0.0185716 1.01632 0.0649307 0.436995 
0.00438472 -0.0032992 0.995012 -0.0786435 
0 0 0 1 


real	0m10.927s
user	0m19.160s
sys	0m0.540s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.645781
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1333
Level     0,  Iter     1:    Energy =   0.1411
Level     0,  Iter     2:    Energy =   0.1467
Level     0,  Iter     3:    Energy =   0.1501
Level     0,  Iter     4:    Energy =   0.1519
Level     0,  Iter     5:    Energy =   0.1531
Level     0,  Iter     6:    Energy =   0.1541
Level     0,  Iter     7:    Energy =   0.1547
Level     0,  Iter     8:    Energy =   0.1554
Level     0,  Iter     9:    Energy =   0.1557
Level     0,  Iter    10:    Energy =   0.1564
Level     0,  Iter    11:    Energy =   0.1567
Level     0,  Iter    12:    Energy =   0.1572
Level     0,  Iter    13:    Energy =   0.1574
Level     0,  Iter    14:    Energy =   0.1582
Level     0,  Iter    15:    Energy =   0.1587
Level     0,  Iter    16:    Energy =   0.1594
Level     0,  Iter    17:    Energy =   0.1597
Level     0,  Iter    18:    Energy =   0.1604
Level     0,  Iter    19:    Energy =   0.1602
Level     0,  Iter    20:    Energy =   0.1607
Level     0,  Iter    21:    Energy =   0.1609
Level     0,  Iter    22:    Energy =   0.1610
Level     0,  Iter    23:    Energy =   0.1605
Level     0,  Iter    24:    Energy =   0.1605
Level     0,  Iter    25:    Energy =   0.1602
Level     0,  Iter    26:    Energy =   0.1604
Level     0,  Iter    27:    Energy =   0.1602
Level     0,  Iter    28:    Energy =   0.1608
Level     0,  Iter    29:    Energy =   0.1612
Level     0,  Iter    30:    Energy =   0.1610
Level     0,  Iter    31:    Energy =   0.1606
Level     0,  Iter    32:    Energy =   0.1606
Level     0,  Iter    33:    Energy =   0.1603
Level     0,  Iter    34:    Energy =   0.1604
Level     0,  Iter    35:    Energy =   0.1602
Level     0,  Iter    36:    Energy =   0.1605
Level     0,  Iter    37:    Energy =   0.1605
Level     0,  Iter    38:    Energy =   0.1609
Level     0,  Iter    39:    Energy =   0.1606
Level     0,  Iter    40:    Energy =   0.1610
Level     0,  Iter    41:    Energy =   0.1608
Level     0,  Iter    42:    Energy =   0.1612
Level     0,  Iter    43:    Energy =   0.1612
Level     0,  Iter    44:    Energy =   0.1613
Level     0,  Iter    45:    Energy =   0.1608
Level     0,  Iter    46:    Energy =   0.1608
Level     0,  Iter    47:    Energy =   0.1605
Level     0,  Iter    48:    Energy =   0.1608
Level     0,  Iter    49:    Energy =   0.1608
Level     0,  Iter    50:    Energy =   0.1611
Level     0,  Iter    51:    Energy =   0.1606
Level     0,  Iter    52:    Energy =   0.1611
Level     0,  Iter    53:    Energy =   0.1611
Level     0,  Iter    54:    Energy =   0.1615
Level     0,  Iter    55:    Energy =   0.1609
Level     0,  Iter    56:    Energy =   0.1612
Level     0,  Iter    57:    Energy =   0.1610
Level     0,  Iter    58:    Energy =   0.1614
Level     0,  Iter    59:    Energy =   0.1608
END OF LEVEL     0    DetJac Range:   0.2298  to   1.8584 
  Avg. Gradient Time  : 0.0076s  34.62% 
  Avg. Gaussian Time  : 0.0109s  49.70% 
  Avg. Iteration Time : 0.0220s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.1084
Level     1,  Iter     1:    Energy =   0.1131
Level     1,  Iter     2:    Energy =   0.1175
Level     1,  Iter     3:    Energy =   0.1195
Level     1,  Iter     4:    Energy =   0.1212
Level     1,  Iter     5:    Energy =   0.1230
Level     1,  Iter     6:    Energy =   0.1248
Level     1,  Iter     7:    Energy =   0.1267
Level     1,  Iter     8:    Energy =   0.1282
Level     1,  Iter     9:    Energy =   0.1296
Level     1,  Iter    10:    Energy =   0.1307
Level     1,  Iter    11:    Energy =   0.1313
Level     1,  Iter    12:    Energy =   0.1319
Level     1,  Iter    13:    Energy =   0.1321
Level     1,  Iter    14:    Energy =   0.1325
Level     1,  Iter    15:    Energy =   0.1327
Level     1,  Iter    16:    Energy =   0.1327
Level     1,  Iter    17:    Energy =   0.1332
Level     1,  Iter    18:    Energy =   0.1330
Level     1,  Iter    19:    Energy =   0.1335
Level     1,  Iter    20:    Energy =   0.1333
Level     1,  Iter    21:    Energy =   0.1336
Level     1,  Iter    22:    Energy =   0.1335
Level     1,  Iter    23:    Energy =   0.1336
Level     1,  Iter    24:    Energy =   0.1337
Level     1,  Iter    25:    Energy =   0.1337
Level     1,  Iter    26:    Energy =   0.1338
Level     1,  Iter    27:    Energy =   0.1339
Level     1,  Iter    28:    Energy =   0.1339
Level     1,  Iter    29:    Energy =   0.1340
Level     1,  Iter    30:    Energy =   0.1340
Level     1,  Iter    31:    Energy =   0.1341
Level     1,  Iter    32:    Energy =   0.1340
Level     1,  Iter    33:    Energy =   0.1341
Level     1,  Iter    34:    Energy =   0.1341
Level     1,  Iter    35:    Energy =   0.1342
Level     1,  Iter    36:    Energy =   0.1342
Level     1,  Iter    37:    Energy =   0.1342
Level     1,  Iter    38:    Energy =   0.1343
Level     1,  Iter    39:    Energy =   0.1343
Level     1,  Iter    40:    Energy =   0.1343
Level     1,  Iter    41:    Energy =   0.1344
Level     1,  Iter    42:    Energy =   0.1344
Level     1,  Iter    43:    Energy =   0.1344
Level     1,  Iter    44:    Energy =   0.1344
Level     1,  Iter    45:    Energy =   0.1344
Level     1,  Iter    46:    Energy =   0.1344
Level     1,  Iter    47:    Energy =   0.1345
Level     1,  Iter    48:    Energy =   0.1345
Level     1,  Iter    49:    Energy =   0.1345
Level     1,  Iter    50:    Energy =   0.1346
Level     1,  Iter    51:    Energy =   0.1346
Level     1,  Iter    52:    Energy =   0.1346
Level     1,  Iter    53:    Energy =   0.1346
Level     1,  Iter    54:    Energy =   0.1346
Level     1,  Iter    55:    Energy =   0.1346
Level     1,  Iter    56:    Energy =   0.1346
Level     1,  Iter    57:    Energy =   0.1346
Level     1,  Iter    58:    Energy =   0.1347
Level     1,  Iter    59:    Energy =   0.1347
END OF LEVEL     1    DetJac Range:   0.1287  to   2.7307 
  Avg. Gradient Time  : 0.0432s  32.85% 
  Avg. Gaussian Time  : 0.0714s  54.28% 
  Avg. Iteration Time : 0.1315s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0678
Level     2,  Iter     1:    Energy =   0.0708
Level     2,  Iter     2:    Energy =   0.0732
Level     2,  Iter     3:    Energy =   0.0751
Level     2,  Iter     4:    Energy =   0.0766
Level     2,  Iter     5:    Energy =   0.0782
Level     2,  Iter     6:    Energy =   0.0802
Level     2,  Iter     7:    Energy =   0.0817
Level     2,  Iter     8:    Energy =   0.0828
Level     2,  Iter     9:    Energy =   0.0837
Level     2,  Iter    10:    Energy =   0.0845
Level     2,  Iter    11:    Energy =   0.0854
Level     2,  Iter    12:    Energy =   0.0861
Level     2,  Iter    13:    Energy =   0.0867
Level     2,  Iter    14:    Energy =   0.0872
Level     2,  Iter    15:    Energy =   0.0876
Level     2,  Iter    16:    Energy =   0.0879
Level     2,  Iter    17:    Energy =   0.0883
Level     2,  Iter    18:    Energy =   0.0886
Level     2,  Iter    19:    Energy =   0.0888
END OF LEVEL     2    DetJac Range:   0.0731  to   3.8933 
  Avg. Gradient Time  : 0.3043s  29.83% 
  Avg. Gaussian Time  : 0.5785s  56.71% 
  Avg. Iteration Time : 1.0201s 

real	0m34.571s
user	1m2.392s
sys	0m2.144s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=44 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=44 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.453846 0.459615
+ echo 'CHUNK 0.453846 0.459615 1'
CHUNK 0.453846 0.459615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.453846 0.459615 1
====================================
         PROGRESS: 0.453846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=019
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 019
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train019
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train019
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right 019 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train019 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=right
+ local tid=019
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train019
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 019 right 0
+ local tid=019
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 019 0
+ set -e
+ local tid=019
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.479351
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2706.1   GNORM= 605.227
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2832.622     244.053       0.001
   2    4     -2864.560     201.825       1.000
   3    5     -2937.385     140.615       1.000
   4    6     -2964.898     106.948       1.000
   5    7     -3000.548      95.050       1.000
   6    8     -3025.912      77.423       1.000
   7   10     -3042.183     125.431       0.443
   8   12     -3049.277      70.400       0.489
   9   13     -3053.350      44.219       1.000
  10   14     -3056.771      39.284       1.000
  11   15     -3062.505      43.134       1.000
  12   16     -3072.679      88.108       1.000
  13   17     -3075.905      33.522       1.000
  14   18     -3077.426      18.233       1.000
  15   19     -3077.511      32.731       1.000
  16   20     -3078.115      19.033       1.000
  17   21     -3078.537      11.253       1.000
  18   22     -3078.808       8.164       1.000
  19   23     -3079.026       8.224       1.000
  20   24     -3079.178      16.024       1.000
  21   25     -3079.454      11.834       1.000
  22   26     -3079.552      24.343       1.000
  23   27     -3079.725      10.290       1.000
  24   28     -3079.777       6.717       1.000
  25   30     -3079.845       8.114       0.438
  26   31     -3079.898       6.511       1.000
  27   33     -3080.013       9.622       0.265
  28   34     -3080.195       9.412       1.000
  29   36     -3080.243      10.987       0.102
  30   37     -3080.288       5.599       1.000
  31   38     -3080.309       5.520       1.000
  32   39     -3080.324       8.042       1.000
  33   40     -3080.363       4.341       1.000
  34   41     -3080.423       3.988       1.000
  35   42     -3080.471       9.253       1.000
  36   43     -3080.504       5.830       1.000
  37   44     -3080.517       3.475       1.000
Final RAS Transform: 
0.943649 0.0277867 -0.0147458 1.3314 
-0.0157476 1.00668 0.0698686 0.298302 
0.00223493 -0.0149112 1.0056 -0.107597 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2508.06   GNORM= 255.933
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2528.989     141.077       0.001
   2    4     -2537.428      93.196       1.000
   3    5     -2542.829      33.034       1.000
   4    6     -2543.838      35.719       1.000
   5    7     -2551.813      37.608       1.000
   6    8     -2558.364      87.663       1.000
   7    9     -2562.300      75.138       1.000
   8   10     -2562.761      72.875       1.000
   9   11     -2563.888      12.343       1.000
  10   12     -2563.970      11.941       1.000
  11   13     -2564.566      36.423       1.000
  12   14     -2565.465      32.629       1.000
  13   15     -2568.453      13.245       1.000
  14   16     -2569.114      18.846       1.000
  15   18     -2569.414      18.790       0.394
  16   19     -2569.640      10.162       1.000
  17   20     -2569.781       8.799       1.000
  18   21     -2569.959      21.591       1.000
  19   22     -2570.403      19.942       1.000
  20   23     -2570.704      34.413       1.000
  21   24     -2571.147      55.200       1.000
  22   25     -2571.792       7.375       1.000
  23   26     -2571.835       4.448       1.000
  24   27     -2571.894       7.466       1.000
  25   29     -2571.942       5.217       0.367
  26   30     -2571.986       3.036       1.000
  27   31     -2571.988       4.735       1.000
  28   32     -2572.023       2.948       1.000
  29   33     -2572.111       9.440       1.000
  30   34     -2572.135      14.642       1.000
  31   35     -2572.164       6.586       1.000
  32   36     -2572.201       4.249       1.000
  33   38     -2572.210       6.729       0.283
  34   39     -2572.217       3.506       1.000
  35   41     -2572.262       4.848       5.000
  36   42     -2572.298       5.744       1.000
  37   44     -2572.321       1.846       0.408
  38   45     -2572.326       3.727       1.000
  39   46     -2572.331       3.857       1.000
  40   47     -2572.336       5.041       1.000
  41   48     -2572.342       4.693       1.000
  42   49     -2572.352       2.694       1.000
  43   50     -2572.363       2.050       1.000
Final RAS Transform: 
0.970917 0.0241204 0.000463056 1.13436 
-0.0139729 1.02209 0.0782109 0.5567 
-0.00107041 -0.0148878 1.0027 -0.217256 
0 0 0 1 

Final RAS Transform: 
0.970917 0.0241204 0.000463056 1.13436 
-0.0139729 1.02209 0.0782109 0.5567 
-0.00107041 -0.0148878 1.0027 -0.217256 
0 0 0 1 


real	0m9.908s
user	0m17.428s
sys	0m0.476s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.486986
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0904
Level     0,  Iter     1:    Energy =   0.0953
Level     0,  Iter     2:    Energy =   0.0997
Level     0,  Iter     3:    Energy =   0.1028
Level     0,  Iter     4:    Energy =   0.1053
Level     0,  Iter     5:    Energy =   0.1071
Level     0,  Iter     6:    Energy =   0.1087
Level     0,  Iter     7:    Energy =   0.1099
Level     0,  Iter     8:    Energy =   0.1110
Level     0,  Iter     9:    Energy =   0.1118
Level     0,  Iter    10:    Energy =   0.1127
Level     0,  Iter    11:    Energy =   0.1131
Level     0,  Iter    12:    Energy =   0.1138
Level     0,  Iter    13:    Energy =   0.1141
Level     0,  Iter    14:    Energy =   0.1146
Level     0,  Iter    15:    Energy =   0.1146
Level     0,  Iter    16:    Energy =   0.1150
Level     0,  Iter    17:    Energy =   0.1151
Level     0,  Iter    18:    Energy =   0.1155
Level     0,  Iter    19:    Energy =   0.1155
Level     0,  Iter    20:    Energy =   0.1158
Level     0,  Iter    21:    Energy =   0.1158
Level     0,  Iter    22:    Energy =   0.1160
Level     0,  Iter    23:    Energy =   0.1159
Level     0,  Iter    24:    Energy =   0.1162
Level     0,  Iter    25:    Energy =   0.1161
Level     0,  Iter    26:    Energy =   0.1163
Level     0,  Iter    27:    Energy =   0.1162
Level     0,  Iter    28:    Energy =   0.1164
Level     0,  Iter    29:    Energy =   0.1164
Level     0,  Iter    30:    Energy =   0.1166
Level     0,  Iter    31:    Energy =   0.1165
Level     0,  Iter    32:    Energy =   0.1166
Level     0,  Iter    33:    Energy =   0.1166
Level     0,  Iter    34:    Energy =   0.1167
Level     0,  Iter    35:    Energy =   0.1166
Level     0,  Iter    36:    Energy =   0.1168
Level     0,  Iter    37:    Energy =   0.1166
Level     0,  Iter    38:    Energy =   0.1168
Level     0,  Iter    39:    Energy =   0.1167
Level     0,  Iter    40:    Energy =   0.1168
Level     0,  Iter    41:    Energy =   0.1167
Level     0,  Iter    42:    Energy =   0.1169
Level     0,  Iter    43:    Energy =   0.1168
Level     0,  Iter    44:    Energy =   0.1169
Level     0,  Iter    45:    Energy =   0.1168
Level     0,  Iter    46:    Energy =   0.1170
Level     0,  Iter    47:    Energy =   0.1169
Level     0,  Iter    48:    Energy =   0.1171
Level     0,  Iter    49:    Energy =   0.1169
Level     0,  Iter    50:    Energy =   0.1171
Level     0,  Iter    51:    Energy =   0.1170
Level     0,  Iter    52:    Energy =   0.1172
Level     0,  Iter    53:    Energy =   0.1171
Level     0,  Iter    54:    Energy =   0.1173
Level     0,  Iter    55:    Energy =   0.1172
Level     0,  Iter    56:    Energy =   0.1173
Level     0,  Iter    57:    Energy =   0.1172
Level     0,  Iter    58:    Energy =   0.1174
Level     0,  Iter    59:    Energy =   0.1173
END OF LEVEL     0    DetJac Range:   0.1926  to   1.9069 
  Avg. Gradient Time  : 0.0086s  34.99% 
  Avg. Gaussian Time  : 0.0122s  49.26% 
  Avg. Iteration Time : 0.0247s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0887
Level     1,  Iter     1:    Energy =   0.0924
Level     1,  Iter     2:    Energy =   0.0965
Level     1,  Iter     3:    Energy =   0.0994
Level     1,  Iter     4:    Energy =   0.1018
Level     1,  Iter     5:    Energy =   0.1041
Level     1,  Iter     6:    Energy =   0.1060
Level     1,  Iter     7:    Energy =   0.1076
Level     1,  Iter     8:    Energy =   0.1089
Level     1,  Iter     9:    Energy =   0.1100
Level     1,  Iter    10:    Energy =   0.1107
Level     1,  Iter    11:    Energy =   0.1116
Level     1,  Iter    12:    Energy =   0.1121
Level     1,  Iter    13:    Energy =   0.1129
Level     1,  Iter    14:    Energy =   0.1132
Level     1,  Iter    15:    Energy =   0.1138
Level     1,  Iter    16:    Energy =   0.1140
Level     1,  Iter    17:    Energy =   0.1142
Level     1,  Iter    18:    Energy =   0.1144
Level     1,  Iter    19:    Energy =   0.1147
Level     1,  Iter    20:    Energy =   0.1147
Level     1,  Iter    21:    Energy =   0.1151
Level     1,  Iter    22:    Energy =   0.1150
Level     1,  Iter    23:    Energy =   0.1153
Level     1,  Iter    24:    Energy =   0.1153
Level     1,  Iter    25:    Energy =   0.1156
Level     1,  Iter    26:    Energy =   0.1155
Level     1,  Iter    27:    Energy =   0.1158
Level     1,  Iter    28:    Energy =   0.1157
Level     1,  Iter    29:    Energy =   0.1159
Level     1,  Iter    30:    Energy =   0.1158
Level     1,  Iter    31:    Energy =   0.1161
Level     1,  Iter    32:    Energy =   0.1160
Level     1,  Iter    33:    Energy =   0.1162
Level     1,  Iter    34:    Energy =   0.1161
Level     1,  Iter    35:    Energy =   0.1164
Level     1,  Iter    36:    Energy =   0.1163
Level     1,  Iter    37:    Energy =   0.1165
Level     1,  Iter    38:    Energy =   0.1164
Level     1,  Iter    39:    Energy =   0.1166
Level     1,  Iter    40:    Energy =   0.1165
Level     1,  Iter    41:    Energy =   0.1166
Level     1,  Iter    42:    Energy =   0.1166
Level     1,  Iter    43:    Energy =   0.1167
Level     1,  Iter    44:    Energy =   0.1166
Level     1,  Iter    45:    Energy =   0.1167
Level     1,  Iter    46:    Energy =   0.1166
Level     1,  Iter    47:    Energy =   0.1168
Level     1,  Iter    48:    Energy =   0.1167
Level     1,  Iter    49:    Energy =   0.1169
Level     1,  Iter    50:    Energy =   0.1167
Level     1,  Iter    51:    Energy =   0.1169
Level     1,  Iter    52:    Energy =   0.1169
Level     1,  Iter    53:    Energy =   0.1170
Level     1,  Iter    54:    Energy =   0.1168
Level     1,  Iter    55:    Energy =   0.1169
Level     1,  Iter    56:    Energy =   0.1169
Level     1,  Iter    57:    Energy =   0.1171
Level     1,  Iter    58:    Energy =   0.1170
Level     1,  Iter    59:    Energy =   0.1171
END OF LEVEL     1    DetJac Range:   0.0618  to   3.5860 
  Avg. Gradient Time  : 0.0487s  32.62% 
  Avg. Gaussian Time  : 0.0811s  54.33% 
  Avg. Iteration Time : 0.1494s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0603
Level     2,  Iter     1:    Energy =   0.0627
Level     2,  Iter     2:    Energy =   0.0651
Level     2,  Iter     3:    Energy =   0.0675
Level     2,  Iter     4:    Energy =   0.0693
Level     2,  Iter     5:    Energy =   0.0710
Level     2,  Iter     6:    Energy =   0.0724
Level     2,  Iter     7:    Energy =   0.0735
Level     2,  Iter     8:    Energy =   0.0745
Level     2,  Iter     9:    Energy =   0.0754
Level     2,  Iter    10:    Energy =   0.0762
Level     2,  Iter    11:    Energy =   0.0769
Level     2,  Iter    12:    Energy =   0.0775
Level     2,  Iter    13:    Energy =   0.0780
Level     2,  Iter    14:    Energy =   0.0785
Level     2,  Iter    15:    Energy =   0.0790
Level     2,  Iter    16:    Energy =   0.0793
Level     2,  Iter    17:    Energy =   0.0797
Level     2,  Iter    18:    Energy =   0.0800
Level     2,  Iter    19:    Energy =   0.0803
END OF LEVEL     2    DetJac Range:   0.0503  to   4.0333 
  Avg. Gradient Time  : 0.3445s  29.51% 
  Avg. Gaussian Time  : 0.6647s  56.94% 
  Avg. Iteration Time : 1.1673s 

real	0m39.233s
user	1m11.248s
sys	0m2.296s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=45 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=45 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.459615 0.465385
+ echo 'CHUNK 0.459615 0.465385 1'
CHUNK 0.459615 0.465385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.459615 0.465385 1
====================================
         PROGRESS: 0.459615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=020
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 020
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train020
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train020
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right 020 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train020 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=right
+ local tid=020
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train020
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 020 right 0
+ local tid=020
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 020 0
+ set -e
+ local tid=020
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.477857
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2855.52   GNORM= 460.084
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2913.087     152.202       0.000
   2    4     -2925.694     154.978       1.000
   3    5     -2966.535     179.882       1.000
   4    6     -2997.533     168.394       1.000
   5    7     -3056.983      84.954       1.000
   6    8     -3086.920     109.760       1.000
   7    9     -3105.543     170.297       1.000
   8   10     -3120.552     358.729       1.000
   9   11     -3148.501      88.358       1.000
  10   12     -3156.329      50.672       1.000
  11   13     -3165.188     124.717       1.000
  12   14     -3176.214      87.969       1.000
  13   15     -3180.962      32.555       1.000
  14   16     -3183.777      43.423       1.000
  15   17     -3185.191      32.650       1.000
  16   18     -3187.828      25.413       1.000
  17   19     -3192.170      46.215       1.000
  18   21     -3194.119      37.649       0.503
  19   22     -3195.753      21.636       1.000
  20   23     -3196.972      23.785       1.000
  21   25     -3197.602      23.153       0.456
  22   26     -3197.957      11.397       1.000
  23   27     -3198.087       9.351       1.000
  24   28     -3198.291      14.743       1.000
  25   29     -3198.509      21.723       1.000
  26   30     -3198.941      14.818       1.000
  27   31     -3199.485      14.604       1.000
  28   32     -3200.131      10.545       1.000
  29   33     -3200.296      15.358       1.000
  30   34     -3200.360       9.136       1.000
  31   35     -3200.394      11.165       1.000
  32   36     -3200.421       4.645       1.000
  33   37     -3200.435       4.101       1.000
  34   38     -3200.459       5.244       1.000
  35   39     -3200.475       4.461       1.000
  36   40     -3200.492       5.960       1.000
  37   42     -3200.506       6.190       0.220
  38   43     -3200.525       6.939       1.000
  39   44     -3200.539       4.231       1.000
  40   45     -3200.559       3.249       1.000
Final RAS Transform: 
0.888187 -0.0342513 -0.0790536 0.934299 
0.0141376 1.02082 0.0528678 0.588289 
0.0391307 -0.00208802 1.03619 -0.623375 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2536.22   GNORM= 313.915
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2558.430     121.528       0.000
   2    4     -2565.131     101.577       1.000
   3    5     -2573.652      58.962       1.000
   4    6     -2578.771      54.308       1.000
   5    7     -2588.709      77.302       1.000
   6    8     -2602.725      88.334       1.000
   7    9     -2605.461     237.041       1.000
   8   10     -2619.293      98.564       1.000
   9   11     -2624.609      60.209       1.000
  10   12     -2631.940      50.176       1.000
  11   13     -2642.376     103.509       1.000
  12   14     -2647.216      56.803       1.000
  13   15     -2649.800      32.974       1.000
  14   16     -2652.017      55.496       1.000
  15   17     -2652.412      96.454       1.000
  16   18     -2654.945      45.439       1.000
  17   19     -2657.117      31.412       1.000
  18   20     -2659.107      38.912       1.000
  19   21     -2660.476      68.523       1.000
  20   22     -2662.172      13.083       1.000
  21   23     -2662.403      11.890       1.000
  22   25     -2662.846      19.740       0.316
  23   26     -2663.208      27.623       1.000
  24   27     -2663.475       7.906       1.000
  25   28     -2663.527       8.991       1.000
  26   29     -2663.846      15.285       1.000
  27   31     -2664.125      23.852       0.478
  28   32     -2664.320      11.757       1.000
  29   33     -2664.587      13.194       1.000
  30   34     -2664.710      13.564       1.000
  31   35     -2664.919      14.063       1.000
  32   36     -2665.206      12.672       1.000
  33   37     -2665.566      12.928       1.000
  34   39     -2665.689      14.818       0.465
  35   40     -2665.747       4.128       1.000
  36   41     -2665.760       2.370       1.000
  37   42     -2665.764       3.386       1.000
Final RAS Transform: 
0.932315 -0.0457193 -0.091873 -0.192224 
0.0171754 1.03019 0.0717663 0.597903 
0.0315315 0.00346511 1.05453 -0.222121 
0 0 0 1 

Final RAS Transform: 
0.932315 -0.0457193 -0.091873 -0.192224 
0.0171754 1.03019 0.0717663 0.597903 
0.0315315 0.00346511 1.05453 -0.222121 
0 0 0 1 


real	0m10.547s
user	0m18.572s
sys	0m0.420s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.480849
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0950
Level     0,  Iter     1:    Energy =   0.1009
Level     0,  Iter     2:    Energy =   0.1057
Level     0,  Iter     3:    Energy =   0.1108
Level     0,  Iter     4:    Energy =   0.1147
Level     0,  Iter     5:    Energy =   0.1166
Level     0,  Iter     6:    Energy =   0.1187
Level     0,  Iter     7:    Energy =   0.1205
Level     0,  Iter     8:    Energy =   0.1218
Level     0,  Iter     9:    Energy =   0.1226
Level     0,  Iter    10:    Energy =   0.1235
Level     0,  Iter    11:    Energy =   0.1244
Level     0,  Iter    12:    Energy =   0.1251
Level     0,  Iter    13:    Energy =   0.1259
Level     0,  Iter    14:    Energy =   0.1263
Level     0,  Iter    15:    Energy =   0.1262
Level     0,  Iter    16:    Energy =   0.1266
Level     0,  Iter    17:    Energy =   0.1270
Level     0,  Iter    18:    Energy =   0.1274
Level     0,  Iter    19:    Energy =   0.1277
Level     0,  Iter    20:    Energy =   0.1281
Level     0,  Iter    21:    Energy =   0.1282
Level     0,  Iter    22:    Energy =   0.1286
Level     0,  Iter    23:    Energy =   0.1289
Level     0,  Iter    24:    Energy =   0.1290
Level     0,  Iter    25:    Energy =   0.1286
Level     0,  Iter    26:    Energy =   0.1289
Level     0,  Iter    27:    Energy =   0.1290
Level     0,  Iter    28:    Energy =   0.1292
Level     0,  Iter    29:    Energy =   0.1288
Level     0,  Iter    30:    Energy =   0.1291
Level     0,  Iter    31:    Energy =   0.1292
Level     0,  Iter    32:    Energy =   0.1294
Level     0,  Iter    33:    Energy =   0.1293
Level     0,  Iter    34:    Energy =   0.1296
Level     0,  Iter    35:    Energy =   0.1297
Level     0,  Iter    36:    Energy =   0.1299
Level     0,  Iter    37:    Energy =   0.1295
Level     0,  Iter    38:    Energy =   0.1297
Level     0,  Iter    39:    Energy =   0.1299
Level     0,  Iter    40:    Energy =   0.1300
Level     0,  Iter    41:    Energy =   0.1295
Level     0,  Iter    42:    Energy =   0.1297
Level     0,  Iter    43:    Energy =   0.1297
Level     0,  Iter    44:    Energy =   0.1300
Level     0,  Iter    45:    Energy =   0.1301
Level     0,  Iter    46:    Energy =   0.1302
Level     0,  Iter    47:    Energy =   0.1298
Level     0,  Iter    48:    Energy =   0.1299
Level     0,  Iter    49:    Energy =   0.1298
Level     0,  Iter    50:    Energy =   0.1301
Level     0,  Iter    51:    Energy =   0.1304
Level     0,  Iter    52:    Energy =   0.1304
Level     0,  Iter    53:    Energy =   0.1298
Level     0,  Iter    54:    Energy =   0.1300
Level     0,  Iter    55:    Energy =   0.1298
Level     0,  Iter    56:    Energy =   0.1300
Level     0,  Iter    57:    Energy =   0.1302
Level     0,  Iter    58:    Energy =   0.1303
Level     0,  Iter    59:    Energy =   0.1300
END OF LEVEL     0    DetJac Range:   0.1892  to   2.1198 
  Avg. Gradient Time  : 0.0087s  34.91% 
  Avg. Gaussian Time  : 0.0123s  49.40% 
  Avg. Iteration Time : 0.0248s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0928
Level     1,  Iter     1:    Energy =   0.0964
Level     1,  Iter     2:    Energy =   0.0992
Level     1,  Iter     3:    Energy =   0.1016
Level     1,  Iter     4:    Energy =   0.1037
Level     1,  Iter     5:    Energy =   0.1058
Level     1,  Iter     6:    Energy =   0.1076
Level     1,  Iter     7:    Energy =   0.1091
Level     1,  Iter     8:    Energy =   0.1105
Level     1,  Iter     9:    Energy =   0.1116
Level     1,  Iter    10:    Energy =   0.1125
Level     1,  Iter    11:    Energy =   0.1134
Level     1,  Iter    12:    Energy =   0.1142
Level     1,  Iter    13:    Energy =   0.1149
Level     1,  Iter    14:    Energy =   0.1155
Level     1,  Iter    15:    Energy =   0.1161
Level     1,  Iter    16:    Energy =   0.1166
Level     1,  Iter    17:    Energy =   0.1170
Level     1,  Iter    18:    Energy =   0.1173
Level     1,  Iter    19:    Energy =   0.1172
Level     1,  Iter    20:    Energy =   0.1176
Level     1,  Iter    21:    Energy =   0.1177
Level     1,  Iter    22:    Energy =   0.1180
Level     1,  Iter    23:    Energy =   0.1180
Level     1,  Iter    24:    Energy =   0.1182
Level     1,  Iter    25:    Energy =   0.1183
Level     1,  Iter    26:    Energy =   0.1184
Level     1,  Iter    27:    Energy =   0.1185
Level     1,  Iter    28:    Energy =   0.1187
Level     1,  Iter    29:    Energy =   0.1187
Level     1,  Iter    30:    Energy =   0.1189
Level     1,  Iter    31:    Energy =   0.1189
Level     1,  Iter    32:    Energy =   0.1191
Level     1,  Iter    33:    Energy =   0.1191
Level     1,  Iter    34:    Energy =   0.1192
Level     1,  Iter    35:    Energy =   0.1193
Level     1,  Iter    36:    Energy =   0.1194
Level     1,  Iter    37:    Energy =   0.1194
Level     1,  Iter    38:    Energy =   0.1195
Level     1,  Iter    39:    Energy =   0.1196
Level     1,  Iter    40:    Energy =   0.1197
Level     1,  Iter    41:    Energy =   0.1196
Level     1,  Iter    42:    Energy =   0.1197
Level     1,  Iter    43:    Energy =   0.1198
Level     1,  Iter    44:    Energy =   0.1199
Level     1,  Iter    45:    Energy =   0.1198
Level     1,  Iter    46:    Energy =   0.1199
Level     1,  Iter    47:    Energy =   0.1199
Level     1,  Iter    48:    Energy =   0.1200
Level     1,  Iter    49:    Energy =   0.1200
Level     1,  Iter    50:    Energy =   0.1201
Level     1,  Iter    51:    Energy =   0.1201
Level     1,  Iter    52:    Energy =   0.1201
Level     1,  Iter    53:    Energy =   0.1201
Level     1,  Iter    54:    Energy =   0.1202
Level     1,  Iter    55:    Energy =   0.1202
Level     1,  Iter    56:    Energy =   0.1202
Level     1,  Iter    57:    Energy =   0.1202
Level     1,  Iter    58:    Energy =   0.1203
Level     1,  Iter    59:    Energy =   0.1202
END OF LEVEL     1    DetJac Range:   0.1342  to   3.9736 
  Avg. Gradient Time  : 0.0488s  32.67% 
  Avg. Gaussian Time  : 0.0811s  54.29% 
  Avg. Iteration Time : 0.1495s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0612
Level     2,  Iter     1:    Energy =   0.0637
Level     2,  Iter     2:    Energy =   0.0663
Level     2,  Iter     3:    Energy =   0.0688
Level     2,  Iter     4:    Energy =   0.0708
Level     2,  Iter     5:    Energy =   0.0724
Level     2,  Iter     6:    Energy =   0.0737
Level     2,  Iter     7:    Energy =   0.0748
Level     2,  Iter     8:    Energy =   0.0757
Level     2,  Iter     9:    Energy =   0.0766
Level     2,  Iter    10:    Energy =   0.0774
Level     2,  Iter    11:    Energy =   0.0781
Level     2,  Iter    12:    Energy =   0.0787
Level     2,  Iter    13:    Energy =   0.0793
Level     2,  Iter    14:    Energy =   0.0798
Level     2,  Iter    15:    Energy =   0.0802
Level     2,  Iter    16:    Energy =   0.0806
Level     2,  Iter    17:    Energy =   0.0810
Level     2,  Iter    18:    Energy =   0.0813
Level     2,  Iter    19:    Energy =   0.0817
END OF LEVEL     2    DetJac Range:   0.0788  to   4.4750 
  Avg. Gradient Time  : 0.3118s  27.24% 
  Avg. Gaussian Time  : 0.6924s  60.51% 
  Avg. Iteration Time : 1.1443s 

real	0m38.578s
user	1m10.048s
sys	0m2.332s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=46 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=46 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.465385 0.471154
+ echo 'CHUNK 0.465385 0.471154 1'
CHUNK 0.465385 0.471154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.465385 0.471154 1
====================================
         PROGRESS: 0.465385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=021
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 021
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train021
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train021
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right 021 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train021 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=right
+ local tid=021
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train021
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 021 right 0
+ local tid=021
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 021 0
+ set -e
+ local tid=021
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.693105
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3224.92   GNORM= 672.045
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3338.436     160.359       0.000
   2    4     -3350.898     149.568       1.000
   3    5     -3404.592     189.808       1.000
   4    6     -3440.548     188.915       1.000
   5    7     -3486.920     127.538       1.000
   6    8     -3514.469      83.525       1.000
   7    9     -3529.557      72.592       1.000
   8   11     -3541.194     174.642       0.455
   9   12     -3553.927      96.213       1.000
  10   13     -3565.030      88.814       1.000
  11   14     -3577.313     106.768       1.000
  12   15     -3583.136      57.354       1.000
  13   16     -3585.759      17.701       1.000
  14   17     -3586.265      16.340       1.000
  15   18     -3586.624      17.753       1.000
  16   19     -3587.036      14.326       1.000
  17   20     -3587.431      13.812       1.000
  18   21     -3588.297      31.682       1.000
  19   22     -3588.527      47.316       1.000
  20   23     -3589.013      13.944       1.000
  21   24     -3589.216      10.797       1.000
  22   26     -3589.377       6.773       0.310
  23   27     -3589.397       3.829       1.000
  24   28     -3589.416       3.331       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.913245 -0.00555924 -0.0375195 1.5431 
0.00447167 0.984196 0.00327398 -0.313226 
0.0237126 -0.000377679 1.02548 -0.59203 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2556.37   GNORM= 398.436
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2591.448      97.976       0.000
   2    4     -2594.852      59.162       1.000
   3    5     -2597.238      63.227       1.000
   4    6     -2601.160      63.206       1.000
   5    7     -2606.394      71.399       1.000
   6    8     -2626.855      72.962       1.000
   7   10     -2629.958      65.820       0.184
   8   11     -2634.432      42.747       1.000
   9   12     -2636.888      75.775       1.000
  10   13     -2638.988      33.330       1.000
  11   14     -2639.873      25.553       1.000
  12   15     -2641.509      17.300       1.000
  13   16     -2642.279      16.287       1.000
  14   17     -2645.501      38.866       1.000
  15   18     -2648.884      29.634       1.000
  16   20     -2649.345      47.689       0.130
  17   21     -2650.176      15.193       1.000
  18   22     -2650.362      10.699       1.000
  19   23     -2650.466      10.426       1.000
  20   24     -2650.694       8.769       1.000
  21   25     -2650.910      12.271       1.000
  22   26     -2651.223      11.618       1.000
  23   27     -2651.467      19.649       1.000
  24   28     -2651.649       8.475       1.000
  25   29     -2651.674       5.377       1.000
  26   30     -2651.703       7.681       1.000
  27   31     -2651.751       7.684       1.000
  28   32     -2651.912       7.454       1.000
  29   33     -2652.005      10.382       1.000
  30   34     -2652.056      11.626       1.000
  31   35     -2652.103       4.264       1.000
  32   36     -2652.105       5.540       1.000
  33   37     -2652.149      11.666       1.000
  34   38     -2652.196       7.158       1.000
  35   39     -2652.316       4.372       1.000
  36   40     -2652.351       3.965       1.000
  37   42     -2652.379       7.961       0.169
  38   43     -2652.408       7.523       1.000
  39   44     -2652.451       3.652       1.000
  40   45     -2652.485       4.366       1.000
  41   46     -2652.514       3.178       1.000
  42   47     -2652.541       8.554       1.000
  43   48     -2652.552       3.445       1.000
  44   49     -2652.562       2.720       1.000
  45   50     -2652.567       2.352       1.000
  46   53     -2652.569       2.269       0.009
  47   54     -2652.570       2.435       1.000
Final RAS Transform: 
0.941013 -0.0192419 -0.0373966 0.568779 
0.000667121 0.999364 0.0156867 -0.0281772 
0.0133272 0.00574274 1.03984 -0.235659 
0 0 0 1 

Final RAS Transform: 
0.941013 -0.0192419 -0.0373966 0.568779 
0.000667121 0.999364 0.0156867 -0.0281772 
0.0133272 0.00574274 1.03984 -0.235659 
0 0 0 1 


real	0m10.100s
user	0m17.620s
sys	0m0.464s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.689481
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1049
Level     0,  Iter     1:    Energy =   0.1122
Level     0,  Iter     2:    Energy =   0.1174
Level     0,  Iter     3:    Energy =   0.1227
Level     0,  Iter     4:    Energy =   0.1252
Level     0,  Iter     5:    Energy =   0.1269
Level     0,  Iter     6:    Energy =   0.1280
Level     0,  Iter     7:    Energy =   0.1293
Level     0,  Iter     8:    Energy =   0.1300
Level     0,  Iter     9:    Energy =   0.1310
Level     0,  Iter    10:    Energy =   0.1315
Level     0,  Iter    11:    Energy =   0.1323
Level     0,  Iter    12:    Energy =   0.1327
Level     0,  Iter    13:    Energy =   0.1332
Level     0,  Iter    14:    Energy =   0.1335
Level     0,  Iter    15:    Energy =   0.1339
Level     0,  Iter    16:    Energy =   0.1341
Level     0,  Iter    17:    Energy =   0.1344
Level     0,  Iter    18:    Energy =   0.1346
Level     0,  Iter    19:    Energy =   0.1347
Level     0,  Iter    20:    Energy =   0.1349
Level     0,  Iter    21:    Energy =   0.1351
Level     0,  Iter    22:    Energy =   0.1352
Level     0,  Iter    23:    Energy =   0.1354
Level     0,  Iter    24:    Energy =   0.1355
Level     0,  Iter    25:    Energy =   0.1357
Level     0,  Iter    26:    Energy =   0.1357
Level     0,  Iter    27:    Energy =   0.1359
Level     0,  Iter    28:    Energy =   0.1359
Level     0,  Iter    29:    Energy =   0.1360
Level     0,  Iter    30:    Energy =   0.1361
Level     0,  Iter    31:    Energy =   0.1362
Level     0,  Iter    32:    Energy =   0.1362
Level     0,  Iter    33:    Energy =   0.1363
Level     0,  Iter    34:    Energy =   0.1363
Level     0,  Iter    35:    Energy =   0.1364
Level     0,  Iter    36:    Energy =   0.1364
Level     0,  Iter    37:    Energy =   0.1364
Level     0,  Iter    38:    Energy =   0.1365
Level     0,  Iter    39:    Energy =   0.1366
Level     0,  Iter    40:    Energy =   0.1366
Level     0,  Iter    41:    Energy =   0.1366
Level     0,  Iter    42:    Energy =   0.1367
Level     0,  Iter    43:    Energy =   0.1368
Level     0,  Iter    44:    Energy =   0.1368
Level     0,  Iter    45:    Energy =   0.1367
Level     0,  Iter    46:    Energy =   0.1367
Level     0,  Iter    47:    Energy =   0.1368
Level     0,  Iter    48:    Energy =   0.1368
Level     0,  Iter    49:    Energy =   0.1368
Level     0,  Iter    50:    Energy =   0.1368
Level     0,  Iter    51:    Energy =   0.1369
Level     0,  Iter    52:    Energy =   0.1369
Level     0,  Iter    53:    Energy =   0.1369
Level     0,  Iter    54:    Energy =   0.1369
Level     0,  Iter    55:    Energy =   0.1369
Level     0,  Iter    56:    Energy =   0.1369
Level     0,  Iter    57:    Energy =   0.1369
Level     0,  Iter    58:    Energy =   0.1369
Level     0,  Iter    59:    Energy =   0.1370
END OF LEVEL     0    DetJac Range:   0.2301  to   1.8954 
  Avg. Gradient Time  : 0.0075s  34.72% 
  Avg. Gaussian Time  : 0.0108s  49.60% 
  Avg. Iteration Time : 0.0217s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0921
Level     1,  Iter     1:    Energy =   0.0969
Level     1,  Iter     2:    Energy =   0.1005
Level     1,  Iter     3:    Energy =   0.1040
Level     1,  Iter     4:    Energy =   0.1070
Level     1,  Iter     5:    Energy =   0.1092
Level     1,  Iter     6:    Energy =   0.1109
Level     1,  Iter     7:    Energy =   0.1124
Level     1,  Iter     8:    Energy =   0.1135
Level     1,  Iter     9:    Energy =   0.1146
Level     1,  Iter    10:    Energy =   0.1151
Level     1,  Iter    11:    Energy =   0.1160
Level     1,  Iter    12:    Energy =   0.1164
Level     1,  Iter    13:    Energy =   0.1171
Level     1,  Iter    14:    Energy =   0.1172
Level     1,  Iter    15:    Energy =   0.1178
Level     1,  Iter    16:    Energy =   0.1179
Level     1,  Iter    17:    Energy =   0.1184
Level     1,  Iter    18:    Energy =   0.1184
Level     1,  Iter    19:    Energy =   0.1184
Level     1,  Iter    20:    Energy =   0.1185
Level     1,  Iter    21:    Energy =   0.1185
Level     1,  Iter    22:    Energy =   0.1187
Level     1,  Iter    23:    Energy =   0.1186
Level     1,  Iter    24:    Energy =   0.1189
Level     1,  Iter    25:    Energy =   0.1188
Level     1,  Iter    26:    Energy =   0.1192
Level     1,  Iter    27:    Energy =   0.1191
Level     1,  Iter    28:    Energy =   0.1194
Level     1,  Iter    29:    Energy =   0.1193
Level     1,  Iter    30:    Energy =   0.1197
Level     1,  Iter    31:    Energy =   0.1196
Level     1,  Iter    32:    Energy =   0.1198
Level     1,  Iter    33:    Energy =   0.1197
Level     1,  Iter    34:    Energy =   0.1199
Level     1,  Iter    35:    Energy =   0.1198
Level     1,  Iter    36:    Energy =   0.1200
Level     1,  Iter    37:    Energy =   0.1199
Level     1,  Iter    38:    Energy =   0.1202
Level     1,  Iter    39:    Energy =   0.1200
Level     1,  Iter    40:    Energy =   0.1202
Level     1,  Iter    41:    Energy =   0.1201
Level     1,  Iter    42:    Energy =   0.1203
Level     1,  Iter    43:    Energy =   0.1202
Level     1,  Iter    44:    Energy =   0.1204
Level     1,  Iter    45:    Energy =   0.1202
Level     1,  Iter    46:    Energy =   0.1205
Level     1,  Iter    47:    Energy =   0.1203
Level     1,  Iter    48:    Energy =   0.1205
Level     1,  Iter    49:    Energy =   0.1204
Level     1,  Iter    50:    Energy =   0.1206
Level     1,  Iter    51:    Energy =   0.1204
Level     1,  Iter    52:    Energy =   0.1207
Level     1,  Iter    53:    Energy =   0.1205
Level     1,  Iter    54:    Energy =   0.1207
Level     1,  Iter    55:    Energy =   0.1205
Level     1,  Iter    56:    Energy =   0.1207
Level     1,  Iter    57:    Energy =   0.1206
Level     1,  Iter    58:    Energy =   0.1208
Level     1,  Iter    59:    Energy =   0.1206
END OF LEVEL     1    DetJac Range:   0.1281  to   2.8984 
  Avg. Gradient Time  : 0.0429s  32.75% 
  Avg. Gaussian Time  : 0.0711s  54.33% 
  Avg. Iteration Time : 0.1309s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0603
Level     2,  Iter     1:    Energy =   0.0633
Level     2,  Iter     2:    Energy =   0.0662
Level     2,  Iter     3:    Energy =   0.0685
Level     2,  Iter     4:    Energy =   0.0703
Level     2,  Iter     5:    Energy =   0.0719
Level     2,  Iter     6:    Energy =   0.0733
Level     2,  Iter     7:    Energy =   0.0745
Level     2,  Iter     8:    Energy =   0.0756
Level     2,  Iter     9:    Energy =   0.0764
Level     2,  Iter    10:    Energy =   0.0771
Level     2,  Iter    11:    Energy =   0.0777
Level     2,  Iter    12:    Energy =   0.0783
Level     2,  Iter    13:    Energy =   0.0789
Level     2,  Iter    14:    Energy =   0.0794
Level     2,  Iter    15:    Energy =   0.0798
Level     2,  Iter    16:    Energy =   0.0802
Level     2,  Iter    17:    Energy =   0.0806
Level     2,  Iter    18:    Energy =   0.0809
Level     2,  Iter    19:    Energy =   0.0812
END OF LEVEL     2    DetJac Range:   0.0807  to   4.6183 
  Avg. Gradient Time  : 0.3078s  27.54% 
  Avg. Gaussian Time  : 0.6724s  60.16% 
  Avg. Iteration Time : 1.1176s 

real	0m36.568s
user	1m6.220s
sys	0m2.180s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=47 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=47 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.471154 0.476923
+ echo 'CHUNK 0.471154 0.476923 1'
CHUNK 0.471154 0.476923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.471154 0.476923 1
====================================
         PROGRESS: 0.471154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=022
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 022
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train022
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train022
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right 022 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train022 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=right
+ local tid=022
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train022
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 022 right 0
+ local tid=022
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 022 0
+ set -e
+ local tid=022
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.601767
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3423.59   GNORM= 543.339
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3508.423     325.417       0.001
   2    4     -3550.740     252.198       1.000
   3    5     -3622.344     192.315       1.000
   4    6     -3657.180     160.379       1.000
   5    7     -3701.738     173.347       1.000
   6    8     -3729.333      97.463       1.000
   7    9     -3752.695     160.500       1.000
   8   10     -3759.951     179.657       1.000
   9   11     -3769.084      76.385       1.000
  10   12     -3774.236      72.946       1.000
  11   13     -3784.412     122.589       1.000
  12   14     -3802.541     129.175       1.000
  13   16     -3815.295     118.899       0.359
  14   17     -3822.589      61.915       1.000
  15   18     -3824.343      34.932       1.000
  16   19     -3825.257      42.410       1.000
  17   20     -3827.395      49.631       1.000
  18   21     -3829.850      33.574       1.000
  19   22     -3831.870      47.773       1.000
  20   23     -3833.090      54.122       1.000
  21   24     -3833.891      30.094       1.000
  22   25     -3834.554      21.231       1.000
  23   26     -3835.516      35.004       1.000
  24   27     -3836.945      45.742       1.000
  25   28     -3838.709      58.839       1.000
  26   29     -3839.616      28.744       1.000
  27   30     -3840.266      24.529       1.000
  28   31     -3840.900      28.657       1.000
  29   32     -3841.784      27.610       1.000
  30   34     -3842.333      17.516       0.395
  31   35     -3842.653      13.505       1.000
  32   36     -3842.948       7.607       1.000
  33   37     -3842.978      14.133       1.000
  34   38     -3843.024       7.417       1.000
  35   40     -3843.057       4.912       0.498
  36   41     -3843.098       5.445       1.000
  37   42     -3843.168      12.821       1.000
  38   43     -3843.235       6.812       1.000
  39   44     -3843.263       6.302       1.000
  40   45     -3843.286       7.462       1.000
  41   48     -3843.334       6.125       2.443
  42   50     -3843.352       6.765       0.440
  43   51     -3843.378       7.720       1.000
  44   52     -3843.415       8.957       1.000
  45   53     -3843.451       6.509       1.000
  46   54     -3843.464       2.834       1.000
  47   55     -3843.465       1.206       1.000
  48   57     -3843.467       2.254       0.466
  49   58     -3843.478       1.969       1.000
Final RAS Transform: 
0.927443 -0.00756128 -0.0236609 0.889722 
0.0540884 1.02392 0.104172 -0.050824 
-0.0029344 -0.0145073 0.986773 -0.202105 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2839.13   GNORM= 254.822
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2849.635      61.056       0.000
   2    4     -2850.709      45.825       1.000
   3    5     -2851.790      43.944       1.000
   4    6     -2852.758      34.881       1.000
   5    7     -2854.061      24.916       1.000
   6    8     -2855.220      41.100       1.000
   7    9     -2858.311      79.558       1.000
   8   10     -2863.598      82.043       1.000
   9   12     -2865.464     139.134       0.117
  10   13     -2869.811      66.932       1.000
  11   14     -2871.464      19.445       1.000
  12   15     -2871.848      19.214       1.000
  13   16     -2872.341      25.268       1.000
  14   17     -2873.367      29.494       1.000
  15   18     -2878.835      68.664       1.000
  16   20     -2879.712      38.603       0.454
  17   21     -2880.399      19.317       1.000
  18   22     -2880.818      14.785       1.000
  19   23     -2881.522      17.931       1.000
  20   24     -2882.522      13.098       1.000
  21   25     -2882.857      13.080       1.000
  22   27     -2882.936      16.099       0.139
  23   28     -2883.073      12.413       1.000
  24   29     -2883.688      15.983       1.000
  25   30     -2884.268      15.091       1.000
  26   31     -2884.578       8.462       1.000
  27   32     -2884.826       9.764       1.000
  28   33     -2885.278      12.964       1.000
  29   35     -2885.384      13.264       0.223
  30   36     -2885.475       8.658       1.000
  31   37     -2885.545       6.978       1.000
  32   38     -2885.589       7.610       1.000
  33   40     -2885.704      13.864       0.334
  34   41     -2885.797       5.211       1.000
  35   42     -2885.844       5.309       1.000
  36   43     -2885.981       5.284       1.000
  37   45     -2886.055      17.093       0.271
  38   46     -2886.106       4.654       1.000
  39   47     -2886.138       4.296       1.000
  40   48     -2886.211       5.395       1.000
  41   49     -2886.292       6.791       1.000
  42   50     -2886.349       5.815       1.000
  43   51     -2886.368       3.289       1.000
  44   52     -2886.421       6.771       1.000
  45   54     -2886.472      12.291       0.350
  46   55     -2886.554      10.084       1.000
  47   56     -2886.618      20.979       1.000
  48   57     -2886.731      12.640       1.000
  49   58     -2886.840       7.075       1.000
  50   60     -2886.863       4.735       0.281
  51   61     -2886.885       2.915       1.000
Final RAS Transform: 
0.962513 0.00149188 0.000963519 0.548815 
0.0239248 1.02489 0.0893464 0.21697 
-0.00724063 -0.0145786 0.988057 -0.0869433 
0 0 0 1 

Final RAS Transform: 
0.962513 0.00149188 0.000963519 0.548815 
0.0239248 1.02489 0.0893464 0.21697 
-0.00724063 -0.0145786 0.988057 -0.0869433 
0 0 0 1 


real	0m10.601s
user	0m18.576s
sys	0m0.488s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.605947
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1138
Level     0,  Iter     1:    Energy =   0.1216
Level     0,  Iter     2:    Energy =   0.1281
Level     0,  Iter     3:    Energy =   0.1327
Level     0,  Iter     4:    Energy =   0.1351
Level     0,  Iter     5:    Energy =   0.1378
Level     0,  Iter     6:    Energy =   0.1391
Level     0,  Iter     7:    Energy =   0.1411
Level     0,  Iter     8:    Energy =   0.1420
Level     0,  Iter     9:    Energy =   0.1433
Level     0,  Iter    10:    Energy =   0.1440
Level     0,  Iter    11:    Energy =   0.1452
Level     0,  Iter    12:    Energy =   0.1456
Level     0,  Iter    13:    Energy =   0.1462
Level     0,  Iter    14:    Energy =   0.1466
Level     0,  Iter    15:    Energy =   0.1472
Level     0,  Iter    16:    Energy =   0.1474
Level     0,  Iter    17:    Energy =   0.1478
Level     0,  Iter    18:    Energy =   0.1481
Level     0,  Iter    19:    Energy =   0.1484
Level     0,  Iter    20:    Energy =   0.1486
Level     0,  Iter    21:    Energy =   0.1487
Level     0,  Iter    22:    Energy =   0.1490
Level     0,  Iter    23:    Energy =   0.1492
Level     0,  Iter    24:    Energy =   0.1493
Level     0,  Iter    25:    Energy =   0.1493
Level     0,  Iter    26:    Energy =   0.1495
Level     0,  Iter    27:    Energy =   0.1496
Level     0,  Iter    28:    Energy =   0.1497
Level     0,  Iter    29:    Energy =   0.1497
Level     0,  Iter    30:    Energy =   0.1498
Level     0,  Iter    31:    Energy =   0.1499
Level     0,  Iter    32:    Energy =   0.1500
Level     0,  Iter    33:    Energy =   0.1498
Level     0,  Iter    34:    Energy =   0.1500
Level     0,  Iter    35:    Energy =   0.1500
Level     0,  Iter    36:    Energy =   0.1501
Level     0,  Iter    37:    Energy =   0.1499
Level     0,  Iter    38:    Energy =   0.1500
Level     0,  Iter    39:    Energy =   0.1500
Level     0,  Iter    40:    Energy =   0.1500
Level     0,  Iter    41:    Energy =   0.1499
Level     0,  Iter    42:    Energy =   0.1499
Level     0,  Iter    43:    Energy =   0.1499
Level     0,  Iter    44:    Energy =   0.1499
Level     0,  Iter    45:    Energy =   0.1498
Level     0,  Iter    46:    Energy =   0.1499
Level     0,  Iter    47:    Energy =   0.1498
Level     0,  Iter    48:    Energy =   0.1499
Level     0,  Iter    49:    Energy =   0.1498
Level     0,  Iter    50:    Energy =   0.1498
Level     0,  Iter    51:    Energy =   0.1498
Level     0,  Iter    52:    Energy =   0.1498
Level     0,  Iter    53:    Energy =   0.1498
Level     0,  Iter    54:    Energy =   0.1498
Level     0,  Iter    55:    Energy =   0.1498
Level     0,  Iter    56:    Energy =   0.1498
Level     0,  Iter    57:    Energy =   0.1497
Level     0,  Iter    58:    Energy =   0.1497
Level     0,  Iter    59:    Energy =   0.1497
END OF LEVEL     0    DetJac Range:   0.1885  to   2.1555 
  Avg. Gradient Time  : 0.0075s  34.84% 
  Avg. Gaussian Time  : 0.0107s  49.35% 
  Avg. Iteration Time : 0.0216s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.1046
Level     1,  Iter     1:    Energy =   0.1099
Level     1,  Iter     2:    Energy =   0.1140
Level     1,  Iter     3:    Energy =   0.1165
Level     1,  Iter     4:    Energy =   0.1187
Level     1,  Iter     5:    Energy =   0.1204
Level     1,  Iter     6:    Energy =   0.1219
Level     1,  Iter     7:    Energy =   0.1232
Level     1,  Iter     8:    Energy =   0.1245
Level     1,  Iter     9:    Energy =   0.1258
Level     1,  Iter    10:    Energy =   0.1260
Level     1,  Iter    11:    Energy =   0.1261
Level     1,  Iter    12:    Energy =   0.1272
Level     1,  Iter    13:    Energy =   0.1271
Level     1,  Iter    14:    Energy =   0.1279
Level     1,  Iter    15:    Energy =   0.1281
Level     1,  Iter    16:    Energy =   0.1280
Level     1,  Iter    17:    Energy =   0.1283
Level     1,  Iter    18:    Energy =   0.1282
Level     1,  Iter    19:    Energy =   0.1284
Level     1,  Iter    20:    Energy =   0.1285
Level     1,  Iter    21:    Energy =   0.1286
Level     1,  Iter    22:    Energy =   0.1286
Level     1,  Iter    23:    Energy =   0.1288
Level     1,  Iter    24:    Energy =   0.1288
Level     1,  Iter    25:    Energy =   0.1290
Level     1,  Iter    26:    Energy =   0.1289
Level     1,  Iter    27:    Energy =   0.1292
Level     1,  Iter    28:    Energy =   0.1290
Level     1,  Iter    29:    Energy =   0.1294
Level     1,  Iter    30:    Energy =   0.1292
Level     1,  Iter    31:    Energy =   0.1295
Level     1,  Iter    32:    Energy =   0.1294
Level     1,  Iter    33:    Energy =   0.1296
Level     1,  Iter    34:    Energy =   0.1294
Level     1,  Iter    35:    Energy =   0.1297
Level     1,  Iter    36:    Energy =   0.1295
Level     1,  Iter    37:    Energy =   0.1298
Level     1,  Iter    38:    Energy =   0.1296
Level     1,  Iter    39:    Energy =   0.1298
Level     1,  Iter    40:    Energy =   0.1297
Level     1,  Iter    41:    Energy =   0.1299
Level     1,  Iter    42:    Energy =   0.1298
Level     1,  Iter    43:    Energy =   0.1300
Level     1,  Iter    44:    Energy =   0.1300
Level     1,  Iter    45:    Energy =   0.1300
Level     1,  Iter    46:    Energy =   0.1301
Level     1,  Iter    47:    Energy =   0.1302
Level     1,  Iter    48:    Energy =   0.1302
Level     1,  Iter    49:    Energy =   0.1303
Level     1,  Iter    50:    Energy =   0.1302
Level     1,  Iter    51:    Energy =   0.1304
Level     1,  Iter    52:    Energy =   0.1302
Level     1,  Iter    53:    Energy =   0.1305
Level     1,  Iter    54:    Energy =   0.1303
Level     1,  Iter    55:    Energy =   0.1305
Level     1,  Iter    56:    Energy =   0.1303
Level     1,  Iter    57:    Energy =   0.1305
Level     1,  Iter    58:    Energy =   0.1304
Level     1,  Iter    59:    Energy =   0.1306
END OF LEVEL     1    DetJac Range:   0.0647  to   3.1056 
  Avg. Gradient Time  : 0.0430s  32.76% 
  Avg. Gaussian Time  : 0.0713s  54.36% 
  Avg. Iteration Time : 0.1312s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0645
Level     2,  Iter     1:    Energy =   0.0675
Level     2,  Iter     2:    Energy =   0.0703
Level     2,  Iter     3:    Energy =   0.0726
Level     2,  Iter     4:    Energy =   0.0746
Level     2,  Iter     5:    Energy =   0.0762
Level     2,  Iter     6:    Energy =   0.0775
Level     2,  Iter     7:    Energy =   0.0786
Level     2,  Iter     8:    Energy =   0.0795
Level     2,  Iter     9:    Energy =   0.0802
Level     2,  Iter    10:    Energy =   0.0808
Level     2,  Iter    11:    Energy =   0.0812
Level     2,  Iter    12:    Energy =   0.0817
Level     2,  Iter    13:    Energy =   0.0820
Level     2,  Iter    14:    Energy =   0.0824
Level     2,  Iter    15:    Energy =   0.0827
Level     2,  Iter    16:    Energy =   0.0831
Level     2,  Iter    17:    Energy =   0.0835
Level     2,  Iter    18:    Energy =   0.0838
Level     2,  Iter    19:    Energy =   0.0840
END OF LEVEL     2    DetJac Range:   0.0624  to   4.3890 
  Avg. Gradient Time  : 0.3057s  26.79% 
  Avg. Gaussian Time  : 0.6983s  61.19% 
  Avg. Iteration Time : 1.1413s 

real	0m36.980s
user	1m7.176s
sys	0m2.136s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=48 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=48 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.476923 0.482692
+ echo 'CHUNK 0.476923 0.482692 1'
CHUNK 0.476923 0.482692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.476923 0.482692 1
====================================
         PROGRESS: 0.476923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=023
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 023
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train023
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train023
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right 023 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train023 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=right
+ local tid=023
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train023
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 023 right 0
+ local tid=023
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 023 0
+ set -e
+ local tid=023
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.813393
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3901.24   GNORM= 770.362
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -4046.526     366.597       0.000
   2    4     -4093.019     303.278       1.000
   3    5     -4169.326     252.585       1.000
   4    6     -4211.156     160.963       1.000
   5    7     -4237.488     112.606       1.000
   6    8     -4263.083      78.229       1.000
   7    9     -4273.310     125.111       1.000
   8   11     -4277.359      55.274       0.450
   9   12     -4279.639      50.899       1.000
  10   13     -4283.895      45.189       1.000
  11   14     -4298.314     100.214       1.000
  12   15     -4303.588      65.341       1.000
  13   16     -4305.919      32.471       1.000
  14   17     -4306.458      24.285       1.000
  15   18     -4306.719      10.330       1.000
  16   19     -4306.919      10.980       1.000
  17   20     -4307.235      10.348       1.000
  18   22     -4307.408      25.392       0.279
  19   23     -4307.748      20.148       1.000
  20   24     -4307.875      26.912       1.000
  21   25     -4308.104       8.961       1.000
  22   26     -4308.146      13.653       1.000
  23   27     -4308.238      10.130       1.000
  24   28     -4308.365      10.513       1.000
  25   29     -4308.444       4.391       1.000
  26   32     -4308.551      12.284       2.665
  27   34     -4308.559      11.297       0.008
  28   35     -4308.565       8.042       1.000
  29   36     -4308.576       7.356       1.000
  30   37     -4308.585       6.140       1.000
  31   38     -4308.601       3.855       1.000
  32   39     -4308.606       4.685       1.000
  33   40     -4308.610       3.292       1.000
  34   41     -4308.619       3.743       1.000
  35   42     -4308.631       3.213       1.000
  36   43     -4308.649       3.928       1.000
  37   45     -4308.655       3.791       0.333
  38   47     -4308.663       3.225       0.365
Final RAS Transform: 
0.98941 0.0154409 -0.00920881 0.460865 
-0.00606721 1.02559 0.0839676 0.601698 
-0.00723827 -0.0136091 0.990548 0.00980325 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3117.73   GNORM= 217.288
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -3130.344     124.365       0.000
   2    4     -3135.894      71.994       1.000
   3    5     -3139.182      28.012       1.000
   4    6     -3139.948      26.668       1.000
   5    7     -3145.371      32.636       1.000
   6    8     -3147.774      40.735       1.000
   7    9     -3149.289      70.996       1.000
   8   10     -3151.514      61.438       1.000
   9   11     -3156.951      31.239       1.000
  10   12     -3157.585      13.772       1.000
  11   13     -3157.695       9.986       1.000
  12   14     -3157.933      14.104       1.000
  13   15     -3158.364      17.385       1.000
  14   16     -3158.417      28.585       1.000
  15   17     -3158.926      11.178       1.000
  16   18     -3159.008       4.865       1.000
  17   19     -3159.076      10.397       1.000
  18   20     -3159.098      15.643       1.000
  19   21     -3159.129       7.847       1.000
  20   22     -3159.172       6.710       1.000
  21   23     -3159.242       8.983       1.000
  22   24     -3159.363      16.684       1.000
  23   25     -3159.417       9.099       1.000
  24   26     -3159.455       4.215       1.000
  25   27     -3159.482       6.227       1.000
  26   28     -3159.523      10.582       1.000
  27   29     -3159.563       8.285       1.000
  28   30     -3159.640       5.319       1.000
  29   31     -3159.660       8.102       1.000
  30   32     -3159.710       5.874       1.000
  31   33     -3159.720       4.497       1.000
  32   34     -3159.726       2.673       1.000
  33   35     -3159.749       3.423       1.000
  34   36     -3159.762       4.402       1.000
  35   37     -3159.772       3.425       1.000
  36   38     -3159.776       8.417       1.000
  37   39     -3159.801       5.235       1.000
  38   40     -3159.809       5.775       1.000
  39   41     -3159.815       4.252       1.000
  40   42     -3159.823       7.815       1.000
  41   43     -3159.838       5.883       1.000
  42   44     -3159.846       1.865       1.000
  43   45     -3159.859       3.575       1.000
  44   46     -3159.860       2.800       1.000
  45   47     -3159.873       2.445       1.000
  46   48     -3159.897       4.240       1.000
  47   50     -3159.903       3.135       0.310
  48   51     -3159.911       1.822       1.000
  49   52     -3159.913       1.200       1.000
  50   53     -3159.914       1.622       1.000
Final RAS Transform: 
1.00367 0.00578531 -0.0202342 -0.257075 
-0.00977106 1.0229 0.0794853 0.414763 
0.00294851 -0.00847118 1.00598 0.100502 
0 0 0 1 

Final RAS Transform: 
1.00367 0.00578531 -0.0202342 -0.257075 
-0.00977106 1.0229 0.0794853 0.414763 
0.00294851 -0.00847118 1.00598 0.100502 
0 0 0 1 


real	0m11.143s
user	0m19.692s
sys	0m0.464s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.829647
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.1266
Level     0,  Iter     1:    Energy =   0.1360
Level     0,  Iter     2:    Energy =   0.1425
Level     0,  Iter     3:    Energy =   0.1465
Level     0,  Iter     4:    Energy =   0.1486
Level     0,  Iter     5:    Energy =   0.1503
Level     0,  Iter     6:    Energy =   0.1516
Level     0,  Iter     7:    Energy =   0.1525
Level     0,  Iter     8:    Energy =   0.1534
Level     0,  Iter     9:    Energy =   0.1540
Level     0,  Iter    10:    Energy =   0.1547
Level     0,  Iter    11:    Energy =   0.1551
Level     0,  Iter    12:    Energy =   0.1556
Level     0,  Iter    13:    Energy =   0.1558
Level     0,  Iter    14:    Energy =   0.1562
Level     0,  Iter    15:    Energy =   0.1564
Level     0,  Iter    16:    Energy =   0.1567
Level     0,  Iter    17:    Energy =   0.1567
Level     0,  Iter    18:    Energy =   0.1570
Level     0,  Iter    19:    Energy =   0.1570
Level     0,  Iter    20:    Energy =   0.1573
Level     0,  Iter    21:    Energy =   0.1572
Level     0,  Iter    22:    Energy =   0.1574
Level     0,  Iter    23:    Energy =   0.1573
Level     0,  Iter    24:    Energy =   0.1575
Level     0,  Iter    25:    Energy =   0.1574
Level     0,  Iter    26:    Energy =   0.1576
Level     0,  Iter    27:    Energy =   0.1576
Level     0,  Iter    28:    Energy =   0.1577
Level     0,  Iter    29:    Energy =   0.1577
Level     0,  Iter    30:    Energy =   0.1578
Level     0,  Iter    31:    Energy =   0.1578
Level     0,  Iter    32:    Energy =   0.1579
Level     0,  Iter    33:    Energy =   0.1579
Level     0,  Iter    34:    Energy =   0.1580
Level     0,  Iter    35:    Energy =   0.1580
Level     0,  Iter    36:    Energy =   0.1581
Level     0,  Iter    37:    Energy =   0.1580
Level     0,  Iter    38:    Energy =   0.1581
Level     0,  Iter    39:    Energy =   0.1581
Level     0,  Iter    40:    Energy =   0.1581
Level     0,  Iter    41:    Energy =   0.1581
Level     0,  Iter    42:    Energy =   0.1582
Level     0,  Iter    43:    Energy =   0.1582
Level     0,  Iter    44:    Energy =   0.1583
Level     0,  Iter    45:    Energy =   0.1582
Level     0,  Iter    46:    Energy =   0.1583
Level     0,  Iter    47:    Energy =   0.1582
Level     0,  Iter    48:    Energy =   0.1583
Level     0,  Iter    49:    Energy =   0.1583
Level     0,  Iter    50:    Energy =   0.1583
Level     0,  Iter    51:    Energy =   0.1583
Level     0,  Iter    52:    Energy =   0.1584
Level     0,  Iter    53:    Energy =   0.1583
Level     0,  Iter    54:    Energy =   0.1584
Level     0,  Iter    55:    Energy =   0.1583
Level     0,  Iter    56:    Energy =   0.1584
Level     0,  Iter    57:    Energy =   0.1583
Level     0,  Iter    58:    Energy =   0.1584
Level     0,  Iter    59:    Energy =   0.1584
END OF LEVEL     0    DetJac Range:   0.5029  to   2.0662 
  Avg. Gradient Time  : 0.0087s  34.50% 
  Avg. Gaussian Time  : 0.0125s  49.89% 
  Avg. Iteration Time : 0.0252s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.1085
Level     1,  Iter     1:    Energy =   0.1125
Level     1,  Iter     2:    Energy =   0.1168
Level     1,  Iter     3:    Energy =   0.1202
Level     1,  Iter     4:    Energy =   0.1233
Level     1,  Iter     5:    Energy =   0.1257
Level     1,  Iter     6:    Energy =   0.1273
Level     1,  Iter     7:    Energy =   0.1290
Level     1,  Iter     8:    Energy =   0.1307
Level     1,  Iter     9:    Energy =   0.1315
Level     1,  Iter    10:    Energy =   0.1323
Level     1,  Iter    11:    Energy =   0.1331
Level     1,  Iter    12:    Energy =   0.1343
Level     1,  Iter    13:    Energy =   0.1351
Level     1,  Iter    14:    Energy =   0.1352
Level     1,  Iter    15:    Energy =   0.1353
Level     1,  Iter    16:    Energy =   0.1360
Level     1,  Iter    17:    Energy =   0.1358
Level     1,  Iter    18:    Energy =   0.1366
Level     1,  Iter    19:    Energy =   0.1365
Level     1,  Iter    20:    Energy =   0.1371
Level     1,  Iter    21:    Energy =   0.1369
Level     1,  Iter    22:    Energy =   0.1375
Level     1,  Iter    23:    Energy =   0.1373
Level     1,  Iter    24:    Energy =   0.1374
Level     1,  Iter    25:    Energy =   0.1373
Level     1,  Iter    26:    Energy =   0.1373
Level     1,  Iter    27:    Energy =   0.1374
Level     1,  Iter    28:    Energy =   0.1374
Level     1,  Iter    29:    Energy =   0.1374
Level     1,  Iter    30:    Energy =   0.1375
Level     1,  Iter    31:    Energy =   0.1376
Level     1,  Iter    32:    Energy =   0.1376
Level     1,  Iter    33:    Energy =   0.1377
Level     1,  Iter    34:    Energy =   0.1377
Level     1,  Iter    35:    Energy =   0.1378
Level     1,  Iter    36:    Energy =   0.1378
Level     1,  Iter    37:    Energy =   0.1379
Level     1,  Iter    38:    Energy =   0.1379
Level     1,  Iter    39:    Energy =   0.1379
Level     1,  Iter    40:    Energy =   0.1380
Level     1,  Iter    41:    Energy =   0.1379
Level     1,  Iter    42:    Energy =   0.1380
Level     1,  Iter    43:    Energy =   0.1380
Level     1,  Iter    44:    Energy =   0.1381
Level     1,  Iter    45:    Energy =   0.1382
Level     1,  Iter    46:    Energy =   0.1382
Level     1,  Iter    47:    Energy =   0.1382
Level     1,  Iter    48:    Energy =   0.1382
Level     1,  Iter    49:    Energy =   0.1383
Level     1,  Iter    50:    Energy =   0.1383
Level     1,  Iter    51:    Energy =   0.1384
Level     1,  Iter    52:    Energy =   0.1383
Level     1,  Iter    53:    Energy =   0.1384
Level     1,  Iter    54:    Energy =   0.1383
Level     1,  Iter    55:    Energy =   0.1384
Level     1,  Iter    56:    Energy =   0.1384
Level     1,  Iter    57:    Energy =   0.1385
Level     1,  Iter    58:    Energy =   0.1384
Level     1,  Iter    59:    Energy =   0.1385
END OF LEVEL     1    DetJac Range:   0.1159  to   3.3602 
  Avg. Gradient Time  : 0.0493s  32.90% 
  Avg. Gaussian Time  : 0.0811s  54.12% 
  Avg. Iteration Time : 0.1498s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0734
Level     2,  Iter     1:    Energy =   0.0763
Level     2,  Iter     2:    Energy =   0.0784
Level     2,  Iter     3:    Energy =   0.0806
Level     2,  Iter     4:    Energy =   0.0823
Level     2,  Iter     5:    Energy =   0.0835
Level     2,  Iter     6:    Energy =   0.0847
Level     2,  Iter     7:    Energy =   0.0858
Level     2,  Iter     8:    Energy =   0.0867
Level     2,  Iter     9:    Energy =   0.0875
Level     2,  Iter    10:    Energy =   0.0882
Level     2,  Iter    11:    Energy =   0.0889
Level     2,  Iter    12:    Energy =   0.0895
Level     2,  Iter    13:    Energy =   0.0901
Level     2,  Iter    14:    Energy =   0.0908
Level     2,  Iter    15:    Energy =   0.0914
Level     2,  Iter    16:    Energy =   0.0920
Level     2,  Iter    17:    Energy =   0.0925
Level     2,  Iter    18:    Energy =   0.0929
Level     2,  Iter    19:    Energy =   0.0932
END OF LEVEL     2    DetJac Range:   0.0648  to   3.9706 
  Avg. Gradient Time  : 0.3259s  26.92% 
  Avg. Gaussian Time  : 0.7384s  61.00% 
  Avg. Iteration Time : 1.2104s 

real	0m40.117s
user	1m13.088s
sys	0m2.272s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=49 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=49 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.482692 0.488462
+ echo 'CHUNK 0.482692 0.488462 1'
CHUNK 0.482692 0.488462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.482692 0.488462 1
====================================
         PROGRESS: 0.482692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=024
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 024
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train024
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train024
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right 024 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train024 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=right
+ local tid=024
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train024
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 024 right 0
+ local tid=024
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 024 0
+ set -e
+ local tid=024
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.680361
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2759.93   GNORM= 753.408
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -2869.851     607.588       0.001
   2    3     -3005.492     130.839       1.000
   3    4     -3017.837     113.250       1.000
   4    5     -3044.558     132.794       1.000
   5    6     -3065.911      99.508       1.000
   6    7     -3095.429     155.198       1.000
   7    8     -3117.175     116.687       1.000
   8    9     -3140.908     101.572       1.000
   9   11     -3152.911     166.166       0.386
  10   12     -3166.602      79.978       1.000
  11   13     -3174.487      33.493       1.000
  12   14     -3184.031      75.643       1.000
  13   15     -3194.976      64.833       1.000
  14   16     -3203.999      89.983       1.000
  15   17     -3211.203      29.885       1.000
  16   18     -3212.008      23.865       1.000
  17   19     -3212.315      16.925       1.000
  18   20     -3212.516      16.102       1.000
  19   21     -3213.474      29.261       1.000
  20   22     -3214.436      16.643       1.000
  21   23     -3214.835      17.436       1.000
  22   24     -3215.219      18.439       1.000
  23   25     -3215.485       8.319       1.000
  24   26     -3215.534       7.143       1.000
  25   28     -3215.813       9.512       5.000
  26   29     -3215.990      10.914       1.000
  27   30     -3216.111      13.539       1.000
  28   31     -3216.193       9.383       1.000
  29   33     -3216.281       6.293       0.513
  30   34     -3216.308       4.246       1.000
  31   35     -3216.351       5.160       1.000
  32   37     -3216.367       9.665       0.377
  33   38     -3216.393       5.753       1.000
  34   39     -3216.411       4.147       1.000
  35   40     -3216.423       4.962       1.000
  36   41     -3216.428       7.667       1.000
  37   42     -3216.438       3.654       1.000
  38   43     -3216.442       1.950       1.000
  39   44     -3216.452       3.837       1.000
Final RAS Transform: 
0.918075 0.0246918 0.00363068 1.84329 
-0.0244061 0.991743 0.0139006 -0.195528 
0.0678423 0.0113434 1.03972 -0.879491 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2100.99   GNORM= 223.083
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2116.954      52.167       0.001
   2    4     -2118.582      42.535       1.000
   3    5     -2121.490      51.418       1.000
   4    6     -2124.501      44.527       1.000
   5    8     -2127.796      39.862       0.396
   6    9     -2131.001      29.949       1.000
   7   10     -2136.366      73.931       1.000
   8   11     -2138.871      21.413       1.000
   9   12     -2139.461      18.197       1.000
  10   13     -2140.898      15.513       1.000
  11   15     -2142.346      38.009       0.437
  12   16     -2144.572      30.025       1.000
  13   17     -2148.096      23.864       1.000
  14   18     -2150.726      30.492       1.000
  15   19     -2156.503     146.470       1.000
  16   20     -2164.626      65.754       1.000
  17   21     -2169.200      50.167       1.000
  18   22     -2170.541      70.058       1.000
  19   23     -2173.690      15.976       1.000
  20   24     -2173.993      15.617       1.000
  21   26     -2175.799      10.340       5.000
  22   27     -2176.706      22.793       1.000
  23   29     -2177.135      17.540       0.416
  24   30     -2177.512      11.286       1.000
  25   31     -2177.951      12.055       1.000
  26   32     -2178.485      12.642       1.000
  27   33     -2178.780      33.255       1.000
  28   34     -2179.760      21.254       1.000
  29   35     -2180.715       9.415       1.000
  30   36     -2181.231      23.656       1.000
  31   37     -2181.695      14.813       1.000
  32   38     -2182.468      12.358       1.000
  33   39     -2182.480      19.994       1.000
  34   40     -2183.061      20.304       1.000
  35   41     -2183.207       6.701       1.000
  36   42     -2183.263       5.285       1.000
  37   44     -2183.337      12.444       0.456
  38   45     -2183.415       8.962       1.000
  39   46     -2183.684       4.380       1.000
  40   47     -2183.844      11.798       1.000
  41   49     -2183.897       9.088       0.228
  42   50     -2183.935       4.195       1.000
  43   51     -2183.979       2.993       1.000
  44   52     -2184.013       4.809       1.000
  45   53     -2184.089       5.447       1.000
  46   55     -2184.097       6.802       0.330
  47   56     -2184.116       6.505       1.000
  48   57     -2184.132       4.099       1.000
  49   58     -2184.180       4.522       1.000
  50   59     -2184.212       3.624       1.000
  51   60     -2184.241       3.816       1.000
Final RAS Transform: 
0.990894 0.0120135 0.0131481 0.571817 
-0.0576818 0.996881 0.0136727 0.391655 
0.0488803 0.00787455 1.03214 -0.541903 
0 0 0 1 

Final RAS Transform: 
0.990894 0.0120135 0.0131481 0.571817 
-0.0576818 0.996881 0.0136727 0.391655 
0.0488803 0.00787455 1.03214 -0.541903 
0 0 0 1 


real	0m10.822s
user	0m19.032s
sys	0m0.464s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.684154
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0889
Level     0,  Iter     1:    Energy =   0.0953
Level     0,  Iter     2:    Energy =   0.1012
Level     0,  Iter     3:    Energy =   0.1061
Level     0,  Iter     4:    Energy =   0.1111
Level     0,  Iter     5:    Energy =   0.1146
Level     0,  Iter     6:    Energy =   0.1167
Level     0,  Iter     7:    Energy =   0.1184
Level     0,  Iter     8:    Energy =   0.1196
Level     0,  Iter     9:    Energy =   0.1207
Level     0,  Iter    10:    Energy =   0.1216
Level     0,  Iter    11:    Energy =   0.1223
Level     0,  Iter    12:    Energy =   0.1231
Level     0,  Iter    13:    Energy =   0.1237
Level     0,  Iter    14:    Energy =   0.1241
Level     0,  Iter    15:    Energy =   0.1250
Level     0,  Iter    16:    Energy =   0.1253
Level     0,  Iter    17:    Energy =   0.1262
Level     0,  Iter    18:    Energy =   0.1263
Level     0,  Iter    19:    Energy =   0.1270
Level     0,  Iter    20:    Energy =   0.1271
Level     0,  Iter    21:    Energy =   0.1277
Level     0,  Iter    22:    Energy =   0.1277
Level     0,  Iter    23:    Energy =   0.1282
Level     0,  Iter    24:    Energy =   0.1281
Level     0,  Iter    25:    Energy =   0.1286
Level     0,  Iter    26:    Energy =   0.1285
Level     0,  Iter    27:    Energy =   0.1289
Level     0,  Iter    28:    Energy =   0.1288
Level     0,  Iter    29:    Energy =   0.1292
Level     0,  Iter    30:    Energy =   0.1291
Level     0,  Iter    31:    Energy =   0.1294
Level     0,  Iter    32:    Energy =   0.1294
Level     0,  Iter    33:    Energy =   0.1297
Level     0,  Iter    34:    Energy =   0.1297
Level     0,  Iter    35:    Energy =   0.1299
Level     0,  Iter    36:    Energy =   0.1300
Level     0,  Iter    37:    Energy =   0.1302
Level     0,  Iter    38:    Energy =   0.1304
Level     0,  Iter    39:    Energy =   0.1305
Level     0,  Iter    40:    Energy =   0.1308
Level     0,  Iter    41:    Energy =   0.1309
Level     0,  Iter    42:    Energy =   0.1313
Level     0,  Iter    43:    Energy =   0.1314
Level     0,  Iter    44:    Energy =   0.1318
Level     0,  Iter    45:    Energy =   0.1318
Level     0,  Iter    46:    Energy =   0.1321
Level     0,  Iter    47:    Energy =   0.1321
Level     0,  Iter    48:    Energy =   0.1323
Level     0,  Iter    49:    Energy =   0.1323
Level     0,  Iter    50:    Energy =   0.1325
Level     0,  Iter    51:    Energy =   0.1325
Level     0,  Iter    52:    Energy =   0.1328
Level     0,  Iter    53:    Energy =   0.1328
Level     0,  Iter    54:    Energy =   0.1327
Level     0,  Iter    55:    Energy =   0.1327
Level     0,  Iter    56:    Energy =   0.1328
Level     0,  Iter    57:    Energy =   0.1328
Level     0,  Iter    58:    Energy =   0.1331
Level     0,  Iter    59:    Energy =   0.1331
END OF LEVEL     0    DetJac Range:   0.0926  to   2.3636 
  Avg. Gradient Time  : 0.0088s  34.72% 
  Avg. Gaussian Time  : 0.0126s  49.72% 
  Avg. Iteration Time : 0.0253s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0858
Level     1,  Iter     1:    Energy =   0.0896
Level     1,  Iter     2:    Energy =   0.0929
Level     1,  Iter     3:    Energy =   0.0959
Level     1,  Iter     4:    Energy =   0.0988
Level     1,  Iter     5:    Energy =   0.1014
Level     1,  Iter     6:    Energy =   0.1035
Level     1,  Iter     7:    Energy =   0.1051
Level     1,  Iter     8:    Energy =   0.1064
Level     1,  Iter     9:    Energy =   0.1071
Level     1,  Iter    10:    Energy =   0.1076
Level     1,  Iter    11:    Energy =   0.1080
Level     1,  Iter    12:    Energy =   0.1085
Level     1,  Iter    13:    Energy =   0.1090
Level     1,  Iter    14:    Energy =   0.1094
Level     1,  Iter    15:    Energy =   0.1100
Level     1,  Iter    16:    Energy =   0.1104
Level     1,  Iter    17:    Energy =   0.1108
Level     1,  Iter    18:    Energy =   0.1112
Level     1,  Iter    19:    Energy =   0.1116
Level     1,  Iter    20:    Energy =   0.1121
Level     1,  Iter    21:    Energy =   0.1127
Level     1,  Iter    22:    Energy =   0.1132
Level     1,  Iter    23:    Energy =   0.1135
Level     1,  Iter    24:    Energy =   0.1132
Level     1,  Iter    25:    Energy =   0.1133
Level     1,  Iter    26:    Energy =   0.1131
Level     1,  Iter    27:    Energy =   0.1135
Level     1,  Iter    28:    Energy =   0.1132
Level     1,  Iter    29:    Energy =   0.1136
Level     1,  Iter    30:    Energy =   0.1134
Level     1,  Iter    31:    Energy =   0.1137
Level     1,  Iter    32:    Energy =   0.1135
Level     1,  Iter    33:    Energy =   0.1138
Level     1,  Iter    34:    Energy =   0.1136
Level     1,  Iter    35:    Energy =   0.1138
Level     1,  Iter    36:    Energy =   0.1136
Level     1,  Iter    37:    Energy =   0.1138
Level     1,  Iter    38:    Energy =   0.1136
Level     1,  Iter    39:    Energy =   0.1138
Level     1,  Iter    40:    Energy =   0.1136
Level     1,  Iter    41:    Energy =   0.1138
Level     1,  Iter    42:    Energy =   0.1136
Level     1,  Iter    43:    Energy =   0.1138
Level     1,  Iter    44:    Energy =   0.1136
Level     1,  Iter    45:    Energy =   0.1138
Level     1,  Iter    46:    Energy =   0.1136
Level     1,  Iter    47:    Energy =   0.1138
Level     1,  Iter    48:    Energy =   0.1136
Level     1,  Iter    49:    Energy =   0.1138
Level     1,  Iter    50:    Energy =   0.1137
Level     1,  Iter    51:    Energy =   0.1139
Level     1,  Iter    52:    Energy =   0.1137
Level     1,  Iter    53:    Energy =   0.1139
Level     1,  Iter    54:    Energy =   0.1137
Level     1,  Iter    55:    Energy =   0.1139
Level     1,  Iter    56:    Energy =   0.1137
Level     1,  Iter    57:    Energy =   0.1139
Level     1,  Iter    58:    Energy =   0.1137
Level     1,  Iter    59:    Energy =   0.1139
END OF LEVEL     1    DetJac Range:   0.0612  to   3.8020 
  Avg. Gradient Time  : 0.0488s  32.60% 
  Avg. Gaussian Time  : 0.0814s  54.36% 
  Avg. Iteration Time : 0.1497s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0547
Level     2,  Iter     1:    Energy =   0.0573
Level     2,  Iter     2:    Energy =   0.0595
Level     2,  Iter     3:    Energy =   0.0618
Level     2,  Iter     4:    Energy =   0.0638
Level     2,  Iter     5:    Energy =   0.0654
Level     2,  Iter     6:    Energy =   0.0667
Level     2,  Iter     7:    Energy =   0.0678
Level     2,  Iter     8:    Energy =   0.0688
Level     2,  Iter     9:    Energy =   0.0697
Level     2,  Iter    10:    Energy =   0.0705
Level     2,  Iter    11:    Energy =   0.0711
Level     2,  Iter    12:    Energy =   0.0718
Level     2,  Iter    13:    Energy =   0.0724
Level     2,  Iter    14:    Energy =   0.0729
Level     2,  Iter    15:    Energy =   0.0734
Level     2,  Iter    16:    Energy =   0.0738
Level     2,  Iter    17:    Energy =   0.0742
Level     2,  Iter    18:    Energy =   0.0746
Level     2,  Iter    19:    Energy =   0.0748
END OF LEVEL     2    DetJac Range:   0.0547  to   5.6640 
  Avg. Gradient Time  : 0.3482s  27.19% 
  Avg. Gaussian Time  : 0.7747s  60.50% 
  Avg. Iteration Time : 1.2806s 

real	0m41.609s
user	1m15.948s
sys	0m2.336s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=50 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=50 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.488462 0.494231
+ echo 'CHUNK 0.488462 0.494231 1'
CHUNK 0.488462 0.494231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.488462 0.494231 1
====================================
         PROGRESS: 0.488462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=025
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 025
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train025
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train025
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right 025 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train025 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local side=right
+ local tid=025
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train025
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 025 right 0
+ local tid=025
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 025 0
+ set -e
+ local tid=025
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n 1 ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.447635
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2382.05   GNORM= 562.043
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2518.552     227.730       0.001
   2    4     -2549.973     180.890       1.000
   3    5     -2623.505      95.311       1.000
   4    6     -2648.234      72.722       1.000
   5    7     -2668.972     103.970       1.000
   6    8     -2690.627      60.260       1.000
   7    9     -2703.822      46.857       1.000
   8   10     -2711.289      60.862       1.000
   9   11     -2721.797     113.567       1.000
  10   12     -2731.561      81.092       1.000
  11   13     -2737.492      28.707       1.000
  12   14     -2738.992      22.903       1.000
  13   15     -2741.180      29.085       1.000
  14   16     -2743.972      31.182       1.000
  15   17     -2745.640      26.358       1.000
  16   18     -2746.629      17.567       1.000
  17   19     -2747.903      18.544       1.000
  18   20     -2747.963      45.965       1.000
  19   21     -2748.654      18.454       1.000
  20   22     -2748.892      22.106       1.000
  21   23     -2749.116      14.427       1.000
  22   24     -2749.522       7.332       1.000
  23   26     -2749.606      11.413       0.390
  24   27     -2749.753       8.753       1.000
  25   29     -2749.816      10.475       0.299
  26   30     -2749.921       7.242       1.000
  27   31     -2750.323       8.838       1.000
  28   32     -2750.856      17.337       1.000
  29   33     -2751.066      17.824       1.000
  30   34     -2751.558      19.642       1.000
  31   35     -2751.778      10.600       1.000
  32   36     -2752.156      13.192       1.000
  33   38     -2752.217      11.994       0.110
  34   39     -2752.283      19.723       1.000
  35   40     -2752.440      10.723       1.000
  36   41     -2752.545       7.524       1.000
  37   42     -2752.688      10.706       1.000
  38   44     -2752.734       8.274       0.245
  39   45     -2752.825       5.262       1.000
  40   46     -2752.878      12.325       1.000
  41   47     -2752.917       4.099       1.000
  42   48     -2752.933       4.105       1.000
  43   49     -2752.962      10.618       1.000
  44   50     -2753.033       5.614       1.000
  45   51     -2753.049       5.699       1.000
  46   52     -2753.070       3.559       1.000
  47   53     -2753.086       7.133       1.000
  48   54     -2753.106       3.639       1.000
  49   55     -2753.113       3.440       1.000
  50   56     -2753.121       3.110       1.000
  51   58     -2753.140       3.743       5.000
  52   59     -2753.155       3.094       1.000
  53   60     -2753.158       4.544       1.000
  54   61     -2753.162       0.957       1.000
Final RAS Transform: 
0.92548 -0.00623379 -0.015658 1.16309 
0.0727559 1.02433 0.0793115 -0.802114 
0.0373564 -0.0114344 0.997684 -0.990251 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2103.72   GNORM= 109.662
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2110.328      99.656       0.001
   2    4     -2115.672      70.898       1.000
   3    5     -2120.923      31.394       1.000
   4    6     -2123.020      35.467       1.000
   5    7     -2130.982      57.671       1.000
   6    8     -2139.512     112.344       1.000
   7    9     -2144.741      60.301       1.000
   8   10     -2150.404      38.082       1.000
   9   11     -2153.228      36.377       1.000
  10   12     -2156.316      32.679       1.000
  11   13     -2175.797      59.887       1.000
  12   15     -2178.083      47.398       0.299
  13   16     -2181.121      25.922       1.000
  14   17     -2183.281      22.366       1.000
  15   18     -2184.335      41.676       1.000
  16   19     -2185.381      13.557       1.000
  17   20     -2185.755      11.226       1.000
  18   21     -2186.157      16.147       1.000
  19   22     -2186.768      26.398       1.000
  20   23     -2187.978      20.497       1.000
  21   24     -2189.460      36.426       1.000
  22   26     -2190.224      21.436       0.452
  23   27     -2190.749       8.980       1.000
  24   28     -2190.945      14.480       1.000
  25   29     -2191.187      11.268       1.000
  26   30     -2191.428      19.611       1.000
  27   31     -2192.188      17.035       1.000
  28   32     -2192.437      10.153       1.000
  29   33     -2192.637      14.737       1.000
  30   34     -2192.877      11.429       1.000
  31   35     -2193.029       5.362       1.000
  32   36     -2193.079       6.309       1.000
  33   37     -2193.118       9.586       1.000
  34   38     -2193.170       6.940       1.000
  35   39     -2193.213       6.423       1.000
  36   40     -2193.249       5.681       1.000
  37   41     -2193.264       9.328       1.000
  38   42     -2193.366       5.701       1.000
  39   44     -2193.385       4.183       0.228
  40   45     -2193.405       4.087       1.000
  41   47     -2193.436       6.480       0.148
  42   48     -2193.488       6.194       1.000
  43   50     -2193.521       6.635       0.407
  44   51     -2193.600       4.590       1.000
  45   52     -2193.669       5.551       1.000
  46   53     -2193.750       6.722       1.000
  47   55     -2193.786       5.807       0.320
  48   56     -2193.829       5.046       1.000
  49   57     -2193.886       6.688       1.000
  50   58     -2193.981       4.108       1.000
  51   59     -2194.070      14.337       1.000
  52   60     -2194.135       8.528       1.000
  53   61     -2194.185      13.562       1.000
Final RAS Transform: 
0.975687 -0.0280073 -0.040947 -0.125682 
0.0431123 1.04276 0.106461 0.0143622 
0.0139402 -0.00465195 1.00237 -0.199446 
0 0 0 1 

Final RAS Transform: 
0.975687 -0.0280073 -0.040947 -0.125682 
0.0431123 1.04276 0.106461 0.0143622 
0.0139402 -0.00465195 1.00237 -0.199446 
0 0 0 1 


real	0m10.956s
user	0m19.244s
sys	0m0.468s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.81, moving = 0.456399
LEVEL 1 of 3
  Smoothing sigmas: [2.35498, 2.34232, 2.38905], [0.961417, 0.956248, 0.975326]
Level     0,  Iter     0:    Energy =   0.0793
Level     0,  Iter     1:    Energy =   0.0852
Level     0,  Iter     2:    Energy =   0.0916
Level     0,  Iter     3:    Energy =   0.0960
Level     0,  Iter     4:    Energy =   0.1006
Level     0,  Iter     5:    Energy =   0.1026
Level     0,  Iter     6:    Energy =   0.1049
Level     0,  Iter     7:    Energy =   0.1061
Level     0,  Iter     8:    Energy =   0.1076
Level     0,  Iter     9:    Energy =   0.1084
Level     0,  Iter    10:    Energy =   0.1095
Level     0,  Iter    11:    Energy =   0.1101
Level     0,  Iter    12:    Energy =   0.1110
Level     0,  Iter    13:    Energy =   0.1114
Level     0,  Iter    14:    Energy =   0.1122
Level     0,  Iter    15:    Energy =   0.1123
Level     0,  Iter    16:    Energy =   0.1130
Level     0,  Iter    17:    Energy =   0.1131
Level     0,  Iter    18:    Energy =   0.1138
Level     0,  Iter    19:    Energy =   0.1138
Level     0,  Iter    20:    Energy =   0.1144
Level     0,  Iter    21:    Energy =   0.1144
Level     0,  Iter    22:    Energy =   0.1150
Level     0,  Iter    23:    Energy =   0.1149
Level     0,  Iter    24:    Energy =   0.1154
Level     0,  Iter    25:    Energy =   0.1152
Level     0,  Iter    26:    Energy =   0.1156
Level     0,  Iter    27:    Energy =   0.1155
Level     0,  Iter    28:    Energy =   0.1160
Level     0,  Iter    29:    Energy =   0.1158
Level     0,  Iter    30:    Energy =   0.1160
Level     0,  Iter    31:    Energy =   0.1160
Level     0,  Iter    32:    Energy =   0.1165
Level     0,  Iter    33:    Energy =   0.1163
Level     0,  Iter    34:    Energy =   0.1166
Level     0,  Iter    35:    Energy =   0.1164
Level     0,  Iter    36:    Energy =   0.1167
Level     0,  Iter    37:    Energy =   0.1166
Level     0,  Iter    38:    Energy =   0.1171
Level     0,  Iter    39:    Energy =   0.1169
Level     0,  Iter    40:    Energy =   0.1172
Level     0,  Iter    41:    Energy =   0.1170
Level     0,  Iter    42:    Energy =   0.1173
Level     0,  Iter    43:    Energy =   0.1172
Level     0,  Iter    44:    Energy =   0.1175
Level     0,  Iter    45:    Energy =   0.1173
Level     0,  Iter    46:    Energy =   0.1176
Level     0,  Iter    47:    Energy =   0.1175
Level     0,  Iter    48:    Energy =   0.1180
Level     0,  Iter    49:    Energy =   0.1178
Level     0,  Iter    50:    Energy =   0.1181
Level     0,  Iter    51:    Energy =   0.1179
Level     0,  Iter    52:    Energy =   0.1182
Level     0,  Iter    53:    Energy =   0.1181
Level     0,  Iter    54:    Energy =   0.1184
Level     0,  Iter    55:    Energy =   0.1183
Level     0,  Iter    56:    Energy =   0.1186
Level     0,  Iter    57:    Energy =   0.1186
Level     0,  Iter    58:    Energy =   0.1190
Level     0,  Iter    59:    Energy =   0.1190
END OF LEVEL     0    DetJac Range:   0.2220  to   2.5248 
  Avg. Gradient Time  : 0.0076s  35.37% 
  Avg. Gaussian Time  : 0.0105s  48.67% 
  Avg. Iteration Time : 0.0215s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19072, 1.18766, 1.19453], [0.48611, 0.484858, 0.487663]
Level     1,  Iter     0:    Energy =   0.0831
Level     1,  Iter     1:    Energy =   0.0876
Level     1,  Iter     2:    Energy =   0.0912
Level     1,  Iter     3:    Energy =   0.0945
Level     1,  Iter     4:    Energy =   0.0983
Level     1,  Iter     5:    Energy =   0.1011
Level     1,  Iter     6:    Energy =   0.1035
Level     1,  Iter     7:    Energy =   0.1054
Level     1,  Iter     8:    Energy =   0.1071
Level     1,  Iter     9:    Energy =   0.1083
Level     1,  Iter    10:    Energy =   0.1092
Level     1,  Iter    11:    Energy =   0.1098
Level     1,  Iter    12:    Energy =   0.1103
Level     1,  Iter    13:    Energy =   0.1107
Level     1,  Iter    14:    Energy =   0.1109
Level     1,  Iter    15:    Energy =   0.1112
Level     1,  Iter    16:    Energy =   0.1115
Level     1,  Iter    17:    Energy =   0.1118
Level     1,  Iter    18:    Energy =   0.1120
Level     1,  Iter    19:    Energy =   0.1122
Level     1,  Iter    20:    Energy =   0.1124
Level     1,  Iter    21:    Energy =   0.1126
Level     1,  Iter    22:    Energy =   0.1127
Level     1,  Iter    23:    Energy =   0.1129
Level     1,  Iter    24:    Energy =   0.1131
Level     1,  Iter    25:    Energy =   0.1133
Level     1,  Iter    26:    Energy =   0.1135
Level     1,  Iter    27:    Energy =   0.1137
Level     1,  Iter    28:    Energy =   0.1139
Level     1,  Iter    29:    Energy =   0.1141
Level     1,  Iter    30:    Energy =   0.1143
Level     1,  Iter    31:    Energy =   0.1145
Level     1,  Iter    32:    Energy =   0.1143
Level     1,  Iter    33:    Energy =   0.1145
Level     1,  Iter    34:    Energy =   0.1144
Level     1,  Iter    35:    Energy =   0.1145
Level     1,  Iter    36:    Energy =   0.1144
Level     1,  Iter    37:    Energy =   0.1147
Level     1,  Iter    38:    Energy =   0.1146
Level     1,  Iter    39:    Energy =   0.1147
Level     1,  Iter    40:    Energy =   0.1146
Level     1,  Iter    41:    Energy =   0.1147
Level     1,  Iter    42:    Energy =   0.1146
Level     1,  Iter    43:    Energy =   0.1148
Level     1,  Iter    44:    Energy =   0.1147
Level     1,  Iter    45:    Energy =   0.1149
Level     1,  Iter    46:    Energy =   0.1147
Level     1,  Iter    47:    Energy =   0.1151
Level     1,  Iter    48:    Energy =   0.1149
Level     1,  Iter    49:    Energy =   0.1152
Level     1,  Iter    50:    Energy =   0.1150
Level     1,  Iter    51:    Energy =   0.1153
Level     1,  Iter    52:    Energy =   0.1151
Level     1,  Iter    53:    Energy =   0.1154
Level     1,  Iter    54:    Energy =   0.1152
Level     1,  Iter    55:    Energy =   0.1154
Level     1,  Iter    56:    Energy =   0.1153
Level     1,  Iter    57:    Energy =   0.1154
Level     1,  Iter    58:    Energy =   0.1153
Level     1,  Iter    59:    Energy =   0.1154
END OF LEVEL     1    DetJac Range:   0.0688  to   3.9975 
  Avg. Gradient Time  : 0.0431s  32.71% 
  Avg. Gaussian Time  : 0.0717s  54.41% 
  Avg. Iteration Time : 0.1319s 
LEVEL 3 of 3
  Smoothing sigmas: [0.598724, 0.598039, 0.602456], [0.244428, 0.244148, 0.245952]
Level     2,  Iter     0:    Energy =   0.0592
Level     2,  Iter     1:    Energy =   0.0617
Level     2,  Iter     2:    Energy =   0.0637
Level     2,  Iter     3:    Energy =   0.0654
Level     2,  Iter     4:    Energy =   0.0668
Level     2,  Iter     5:    Energy =   0.0681
Level     2,  Iter     6:    Energy =   0.0691
Level     2,  Iter     7:    Energy =   0.0703
Level     2,  Iter     8:    Energy =   0.0713
Level     2,  Iter     9:    Energy =   0.0724
Level     2,  Iter    10:    Energy =   0.0735
Level     2,  Iter    11:    Energy =   0.0745
Level     2,  Iter    12:    Energy =   0.0754
Level     2,  Iter    13:    Energy =   0.0762
Level     2,  Iter    14:    Energy =   0.0769
Level     2,  Iter    15:    Energy =   0.0775
Level     2,  Iter    16:    Energy =   0.0780
Level     2,  Iter    17:    Energy =   0.0784
Level     2,  Iter    18:    Energy =   0.0788
Level     2,  Iter    19:    Energy =   0.0792
END OF LEVEL     2    DetJac Range:   0.0591  to   4.9773 
  Avg. Gradient Time  : 0.3101s  27.45% 
  Avg. Gaussian Time  : 0.6812s  60.31% 
  Avg. Iteration Time : 1.1294s 

real	0m36.818s
user	1m6.600s
sys	0m2.256s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=51 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=51 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.494231 0.5
+ echo 'CHUNK 0.494231 0.5 1'
CHUNK 0.494231 0.5 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.494231 0.5 1
====================================
         PROGRESS: 0.494231               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 2 successful
------------------------------------------------
[0m
****************************************
Starting stage 3: Initial joint label fusion
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 3: Initial joint label fusion
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ BOOTSTRAP=0
+ side=left
+ cat
Script: ashs_voting_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
Side: left
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
BOOTSTRAP: 0
+ [[ 0 -ne 1 ]]
+ ashs_label_fusion_apply 0
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ BOOTSTRAP=0
+ cat
Script: ashs_atlas_pairwise.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Bootstrap: 0
+ [[ 0 -eq 1 ]]
+ TDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native.nii.gz
+ local 'ATLASES=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native.nii.gz'
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz
+ local 'ATLSEGS=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz'
+ local RESULT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_raw_left.nii.gz
+ label_fusion 3 -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native.nii.gz -l /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz -m 'Joint[0.1,2]' -rp 3x3x3 -rs 3x3x3 -pd 0x0x2 -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_left_%03d.nii.gz -raw-posteriors tse_native_chunk_left.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_raw_left.nii.gz
LABEL FUSION PARAMETERS:
Target image: tse_native_chunk_left.nii.gz
Output image: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_raw_left.nii.gz
Mask image  : 
Atlas images: 
    0	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz
    1	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz
    2	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz
    3	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz
    4	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz
    5	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz
    6	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz
    7	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz
    8	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz
    9	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz
    10	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz
    11	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz
    12	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz
    13	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz
    14	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz
    15	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz
    16	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz
    17	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz
    18	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz
    19	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz
    20	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz
    21	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz
    22	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz
    23	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz
    24	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz
    25	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz
Method:     Joint
    Alpha:  0.1
    Beta:  2
Search Radius: [3, 3, 3]
Patch Radius: [3, 3, 3]
Posterior Filename Pattern: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_left_%03d.nii.gz
Outputing Raw (unnormalized) Posteriors: 1
Padding Enabled: 1
Padding Radius: [0, 0, 2]
Executing with the default number of threads: 24
Output Requested Region: [6, 12, 4], [62, 67, 45] (186930 pixels)
Computing mask based on input segmentations
  Skipping 93866 out of 186930 voxels.
...................................................................................
VOTING 
+ [[ -n '' ]]
+ cp -a /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_raw_left.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz
+ for kind in usegray nogray
+ [[ usegray = \u\s\e\g\r\a\y ]]
+ GRAYCMD='-g tse_native_chunk_left.nii.gz'
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_left.nii.gz -g tse_native_chunk_left.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_left_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_corr_usegray_left_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz
74:92:53
loading tse_native_chunk_left.nii.gz
imageFlag:1
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_left_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_left_000.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 344492
tc: 16332
mean intensity : sample #  213.01:27035
center location: (35.9937,46.3723,22.6623) feature #:4125
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 1 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_left_001.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 2144
tc: 16332
center location: (26.9935,38.827,12.2067) feature #:4125
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_left_002.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 2824
tc: 16332
center location: (33.6346,45.1975,21.8037) feature #:4125
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 0 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_left_003.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 6577
tc: 16332
center location: (43.5783,46.5842,22.0484) feature #:4125
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 1 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_left_004.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 238
tc: 16332
center location: (55.6963,48.5259,29.9327) feature #:4125
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_left_005.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 3452
tc: 16332
center location: (47.2116,46.7366,26.4853) feature #:4125
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 0 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_left_006.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 418
tc: 16332
center location: (42.8523,52.0087,25.0021) feature #:4125
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 0 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_left_007.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 51
tc: 16332
center location: (57.7856,41.6588,23.3389) feature #:4125
making corrections...
saving posterior map for label 7 .... 
Label 7 is processed in 0 seconds.
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_left_008.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 628
tc: 16332
center location: (31.3552,53.6684,42.662) feature #:4125
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 0 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_left.nii.gz
+ for kind in usegray nogray
+ [[ nogray = \u\s\e\g\r\a\y ]]
+ GRAYCMD=
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_left.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_left_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_corr_nogray_left_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz
74:92:53
imageFlag:0
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_left_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_left_000.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 344492
tc: 16332
center location: (35.9937,46.3723,22.6623) feature #:2753
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 1 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_left_001.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 2144
tc: 16332
center location: (26.9935,38.827,12.2067) feature #:2753
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_left_002.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 2824
tc: 16332
center location: (33.6346,45.1975,21.8037) feature #:2753
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 0 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_left_003.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 6577
tc: 16332
center location: (43.5783,46.5842,22.0484) feature #:2753
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 0 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_left_004.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 238
tc: 16332
center location: (55.6963,48.5259,29.9327) feature #:2753
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_left_005.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 3452
tc: 16332
center location: (47.2116,46.7366,26.4853) feature #:2753
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 0 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_left_006.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 418
tc: 16332
center location: (42.8523,52.0087,25.0021) feature #:2753
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 0 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_left_007.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 51
tc: 16332
center location: (57.7856,41.6588,23.3389) feature #:2753
making corrections...
saving posterior map for label 7 .... 
Label 7 is processed in 0 seconds.
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_left_008.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 628
tc: 16332
center location: (31.3552,53.6684,42.662) feature #:2753
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 1 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_left.nii.gz
+ [[ -n '' ]]
++ [[ 0 -eq 1 ]]
++ echo multiatlas
+ MALFMODE=multiatlas
+ ashs_segmentation_qc left multiatlas heur
+ local side=left
+ local malfmode=multiatlas
+ local corrmode=heur
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.lgZ3cPjU/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.lgZ3cPjU/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.lgZ3cPjU/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.lgZ3cPjU/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.lgZ3cPjU/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.lgZ3cPjU/sag_seg_%02d.png
++ ls /tmp/ashs.lgZ3cPjU/cor_mprage_00.png /tmp/ashs.lgZ3cPjU/cor_mprage_01.png /tmp/ashs.lgZ3cPjU/cor_mprage_02.png /tmp/ashs.lgZ3cPjU/cor_mprage_03.png /tmp/ashs.lgZ3cPjU/cor_mprage_04.png /tmp/ashs.lgZ3cPjU/cor_seg_00.png /tmp/ashs.lgZ3cPjU/cor_seg_03.png /tmp/ashs.lgZ3cPjU/cor_seg_06.png /tmp/ashs.lgZ3cPjU/cor_seg_09.png /tmp/ashs.lgZ3cPjU/cor_seg_12.png /tmp/ashs.lgZ3cPjU/cor_tse_00.png /tmp/ashs.lgZ3cPjU/cor_tse_01.png /tmp/ashs.lgZ3cPjU/cor_tse_02.png /tmp/ashs.lgZ3cPjU/cor_tse_03.png /tmp/ashs.lgZ3cPjU/cor_tse_04.png /tmp/ashs.lgZ3cPjU/sag_mprage_00.png /tmp/ashs.lgZ3cPjU/sag_mprage_01.png /tmp/ashs.lgZ3cPjU/sag_seg_00.png /tmp/ashs.lgZ3cPjU/sag_seg_03.png /tmp/ashs.lgZ3cPjU/sag_tse_00.png /tmp/ashs.lgZ3cPjU/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_mprage_00.png /tmp/ashs.lgZ3cPjU/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_mprage_01.png /tmp/ashs.lgZ3cPjU/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_mprage_02.png /tmp/ashs.lgZ3cPjU/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_mprage_03.png /tmp/ashs.lgZ3cPjU/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_mprage_04.png /tmp/ashs.lgZ3cPjU/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_seg_00.png /tmp/ashs.lgZ3cPjU/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_seg_03.png /tmp/ashs.lgZ3cPjU/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_seg_06.png /tmp/ashs.lgZ3cPjU/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_seg_09.png /tmp/ashs.lgZ3cPjU/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_seg_12.png /tmp/ashs.lgZ3cPjU/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_tse_00.png /tmp/ashs.lgZ3cPjU/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_tse_01.png /tmp/ashs.lgZ3cPjU/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_tse_02.png /tmp/ashs.lgZ3cPjU/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_tse_03.png /tmp/ashs.lgZ3cPjU/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_tse_04.png /tmp/ashs.lgZ3cPjU/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/sag_mprage_00.png /tmp/ashs.lgZ3cPjU/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/sag_mprage_01.png /tmp/ashs.lgZ3cPjU/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/sag_seg_00.png /tmp/ashs.lgZ3cPjU/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/sag_seg_03.png /tmp/ashs.lgZ3cPjU/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/sag_tse_00.png /tmp/ashs.lgZ3cPjU/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/sag_tse_01.png /tmp/ashs.lgZ3cPjU/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.lgZ3cPjU/cor_tse_00.png /tmp/ashs.lgZ3cPjU/cor_tse_01.png /tmp/ashs.lgZ3cPjU/cor_tse_02.png /tmp/ashs.lgZ3cPjU/cor_tse_03.png /tmp/ashs.lgZ3cPjU/cor_tse_04.png /tmp/ashs.lgZ3cPjU/sag_tse_00.png /tmp/ashs.lgZ3cPjU/sag_tse_01.png /tmp/ashs.lgZ3cPjU/cor_mprage_00.png /tmp/ashs.lgZ3cPjU/cor_mprage_01.png /tmp/ashs.lgZ3cPjU/cor_mprage_02.png /tmp/ashs.lgZ3cPjU/cor_mprage_03.png /tmp/ashs.lgZ3cPjU/cor_mprage_04.png /tmp/ashs.lgZ3cPjU/sag_mprage_00.png /tmp/ashs.lgZ3cPjU/sag_mprage_01.png /tmp/ashs.lgZ3cPjU/cor_seg_00.png /tmp/ashs.lgZ3cPjU/cor_seg_03.png /tmp/ashs.lgZ3cPjU/cor_seg_06.png /tmp/ashs.lgZ3cPjU/cor_seg_09.png /tmp/ashs.lgZ3cPjU/cor_seg_12.png /tmp/ashs.lgZ3cPjU/sag_seg_00.png /tmp/ashs.lgZ3cPjU/sag_seg_03.png /tmp/ashs.lgZ3cPjU/qa.png
+ convert /tmp/ashs.lgZ3cPjU/qa.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa
+ montage -label 27532:left /tmp/ashs.lgZ3cPjU/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/qa_seg_multiatlas_heur_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (left,multiatlas_heur)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/qa_seg_multiatlas_heur_left_qa.png
+ ashs_segmentation_qc left multiatlas corr_usegray
+ local side=left
+ local malfmode=multiatlas
+ local corrmode=corr_usegray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_left.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.lgZ3cPjU/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.lgZ3cPjU/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.lgZ3cPjU/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.lgZ3cPjU/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.lgZ3cPjU/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.lgZ3cPjU/sag_seg_%02d.png
++ ls /tmp/ashs.lgZ3cPjU/cor_mprage_00.png /tmp/ashs.lgZ3cPjU/cor_mprage_01.png /tmp/ashs.lgZ3cPjU/cor_mprage_02.png /tmp/ashs.lgZ3cPjU/cor_mprage_03.png /tmp/ashs.lgZ3cPjU/cor_mprage_04.png /tmp/ashs.lgZ3cPjU/cor_seg_00.png /tmp/ashs.lgZ3cPjU/cor_seg_03.png /tmp/ashs.lgZ3cPjU/cor_seg_06.png /tmp/ashs.lgZ3cPjU/cor_seg_09.png /tmp/ashs.lgZ3cPjU/cor_seg_12.png /tmp/ashs.lgZ3cPjU/cor_tse_00.png /tmp/ashs.lgZ3cPjU/cor_tse_01.png /tmp/ashs.lgZ3cPjU/cor_tse_02.png /tmp/ashs.lgZ3cPjU/cor_tse_03.png /tmp/ashs.lgZ3cPjU/cor_tse_04.png /tmp/ashs.lgZ3cPjU/sag_mprage_00.png /tmp/ashs.lgZ3cPjU/sag_mprage_01.png /tmp/ashs.lgZ3cPjU/sag_seg_00.png /tmp/ashs.lgZ3cPjU/sag_seg_03.png /tmp/ashs.lgZ3cPjU/sag_tse_00.png /tmp/ashs.lgZ3cPjU/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_mprage_00.png /tmp/ashs.lgZ3cPjU/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_mprage_01.png /tmp/ashs.lgZ3cPjU/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_mprage_02.png /tmp/ashs.lgZ3cPjU/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_mprage_03.png /tmp/ashs.lgZ3cPjU/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_mprage_04.png /tmp/ashs.lgZ3cPjU/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_seg_00.png /tmp/ashs.lgZ3cPjU/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_seg_03.png /tmp/ashs.lgZ3cPjU/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_seg_06.png /tmp/ashs.lgZ3cPjU/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_seg_09.png /tmp/ashs.lgZ3cPjU/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_seg_12.png /tmp/ashs.lgZ3cPjU/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_tse_00.png /tmp/ashs.lgZ3cPjU/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_tse_01.png /tmp/ashs.lgZ3cPjU/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_tse_02.png /tmp/ashs.lgZ3cPjU/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_tse_03.png /tmp/ashs.lgZ3cPjU/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_tse_04.png /tmp/ashs.lgZ3cPjU/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/sag_mprage_00.png /tmp/ashs.lgZ3cPjU/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/sag_mprage_01.png /tmp/ashs.lgZ3cPjU/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/sag_seg_00.png /tmp/ashs.lgZ3cPjU/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/sag_seg_03.png /tmp/ashs.lgZ3cPjU/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/sag_tse_00.png /tmp/ashs.lgZ3cPjU/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/sag_tse_01.png /tmp/ashs.lgZ3cPjU/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.lgZ3cPjU/cor_tse_00.png /tmp/ashs.lgZ3cPjU/cor_tse_01.png /tmp/ashs.lgZ3cPjU/cor_tse_02.png /tmp/ashs.lgZ3cPjU/cor_tse_03.png /tmp/ashs.lgZ3cPjU/cor_tse_04.png /tmp/ashs.lgZ3cPjU/sag_tse_00.png /tmp/ashs.lgZ3cPjU/sag_tse_01.png /tmp/ashs.lgZ3cPjU/cor_mprage_00.png /tmp/ashs.lgZ3cPjU/cor_mprage_01.png /tmp/ashs.lgZ3cPjU/cor_mprage_02.png /tmp/ashs.lgZ3cPjU/cor_mprage_03.png /tmp/ashs.lgZ3cPjU/cor_mprage_04.png /tmp/ashs.lgZ3cPjU/sag_mprage_00.png /tmp/ashs.lgZ3cPjU/sag_mprage_01.png /tmp/ashs.lgZ3cPjU/cor_seg_00.png /tmp/ashs.lgZ3cPjU/cor_seg_03.png /tmp/ashs.lgZ3cPjU/cor_seg_06.png /tmp/ashs.lgZ3cPjU/cor_seg_09.png /tmp/ashs.lgZ3cPjU/cor_seg_12.png /tmp/ashs.lgZ3cPjU/sag_seg_00.png /tmp/ashs.lgZ3cPjU/sag_seg_03.png /tmp/ashs.lgZ3cPjU/qa.png
+ convert /tmp/ashs.lgZ3cPjU/qa.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa
+ montage -label 27532:left /tmp/ashs.lgZ3cPjU/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/qa_seg_multiatlas_corr_usegray_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (left,multiatlas_corr_usegray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/qa_seg_multiatlas_corr_usegray_left_qa.png
+ ashs_segmentation_qc left multiatlas corr_nogray
+ local side=left
+ local malfmode=multiatlas
+ local corrmode=corr_nogray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_left.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.lgZ3cPjU/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.lgZ3cPjU/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.lgZ3cPjU/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.lgZ3cPjU/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.lgZ3cPjU/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.lgZ3cPjU/sag_seg_%02d.png
++ ls /tmp/ashs.lgZ3cPjU/cor_mprage_00.png /tmp/ashs.lgZ3cPjU/cor_mprage_01.png /tmp/ashs.lgZ3cPjU/cor_mprage_02.png /tmp/ashs.lgZ3cPjU/cor_mprage_03.png /tmp/ashs.lgZ3cPjU/cor_mprage_04.png /tmp/ashs.lgZ3cPjU/cor_seg_00.png /tmp/ashs.lgZ3cPjU/cor_seg_03.png /tmp/ashs.lgZ3cPjU/cor_seg_06.png /tmp/ashs.lgZ3cPjU/cor_seg_09.png /tmp/ashs.lgZ3cPjU/cor_seg_12.png /tmp/ashs.lgZ3cPjU/cor_tse_00.png /tmp/ashs.lgZ3cPjU/cor_tse_01.png /tmp/ashs.lgZ3cPjU/cor_tse_02.png /tmp/ashs.lgZ3cPjU/cor_tse_03.png /tmp/ashs.lgZ3cPjU/cor_tse_04.png /tmp/ashs.lgZ3cPjU/sag_mprage_00.png /tmp/ashs.lgZ3cPjU/sag_mprage_01.png /tmp/ashs.lgZ3cPjU/sag_seg_00.png /tmp/ashs.lgZ3cPjU/sag_seg_03.png /tmp/ashs.lgZ3cPjU/sag_tse_00.png /tmp/ashs.lgZ3cPjU/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_mprage_00.png /tmp/ashs.lgZ3cPjU/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_mprage_01.png /tmp/ashs.lgZ3cPjU/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_mprage_02.png /tmp/ashs.lgZ3cPjU/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_mprage_03.png /tmp/ashs.lgZ3cPjU/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_mprage_04.png /tmp/ashs.lgZ3cPjU/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_seg_00.png /tmp/ashs.lgZ3cPjU/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_seg_03.png /tmp/ashs.lgZ3cPjU/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_seg_06.png /tmp/ashs.lgZ3cPjU/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_seg_09.png /tmp/ashs.lgZ3cPjU/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_seg_12.png /tmp/ashs.lgZ3cPjU/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_tse_00.png /tmp/ashs.lgZ3cPjU/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_tse_01.png /tmp/ashs.lgZ3cPjU/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_tse_02.png /tmp/ashs.lgZ3cPjU/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_tse_03.png /tmp/ashs.lgZ3cPjU/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/cor_tse_04.png /tmp/ashs.lgZ3cPjU/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/sag_mprage_00.png /tmp/ashs.lgZ3cPjU/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/sag_mprage_01.png /tmp/ashs.lgZ3cPjU/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/sag_seg_00.png /tmp/ashs.lgZ3cPjU/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/sag_seg_03.png /tmp/ashs.lgZ3cPjU/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/sag_tse_00.png /tmp/ashs.lgZ3cPjU/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.lgZ3cPjU/sag_tse_01.png /tmp/ashs.lgZ3cPjU/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.lgZ3cPjU/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.lgZ3cPjU/cor_tse_00.png /tmp/ashs.lgZ3cPjU/cor_tse_01.png /tmp/ashs.lgZ3cPjU/cor_tse_02.png /tmp/ashs.lgZ3cPjU/cor_tse_03.png /tmp/ashs.lgZ3cPjU/cor_tse_04.png /tmp/ashs.lgZ3cPjU/sag_tse_00.png /tmp/ashs.lgZ3cPjU/sag_tse_01.png /tmp/ashs.lgZ3cPjU/cor_mprage_00.png /tmp/ashs.lgZ3cPjU/cor_mprage_01.png /tmp/ashs.lgZ3cPjU/cor_mprage_02.png /tmp/ashs.lgZ3cPjU/cor_mprage_03.png /tmp/ashs.lgZ3cPjU/cor_mprage_04.png /tmp/ashs.lgZ3cPjU/sag_mprage_00.png /tmp/ashs.lgZ3cPjU/sag_mprage_01.png /tmp/ashs.lgZ3cPjU/cor_seg_00.png /tmp/ashs.lgZ3cPjU/cor_seg_03.png /tmp/ashs.lgZ3cPjU/cor_seg_06.png /tmp/ashs.lgZ3cPjU/cor_seg_09.png /tmp/ashs.lgZ3cPjU/cor_seg_12.png /tmp/ashs.lgZ3cPjU/sag_seg_00.png /tmp/ashs.lgZ3cPjU/sag_seg_03.png /tmp/ashs.lgZ3cPjU/qa.png
+ convert /tmp/ashs.lgZ3cPjU/qa.png -bordercolor Black -border 1x1 /tmp/ashs.lgZ3cPjU/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa
+ montage -label 27532:left /tmp/ashs.lgZ3cPjU/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/qa_seg_multiatlas_corr_nogray_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (left,multiatlas_corr_nogray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/qa_seg_multiatlas_corr_nogray_left_qa.png
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.5 -v be=0.6 -v j=0 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.5 0.6'
CHUNK 0.5 0.6
+ echo 1
+ awk -v bs=0.5 -v be=0.6 -v j=0 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.5 0.55
+ echo 'CHUNK 0.5 0.55 1'
CHUNK 0.5 0.55 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.5 0.55 1
====================================
         PROGRESS: 0.5               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ BOOTSTRAP=0
+ side=right
+ cat
Script: ashs_voting_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
Side: right
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
BOOTSTRAP: 0
+ [[ 0 -ne 1 ]]
+ ashs_label_fusion_apply 0
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ BOOTSTRAP=0
+ cat
Script: ashs_atlas_pairwise.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Bootstrap: 0
+ [[ 0 -eq 1 ]]
+ TDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native.nii.gz
+ local 'ATLASES=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native.nii.gz'
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz
+ local 'ATLSEGS=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz'
+ local RESULT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_raw_right.nii.gz
+ label_fusion 3 -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native.nii.gz -l /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz -m 'Joint[0.1,2]' -rp 3x3x3 -rs 3x3x3 -pd 0x0x2 -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_right_%03d.nii.gz -raw-posteriors tse_native_chunk_right.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_raw_right.nii.gz
LABEL FUSION PARAMETERS:
Target image: tse_native_chunk_right.nii.gz
Output image: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_raw_right.nii.gz
Mask image  : 
Atlas images: 
    0	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz
    1	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz
    2	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz
    3	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz
    4	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz
    5	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz
    6	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz
    7	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz
    8	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz
    9	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz
    10	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz
    11	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz
    12	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz
    13	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz
    14	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz
    15	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz
    16	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz
    17	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz
    18	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz
    19	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz
    20	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz
    21	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz
    22	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz
    23	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz
    24	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz
    25	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz
Method:     Joint
    Alpha:  0.1
    Beta:  2
Search Radius: [3, 3, 3]
Patch Radius: [3, 3, 3]
Posterior Filename Pattern: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_right_%03d.nii.gz
Outputing Raw (unnormalized) Posteriors: 1
Padding Enabled: 1
Padding Radius: [0, 0, 2]
Executing with the default number of threads: 24
Output Requested Region: [6, 13, 4], [71, 62, 45] (198090 pixels)
Computing mask based on input segmentations
  Skipping 96062 out of 198090 voxels.
............................................................................................
VOTING 
+ [[ -n '' ]]
+ cp -a /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_raw_right.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz
+ for kind in usegray nogray
+ [[ usegray = \u\s\e\g\r\a\y ]]
+ GRAYCMD='-g tse_native_chunk_right.nii.gz'
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_right.nii.gz -g tse_native_chunk_right.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_right_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_corr_usegray_right_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz
83:92:53
loading tse_native_chunk_right.nii.gz
imageFlag:1
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_right_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_right_000.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 388008
tc: 16700
mean intensity : sample #  251.394:27884
center location: (43.6043,46.0121,23.6952) feature #:4125
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 1 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_right_001.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 2306
tc: 16700
center location: (51.5034,38.7501,13.2919) feature #:4125
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_right_002.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 2790
tc: 16700
center location: (45.7759,44.1543,22.8077) feature #:4125
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 0 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_right_003.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 7017
tc: 16700
center location: (35.6977,46.874,23.6245) feature #:4125
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 0 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_right_004.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 234
tc: 16700
center location: (23.4994,49.7292,32.2796) feature #:4125
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_right_005.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 3455
tc: 16700
center location: (32.508,47.4535,28.4252) feature #:4125
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 1 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_right_006.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 385
tc: 16700
center location: (34.8179,51.986,26.8513) feature #:4125
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 0 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_right_007.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 6
tc: 16700
center location: (23.4516,44.0511,35.1475) feature #:4125
making corrections...
saving posterior map for label 7 .... 
Label 7 is processed in 0 seconds.
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_right_008.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 507
tc: 16700
center location: (47.8815,55.6181,44.1488) feature #:4125
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 0 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_right.nii.gz
+ for kind in usegray nogray
+ [[ nogray = \u\s\e\g\r\a\y ]]
+ GRAYCMD=
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_right.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_right_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_corr_nogray_right_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz
83:92:53
imageFlag:0
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_right_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_right_000.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 388008
tc: 16700
center location: (43.6043,46.0121,23.6952) feature #:2753
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 0 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_right_001.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 2306
tc: 16700
center location: (51.5034,38.7501,13.2919) feature #:2753
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_right_002.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 2790
tc: 16700
center location: (45.7759,44.1543,22.8077) feature #:2753
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 1 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_right_003.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 7017
tc: 16700
center location: (35.6977,46.874,23.6245) feature #:2753
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 0 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_right_004.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 234
tc: 16700
center location: (23.4994,49.7292,32.2796) feature #:2753
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_right_005.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 3455
tc: 16700
center location: (32.508,47.4535,28.4252) feature #:2753
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 0 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_right_006.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 385
tc: 16700
center location: (34.8179,51.986,26.8513) feature #:2753
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 0 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_right_007.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 6
tc: 16700
center location: (23.4516,44.0511,35.1475) feature #:2753
making corrections...
saving posterior map for label 7 .... 
Label 7 is processed in 0 seconds.
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/posterior_right_008.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 507
tc: 16700
center location: (47.8815,55.6181,44.1488) feature #:2753
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 0 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_right.nii.gz
+ [[ -n '' ]]
++ [[ 0 -eq 1 ]]
++ echo multiatlas
+ MALFMODE=multiatlas
+ ashs_segmentation_qc right multiatlas heur
+ local side=right
+ local malfmode=multiatlas
+ local corrmode=heur
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.5yjjJ9XX/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.5yjjJ9XX/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.5yjjJ9XX/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.5yjjJ9XX/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.5yjjJ9XX/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.5yjjJ9XX/sag_seg_%02d.png
++ ls /tmp/ashs.5yjjJ9XX/cor_mprage_00.png /tmp/ashs.5yjjJ9XX/cor_mprage_01.png /tmp/ashs.5yjjJ9XX/cor_mprage_02.png /tmp/ashs.5yjjJ9XX/cor_mprage_03.png /tmp/ashs.5yjjJ9XX/cor_mprage_04.png /tmp/ashs.5yjjJ9XX/cor_seg_00.png /tmp/ashs.5yjjJ9XX/cor_seg_03.png /tmp/ashs.5yjjJ9XX/cor_seg_06.png /tmp/ashs.5yjjJ9XX/cor_seg_09.png /tmp/ashs.5yjjJ9XX/cor_seg_12.png /tmp/ashs.5yjjJ9XX/cor_tse_00.png /tmp/ashs.5yjjJ9XX/cor_tse_01.png /tmp/ashs.5yjjJ9XX/cor_tse_02.png /tmp/ashs.5yjjJ9XX/cor_tse_03.png /tmp/ashs.5yjjJ9XX/cor_tse_04.png /tmp/ashs.5yjjJ9XX/sag_mprage_00.png /tmp/ashs.5yjjJ9XX/sag_mprage_01.png /tmp/ashs.5yjjJ9XX/sag_seg_00.png /tmp/ashs.5yjjJ9XX/sag_seg_03.png /tmp/ashs.5yjjJ9XX/sag_tse_00.png /tmp/ashs.5yjjJ9XX/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_mprage_00.png /tmp/ashs.5yjjJ9XX/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_mprage_01.png /tmp/ashs.5yjjJ9XX/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_mprage_02.png /tmp/ashs.5yjjJ9XX/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_mprage_03.png /tmp/ashs.5yjjJ9XX/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_mprage_04.png /tmp/ashs.5yjjJ9XX/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_seg_00.png /tmp/ashs.5yjjJ9XX/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_seg_03.png /tmp/ashs.5yjjJ9XX/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_seg_06.png /tmp/ashs.5yjjJ9XX/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_seg_09.png /tmp/ashs.5yjjJ9XX/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_seg_12.png /tmp/ashs.5yjjJ9XX/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_tse_00.png /tmp/ashs.5yjjJ9XX/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_tse_01.png /tmp/ashs.5yjjJ9XX/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_tse_02.png /tmp/ashs.5yjjJ9XX/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_tse_03.png /tmp/ashs.5yjjJ9XX/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_tse_04.png /tmp/ashs.5yjjJ9XX/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/sag_mprage_00.png /tmp/ashs.5yjjJ9XX/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/sag_mprage_01.png /tmp/ashs.5yjjJ9XX/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/sag_seg_00.png /tmp/ashs.5yjjJ9XX/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/sag_seg_03.png /tmp/ashs.5yjjJ9XX/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/sag_tse_00.png /tmp/ashs.5yjjJ9XX/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/sag_tse_01.png /tmp/ashs.5yjjJ9XX/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.5yjjJ9XX/cor_tse_00.png /tmp/ashs.5yjjJ9XX/cor_tse_01.png /tmp/ashs.5yjjJ9XX/cor_tse_02.png /tmp/ashs.5yjjJ9XX/cor_tse_03.png /tmp/ashs.5yjjJ9XX/cor_tse_04.png /tmp/ashs.5yjjJ9XX/sag_tse_00.png /tmp/ashs.5yjjJ9XX/sag_tse_01.png /tmp/ashs.5yjjJ9XX/cor_mprage_00.png /tmp/ashs.5yjjJ9XX/cor_mprage_01.png /tmp/ashs.5yjjJ9XX/cor_mprage_02.png /tmp/ashs.5yjjJ9XX/cor_mprage_03.png /tmp/ashs.5yjjJ9XX/cor_mprage_04.png /tmp/ashs.5yjjJ9XX/sag_mprage_00.png /tmp/ashs.5yjjJ9XX/sag_mprage_01.png /tmp/ashs.5yjjJ9XX/cor_seg_00.png /tmp/ashs.5yjjJ9XX/cor_seg_03.png /tmp/ashs.5yjjJ9XX/cor_seg_06.png /tmp/ashs.5yjjJ9XX/cor_seg_09.png /tmp/ashs.5yjjJ9XX/cor_seg_12.png /tmp/ashs.5yjjJ9XX/sag_seg_00.png /tmp/ashs.5yjjJ9XX/sag_seg_03.png /tmp/ashs.5yjjJ9XX/qa.png
+ convert /tmp/ashs.5yjjJ9XX/qa.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa
+ montage -label 27532:right /tmp/ashs.5yjjJ9XX/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/qa_seg_multiatlas_heur_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (right,multiatlas_heur)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/qa_seg_multiatlas_heur_right_qa.png
+ ashs_segmentation_qc right multiatlas corr_usegray
+ local side=right
+ local malfmode=multiatlas
+ local corrmode=corr_usegray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_right.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.5yjjJ9XX/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.5yjjJ9XX/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.5yjjJ9XX/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_corr_usegray_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.5yjjJ9XX/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.5yjjJ9XX/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.5yjjJ9XX/sag_seg_%02d.png
++ ls /tmp/ashs.5yjjJ9XX/cor_mprage_00.png /tmp/ashs.5yjjJ9XX/cor_mprage_01.png /tmp/ashs.5yjjJ9XX/cor_mprage_02.png /tmp/ashs.5yjjJ9XX/cor_mprage_03.png /tmp/ashs.5yjjJ9XX/cor_mprage_04.png /tmp/ashs.5yjjJ9XX/cor_seg_00.png /tmp/ashs.5yjjJ9XX/cor_seg_03.png /tmp/ashs.5yjjJ9XX/cor_seg_06.png /tmp/ashs.5yjjJ9XX/cor_seg_09.png /tmp/ashs.5yjjJ9XX/cor_seg_12.png /tmp/ashs.5yjjJ9XX/cor_tse_00.png /tmp/ashs.5yjjJ9XX/cor_tse_01.png /tmp/ashs.5yjjJ9XX/cor_tse_02.png /tmp/ashs.5yjjJ9XX/cor_tse_03.png /tmp/ashs.5yjjJ9XX/cor_tse_04.png /tmp/ashs.5yjjJ9XX/sag_mprage_00.png /tmp/ashs.5yjjJ9XX/sag_mprage_01.png /tmp/ashs.5yjjJ9XX/sag_seg_00.png /tmp/ashs.5yjjJ9XX/sag_seg_03.png /tmp/ashs.5yjjJ9XX/sag_tse_00.png /tmp/ashs.5yjjJ9XX/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_mprage_00.png /tmp/ashs.5yjjJ9XX/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_mprage_01.png /tmp/ashs.5yjjJ9XX/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_mprage_02.png /tmp/ashs.5yjjJ9XX/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_mprage_03.png /tmp/ashs.5yjjJ9XX/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_mprage_04.png /tmp/ashs.5yjjJ9XX/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_seg_00.png /tmp/ashs.5yjjJ9XX/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_seg_03.png /tmp/ashs.5yjjJ9XX/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_seg_06.png /tmp/ashs.5yjjJ9XX/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_seg_09.png /tmp/ashs.5yjjJ9XX/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_seg_12.png /tmp/ashs.5yjjJ9XX/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_tse_00.png /tmp/ashs.5yjjJ9XX/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_tse_01.png /tmp/ashs.5yjjJ9XX/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_tse_02.png /tmp/ashs.5yjjJ9XX/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_tse_03.png /tmp/ashs.5yjjJ9XX/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_tse_04.png /tmp/ashs.5yjjJ9XX/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/sag_mprage_00.png /tmp/ashs.5yjjJ9XX/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/sag_mprage_01.png /tmp/ashs.5yjjJ9XX/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/sag_seg_00.png /tmp/ashs.5yjjJ9XX/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/sag_seg_03.png /tmp/ashs.5yjjJ9XX/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/sag_tse_00.png /tmp/ashs.5yjjJ9XX/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/sag_tse_01.png /tmp/ashs.5yjjJ9XX/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.5yjjJ9XX/cor_tse_00.png /tmp/ashs.5yjjJ9XX/cor_tse_01.png /tmp/ashs.5yjjJ9XX/cor_tse_02.png /tmp/ashs.5yjjJ9XX/cor_tse_03.png /tmp/ashs.5yjjJ9XX/cor_tse_04.png /tmp/ashs.5yjjJ9XX/sag_tse_00.png /tmp/ashs.5yjjJ9XX/sag_tse_01.png /tmp/ashs.5yjjJ9XX/cor_mprage_00.png /tmp/ashs.5yjjJ9XX/cor_mprage_01.png /tmp/ashs.5yjjJ9XX/cor_mprage_02.png /tmp/ashs.5yjjJ9XX/cor_mprage_03.png /tmp/ashs.5yjjJ9XX/cor_mprage_04.png /tmp/ashs.5yjjJ9XX/sag_mprage_00.png /tmp/ashs.5yjjJ9XX/sag_mprage_01.png /tmp/ashs.5yjjJ9XX/cor_seg_00.png /tmp/ashs.5yjjJ9XX/cor_seg_03.png /tmp/ashs.5yjjJ9XX/cor_seg_06.png /tmp/ashs.5yjjJ9XX/cor_seg_09.png /tmp/ashs.5yjjJ9XX/cor_seg_12.png /tmp/ashs.5yjjJ9XX/sag_seg_00.png /tmp/ashs.5yjjJ9XX/sag_seg_03.png /tmp/ashs.5yjjJ9XX/qa.png
+ convert /tmp/ashs.5yjjJ9XX/qa.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa
+ montage -label 27532:right /tmp/ashs.5yjjJ9XX/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/qa_seg_multiatlas_corr_usegray_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (right,multiatlas_corr_usegray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/qa_seg_multiatlas_corr_usegray_right_qa.png
+ ashs_segmentation_qc right multiatlas corr_nogray
+ local side=right
+ local malfmode=multiatlas
+ local corrmode=corr_nogray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_right.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.5yjjJ9XX/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.5yjjJ9XX/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.5yjjJ9XX/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_corr_nogray_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.5yjjJ9XX/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.5yjjJ9XX/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.5yjjJ9XX/sag_seg_%02d.png
++ ls /tmp/ashs.5yjjJ9XX/cor_mprage_00.png /tmp/ashs.5yjjJ9XX/cor_mprage_01.png /tmp/ashs.5yjjJ9XX/cor_mprage_02.png /tmp/ashs.5yjjJ9XX/cor_mprage_03.png /tmp/ashs.5yjjJ9XX/cor_mprage_04.png /tmp/ashs.5yjjJ9XX/cor_seg_00.png /tmp/ashs.5yjjJ9XX/cor_seg_03.png /tmp/ashs.5yjjJ9XX/cor_seg_06.png /tmp/ashs.5yjjJ9XX/cor_seg_09.png /tmp/ashs.5yjjJ9XX/cor_seg_12.png /tmp/ashs.5yjjJ9XX/cor_tse_00.png /tmp/ashs.5yjjJ9XX/cor_tse_01.png /tmp/ashs.5yjjJ9XX/cor_tse_02.png /tmp/ashs.5yjjJ9XX/cor_tse_03.png /tmp/ashs.5yjjJ9XX/cor_tse_04.png /tmp/ashs.5yjjJ9XX/sag_mprage_00.png /tmp/ashs.5yjjJ9XX/sag_mprage_01.png /tmp/ashs.5yjjJ9XX/sag_seg_00.png /tmp/ashs.5yjjJ9XX/sag_seg_03.png /tmp/ashs.5yjjJ9XX/sag_tse_00.png /tmp/ashs.5yjjJ9XX/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_mprage_00.png /tmp/ashs.5yjjJ9XX/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_mprage_01.png /tmp/ashs.5yjjJ9XX/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_mprage_02.png /tmp/ashs.5yjjJ9XX/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_mprage_03.png /tmp/ashs.5yjjJ9XX/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_mprage_04.png /tmp/ashs.5yjjJ9XX/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_seg_00.png /tmp/ashs.5yjjJ9XX/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_seg_03.png /tmp/ashs.5yjjJ9XX/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_seg_06.png /tmp/ashs.5yjjJ9XX/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_seg_09.png /tmp/ashs.5yjjJ9XX/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_seg_12.png /tmp/ashs.5yjjJ9XX/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_tse_00.png /tmp/ashs.5yjjJ9XX/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_tse_01.png /tmp/ashs.5yjjJ9XX/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_tse_02.png /tmp/ashs.5yjjJ9XX/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_tse_03.png /tmp/ashs.5yjjJ9XX/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/cor_tse_04.png /tmp/ashs.5yjjJ9XX/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/sag_mprage_00.png /tmp/ashs.5yjjJ9XX/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/sag_mprage_01.png /tmp/ashs.5yjjJ9XX/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/sag_seg_00.png /tmp/ashs.5yjjJ9XX/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/sag_seg_03.png /tmp/ashs.5yjjJ9XX/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/sag_tse_00.png /tmp/ashs.5yjjJ9XX/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.5yjjJ9XX/sag_tse_01.png /tmp/ashs.5yjjJ9XX/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.5yjjJ9XX/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.5yjjJ9XX/cor_tse_00.png /tmp/ashs.5yjjJ9XX/cor_tse_01.png /tmp/ashs.5yjjJ9XX/cor_tse_02.png /tmp/ashs.5yjjJ9XX/cor_tse_03.png /tmp/ashs.5yjjJ9XX/cor_tse_04.png /tmp/ashs.5yjjJ9XX/sag_tse_00.png /tmp/ashs.5yjjJ9XX/sag_tse_01.png /tmp/ashs.5yjjJ9XX/cor_mprage_00.png /tmp/ashs.5yjjJ9XX/cor_mprage_01.png /tmp/ashs.5yjjJ9XX/cor_mprage_02.png /tmp/ashs.5yjjJ9XX/cor_mprage_03.png /tmp/ashs.5yjjJ9XX/cor_mprage_04.png /tmp/ashs.5yjjJ9XX/sag_mprage_00.png /tmp/ashs.5yjjJ9XX/sag_mprage_01.png /tmp/ashs.5yjjJ9XX/cor_seg_00.png /tmp/ashs.5yjjJ9XX/cor_seg_03.png /tmp/ashs.5yjjJ9XX/cor_seg_06.png /tmp/ashs.5yjjJ9XX/cor_seg_09.png /tmp/ashs.5yjjJ9XX/cor_seg_12.png /tmp/ashs.5yjjJ9XX/sag_seg_00.png /tmp/ashs.5yjjJ9XX/sag_seg_03.png /tmp/ashs.5yjjJ9XX/qa.png
+ convert /tmp/ashs.5yjjJ9XX/qa.png -bordercolor Black -border 1x1 /tmp/ashs.5yjjJ9XX/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa
+ montage -label 27532:right /tmp/ashs.5yjjJ9XX/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/qa_seg_multiatlas_corr_nogray_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (right,multiatlas_corr_nogray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/qa_seg_multiatlas_corr_nogray_right_qa.png
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.5 -v be=0.6 -v j=1 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.5 0.6'
CHUNK 0.5 0.6
+ echo 1
+ awk -v bs=0.5 -v be=0.6 -v j=1 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.55 0.6
+ echo 'CHUNK 0.55 0.6 1'
CHUNK 0.55 0.6 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.55 0.6 1
====================================
         PROGRESS: 0.55               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 3 successful
------------------------------------------------
[0m
****************************************
Starting stage 4: Boostrapped ROI registration to all T2 atlases
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 4: Boostrapped ROI registration 
to all T2 atlases
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=000
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 000
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train000
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train000
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 000 left 0
+ local tid=000
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 000 0
+ set -e
+ local tid=000
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train000/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1842.17 	 OutFr   0.0000 	 RMSD     2.1322
Iter 002 	 Temp     3.72 	 Delta  1762.79 	 OutFr   0.0000 	 RMSD     1.9536
Iter 003 	 Temp     3.46 	 Delta  1659.86 	 OutFr   0.0000 	 RMSD     1.9469
Iter 004 	 Temp     3.22 	 Delta  1553.29 	 OutFr   0.0000 	 RMSD     1.9348
Iter 005 	 Temp     2.99 	 Delta  1449.94 	 OutFr   0.0000 	 RMSD     1.9194
Iter 006 	 Temp     2.78 	 Delta  1352.00 	 OutFr   0.0000 	 RMSD     1.9030
Iter 007 	 Temp     2.59 	 Delta  1259.88 	 OutFr   0.0000 	 RMSD     1.8869
Iter 008 	 Temp     2.41 	 Delta  1172.79 	 OutFr   0.0000 	 RMSD     1.8715
Iter 009 	 Temp     2.24 	 Delta  1089.51 	 OutFr   0.0000 	 RMSD     1.8576
Iter 010 	 Temp     2.08 	 Delta  1009.58 	 OutFr   0.0000 	 RMSD     1.8450
Iter 011 	 Temp     1.94 	 Delta   933.53 	 OutFr   0.0000 	 RMSD     1.8337
Iter 012 	 Temp     1.80 	 Delta   862.35 	 OutFr   0.0000 	 RMSD     1.8233
Iter 013 	 Temp     1.67 	 Delta   797.12 	 OutFr   0.0024 	 RMSD     1.8141
Iter 014 	 Temp     1.56 	 Delta   738.36 	 OutFr   0.0072 	 RMSD     1.8069
Iter 015 	 Temp     1.45 	 Delta   685.19 	 OutFr   0.0097 	 RMSD     1.8005
Iter 016 	 Temp     1.35 	 Delta   635.88 	 OutFr   0.0145 	 RMSD     1.7949
Iter 017 	 Temp     1.25 	 Delta   589.86 	 OutFr   0.0145 	 RMSD     1.7901
Iter 018 	 Temp     1.16 	 Delta   548.06 	 OutFr   0.0145 	 RMSD     1.7853
Iter 019 	 Temp     1.08 	 Delta   512.72 	 OutFr   0.0193 	 RMSD     1.7803
Iter 020 	 Temp     1.01 	 Delta   485.12 	 OutFr   0.0193 	 RMSD     1.7748
Iter 021 	 Temp     0.94 	 Delta   462.41 	 OutFr   0.0242 	 RMSD     1.7689
Iter 022 	 Temp     0.87 	 Delta   443.26 	 OutFr   0.0314 	 RMSD     1.7618
Iter 023 	 Temp     0.81 	 Delta   427.25 	 OutFr   0.0411 	 RMSD     1.7534
Iter 024 	 Temp     0.75 	 Delta   412.87 	 OutFr   0.0483 	 RMSD     1.7451
Iter 025 	 Temp     0.70 	 Delta   398.20 	 OutFr   0.0604 	 RMSD     1.7382
Iter 026 	 Temp     0.65 	 Delta   382.40 	 OutFr   0.0749 	 RMSD     1.7342
Iter 027 	 Temp     0.61 	 Delta   367.31 	 OutFr   0.0845 	 RMSD     1.7324
Iter 028 	 Temp     0.56 	 Delta   350.94 	 OutFr   0.0966 	 RMSD     1.7314
Iter 029 	 Temp     0.52 	 Delta   331.60 	 OutFr   0.1208 	 RMSD     1.7316
Iter 030 	 Temp     0.49 	 Delta   311.01 	 OutFr   0.1473 	 RMSD     1.7326
Iter 031 	 Temp     0.45 	 Delta   288.38 	 OutFr   0.1594 	 RMSD     1.7339
Iter 032 	 Temp     0.42 	 Delta   263.60 	 OutFr   0.1884 	 RMSD     1.7352
Iter 033 	 Temp     0.39 	 Delta   238.51 	 OutFr   0.2174 	 RMSD     1.7366
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train000/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.9YPId0ob/mybin.nii.gz
+ vtklevelset /tmp/ashs.9YPId0ob/mybin.nii.gz /tmp/ashs.9YPId0ob/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.9YPId0ob/mymesh.vtk /tmp/ashs.9YPId0ob/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2810.03302501 3054.89696527   1.08713917
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.9YPId0ob/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train000/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -36.1142 to -11.2319
   Y : -22.4766 to 24.7227
   Z : -24.1179 to 0.72217
   Image resolution  : 101 by 165 by 100
   Image box origin  : {-41.1142, -27.4766, -29.1179}
   Image box size    : {35.0694, 57.2916, 34.9996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [41.1142, 27.4766, -29.1179]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train000/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_fwd.mat -o /tmp/ashs.9YPId0ob/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train000/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_inv.mat -o /tmp/ashs.9YPId0ob/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train000/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.9YPId0ob/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train000/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=0 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=0 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.6 0.605769
+ echo 'CHUNK 0.6 0.605769 0.5'
CHUNK 0.6 0.605769 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.6 0.605769 0.5
====================================
         PROGRESS: 0.6               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train000/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.9YPId0ob/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.9YPId0ob/fixed_hw.nii.gz /tmp/ashs.9YPId0ob/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train000/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.687012, moving = 0.729018
LEVEL 1 of 3
  Smoothing sigmas: [2.33623, 2.36267, 2.42484], [0.953763, 0.964555, 0.989938]
Level     0,  Iter     0:    Energy =   0.0721
Level     0,  Iter     1:    Energy =   0.0798
Level     0,  Iter     2:    Energy =   0.0855
Level     0,  Iter     3:    Energy =   0.0902
Level     0,  Iter     4:    Energy =   0.0945
Level     0,  Iter     5:    Energy =   0.0983
Level     0,  Iter     6:    Energy =   0.1008
Level     0,  Iter     7:    Energy =   0.1031
Level     0,  Iter     8:    Energy =   0.1035
Level     0,  Iter     9:    Energy =   0.1041
Level     0,  Iter    10:    Energy =   0.1049
Level     0,  Iter    11:    Energy =   0.1055
Level     0,  Iter    12:    Energy =   0.1062
Level     0,  Iter    13:    Energy =   0.1071
Level     0,  Iter    14:    Energy =   0.1075
Level     0,  Iter    15:    Energy =   0.1078
Level     0,  Iter    16:    Energy =   0.1082
Level     0,  Iter    17:    Energy =   0.1085
Level     0,  Iter    18:    Energy =   0.1082
Level     0,  Iter    19:    Energy =   0.1089
Level     0,  Iter    20:    Energy =   0.1086
Level     0,  Iter    21:    Energy =   0.1090
Level     0,  Iter    22:    Energy =   0.1085
Level     0,  Iter    23:    Energy =   0.1088
Level     0,  Iter    24:    Energy =   0.1086
Level     0,  Iter    25:    Energy =   0.1089
Level     0,  Iter    26:    Energy =   0.1087
Level     0,  Iter    27:    Energy =   0.1090
Level     0,  Iter    28:    Energy =   0.1087
Level     0,  Iter    29:    Energy =   0.1090
Level     0,  Iter    30:    Energy =   0.1087
Level     0,  Iter    31:    Energy =   0.1090
Level     0,  Iter    32:    Energy =   0.1087
Level     0,  Iter    33:    Energy =   0.1090
Level     0,  Iter    34:    Energy =   0.1088
Level     0,  Iter    35:    Energy =   0.1092
Level     0,  Iter    36:    Energy =   0.1089
Level     0,  Iter    37:    Energy =   0.1092
Level     0,  Iter    38:    Energy =   0.1089
Level     0,  Iter    39:    Energy =   0.1093
Level     0,  Iter    40:    Energy =   0.1089
Level     0,  Iter    41:    Energy =   0.1092
Level     0,  Iter    42:    Energy =   0.1089
Level     0,  Iter    43:    Energy =   0.1094
Level     0,  Iter    44:    Energy =   0.1090
Level     0,  Iter    45:    Energy =   0.1093
Level     0,  Iter    46:    Energy =   0.1090
Level     0,  Iter    47:    Energy =   0.1093
Level     0,  Iter    48:    Energy =   0.1091
Level     0,  Iter    49:    Energy =   0.1095
Level     0,  Iter    50:    Energy =   0.1091
Level     0,  Iter    51:    Energy =   0.1094
Level     0,  Iter    52:    Energy =   0.1091
Level     0,  Iter    53:    Energy =   0.1094
Level     0,  Iter    54:    Energy =   0.1090
Level     0,  Iter    55:    Energy =   0.1093
Level     0,  Iter    56:    Energy =   0.1090
Level     0,  Iter    57:    Energy =   0.1095
Level     0,  Iter    58:    Energy =   0.1091
Level     0,  Iter    59:    Energy =   0.1094
END OF LEVEL     0    DetJac Range:   0.4164  to   2.1106 
  Avg. Gradient Time  : 0.0073s  37.78% 
  Avg. Gaussian Time  : 0.0092s  47.49% 
  Avg. Iteration Time : 0.0193s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19102, 1.19557, 1.21242], [0.486232, 0.488088, 0.494969]
Level     1,  Iter     0:    Energy =   0.0779
Level     1,  Iter     1:    Energy =   0.0821
Level     1,  Iter     2:    Energy =   0.0861
Level     1,  Iter     3:    Energy =   0.0892
Level     1,  Iter     4:    Energy =   0.0916
Level     1,  Iter     5:    Energy =   0.0938
Level     1,  Iter     6:    Energy =   0.0958
Level     1,  Iter     7:    Energy =   0.0970
Level     1,  Iter     8:    Energy =   0.0979
Level     1,  Iter     9:    Energy =   0.0989
Level     1,  Iter    10:    Energy =   0.1000
Level     1,  Iter    11:    Energy =   0.1010
Level     1,  Iter    12:    Energy =   0.1018
Level     1,  Iter    13:    Energy =   0.1020
Level     1,  Iter    14:    Energy =   0.1021
Level     1,  Iter    15:    Energy =   0.1019
Level     1,  Iter    16:    Energy =   0.1024
Level     1,  Iter    17:    Energy =   0.1026
Level     1,  Iter    18:    Energy =   0.1026
Level     1,  Iter    19:    Energy =   0.1025
Level     1,  Iter    20:    Energy =   0.1027
Level     1,  Iter    21:    Energy =   0.1028
Level     1,  Iter    22:    Energy =   0.1028
Level     1,  Iter    23:    Energy =   0.1027
Level     1,  Iter    24:    Energy =   0.1028
Level     1,  Iter    25:    Energy =   0.1028
Level     1,  Iter    26:    Energy =   0.1028
Level     1,  Iter    27:    Energy =   0.1029
Level     1,  Iter    28:    Energy =   0.1028
Level     1,  Iter    29:    Energy =   0.1030
Level     1,  Iter    30:    Energy =   0.1029
Level     1,  Iter    31:    Energy =   0.1029
Level     1,  Iter    32:    Energy =   0.1030
Level     1,  Iter    33:    Energy =   0.1028
Level     1,  Iter    34:    Energy =   0.1031
Level     1,  Iter    35:    Energy =   0.1029
Level     1,  Iter    36:    Energy =   0.1032
Level     1,  Iter    37:    Energy =   0.1029
Level     1,  Iter    38:    Energy =   0.1032
Level     1,  Iter    39:    Energy =   0.1030
Level     1,  Iter    40:    Energy =   0.1033
Level     1,  Iter    41:    Energy =   0.1030
Level     1,  Iter    42:    Energy =   0.1034
Level     1,  Iter    43:    Energy =   0.1035
Level     1,  Iter    44:    Energy =   0.1033
Level     1,  Iter    45:    Energy =   0.1031
Level     1,  Iter    46:    Energy =   0.1034
Level     1,  Iter    47:    Energy =   0.1031
Level     1,  Iter    48:    Energy =   0.1035
Level     1,  Iter    49:    Energy =   0.1035
Level     1,  Iter    50:    Energy =   0.1034
Level     1,  Iter    51:    Energy =   0.1031
Level     1,  Iter    52:    Energy =   0.1035
Level     1,  Iter    53:    Energy =   0.1036
Level     1,  Iter    54:    Energy =   0.1035
Level     1,  Iter    55:    Energy =   0.1032
Level     1,  Iter    56:    Energy =   0.1037
Level     1,  Iter    57:    Energy =   0.1037
Level     1,  Iter    58:    Energy =   0.1037
Level     1,  Iter    59:    Energy =   0.1033
END OF LEVEL     1    DetJac Range:   0.1697  to   3.2832 
  Avg. Gradient Time  : 0.0427s  40.49% 
  Avg. Gaussian Time  : 0.0503s  47.78% 
  Avg. Iteration Time : 0.1054s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0542
Level     2,  Iter     1:    Energy =   0.0574
Level     2,  Iter     2:    Energy =   0.0604
Level     2,  Iter     3:    Energy =   0.0629
Level     2,  Iter     4:    Energy =   0.0652
Level     2,  Iter     5:    Energy =   0.0668
Level     2,  Iter     6:    Energy =   0.0679
Level     2,  Iter     7:    Energy =   0.0691
Level     2,  Iter     8:    Energy =   0.0704
Level     2,  Iter     9:    Energy =   0.0715
Level     2,  Iter    10:    Energy =   0.0726
Level     2,  Iter    11:    Energy =   0.0735
Level     2,  Iter    12:    Energy =   0.0742
Level     2,  Iter    13:    Energy =   0.0749
Level     2,  Iter    14:    Energy =   0.0755
Level     2,  Iter    15:    Energy =   0.0759
Level     2,  Iter    16:    Energy =   0.0764
Level     2,  Iter    17:    Energy =   0.0767
Level     2,  Iter    18:    Energy =   0.0771
Level     2,  Iter    19:    Energy =   0.0774
END OF LEVEL     2    DetJac Range:   0.0781  to   4.8114 
  Avg. Gradient Time  : 0.2904s  37.20% 
  Avg. Gaussian Time  : 0.4073s  52.17% 
  Avg. Iteration Time : 0.7807s 

real	0m26.106s
user	0m46.112s
sys	0m2.620s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train000/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train000/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=0 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=0 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.6 0.605769
+ echo 'CHUNK 0.6 0.605769 1'
CHUNK 0.6 0.605769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.6 0.605769 1
====================================
         PROGRESS: 0.6               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=001
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 001
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train001
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train001
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 001 left 0
+ local tid=001
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 001 0
+ set -e
+ local tid=001
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train001/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1746.28 	 OutFr   0.0000 	 RMSD     2.5571
Iter 002 	 Temp     3.72 	 Delta  1625.84 	 OutFr   0.0000 	 RMSD     2.1163
Iter 003 	 Temp     3.46 	 Delta  1523.62 	 OutFr   0.0000 	 RMSD     2.1124
Iter 004 	 Temp     3.22 	 Delta  1430.38 	 OutFr   0.0000 	 RMSD     2.0995
Iter 005 	 Temp     2.99 	 Delta  1346.19 	 OutFr   0.0000 	 RMSD     2.0884
Iter 006 	 Temp     2.78 	 Delta  1267.36 	 OutFr   0.0000 	 RMSD     2.0785
Iter 007 	 Temp     2.59 	 Delta  1188.60 	 OutFr   0.0000 	 RMSD     2.0697
Iter 008 	 Temp     2.41 	 Delta  1109.86 	 OutFr   0.0000 	 RMSD     2.0632
Iter 009 	 Temp     2.24 	 Delta  1042.91 	 OutFr   0.0000 	 RMSD     2.0584
Iter 010 	 Temp     2.08 	 Delta   994.65 	 OutFr   0.0048 	 RMSD     2.0546
Iter 011 	 Temp     1.94 	 Delta   956.45 	 OutFr   0.0048 	 RMSD     2.0521
Iter 012 	 Temp     1.80 	 Delta   920.43 	 OutFr   0.0048 	 RMSD     2.0507
Iter 013 	 Temp     1.67 	 Delta   883.47 	 OutFr   0.0048 	 RMSD     2.0499
Iter 014 	 Temp     1.56 	 Delta   845.15 	 OutFr   0.0048 	 RMSD     2.0499
Iter 015 	 Temp     1.45 	 Delta   806.85 	 OutFr   0.0072 	 RMSD     2.0504
Iter 016 	 Temp     1.35 	 Delta   769.64 	 OutFr   0.0072 	 RMSD     2.0513
Iter 017 	 Temp     1.25 	 Delta   734.07 	 OutFr   0.0097 	 RMSD     2.0525
Iter 018 	 Temp     1.16 	 Delta   699.95 	 OutFr   0.0121 	 RMSD     2.0533
Iter 019 	 Temp     1.08 	 Delta   666.94 	 OutFr   0.0145 	 RMSD     2.0534
Iter 020 	 Temp     1.01 	 Delta   635.85 	 OutFr   0.0217 	 RMSD     2.0527
Iter 021 	 Temp     0.94 	 Delta   606.67 	 OutFr   0.0314 	 RMSD     2.0517
Iter 022 	 Temp     0.87 	 Delta   576.93 	 OutFr   0.0386 	 RMSD     2.0505
Iter 023 	 Temp     0.81 	 Delta   543.91 	 OutFr   0.0531 	 RMSD     2.0501
Iter 024 	 Temp     0.75 	 Delta   508.22 	 OutFr   0.0676 	 RMSD     2.0511
Iter 025 	 Temp     0.70 	 Delta   473.75 	 OutFr   0.0845 	 RMSD     2.0535
Iter 026 	 Temp     0.65 	 Delta   442.74 	 OutFr   0.1087 	 RMSD     2.0572
Iter 027 	 Temp     0.61 	 Delta   413.78 	 OutFr   0.1184 	 RMSD     2.0621
Iter 028 	 Temp     0.56 	 Delta   383.69 	 OutFr   0.1280 	 RMSD     2.0675
Iter 029 	 Temp     0.52 	 Delta   349.96 	 OutFr   0.1570 	 RMSD     2.0729
Iter 030 	 Temp     0.49 	 Delta   312.45 	 OutFr   0.1884 	 RMSD     2.0781
Iter 031 	 Temp     0.45 	 Delta   275.29 	 OutFr   0.2488 	 RMSD     2.0821
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train001/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.jHJJG4GH/mybin.nii.gz
+ vtklevelset /tmp/ashs.jHJJG4GH/mybin.nii.gz /tmp/ashs.jHJJG4GH/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.jHJJG4GH/mymesh.vtk /tmp/ashs.jHJJG4GH/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2810.03302501 2898.99647856   1.03165922
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.jHJJG4GH/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train001/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -33.4535 to -8.46665
   Y : -19.0517 to 26.96
   Z : -19.8228 to 4.61867
   Image resolution  : 101 by 162 by 99
   Image box origin  : {-38.4535, -24.0517, -24.8228}
   Image box size    : {35.0694, 56.25, 34.6496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [38.4535, 24.0517, -24.8228]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train001/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_fwd.mat -o /tmp/ashs.jHJJG4GH/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train001/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_inv.mat -o /tmp/ashs.jHJJG4GH/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train001/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.jHJJG4GH/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train001/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=1 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=1 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.605769 0.611538
+ echo 'CHUNK 0.605769 0.611538 0.5'
CHUNK 0.605769 0.611538 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.605769 0.611538 0.5
====================================
         PROGRESS: 0.605769               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train001/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.jHJJG4GH/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.jHJJG4GH/fixed_hw.nii.gz /tmp/ashs.jHJJG4GH/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train001/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.651602, moving = 0.698813
LEVEL 1 of 3
  Smoothing sigmas: [2.33623, 2.37629, 2.40059], [0.953763, 0.970115, 0.980039]
Level     0,  Iter     0:    Energy =   0.0654
Level     0,  Iter     1:    Energy =   0.0750
Level     0,  Iter     2:    Energy =   0.0815
Level     0,  Iter     3:    Energy =   0.0868
Level     0,  Iter     4:    Energy =   0.0907
Level     0,  Iter     5:    Energy =   0.0943
Level     0,  Iter     6:    Energy =   0.0960
Level     0,  Iter     7:    Energy =   0.0972
Level     0,  Iter     8:    Energy =   0.0980
Level     0,  Iter     9:    Energy =   0.0988
Level     0,  Iter    10:    Energy =   0.0992
Level     0,  Iter    11:    Energy =   0.0998
Level     0,  Iter    12:    Energy =   0.1000
Level     0,  Iter    13:    Energy =   0.1006
Level     0,  Iter    14:    Energy =   0.1006
Level     0,  Iter    15:    Energy =   0.1011
Level     0,  Iter    16:    Energy =   0.1012
Level     0,  Iter    17:    Energy =   0.1015
Level     0,  Iter    18:    Energy =   0.1017
Level     0,  Iter    19:    Energy =   0.1018
Level     0,  Iter    20:    Energy =   0.1019
Level     0,  Iter    21:    Energy =   0.1020
Level     0,  Iter    22:    Energy =   0.1021
Level     0,  Iter    23:    Energy =   0.1023
Level     0,  Iter    24:    Energy =   0.1023
Level     0,  Iter    25:    Energy =   0.1024
Level     0,  Iter    26:    Energy =   0.1024
Level     0,  Iter    27:    Energy =   0.1025
Level     0,  Iter    28:    Energy =   0.1024
Level     0,  Iter    29:    Energy =   0.1026
Level     0,  Iter    30:    Energy =   0.1025
Level     0,  Iter    31:    Energy =   0.1026
Level     0,  Iter    32:    Energy =   0.1026
Level     0,  Iter    33:    Energy =   0.1027
Level     0,  Iter    34:    Energy =   0.1027
Level     0,  Iter    35:    Energy =   0.1028
Level     0,  Iter    36:    Energy =   0.1027
Level     0,  Iter    37:    Energy =   0.1028
Level     0,  Iter    38:    Energy =   0.1027
Level     0,  Iter    39:    Energy =   0.1029
Level     0,  Iter    40:    Energy =   0.1028
Level     0,  Iter    41:    Energy =   0.1029
Level     0,  Iter    42:    Energy =   0.1028
Level     0,  Iter    43:    Energy =   0.1029
Level     0,  Iter    44:    Energy =   0.1028
Level     0,  Iter    45:    Energy =   0.1030
Level     0,  Iter    46:    Energy =   0.1029
Level     0,  Iter    47:    Energy =   0.1030
Level     0,  Iter    48:    Energy =   0.1029
Level     0,  Iter    49:    Energy =   0.1031
Level     0,  Iter    50:    Energy =   0.1029
Level     0,  Iter    51:    Energy =   0.1030
Level     0,  Iter    52:    Energy =   0.1029
Level     0,  Iter    53:    Energy =   0.1031
Level     0,  Iter    54:    Energy =   0.1029
Level     0,  Iter    55:    Energy =   0.1031
Level     0,  Iter    56:    Energy =   0.1030
Level     0,  Iter    57:    Energy =   0.1031
Level     0,  Iter    58:    Energy =   0.1030
Level     0,  Iter    59:    Energy =   0.1031
END OF LEVEL     0    DetJac Range:   0.4726  to   2.0102 
  Avg. Gradient Time  : 0.0070s  37.66% 
  Avg. Gaussian Time  : 0.0088s  47.31% 
  Avg. Iteration Time : 0.0186s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19102, 1.20281, 1.2003], [0.486232, 0.491046, 0.490019]
Level     1,  Iter     0:    Energy =   0.0747
Level     1,  Iter     1:    Energy =   0.0798
Level     1,  Iter     2:    Energy =   0.0839
Level     1,  Iter     3:    Energy =   0.0868
Level     1,  Iter     4:    Energy =   0.0891
Level     1,  Iter     5:    Energy =   0.0907
Level     1,  Iter     6:    Energy =   0.0923
Level     1,  Iter     7:    Energy =   0.0935
Level     1,  Iter     8:    Energy =   0.0937
Level     1,  Iter     9:    Energy =   0.0943
Level     1,  Iter    10:    Energy =   0.0944
Level     1,  Iter    11:    Energy =   0.0948
Level     1,  Iter    12:    Energy =   0.0948
Level     1,  Iter    13:    Energy =   0.0951
Level     1,  Iter    14:    Energy =   0.0951
Level     1,  Iter    15:    Energy =   0.0953
Level     1,  Iter    16:    Energy =   0.0953
Level     1,  Iter    17:    Energy =   0.0955
Level     1,  Iter    18:    Energy =   0.0954
Level     1,  Iter    19:    Energy =   0.0956
Level     1,  Iter    20:    Energy =   0.0955
Level     1,  Iter    21:    Energy =   0.0956
Level     1,  Iter    22:    Energy =   0.0956
Level     1,  Iter    23:    Energy =   0.0957
Level     1,  Iter    24:    Energy =   0.0957
Level     1,  Iter    25:    Energy =   0.0958
Level     1,  Iter    26:    Energy =   0.0958
Level     1,  Iter    27:    Energy =   0.0958
Level     1,  Iter    28:    Energy =   0.0959
Level     1,  Iter    29:    Energy =   0.0959
Level     1,  Iter    30:    Energy =   0.0959
Level     1,  Iter    31:    Energy =   0.0959
Level     1,  Iter    32:    Energy =   0.0960
Level     1,  Iter    33:    Energy =   0.0960
Level     1,  Iter    34:    Energy =   0.0960
Level     1,  Iter    35:    Energy =   0.0960
Level     1,  Iter    36:    Energy =   0.0960
Level     1,  Iter    37:    Energy =   0.0960
Level     1,  Iter    38:    Energy =   0.0961
Level     1,  Iter    39:    Energy =   0.0960
Level     1,  Iter    40:    Energy =   0.0961
Level     1,  Iter    41:    Energy =   0.0960
Level     1,  Iter    42:    Energy =   0.0961
Level     1,  Iter    43:    Energy =   0.0960
Level     1,  Iter    44:    Energy =   0.0962
Level     1,  Iter    45:    Energy =   0.0961
Level     1,  Iter    46:    Energy =   0.0963
Level     1,  Iter    47:    Energy =   0.0961
Level     1,  Iter    48:    Energy =   0.0963
Level     1,  Iter    49:    Energy =   0.0962
Level     1,  Iter    50:    Energy =   0.0964
Level     1,  Iter    51:    Energy =   0.0962
Level     1,  Iter    52:    Energy =   0.0964
Level     1,  Iter    53:    Energy =   0.0962
Level     1,  Iter    54:    Energy =   0.0964
Level     1,  Iter    55:    Energy =   0.0963
Level     1,  Iter    56:    Energy =   0.0964
Level     1,  Iter    57:    Energy =   0.0963
Level     1,  Iter    58:    Energy =   0.0964
Level     1,  Iter    59:    Energy =   0.0963
END OF LEVEL     1    DetJac Range:   0.2154  to   2.9808 
  Avg. Gradient Time  : 0.0410s  40.24% 
  Avg. Gaussian Time  : 0.0489s  47.92% 
  Avg. Iteration Time : 0.1019s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0514
Level     2,  Iter     1:    Energy =   0.0542
Level     2,  Iter     2:    Energy =   0.0565
Level     2,  Iter     3:    Energy =   0.0584
Level     2,  Iter     4:    Energy =   0.0598
Level     2,  Iter     5:    Energy =   0.0614
Level     2,  Iter     6:    Energy =   0.0633
Level     2,  Iter     7:    Energy =   0.0646
Level     2,  Iter     8:    Energy =   0.0657
Level     2,  Iter     9:    Energy =   0.0665
Level     2,  Iter    10:    Energy =   0.0671
Level     2,  Iter    11:    Energy =   0.0674
Level     2,  Iter    12:    Energy =   0.0676
Level     2,  Iter    13:    Energy =   0.0677
Level     2,  Iter    14:    Energy =   0.0678
Level     2,  Iter    15:    Energy =   0.0680
Level     2,  Iter    16:    Energy =   0.0682
Level     2,  Iter    17:    Energy =   0.0685
Level     2,  Iter    18:    Energy =   0.0689
Level     2,  Iter    19:    Energy =   0.0694
END OF LEVEL     2    DetJac Range:   0.1336  to   4.1173 
  Avg. Gradient Time  : 0.2857s  37.45% 
  Avg. Gaussian Time  : 0.3957s  51.87% 
  Avg. Iteration Time : 0.7629s 

real	0m25.531s
user	0m45.148s
sys	0m2.540s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train001/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train001/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=1 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=1 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.605769 0.611538
+ echo 'CHUNK 0.605769 0.611538 1'
CHUNK 0.605769 0.611538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.605769 0.611538 1
====================================
         PROGRESS: 0.605769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=002
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 002
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train002
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train002
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 002 left 0
+ local tid=002
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 002 0
+ set -e
+ local tid=002
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train002/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1652.91 	 OutFr   0.0000 	 RMSD     3.7096
Iter 002 	 Temp     3.72 	 Delta  1601.35 	 OutFr   0.0000 	 RMSD     2.2877
Iter 003 	 Temp     3.46 	 Delta  1563.18 	 OutFr   0.0000 	 RMSD     2.2690
Iter 004 	 Temp     3.22 	 Delta  1525.53 	 OutFr   0.0000 	 RMSD     2.2690
Iter 005 	 Temp     2.99 	 Delta  1486.59 	 OutFr   0.0000 	 RMSD     2.2618
Iter 006 	 Temp     2.78 	 Delta  1448.00 	 OutFr   0.0000 	 RMSD     2.2525
Iter 007 	 Temp     2.59 	 Delta  1408.32 	 OutFr   0.0000 	 RMSD     2.2425
Iter 008 	 Temp     2.41 	 Delta  1364.13 	 OutFr   0.0000 	 RMSD     2.2331
Iter 009 	 Temp     2.24 	 Delta  1312.71 	 OutFr   0.0000 	 RMSD     2.2244
Iter 010 	 Temp     2.08 	 Delta  1254.34 	 OutFr   0.0024 	 RMSD     2.2163
Iter 011 	 Temp     1.94 	 Delta  1192.86 	 OutFr   0.0024 	 RMSD     2.2094
Iter 012 	 Temp     1.80 	 Delta  1132.97 	 OutFr   0.0024 	 RMSD     2.2037
Iter 013 	 Temp     1.67 	 Delta  1074.45 	 OutFr   0.0048 	 RMSD     2.1991
Iter 014 	 Temp     1.56 	 Delta  1013.18 	 OutFr   0.0121 	 RMSD     2.1921
Iter 015 	 Temp     1.45 	 Delta   948.26 	 OutFr   0.0169 	 RMSD     2.1851
Iter 016 	 Temp     1.35 	 Delta   882.34 	 OutFr   0.0217 	 RMSD     2.1803
Iter 017 	 Temp     1.25 	 Delta   819.49 	 OutFr   0.0362 	 RMSD     2.1766
Iter 018 	 Temp     1.16 	 Delta   761.81 	 OutFr   0.0483 	 RMSD     2.1763
Iter 019 	 Temp     1.08 	 Delta   708.70 	 OutFr   0.0652 	 RMSD     2.1778
Iter 020 	 Temp     1.01 	 Delta   659.16 	 OutFr   0.0773 	 RMSD     2.1808
Iter 021 	 Temp     0.94 	 Delta   612.80 	 OutFr   0.0990 	 RMSD     2.1851
Iter 022 	 Temp     0.87 	 Delta   570.50 	 OutFr   0.1280 	 RMSD     2.1900
Iter 023 	 Temp     0.81 	 Delta   532.83 	 OutFr   0.1473 	 RMSD     2.1949
Iter 024 	 Temp     0.75 	 Delta   493.47 	 OutFr   0.1667 	 RMSD     2.2005
Iter 025 	 Temp     0.70 	 Delta   448.36 	 OutFr   0.1932 	 RMSD     2.2061
Iter 026 	 Temp     0.65 	 Delta   401.99 	 OutFr   0.2174 	 RMSD     2.2118
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train002/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.2hYSCVd4/mybin.nii.gz
+ vtklevelset /tmp/ashs.2hYSCVd4/mybin.nii.gz /tmp/ashs.2hYSCVd4/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.2hYSCVd4/mymesh.vtk /tmp/ashs.2hYSCVd4/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2810.03302501 2828.42296057   1.00654438
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.2hYSCVd4/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train002/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -37.4483 to -12.9227
   Y : -26.7746 to 15.8109
   Z : -15.391 to 12.6021
   Image resolution  : 100 by 152 by 109
   Image box origin  : {-42.4483, -31.7746, -20.391}
   Image box size    : {34.7222, 52.7777, 38.1496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [42.4483, 31.7746, -20.391]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train002/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_fwd.mat -o /tmp/ashs.2hYSCVd4/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train002/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_inv.mat -o /tmp/ashs.2hYSCVd4/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train002/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.2hYSCVd4/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train002/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=2 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=2 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.611538 0.617308
+ echo 'CHUNK 0.611538 0.617308 0.5'
CHUNK 0.611538 0.617308 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.611538 0.617308 0.5
====================================
         PROGRESS: 0.611538               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train002/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.2hYSCVd4/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.2hYSCVd4/fixed_hw.nii.gz /tmp/ashs.2hYSCVd4/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train002/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.665168, moving = 0.522879
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.40562, 2.35989], [0.982092, 0.982092, 0.963422]
Level     0,  Iter     0:    Energy =   0.0671
Level     0,  Iter     1:    Energy =   0.0761
Level     0,  Iter     2:    Energy =   0.0821
Level     0,  Iter     3:    Energy =   0.0867
Level     0,  Iter     4:    Energy =   0.0903
Level     0,  Iter     5:    Energy =   0.0938
Level     0,  Iter     6:    Energy =   0.0957
Level     0,  Iter     7:    Energy =   0.0974
Level     0,  Iter     8:    Energy =   0.0984
Level     0,  Iter     9:    Energy =   0.0997
Level     0,  Iter    10:    Energy =   0.1003
Level     0,  Iter    11:    Energy =   0.1010
Level     0,  Iter    12:    Energy =   0.1011
Level     0,  Iter    13:    Energy =   0.1016
Level     0,  Iter    14:    Energy =   0.1017
Level     0,  Iter    15:    Energy =   0.1020
Level     0,  Iter    16:    Energy =   0.1021
Level     0,  Iter    17:    Energy =   0.1023
Level     0,  Iter    18:    Energy =   0.1023
Level     0,  Iter    19:    Energy =   0.1025
Level     0,  Iter    20:    Energy =   0.1026
Level     0,  Iter    21:    Energy =   0.1028
Level     0,  Iter    22:    Energy =   0.1027
Level     0,  Iter    23:    Energy =   0.1029
Level     0,  Iter    24:    Energy =   0.1029
Level     0,  Iter    25:    Energy =   0.1030
Level     0,  Iter    26:    Energy =   0.1030
Level     0,  Iter    27:    Energy =   0.1031
Level     0,  Iter    28:    Energy =   0.1031
Level     0,  Iter    29:    Energy =   0.1032
Level     0,  Iter    30:    Energy =   0.1032
Level     0,  Iter    31:    Energy =   0.1032
Level     0,  Iter    32:    Energy =   0.1032
Level     0,  Iter    33:    Energy =   0.1033
Level     0,  Iter    34:    Energy =   0.1033
Level     0,  Iter    35:    Energy =   0.1034
Level     0,  Iter    36:    Energy =   0.1033
Level     0,  Iter    37:    Energy =   0.1035
Level     0,  Iter    38:    Energy =   0.1034
Level     0,  Iter    39:    Energy =   0.1035
Level     0,  Iter    40:    Energy =   0.1035
Level     0,  Iter    41:    Energy =   0.1036
Level     0,  Iter    42:    Energy =   0.1036
Level     0,  Iter    43:    Energy =   0.1037
Level     0,  Iter    44:    Energy =   0.1038
Level     0,  Iter    45:    Energy =   0.1038
Level     0,  Iter    46:    Energy =   0.1038
Level     0,  Iter    47:    Energy =   0.1039
Level     0,  Iter    48:    Energy =   0.1038
Level     0,  Iter    49:    Energy =   0.1040
Level     0,  Iter    50:    Energy =   0.1040
Level     0,  Iter    51:    Energy =   0.1041
Level     0,  Iter    52:    Energy =   0.1040
Level     0,  Iter    53:    Energy =   0.1041
Level     0,  Iter    54:    Energy =   0.1040
Level     0,  Iter    55:    Energy =   0.1041
Level     0,  Iter    56:    Energy =   0.1040
Level     0,  Iter    57:    Energy =   0.1041
Level     0,  Iter    58:    Energy =   0.1040
Level     0,  Iter    59:    Energy =   0.1041
END OF LEVEL     0    DetJac Range:   0.3064  to   1.8900 
  Avg. Gradient Time  : 0.0069s  37.68% 
  Avg. Gaussian Time  : 0.0087s  47.20% 
  Avg. Iteration Time : 0.0184s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.2014], [0.491046, 0.491046, 0.490469]
Level     1,  Iter     0:    Energy =   0.0713
Level     1,  Iter     1:    Energy =   0.0766
Level     1,  Iter     2:    Energy =   0.0803
Level     1,  Iter     3:    Energy =   0.0829
Level     1,  Iter     4:    Energy =   0.0852
Level     1,  Iter     5:    Energy =   0.0872
Level     1,  Iter     6:    Energy =   0.0885
Level     1,  Iter     7:    Energy =   0.0897
Level     1,  Iter     8:    Energy =   0.0911
Level     1,  Iter     9:    Energy =   0.0922
Level     1,  Iter    10:    Energy =   0.0933
Level     1,  Iter    11:    Energy =   0.0945
Level     1,  Iter    12:    Energy =   0.0951
Level     1,  Iter    13:    Energy =   0.0954
Level     1,  Iter    14:    Energy =   0.0958
Level     1,  Iter    15:    Energy =   0.0961
Level     1,  Iter    16:    Energy =   0.0963
Level     1,  Iter    17:    Energy =   0.0965
Level     1,  Iter    18:    Energy =   0.0965
Level     1,  Iter    19:    Energy =   0.0970
Level     1,  Iter    20:    Energy =   0.0968
Level     1,  Iter    21:    Energy =   0.0974
Level     1,  Iter    22:    Energy =   0.0974
Level     1,  Iter    23:    Energy =   0.0976
Level     1,  Iter    24:    Energy =   0.0974
Level     1,  Iter    25:    Energy =   0.0979
Level     1,  Iter    26:    Energy =   0.0978
Level     1,  Iter    27:    Energy =   0.0979
Level     1,  Iter    28:    Energy =   0.0977
Level     1,  Iter    29:    Energy =   0.0981
Level     1,  Iter    30:    Energy =   0.0981
Level     1,  Iter    31:    Energy =   0.0982
Level     1,  Iter    32:    Energy =   0.0980
Level     1,  Iter    33:    Energy =   0.0984
Level     1,  Iter    34:    Energy =   0.0982
Level     1,  Iter    35:    Energy =   0.0984
Level     1,  Iter    36:    Energy =   0.0982
Level     1,  Iter    37:    Energy =   0.0984
Level     1,  Iter    38:    Energy =   0.0982
Level     1,  Iter    39:    Energy =   0.0986
Level     1,  Iter    40:    Energy =   0.0984
Level     1,  Iter    41:    Energy =   0.0986
Level     1,  Iter    42:    Energy =   0.0984
Level     1,  Iter    43:    Energy =   0.0987
Level     1,  Iter    44:    Energy =   0.0986
Level     1,  Iter    45:    Energy =   0.0987
Level     1,  Iter    46:    Energy =   0.0985
Level     1,  Iter    47:    Energy =   0.0990
Level     1,  Iter    48:    Energy =   0.0987
Level     1,  Iter    49:    Energy =   0.0990
Level     1,  Iter    50:    Energy =   0.0988
Level     1,  Iter    51:    Energy =   0.0991
Level     1,  Iter    52:    Energy =   0.0989
Level     1,  Iter    53:    Energy =   0.0991
Level     1,  Iter    54:    Energy =   0.0989
Level     1,  Iter    55:    Energy =   0.0991
Level     1,  Iter    56:    Energy =   0.0989
Level     1,  Iter    57:    Energy =   0.0989
Level     1,  Iter    58:    Energy =   0.0988
Level     1,  Iter    59:    Energy =   0.0987
END OF LEVEL     1    DetJac Range:   0.2385  to   3.2410 
  Avg. Gradient Time  : 0.0406s  39.74% 
  Avg. Gaussian Time  : 0.0492s  48.17% 
  Avg. Iteration Time : 0.1022s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0538
Level     2,  Iter     1:    Energy =   0.0560
Level     2,  Iter     2:    Energy =   0.0579
Level     2,  Iter     3:    Energy =   0.0601
Level     2,  Iter     4:    Energy =   0.0619
Level     2,  Iter     5:    Energy =   0.0633
Level     2,  Iter     6:    Energy =   0.0645
Level     2,  Iter     7:    Energy =   0.0655
Level     2,  Iter     8:    Energy =   0.0665
Level     2,  Iter     9:    Energy =   0.0675
Level     2,  Iter    10:    Energy =   0.0685
Level     2,  Iter    11:    Energy =   0.0694
Level     2,  Iter    12:    Energy =   0.0702
Level     2,  Iter    13:    Energy =   0.0709
Level     2,  Iter    14:    Energy =   0.0715
Level     2,  Iter    15:    Energy =   0.0713
Level     2,  Iter    16:    Energy =   0.0718
Level     2,  Iter    17:    Energy =   0.0714
Level     2,  Iter    18:    Energy =   0.0720
Level     2,  Iter    19:    Energy =   0.0718
END OF LEVEL     2    DetJac Range:   0.1410  to   4.2378 
  Avg. Gradient Time  : 0.2893s  37.20% 
  Avg. Gaussian Time  : 0.4054s  52.13% 
  Avg. Iteration Time : 0.7776s 

real	0m25.802s
user	0m45.604s
sys	0m2.660s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train002/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train002/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=2 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=2 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.611538 0.617308
+ echo 'CHUNK 0.611538 0.617308 1'
CHUNK 0.611538 0.617308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.611538 0.617308 1
====================================
         PROGRESS: 0.611538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=003
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 003
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train003
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train003
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 003 left 0
+ local tid=003
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 003 0
+ set -e
+ local tid=003
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train003/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1743.77 	 OutFr   0.0000 	 RMSD     2.2802
Iter 002 	 Temp     3.72 	 Delta  1590.77 	 OutFr   0.0000 	 RMSD     1.9657
Iter 003 	 Temp     3.46 	 Delta  1460.14 	 OutFr   0.0000 	 RMSD     2.0062
Iter 004 	 Temp     3.22 	 Delta  1335.38 	 OutFr   0.0000 	 RMSD     1.9953
Iter 005 	 Temp     2.99 	 Delta  1223.94 	 OutFr   0.0000 	 RMSD     1.9750
Iter 006 	 Temp     2.78 	 Delta  1126.97 	 OutFr   0.0000 	 RMSD     1.9546
Iter 007 	 Temp     2.59 	 Delta  1042.97 	 OutFr   0.0000 	 RMSD     1.9370
Iter 008 	 Temp     2.41 	 Delta   969.39 	 OutFr   0.0000 	 RMSD     1.9222
Iter 009 	 Temp     2.24 	 Delta   903.96 	 OutFr   0.0000 	 RMSD     1.9100
Iter 010 	 Temp     2.08 	 Delta   845.42 	 OutFr   0.0000 	 RMSD     1.8998
Iter 011 	 Temp     1.94 	 Delta   793.68 	 OutFr   0.0000 	 RMSD     1.8919
Iter 012 	 Temp     1.80 	 Delta   749.24 	 OutFr   0.0024 	 RMSD     1.8855
Iter 013 	 Temp     1.67 	 Delta   712.58 	 OutFr   0.0024 	 RMSD     1.8808
Iter 014 	 Temp     1.56 	 Delta   683.10 	 OutFr   0.0024 	 RMSD     1.8781
Iter 015 	 Temp     1.45 	 Delta   658.92 	 OutFr   0.0048 	 RMSD     1.8767
Iter 016 	 Temp     1.35 	 Delta   638.41 	 OutFr   0.0048 	 RMSD     1.8761
Iter 017 	 Temp     1.25 	 Delta   620.15 	 OutFr   0.0072 	 RMSD     1.8759
Iter 018 	 Temp     1.16 	 Delta   602.31 	 OutFr   0.0097 	 RMSD     1.8761
Iter 019 	 Temp     1.08 	 Delta   583.82 	 OutFr   0.0169 	 RMSD     1.8769
Iter 020 	 Temp     1.01 	 Delta   565.10 	 OutFr   0.0193 	 RMSD     1.8779
Iter 021 	 Temp     0.94 	 Delta   546.79 	 OutFr   0.0266 	 RMSD     1.8791
Iter 022 	 Temp     0.87 	 Delta   528.74 	 OutFr   0.0314 	 RMSD     1.8807
Iter 023 	 Temp     0.81 	 Delta   509.26 	 OutFr   0.0435 	 RMSD     1.8823
Iter 024 	 Temp     0.75 	 Delta   486.38 	 OutFr   0.0459 	 RMSD     1.8840
Iter 025 	 Temp     0.70 	 Delta   461.45 	 OutFr   0.0531 	 RMSD     1.8857
Iter 026 	 Temp     0.65 	 Delta   436.09 	 OutFr   0.0652 	 RMSD     1.8876
Iter 027 	 Temp     0.61 	 Delta   408.41 	 OutFr   0.0845 	 RMSD     1.8897
Iter 028 	 Temp     0.56 	 Delta   376.63 	 OutFr   0.1111 	 RMSD     1.8918
Iter 029 	 Temp     0.52 	 Delta   342.92 	 OutFr   0.1353 	 RMSD     1.8936
Iter 030 	 Temp     0.49 	 Delta   310.47 	 OutFr   0.1787 	 RMSD     1.8950
Iter 031 	 Temp     0.45 	 Delta   277.09 	 OutFr   0.2005 	 RMSD     1.8959
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train003/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.vJFndRT0/mybin.nii.gz
+ vtklevelset /tmp/ashs.vJFndRT0/mybin.nii.gz /tmp/ashs.vJFndRT0/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.vJFndRT0/mymesh.vtk /tmp/ashs.vJFndRT0/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2810.03302501 2661.58223345   0.94717116
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.vJFndRT0/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train003/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -33.3345 to -10.0133
   Y : -18.9375 to 25.744
   Z : -28.6677 to -6.84388
   Image resolution  : 96 by 158 by 91
   Image box origin  : {-38.3345, -23.9375, -33.6677}
   Image box size    : {33.3333, 54.8611, 31.8496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [38.3345, 23.9375, -33.6677]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train003/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_fwd.mat -o /tmp/ashs.vJFndRT0/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train003/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_inv.mat -o /tmp/ashs.vJFndRT0/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train003/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.vJFndRT0/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train003/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=3 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=3 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.617308 0.623077
+ echo 'CHUNK 0.617308 0.623077 0.5'
CHUNK 0.617308 0.623077 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.617308 0.623077 0.5
====================================
         PROGRESS: 0.617308               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train003/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.vJFndRT0/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.vJFndRT0/fixed_hw.nii.gz /tmp/ashs.vJFndRT0/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train003/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.699728, moving = 0.223619
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.37555, 2.39849], [0.982092, 0.969816, 0.979178]
Level     0,  Iter     0:    Energy =   0.0362
Level     0,  Iter     1:    Energy =   0.0434
Level     0,  Iter     2:    Energy =   0.0492
Level     0,  Iter     3:    Energy =   0.0540
Level     0,  Iter     4:    Energy =   0.0587
Level     0,  Iter     5:    Energy =   0.0629
Level     0,  Iter     6:    Energy =   0.0670
Level     0,  Iter     7:    Energy =   0.0698
Level     0,  Iter     8:    Energy =   0.0724
Level     0,  Iter     9:    Energy =   0.0747
Level     0,  Iter    10:    Energy =   0.0760
Level     0,  Iter    11:    Energy =   0.0776
Level     0,  Iter    12:    Energy =   0.0780
Level     0,  Iter    13:    Energy =   0.0789
Level     0,  Iter    14:    Energy =   0.0788
Level     0,  Iter    15:    Energy =   0.0797
Level     0,  Iter    16:    Energy =   0.0793
Level     0,  Iter    17:    Energy =   0.0801
Level     0,  Iter    18:    Energy =   0.0796
Level     0,  Iter    19:    Energy =   0.0804
Level     0,  Iter    20:    Energy =   0.0800
Level     0,  Iter    21:    Energy =   0.0809
Level     0,  Iter    22:    Energy =   0.0805
Level     0,  Iter    23:    Energy =   0.0814
Level     0,  Iter    24:    Energy =   0.0808
Level     0,  Iter    25:    Energy =   0.0818
Level     0,  Iter    26:    Energy =   0.0811
Level     0,  Iter    27:    Energy =   0.0821
Level     0,  Iter    28:    Energy =   0.0813
Level     0,  Iter    29:    Energy =   0.0824
Level     0,  Iter    30:    Energy =   0.0818
Level     0,  Iter    31:    Energy =   0.0826
Level     0,  Iter    32:    Energy =   0.0814
Level     0,  Iter    33:    Energy =   0.0826
Level     0,  Iter    34:    Energy =   0.0821
Level     0,  Iter    35:    Energy =   0.0827
Level     0,  Iter    36:    Energy =   0.0817
Level     0,  Iter    37:    Energy =   0.0827
Level     0,  Iter    38:    Energy =   0.0822
Level     0,  Iter    39:    Energy =   0.0829
Level     0,  Iter    40:    Energy =   0.0819
Level     0,  Iter    41:    Energy =   0.0828
Level     0,  Iter    42:    Energy =   0.0821
Level     0,  Iter    43:    Energy =   0.0829
Level     0,  Iter    44:    Energy =   0.0819
Level     0,  Iter    45:    Energy =   0.0828
Level     0,  Iter    46:    Energy =   0.0823
Level     0,  Iter    47:    Energy =   0.0829
Level     0,  Iter    48:    Energy =   0.0822
Level     0,  Iter    49:    Energy =   0.0828
Level     0,  Iter    50:    Energy =   0.0821
Level     0,  Iter    51:    Energy =   0.0829
Level     0,  Iter    52:    Energy =   0.0822
Level     0,  Iter    53:    Energy =   0.0829
Level     0,  Iter    54:    Energy =   0.0821
Level     0,  Iter    55:    Energy =   0.0829
Level     0,  Iter    56:    Energy =   0.0822
Level     0,  Iter    57:    Energy =   0.0829
Level     0,  Iter    58:    Energy =   0.0821
Level     0,  Iter    59:    Energy =   0.0829
END OF LEVEL     0    DetJac Range:   0.2210  to   2.2488 
  Avg. Gradient Time  : 0.0069s  35.46% 
  Avg. Gaussian Time  : 0.0091s  46.76% 
  Avg. Iteration Time : 0.0194s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.19924], [0.491046, 0.491046, 0.489589]
Level     1,  Iter     0:    Energy =   0.0577
Level     1,  Iter     1:    Energy =   0.0631
Level     1,  Iter     2:    Energy =   0.0673
Level     1,  Iter     3:    Energy =   0.0699
Level     1,  Iter     4:    Energy =   0.0718
Level     1,  Iter     5:    Energy =   0.0734
Level     1,  Iter     6:    Energy =   0.0746
Level     1,  Iter     7:    Energy =   0.0756
Level     1,  Iter     8:    Energy =   0.0762
Level     1,  Iter     9:    Energy =   0.0766
Level     1,  Iter    10:    Energy =   0.0771
Level     1,  Iter    11:    Energy =   0.0776
Level     1,  Iter    12:    Energy =   0.0783
Level     1,  Iter    13:    Energy =   0.0789
Level     1,  Iter    14:    Energy =   0.0795
Level     1,  Iter    15:    Energy =   0.0800
Level     1,  Iter    16:    Energy =   0.0804
Level     1,  Iter    17:    Energy =   0.0808
Level     1,  Iter    18:    Energy =   0.0813
Level     1,  Iter    19:    Energy =   0.0817
Level     1,  Iter    20:    Energy =   0.0822
Level     1,  Iter    21:    Energy =   0.0827
Level     1,  Iter    22:    Energy =   0.0831
Level     1,  Iter    23:    Energy =   0.0835
Level     1,  Iter    24:    Energy =   0.0838
Level     1,  Iter    25:    Energy =   0.0838
Level     1,  Iter    26:    Energy =   0.0839
Level     1,  Iter    27:    Energy =   0.0840
Level     1,  Iter    28:    Energy =   0.0840
Level     1,  Iter    29:    Energy =   0.0843
Level     1,  Iter    30:    Energy =   0.0844
Level     1,  Iter    31:    Energy =   0.0844
Level     1,  Iter    32:    Energy =   0.0845
Level     1,  Iter    33:    Energy =   0.0847
Level     1,  Iter    34:    Energy =   0.0847
Level     1,  Iter    35:    Energy =   0.0849
Level     1,  Iter    36:    Energy =   0.0848
Level     1,  Iter    37:    Energy =   0.0850
Level     1,  Iter    38:    Energy =   0.0850
Level     1,  Iter    39:    Energy =   0.0851
Level     1,  Iter    40:    Energy =   0.0851
Level     1,  Iter    41:    Energy =   0.0852
Level     1,  Iter    42:    Energy =   0.0852
Level     1,  Iter    43:    Energy =   0.0853
Level     1,  Iter    44:    Energy =   0.0853
Level     1,  Iter    45:    Energy =   0.0854
Level     1,  Iter    46:    Energy =   0.0853
Level     1,  Iter    47:    Energy =   0.0854
Level     1,  Iter    48:    Energy =   0.0854
Level     1,  Iter    49:    Energy =   0.0855
Level     1,  Iter    50:    Energy =   0.0855
Level     1,  Iter    51:    Energy =   0.0856
Level     1,  Iter    52:    Energy =   0.0855
Level     1,  Iter    53:    Energy =   0.0857
Level     1,  Iter    54:    Energy =   0.0856
Level     1,  Iter    55:    Energy =   0.0857
Level     1,  Iter    56:    Energy =   0.0856
Level     1,  Iter    57:    Energy =   0.0857
Level     1,  Iter    58:    Energy =   0.0857
Level     1,  Iter    59:    Energy =   0.0858
END OF LEVEL     1    DetJac Range:   0.0751  to   3.8323 
  Avg. Gradient Time  : 0.0351s  39.75% 
  Avg. Gaussian Time  : 0.0421s  47.67% 
  Avg. Iteration Time : 0.0884s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0444
Level     2,  Iter     1:    Energy =   0.0467
Level     2,  Iter     2:    Energy =   0.0490
Level     2,  Iter     3:    Energy =   0.0512
Level     2,  Iter     4:    Energy =   0.0531
Level     2,  Iter     5:    Energy =   0.0546
Level     2,  Iter     6:    Energy =   0.0559
Level     2,  Iter     7:    Energy =   0.0567
Level     2,  Iter     8:    Energy =   0.0573
Level     2,  Iter     9:    Energy =   0.0580
Level     2,  Iter    10:    Energy =   0.0586
Level     2,  Iter    11:    Energy =   0.0593
Level     2,  Iter    12:    Energy =   0.0599
Level     2,  Iter    13:    Energy =   0.0604
Level     2,  Iter    14:    Energy =   0.0609
Level     2,  Iter    15:    Energy =   0.0614
Level     2,  Iter    16:    Energy =   0.0618
Level     2,  Iter    17:    Energy =   0.0622
Level     2,  Iter    18:    Energy =   0.0626
Level     2,  Iter    19:    Energy =   0.0630
END OF LEVEL     2    DetJac Range:   0.0703  to   5.3761 
  Avg. Gradient Time  : 0.2472s  39.35% 
  Avg. Gaussian Time  : 0.3106s  49.44% 
  Avg. Iteration Time : 0.6283s 

real	0m21.680s
user	0m38.180s
sys	0m2.040s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train003/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train003/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=3 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=3 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.617308 0.623077
+ echo 'CHUNK 0.617308 0.623077 1'
CHUNK 0.617308 0.623077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.617308 0.623077 1
====================================
         PROGRESS: 0.617308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=004
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 004
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train004
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train004
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 004 left 0
+ local tid=004
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 004 0
+ set -e
+ local tid=004
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train004/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1380.60 	 OutFr   0.0000 	 RMSD     2.4246
Iter 002 	 Temp     3.72 	 Delta  1378.95 	 OutFr   0.0000 	 RMSD     1.9176
Iter 003 	 Temp     3.46 	 Delta  1310.19 	 OutFr   0.0000 	 RMSD     1.9328
Iter 004 	 Temp     3.22 	 Delta  1227.66 	 OutFr   0.0000 	 RMSD     1.9120
Iter 005 	 Temp     2.99 	 Delta  1147.38 	 OutFr   0.0000 	 RMSD     1.8875
Iter 006 	 Temp     2.78 	 Delta  1072.95 	 OutFr   0.0000 	 RMSD     1.8651
Iter 007 	 Temp     2.59 	 Delta  1004.93 	 OutFr   0.0000 	 RMSD     1.8461
Iter 008 	 Temp     2.41 	 Delta   943.49 	 OutFr   0.0000 	 RMSD     1.8314
Iter 009 	 Temp     2.24 	 Delta   889.60 	 OutFr   0.0000 	 RMSD     1.8195
Iter 010 	 Temp     2.08 	 Delta   844.85 	 OutFr   0.0000 	 RMSD     1.8102
Iter 011 	 Temp     1.94 	 Delta   810.01 	 OutFr   0.0000 	 RMSD     1.8035
Iter 012 	 Temp     1.80 	 Delta   783.33 	 OutFr   0.0000 	 RMSD     1.7995
Iter 013 	 Temp     1.67 	 Delta   761.34 	 OutFr   0.0024 	 RMSD     1.7977
Iter 014 	 Temp     1.56 	 Delta   741.20 	 OutFr   0.0024 	 RMSD     1.7978
Iter 015 	 Temp     1.45 	 Delta   721.10 	 OutFr   0.0024 	 RMSD     1.7993
Iter 016 	 Temp     1.35 	 Delta   699.84 	 OutFr   0.0024 	 RMSD     1.8019
Iter 017 	 Temp     1.25 	 Delta   676.38 	 OutFr   0.0048 	 RMSD     1.8037
Iter 018 	 Temp     1.16 	 Delta   650.00 	 OutFr   0.0048 	 RMSD     1.8050
Iter 019 	 Temp     1.08 	 Delta   620.35 	 OutFr   0.0097 	 RMSD     1.8056
Iter 020 	 Temp     1.01 	 Delta   587.38 	 OutFr   0.0193 	 RMSD     1.8054
Iter 021 	 Temp     0.94 	 Delta   551.23 	 OutFr   0.0290 	 RMSD     1.8043
Iter 022 	 Temp     0.87 	 Delta   514.21 	 OutFr   0.0459 	 RMSD     1.8028
Iter 023 	 Temp     0.81 	 Delta   479.39 	 OutFr   0.0507 	 RMSD     1.8006
Iter 024 	 Temp     0.75 	 Delta   445.42 	 OutFr   0.0604 	 RMSD     1.7979
Iter 025 	 Temp     0.70 	 Delta   411.94 	 OutFr   0.0797 	 RMSD     1.7944
Iter 026 	 Temp     0.65 	 Delta   379.44 	 OutFr   0.0918 	 RMSD     1.7908
Iter 027 	 Temp     0.61 	 Delta   347.80 	 OutFr   0.1159 	 RMSD     1.7871
Iter 028 	 Temp     0.56 	 Delta   319.96 	 OutFr   0.1353 	 RMSD     1.7852
Iter 029 	 Temp     0.52 	 Delta   298.00 	 OutFr   0.1594 	 RMSD     1.7854
Iter 030 	 Temp     0.49 	 Delta   278.71 	 OutFr   0.1860 	 RMSD     1.7862
Iter 031 	 Temp     0.45 	 Delta   256.87 	 OutFr   0.2053 	 RMSD     1.7870
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train004/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.abuKnRfQ/mybin.nii.gz
+ vtklevelset /tmp/ashs.abuKnRfQ/mybin.nii.gz /tmp/ashs.abuKnRfQ/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.abuKnRfQ/mymesh.vtk /tmp/ashs.abuKnRfQ/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2810.03302501 2608.46069375   0.92826692
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.abuKnRfQ/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train004/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -30.9431 to -7.94455
   Y : -17.0892 to 27.1193
   Z : -24.0948 to 0.112843
   Image resolution  : 96 by 157 by 98
   Image box origin  : {-35.9431, -22.0892, -29.0948}
   Image box size    : {33.3333, 54.5139, 34.2996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [35.9431, 22.0892, -29.0948]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train004/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_fwd.mat -o /tmp/ashs.abuKnRfQ/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train004/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_inv.mat -o /tmp/ashs.abuKnRfQ/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train004/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.abuKnRfQ/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train004/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=4 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=4 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.623077 0.628846
+ echo 'CHUNK 0.623077 0.628846 0.5'
CHUNK 0.623077 0.628846 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.623077 0.628846 0.5
====================================
         PROGRESS: 0.623077               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train004/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.abuKnRfQ/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.abuKnRfQ/fixed_hw.nii.gz /tmp/ashs.abuKnRfQ/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train004/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.683657, moving = 0.608094
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.36052, 2.37635], [0.982092, 0.963678, 0.970139]
Level     0,  Iter     0:    Energy =   0.0611
Level     0,  Iter     1:    Energy =   0.0695
Level     0,  Iter     2:    Energy =   0.0767
Level     0,  Iter     3:    Energy =   0.0812
Level     0,  Iter     4:    Energy =   0.0855
Level     0,  Iter     5:    Energy =   0.0887
Level     0,  Iter     6:    Energy =   0.0916
Level     0,  Iter     7:    Energy =   0.0935
Level     0,  Iter     8:    Energy =   0.0951
Level     0,  Iter     9:    Energy =   0.0965
Level     0,  Iter    10:    Energy =   0.0968
Level     0,  Iter    11:    Energy =   0.0974
Level     0,  Iter    12:    Energy =   0.0974
Level     0,  Iter    13:    Energy =   0.0980
Level     0,  Iter    14:    Energy =   0.0979
Level     0,  Iter    15:    Energy =   0.0984
Level     0,  Iter    16:    Energy =   0.0982
Level     0,  Iter    17:    Energy =   0.0986
Level     0,  Iter    18:    Energy =   0.0985
Level     0,  Iter    19:    Energy =   0.0988
Level     0,  Iter    20:    Energy =   0.0987
Level     0,  Iter    21:    Energy =   0.0989
Level     0,  Iter    22:    Energy =   0.0989
Level     0,  Iter    23:    Energy =   0.0992
Level     0,  Iter    24:    Energy =   0.0992
Level     0,  Iter    25:    Energy =   0.0994
Level     0,  Iter    26:    Energy =   0.0994
Level     0,  Iter    27:    Energy =   0.0996
Level     0,  Iter    28:    Energy =   0.0995
Level     0,  Iter    29:    Energy =   0.0998
Level     0,  Iter    30:    Energy =   0.0997
Level     0,  Iter    31:    Energy =   0.1000
Level     0,  Iter    32:    Energy =   0.0999
Level     0,  Iter    33:    Energy =   0.1002
Level     0,  Iter    34:    Energy =   0.1000
Level     0,  Iter    35:    Energy =   0.1002
Level     0,  Iter    36:    Energy =   0.1000
Level     0,  Iter    37:    Energy =   0.1003
Level     0,  Iter    38:    Energy =   0.1001
Level     0,  Iter    39:    Energy =   0.1004
Level     0,  Iter    40:    Energy =   0.1002
Level     0,  Iter    41:    Energy =   0.1005
Level     0,  Iter    42:    Energy =   0.1002
Level     0,  Iter    43:    Energy =   0.1005
Level     0,  Iter    44:    Energy =   0.1002
Level     0,  Iter    45:    Energy =   0.1005
Level     0,  Iter    46:    Energy =   0.1002
Level     0,  Iter    47:    Energy =   0.1006
Level     0,  Iter    48:    Energy =   0.1002
Level     0,  Iter    49:    Energy =   0.1005
Level     0,  Iter    50:    Energy =   0.1001
Level     0,  Iter    51:    Energy =   0.1005
Level     0,  Iter    52:    Energy =   0.1001
Level     0,  Iter    53:    Energy =   0.1005
Level     0,  Iter    54:    Energy =   0.1001
Level     0,  Iter    55:    Energy =   0.1005
Level     0,  Iter    56:    Energy =   0.1001
Level     0,  Iter    57:    Energy =   0.1005
Level     0,  Iter    58:    Energy =   0.1001
Level     0,  Iter    59:    Energy =   0.1005
END OF LEVEL     0    DetJac Range:   0.2276  to   1.9744 
  Avg. Gradient Time  : 0.0067s  37.19% 
  Avg. Gaussian Time  : 0.0086s  47.59% 
  Avg. Iteration Time : 0.0181s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.1952, 1.21242], [0.491046, 0.487938, 0.494969]
Level     1,  Iter     0:    Energy =   0.0716
Level     1,  Iter     1:    Energy =   0.0770
Level     1,  Iter     2:    Energy =   0.0809
Level     1,  Iter     3:    Energy =   0.0838
Level     1,  Iter     4:    Energy =   0.0860
Level     1,  Iter     5:    Energy =   0.0880
Level     1,  Iter     6:    Energy =   0.0897
Level     1,  Iter     7:    Energy =   0.0913
Level     1,  Iter     8:    Energy =   0.0926
Level     1,  Iter     9:    Energy =   0.0936
Level     1,  Iter    10:    Energy =   0.0943
Level     1,  Iter    11:    Energy =   0.0945
Level     1,  Iter    12:    Energy =   0.0951
Level     1,  Iter    13:    Energy =   0.0952
Level     1,  Iter    14:    Energy =   0.0958
Level     1,  Iter    15:    Energy =   0.0958
Level     1,  Iter    16:    Energy =   0.0964
Level     1,  Iter    17:    Energy =   0.0963
Level     1,  Iter    18:    Energy =   0.0969
Level     1,  Iter    19:    Energy =   0.0968
Level     1,  Iter    20:    Energy =   0.0974
Level     1,  Iter    21:    Energy =   0.0973
Level     1,  Iter    22:    Energy =   0.0978
Level     1,  Iter    23:    Energy =   0.0977
Level     1,  Iter    24:    Energy =   0.0981
Level     1,  Iter    25:    Energy =   0.0980
Level     1,  Iter    26:    Energy =   0.0985
Level     1,  Iter    27:    Energy =   0.0983
Level     1,  Iter    28:    Energy =   0.0986
Level     1,  Iter    29:    Energy =   0.0985
Level     1,  Iter    30:    Energy =   0.0988
Level     1,  Iter    31:    Energy =   0.0986
Level     1,  Iter    32:    Energy =   0.0989
Level     1,  Iter    33:    Energy =   0.0987
Level     1,  Iter    34:    Energy =   0.0991
Level     1,  Iter    35:    Energy =   0.0989
Level     1,  Iter    36:    Energy =   0.0992
Level     1,  Iter    37:    Energy =   0.0990
Level     1,  Iter    38:    Energy =   0.0992
Level     1,  Iter    39:    Energy =   0.0990
Level     1,  Iter    40:    Energy =   0.0993
Level     1,  Iter    41:    Energy =   0.0991
Level     1,  Iter    42:    Energy =   0.0993
Level     1,  Iter    43:    Energy =   0.0991
Level     1,  Iter    44:    Energy =   0.0994
Level     1,  Iter    45:    Energy =   0.0992
Level     1,  Iter    46:    Energy =   0.0994
Level     1,  Iter    47:    Energy =   0.0992
Level     1,  Iter    48:    Energy =   0.0995
Level     1,  Iter    49:    Energy =   0.0992
Level     1,  Iter    50:    Energy =   0.0995
Level     1,  Iter    51:    Energy =   0.0993
Level     1,  Iter    52:    Energy =   0.0995
Level     1,  Iter    53:    Energy =   0.0993
Level     1,  Iter    54:    Energy =   0.0996
Level     1,  Iter    55:    Energy =   0.0993
Level     1,  Iter    56:    Energy =   0.0996
Level     1,  Iter    57:    Energy =   0.0993
Level     1,  Iter    58:    Energy =   0.0996
Level     1,  Iter    59:    Energy =   0.0993
END OF LEVEL     1    DetJac Range:   0.1958  to   2.6369 
  Avg. Gradient Time  : 0.0361s  39.98% 
  Avg. Gaussian Time  : 0.0432s  47.91% 
  Avg. Iteration Time : 0.0902s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0536
Level     2,  Iter     1:    Energy =   0.0561
Level     2,  Iter     2:    Energy =   0.0585
Level     2,  Iter     3:    Energy =   0.0607
Level     2,  Iter     4:    Energy =   0.0625
Level     2,  Iter     5:    Energy =   0.0639
Level     2,  Iter     6:    Energy =   0.0652
Level     2,  Iter     7:    Energy =   0.0664
Level     2,  Iter     8:    Energy =   0.0676
Level     2,  Iter     9:    Energy =   0.0685
Level     2,  Iter    10:    Energy =   0.0694
Level     2,  Iter    11:    Energy =   0.0700
Level     2,  Iter    12:    Energy =   0.0705
Level     2,  Iter    13:    Energy =   0.0709
Level     2,  Iter    14:    Energy =   0.0715
Level     2,  Iter    15:    Energy =   0.0720
Level     2,  Iter    16:    Energy =   0.0724
Level     2,  Iter    17:    Energy =   0.0728
Level     2,  Iter    18:    Energy =   0.0732
Level     2,  Iter    19:    Energy =   0.0735
END OF LEVEL     2    DetJac Range:   0.1270  to   4.0347 
  Avg. Gradient Time  : 0.2580s  37.49% 
  Avg. Gaussian Time  : 0.3564s  51.78% 
  Avg. Iteration Time : 0.6883s 

real	0m22.982s
user	0m40.592s
sys	0m2.220s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train004/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train004/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=4 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=4 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.623077 0.628846
+ echo 'CHUNK 0.623077 0.628846 1'
CHUNK 0.623077 0.628846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.623077 0.628846 1
====================================
         PROGRESS: 0.623077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=005
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 005
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train005
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train005
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 005 left 0
+ local tid=005
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 005 0
+ set -e
+ local tid=005
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train005/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2163.02 	 OutFr   0.0000 	 RMSD     3.0161
Iter 002 	 Temp     3.72 	 Delta  2054.44 	 OutFr   0.0000 	 RMSD     2.4482
Iter 003 	 Temp     3.46 	 Delta  1963.43 	 OutFr   0.0000 	 RMSD     2.4261
Iter 004 	 Temp     3.22 	 Delta  1872.67 	 OutFr   0.0000 	 RMSD     2.4064
Iter 005 	 Temp     2.99 	 Delta  1790.82 	 OutFr   0.0000 	 RMSD     2.3912
Iter 006 	 Temp     2.78 	 Delta  1718.60 	 OutFr   0.0000 	 RMSD     2.3799
Iter 007 	 Temp     2.59 	 Delta  1654.37 	 OutFr   0.0000 	 RMSD     2.3716
Iter 008 	 Temp     2.41 	 Delta  1595.68 	 OutFr   0.0000 	 RMSD     2.3657
Iter 009 	 Temp     2.24 	 Delta  1540.23 	 OutFr   0.0000 	 RMSD     2.3614
Iter 010 	 Temp     2.08 	 Delta  1486.18 	 OutFr   0.0024 	 RMSD     2.3576
Iter 011 	 Temp     1.94 	 Delta  1431.60 	 OutFr   0.0024 	 RMSD     2.3546
Iter 012 	 Temp     1.80 	 Delta  1374.33 	 OutFr   0.0024 	 RMSD     2.3521
Iter 013 	 Temp     1.67 	 Delta  1314.31 	 OutFr   0.0072 	 RMSD     2.3498
Iter 014 	 Temp     1.56 	 Delta  1254.45 	 OutFr   0.0121 	 RMSD     2.3477
Iter 015 	 Temp     1.45 	 Delta  1193.59 	 OutFr   0.0217 	 RMSD     2.3460
Iter 016 	 Temp     1.35 	 Delta  1126.26 	 OutFr   0.0314 	 RMSD     2.3455
Iter 017 	 Temp     1.25 	 Delta  1049.45 	 OutFr   0.0411 	 RMSD     2.3458
Iter 018 	 Temp     1.16 	 Delta   964.65 	 OutFr   0.0507 	 RMSD     2.3464
Iter 019 	 Temp     1.08 	 Delta   877.89 	 OutFr   0.0628 	 RMSD     2.3475
Iter 020 	 Temp     1.01 	 Delta   796.64 	 OutFr   0.0918 	 RMSD     2.3491
Iter 021 	 Temp     0.94 	 Delta   725.24 	 OutFr   0.1014 	 RMSD     2.3508
Iter 022 	 Temp     0.87 	 Delta   661.07 	 OutFr   0.1159 	 RMSD     2.3528
Iter 023 	 Temp     0.81 	 Delta   600.26 	 OutFr   0.1304 	 RMSD     2.3541
Iter 024 	 Temp     0.75 	 Delta   544.95 	 OutFr   0.1618 	 RMSD     2.3551
Iter 025 	 Temp     0.70 	 Delta   496.15 	 OutFr   0.1860 	 RMSD     2.3559
Iter 026 	 Temp     0.65 	 Delta   449.03 	 OutFr   0.2198 	 RMSD     2.3566
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train005/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.9EPzr4Hv/mybin.nii.gz
+ vtklevelset /tmp/ashs.9EPzr4Hv/mybin.nii.gz /tmp/ashs.9EPzr4Hv/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.9EPzr4Hv/mymesh.vtk /tmp/ashs.9EPzr4Hv/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2810.03302501 2848.49660527   1.01368795
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.9EPzr4Hv/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train005/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -31.336 to -8.24957
   Y : -17.964 to 28.8969
   Z : -9.35436 to 16.6031
   Image resolution  : 96 by 164 by 103
   Image box origin  : {-36.336, -22.964, -14.3544}
   Image box size    : {33.3333, 56.9444, 36.0496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [36.336, 22.964, -14.3544]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train005/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_fwd.mat -o /tmp/ashs.9EPzr4Hv/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train005/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_inv.mat -o /tmp/ashs.9EPzr4Hv/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train005/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.9EPzr4Hv/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train005/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=5 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=5 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.628846 0.634615
+ echo 'CHUNK 0.628846 0.634615 0.5'
CHUNK 0.628846 0.634615 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.628846 0.634615 0.5
====================================
         PROGRESS: 0.628846               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train005/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.9EPzr4Hv/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.9EPzr4Hv/fixed_hw.nii.gz /tmp/ashs.9EPzr4Hv/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train005/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.683024, moving = 0.659827
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.40562, 2.40153], [0.982092, 0.982092, 0.98042]
Level     0,  Iter     0:    Energy =   0.0297
Level     0,  Iter     1:    Energy =   0.0361
Level     0,  Iter     2:    Energy =   0.0420
Level     0,  Iter     3:    Energy =   0.0472
Level     0,  Iter     4:    Energy =   0.0519
Level     0,  Iter     5:    Energy =   0.0571
Level     0,  Iter     6:    Energy =   0.0609
Level     0,  Iter     7:    Energy =   0.0635
Level     0,  Iter     8:    Energy =   0.0654
Level     0,  Iter     9:    Energy =   0.0669
Level     0,  Iter    10:    Energy =   0.0681
Level     0,  Iter    11:    Energy =   0.0691
Level     0,  Iter    12:    Energy =   0.0698
Level     0,  Iter    13:    Energy =   0.0705
Level     0,  Iter    14:    Energy =   0.0714
Level     0,  Iter    15:    Energy =   0.0724
Level     0,  Iter    16:    Energy =   0.0736
Level     0,  Iter    17:    Energy =   0.0748
Level     0,  Iter    18:    Energy =   0.0758
Level     0,  Iter    19:    Energy =   0.0760
Level     0,  Iter    20:    Energy =   0.0760
Level     0,  Iter    21:    Energy =   0.0759
Level     0,  Iter    22:    Energy =   0.0760
Level     0,  Iter    23:    Energy =   0.0760
Level     0,  Iter    24:    Energy =   0.0762
Level     0,  Iter    25:    Energy =   0.0763
Level     0,  Iter    26:    Energy =   0.0765
Level     0,  Iter    27:    Energy =   0.0766
Level     0,  Iter    28:    Energy =   0.0768
Level     0,  Iter    29:    Energy =   0.0770
Level     0,  Iter    30:    Energy =   0.0771
Level     0,  Iter    31:    Energy =   0.0771
Level     0,  Iter    32:    Energy =   0.0772
Level     0,  Iter    33:    Energy =   0.0773
Level     0,  Iter    34:    Energy =   0.0774
Level     0,  Iter    35:    Energy =   0.0774
Level     0,  Iter    36:    Energy =   0.0775
Level     0,  Iter    37:    Energy =   0.0775
Level     0,  Iter    38:    Energy =   0.0776
Level     0,  Iter    39:    Energy =   0.0776
Level     0,  Iter    40:    Energy =   0.0777
Level     0,  Iter    41:    Energy =   0.0777
Level     0,  Iter    42:    Energy =   0.0778
Level     0,  Iter    43:    Energy =   0.0778
Level     0,  Iter    44:    Energy =   0.0779
Level     0,  Iter    45:    Energy =   0.0779
Level     0,  Iter    46:    Energy =   0.0779
Level     0,  Iter    47:    Energy =   0.0779
Level     0,  Iter    48:    Energy =   0.0779
Level     0,  Iter    49:    Energy =   0.0779
Level     0,  Iter    50:    Energy =   0.0779
Level     0,  Iter    51:    Energy =   0.0780
Level     0,  Iter    52:    Energy =   0.0780
Level     0,  Iter    53:    Energy =   0.0780
Level     0,  Iter    54:    Energy =   0.0781
Level     0,  Iter    55:    Energy =   0.0781
Level     0,  Iter    56:    Energy =   0.0782
Level     0,  Iter    57:    Energy =   0.0782
Level     0,  Iter    58:    Energy =   0.0782
Level     0,  Iter    59:    Energy =   0.0783
END OF LEVEL     0    DetJac Range:   0.3728  to   2.5111 
  Avg. Gradient Time  : 0.0070s  37.85% 
  Avg. Gaussian Time  : 0.0086s  47.07% 
  Avg. Iteration Time : 0.0184s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.20076], [0.491046, 0.491046, 0.49021]
Level     1,  Iter     0:    Energy =   0.0489
Level     1,  Iter     1:    Energy =   0.0533
Level     1,  Iter     2:    Energy =   0.0571
Level     1,  Iter     3:    Energy =   0.0603
Level     1,  Iter     4:    Energy =   0.0625
Level     1,  Iter     5:    Energy =   0.0642
Level     1,  Iter     6:    Energy =   0.0661
Level     1,  Iter     7:    Energy =   0.0679
Level     1,  Iter     8:    Energy =   0.0695
Level     1,  Iter     9:    Energy =   0.0707
Level     1,  Iter    10:    Energy =   0.0720
Level     1,  Iter    11:    Energy =   0.0731
Level     1,  Iter    12:    Energy =   0.0740
Level     1,  Iter    13:    Energy =   0.0748
Level     1,  Iter    14:    Energy =   0.0756
Level     1,  Iter    15:    Energy =   0.0760
Level     1,  Iter    16:    Energy =   0.0764
Level     1,  Iter    17:    Energy =   0.0766
Level     1,  Iter    18:    Energy =   0.0766
Level     1,  Iter    19:    Energy =   0.0769
Level     1,  Iter    20:    Energy =   0.0768
Level     1,  Iter    21:    Energy =   0.0771
Level     1,  Iter    22:    Energy =   0.0770
Level     1,  Iter    23:    Energy =   0.0774
Level     1,  Iter    24:    Energy =   0.0773
Level     1,  Iter    25:    Energy =   0.0776
Level     1,  Iter    26:    Energy =   0.0774
Level     1,  Iter    27:    Energy =   0.0777
Level     1,  Iter    28:    Energy =   0.0776
Level     1,  Iter    29:    Energy =   0.0778
Level     1,  Iter    30:    Energy =   0.0777
Level     1,  Iter    31:    Energy =   0.0780
Level     1,  Iter    32:    Energy =   0.0778
Level     1,  Iter    33:    Energy =   0.0781
Level     1,  Iter    34:    Energy =   0.0779
Level     1,  Iter    35:    Energy =   0.0781
Level     1,  Iter    36:    Energy =   0.0779
Level     1,  Iter    37:    Energy =   0.0781
Level     1,  Iter    38:    Energy =   0.0780
Level     1,  Iter    39:    Energy =   0.0780
Level     1,  Iter    40:    Energy =   0.0781
Level     1,  Iter    41:    Energy =   0.0779
Level     1,  Iter    42:    Energy =   0.0781
Level     1,  Iter    43:    Energy =   0.0779
Level     1,  Iter    44:    Energy =   0.0781
Level     1,  Iter    45:    Energy =   0.0780
Level     1,  Iter    46:    Energy =   0.0781
Level     1,  Iter    47:    Energy =   0.0780
Level     1,  Iter    48:    Energy =   0.0782
Level     1,  Iter    49:    Energy =   0.0781
Level     1,  Iter    50:    Energy =   0.0782
Level     1,  Iter    51:    Energy =   0.0781
Level     1,  Iter    52:    Energy =   0.0783
Level     1,  Iter    53:    Energy =   0.0781
Level     1,  Iter    54:    Energy =   0.0784
Level     1,  Iter    55:    Energy =   0.0783
Level     1,  Iter    56:    Energy =   0.0784
Level     1,  Iter    57:    Energy =   0.0784
Level     1,  Iter    58:    Energy =   0.0784
Level     1,  Iter    59:    Energy =   0.0784
END OF LEVEL     1    DetJac Range:   0.1060  to   4.1319 
  Avg. Gradient Time  : 0.0407s  40.33% 
  Avg. Gaussian Time  : 0.0482s  47.76% 
  Avg. Iteration Time : 0.1010s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0413
Level     2,  Iter     1:    Energy =   0.0437
Level     2,  Iter     2:    Energy =   0.0458
Level     2,  Iter     3:    Energy =   0.0473
Level     2,  Iter     4:    Energy =   0.0485
Level     2,  Iter     5:    Energy =   0.0497
Level     2,  Iter     6:    Energy =   0.0508
Level     2,  Iter     7:    Energy =   0.0518
Level     2,  Iter     8:    Energy =   0.0528
Level     2,  Iter     9:    Energy =   0.0538
Level     2,  Iter    10:    Energy =   0.0547
Level     2,  Iter    11:    Energy =   0.0555
Level     2,  Iter    12:    Energy =   0.0562
Level     2,  Iter    13:    Energy =   0.0568
Level     2,  Iter    14:    Energy =   0.0574
Level     2,  Iter    15:    Energy =   0.0578
Level     2,  Iter    16:    Energy =   0.0582
Level     2,  Iter    17:    Energy =   0.0586
Level     2,  Iter    18:    Energy =   0.0591
Level     2,  Iter    19:    Energy =   0.0595
END OF LEVEL     2    DetJac Range:   0.0525  to   5.3239 
  Avg. Gradient Time  : 0.2903s  37.98% 
  Avg. Gaussian Time  : 0.3930s  51.42% 
  Avg. Iteration Time : 0.7644s 

real	0m25.467s
user	0m44.724s
sys	0m2.668s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train005/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train005/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=5 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=5 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.628846 0.634615
+ echo 'CHUNK 0.628846 0.634615 1'
CHUNK 0.628846 0.634615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.628846 0.634615 1
====================================
         PROGRESS: 0.628846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=006
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 006
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train006
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train006
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 006 left 0
+ local tid=006
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 006 0
+ set -e
+ local tid=006
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train006/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1527.31 	 OutFr   0.0000 	 RMSD     2.3628
Iter 002 	 Temp     3.72 	 Delta  1479.72 	 OutFr   0.0000 	 RMSD     2.0617
Iter 003 	 Temp     3.46 	 Delta  1394.25 	 OutFr   0.0000 	 RMSD     2.0978
Iter 004 	 Temp     3.22 	 Delta  1318.38 	 OutFr   0.0000 	 RMSD     2.0818
Iter 005 	 Temp     2.99 	 Delta  1253.39 	 OutFr   0.0000 	 RMSD     2.0578
Iter 006 	 Temp     2.78 	 Delta  1196.38 	 OutFr   0.0000 	 RMSD     2.0348
Iter 007 	 Temp     2.59 	 Delta  1145.52 	 OutFr   0.0000 	 RMSD     2.0155
Iter 008 	 Temp     2.41 	 Delta  1098.91 	 OutFr   0.0000 	 RMSD     1.9998
Iter 009 	 Temp     2.24 	 Delta  1053.75 	 OutFr   0.0000 	 RMSD     1.9869
Iter 010 	 Temp     2.08 	 Delta  1006.46 	 OutFr   0.0000 	 RMSD     1.9766
Iter 011 	 Temp     1.94 	 Delta   954.81 	 OutFr   0.0000 	 RMSD     1.9681
Iter 012 	 Temp     1.80 	 Delta   901.32 	 OutFr   0.0000 	 RMSD     1.9613
Iter 013 	 Temp     1.67 	 Delta   852.44 	 OutFr   0.0048 	 RMSD     1.9554
Iter 014 	 Temp     1.56 	 Delta   808.88 	 OutFr   0.0097 	 RMSD     1.9503
Iter 015 	 Temp     1.45 	 Delta   766.07 	 OutFr   0.0097 	 RMSD     1.9457
Iter 016 	 Temp     1.35 	 Delta   723.06 	 OutFr   0.0217 	 RMSD     1.9410
Iter 017 	 Temp     1.25 	 Delta   682.85 	 OutFr   0.0242 	 RMSD     1.9354
Iter 018 	 Temp     1.16 	 Delta   647.03 	 OutFr   0.0266 	 RMSD     1.9302
Iter 019 	 Temp     1.08 	 Delta   615.52 	 OutFr   0.0338 	 RMSD     1.9256
Iter 020 	 Temp     1.01 	 Delta   588.15 	 OutFr   0.0386 	 RMSD     1.9213
Iter 021 	 Temp     0.94 	 Delta   562.36 	 OutFr   0.0435 	 RMSD     1.9167
Iter 022 	 Temp     0.87 	 Delta   535.14 	 OutFr   0.0556 	 RMSD     1.9115
Iter 023 	 Temp     0.81 	 Delta   505.23 	 OutFr   0.0773 	 RMSD     1.9060
Iter 024 	 Temp     0.75 	 Delta   471.99 	 OutFr   0.0894 	 RMSD     1.9004
Iter 025 	 Temp     0.70 	 Delta   435.00 	 OutFr   0.1039 	 RMSD     1.8954
Iter 026 	 Temp     0.65 	 Delta   396.78 	 OutFr   0.1329 	 RMSD     1.8908
Iter 027 	 Temp     0.61 	 Delta   363.73 	 OutFr   0.1594 	 RMSD     1.8868
Iter 028 	 Temp     0.56 	 Delta   337.66 	 OutFr   0.1884 	 RMSD     1.8840
Iter 029 	 Temp     0.52 	 Delta   314.23 	 OutFr   0.2222 	 RMSD     1.8840
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train006/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.E5J8seZV/mybin.nii.gz
+ vtklevelset /tmp/ashs.E5J8seZV/mybin.nii.gz /tmp/ashs.E5J8seZV/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.E5J8seZV/mymesh.vtk /tmp/ashs.E5J8seZV/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2810.03302501 2652.60588740   0.94397677
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.E5J8seZV/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train006/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -34.4962 to -12.276
   Y : -16.2366 to 27.5818
   Z : -21.9859 to 3.60749
   Image resolution  : 93 by 155 by 102
   Image box origin  : {-39.4962, -21.2366, -26.9859}
   Image box size    : {32.2916, 53.8194, 35.6996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [39.4962, 21.2366, -26.9859]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train006/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_fwd.mat -o /tmp/ashs.E5J8seZV/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train006/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_inv.mat -o /tmp/ashs.E5J8seZV/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train006/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.E5J8seZV/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train006/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=6 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=6 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.634615 0.640385
+ echo 'CHUNK 0.634615 0.640385 0.5'
CHUNK 0.634615 0.640385 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.634615 0.640385 0.5
====================================
         PROGRESS: 0.634615               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train006/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.E5J8seZV/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.E5J8seZV/fixed_hw.nii.gz /tmp/ashs.E5J8seZV/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train006/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.666892, moving = 0.502367
LEVEL 1 of 3
  Smoothing sigmas: [2.33045, 2.3902, 2.37821], [0.951402, 0.975797, 0.970901]
Level     0,  Iter     0:    Energy =   0.0433
Level     0,  Iter     1:    Energy =   0.0491
Level     0,  Iter     2:    Energy =   0.0550
Level     0,  Iter     3:    Energy =   0.0615
Level     0,  Iter     4:    Energy =   0.0660
Level     0,  Iter     5:    Energy =   0.0698
Level     0,  Iter     6:    Energy =   0.0730
Level     0,  Iter     7:    Energy =   0.0759
Level     0,  Iter     8:    Energy =   0.0783
Level     0,  Iter     9:    Energy =   0.0802
Level     0,  Iter    10:    Energy =   0.0814
Level     0,  Iter    11:    Energy =   0.0826
Level     0,  Iter    12:    Energy =   0.0826
Level     0,  Iter    13:    Energy =   0.0835
Level     0,  Iter    14:    Energy =   0.0839
Level     0,  Iter    15:    Energy =   0.0843
Level     0,  Iter    16:    Energy =   0.0837
Level     0,  Iter    17:    Energy =   0.0842
Level     0,  Iter    18:    Energy =   0.0843
Level     0,  Iter    19:    Energy =   0.0846
Level     0,  Iter    20:    Energy =   0.0843
Level     0,  Iter    21:    Energy =   0.0847
Level     0,  Iter    22:    Energy =   0.0846
Level     0,  Iter    23:    Energy =   0.0848
Level     0,  Iter    24:    Energy =   0.0847
Level     0,  Iter    25:    Energy =   0.0850
Level     0,  Iter    26:    Energy =   0.0848
Level     0,  Iter    27:    Energy =   0.0851
Level     0,  Iter    28:    Energy =   0.0849
Level     0,  Iter    29:    Energy =   0.0851
Level     0,  Iter    30:    Energy =   0.0850
Level     0,  Iter    31:    Energy =   0.0853
Level     0,  Iter    32:    Energy =   0.0851
Level     0,  Iter    33:    Energy =   0.0854
Level     0,  Iter    34:    Energy =   0.0852
Level     0,  Iter    35:    Energy =   0.0854
Level     0,  Iter    36:    Energy =   0.0853
Level     0,  Iter    37:    Energy =   0.0855
Level     0,  Iter    38:    Energy =   0.0854
Level     0,  Iter    39:    Energy =   0.0856
Level     0,  Iter    40:    Energy =   0.0855
Level     0,  Iter    41:    Energy =   0.0857
Level     0,  Iter    42:    Energy =   0.0856
Level     0,  Iter    43:    Energy =   0.0858
Level     0,  Iter    44:    Energy =   0.0858
Level     0,  Iter    45:    Energy =   0.0860
Level     0,  Iter    46:    Energy =   0.0859
Level     0,  Iter    47:    Energy =   0.0862
Level     0,  Iter    48:    Energy =   0.0862
Level     0,  Iter    49:    Energy =   0.0864
Level     0,  Iter    50:    Energy =   0.0860
Level     0,  Iter    51:    Energy =   0.0864
Level     0,  Iter    52:    Energy =   0.0866
Level     0,  Iter    53:    Energy =   0.0868
Level     0,  Iter    54:    Energy =   0.0861
Level     0,  Iter    55:    Energy =   0.0866
Level     0,  Iter    56:    Energy =   0.0869
Level     0,  Iter    57:    Energy =   0.0870
Level     0,  Iter    58:    Energy =   0.0862
Level     0,  Iter    59:    Energy =   0.0868
END OF LEVEL     0    DetJac Range:   0.3141  to   1.8623 
  Avg. Gradient Time  : 0.0067s  37.82% 
  Avg. Gaussian Time  : 0.0083s  46.91% 
  Avg. Iteration Time : 0.0177s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19002, 1.1951, 1.21242], [0.485822, 0.487898, 0.494969]
Level     1,  Iter     0:    Energy =   0.0629
Level     1,  Iter     1:    Energy =   0.0666
Level     1,  Iter     2:    Energy =   0.0699
Level     1,  Iter     3:    Energy =   0.0734
Level     1,  Iter     4:    Energy =   0.0764
Level     1,  Iter     5:    Energy =   0.0785
Level     1,  Iter     6:    Energy =   0.0801
Level     1,  Iter     7:    Energy =   0.0815
Level     1,  Iter     8:    Energy =   0.0826
Level     1,  Iter     9:    Energy =   0.0834
Level     1,  Iter    10:    Energy =   0.0842
Level     1,  Iter    11:    Energy =   0.0850
Level     1,  Iter    12:    Energy =   0.0854
Level     1,  Iter    13:    Energy =   0.0854
Level     1,  Iter    14:    Energy =   0.0859
Level     1,  Iter    15:    Energy =   0.0859
Level     1,  Iter    16:    Energy =   0.0863
Level     1,  Iter    17:    Energy =   0.0863
Level     1,  Iter    18:    Energy =   0.0866
Level     1,  Iter    19:    Energy =   0.0866
Level     1,  Iter    20:    Energy =   0.0869
Level     1,  Iter    21:    Energy =   0.0869
Level     1,  Iter    22:    Energy =   0.0872
Level     1,  Iter    23:    Energy =   0.0872
Level     1,  Iter    24:    Energy =   0.0874
Level     1,  Iter    25:    Energy =   0.0874
Level     1,  Iter    26:    Energy =   0.0876
Level     1,  Iter    27:    Energy =   0.0877
Level     1,  Iter    28:    Energy =   0.0878
Level     1,  Iter    29:    Energy =   0.0878
Level     1,  Iter    30:    Energy =   0.0880
Level     1,  Iter    31:    Energy =   0.0880
Level     1,  Iter    32:    Energy =   0.0881
Level     1,  Iter    33:    Energy =   0.0881
Level     1,  Iter    34:    Energy =   0.0883
Level     1,  Iter    35:    Energy =   0.0883
Level     1,  Iter    36:    Energy =   0.0884
Level     1,  Iter    37:    Energy =   0.0884
Level     1,  Iter    38:    Energy =   0.0885
Level     1,  Iter    39:    Energy =   0.0886
Level     1,  Iter    40:    Energy =   0.0887
Level     1,  Iter    41:    Energy =   0.0886
Level     1,  Iter    42:    Energy =   0.0887
Level     1,  Iter    43:    Energy =   0.0887
Level     1,  Iter    44:    Energy =   0.0888
Level     1,  Iter    45:    Energy =   0.0888
Level     1,  Iter    46:    Energy =   0.0889
Level     1,  Iter    47:    Energy =   0.0888
Level     1,  Iter    48:    Energy =   0.0889
Level     1,  Iter    49:    Energy =   0.0889
Level     1,  Iter    50:    Energy =   0.0890
Level     1,  Iter    51:    Energy =   0.0889
Level     1,  Iter    52:    Energy =   0.0890
Level     1,  Iter    53:    Energy =   0.0890
Level     1,  Iter    54:    Energy =   0.0891
Level     1,  Iter    55:    Energy =   0.0891
Level     1,  Iter    56:    Energy =   0.0892
Level     1,  Iter    57:    Energy =   0.0892
Level     1,  Iter    58:    Energy =   0.0892
Level     1,  Iter    59:    Energy =   0.0892
END OF LEVEL     1    DetJac Range:   0.1795  to   2.4948 
  Avg. Gradient Time  : 0.0379s  40.15% 
  Avg. Gaussian Time  : 0.0452s  47.86% 
  Avg. Iteration Time : 0.0944s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0476
Level     2,  Iter     1:    Energy =   0.0500
Level     2,  Iter     2:    Energy =   0.0518
Level     2,  Iter     3:    Energy =   0.0532
Level     2,  Iter     4:    Energy =   0.0546
Level     2,  Iter     5:    Energy =   0.0561
Level     2,  Iter     6:    Energy =   0.0573
Level     2,  Iter     7:    Energy =   0.0585
Level     2,  Iter     8:    Energy =   0.0595
Level     2,  Iter     9:    Energy =   0.0603
Level     2,  Iter    10:    Energy =   0.0610
Level     2,  Iter    11:    Energy =   0.0616
Level     2,  Iter    12:    Energy =   0.0621
Level     2,  Iter    13:    Energy =   0.0627
Level     2,  Iter    14:    Energy =   0.0632
Level     2,  Iter    15:    Energy =   0.0637
Level     2,  Iter    16:    Energy =   0.0643
Level     2,  Iter    17:    Energy =   0.0648
Level     2,  Iter    18:    Energy =   0.0654
Level     2,  Iter    19:    Energy =   0.0661
END OF LEVEL     2    DetJac Range:   0.1214  to   4.2114 
  Avg. Gradient Time  : 0.2644s  37.71% 
  Avg. Gaussian Time  : 0.3617s  51.59% 
  Avg. Iteration Time : 0.7012s 

real	0m23.484s
user	0m41.208s
sys	0m2.388s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train006/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train006/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=6 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=6 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.634615 0.640385
+ echo 'CHUNK 0.634615 0.640385 1'
CHUNK 0.634615 0.640385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.634615 0.640385 1
====================================
         PROGRESS: 0.634615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=007
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 007
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train007
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train007
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 007 left 0
+ local tid=007
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 007 0
+ set -e
+ local tid=007
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train007/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2140.81 	 OutFr   0.0024 	 RMSD     4.1680
Iter 002 	 Temp     3.72 	 Delta  1998.67 	 OutFr   0.0024 	 RMSD     2.6296
Iter 003 	 Temp     3.46 	 Delta  1853.20 	 OutFr   0.0024 	 RMSD     2.5731
Iter 004 	 Temp     3.22 	 Delta  1735.62 	 OutFr   0.0024 	 RMSD     2.5262
Iter 005 	 Temp     2.99 	 Delta  1636.51 	 OutFr   0.0024 	 RMSD     2.4911
Iter 006 	 Temp     2.78 	 Delta  1549.28 	 OutFr   0.0024 	 RMSD     2.4643
Iter 007 	 Temp     2.59 	 Delta  1470.32 	 OutFr   0.0024 	 RMSD     2.4440
Iter 008 	 Temp     2.41 	 Delta  1398.35 	 OutFr   0.0072 	 RMSD     2.4302
Iter 009 	 Temp     2.24 	 Delta  1333.88 	 OutFr   0.0072 	 RMSD     2.4200
Iter 010 	 Temp     2.08 	 Delta  1277.98 	 OutFr   0.0097 	 RMSD     2.4134
Iter 011 	 Temp     1.94 	 Delta  1230.59 	 OutFr   0.0121 	 RMSD     2.4094
Iter 012 	 Temp     1.80 	 Delta  1187.67 	 OutFr   0.0193 	 RMSD     2.4073
Iter 013 	 Temp     1.67 	 Delta  1142.63 	 OutFr   0.0217 	 RMSD     2.4064
Iter 014 	 Temp     1.56 	 Delta  1095.04 	 OutFr   0.0217 	 RMSD     2.4063
Iter 015 	 Temp     1.45 	 Delta  1047.89 	 OutFr   0.0242 	 RMSD     2.4065
Iter 016 	 Temp     1.35 	 Delta   999.24 	 OutFr   0.0242 	 RMSD     2.4070
Iter 017 	 Temp     1.25 	 Delta   949.17 	 OutFr   0.0266 	 RMSD     2.4071
Iter 018 	 Temp     1.16 	 Delta   898.67 	 OutFr   0.0386 	 RMSD     2.4064
Iter 019 	 Temp     1.08 	 Delta   848.01 	 OutFr   0.0386 	 RMSD     2.4042
Iter 020 	 Temp     1.01 	 Delta   797.24 	 OutFr   0.0435 	 RMSD     2.4011
Iter 021 	 Temp     0.94 	 Delta   745.29 	 OutFr   0.0604 	 RMSD     2.3973
Iter 022 	 Temp     0.87 	 Delta   691.19 	 OutFr   0.0773 	 RMSD     2.3933
Iter 023 	 Temp     0.81 	 Delta   634.89 	 OutFr   0.0894 	 RMSD     2.3894
Iter 024 	 Temp     0.75 	 Delta   575.92 	 OutFr   0.1063 	 RMSD     2.3853
Iter 025 	 Temp     0.70 	 Delta   517.83 	 OutFr   0.1401 	 RMSD     2.3813
Iter 026 	 Temp     0.65 	 Delta   465.53 	 OutFr   0.1787 	 RMSD     2.3783
Iter 027 	 Temp     0.61 	 Delta   419.62 	 OutFr   0.2005 	 RMSD     2.3765
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train007/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.Fk4ED9ux/mybin.nii.gz
+ vtklevelset /tmp/ashs.Fk4ED9ux/mybin.nii.gz /tmp/ashs.Fk4ED9ux/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.Fk4ED9ux/mymesh.vtk /tmp/ashs.Fk4ED9ux/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2810.03302501 2753.42151184   0.97985379
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.Fk4ED9ux/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train007/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -35.3978 to -11.8481
   Y : -22.4474 to 20.0647
   Z : -19.1021 to 10.3378
   Image resolution  : 97 by 152 by 113
   Image box origin  : {-40.3978, -27.4474, -24.1021}
   Image box size    : {33.6805, 52.7777, 39.5495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [40.3978, 27.4474, -24.1021]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train007/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_fwd.mat -o /tmp/ashs.Fk4ED9ux/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train007/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_inv.mat -o /tmp/ashs.Fk4ED9ux/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train007/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.Fk4ED9ux/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train007/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=7 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=7 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.640385 0.646154
+ echo 'CHUNK 0.640385 0.646154 0.5'
CHUNK 0.640385 0.646154 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.640385 0.646154 0.5
====================================
         PROGRESS: 0.640385               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train007/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.Fk4ED9ux/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.Fk4ED9ux/fixed_hw.nii.gz /tmp/ashs.Fk4ED9ux/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train007/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.660912, moving = 0.383813
LEVEL 1 of 3
  Smoothing sigmas: [2.33346, 2.40562, 2.36213], [0.952629, 0.982092, 0.964336]
Level     0,  Iter     0:    Energy =   0.0556
Level     0,  Iter     1:    Energy =   0.0621
Level     0,  Iter     2:    Energy =   0.0670
Level     0,  Iter     3:    Energy =   0.0706
Level     0,  Iter     4:    Energy =   0.0738
Level     0,  Iter     5:    Energy =   0.0759
Level     0,  Iter     6:    Energy =   0.0775
Level     0,  Iter     7:    Energy =   0.0790
Level     0,  Iter     8:    Energy =   0.0791
Level     0,  Iter     9:    Energy =   0.0798
Level     0,  Iter    10:    Energy =   0.0801
Level     0,  Iter    11:    Energy =   0.0806
Level     0,  Iter    12:    Energy =   0.0807
Level     0,  Iter    13:    Energy =   0.0813
Level     0,  Iter    14:    Energy =   0.0812
Level     0,  Iter    15:    Energy =   0.0819
Level     0,  Iter    16:    Energy =   0.0824
Level     0,  Iter    17:    Energy =   0.0825
Level     0,  Iter    18:    Energy =   0.0821
Level     0,  Iter    19:    Energy =   0.0823
Level     0,  Iter    20:    Energy =   0.0822
Level     0,  Iter    21:    Energy =   0.0825
Level     0,  Iter    22:    Energy =   0.0822
Level     0,  Iter    23:    Energy =   0.0827
Level     0,  Iter    24:    Energy =   0.0828
Level     0,  Iter    25:    Energy =   0.0830
Level     0,  Iter    26:    Energy =   0.0825
Level     0,  Iter    27:    Energy =   0.0828
Level     0,  Iter    28:    Energy =   0.0826
Level     0,  Iter    29:    Energy =   0.0829
Level     0,  Iter    30:    Energy =   0.0826
Level     0,  Iter    31:    Energy =   0.0831
Level     0,  Iter    32:    Energy =   0.0832
Level     0,  Iter    33:    Energy =   0.0834
Level     0,  Iter    34:    Energy =   0.0827
Level     0,  Iter    35:    Energy =   0.0830
Level     0,  Iter    36:    Energy =   0.0829
Level     0,  Iter    37:    Energy =   0.0832
Level     0,  Iter    38:    Energy =   0.0830
Level     0,  Iter    39:    Energy =   0.0834
Level     0,  Iter    40:    Energy =   0.0836
Level     0,  Iter    41:    Energy =   0.0835
Level     0,  Iter    42:    Energy =   0.0832
Level     0,  Iter    43:    Energy =   0.0832
Level     0,  Iter    44:    Energy =   0.0830
Level     0,  Iter    45:    Energy =   0.0833
Level     0,  Iter    46:    Energy =   0.0829
Level     0,  Iter    47:    Energy =   0.0833
Level     0,  Iter    48:    Energy =   0.0835
Level     0,  Iter    49:    Energy =   0.0836
Level     0,  Iter    50:    Energy =   0.0830
Level     0,  Iter    51:    Energy =   0.0831
Level     0,  Iter    52:    Energy =   0.0828
Level     0,  Iter    53:    Energy =   0.0832
Level     0,  Iter    54:    Energy =   0.0833
Level     0,  Iter    55:    Energy =   0.0835
Level     0,  Iter    56:    Energy =   0.0828
Level     0,  Iter    57:    Energy =   0.0832
Level     0,  Iter    58:    Energy =   0.0834
Level     0,  Iter    59:    Energy =   0.0835
END OF LEVEL     0    DetJac Range:   0.3896  to   2.0173 
  Avg. Gradient Time  : 0.0073s  37.54% 
  Avg. Gaussian Time  : 0.0091s  47.16% 
  Avg. Iteration Time : 0.0194s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19054, 1.20281, 1.20179], [0.486035, 0.491046, 0.490627]
Level     1,  Iter     0:    Energy =   0.0634
Level     1,  Iter     1:    Energy =   0.0669
Level     1,  Iter     2:    Energy =   0.0698
Level     1,  Iter     3:    Energy =   0.0730
Level     1,  Iter     4:    Energy =   0.0755
Level     1,  Iter     5:    Energy =   0.0776
Level     1,  Iter     6:    Energy =   0.0795
Level     1,  Iter     7:    Energy =   0.0810
Level     1,  Iter     8:    Energy =   0.0822
Level     1,  Iter     9:    Energy =   0.0831
Level     1,  Iter    10:    Energy =   0.0840
Level     1,  Iter    11:    Energy =   0.0847
Level     1,  Iter    12:    Energy =   0.0852
Level     1,  Iter    13:    Energy =   0.0855
Level     1,  Iter    14:    Energy =   0.0859
Level     1,  Iter    15:    Energy =   0.0860
Level     1,  Iter    16:    Energy =   0.0863
Level     1,  Iter    17:    Energy =   0.0862
Level     1,  Iter    18:    Energy =   0.0866
Level     1,  Iter    19:    Energy =   0.0866
Level     1,  Iter    20:    Energy =   0.0868
Level     1,  Iter    21:    Energy =   0.0866
Level     1,  Iter    22:    Energy =   0.0870
Level     1,  Iter    23:    Energy =   0.0869
Level     1,  Iter    24:    Energy =   0.0872
Level     1,  Iter    25:    Energy =   0.0871
Level     1,  Iter    26:    Energy =   0.0875
Level     1,  Iter    27:    Energy =   0.0874
Level     1,  Iter    28:    Energy =   0.0878
Level     1,  Iter    29:    Energy =   0.0876
Level     1,  Iter    30:    Energy =   0.0880
Level     1,  Iter    31:    Energy =   0.0878
Level     1,  Iter    32:    Energy =   0.0881
Level     1,  Iter    33:    Energy =   0.0880
Level     1,  Iter    34:    Energy =   0.0882
Level     1,  Iter    35:    Energy =   0.0880
Level     1,  Iter    36:    Energy =   0.0883
Level     1,  Iter    37:    Energy =   0.0882
Level     1,  Iter    38:    Energy =   0.0883
Level     1,  Iter    39:    Energy =   0.0882
Level     1,  Iter    40:    Energy =   0.0884
Level     1,  Iter    41:    Energy =   0.0883
Level     1,  Iter    42:    Energy =   0.0885
Level     1,  Iter    43:    Energy =   0.0883
Level     1,  Iter    44:    Energy =   0.0885
Level     1,  Iter    45:    Energy =   0.0884
Level     1,  Iter    46:    Energy =   0.0885
Level     1,  Iter    47:    Energy =   0.0884
Level     1,  Iter    48:    Energy =   0.0886
Level     1,  Iter    49:    Energy =   0.0885
Level     1,  Iter    50:    Energy =   0.0887
Level     1,  Iter    51:    Energy =   0.0886
Level     1,  Iter    52:    Energy =   0.0887
Level     1,  Iter    53:    Energy =   0.0886
Level     1,  Iter    54:    Energy =   0.0887
Level     1,  Iter    55:    Energy =   0.0886
Level     1,  Iter    56:    Energy =   0.0888
Level     1,  Iter    57:    Energy =   0.0887
Level     1,  Iter    58:    Energy =   0.0887
Level     1,  Iter    59:    Energy =   0.0886
END OF LEVEL     1    DetJac Range:   0.0820  to   3.7787 
  Avg. Gradient Time  : 0.0423s  40.12% 
  Avg. Gaussian Time  : 0.0506s  48.00% 
  Avg. Iteration Time : 0.1055s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0495
Level     2,  Iter     1:    Energy =   0.0519
Level     2,  Iter     2:    Energy =   0.0539
Level     2,  Iter     3:    Energy =   0.0556
Level     2,  Iter     4:    Energy =   0.0571
Level     2,  Iter     5:    Energy =   0.0586
Level     2,  Iter     6:    Energy =   0.0603
Level     2,  Iter     7:    Energy =   0.0617
Level     2,  Iter     8:    Energy =   0.0628
Level     2,  Iter     9:    Energy =   0.0635
Level     2,  Iter    10:    Energy =   0.0642
Level     2,  Iter    11:    Energy =   0.0647
Level     2,  Iter    12:    Energy =   0.0652
Level     2,  Iter    13:    Energy =   0.0656
Level     2,  Iter    14:    Energy =   0.0660
Level     2,  Iter    15:    Energy =   0.0663
Level     2,  Iter    16:    Energy =   0.0666
Level     2,  Iter    17:    Energy =   0.0669
Level     2,  Iter    18:    Energy =   0.0669
Level     2,  Iter    19:    Energy =   0.0671
END OF LEVEL     2    DetJac Range:   0.0895  to   3.6214 
  Avg. Gradient Time  : 0.2928s  37.40% 
  Avg. Gaussian Time  : 0.4069s  51.98% 
  Avg. Iteration Time : 0.7828s 

real	0m26.258s
user	0m46.284s
sys	0m2.564s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train007/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train007/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=7 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=7 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.640385 0.646154
+ echo 'CHUNK 0.640385 0.646154 1'
CHUNK 0.640385 0.646154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.640385 0.646154 1
====================================
         PROGRESS: 0.640385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=008
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 008
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train008
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train008
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 008 left 0
+ local tid=008
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 008 0
+ set -e
+ local tid=008
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train008/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1815.01 	 OutFr   0.0024 	 RMSD     3.2293
Iter 002 	 Temp     3.72 	 Delta  1645.87 	 OutFr   0.0000 	 RMSD     2.1809
Iter 003 	 Temp     3.46 	 Delta  1518.15 	 OutFr   0.0000 	 RMSD     2.1254
Iter 004 	 Temp     3.22 	 Delta  1409.14 	 OutFr   0.0000 	 RMSD     2.1023
Iter 005 	 Temp     2.99 	 Delta  1315.70 	 OutFr   0.0000 	 RMSD     2.0843
Iter 006 	 Temp     2.78 	 Delta  1235.98 	 OutFr   0.0000 	 RMSD     2.0703
Iter 007 	 Temp     2.59 	 Delta  1167.47 	 OutFr   0.0000 	 RMSD     2.0591
Iter 008 	 Temp     2.41 	 Delta  1107.99 	 OutFr   0.0000 	 RMSD     2.0506
Iter 009 	 Temp     2.24 	 Delta  1056.08 	 OutFr   0.0000 	 RMSD     2.0442
Iter 010 	 Temp     2.08 	 Delta  1010.70 	 OutFr   0.0024 	 RMSD     2.0394
Iter 011 	 Temp     1.94 	 Delta   971.29 	 OutFr   0.0024 	 RMSD     2.0360
Iter 012 	 Temp     1.80 	 Delta   937.37 	 OutFr   0.0048 	 RMSD     2.0341
Iter 013 	 Temp     1.67 	 Delta   908.12 	 OutFr   0.0048 	 RMSD     2.0329
Iter 014 	 Temp     1.56 	 Delta   882.40 	 OutFr   0.0072 	 RMSD     2.0322
Iter 015 	 Temp     1.45 	 Delta   858.89 	 OutFr   0.0145 	 RMSD     2.0314
Iter 016 	 Temp     1.35 	 Delta   836.27 	 OutFr   0.0169 	 RMSD     2.0306
Iter 017 	 Temp     1.25 	 Delta   812.37 	 OutFr   0.0290 	 RMSD     2.0296
Iter 018 	 Temp     1.16 	 Delta   784.04 	 OutFr   0.0483 	 RMSD     2.0284
Iter 019 	 Temp     1.08 	 Delta   749.85 	 OutFr   0.0507 	 RMSD     2.0274
Iter 020 	 Temp     1.01 	 Delta   709.18 	 OutFr   0.0604 	 RMSD     2.0269
Iter 021 	 Temp     0.94 	 Delta   660.82 	 OutFr   0.0652 	 RMSD     2.0277
Iter 022 	 Temp     0.87 	 Delta   608.56 	 OutFr   0.0821 	 RMSD     2.0298
Iter 023 	 Temp     0.81 	 Delta   558.60 	 OutFr   0.0990 	 RMSD     2.0327
Iter 024 	 Temp     0.75 	 Delta   513.23 	 OutFr   0.1184 	 RMSD     2.0352
Iter 025 	 Temp     0.70 	 Delta   470.53 	 OutFr   0.1280 	 RMSD     2.0368
Iter 026 	 Temp     0.65 	 Delta   431.15 	 OutFr   0.1643 	 RMSD     2.0376
Iter 027 	 Temp     0.61 	 Delta   394.27 	 OutFr   0.1908 	 RMSD     2.0370
Iter 028 	 Temp     0.56 	 Delta   355.77 	 OutFr   0.2198 	 RMSD     2.0355
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train008/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.bceu1Q2T/mybin.nii.gz
+ vtklevelset /tmp/ashs.bceu1Q2T/mybin.nii.gz /tmp/ashs.bceu1Q2T/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.bceu1Q2T/mymesh.vtk /tmp/ashs.bceu1Q2T/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2810.03302501 2860.46463865   1.01794698
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.bceu1Q2T/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train008/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -33.3711 to -8.36146
   Y : -23.2608 to 20.3004
   Z : -24.0926 to 4.43894
   Image resolution  : 101 by 155 by 111
   Image box origin  : {-38.3711, -28.2608, -29.0926}
   Image box size    : {35.0694, 53.8194, 38.8496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [38.3711, 28.2608, -29.0926]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train008/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_fwd.mat -o /tmp/ashs.bceu1Q2T/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train008/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_inv.mat -o /tmp/ashs.bceu1Q2T/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train008/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.bceu1Q2T/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train008/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=8 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=8 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.646154 0.651923
+ echo 'CHUNK 0.646154 0.651923 0.5'
CHUNK 0.646154 0.651923 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.646154 0.651923 0.5
====================================
         PROGRESS: 0.646154               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train008/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.bceu1Q2T/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.bceu1Q2T/fixed_hw.nii.gz /tmp/ashs.bceu1Q2T/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train008/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.659392, moving = 0.400743
LEVEL 1 of 3
  Smoothing sigmas: [2.33623, 2.3902, 2.40319], [0.953763, 0.975797, 0.981099]
Level     0,  Iter     0:    Energy =   0.0383
Level     0,  Iter     1:    Energy =   0.0435
Level     0,  Iter     2:    Energy =   0.0492
Level     0,  Iter     3:    Energy =   0.0538
Level     0,  Iter     4:    Energy =   0.0578
Level     0,  Iter     5:    Energy =   0.0612
Level     0,  Iter     6:    Energy =   0.0642
Level     0,  Iter     7:    Energy =   0.0663
Level     0,  Iter     8:    Energy =   0.0677
Level     0,  Iter     9:    Energy =   0.0684
Level     0,  Iter    10:    Energy =   0.0692
Level     0,  Iter    11:    Energy =   0.0695
Level     0,  Iter    12:    Energy =   0.0701
Level     0,  Iter    13:    Energy =   0.0704
Level     0,  Iter    14:    Energy =   0.0709
Level     0,  Iter    15:    Energy =   0.0709
Level     0,  Iter    16:    Energy =   0.0717
Level     0,  Iter    17:    Energy =   0.0716
Level     0,  Iter    18:    Energy =   0.0720
Level     0,  Iter    19:    Energy =   0.0720
Level     0,  Iter    20:    Energy =   0.0724
Level     0,  Iter    21:    Energy =   0.0723
Level     0,  Iter    22:    Energy =   0.0727
Level     0,  Iter    23:    Energy =   0.0726
Level     0,  Iter    24:    Energy =   0.0730
Level     0,  Iter    25:    Energy =   0.0730
Level     0,  Iter    26:    Energy =   0.0733
Level     0,  Iter    27:    Energy =   0.0732
Level     0,  Iter    28:    Energy =   0.0735
Level     0,  Iter    29:    Energy =   0.0735
Level     0,  Iter    30:    Energy =   0.0738
Level     0,  Iter    31:    Energy =   0.0737
Level     0,  Iter    32:    Energy =   0.0741
Level     0,  Iter    33:    Energy =   0.0740
Level     0,  Iter    34:    Energy =   0.0743
Level     0,  Iter    35:    Energy =   0.0742
Level     0,  Iter    36:    Energy =   0.0744
Level     0,  Iter    37:    Energy =   0.0742
Level     0,  Iter    38:    Energy =   0.0745
Level     0,  Iter    39:    Energy =   0.0745
Level     0,  Iter    40:    Energy =   0.0747
Level     0,  Iter    41:    Energy =   0.0749
Level     0,  Iter    42:    Energy =   0.0750
Level     0,  Iter    43:    Energy =   0.0748
Level     0,  Iter    44:    Energy =   0.0749
Level     0,  Iter    45:    Energy =   0.0748
Level     0,  Iter    46:    Energy =   0.0750
Level     0,  Iter    47:    Energy =   0.0748
Level     0,  Iter    48:    Energy =   0.0750
Level     0,  Iter    49:    Energy =   0.0748
Level     0,  Iter    50:    Energy =   0.0751
Level     0,  Iter    51:    Energy =   0.0748
Level     0,  Iter    52:    Energy =   0.0752
Level     0,  Iter    53:    Energy =   0.0749
Level     0,  Iter    54:    Energy =   0.0753
Level     0,  Iter    55:    Energy =   0.0751
Level     0,  Iter    56:    Energy =   0.0754
Level     0,  Iter    57:    Energy =   0.0751
Level     0,  Iter    58:    Energy =   0.0754
Level     0,  Iter    59:    Energy =   0.0750
END OF LEVEL     0    DetJac Range:   0.1061  to   2.0171 
  Avg. Gradient Time  : 0.0072s  37.49% 
  Avg. Gaussian Time  : 0.0092s  47.61% 
  Avg. Iteration Time : 0.0193s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19102, 1.1951, 1.2016], [0.486232, 0.487898, 0.49055]
Level     1,  Iter     0:    Energy =   0.0502
Level     1,  Iter     1:    Energy =   0.0536
Level     1,  Iter     2:    Energy =   0.0563
Level     1,  Iter     3:    Energy =   0.0583
Level     1,  Iter     4:    Energy =   0.0597
Level     1,  Iter     5:    Energy =   0.0609
Level     1,  Iter     6:    Energy =   0.0621
Level     1,  Iter     7:    Energy =   0.0631
Level     1,  Iter     8:    Energy =   0.0639
Level     1,  Iter     9:    Energy =   0.0646
Level     1,  Iter    10:    Energy =   0.0652
Level     1,  Iter    11:    Energy =   0.0657
Level     1,  Iter    12:    Energy =   0.0662
Level     1,  Iter    13:    Energy =   0.0666
Level     1,  Iter    14:    Energy =   0.0670
Level     1,  Iter    15:    Energy =   0.0674
Level     1,  Iter    16:    Energy =   0.0677
Level     1,  Iter    17:    Energy =   0.0680
Level     1,  Iter    18:    Energy =   0.0683
Level     1,  Iter    19:    Energy =   0.0686
Level     1,  Iter    20:    Energy =   0.0689
Level     1,  Iter    21:    Energy =   0.0693
Level     1,  Iter    22:    Energy =   0.0696
Level     1,  Iter    23:    Energy =   0.0698
Level     1,  Iter    24:    Energy =   0.0701
Level     1,  Iter    25:    Energy =   0.0703
Level     1,  Iter    26:    Energy =   0.0705
Level     1,  Iter    27:    Energy =   0.0708
Level     1,  Iter    28:    Energy =   0.0710
Level     1,  Iter    29:    Energy =   0.0713
Level     1,  Iter    30:    Energy =   0.0716
Level     1,  Iter    31:    Energy =   0.0718
Level     1,  Iter    32:    Energy =   0.0720
Level     1,  Iter    33:    Energy =   0.0723
Level     1,  Iter    34:    Energy =   0.0725
Level     1,  Iter    35:    Energy =   0.0727
Level     1,  Iter    36:    Energy =   0.0729
Level     1,  Iter    37:    Energy =   0.0730
Level     1,  Iter    38:    Energy =   0.0731
Level     1,  Iter    39:    Energy =   0.0733
Level     1,  Iter    40:    Energy =   0.0733
Level     1,  Iter    41:    Energy =   0.0733
Level     1,  Iter    42:    Energy =   0.0733
Level     1,  Iter    43:    Energy =   0.0734
Level     1,  Iter    44:    Energy =   0.0733
Level     1,  Iter    45:    Energy =   0.0734
Level     1,  Iter    46:    Energy =   0.0733
Level     1,  Iter    47:    Energy =   0.0734
Level     1,  Iter    48:    Energy =   0.0733
Level     1,  Iter    49:    Energy =   0.0734
Level     1,  Iter    50:    Energy =   0.0733
Level     1,  Iter    51:    Energy =   0.0734
Level     1,  Iter    52:    Energy =   0.0734
Level     1,  Iter    53:    Energy =   0.0735
Level     1,  Iter    54:    Energy =   0.0735
Level     1,  Iter    55:    Energy =   0.0736
Level     1,  Iter    56:    Energy =   0.0735
Level     1,  Iter    57:    Energy =   0.0736
Level     1,  Iter    58:    Energy =   0.0736
Level     1,  Iter    59:    Energy =   0.0737
END OF LEVEL     1    DetJac Range:   0.0403  to   3.1464 
  Avg. Gradient Time  : 0.0440s  39.78% 
  Avg. Gaussian Time  : 0.0534s  48.24% 
  Avg. Iteration Time : 0.1107s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0370
Level     2,  Iter     1:    Energy =   0.0387
Level     2,  Iter     2:    Energy =   0.0402
Level     2,  Iter     3:    Energy =   0.0417
Level     2,  Iter     4:    Energy =   0.0431
Level     2,  Iter     5:    Energy =   0.0442
Level     2,  Iter     6:    Energy =   0.0456
Level     2,  Iter     7:    Energy =   0.0469
Level     2,  Iter     8:    Energy =   0.0480
Level     2,  Iter     9:    Energy =   0.0492
Level     2,  Iter    10:    Energy =   0.0502
Level     2,  Iter    11:    Energy =   0.0511
Level     2,  Iter    12:    Energy =   0.0518
Level     2,  Iter    13:    Energy =   0.0523
Level     2,  Iter    14:    Energy =   0.0528
Level     2,  Iter    15:    Energy =   0.0532
Level     2,  Iter    16:    Energy =   0.0536
Level     2,  Iter    17:    Energy =   0.0540
Level     2,  Iter    18:    Energy =   0.0543
Level     2,  Iter    19:    Energy =   0.0546
END OF LEVEL     2    DetJac Range:   0.0302  to   4.7362 
  Avg. Gradient Time  : 0.2772s  37.80% 
  Avg. Gaussian Time  : 0.3791s  51.68% 
  Avg. Iteration Time : 0.7335s 

real	0m25.548s
user	0m44.996s
sys	0m2.788s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train008/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train008/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=8 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=8 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.646154 0.651923
+ echo 'CHUNK 0.646154 0.651923 1'
CHUNK 0.646154 0.651923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.646154 0.651923 1
====================================
         PROGRESS: 0.646154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=009
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 009
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train009
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train009
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 009 left 0
+ local tid=009
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 009 0
+ set -e
+ local tid=009
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train009/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2552.06 	 OutFr   0.0000 	 RMSD     3.1082
Iter 002 	 Temp     3.72 	 Delta  2594.28 	 OutFr   0.0000 	 RMSD     2.3821
Iter 003 	 Temp     3.46 	 Delta  2568.23 	 OutFr   0.0000 	 RMSD     2.3945
Iter 004 	 Temp     3.22 	 Delta  2483.23 	 OutFr   0.0000 	 RMSD     2.4034
Iter 005 	 Temp     2.99 	 Delta  2364.55 	 OutFr   0.0000 	 RMSD     2.3986
Iter 006 	 Temp     2.78 	 Delta  2226.05 	 OutFr   0.0000 	 RMSD     2.3874
Iter 007 	 Temp     2.59 	 Delta  2076.09 	 OutFr   0.0000 	 RMSD     2.3725
Iter 008 	 Temp     2.41 	 Delta  1921.99 	 OutFr   0.0000 	 RMSD     2.3560
Iter 009 	 Temp     2.24 	 Delta  1769.68 	 OutFr   0.0000 	 RMSD     2.3387
Iter 010 	 Temp     2.08 	 Delta  1621.52 	 OutFr   0.0000 	 RMSD     2.3252
Iter 011 	 Temp     1.94 	 Delta  1478.93 	 OutFr   0.0000 	 RMSD     2.3122
Iter 012 	 Temp     1.80 	 Delta  1348.03 	 OutFr   0.0048 	 RMSD     2.3021
Iter 013 	 Temp     1.67 	 Delta  1238.77 	 OutFr   0.0097 	 RMSD     2.2973
Iter 014 	 Temp     1.56 	 Delta  1151.53 	 OutFr   0.0097 	 RMSD     2.2960
Iter 015 	 Temp     1.45 	 Delta  1077.60 	 OutFr   0.0145 	 RMSD     2.2964
Iter 016 	 Temp     1.35 	 Delta  1010.56 	 OutFr   0.0193 	 RMSD     2.2996
Iter 017 	 Temp     1.25 	 Delta   949.16 	 OutFr   0.0314 	 RMSD     2.3045
Iter 018 	 Temp     1.16 	 Delta   889.77 	 OutFr   0.0338 	 RMSD     2.3099
Iter 019 	 Temp     1.08 	 Delta   829.25 	 OutFr   0.0459 	 RMSD     2.3161
Iter 020 	 Temp     1.01 	 Delta   766.53 	 OutFr   0.0580 	 RMSD     2.3207
Iter 021 	 Temp     0.94 	 Delta   701.26 	 OutFr   0.0725 	 RMSD     2.3252
Iter 022 	 Temp     0.87 	 Delta   638.20 	 OutFr   0.0870 	 RMSD     2.3291
Iter 023 	 Temp     0.81 	 Delta   581.72 	 OutFr   0.1159 	 RMSD     2.3331
Iter 024 	 Temp     0.75 	 Delta   531.61 	 OutFr   0.1401 	 RMSD     2.3387
Iter 025 	 Temp     0.70 	 Delta   487.45 	 OutFr   0.1594 	 RMSD     2.3449
Iter 026 	 Temp     0.65 	 Delta   450.18 	 OutFr   0.1860 	 RMSD     2.3513
Iter 027 	 Temp     0.61 	 Delta   417.41 	 OutFr   0.2222 	 RMSD     2.3574
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train009/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.FolVX4RV/mybin.nii.gz
+ vtklevelset /tmp/ashs.FolVX4RV/mybin.nii.gz /tmp/ashs.FolVX4RV/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.FolVX4RV/mymesh.vtk /tmp/ashs.FolVX4RV/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2810.03302501 2843.38116216   1.01186752
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.FolVX4RV/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train009/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -31.9444 to -8.79454
   Y : -19.1289 to 27.799
   Z : -19.2355 to 6.21181
   Image resolution  : 96 by 164 by 102
   Image box origin  : {-36.9444, -24.1289, -24.2355}
   Image box size    : {33.3333, 56.9444, 35.6996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [36.9444, 24.1289, -24.2355]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train009/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_fwd.mat -o /tmp/ashs.FolVX4RV/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train009/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_inv.mat -o /tmp/ashs.FolVX4RV/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train009/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.FolVX4RV/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train009/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=9 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=9 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.651923 0.657692
+ echo 'CHUNK 0.651923 0.657692 0.5'
CHUNK 0.651923 0.657692 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.651923 0.657692 0.5
====================================
         PROGRESS: 0.651923               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train009/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.FolVX4RV/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.FolVX4RV/fixed_hw.nii.gz /tmp/ashs.FolVX4RV/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train009/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.59489, moving = 0.678778
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.40562, 2.37821], [0.982092, 0.982092, 0.970901]
Level     0,  Iter     0:    Energy =   0.0418
Level     0,  Iter     1:    Energy =   0.0485
Level     0,  Iter     2:    Energy =   0.0567
Level     0,  Iter     3:    Energy =   0.0630
Level     0,  Iter     4:    Energy =   0.0676
Level     0,  Iter     5:    Energy =   0.0715
Level     0,  Iter     6:    Energy =   0.0750
Level     0,  Iter     7:    Energy =   0.0778
Level     0,  Iter     8:    Energy =   0.0798
Level     0,  Iter     9:    Energy =   0.0821
Level     0,  Iter    10:    Energy =   0.0846
Level     0,  Iter    11:    Energy =   0.0864
Level     0,  Iter    12:    Energy =   0.0877
Level     0,  Iter    13:    Energy =   0.0889
Level     0,  Iter    14:    Energy =   0.0896
Level     0,  Iter    15:    Energy =   0.0901
Level     0,  Iter    16:    Energy =   0.0897
Level     0,  Iter    17:    Energy =   0.0900
Level     0,  Iter    18:    Energy =   0.0897
Level     0,  Iter    19:    Energy =   0.0900
Level     0,  Iter    20:    Energy =   0.0898
Level     0,  Iter    21:    Energy =   0.0901
Level     0,  Iter    22:    Energy =   0.0900
Level     0,  Iter    23:    Energy =   0.0904
Level     0,  Iter    24:    Energy =   0.0902
Level     0,  Iter    25:    Energy =   0.0906
Level     0,  Iter    26:    Energy =   0.0903
Level     0,  Iter    27:    Energy =   0.0907
Level     0,  Iter    28:    Energy =   0.0905
Level     0,  Iter    29:    Energy =   0.0909
Level     0,  Iter    30:    Energy =   0.0906
Level     0,  Iter    31:    Energy =   0.0910
Level     0,  Iter    32:    Energy =   0.0907
Level     0,  Iter    33:    Energy =   0.0912
Level     0,  Iter    34:    Energy =   0.0908
Level     0,  Iter    35:    Energy =   0.0912
Level     0,  Iter    36:    Energy =   0.0909
Level     0,  Iter    37:    Energy =   0.0913
Level     0,  Iter    38:    Energy =   0.0909
Level     0,  Iter    39:    Energy =   0.0913
Level     0,  Iter    40:    Energy =   0.0910
Level     0,  Iter    41:    Energy =   0.0913
Level     0,  Iter    42:    Energy =   0.0910
Level     0,  Iter    43:    Energy =   0.0913
Level     0,  Iter    44:    Energy =   0.0910
Level     0,  Iter    45:    Energy =   0.0914
Level     0,  Iter    46:    Energy =   0.0911
Level     0,  Iter    47:    Energy =   0.0914
Level     0,  Iter    48:    Energy =   0.0911
Level     0,  Iter    49:    Energy =   0.0914
Level     0,  Iter    50:    Energy =   0.0911
Level     0,  Iter    51:    Energy =   0.0914
Level     0,  Iter    52:    Energy =   0.0911
Level     0,  Iter    53:    Energy =   0.0914
Level     0,  Iter    54:    Energy =   0.0912
Level     0,  Iter    55:    Energy =   0.0915
Level     0,  Iter    56:    Energy =   0.0912
Level     0,  Iter    57:    Energy =   0.0915
Level     0,  Iter    58:    Energy =   0.0912
Level     0,  Iter    59:    Energy =   0.0915
END OF LEVEL     0    DetJac Range:   0.2096  to   2.3089 
  Avg. Gradient Time  : 0.0070s  37.82% 
  Avg. Gaussian Time  : 0.0088s  47.13% 
  Avg. Iteration Time : 0.0186s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.21242], [0.491046, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0608
Level     1,  Iter     1:    Energy =   0.0652
Level     1,  Iter     2:    Energy =   0.0684
Level     1,  Iter     3:    Energy =   0.0716
Level     1,  Iter     4:    Energy =   0.0748
Level     1,  Iter     5:    Energy =   0.0776
Level     1,  Iter     6:    Energy =   0.0795
Level     1,  Iter     7:    Energy =   0.0810
Level     1,  Iter     8:    Energy =   0.0829
Level     1,  Iter     9:    Energy =   0.0846
Level     1,  Iter    10:    Energy =   0.0855
Level     1,  Iter    11:    Energy =   0.0862
Level     1,  Iter    12:    Energy =   0.0868
Level     1,  Iter    13:    Energy =   0.0875
Level     1,  Iter    14:    Energy =   0.0879
Level     1,  Iter    15:    Energy =   0.0877
Level     1,  Iter    16:    Energy =   0.0886
Level     1,  Iter    17:    Energy =   0.0885
Level     1,  Iter    18:    Energy =   0.0891
Level     1,  Iter    19:    Energy =   0.0889
Level     1,  Iter    20:    Energy =   0.0894
Level     1,  Iter    21:    Energy =   0.0892
Level     1,  Iter    22:    Energy =   0.0896
Level     1,  Iter    23:    Energy =   0.0893
Level     1,  Iter    24:    Energy =   0.0897
Level     1,  Iter    25:    Energy =   0.0896
Level     1,  Iter    26:    Energy =   0.0900
Level     1,  Iter    27:    Energy =   0.0897
Level     1,  Iter    28:    Energy =   0.0900
Level     1,  Iter    29:    Energy =   0.0902
Level     1,  Iter    30:    Energy =   0.0904
Level     1,  Iter    31:    Energy =   0.0901
Level     1,  Iter    32:    Energy =   0.0904
Level     1,  Iter    33:    Energy =   0.0903
Level     1,  Iter    34:    Energy =   0.0904
Level     1,  Iter    35:    Energy =   0.0903
Level     1,  Iter    36:    Energy =   0.0905
Level     1,  Iter    37:    Energy =   0.0904
Level     1,  Iter    38:    Energy =   0.0905
Level     1,  Iter    39:    Energy =   0.0904
Level     1,  Iter    40:    Energy =   0.0905
Level     1,  Iter    41:    Energy =   0.0905
Level     1,  Iter    42:    Energy =   0.0905
Level     1,  Iter    43:    Energy =   0.0905
Level     1,  Iter    44:    Energy =   0.0906
Level     1,  Iter    45:    Energy =   0.0905
Level     1,  Iter    46:    Energy =   0.0905
Level     1,  Iter    47:    Energy =   0.0907
Level     1,  Iter    48:    Energy =   0.0906
Level     1,  Iter    49:    Energy =   0.0907
Level     1,  Iter    50:    Energy =   0.0906
Level     1,  Iter    51:    Energy =   0.0909
Level     1,  Iter    52:    Energy =   0.0907
Level     1,  Iter    53:    Energy =   0.0910
Level     1,  Iter    54:    Energy =   0.0907
Level     1,  Iter    55:    Energy =   0.0909
Level     1,  Iter    56:    Energy =   0.0907
Level     1,  Iter    57:    Energy =   0.0910
Level     1,  Iter    58:    Energy =   0.0906
Level     1,  Iter    59:    Energy =   0.0909
END OF LEVEL     1    DetJac Range:   0.1902  to   3.8507 
  Avg. Gradient Time  : 0.0405s  40.68% 
  Avg. Gaussian Time  : 0.0472s  47.39% 
  Avg. Iteration Time : 0.0997s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0457
Level     2,  Iter     1:    Energy =   0.0480
Level     2,  Iter     2:    Energy =   0.0503
Level     2,  Iter     3:    Energy =   0.0524
Level     2,  Iter     4:    Energy =   0.0543
Level     2,  Iter     5:    Energy =   0.0560
Level     2,  Iter     6:    Energy =   0.0575
Level     2,  Iter     7:    Energy =   0.0588
Level     2,  Iter     8:    Energy =   0.0598
Level     2,  Iter     9:    Energy =   0.0607
Level     2,  Iter    10:    Energy =   0.0617
Level     2,  Iter    11:    Energy =   0.0625
Level     2,  Iter    12:    Energy =   0.0633
Level     2,  Iter    13:    Energy =   0.0639
Level     2,  Iter    14:    Energy =   0.0646
Level     2,  Iter    15:    Energy =   0.0650
Level     2,  Iter    16:    Energy =   0.0655
Level     2,  Iter    17:    Energy =   0.0655
Level     2,  Iter    18:    Energy =   0.0659
Level     2,  Iter    19:    Energy =   0.0661
END OF LEVEL     2    DetJac Range:   0.1307  to   6.5067 
  Avg. Gradient Time  : 0.2901s  38.04% 
  Avg. Gaussian Time  : 0.3909s  51.27% 
  Avg. Iteration Time : 0.7625s 

real	0m25.346s
user	0m44.592s
sys	0m2.528s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train009/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train009/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=9 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=9 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.651923 0.657692
+ echo 'CHUNK 0.651923 0.657692 1'
CHUNK 0.651923 0.657692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.651923 0.657692 1
====================================
         PROGRESS: 0.651923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=010
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 010
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train010
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train010
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 010 left 0
+ local tid=010
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 010 0
+ set -e
+ local tid=010
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train010/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1625.62 	 OutFr   0.0000 	 RMSD     3.6812
Iter 002 	 Temp     3.72 	 Delta  1433.17 	 OutFr   0.0000 	 RMSD     2.2076
Iter 003 	 Temp     3.46 	 Delta  1345.52 	 OutFr   0.0000 	 RMSD     2.1410
Iter 004 	 Temp     3.22 	 Delta  1286.88 	 OutFr   0.0000 	 RMSD     2.1081
Iter 005 	 Temp     2.99 	 Delta  1243.35 	 OutFr   0.0000 	 RMSD     2.0867
Iter 006 	 Temp     2.78 	 Delta  1210.27 	 OutFr   0.0000 	 RMSD     2.0717
Iter 007 	 Temp     2.59 	 Delta  1185.21 	 OutFr   0.0000 	 RMSD     2.0604
Iter 008 	 Temp     2.41 	 Delta  1166.06 	 OutFr   0.0000 	 RMSD     2.0516
Iter 009 	 Temp     2.24 	 Delta  1150.70 	 OutFr   0.0000 	 RMSD     2.0444
Iter 010 	 Temp     2.08 	 Delta  1137.01 	 OutFr   0.0024 	 RMSD     2.0383
Iter 011 	 Temp     1.94 	 Delta  1123.02 	 OutFr   0.0024 	 RMSD     2.0329
Iter 012 	 Temp     1.80 	 Delta  1106.94 	 OutFr   0.0024 	 RMSD     2.0284
Iter 013 	 Temp     1.67 	 Delta  1087.41 	 OutFr   0.0024 	 RMSD     2.0245
Iter 014 	 Temp     1.56 	 Delta  1063.56 	 OutFr   0.0024 	 RMSD     2.0213
Iter 015 	 Temp     1.45 	 Delta  1034.35 	 OutFr   0.0097 	 RMSD     2.0183
Iter 016 	 Temp     1.35 	 Delta  1000.01 	 OutFr   0.0097 	 RMSD     2.0158
Iter 017 	 Temp     1.25 	 Delta   964.02 	 OutFr   0.0121 	 RMSD     2.0136
Iter 018 	 Temp     1.16 	 Delta   927.56 	 OutFr   0.0193 	 RMSD     2.0119
Iter 019 	 Temp     1.08 	 Delta   887.49 	 OutFr   0.0266 	 RMSD     2.0102
Iter 020 	 Temp     1.01 	 Delta   841.61 	 OutFr   0.0386 	 RMSD     2.0087
Iter 021 	 Temp     0.94 	 Delta   792.20 	 OutFr   0.0507 	 RMSD     2.0073
Iter 022 	 Temp     0.87 	 Delta   743.54 	 OutFr   0.0556 	 RMSD     2.0066
Iter 023 	 Temp     0.81 	 Delta   693.81 	 OutFr   0.0652 	 RMSD     2.0062
Iter 024 	 Temp     0.75 	 Delta   637.14 	 OutFr   0.0725 	 RMSD     2.0062
Iter 025 	 Temp     0.70 	 Delta   572.24 	 OutFr   0.0918 	 RMSD     2.0060
Iter 026 	 Temp     0.65 	 Delta   505.45 	 OutFr   0.1425 	 RMSD     2.0060
Iter 027 	 Temp     0.61 	 Delta   442.75 	 OutFr   0.1884 	 RMSD     2.0071
Iter 028 	 Temp     0.56 	 Delta   384.61 	 OutFr   0.2271 	 RMSD     2.0089
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train010/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.4bRPzgQh/mybin.nii.gz
+ vtklevelset /tmp/ashs.4bRPzgQh/mybin.nii.gz /tmp/ashs.4bRPzgQh/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.4bRPzgQh/mymesh.vtk /tmp/ashs.4bRPzgQh/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2810.03302501 2874.49921171   1.02294143
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.4bRPzgQh/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train010/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -34.0639 to -9.84369
   Y : -21.1446 to 22.757
   Z : -13.7558 to 15.8338
   Image resolution  : 99 by 156 by 114
   Image box origin  : {-39.0639, -26.1446, -18.7558}
   Image box size    : {34.375, 54.1666, 39.8995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [39.0639, 26.1446, -18.7558]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train010/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_fwd.mat -o /tmp/ashs.4bRPzgQh/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train010/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_inv.mat -o /tmp/ashs.4bRPzgQh/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train010/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.4bRPzgQh/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train010/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=10 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=10 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.657692 0.663462
+ echo 'CHUNK 0.657692 0.663462 0.5'
CHUNK 0.657692 0.663462 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.657692 0.663462 0.5
====================================
         PROGRESS: 0.657692               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train010/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.4bRPzgQh/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.4bRPzgQh/fixed_hw.nii.gz /tmp/ashs.4bRPzgQh/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train010/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.656629, moving = 0.425793
LEVEL 1 of 3
  Smoothing sigmas: [2.38157, 2.40562, 2.38304], [0.972271, 0.982092, 0.97287]
Level     0,  Iter     0:    Energy =   0.0587
Level     0,  Iter     1:    Energy =   0.0672
Level     0,  Iter     2:    Energy =   0.0727
Level     0,  Iter     3:    Energy =   0.0774
Level     0,  Iter     4:    Energy =   0.0809
Level     0,  Iter     5:    Energy =   0.0836
Level     0,  Iter     6:    Energy =   0.0860
Level     0,  Iter     7:    Energy =   0.0880
Level     0,  Iter     8:    Energy =   0.0894
Level     0,  Iter     9:    Energy =   0.0905
Level     0,  Iter    10:    Energy =   0.0912
Level     0,  Iter    11:    Energy =   0.0917
Level     0,  Iter    12:    Energy =   0.0920
Level     0,  Iter    13:    Energy =   0.0926
Level     0,  Iter    14:    Energy =   0.0929
Level     0,  Iter    15:    Energy =   0.0931
Level     0,  Iter    16:    Energy =   0.0935
Level     0,  Iter    17:    Energy =   0.0939
Level     0,  Iter    18:    Energy =   0.0941
Level     0,  Iter    19:    Energy =   0.0940
Level     0,  Iter    20:    Energy =   0.0945
Level     0,  Iter    21:    Energy =   0.0950
Level     0,  Iter    22:    Energy =   0.0950
Level     0,  Iter    23:    Energy =   0.0949
Level     0,  Iter    24:    Energy =   0.0954
Level     0,  Iter    25:    Energy =   0.0958
Level     0,  Iter    26:    Energy =   0.0957
Level     0,  Iter    27:    Energy =   0.0955
Level     0,  Iter    28:    Energy =   0.0958
Level     0,  Iter    29:    Energy =   0.0961
Level     0,  Iter    30:    Energy =   0.0960
Level     0,  Iter    31:    Energy =   0.0958
Level     0,  Iter    32:    Energy =   0.0962
Level     0,  Iter    33:    Energy =   0.0965
Level     0,  Iter    34:    Energy =   0.0964
Level     0,  Iter    35:    Energy =   0.0961
Level     0,  Iter    36:    Energy =   0.0965
Level     0,  Iter    37:    Energy =   0.0968
Level     0,  Iter    38:    Energy =   0.0967
Level     0,  Iter    39:    Energy =   0.0964
Level     0,  Iter    40:    Energy =   0.0967
Level     0,  Iter    41:    Energy =   0.0970
Level     0,  Iter    42:    Energy =   0.0969
Level     0,  Iter    43:    Energy =   0.0966
Level     0,  Iter    44:    Energy =   0.0969
Level     0,  Iter    45:    Energy =   0.0972
Level     0,  Iter    46:    Energy =   0.0971
Level     0,  Iter    47:    Energy =   0.0968
Level     0,  Iter    48:    Energy =   0.0970
Level     0,  Iter    49:    Energy =   0.0974
Level     0,  Iter    50:    Energy =   0.0972
Level     0,  Iter    51:    Energy =   0.0970
Level     0,  Iter    52:    Energy =   0.0972
Level     0,  Iter    53:    Energy =   0.0974
Level     0,  Iter    54:    Energy =   0.0973
Level     0,  Iter    55:    Energy =   0.0970
Level     0,  Iter    56:    Energy =   0.0972
Level     0,  Iter    57:    Energy =   0.0975
Level     0,  Iter    58:    Energy =   0.0973
Level     0,  Iter    59:    Energy =   0.0969
END OF LEVEL     0    DetJac Range:   0.2093  to   1.9179 
  Avg. Gradient Time  : 0.0073s  37.46% 
  Avg. Gaussian Time  : 0.0092s  47.24% 
  Avg. Iteration Time : 0.0195s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19078, 1.20281, 1.21242], [0.486136, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0695
Level     1,  Iter     1:    Energy =   0.0732
Level     1,  Iter     2:    Energy =   0.0765
Level     1,  Iter     3:    Energy =   0.0795
Level     1,  Iter     4:    Energy =   0.0819
Level     1,  Iter     5:    Energy =   0.0840
Level     1,  Iter     6:    Energy =   0.0857
Level     1,  Iter     7:    Energy =   0.0870
Level     1,  Iter     8:    Energy =   0.0883
Level     1,  Iter     9:    Energy =   0.0892
Level     1,  Iter    10:    Energy =   0.0900
Level     1,  Iter    11:    Energy =   0.0907
Level     1,  Iter    12:    Energy =   0.0914
Level     1,  Iter    13:    Energy =   0.0917
Level     1,  Iter    14:    Energy =   0.0920
Level     1,  Iter    15:    Energy =   0.0920
Level     1,  Iter    16:    Energy =   0.0921
Level     1,  Iter    17:    Energy =   0.0922
Level     1,  Iter    18:    Energy =   0.0922
Level     1,  Iter    19:    Energy =   0.0924
Level     1,  Iter    20:    Energy =   0.0924
Level     1,  Iter    21:    Energy =   0.0926
Level     1,  Iter    22:    Energy =   0.0926
Level     1,  Iter    23:    Energy =   0.0927
Level     1,  Iter    24:    Energy =   0.0927
Level     1,  Iter    25:    Energy =   0.0928
Level     1,  Iter    26:    Energy =   0.0928
Level     1,  Iter    27:    Energy =   0.0928
Level     1,  Iter    28:    Energy =   0.0930
Level     1,  Iter    29:    Energy =   0.0930
Level     1,  Iter    30:    Energy =   0.0931
Level     1,  Iter    31:    Energy =   0.0931
Level     1,  Iter    32:    Energy =   0.0932
Level     1,  Iter    33:    Energy =   0.0932
Level     1,  Iter    34:    Energy =   0.0933
Level     1,  Iter    35:    Energy =   0.0933
Level     1,  Iter    36:    Energy =   0.0933
Level     1,  Iter    37:    Energy =   0.0933
Level     1,  Iter    38:    Energy =   0.0934
Level     1,  Iter    39:    Energy =   0.0934
Level     1,  Iter    40:    Energy =   0.0935
Level     1,  Iter    41:    Energy =   0.0934
Level     1,  Iter    42:    Energy =   0.0936
Level     1,  Iter    43:    Energy =   0.0935
Level     1,  Iter    44:    Energy =   0.0937
Level     1,  Iter    45:    Energy =   0.0936
Level     1,  Iter    46:    Energy =   0.0937
Level     1,  Iter    47:    Energy =   0.0936
Level     1,  Iter    48:    Energy =   0.0938
Level     1,  Iter    49:    Energy =   0.0937
Level     1,  Iter    50:    Energy =   0.0938
Level     1,  Iter    51:    Energy =   0.0937
Level     1,  Iter    52:    Energy =   0.0939
Level     1,  Iter    53:    Energy =   0.0937
Level     1,  Iter    54:    Energy =   0.0939
Level     1,  Iter    55:    Energy =   0.0937
Level     1,  Iter    56:    Energy =   0.0940
Level     1,  Iter    57:    Energy =   0.0939
Level     1,  Iter    58:    Energy =   0.0939
Level     1,  Iter    59:    Energy =   0.0938
END OF LEVEL     1    DetJac Range:   0.0937  to   2.6371 
  Avg. Gradient Time  : 0.0442s  40.38% 
  Avg. Gaussian Time  : 0.0524s  47.83% 
  Avg. Iteration Time : 0.1095s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0504
Level     2,  Iter     1:    Energy =   0.0531
Level     2,  Iter     2:    Energy =   0.0554
Level     2,  Iter     3:    Energy =   0.0572
Level     2,  Iter     4:    Energy =   0.0586
Level     2,  Iter     5:    Energy =   0.0599
Level     2,  Iter     6:    Energy =   0.0611
Level     2,  Iter     7:    Energy =   0.0621
Level     2,  Iter     8:    Energy =   0.0632
Level     2,  Iter     9:    Energy =   0.0642
Level     2,  Iter    10:    Energy =   0.0649
Level     2,  Iter    11:    Energy =   0.0655
Level     2,  Iter    12:    Energy =   0.0660
Level     2,  Iter    13:    Energy =   0.0665
Level     2,  Iter    14:    Energy =   0.0669
Level     2,  Iter    15:    Energy =   0.0674
Level     2,  Iter    16:    Energy =   0.0678
Level     2,  Iter    17:    Energy =   0.0683
Level     2,  Iter    18:    Energy =   0.0687
Level     2,  Iter    19:    Energy =   0.0690
END OF LEVEL     2    DetJac Range:   0.0869  to   5.1171 
  Avg. Gradient Time  : 0.3076s  37.23% 
  Avg. Gaussian Time  : 0.4297s  52.00% 
  Avg. Iteration Time : 0.8263s 

real	0m27.514s
user	0m48.556s
sys	0m2.716s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train010/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train010/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=10 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=10 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.657692 0.663462
+ echo 'CHUNK 0.657692 0.663462 1'
CHUNK 0.657692 0.663462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.657692 0.663462 1
====================================
         PROGRESS: 0.657692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=011
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 011
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train011
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train011
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 011 left 0
+ local tid=011
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 011 0
+ set -e
+ local tid=011
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train011/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1933.80 	 OutFr   0.0024 	 RMSD     3.0724
Iter 002 	 Temp     3.72 	 Delta  1810.34 	 OutFr   0.0000 	 RMSD     2.3811
Iter 003 	 Temp     3.46 	 Delta  1711.37 	 OutFr   0.0000 	 RMSD     2.3690
Iter 004 	 Temp     3.22 	 Delta  1602.90 	 OutFr   0.0000 	 RMSD     2.3475
Iter 005 	 Temp     2.99 	 Delta  1498.87 	 OutFr   0.0024 	 RMSD     2.3269
Iter 006 	 Temp     2.78 	 Delta  1406.80 	 OutFr   0.0048 	 RMSD     2.3094
Iter 007 	 Temp     2.59 	 Delta  1327.75 	 OutFr   0.0072 	 RMSD     2.2960
Iter 008 	 Temp     2.41 	 Delta  1260.19 	 OutFr   0.0072 	 RMSD     2.2862
Iter 009 	 Temp     2.24 	 Delta  1202.16 	 OutFr   0.0097 	 RMSD     2.2787
Iter 010 	 Temp     2.08 	 Delta  1151.49 	 OutFr   0.0097 	 RMSD     2.2729
Iter 011 	 Temp     1.94 	 Delta  1105.25 	 OutFr   0.0097 	 RMSD     2.2679
Iter 012 	 Temp     1.80 	 Delta  1060.18 	 OutFr   0.0169 	 RMSD     2.2639
Iter 013 	 Temp     1.67 	 Delta  1014.49 	 OutFr   0.0217 	 RMSD     2.2601
Iter 014 	 Temp     1.56 	 Delta   969.18 	 OutFr   0.0242 	 RMSD     2.2566
Iter 015 	 Temp     1.45 	 Delta   926.33 	 OutFr   0.0290 	 RMSD     2.2541
Iter 016 	 Temp     1.35 	 Delta   886.77 	 OutFr   0.0386 	 RMSD     2.2531
Iter 017 	 Temp     1.25 	 Delta   850.42 	 OutFr   0.0435 	 RMSD     2.2534
Iter 018 	 Temp     1.16 	 Delta   815.93 	 OutFr   0.0435 	 RMSD     2.2539
Iter 019 	 Temp     1.08 	 Delta   780.88 	 OutFr   0.0483 	 RMSD     2.2544
Iter 020 	 Temp     1.01 	 Delta   743.18 	 OutFr   0.0531 	 RMSD     2.2549
Iter 021 	 Temp     0.94 	 Delta   701.52 	 OutFr   0.0652 	 RMSD     2.2553
Iter 022 	 Temp     0.87 	 Delta   656.41 	 OutFr   0.0773 	 RMSD     2.2556
Iter 023 	 Temp     0.81 	 Delta   608.41 	 OutFr   0.0870 	 RMSD     2.2562
Iter 024 	 Temp     0.75 	 Delta   554.96 	 OutFr   0.1014 	 RMSD     2.2574
Iter 025 	 Temp     0.70 	 Delta   495.99 	 OutFr   0.1159 	 RMSD     2.2596
Iter 026 	 Temp     0.65 	 Delta   435.49 	 OutFr   0.1522 	 RMSD     2.2631
Iter 027 	 Temp     0.61 	 Delta   382.59 	 OutFr   0.2005 	 RMSD     2.2685
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train011/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.DKUeAT6Q/mybin.nii.gz
+ vtklevelset /tmp/ashs.DKUeAT6Q/mybin.nii.gz /tmp/ashs.DKUeAT6Q/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.DKUeAT6Q/mymesh.vtk /tmp/ashs.DKUeAT6Q/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2810.03302501 2926.14079074   1.04131900
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.DKUeAT6Q/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train011/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -34.7345 to -10.2576
   Y : -24.0721 to 21.9084
   Z : -20.198 to 6.35961
   Image resolution  : 100 by 162 by 105
   Image box origin  : {-39.7345, -29.0721, -25.198}
   Image box size    : {34.7222, 56.25, 36.7496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [39.7345, 29.0721, -25.198]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train011/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_fwd.mat -o /tmp/ashs.DKUeAT6Q/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train011/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_inv.mat -o /tmp/ashs.DKUeAT6Q/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train011/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.DKUeAT6Q/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train011/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=11 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=11 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.663462 0.669231
+ echo 'CHUNK 0.663462 0.669231 0.5'
CHUNK 0.663462 0.669231 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.663462 0.669231 0.5
====================================
         PROGRESS: 0.663462               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train011/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.DKUeAT6Q/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.DKUeAT6Q/fixed_hw.nii.gz /tmp/ashs.DKUeAT6Q/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train011/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.667854, moving = 0.425432
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.37629, 2.35749], [0.982092, 0.970115, 0.96244]
Level     0,  Iter     0:    Energy =   0.0594
Level     0,  Iter     1:    Energy =   0.0649
Level     0,  Iter     2:    Energy =   0.0698
Level     0,  Iter     3:    Energy =   0.0727
Level     0,  Iter     4:    Energy =   0.0754
Level     0,  Iter     5:    Energy =   0.0778
Level     0,  Iter     6:    Energy =   0.0797
Level     0,  Iter     7:    Energy =   0.0801
Level     0,  Iter     8:    Energy =   0.0815
Level     0,  Iter     9:    Energy =   0.0816
Level     0,  Iter    10:    Energy =   0.0827
Level     0,  Iter    11:    Energy =   0.0827
Level     0,  Iter    12:    Energy =   0.0836
Level     0,  Iter    13:    Energy =   0.0836
Level     0,  Iter    14:    Energy =   0.0844
Level     0,  Iter    15:    Energy =   0.0844
Level     0,  Iter    16:    Energy =   0.0850
Level     0,  Iter    17:    Energy =   0.0849
Level     0,  Iter    18:    Energy =   0.0855
Level     0,  Iter    19:    Energy =   0.0853
Level     0,  Iter    20:    Energy =   0.0859
Level     0,  Iter    21:    Energy =   0.0857
Level     0,  Iter    22:    Energy =   0.0862
Level     0,  Iter    23:    Energy =   0.0860
Level     0,  Iter    24:    Energy =   0.0865
Level     0,  Iter    25:    Energy =   0.0863
Level     0,  Iter    26:    Energy =   0.0867
Level     0,  Iter    27:    Energy =   0.0866
Level     0,  Iter    28:    Energy =   0.0871
Level     0,  Iter    29:    Energy =   0.0867
Level     0,  Iter    30:    Energy =   0.0872
Level     0,  Iter    31:    Energy =   0.0871
Level     0,  Iter    32:    Energy =   0.0875
Level     0,  Iter    33:    Energy =   0.0873
Level     0,  Iter    34:    Energy =   0.0877
Level     0,  Iter    35:    Energy =   0.0875
Level     0,  Iter    36:    Energy =   0.0879
Level     0,  Iter    37:    Energy =   0.0876
Level     0,  Iter    38:    Energy =   0.0880
Level     0,  Iter    39:    Energy =   0.0878
Level     0,  Iter    40:    Energy =   0.0881
Level     0,  Iter    41:    Energy =   0.0878
Level     0,  Iter    42:    Energy =   0.0882
Level     0,  Iter    43:    Energy =   0.0878
Level     0,  Iter    44:    Energy =   0.0882
Level     0,  Iter    45:    Energy =   0.0879
Level     0,  Iter    46:    Energy =   0.0883
Level     0,  Iter    47:    Energy =   0.0879
Level     0,  Iter    48:    Energy =   0.0883
Level     0,  Iter    49:    Energy =   0.0880
Level     0,  Iter    50:    Energy =   0.0883
Level     0,  Iter    51:    Energy =   0.0879
Level     0,  Iter    52:    Energy =   0.0883
Level     0,  Iter    53:    Energy =   0.0881
Level     0,  Iter    54:    Energy =   0.0884
Level     0,  Iter    55:    Energy =   0.0880
Level     0,  Iter    56:    Energy =   0.0884
Level     0,  Iter    57:    Energy =   0.0881
Level     0,  Iter    58:    Energy =   0.0885
Level     0,  Iter    59:    Energy =   0.0881
END OF LEVEL     0    DetJac Range:   0.3099  to   1.6513 
  Avg. Gradient Time  : 0.0075s  37.50% 
  Avg. Gaussian Time  : 0.0096s  48.02% 
  Avg. Iteration Time : 0.0200s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.20098], [0.491046, 0.491046, 0.4903]
Level     1,  Iter     0:    Energy =   0.0653
Level     1,  Iter     1:    Energy =   0.0698
Level     1,  Iter     2:    Energy =   0.0732
Level     1,  Iter     3:    Energy =   0.0757
Level     1,  Iter     4:    Energy =   0.0779
Level     1,  Iter     5:    Energy =   0.0797
Level     1,  Iter     6:    Energy =   0.0809
Level     1,  Iter     7:    Energy =   0.0818
Level     1,  Iter     8:    Energy =   0.0829
Level     1,  Iter     9:    Energy =   0.0839
Level     1,  Iter    10:    Energy =   0.0847
Level     1,  Iter    11:    Energy =   0.0854
Level     1,  Iter    12:    Energy =   0.0858
Level     1,  Iter    13:    Energy =   0.0864
Level     1,  Iter    14:    Energy =   0.0868
Level     1,  Iter    15:    Energy =   0.0868
Level     1,  Iter    16:    Energy =   0.0866
Level     1,  Iter    17:    Energy =   0.0872
Level     1,  Iter    18:    Energy =   0.0869
Level     1,  Iter    19:    Energy =   0.0874
Level     1,  Iter    20:    Energy =   0.0872
Level     1,  Iter    21:    Energy =   0.0877
Level     1,  Iter    22:    Energy =   0.0874
Level     1,  Iter    23:    Energy =   0.0880
Level     1,  Iter    24:    Energy =   0.0878
Level     1,  Iter    25:    Energy =   0.0880
Level     1,  Iter    26:    Energy =   0.0877
Level     1,  Iter    27:    Energy =   0.0882
Level     1,  Iter    28:    Energy =   0.0880
Level     1,  Iter    29:    Energy =   0.0882
Level     1,  Iter    30:    Energy =   0.0879
Level     1,  Iter    31:    Energy =   0.0885
Level     1,  Iter    32:    Energy =   0.0882
Level     1,  Iter    33:    Energy =   0.0885
Level     1,  Iter    34:    Energy =   0.0881
Level     1,  Iter    35:    Energy =   0.0887
Level     1,  Iter    36:    Energy =   0.0884
Level     1,  Iter    37:    Energy =   0.0886
Level     1,  Iter    38:    Energy =   0.0883
Level     1,  Iter    39:    Energy =   0.0888
Level     1,  Iter    40:    Energy =   0.0885
Level     1,  Iter    41:    Energy =   0.0888
Level     1,  Iter    42:    Energy =   0.0884
Level     1,  Iter    43:    Energy =   0.0889
Level     1,  Iter    44:    Energy =   0.0886
Level     1,  Iter    45:    Energy =   0.0889
Level     1,  Iter    46:    Energy =   0.0885
Level     1,  Iter    47:    Energy =   0.0890
Level     1,  Iter    48:    Energy =   0.0886
Level     1,  Iter    49:    Energy =   0.0889
Level     1,  Iter    50:    Energy =   0.0886
Level     1,  Iter    51:    Energy =   0.0889
Level     1,  Iter    52:    Energy =   0.0885
Level     1,  Iter    53:    Energy =   0.0889
Level     1,  Iter    54:    Energy =   0.0886
Level     1,  Iter    55:    Energy =   0.0888
Level     1,  Iter    56:    Energy =   0.0885
Level     1,  Iter    57:    Energy =   0.0889
Level     1,  Iter    58:    Energy =   0.0886
Level     1,  Iter    59:    Energy =   0.0888
END OF LEVEL     1    DetJac Range:   0.0976  to   2.3573 
  Avg. Gradient Time  : 0.0428s  40.14% 
  Avg. Gaussian Time  : 0.0513s  48.06% 
  Avg. Iteration Time : 0.1067s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0494
Level     2,  Iter     1:    Energy =   0.0523
Level     2,  Iter     2:    Energy =   0.0547
Level     2,  Iter     3:    Energy =   0.0565
Level     2,  Iter     4:    Energy =   0.0580
Level     2,  Iter     5:    Energy =   0.0593
Level     2,  Iter     6:    Energy =   0.0604
Level     2,  Iter     7:    Energy =   0.0615
Level     2,  Iter     8:    Energy =   0.0624
Level     2,  Iter     9:    Energy =   0.0632
Level     2,  Iter    10:    Energy =   0.0637
Level     2,  Iter    11:    Energy =   0.0641
Level     2,  Iter    12:    Energy =   0.0647
Level     2,  Iter    13:    Energy =   0.0651
Level     2,  Iter    14:    Energy =   0.0655
Level     2,  Iter    15:    Energy =   0.0660
Level     2,  Iter    16:    Energy =   0.0665
Level     2,  Iter    17:    Energy =   0.0669
Level     2,  Iter    18:    Energy =   0.0673
Level     2,  Iter    19:    Energy =   0.0677
END OF LEVEL     2    DetJac Range:   0.0882  to   4.7946 
  Avg. Gradient Time  : 0.2966s  37.20% 
  Avg. Gaussian Time  : 0.4149s  52.03% 
  Avg. Iteration Time : 0.7974s 

real	0m26.672s
user	0m47.036s
sys	0m2.648s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train011/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train011/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=11 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=11 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.663462 0.669231
+ echo 'CHUNK 0.663462 0.669231 1'
CHUNK 0.663462 0.669231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.663462 0.669231 1
====================================
         PROGRESS: 0.663462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=012
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 012
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train012
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train012
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 012 left 0
+ local tid=012
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 012 0
+ set -e
+ local tid=012
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train012/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1949.17 	 OutFr   0.0048 	 RMSD     4.5187
Iter 002 	 Temp     3.72 	 Delta  1789.43 	 OutFr   0.0000 	 RMSD     2.5818
Iter 003 	 Temp     3.46 	 Delta  1705.57 	 OutFr   0.0024 	 RMSD     2.5069
Iter 004 	 Temp     3.22 	 Delta  1624.94 	 OutFr   0.0024 	 RMSD     2.4731
Iter 005 	 Temp     2.99 	 Delta  1544.24 	 OutFr   0.0024 	 RMSD     2.4533
Iter 006 	 Temp     2.78 	 Delta  1465.03 	 OutFr   0.0072 	 RMSD     2.4408
Iter 007 	 Temp     2.59 	 Delta  1389.02 	 OutFr   0.0072 	 RMSD     2.4314
Iter 008 	 Temp     2.41 	 Delta  1320.59 	 OutFr   0.0072 	 RMSD     2.4254
Iter 009 	 Temp     2.24 	 Delta  1266.38 	 OutFr   0.0121 	 RMSD     2.4223
Iter 010 	 Temp     2.08 	 Delta  1225.57 	 OutFr   0.0193 	 RMSD     2.4214
Iter 011 	 Temp     1.94 	 Delta  1190.87 	 OutFr   0.0266 	 RMSD     2.4218
Iter 012 	 Temp     1.80 	 Delta  1156.09 	 OutFr   0.0459 	 RMSD     2.4236
Iter 013 	 Temp     1.67 	 Delta  1117.40 	 OutFr   0.0459 	 RMSD     2.4263
Iter 014 	 Temp     1.56 	 Delta  1073.23 	 OutFr   0.0556 	 RMSD     2.4289
Iter 015 	 Temp     1.45 	 Delta  1023.98 	 OutFr   0.0676 	 RMSD     2.4313
Iter 016 	 Temp     1.35 	 Delta   971.30 	 OutFr   0.0700 	 RMSD     2.4334
Iter 017 	 Temp     1.25 	 Delta   917.11 	 OutFr   0.0773 	 RMSD     2.4353
Iter 018 	 Temp     1.16 	 Delta   861.90 	 OutFr   0.0942 	 RMSD     2.4371
Iter 019 	 Temp     1.08 	 Delta   805.54 	 OutFr   0.1063 	 RMSD     2.4387
Iter 020 	 Temp     1.01 	 Delta   748.15 	 OutFr   0.1232 	 RMSD     2.4404
Iter 021 	 Temp     0.94 	 Delta   689.82 	 OutFr   0.1329 	 RMSD     2.4420
Iter 022 	 Temp     0.87 	 Delta   632.54 	 OutFr   0.1546 	 RMSD     2.4433
Iter 023 	 Temp     0.81 	 Delta   580.61 	 OutFr   0.1787 	 RMSD     2.4449
Iter 024 	 Temp     0.75 	 Delta   535.66 	 OutFr   0.2005 	 RMSD     2.4472
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train012/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.ePCIx1NT/mybin.nii.gz
+ vtklevelset /tmp/ashs.ePCIx1NT/mybin.nii.gz /tmp/ashs.ePCIx1NT/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.ePCIx1NT/mymesh.vtk /tmp/ashs.ePCIx1NT/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2810.03302501 2748.99497272   0.97827853
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.ePCIx1NT/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train012/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -31.6374 to -7.3067
   Y : -19.8479 to 22.3006
   Z : -27.2807 to 2.00863
   Image resolution  : 99 by 151 by 113
   Image box origin  : {-36.6374, -24.8479, -32.2807}
   Image box size    : {34.375, 52.4305, 39.5495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [36.6374, 24.8479, -32.2807]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train012/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_fwd.mat -o /tmp/ashs.ePCIx1NT/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train012/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_inv.mat -o /tmp/ashs.ePCIx1NT/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train012/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.ePCIx1NT/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train012/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=12 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=12 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.669231 0.675
+ echo 'CHUNK 0.669231 0.675 0.5'
CHUNK 0.669231 0.675 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.669231 0.675 0.5
====================================
         PROGRESS: 0.669231               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train012/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.ePCIx1NT/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.ePCIx1NT/fixed_hw.nii.gz /tmp/ashs.ePCIx1NT/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train012/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.661999, moving = 0.777054
LEVEL 1 of 3
  Smoothing sigmas: [2.38157, 2.3898, 2.36213], [0.972271, 0.975631, 0.964336]
Level     0,  Iter     0:    Energy =   0.0555
Level     0,  Iter     1:    Energy =   0.0638
Level     0,  Iter     2:    Energy =   0.0713
Level     0,  Iter     3:    Energy =   0.0769
Level     0,  Iter     4:    Energy =   0.0819
Level     0,  Iter     5:    Energy =   0.0853
Level     0,  Iter     6:    Energy =   0.0881
Level     0,  Iter     7:    Energy =   0.0902
Level     0,  Iter     8:    Energy =   0.0914
Level     0,  Iter     9:    Energy =   0.0927
Level     0,  Iter    10:    Energy =   0.0930
Level     0,  Iter    11:    Energy =   0.0938
Level     0,  Iter    12:    Energy =   0.0939
Level     0,  Iter    13:    Energy =   0.0944
Level     0,  Iter    14:    Energy =   0.0944
Level     0,  Iter    15:    Energy =   0.0949
Level     0,  Iter    16:    Energy =   0.0949
Level     0,  Iter    17:    Energy =   0.0953
Level     0,  Iter    18:    Energy =   0.0953
Level     0,  Iter    19:    Energy =   0.0959
Level     0,  Iter    20:    Energy =   0.0959
Level     0,  Iter    21:    Energy =   0.0963
Level     0,  Iter    22:    Energy =   0.0962
Level     0,  Iter    23:    Energy =   0.0966
Level     0,  Iter    24:    Energy =   0.0965
Level     0,  Iter    25:    Energy =   0.0968
Level     0,  Iter    26:    Energy =   0.0967
Level     0,  Iter    27:    Energy =   0.0970
Level     0,  Iter    28:    Energy =   0.0969
Level     0,  Iter    29:    Energy =   0.0972
Level     0,  Iter    30:    Energy =   0.0971
Level     0,  Iter    31:    Energy =   0.0973
Level     0,  Iter    32:    Energy =   0.0972
Level     0,  Iter    33:    Energy =   0.0973
Level     0,  Iter    34:    Energy =   0.0972
Level     0,  Iter    35:    Energy =   0.0974
Level     0,  Iter    36:    Energy =   0.0973
Level     0,  Iter    37:    Energy =   0.0974
Level     0,  Iter    38:    Energy =   0.0974
Level     0,  Iter    39:    Energy =   0.0976
Level     0,  Iter    40:    Energy =   0.0974
Level     0,  Iter    41:    Energy =   0.0976
Level     0,  Iter    42:    Energy =   0.0975
Level     0,  Iter    43:    Energy =   0.0977
Level     0,  Iter    44:    Energy =   0.0976
Level     0,  Iter    45:    Energy =   0.0977
Level     0,  Iter    46:    Energy =   0.0976
Level     0,  Iter    47:    Energy =   0.0977
Level     0,  Iter    48:    Energy =   0.0976
Level     0,  Iter    49:    Energy =   0.0977
Level     0,  Iter    50:    Energy =   0.0976
Level     0,  Iter    51:    Energy =   0.0977
Level     0,  Iter    52:    Energy =   0.0976
Level     0,  Iter    53:    Energy =   0.0978
Level     0,  Iter    54:    Energy =   0.0977
Level     0,  Iter    55:    Energy =   0.0978
Level     0,  Iter    56:    Energy =   0.0977
Level     0,  Iter    57:    Energy =   0.0978
Level     0,  Iter    58:    Energy =   0.0977
Level     0,  Iter    59:    Energy =   0.0977
END OF LEVEL     0    DetJac Range:   0.3351  to   2.0495 
  Avg. Gradient Time  : 0.0073s  37.15% 
  Avg. Gaussian Time  : 0.0093s  47.54% 
  Avg. Iteration Time : 0.0196s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19078, 1.1949, 1.20179], [0.486136, 0.487815, 0.490627]
Level     1,  Iter     0:    Energy =   0.0666
Level     1,  Iter     1:    Energy =   0.0716
Level     1,  Iter     2:    Energy =   0.0749
Level     1,  Iter     3:    Energy =   0.0771
Level     1,  Iter     4:    Energy =   0.0790
Level     1,  Iter     5:    Energy =   0.0810
Level     1,  Iter     6:    Energy =   0.0827
Level     1,  Iter     7:    Energy =   0.0839
Level     1,  Iter     8:    Energy =   0.0850
Level     1,  Iter     9:    Energy =   0.0861
Level     1,  Iter    10:    Energy =   0.0862
Level     1,  Iter    11:    Energy =   0.0865
Level     1,  Iter    12:    Energy =   0.0866
Level     1,  Iter    13:    Energy =   0.0868
Level     1,  Iter    14:    Energy =   0.0869
Level     1,  Iter    15:    Energy =   0.0871
Level     1,  Iter    16:    Energy =   0.0872
Level     1,  Iter    17:    Energy =   0.0873
Level     1,  Iter    18:    Energy =   0.0874
Level     1,  Iter    19:    Energy =   0.0876
Level     1,  Iter    20:    Energy =   0.0876
Level     1,  Iter    21:    Energy =   0.0877
Level     1,  Iter    22:    Energy =   0.0878
Level     1,  Iter    23:    Energy =   0.0878
Level     1,  Iter    24:    Energy =   0.0879
Level     1,  Iter    25:    Energy =   0.0879
Level     1,  Iter    26:    Energy =   0.0880
Level     1,  Iter    27:    Energy =   0.0880
Level     1,  Iter    28:    Energy =   0.0881
Level     1,  Iter    29:    Energy =   0.0881
Level     1,  Iter    30:    Energy =   0.0882
Level     1,  Iter    31:    Energy =   0.0882
Level     1,  Iter    32:    Energy =   0.0883
Level     1,  Iter    33:    Energy =   0.0882
Level     1,  Iter    34:    Energy =   0.0884
Level     1,  Iter    35:    Energy =   0.0883
Level     1,  Iter    36:    Energy =   0.0884
Level     1,  Iter    37:    Energy =   0.0883
Level     1,  Iter    38:    Energy =   0.0884
Level     1,  Iter    39:    Energy =   0.0884
Level     1,  Iter    40:    Energy =   0.0885
Level     1,  Iter    41:    Energy =   0.0884
Level     1,  Iter    42:    Energy =   0.0885
Level     1,  Iter    43:    Energy =   0.0885
Level     1,  Iter    44:    Energy =   0.0886
Level     1,  Iter    45:    Energy =   0.0885
Level     1,  Iter    46:    Energy =   0.0885
Level     1,  Iter    47:    Energy =   0.0885
Level     1,  Iter    48:    Energy =   0.0886
Level     1,  Iter    49:    Energy =   0.0885
Level     1,  Iter    50:    Energy =   0.0886
Level     1,  Iter    51:    Energy =   0.0886
Level     1,  Iter    52:    Energy =   0.0887
Level     1,  Iter    53:    Energy =   0.0886
Level     1,  Iter    54:    Energy =   0.0887
Level     1,  Iter    55:    Energy =   0.0887
Level     1,  Iter    56:    Energy =   0.0888
Level     1,  Iter    57:    Energy =   0.0887
Level     1,  Iter    58:    Energy =   0.0888
Level     1,  Iter    59:    Energy =   0.0888
END OF LEVEL     1    DetJac Range:   0.1860  to   3.1078 
  Avg. Gradient Time  : 0.0420s  39.81% 
  Avg. Gaussian Time  : 0.0508s  48.18% 
  Avg. Iteration Time : 0.1054s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0461
Level     2,  Iter     1:    Energy =   0.0489
Level     2,  Iter     2:    Energy =   0.0509
Level     2,  Iter     3:    Energy =   0.0528
Level     2,  Iter     4:    Energy =   0.0545
Level     2,  Iter     5:    Energy =   0.0559
Level     2,  Iter     6:    Energy =   0.0572
Level     2,  Iter     7:    Energy =   0.0586
Level     2,  Iter     8:    Energy =   0.0594
Level     2,  Iter     9:    Energy =   0.0603
Level     2,  Iter    10:    Energy =   0.0611
Level     2,  Iter    11:    Energy =   0.0619
Level     2,  Iter    12:    Energy =   0.0624
Level     2,  Iter    13:    Energy =   0.0627
Level     2,  Iter    14:    Energy =   0.0632
Level     2,  Iter    15:    Energy =   0.0637
Level     2,  Iter    16:    Energy =   0.0642
Level     2,  Iter    17:    Energy =   0.0647
Level     2,  Iter    18:    Energy =   0.0652
Level     2,  Iter    19:    Energy =   0.0656
END OF LEVEL     2    DetJac Range:   0.1112  to   5.3354 
  Avg. Gradient Time  : 0.2909s  36.61% 
  Avg. Gaussian Time  : 0.4194s  52.79% 
  Avg. Iteration Time : 0.7945s 

real	0m26.522s
user	0m46.768s
sys	0m2.612s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train012/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train012/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=12 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=12 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.669231 0.675
+ echo 'CHUNK 0.669231 0.675 1'
CHUNK 0.669231 0.675 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.669231 0.675 1
====================================
         PROGRESS: 0.669231               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=013
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 013
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train013
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train013
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 013 left 0
+ local tid=013
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 013 0
+ set -e
+ local tid=013
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train013/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1516.35 	 OutFr   0.0000 	 RMSD     2.4917
Iter 002 	 Temp     3.72 	 Delta  1363.03 	 OutFr   0.0000 	 RMSD     1.9709
Iter 003 	 Temp     3.46 	 Delta  1267.00 	 OutFr   0.0000 	 RMSD     2.0195
Iter 004 	 Temp     3.22 	 Delta  1182.62 	 OutFr   0.0000 	 RMSD     2.0110
Iter 005 	 Temp     2.99 	 Delta  1108.60 	 OutFr   0.0000 	 RMSD     1.9902
Iter 006 	 Temp     2.78 	 Delta  1044.36 	 OutFr   0.0000 	 RMSD     1.9694
Iter 007 	 Temp     2.59 	 Delta   989.41 	 OutFr   0.0000 	 RMSD     1.9513
Iter 008 	 Temp     2.41 	 Delta   942.99 	 OutFr   0.0000 	 RMSD     1.9356
Iter 009 	 Temp     2.24 	 Delta   903.78 	 OutFr   0.0024 	 RMSD     1.9226
Iter 010 	 Temp     2.08 	 Delta   869.87 	 OutFr   0.0048 	 RMSD     1.9117
Iter 011 	 Temp     1.94 	 Delta   839.35 	 OutFr   0.0048 	 RMSD     1.9034
Iter 012 	 Temp     1.80 	 Delta   812.04 	 OutFr   0.0072 	 RMSD     1.8966
Iter 013 	 Temp     1.67 	 Delta   789.94 	 OutFr   0.0072 	 RMSD     1.8911
Iter 014 	 Temp     1.56 	 Delta   772.97 	 OutFr   0.0145 	 RMSD     1.8873
Iter 015 	 Temp     1.45 	 Delta   755.83 	 OutFr   0.0193 	 RMSD     1.8839
Iter 016 	 Temp     1.35 	 Delta   733.75 	 OutFr   0.0217 	 RMSD     1.8812
Iter 017 	 Temp     1.25 	 Delta   705.40 	 OutFr   0.0242 	 RMSD     1.8791
Iter 018 	 Temp     1.16 	 Delta   672.21 	 OutFr   0.0266 	 RMSD     1.8774
Iter 019 	 Temp     1.08 	 Delta   636.55 	 OutFr   0.0386 	 RMSD     1.8759
Iter 020 	 Temp     1.01 	 Delta   599.10 	 OutFr   0.0556 	 RMSD     1.8743
Iter 021 	 Temp     0.94 	 Delta   561.87 	 OutFr   0.0676 	 RMSD     1.8724
Iter 022 	 Temp     0.87 	 Delta   527.50 	 OutFr   0.0894 	 RMSD     1.8700
Iter 023 	 Temp     0.81 	 Delta   492.55 	 OutFr   0.0990 	 RMSD     1.8677
Iter 024 	 Temp     0.75 	 Delta   459.23 	 OutFr   0.1111 	 RMSD     1.8661
Iter 025 	 Temp     0.70 	 Delta   430.65 	 OutFr   0.1353 	 RMSD     1.8659
Iter 026 	 Temp     0.65 	 Delta   405.80 	 OutFr   0.1498 	 RMSD     1.8667
Iter 027 	 Temp     0.61 	 Delta   382.83 	 OutFr   0.1594 	 RMSD     1.8682
Iter 028 	 Temp     0.56 	 Delta   357.04 	 OutFr   0.1763 	 RMSD     1.8701
Iter 029 	 Temp     0.52 	 Delta   325.22 	 OutFr   0.1957 	 RMSD     1.8719
Iter 030 	 Temp     0.49 	 Delta   289.80 	 OutFr   0.2295 	 RMSD     1.8731
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train013/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.QZfFQUzT/mybin.nii.gz
+ vtklevelset /tmp/ashs.QZfFQUzT/mybin.nii.gz /tmp/ashs.QZfFQUzT/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.QZfFQUzT/mymesh.vtk /tmp/ashs.QZfFQUzT/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2810.03302501 2632.97663095   0.93699135
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.QZfFQUzT/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train013/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -31.476 to -8.99074
   Y : -19.3944 to 25.1158
   Z : -25.7469 to -0.895222
   Image resolution  : 94 by 157 by 100
   Image box origin  : {-36.476, -24.3944, -30.7469}
   Image box size    : {32.6389, 54.5139, 34.9996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [36.476, 24.3944, -30.7469]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train013/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_fwd.mat -o /tmp/ashs.QZfFQUzT/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train013/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_inv.mat -o /tmp/ashs.QZfFQUzT/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train013/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.QZfFQUzT/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train013/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=13 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=13 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.675 0.680769
+ echo 'CHUNK 0.675 0.680769 0.5'
CHUNK 0.675 0.680769 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.675 0.680769 0.5
====================================
         PROGRESS: 0.675               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train013/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.QZfFQUzT/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.QZfFQUzT/fixed_hw.nii.gz /tmp/ashs.QZfFQUzT/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train013/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.608548, moving = 0.649014
LEVEL 1 of 3
  Smoothing sigmas: [2.35551, 2.36052, 2.42484], [0.961632, 0.963678, 0.989938]
Level     0,  Iter     0:    Energy =   0.0372
Level     0,  Iter     1:    Energy =   0.0431
Level     0,  Iter     2:    Energy =   0.0491
Level     0,  Iter     3:    Energy =   0.0541
Level     0,  Iter     4:    Energy =   0.0577
Level     0,  Iter     5:    Energy =   0.0610
Level     0,  Iter     6:    Energy =   0.0629
Level     0,  Iter     7:    Energy =   0.0653
Level     0,  Iter     8:    Energy =   0.0669
Level     0,  Iter     9:    Energy =   0.0684
Level     0,  Iter    10:    Energy =   0.0688
Level     0,  Iter    11:    Energy =   0.0697
Level     0,  Iter    12:    Energy =   0.0700
Level     0,  Iter    13:    Energy =   0.0708
Level     0,  Iter    14:    Energy =   0.0709
Level     0,  Iter    15:    Energy =   0.0717
Level     0,  Iter    16:    Energy =   0.0718
Level     0,  Iter    17:    Energy =   0.0725
Level     0,  Iter    18:    Energy =   0.0726
Level     0,  Iter    19:    Energy =   0.0733
Level     0,  Iter    20:    Energy =   0.0734
Level     0,  Iter    21:    Energy =   0.0741
Level     0,  Iter    22:    Energy =   0.0741
Level     0,  Iter    23:    Energy =   0.0746
Level     0,  Iter    24:    Energy =   0.0746
Level     0,  Iter    25:    Energy =   0.0751
Level     0,  Iter    26:    Energy =   0.0751
Level     0,  Iter    27:    Energy =   0.0754
Level     0,  Iter    28:    Energy =   0.0753
Level     0,  Iter    29:    Energy =   0.0757
Level     0,  Iter    30:    Energy =   0.0756
Level     0,  Iter    31:    Energy =   0.0761
Level     0,  Iter    32:    Energy =   0.0760
Level     0,  Iter    33:    Energy =   0.0760
Level     0,  Iter    34:    Energy =   0.0760
Level     0,  Iter    35:    Energy =   0.0765
Level     0,  Iter    36:    Energy =   0.0764
Level     0,  Iter    37:    Energy =   0.0763
Level     0,  Iter    38:    Energy =   0.0763
Level     0,  Iter    39:    Energy =   0.0768
Level     0,  Iter    40:    Energy =   0.0768
Level     0,  Iter    41:    Energy =   0.0766
Level     0,  Iter    42:    Energy =   0.0764
Level     0,  Iter    43:    Energy =   0.0769
Level     0,  Iter    44:    Energy =   0.0768
Level     0,  Iter    45:    Energy =   0.0766
Level     0,  Iter    46:    Energy =   0.0765
Level     0,  Iter    47:    Energy =   0.0771
Level     0,  Iter    48:    Energy =   0.0769
Level     0,  Iter    49:    Energy =   0.0768
Level     0,  Iter    50:    Energy =   0.0766
Level     0,  Iter    51:    Energy =   0.0772
Level     0,  Iter    52:    Energy =   0.0771
Level     0,  Iter    53:    Energy =   0.0770
Level     0,  Iter    54:    Energy =   0.0768
Level     0,  Iter    55:    Energy =   0.0773
Level     0,  Iter    56:    Energy =   0.0772
Level     0,  Iter    57:    Energy =   0.0770
Level     0,  Iter    58:    Energy =   0.0769
Level     0,  Iter    59:    Energy =   0.0773
END OF LEVEL     0    DetJac Range:   0.3099  to   2.2029 
  Avg. Gradient Time  : 0.0065s  37.70% 
  Avg. Gaussian Time  : 0.0080s  46.71% 
  Avg. Iteration Time : 0.0171s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.1952, 1.21242], [0.491046, 0.487938, 0.494969]
Level     1,  Iter     0:    Energy =   0.0515
Level     1,  Iter     1:    Energy =   0.0558
Level     1,  Iter     2:    Energy =   0.0593
Level     1,  Iter     3:    Energy =   0.0620
Level     1,  Iter     4:    Energy =   0.0644
Level     1,  Iter     5:    Energy =   0.0663
Level     1,  Iter     6:    Energy =   0.0680
Level     1,  Iter     7:    Energy =   0.0693
Level     1,  Iter     8:    Energy =   0.0706
Level     1,  Iter     9:    Energy =   0.0717
Level     1,  Iter    10:    Energy =   0.0726
Level     1,  Iter    11:    Energy =   0.0736
Level     1,  Iter    12:    Energy =   0.0745
Level     1,  Iter    13:    Energy =   0.0752
Level     1,  Iter    14:    Energy =   0.0759
Level     1,  Iter    15:    Energy =   0.0763
Level     1,  Iter    16:    Energy =   0.0765
Level     1,  Iter    17:    Energy =   0.0769
Level     1,  Iter    18:    Energy =   0.0770
Level     1,  Iter    19:    Energy =   0.0773
Level     1,  Iter    20:    Energy =   0.0774
Level     1,  Iter    21:    Energy =   0.0776
Level     1,  Iter    22:    Energy =   0.0777
Level     1,  Iter    23:    Energy =   0.0777
Level     1,  Iter    24:    Energy =   0.0781
Level     1,  Iter    25:    Energy =   0.0779
Level     1,  Iter    26:    Energy =   0.0784
Level     1,  Iter    27:    Energy =   0.0783
Level     1,  Iter    28:    Energy =   0.0787
Level     1,  Iter    29:    Energy =   0.0786
Level     1,  Iter    30:    Energy =   0.0790
Level     1,  Iter    31:    Energy =   0.0789
Level     1,  Iter    32:    Energy =   0.0793
Level     1,  Iter    33:    Energy =   0.0791
Level     1,  Iter    34:    Energy =   0.0794
Level     1,  Iter    35:    Energy =   0.0795
Level     1,  Iter    36:    Energy =   0.0797
Level     1,  Iter    37:    Energy =   0.0794
Level     1,  Iter    38:    Energy =   0.0797
Level     1,  Iter    39:    Energy =   0.0799
Level     1,  Iter    40:    Energy =   0.0800
Level     1,  Iter    41:    Energy =   0.0797
Level     1,  Iter    42:    Energy =   0.0800
Level     1,  Iter    43:    Energy =   0.0801
Level     1,  Iter    44:    Energy =   0.0802
Level     1,  Iter    45:    Energy =   0.0800
Level     1,  Iter    46:    Energy =   0.0802
Level     1,  Iter    47:    Energy =   0.0800
Level     1,  Iter    48:    Energy =   0.0802
Level     1,  Iter    49:    Energy =   0.0800
Level     1,  Iter    50:    Energy =   0.0803
Level     1,  Iter    51:    Energy =   0.0801
Level     1,  Iter    52:    Energy =   0.0804
Level     1,  Iter    53:    Energy =   0.0802
Level     1,  Iter    54:    Energy =   0.0805
Level     1,  Iter    55:    Energy =   0.0806
Level     1,  Iter    56:    Energy =   0.0806
Level     1,  Iter    57:    Energy =   0.0803
Level     1,  Iter    58:    Energy =   0.0805
Level     1,  Iter    59:    Energy =   0.0807
END OF LEVEL     1    DetJac Range:   0.0895  to   4.3614 
  Avg. Gradient Time  : 0.0369s  39.93% 
  Avg. Gaussian Time  : 0.0444s  48.00% 
  Avg. Iteration Time : 0.0924s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0398
Level     2,  Iter     1:    Energy =   0.0422
Level     2,  Iter     2:    Energy =   0.0440
Level     2,  Iter     3:    Energy =   0.0460
Level     2,  Iter     4:    Energy =   0.0482
Level     2,  Iter     5:    Energy =   0.0499
Level     2,  Iter     6:    Energy =   0.0514
Level     2,  Iter     7:    Energy =   0.0527
Level     2,  Iter     8:    Energy =   0.0536
Level     2,  Iter     9:    Energy =   0.0543
Level     2,  Iter    10:    Energy =   0.0549
Level     2,  Iter    11:    Energy =   0.0555
Level     2,  Iter    12:    Energy =   0.0562
Level     2,  Iter    13:    Energy =   0.0568
Level     2,  Iter    14:    Energy =   0.0574
Level     2,  Iter    15:    Energy =   0.0572
Level     2,  Iter    16:    Energy =   0.0578
Level     2,  Iter    17:    Energy =   0.0578
Level     2,  Iter    18:    Energy =   0.0582
Level     2,  Iter    19:    Energy =   0.0580
END OF LEVEL     2    DetJac Range:   0.0320  to   4.7640 
  Avg. Gradient Time  : 0.2638s  37.60% 
  Avg. Gaussian Time  : 0.3632s  51.77% 
  Avg. Iteration Time : 0.7016s 

real	0m23.394s
user	0m41.364s
sys	0m2.268s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train013/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train013/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=13 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=13 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.675 0.680769
+ echo 'CHUNK 0.675 0.680769 1'
CHUNK 0.675 0.680769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.675 0.680769 1
====================================
         PROGRESS: 0.675               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=014
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 014
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train014
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train014
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 014 left 0
+ local tid=014
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 014 0
+ set -e
+ local tid=014
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train014/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1835.40 	 OutFr   0.0000 	 RMSD     3.2036
Iter 002 	 Temp     3.72 	 Delta  1663.99 	 OutFr   0.0000 	 RMSD     2.2272
Iter 003 	 Temp     3.46 	 Delta  1561.37 	 OutFr   0.0000 	 RMSD     2.2091
Iter 004 	 Temp     3.22 	 Delta  1486.16 	 OutFr   0.0000 	 RMSD     2.1847
Iter 005 	 Temp     2.99 	 Delta  1418.95 	 OutFr   0.0000 	 RMSD     2.1593
Iter 006 	 Temp     2.78 	 Delta  1354.36 	 OutFr   0.0000 	 RMSD     2.1398
Iter 007 	 Temp     2.59 	 Delta  1290.58 	 OutFr   0.0000 	 RMSD     2.1255
Iter 008 	 Temp     2.41 	 Delta  1225.93 	 OutFr   0.0000 	 RMSD     2.1151
Iter 009 	 Temp     2.24 	 Delta  1160.24 	 OutFr   0.0000 	 RMSD     2.1076
Iter 010 	 Temp     2.08 	 Delta  1099.18 	 OutFr   0.0000 	 RMSD     2.1021
Iter 011 	 Temp     1.94 	 Delta  1049.87 	 OutFr   0.0048 	 RMSD     2.0976
Iter 012 	 Temp     1.80 	 Delta  1010.36 	 OutFr   0.0048 	 RMSD     2.0940
Iter 013 	 Temp     1.67 	 Delta   975.74 	 OutFr   0.0072 	 RMSD     2.0913
Iter 014 	 Temp     1.56 	 Delta   943.31 	 OutFr   0.0097 	 RMSD     2.0887
Iter 015 	 Temp     1.45 	 Delta   911.69 	 OutFr   0.0121 	 RMSD     2.0863
Iter 016 	 Temp     1.35 	 Delta   879.90 	 OutFr   0.0169 	 RMSD     2.0840
Iter 017 	 Temp     1.25 	 Delta   846.89 	 OutFr   0.0217 	 RMSD     2.0820
Iter 018 	 Temp     1.16 	 Delta   811.33 	 OutFr   0.0362 	 RMSD     2.0799
Iter 019 	 Temp     1.08 	 Delta   772.63 	 OutFr   0.0435 	 RMSD     2.0774
Iter 020 	 Temp     1.01 	 Delta   732.38 	 OutFr   0.0556 	 RMSD     2.0754
Iter 021 	 Temp     0.94 	 Delta   691.39 	 OutFr   0.0676 	 RMSD     2.0737
Iter 022 	 Temp     0.87 	 Delta   644.47 	 OutFr   0.0797 	 RMSD     2.0726
Iter 023 	 Temp     0.81 	 Delta   588.52 	 OutFr   0.1087 	 RMSD     2.0727
Iter 024 	 Temp     0.75 	 Delta   529.46 	 OutFr   0.1377 	 RMSD     2.0739
Iter 025 	 Temp     0.70 	 Delta   477.19 	 OutFr   0.1594 	 RMSD     2.0762
Iter 026 	 Temp     0.65 	 Delta   434.34 	 OutFr   0.1836 	 RMSD     2.0798
Iter 027 	 Temp     0.61 	 Delta   397.94 	 OutFr   0.2101 	 RMSD     2.0832
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train014/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.ph6E1NJN/mybin.nii.gz
+ vtklevelset /tmp/ashs.ph6E1NJN/mybin.nii.gz /tmp/ashs.ph6E1NJN/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.ph6E1NJN/mymesh.vtk /tmp/ashs.ph6E1NJN/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2810.03302501 2842.08234127   1.01140532
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.ph6E1NJN/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train014/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -33.9744 to -8.03528
   Y : -21.3348 to 22.2185
   Z : -25.8471 to 1.60804
   Image resolution  : 104 by 155 by 108
   Image box origin  : {-38.9744, -26.3348, -30.8471}
   Image box size    : {36.1111, 53.8194, 37.7996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [38.9744, 26.3348, -30.8471]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train014/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_fwd.mat -o /tmp/ashs.ph6E1NJN/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train014/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_inv.mat -o /tmp/ashs.ph6E1NJN/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train014/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.ph6E1NJN/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train014/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=14 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=14 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.680769 0.686538
+ echo 'CHUNK 0.680769 0.686538 0.5'
CHUNK 0.680769 0.686538 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.680769 0.686538 0.5
====================================
         PROGRESS: 0.680769               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train014/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.ph6E1NJN/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.ph6E1NJN/fixed_hw.nii.gz /tmp/ashs.ph6E1NJN/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train014/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.659091, moving = 0.515769
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.3902, 2.42484], [0.982092, 0.975797, 0.989938]
Level     0,  Iter     0:    Energy =   0.0338
Level     0,  Iter     1:    Energy =   0.0386
Level     0,  Iter     2:    Energy =   0.0430
Level     0,  Iter     3:    Energy =   0.0470
Level     0,  Iter     4:    Energy =   0.0503
Level     0,  Iter     5:    Energy =   0.0534
Level     0,  Iter     6:    Energy =   0.0560
Level     0,  Iter     7:    Energy =   0.0582
Level     0,  Iter     8:    Energy =   0.0606
Level     0,  Iter     9:    Energy =   0.0626
Level     0,  Iter    10:    Energy =   0.0642
Level     0,  Iter    11:    Energy =   0.0648
Level     0,  Iter    12:    Energy =   0.0654
Level     0,  Iter    13:    Energy =   0.0657
Level     0,  Iter    14:    Energy =   0.0664
Level     0,  Iter    15:    Energy =   0.0666
Level     0,  Iter    16:    Energy =   0.0673
Level     0,  Iter    17:    Energy =   0.0675
Level     0,  Iter    18:    Energy =   0.0681
Level     0,  Iter    19:    Energy =   0.0682
Level     0,  Iter    20:    Energy =   0.0686
Level     0,  Iter    21:    Energy =   0.0688
Level     0,  Iter    22:    Energy =   0.0690
Level     0,  Iter    23:    Energy =   0.0694
Level     0,  Iter    24:    Energy =   0.0694
Level     0,  Iter    25:    Energy =   0.0697
Level     0,  Iter    26:    Energy =   0.0696
Level     0,  Iter    27:    Energy =   0.0701
Level     0,  Iter    28:    Energy =   0.0700
Level     0,  Iter    29:    Energy =   0.0706
Level     0,  Iter    30:    Energy =   0.0707
Level     0,  Iter    31:    Energy =   0.0711
Level     0,  Iter    32:    Energy =   0.0709
Level     0,  Iter    33:    Energy =   0.0714
Level     0,  Iter    34:    Energy =   0.0712
Level     0,  Iter    35:    Energy =   0.0715
Level     0,  Iter    36:    Energy =   0.0713
Level     0,  Iter    37:    Energy =   0.0717
Level     0,  Iter    38:    Energy =   0.0716
Level     0,  Iter    39:    Energy =   0.0720
Level     0,  Iter    40:    Energy =   0.0721
Level     0,  Iter    41:    Energy =   0.0722
Level     0,  Iter    42:    Energy =   0.0720
Level     0,  Iter    43:    Energy =   0.0723
Level     0,  Iter    44:    Energy =   0.0723
Level     0,  Iter    45:    Energy =   0.0726
Level     0,  Iter    46:    Energy =   0.0723
Level     0,  Iter    47:    Energy =   0.0727
Level     0,  Iter    48:    Energy =   0.0724
Level     0,  Iter    49:    Energy =   0.0728
Level     0,  Iter    50:    Energy =   0.0725
Level     0,  Iter    51:    Energy =   0.0728
Level     0,  Iter    52:    Energy =   0.0723
Level     0,  Iter    53:    Energy =   0.0726
Level     0,  Iter    54:    Energy =   0.0723
Level     0,  Iter    55:    Energy =   0.0726
Level     0,  Iter    56:    Energy =   0.0726
Level     0,  Iter    57:    Energy =   0.0729
Level     0,  Iter    58:    Energy =   0.0728
Level     0,  Iter    59:    Energy =   0.0731
END OF LEVEL     0    DetJac Range:   0.3289  to   2.0038 
  Avg. Gradient Time  : 0.0071s  37.45% 
  Avg. Gaussian Time  : 0.0090s  47.50% 
  Avg. Iteration Time : 0.0190s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.1951, 1.21242], [0.491046, 0.487898, 0.494969]
Level     1,  Iter     0:    Energy =   0.0501
Level     1,  Iter     1:    Energy =   0.0539
Level     1,  Iter     2:    Energy =   0.0578
Level     1,  Iter     3:    Energy =   0.0607
Level     1,  Iter     4:    Energy =   0.0627
Level     1,  Iter     5:    Energy =   0.0641
Level     1,  Iter     6:    Energy =   0.0652
Level     1,  Iter     7:    Energy =   0.0661
Level     1,  Iter     8:    Energy =   0.0668
Level     1,  Iter     9:    Energy =   0.0675
Level     1,  Iter    10:    Energy =   0.0683
Level     1,  Iter    11:    Energy =   0.0690
Level     1,  Iter    12:    Energy =   0.0696
Level     1,  Iter    13:    Energy =   0.0702
Level     1,  Iter    14:    Energy =   0.0708
Level     1,  Iter    15:    Energy =   0.0712
Level     1,  Iter    16:    Energy =   0.0716
Level     1,  Iter    17:    Energy =   0.0719
Level     1,  Iter    18:    Energy =   0.0722
Level     1,  Iter    19:    Energy =   0.0724
Level     1,  Iter    20:    Energy =   0.0727
Level     1,  Iter    21:    Energy =   0.0729
Level     1,  Iter    22:    Energy =   0.0730
Level     1,  Iter    23:    Energy =   0.0731
Level     1,  Iter    24:    Energy =   0.0731
Level     1,  Iter    25:    Energy =   0.0733
Level     1,  Iter    26:    Energy =   0.0733
Level     1,  Iter    27:    Energy =   0.0735
Level     1,  Iter    28:    Energy =   0.0734
Level     1,  Iter    29:    Energy =   0.0737
Level     1,  Iter    30:    Energy =   0.0735
Level     1,  Iter    31:    Energy =   0.0738
Level     1,  Iter    32:    Energy =   0.0736
Level     1,  Iter    33:    Energy =   0.0739
Level     1,  Iter    34:    Energy =   0.0737
Level     1,  Iter    35:    Energy =   0.0738
Level     1,  Iter    36:    Energy =   0.0737
Level     1,  Iter    37:    Energy =   0.0738
Level     1,  Iter    38:    Energy =   0.0737
Level     1,  Iter    39:    Energy =   0.0739
Level     1,  Iter    40:    Energy =   0.0737
Level     1,  Iter    41:    Energy =   0.0740
Level     1,  Iter    42:    Energy =   0.0738
Level     1,  Iter    43:    Energy =   0.0740
Level     1,  Iter    44:    Energy =   0.0739
Level     1,  Iter    45:    Energy =   0.0741
Level     1,  Iter    46:    Energy =   0.0739
Level     1,  Iter    47:    Energy =   0.0741
Level     1,  Iter    48:    Energy =   0.0740
Level     1,  Iter    49:    Energy =   0.0742
Level     1,  Iter    50:    Energy =   0.0740
Level     1,  Iter    51:    Energy =   0.0742
Level     1,  Iter    52:    Energy =   0.0740
Level     1,  Iter    53:    Energy =   0.0742
Level     1,  Iter    54:    Energy =   0.0741
Level     1,  Iter    55:    Energy =   0.0742
Level     1,  Iter    56:    Energy =   0.0741
Level     1,  Iter    57:    Energy =   0.0742
Level     1,  Iter    58:    Energy =   0.0741
Level     1,  Iter    59:    Energy =   0.0742
END OF LEVEL     1    DetJac Range:   0.1144  to   3.9258 
  Avg. Gradient Time  : 0.0417s  39.73% 
  Avg. Gaussian Time  : 0.0507s  48.27% 
  Avg. Iteration Time : 0.1049s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0362
Level     2,  Iter     1:    Energy =   0.0383
Level     2,  Iter     2:    Energy =   0.0404
Level     2,  Iter     3:    Energy =   0.0419
Level     2,  Iter     4:    Energy =   0.0435
Level     2,  Iter     5:    Energy =   0.0452
Level     2,  Iter     6:    Energy =   0.0468
Level     2,  Iter     7:    Energy =   0.0481
Level     2,  Iter     8:    Energy =   0.0492
Level     2,  Iter     9:    Energy =   0.0501
Level     2,  Iter    10:    Energy =   0.0510
Level     2,  Iter    11:    Energy =   0.0517
Level     2,  Iter    12:    Energy =   0.0522
Level     2,  Iter    13:    Energy =   0.0526
Level     2,  Iter    14:    Energy =   0.0530
Level     2,  Iter    15:    Energy =   0.0534
Level     2,  Iter    16:    Energy =   0.0537
Level     2,  Iter    17:    Energy =   0.0540
Level     2,  Iter    18:    Energy =   0.0544
Level     2,  Iter    19:    Energy =   0.0546
END OF LEVEL     2    DetJac Range:   0.0745  to   4.6844 
  Avg. Gradient Time  : 0.3029s  37.31% 
  Avg. Gaussian Time  : 0.4229s  52.10% 
  Avg. Iteration Time : 0.8117s 

real	0m26.882s
user	0m47.640s
sys	0m2.676s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train014/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train014/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=14 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=14 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.680769 0.686538
+ echo 'CHUNK 0.680769 0.686538 1'
CHUNK 0.680769 0.686538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.680769 0.686538 1
====================================
         PROGRESS: 0.680769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=015
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 015
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train015
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train015
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 015 left 0
+ local tid=015
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 015 0
+ set -e
+ local tid=015
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train015/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2107.39 	 OutFr   0.0000 	 RMSD     2.7681
Iter 002 	 Temp     3.72 	 Delta  2125.34 	 OutFr   0.0000 	 RMSD     2.3158
Iter 003 	 Temp     3.46 	 Delta  2085.19 	 OutFr   0.0000 	 RMSD     2.3083
Iter 004 	 Temp     3.22 	 Delta  1996.02 	 OutFr   0.0000 	 RMSD     2.2834
Iter 005 	 Temp     2.99 	 Delta  1880.93 	 OutFr   0.0000 	 RMSD     2.2534
Iter 006 	 Temp     2.78 	 Delta  1755.97 	 OutFr   0.0000 	 RMSD     2.2196
Iter 007 	 Temp     2.59 	 Delta  1630.06 	 OutFr   0.0000 	 RMSD     2.1863
Iter 008 	 Temp     2.41 	 Delta  1510.64 	 OutFr   0.0000 	 RMSD     2.1530
Iter 009 	 Temp     2.24 	 Delta  1403.41 	 OutFr   0.0000 	 RMSD     2.1223
Iter 010 	 Temp     2.08 	 Delta  1307.89 	 OutFr   0.0000 	 RMSD     2.0980
Iter 011 	 Temp     1.94 	 Delta  1223.59 	 OutFr   0.0024 	 RMSD     2.0805
Iter 012 	 Temp     1.80 	 Delta  1149.07 	 OutFr   0.0024 	 RMSD     2.0683
Iter 013 	 Temp     1.67 	 Delta  1081.37 	 OutFr   0.0048 	 RMSD     2.0594
Iter 014 	 Temp     1.56 	 Delta  1017.51 	 OutFr   0.0072 	 RMSD     2.0530
Iter 015 	 Temp     1.45 	 Delta   955.65 	 OutFr   0.0072 	 RMSD     2.0497
Iter 016 	 Temp     1.35 	 Delta   895.21 	 OutFr   0.0097 	 RMSD     2.0495
Iter 017 	 Temp     1.25 	 Delta   835.56 	 OutFr   0.0193 	 RMSD     2.0519
Iter 018 	 Temp     1.16 	 Delta   776.17 	 OutFr   0.0217 	 RMSD     2.0547
Iter 019 	 Temp     1.08 	 Delta   719.41 	 OutFr   0.0314 	 RMSD     2.0575
Iter 020 	 Temp     1.01 	 Delta   667.79 	 OutFr   0.0386 	 RMSD     2.0597
Iter 021 	 Temp     0.94 	 Delta   618.08 	 OutFr   0.0556 	 RMSD     2.0616
Iter 022 	 Temp     0.87 	 Delta   571.63 	 OutFr   0.0725 	 RMSD     2.0629
Iter 023 	 Temp     0.81 	 Delta   532.02 	 OutFr   0.0821 	 RMSD     2.0637
Iter 024 	 Temp     0.75 	 Delta   496.34 	 OutFr   0.0990 	 RMSD     2.0641
Iter 025 	 Temp     0.70 	 Delta   461.45 	 OutFr   0.1159 	 RMSD     2.0639
Iter 026 	 Temp     0.65 	 Delta   430.91 	 OutFr   0.1329 	 RMSD     2.0633
Iter 027 	 Temp     0.61 	 Delta   405.58 	 OutFr   0.1498 	 RMSD     2.0634
Iter 028 	 Temp     0.56 	 Delta   381.39 	 OutFr   0.1787 	 RMSD     2.0640
Iter 029 	 Temp     0.52 	 Delta   355.57 	 OutFr   0.2053 	 RMSD     2.0658
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train015/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.02F6V7PE/mybin.nii.gz
+ vtklevelset /tmp/ashs.02F6V7PE/mybin.nii.gz /tmp/ashs.02F6V7PE/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.02F6V7PE/mymesh.vtk /tmp/ashs.02F6V7PE/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2810.03302501 3012.59084816   1.07208379
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.02F6V7PE/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train015/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -34.7941 to -9.3361
   Y : -24.6062 to 19.6508
   Z : -21.524 to 5.13197
   Image resolution  : 103 by 157 by 105
   Image box origin  : {-39.7941, -29.6062, -26.524}
   Image box size    : {35.7639, 54.5139, 36.7496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [39.7941, 29.6062, -26.524]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train015/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_fwd.mat -o /tmp/ashs.02F6V7PE/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train015/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_inv.mat -o /tmp/ashs.02F6V7PE/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train015/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.02F6V7PE/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train015/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=15 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=15 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.686538 0.692308
+ echo 'CHUNK 0.686538 0.692308 0.5'
CHUNK 0.686538 0.692308 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.686538 0.692308 0.5
====================================
         PROGRESS: 0.686538               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train015/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.02F6V7PE/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.02F6V7PE/fixed_hw.nii.gz /tmp/ashs.02F6V7PE/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train015/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.670701, moving = 0.711969
LEVEL 1 of 3
  Smoothing sigmas: [2.38249, 2.36052, 2.35749], [0.972649, 0.963678, 0.96244]
Level     0,  Iter     0:    Energy =   0.0631
Level     0,  Iter     1:    Energy =   0.0709
Level     0,  Iter     2:    Energy =   0.0785
Level     0,  Iter     3:    Energy =   0.0838
Level     0,  Iter     4:    Energy =   0.0880
Level     0,  Iter     5:    Energy =   0.0917
Level     0,  Iter     6:    Energy =   0.0943
Level     0,  Iter     7:    Energy =   0.0959
Level     0,  Iter     8:    Energy =   0.0965
Level     0,  Iter     9:    Energy =   0.0974
Level     0,  Iter    10:    Energy =   0.0978
Level     0,  Iter    11:    Energy =   0.0985
Level     0,  Iter    12:    Energy =   0.0988
Level     0,  Iter    13:    Energy =   0.0993
Level     0,  Iter    14:    Energy =   0.0995
Level     0,  Iter    15:    Energy =   0.0999
Level     0,  Iter    16:    Energy =   0.1001
Level     0,  Iter    17:    Energy =   0.1005
Level     0,  Iter    18:    Energy =   0.1006
Level     0,  Iter    19:    Energy =   0.1009
Level     0,  Iter    20:    Energy =   0.1010
Level     0,  Iter    21:    Energy =   0.1013
Level     0,  Iter    22:    Energy =   0.1012
Level     0,  Iter    23:    Energy =   0.1015
Level     0,  Iter    24:    Energy =   0.1013
Level     0,  Iter    25:    Energy =   0.1016
Level     0,  Iter    26:    Energy =   0.1014
Level     0,  Iter    27:    Energy =   0.1019
Level     0,  Iter    28:    Energy =   0.1016
Level     0,  Iter    29:    Energy =   0.1023
Level     0,  Iter    30:    Energy =   0.1025
Level     0,  Iter    31:    Energy =   0.1027
Level     0,  Iter    32:    Energy =   0.1022
Level     0,  Iter    33:    Energy =   0.1028
Level     0,  Iter    34:    Energy =   0.1027
Level     0,  Iter    35:    Energy =   0.1031
Level     0,  Iter    36:    Energy =   0.1028
Level     0,  Iter    37:    Energy =   0.1032
Level     0,  Iter    38:    Energy =   0.1028
Level     0,  Iter    39:    Energy =   0.1032
Level     0,  Iter    40:    Energy =   0.1029
Level     0,  Iter    41:    Energy =   0.1033
Level     0,  Iter    42:    Energy =   0.1030
Level     0,  Iter    43:    Energy =   0.1033
Level     0,  Iter    44:    Energy =   0.1030
Level     0,  Iter    45:    Energy =   0.1033
Level     0,  Iter    46:    Energy =   0.1029
Level     0,  Iter    47:    Energy =   0.1032
Level     0,  Iter    48:    Energy =   0.1030
Level     0,  Iter    49:    Energy =   0.1032
Level     0,  Iter    50:    Energy =   0.1030
Level     0,  Iter    51:    Energy =   0.1032
Level     0,  Iter    52:    Energy =   0.1030
Level     0,  Iter    53:    Energy =   0.1032
Level     0,  Iter    54:    Energy =   0.1030
Level     0,  Iter    55:    Energy =   0.1032
Level     0,  Iter    56:    Energy =   0.1029
Level     0,  Iter    57:    Energy =   0.1032
Level     0,  Iter    58:    Energy =   0.1029
Level     0,  Iter    59:    Energy =   0.1032
END OF LEVEL     0    DetJac Range:   0.3336  to   2.1121 
  Avg. Gradient Time  : 0.0075s  37.34% 
  Avg. Gaussian Time  : 0.0096s  47.91% 
  Avg. Iteration Time : 0.0201s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19125, 1.1952, 1.20098], [0.486324, 0.487938, 0.4903]
Level     1,  Iter     0:    Energy =   0.0711
Level     1,  Iter     1:    Energy =   0.0766
Level     1,  Iter     2:    Energy =   0.0805
Level     1,  Iter     3:    Energy =   0.0840
Level     1,  Iter     4:    Energy =   0.0869
Level     1,  Iter     5:    Energy =   0.0887
Level     1,  Iter     6:    Energy =   0.0901
Level     1,  Iter     7:    Energy =   0.0907
Level     1,  Iter     8:    Energy =   0.0914
Level     1,  Iter     9:    Energy =   0.0925
Level     1,  Iter    10:    Energy =   0.0930
Level     1,  Iter    11:    Energy =   0.0931
Level     1,  Iter    12:    Energy =   0.0932
Level     1,  Iter    13:    Energy =   0.0935
Level     1,  Iter    14:    Energy =   0.0935
Level     1,  Iter    15:    Energy =   0.0938
Level     1,  Iter    16:    Energy =   0.0938
Level     1,  Iter    17:    Energy =   0.0940
Level     1,  Iter    18:    Energy =   0.0941
Level     1,  Iter    19:    Energy =   0.0943
Level     1,  Iter    20:    Energy =   0.0943
Level     1,  Iter    21:    Energy =   0.0945
Level     1,  Iter    22:    Energy =   0.0945
Level     1,  Iter    23:    Energy =   0.0947
Level     1,  Iter    24:    Energy =   0.0947
Level     1,  Iter    25:    Energy =   0.0949
Level     1,  Iter    26:    Energy =   0.0949
Level     1,  Iter    27:    Energy =   0.0950
Level     1,  Iter    28:    Energy =   0.0951
Level     1,  Iter    29:    Energy =   0.0952
Level     1,  Iter    30:    Energy =   0.0952
Level     1,  Iter    31:    Energy =   0.0954
Level     1,  Iter    32:    Energy =   0.0954
Level     1,  Iter    33:    Energy =   0.0955
Level     1,  Iter    34:    Energy =   0.0955
Level     1,  Iter    35:    Energy =   0.0956
Level     1,  Iter    36:    Energy =   0.0956
Level     1,  Iter    37:    Energy =   0.0956
Level     1,  Iter    38:    Energy =   0.0956
Level     1,  Iter    39:    Energy =   0.0957
Level     1,  Iter    40:    Energy =   0.0957
Level     1,  Iter    41:    Energy =   0.0957
Level     1,  Iter    42:    Energy =   0.0957
Level     1,  Iter    43:    Energy =   0.0958
Level     1,  Iter    44:    Energy =   0.0958
Level     1,  Iter    45:    Energy =   0.0958
Level     1,  Iter    46:    Energy =   0.0958
Level     1,  Iter    47:    Energy =   0.0959
Level     1,  Iter    48:    Energy =   0.0959
Level     1,  Iter    49:    Energy =   0.0959
Level     1,  Iter    50:    Energy =   0.0959
Level     1,  Iter    51:    Energy =   0.0959
Level     1,  Iter    52:    Energy =   0.0959
Level     1,  Iter    53:    Energy =   0.0960
Level     1,  Iter    54:    Energy =   0.0960
Level     1,  Iter    55:    Energy =   0.0960
Level     1,  Iter    56:    Energy =   0.0960
Level     1,  Iter    57:    Energy =   0.0961
Level     1,  Iter    58:    Energy =   0.0961
Level     1,  Iter    59:    Energy =   0.0962
END OF LEVEL     1    DetJac Range:   0.2221  to   2.8933 
  Avg. Gradient Time  : 0.0420s  39.86% 
  Avg. Gaussian Time  : 0.0508s  48.27% 
  Avg. Iteration Time : 0.1053s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0546
Level     2,  Iter     1:    Energy =   0.0571
Level     2,  Iter     2:    Energy =   0.0594
Level     2,  Iter     3:    Energy =   0.0612
Level     2,  Iter     4:    Energy =   0.0625
Level     2,  Iter     5:    Energy =   0.0637
Level     2,  Iter     6:    Energy =   0.0650
Level     2,  Iter     7:    Energy =   0.0664
Level     2,  Iter     8:    Energy =   0.0677
Level     2,  Iter     9:    Energy =   0.0688
Level     2,  Iter    10:    Energy =   0.0698
Level     2,  Iter    11:    Energy =   0.0707
Level     2,  Iter    12:    Energy =   0.0714
Level     2,  Iter    13:    Energy =   0.0721
Level     2,  Iter    14:    Energy =   0.0728
Level     2,  Iter    15:    Energy =   0.0735
Level     2,  Iter    16:    Energy =   0.0740
Level     2,  Iter    17:    Energy =   0.0744
Level     2,  Iter    18:    Energy =   0.0745
Level     2,  Iter    19:    Energy =   0.0746
END OF LEVEL     2    DetJac Range:   0.0989  to   3.9317 
  Avg. Gradient Time  : 0.2970s  37.13% 
  Avg. Gaussian Time  : 0.4174s  52.18% 
  Avg. Iteration Time : 0.7998s 

real	0m26.613s
user	0m46.960s
sys	0m2.568s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train015/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train015/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=15 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=15 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.686538 0.692308
+ echo 'CHUNK 0.686538 0.692308 1'
CHUNK 0.686538 0.692308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.686538 0.692308 1
====================================
         PROGRESS: 0.686538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=016
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 016
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train016
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train016
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 016 left 0
+ local tid=016
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 016 0
+ set -e
+ local tid=016
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train016/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1809.60 	 OutFr   0.0000 	 RMSD     3.5495
Iter 002 	 Temp     3.72 	 Delta  1654.58 	 OutFr   0.0000 	 RMSD     2.2432
Iter 003 	 Temp     3.46 	 Delta  1551.43 	 OutFr   0.0024 	 RMSD     2.1817
Iter 004 	 Temp     3.22 	 Delta  1469.03 	 OutFr   0.0024 	 RMSD     2.1472
Iter 005 	 Temp     2.99 	 Delta  1396.39 	 OutFr   0.0048 	 RMSD     2.1244
Iter 006 	 Temp     2.78 	 Delta  1329.32 	 OutFr   0.0048 	 RMSD     2.1081
Iter 007 	 Temp     2.59 	 Delta  1267.38 	 OutFr   0.0072 	 RMSD     2.0969
Iter 008 	 Temp     2.41 	 Delta  1211.95 	 OutFr   0.0072 	 RMSD     2.0884
Iter 009 	 Temp     2.24 	 Delta  1164.81 	 OutFr   0.0072 	 RMSD     2.0829
Iter 010 	 Temp     2.08 	 Delta  1125.69 	 OutFr   0.0145 	 RMSD     2.0794
Iter 011 	 Temp     1.94 	 Delta  1091.87 	 OutFr   0.0169 	 RMSD     2.0780
Iter 012 	 Temp     1.80 	 Delta  1060.64 	 OutFr   0.0217 	 RMSD     2.0779
Iter 013 	 Temp     1.67 	 Delta  1029.77 	 OutFr   0.0266 	 RMSD     2.0789
Iter 014 	 Temp     1.56 	 Delta   997.70 	 OutFr   0.0314 	 RMSD     2.0802
Iter 015 	 Temp     1.45 	 Delta   963.75 	 OutFr   0.0338 	 RMSD     2.0818
Iter 016 	 Temp     1.35 	 Delta   926.46 	 OutFr   0.0338 	 RMSD     2.0833
Iter 017 	 Temp     1.25 	 Delta   882.52 	 OutFr   0.0411 	 RMSD     2.0847
Iter 018 	 Temp     1.16 	 Delta   829.22 	 OutFr   0.0531 	 RMSD     2.0860
Iter 019 	 Temp     1.08 	 Delta   768.06 	 OutFr   0.0652 	 RMSD     2.0869
Iter 020 	 Temp     1.01 	 Delta   704.10 	 OutFr   0.0700 	 RMSD     2.0878
Iter 021 	 Temp     0.94 	 Delta   640.65 	 OutFr   0.0773 	 RMSD     2.0889
Iter 022 	 Temp     0.87 	 Delta   581.44 	 OutFr   0.1063 	 RMSD     2.0900
Iter 023 	 Temp     0.81 	 Delta   532.30 	 OutFr   0.1208 	 RMSD     2.0918
Iter 024 	 Temp     0.75 	 Delta   489.17 	 OutFr   0.1425 	 RMSD     2.0938
Iter 025 	 Temp     0.70 	 Delta   447.88 	 OutFr   0.1763 	 RMSD     2.0958
Iter 026 	 Temp     0.65 	 Delta   410.55 	 OutFr   0.1981 	 RMSD     2.0979
Iter 027 	 Temp     0.61 	 Delta   374.15 	 OutFr   0.2222 	 RMSD     2.1006
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train016/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.CYKGZBqX/mybin.nii.gz
+ vtklevelset /tmp/ashs.CYKGZBqX/mybin.nii.gz /tmp/ashs.CYKGZBqX/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.CYKGZBqX/mymesh.vtk /tmp/ashs.CYKGZBqX/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2810.03302501 2629.08461920   0.93560631
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.CYKGZBqX/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train016/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -32.6128 to -9.90391
   Y : -17.5238 to 25.6032
   Z : -33.1336 to -5.27656
   Image resolution  : 95 by 154 by 109
   Image box origin  : {-37.6128, -22.5238, -38.1336}
   Image box size    : {32.9861, 53.4722, 38.1496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [37.6128, 22.5238, -38.1336]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train016/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_fwd.mat -o /tmp/ashs.CYKGZBqX/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train016/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_inv.mat -o /tmp/ashs.CYKGZBqX/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train016/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.CYKGZBqX/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train016/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=16 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=16 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.692308 0.698077
+ echo 'CHUNK 0.692308 0.698077 0.5'
CHUNK 0.692308 0.698077 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.692308 0.698077 0.5
====================================
         PROGRESS: 0.692308               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train016/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.CYKGZBqX/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.CYKGZBqX/fixed_hw.nii.gz /tmp/ashs.CYKGZBqX/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train016/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.663355, moving = 0.63293
LEVEL 1 of 3
  Smoothing sigmas: [2.38057, 2.37478, 2.35989], [0.971862, 0.969501, 0.963422]
Level     0,  Iter     0:    Energy =   0.0323
Level     0,  Iter     1:    Energy =   0.0376
Level     0,  Iter     2:    Energy =   0.0424
Level     0,  Iter     3:    Energy =   0.0463
Level     0,  Iter     4:    Energy =   0.0496
Level     0,  Iter     5:    Energy =   0.0526
Level     0,  Iter     6:    Energy =   0.0553
Level     0,  Iter     7:    Energy =   0.0581
Level     0,  Iter     8:    Energy =   0.0604
Level     0,  Iter     9:    Energy =   0.0623
Level     0,  Iter    10:    Energy =   0.0643
Level     0,  Iter    11:    Energy =   0.0659
Level     0,  Iter    12:    Energy =   0.0670
Level     0,  Iter    13:    Energy =   0.0680
Level     0,  Iter    14:    Energy =   0.0689
Level     0,  Iter    15:    Energy =   0.0697
Level     0,  Iter    16:    Energy =   0.0705
Level     0,  Iter    17:    Energy =   0.0714
Level     0,  Iter    18:    Energy =   0.0726
Level     0,  Iter    19:    Energy =   0.0736
Level     0,  Iter    20:    Energy =   0.0747
Level     0,  Iter    21:    Energy =   0.0760
Level     0,  Iter    22:    Energy =   0.0765
Level     0,  Iter    23:    Energy =   0.0769
Level     0,  Iter    24:    Energy =   0.0771
Level     0,  Iter    25:    Energy =   0.0778
Level     0,  Iter    26:    Energy =   0.0781
Level     0,  Iter    27:    Energy =   0.0789
Level     0,  Iter    28:    Energy =   0.0791
Level     0,  Iter    29:    Energy =   0.0795
Level     0,  Iter    30:    Energy =   0.0797
Level     0,  Iter    31:    Energy =   0.0801
Level     0,  Iter    32:    Energy =   0.0802
Level     0,  Iter    33:    Energy =   0.0804
Level     0,  Iter    34:    Energy =   0.0805
Level     0,  Iter    35:    Energy =   0.0809
Level     0,  Iter    36:    Energy =   0.0808
Level     0,  Iter    37:    Energy =   0.0807
Level     0,  Iter    38:    Energy =   0.0809
Level     0,  Iter    39:    Energy =   0.0811
Level     0,  Iter    40:    Energy =   0.0808
Level     0,  Iter    41:    Energy =   0.0810
Level     0,  Iter    42:    Energy =   0.0809
Level     0,  Iter    43:    Energy =   0.0810
Level     0,  Iter    44:    Energy =   0.0809
Level     0,  Iter    45:    Energy =   0.0811
Level     0,  Iter    46:    Energy =   0.0810
Level     0,  Iter    47:    Energy =   0.0811
Level     0,  Iter    48:    Energy =   0.0811
Level     0,  Iter    49:    Energy =   0.0812
Level     0,  Iter    50:    Energy =   0.0812
Level     0,  Iter    51:    Energy =   0.0813
Level     0,  Iter    52:    Energy =   0.0813
Level     0,  Iter    53:    Energy =   0.0814
Level     0,  Iter    54:    Energy =   0.0813
Level     0,  Iter    55:    Energy =   0.0815
Level     0,  Iter    56:    Energy =   0.0814
Level     0,  Iter    57:    Energy =   0.0815
Level     0,  Iter    58:    Energy =   0.0815
Level     0,  Iter    59:    Energy =   0.0816
END OF LEVEL     0    DetJac Range:   0.2645  to   2.0565 
  Avg. Gradient Time  : 0.0069s  37.63% 
  Avg. Gaussian Time  : 0.0087s  47.29% 
  Avg. Iteration Time : 0.0184s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19028, 1.20281, 1.2014], [0.485931, 0.491046, 0.490469]
Level     1,  Iter     0:    Energy =   0.0586
Level     1,  Iter     1:    Energy =   0.0625
Level     1,  Iter     2:    Energy =   0.0666
Level     1,  Iter     3:    Energy =   0.0697
Level     1,  Iter     4:    Energy =   0.0718
Level     1,  Iter     5:    Energy =   0.0734
Level     1,  Iter     6:    Energy =   0.0747
Level     1,  Iter     7:    Energy =   0.0759
Level     1,  Iter     8:    Energy =   0.0770
Level     1,  Iter     9:    Energy =   0.0777
Level     1,  Iter    10:    Energy =   0.0782
Level     1,  Iter    11:    Energy =   0.0786
Level     1,  Iter    12:    Energy =   0.0787
Level     1,  Iter    13:    Energy =   0.0787
Level     1,  Iter    14:    Energy =   0.0790
Level     1,  Iter    15:    Energy =   0.0791
Level     1,  Iter    16:    Energy =   0.0794
Level     1,  Iter    17:    Energy =   0.0793
Level     1,  Iter    18:    Energy =   0.0796
Level     1,  Iter    19:    Energy =   0.0798
Level     1,  Iter    20:    Energy =   0.0798
Level     1,  Iter    21:    Energy =   0.0797
Level     1,  Iter    22:    Energy =   0.0800
Level     1,  Iter    23:    Energy =   0.0800
Level     1,  Iter    24:    Energy =   0.0802
Level     1,  Iter    25:    Energy =   0.0801
Level     1,  Iter    26:    Energy =   0.0803
Level     1,  Iter    27:    Energy =   0.0803
Level     1,  Iter    28:    Energy =   0.0804
Level     1,  Iter    29:    Energy =   0.0803
Level     1,  Iter    30:    Energy =   0.0805
Level     1,  Iter    31:    Energy =   0.0804
Level     1,  Iter    32:    Energy =   0.0806
Level     1,  Iter    33:    Energy =   0.0805
Level     1,  Iter    34:    Energy =   0.0808
Level     1,  Iter    35:    Energy =   0.0808
Level     1,  Iter    36:    Energy =   0.0808
Level     1,  Iter    37:    Energy =   0.0806
Level     1,  Iter    38:    Energy =   0.0809
Level     1,  Iter    39:    Energy =   0.0809
Level     1,  Iter    40:    Energy =   0.0809
Level     1,  Iter    41:    Energy =   0.0808
Level     1,  Iter    42:    Energy =   0.0810
Level     1,  Iter    43:    Energy =   0.0811
Level     1,  Iter    44:    Energy =   0.0811
Level     1,  Iter    45:    Energy =   0.0809
Level     1,  Iter    46:    Energy =   0.0812
Level     1,  Iter    47:    Energy =   0.0813
Level     1,  Iter    48:    Energy =   0.0812
Level     1,  Iter    49:    Energy =   0.0811
Level     1,  Iter    50:    Energy =   0.0813
Level     1,  Iter    51:    Energy =   0.0812
Level     1,  Iter    52:    Energy =   0.0814
Level     1,  Iter    53:    Energy =   0.0812
Level     1,  Iter    54:    Energy =   0.0814
Level     1,  Iter    55:    Energy =   0.0814
Level     1,  Iter    56:    Energy =   0.0814
Level     1,  Iter    57:    Energy =   0.0813
Level     1,  Iter    58:    Energy =   0.0815
Level     1,  Iter    59:    Energy =   0.0814
END OF LEVEL     1    DetJac Range:   0.0669  to   2.8651 
  Avg. Gradient Time  : 0.0407s  40.55% 
  Avg. Gaussian Time  : 0.0477s  47.52% 
  Avg. Iteration Time : 0.1004s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0439
Level     2,  Iter     1:    Energy =   0.0463
Level     2,  Iter     2:    Energy =   0.0482
Level     2,  Iter     3:    Energy =   0.0498
Level     2,  Iter     4:    Energy =   0.0513
Level     2,  Iter     5:    Energy =   0.0527
Level     2,  Iter     6:    Energy =   0.0537
Level     2,  Iter     7:    Energy =   0.0547
Level     2,  Iter     8:    Energy =   0.0556
Level     2,  Iter     9:    Energy =   0.0565
Level     2,  Iter    10:    Energy =   0.0572
Level     2,  Iter    11:    Energy =   0.0580
Level     2,  Iter    12:    Energy =   0.0586
Level     2,  Iter    13:    Energy =   0.0592
Level     2,  Iter    14:    Energy =   0.0597
Level     2,  Iter    15:    Energy =   0.0603
Level     2,  Iter    16:    Energy =   0.0609
Level     2,  Iter    17:    Energy =   0.0613
Level     2,  Iter    18:    Energy =   0.0611
Level     2,  Iter    19:    Energy =   0.0616
END OF LEVEL     2    DetJac Range:   0.0403  to   4.8572 
  Avg. Gradient Time  : 0.2859s  37.65% 
  Avg. Gaussian Time  : 0.3916s  51.56% 
  Avg. Iteration Time : 0.7594s 

real	0m25.320s
user	0m44.628s
sys	0m2.632s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train016/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train016/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=16 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=16 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.692308 0.698077
+ echo 'CHUNK 0.692308 0.698077 1'
CHUNK 0.692308 0.698077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.692308 0.698077 1
====================================
         PROGRESS: 0.692308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=017
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 017
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train017
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train017
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 017 left 0
+ local tid=017
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 017 0
+ set -e
+ local tid=017
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train017/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1743.56 	 OutFr   0.0024 	 RMSD     2.3434
Iter 002 	 Temp     3.72 	 Delta  1684.96 	 OutFr   0.0024 	 RMSD     2.1450
Iter 003 	 Temp     3.46 	 Delta  1574.41 	 OutFr   0.0024 	 RMSD     2.1218
Iter 004 	 Temp     3.22 	 Delta  1461.43 	 OutFr   0.0024 	 RMSD     2.0948
Iter 005 	 Temp     2.99 	 Delta  1354.80 	 OutFr   0.0024 	 RMSD     2.0733
Iter 006 	 Temp     2.78 	 Delta  1257.19 	 OutFr   0.0024 	 RMSD     2.0572
Iter 007 	 Temp     2.59 	 Delta  1169.59 	 OutFr   0.0024 	 RMSD     2.0455
Iter 008 	 Temp     2.41 	 Delta  1092.02 	 OutFr   0.0024 	 RMSD     2.0374
Iter 009 	 Temp     2.24 	 Delta  1023.83 	 OutFr   0.0024 	 RMSD     2.0319
Iter 010 	 Temp     2.08 	 Delta   963.91 	 OutFr   0.0024 	 RMSD     2.0285
Iter 011 	 Temp     1.94 	 Delta   910.83 	 OutFr   0.0048 	 RMSD     2.0267
Iter 012 	 Temp     1.80 	 Delta   862.84 	 OutFr   0.0048 	 RMSD     2.0258
Iter 013 	 Temp     1.67 	 Delta   817.77 	 OutFr   0.0048 	 RMSD     2.0252
Iter 014 	 Temp     1.56 	 Delta   772.91 	 OutFr   0.0048 	 RMSD     2.0245
Iter 015 	 Temp     1.45 	 Delta   725.51 	 OutFr   0.0072 	 RMSD     2.0236
Iter 016 	 Temp     1.35 	 Delta   674.19 	 OutFr   0.0072 	 RMSD     2.0225
Iter 017 	 Temp     1.25 	 Delta   620.83 	 OutFr   0.0121 	 RMSD     2.0214
Iter 018 	 Temp     1.16 	 Delta   570.51 	 OutFr   0.0121 	 RMSD     2.0204
Iter 019 	 Temp     1.08 	 Delta   528.61 	 OutFr   0.0242 	 RMSD     2.0195
Iter 020 	 Temp     1.01 	 Delta   497.67 	 OutFr   0.0362 	 RMSD     2.0188
Iter 021 	 Temp     0.94 	 Delta   476.55 	 OutFr   0.0435 	 RMSD     2.0183
Iter 022 	 Temp     0.87 	 Delta   460.53 	 OutFr   0.0435 	 RMSD     2.0175
Iter 023 	 Temp     0.81 	 Delta   445.04 	 OutFr   0.0531 	 RMSD     2.0169
Iter 024 	 Temp     0.75 	 Delta   428.37 	 OutFr   0.0628 	 RMSD     2.0164
Iter 025 	 Temp     0.70 	 Delta   410.19 	 OutFr   0.0749 	 RMSD     2.0161
Iter 026 	 Temp     0.65 	 Delta   390.11 	 OutFr   0.0821 	 RMSD     2.0159
Iter 027 	 Temp     0.61 	 Delta   367.91 	 OutFr   0.0918 	 RMSD     2.0156
Iter 028 	 Temp     0.56 	 Delta   342.89 	 OutFr   0.1039 	 RMSD     2.0147
Iter 029 	 Temp     0.52 	 Delta   317.97 	 OutFr   0.1280 	 RMSD     2.0138
Iter 030 	 Temp     0.49 	 Delta   294.31 	 OutFr   0.1473 	 RMSD     2.0137
Iter 031 	 Temp     0.45 	 Delta   269.43 	 OutFr   0.1643 	 RMSD     2.0149
Iter 032 	 Temp     0.42 	 Delta   241.45 	 OutFr   0.2005 	 RMSD     2.0172
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train017/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.60mtFNib/mybin.nii.gz
+ vtklevelset /tmp/ashs.60mtFNib/mybin.nii.gz /tmp/ashs.60mtFNib/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.60mtFNib/mymesh.vtk /tmp/ashs.60mtFNib/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2810.03302501 2877.21623429   1.02390833
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.60mtFNib/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train017/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -34.5529 to -11.0916
   Y : -23.1899 to 23.2132
   Z : -20.6863 to 4.42577
   Image resolution  : 97 by 163 by 101
   Image box origin  : {-39.5529, -28.1899, -25.6863}
   Image box size    : {33.6805, 56.5972, 35.3496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [39.5529, 28.1899, -25.6863]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train017/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_fwd.mat -o /tmp/ashs.60mtFNib/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train017/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_inv.mat -o /tmp/ashs.60mtFNib/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train017/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.60mtFNib/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train017/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=17 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=17 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.698077 0.703846
+ echo 'CHUNK 0.698077 0.703846 0.5'
CHUNK 0.698077 0.703846 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.698077 0.703846 0.5
====================================
         PROGRESS: 0.698077               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train017/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.60mtFNib/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.60mtFNib/fixed_hw.nii.gz /tmp/ashs.60mtFNib/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train017/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.662655, moving = 0.400213
LEVEL 1 of 3
  Smoothing sigmas: [2.33346, 2.39096, 2.3549], [0.952629, 0.976104, 0.961382]
Level     0,  Iter     0:    Energy =   0.0606
Level     0,  Iter     1:    Energy =   0.0667
Level     0,  Iter     2:    Energy =   0.0725
Level     0,  Iter     3:    Energy =   0.0773
Level     0,  Iter     4:    Energy =   0.0810
Level     0,  Iter     5:    Energy =   0.0836
Level     0,  Iter     6:    Energy =   0.0852
Level     0,  Iter     7:    Energy =   0.0868
Level     0,  Iter     8:    Energy =   0.0878
Level     0,  Iter     9:    Energy =   0.0889
Level     0,  Iter    10:    Energy =   0.0895
Level     0,  Iter    11:    Energy =   0.0904
Level     0,  Iter    12:    Energy =   0.0909
Level     0,  Iter    13:    Energy =   0.0915
Level     0,  Iter    14:    Energy =   0.0918
Level     0,  Iter    15:    Energy =   0.0919
Level     0,  Iter    16:    Energy =   0.0922
Level     0,  Iter    17:    Energy =   0.0923
Level     0,  Iter    18:    Energy =   0.0925
Level     0,  Iter    19:    Energy =   0.0925
Level     0,  Iter    20:    Energy =   0.0927
Level     0,  Iter    21:    Energy =   0.0927
Level     0,  Iter    22:    Energy =   0.0930
Level     0,  Iter    23:    Energy =   0.0929
Level     0,  Iter    24:    Energy =   0.0932
Level     0,  Iter    25:    Energy =   0.0932
Level     0,  Iter    26:    Energy =   0.0934
Level     0,  Iter    27:    Energy =   0.0934
Level     0,  Iter    28:    Energy =   0.0936
Level     0,  Iter    29:    Energy =   0.0936
Level     0,  Iter    30:    Energy =   0.0938
Level     0,  Iter    31:    Energy =   0.0937
Level     0,  Iter    32:    Energy =   0.0939
Level     0,  Iter    33:    Energy =   0.0939
Level     0,  Iter    34:    Energy =   0.0941
Level     0,  Iter    35:    Energy =   0.0940
Level     0,  Iter    36:    Energy =   0.0943
Level     0,  Iter    37:    Energy =   0.0941
Level     0,  Iter    38:    Energy =   0.0944
Level     0,  Iter    39:    Energy =   0.0943
Level     0,  Iter    40:    Energy =   0.0944
Level     0,  Iter    41:    Energy =   0.0943
Level     0,  Iter    42:    Energy =   0.0945
Level     0,  Iter    43:    Energy =   0.0944
Level     0,  Iter    44:    Energy =   0.0946
Level     0,  Iter    45:    Energy =   0.0945
Level     0,  Iter    46:    Energy =   0.0946
Level     0,  Iter    47:    Energy =   0.0945
Level     0,  Iter    48:    Energy =   0.0947
Level     0,  Iter    49:    Energy =   0.0946
Level     0,  Iter    50:    Energy =   0.0947
Level     0,  Iter    51:    Energy =   0.0946
Level     0,  Iter    52:    Energy =   0.0948
Level     0,  Iter    53:    Energy =   0.0947
Level     0,  Iter    54:    Energy =   0.0948
Level     0,  Iter    55:    Energy =   0.0946
Level     0,  Iter    56:    Energy =   0.0949
Level     0,  Iter    57:    Energy =   0.0948
Level     0,  Iter    58:    Energy =   0.0949
Level     0,  Iter    59:    Energy =   0.0948
END OF LEVEL     0    DetJac Range:   0.0988  to   1.9602 
  Avg. Gradient Time  : 0.0072s  37.61% 
  Avg. Gaussian Time  : 0.0091s  47.24% 
  Avg. Iteration Time : 0.0192s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19054, 1.19548, 1.20054], [0.486035, 0.488052, 0.490116]
Level     1,  Iter     0:    Energy =   0.0665
Level     1,  Iter     1:    Energy =   0.0710
Level     1,  Iter     2:    Energy =   0.0749
Level     1,  Iter     3:    Energy =   0.0780
Level     1,  Iter     4:    Energy =   0.0801
Level     1,  Iter     5:    Energy =   0.0819
Level     1,  Iter     6:    Energy =   0.0833
Level     1,  Iter     7:    Energy =   0.0844
Level     1,  Iter     8:    Energy =   0.0853
Level     1,  Iter     9:    Energy =   0.0861
Level     1,  Iter    10:    Energy =   0.0867
Level     1,  Iter    11:    Energy =   0.0872
Level     1,  Iter    12:    Energy =   0.0876
Level     1,  Iter    13:    Energy =   0.0879
Level     1,  Iter    14:    Energy =   0.0883
Level     1,  Iter    15:    Energy =   0.0885
Level     1,  Iter    16:    Energy =   0.0889
Level     1,  Iter    17:    Energy =   0.0890
Level     1,  Iter    18:    Energy =   0.0893
Level     1,  Iter    19:    Energy =   0.0895
Level     1,  Iter    20:    Energy =   0.0897
Level     1,  Iter    21:    Energy =   0.0898
Level     1,  Iter    22:    Energy =   0.0900
Level     1,  Iter    23:    Energy =   0.0902
Level     1,  Iter    24:    Energy =   0.0904
Level     1,  Iter    25:    Energy =   0.0905
Level     1,  Iter    26:    Energy =   0.0906
Level     1,  Iter    27:    Energy =   0.0907
Level     1,  Iter    28:    Energy =   0.0909
Level     1,  Iter    29:    Energy =   0.0909
Level     1,  Iter    30:    Energy =   0.0911
Level     1,  Iter    31:    Energy =   0.0911
Level     1,  Iter    32:    Energy =   0.0912
Level     1,  Iter    33:    Energy =   0.0912
Level     1,  Iter    34:    Energy =   0.0913
Level     1,  Iter    35:    Energy =   0.0914
Level     1,  Iter    36:    Energy =   0.0913
Level     1,  Iter    37:    Energy =   0.0914
Level     1,  Iter    38:    Energy =   0.0914
Level     1,  Iter    39:    Energy =   0.0915
Level     1,  Iter    40:    Energy =   0.0915
Level     1,  Iter    41:    Energy =   0.0916
Level     1,  Iter    42:    Energy =   0.0916
Level     1,  Iter    43:    Energy =   0.0916
Level     1,  Iter    44:    Energy =   0.0916
Level     1,  Iter    45:    Energy =   0.0916
Level     1,  Iter    46:    Energy =   0.0917
Level     1,  Iter    47:    Energy =   0.0917
Level     1,  Iter    48:    Energy =   0.0917
Level     1,  Iter    49:    Energy =   0.0918
Level     1,  Iter    50:    Energy =   0.0917
Level     1,  Iter    51:    Energy =   0.0918
Level     1,  Iter    52:    Energy =   0.0918
Level     1,  Iter    53:    Energy =   0.0918
Level     1,  Iter    54:    Energy =   0.0918
Level     1,  Iter    55:    Energy =   0.0919
Level     1,  Iter    56:    Energy =   0.0918
Level     1,  Iter    57:    Energy =   0.0919
Level     1,  Iter    58:    Energy =   0.0919
Level     1,  Iter    59:    Energy =   0.0919
END OF LEVEL     1    DetJac Range:   0.0684  to   2.4017 
  Avg. Gradient Time  : 0.0415s  40.44% 
  Avg. Gaussian Time  : 0.0490s  47.78% 
  Avg. Iteration Time : 0.1026s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0476
Level     2,  Iter     1:    Energy =   0.0502
Level     2,  Iter     2:    Energy =   0.0526
Level     2,  Iter     3:    Energy =   0.0546
Level     2,  Iter     4:    Energy =   0.0564
Level     2,  Iter     5:    Energy =   0.0580
Level     2,  Iter     6:    Energy =   0.0592
Level     2,  Iter     7:    Energy =   0.0602
Level     2,  Iter     8:    Energy =   0.0611
Level     2,  Iter     9:    Energy =   0.0620
Level     2,  Iter    10:    Energy =   0.0628
Level     2,  Iter    11:    Energy =   0.0635
Level     2,  Iter    12:    Energy =   0.0642
Level     2,  Iter    13:    Energy =   0.0648
Level     2,  Iter    14:    Energy =   0.0653
Level     2,  Iter    15:    Energy =   0.0659
Level     2,  Iter    16:    Energy =   0.0664
Level     2,  Iter    17:    Energy =   0.0668
Level     2,  Iter    18:    Energy =   0.0673
Level     2,  Iter    19:    Energy =   0.0676
END OF LEVEL     2    DetJac Range:   0.0287  to   4.8460 
  Avg. Gradient Time  : 0.2866s  37.60% 
  Avg. Gaussian Time  : 0.3945s  51.76% 
  Avg. Iteration Time : 0.7622s 

real	0m25.504s
user	0m44.872s
sys	0m2.652s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train017/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train017/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=17 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=17 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.698077 0.703846
+ echo 'CHUNK 0.698077 0.703846 1'
CHUNK 0.698077 0.703846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.698077 0.703846 1
====================================
         PROGRESS: 0.698077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=018
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 018
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train018
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train018
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 018 left 0
+ local tid=018
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 018 0
+ set -e
+ local tid=018
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train018/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1594.40 	 OutFr   0.0000 	 RMSD     2.2751
Iter 002 	 Temp     3.72 	 Delta  1525.68 	 OutFr   0.0000 	 RMSD     2.1135
Iter 003 	 Temp     3.46 	 Delta  1435.91 	 OutFr   0.0000 	 RMSD     2.1146
Iter 004 	 Temp     3.22 	 Delta  1350.69 	 OutFr   0.0000 	 RMSD     2.0920
Iter 005 	 Temp     2.99 	 Delta  1271.36 	 OutFr   0.0000 	 RMSD     2.0697
Iter 006 	 Temp     2.78 	 Delta  1197.17 	 OutFr   0.0000 	 RMSD     2.0510
Iter 007 	 Temp     2.59 	 Delta  1127.56 	 OutFr   0.0024 	 RMSD     2.0369
Iter 008 	 Temp     2.41 	 Delta  1062.20 	 OutFr   0.0024 	 RMSD     2.0253
Iter 009 	 Temp     2.24 	 Delta  1001.56 	 OutFr   0.0024 	 RMSD     2.0158
Iter 010 	 Temp     2.08 	 Delta   947.48 	 OutFr   0.0024 	 RMSD     2.0084
Iter 011 	 Temp     1.94 	 Delta   901.42 	 OutFr   0.0048 	 RMSD     2.0032
Iter 012 	 Temp     1.80 	 Delta   861.65 	 OutFr   0.0072 	 RMSD     1.9995
Iter 013 	 Temp     1.67 	 Delta   824.57 	 OutFr   0.0097 	 RMSD     1.9966
Iter 014 	 Temp     1.56 	 Delta   787.96 	 OutFr   0.0097 	 RMSD     1.9944
Iter 015 	 Temp     1.45 	 Delta   750.53 	 OutFr   0.0121 	 RMSD     1.9928
Iter 016 	 Temp     1.35 	 Delta   711.16 	 OutFr   0.0145 	 RMSD     1.9908
Iter 017 	 Temp     1.25 	 Delta   669.66 	 OutFr   0.0217 	 RMSD     1.9881
Iter 018 	 Temp     1.16 	 Delta   628.56 	 OutFr   0.0314 	 RMSD     1.9850
Iter 019 	 Temp     1.08 	 Delta   590.15 	 OutFr   0.0362 	 RMSD     1.9821
Iter 020 	 Temp     1.01 	 Delta   554.52 	 OutFr   0.0411 	 RMSD     1.9794
Iter 021 	 Temp     0.94 	 Delta   521.81 	 OutFr   0.0507 	 RMSD     1.9773
Iter 022 	 Temp     0.87 	 Delta   492.00 	 OutFr   0.0556 	 RMSD     1.9756
Iter 023 	 Temp     0.81 	 Delta   465.16 	 OutFr   0.0652 	 RMSD     1.9738
Iter 024 	 Temp     0.75 	 Delta   443.27 	 OutFr   0.0725 	 RMSD     1.9715
Iter 025 	 Temp     0.70 	 Delta   426.61 	 OutFr   0.0845 	 RMSD     1.9695
Iter 026 	 Temp     0.65 	 Delta   410.38 	 OutFr   0.0990 	 RMSD     1.9681
Iter 027 	 Temp     0.61 	 Delta   390.62 	 OutFr   0.1135 	 RMSD     1.9670
Iter 028 	 Temp     0.56 	 Delta   366.31 	 OutFr   0.1256 	 RMSD     1.9656
Iter 029 	 Temp     0.52 	 Delta   339.32 	 OutFr   0.1522 	 RMSD     1.9639
Iter 030 	 Temp     0.49 	 Delta   312.94 	 OutFr   0.1787 	 RMSD     1.9620
Iter 031 	 Temp     0.45 	 Delta   288.30 	 OutFr   0.2222 	 RMSD     1.9608
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train018/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.JriA6oZx/mybin.nii.gz
+ vtklevelset /tmp/ashs.JriA6oZx/mybin.nii.gz /tmp/ashs.JriA6oZx/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.JriA6oZx/mymesh.vtk /tmp/ashs.JriA6oZx/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2810.03302501 2827.30299262   1.00614582
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.JriA6oZx/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train018/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -35.0611 to -9.42247
   Y : -27.3505 to 16.3197
   Z : -5.31665 to 18.3297
   Image resolution  : 103 by 155 by 97
   Image box origin  : {-40.0611, -32.3505, -10.3166}
   Image box size    : {35.7639, 53.8194, 33.9496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [40.0611, 32.3505, -10.3166]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train018/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_fwd.mat -o /tmp/ashs.JriA6oZx/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train018/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_inv.mat -o /tmp/ashs.JriA6oZx/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train018/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.JriA6oZx/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train018/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=18 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=18 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.703846 0.709615
+ echo 'CHUNK 0.703846 0.709615 0.5'
CHUNK 0.703846 0.709615 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.703846 0.709615 0.5
====================================
         PROGRESS: 0.703846               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train018/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.JriA6oZx/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.JriA6oZx/fixed_hw.nii.gz /tmp/ashs.JriA6oZx/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train018/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.684914, moving = 0.575321
LEVEL 1 of 3
  Smoothing sigmas: [2.38249, 2.3902, 2.3521], [0.972649, 0.975797, 0.96024]
Level     0,  Iter     0:    Energy =   0.0650
Level     0,  Iter     1:    Energy =   0.0736
Level     0,  Iter     2:    Energy =   0.0799
Level     0,  Iter     3:    Energy =   0.0850
Level     0,  Iter     4:    Energy =   0.0885
Level     0,  Iter     5:    Energy =   0.0913
Level     0,  Iter     6:    Energy =   0.0938
Level     0,  Iter     7:    Energy =   0.0960
Level     0,  Iter     8:    Energy =   0.0976
Level     0,  Iter     9:    Energy =   0.0985
Level     0,  Iter    10:    Energy =   0.0989
Level     0,  Iter    11:    Energy =   0.0993
Level     0,  Iter    12:    Energy =   0.0995
Level     0,  Iter    13:    Energy =   0.0996
Level     0,  Iter    14:    Energy =   0.0998
Level     0,  Iter    15:    Energy =   0.0999
Level     0,  Iter    16:    Energy =   0.1002
Level     0,  Iter    17:    Energy =   0.1002
Level     0,  Iter    18:    Energy =   0.1004
Level     0,  Iter    19:    Energy =   0.1004
Level     0,  Iter    20:    Energy =   0.1006
Level     0,  Iter    21:    Energy =   0.1006
Level     0,  Iter    22:    Energy =   0.1008
Level     0,  Iter    23:    Energy =   0.1007
Level     0,  Iter    24:    Energy =   0.1009
Level     0,  Iter    25:    Energy =   0.1008
Level     0,  Iter    26:    Energy =   0.1010
Level     0,  Iter    27:    Energy =   0.1009
Level     0,  Iter    28:    Energy =   0.1011
Level     0,  Iter    29:    Energy =   0.1009
Level     0,  Iter    30:    Energy =   0.1011
Level     0,  Iter    31:    Energy =   0.1010
Level     0,  Iter    32:    Energy =   0.1012
Level     0,  Iter    33:    Energy =   0.1011
Level     0,  Iter    34:    Energy =   0.1013
Level     0,  Iter    35:    Energy =   0.1012
Level     0,  Iter    36:    Energy =   0.1013
Level     0,  Iter    37:    Energy =   0.1012
Level     0,  Iter    38:    Energy =   0.1014
Level     0,  Iter    39:    Energy =   0.1012
Level     0,  Iter    40:    Energy =   0.1014
Level     0,  Iter    41:    Energy =   0.1013
Level     0,  Iter    42:    Energy =   0.1014
Level     0,  Iter    43:    Energy =   0.1013
Level     0,  Iter    44:    Energy =   0.1015
Level     0,  Iter    45:    Energy =   0.1013
Level     0,  Iter    46:    Energy =   0.1015
Level     0,  Iter    47:    Energy =   0.1014
Level     0,  Iter    48:    Energy =   0.1015
Level     0,  Iter    49:    Energy =   0.1014
Level     0,  Iter    50:    Energy =   0.1016
Level     0,  Iter    51:    Energy =   0.1014
Level     0,  Iter    52:    Energy =   0.1016
Level     0,  Iter    53:    Energy =   0.1014
Level     0,  Iter    54:    Energy =   0.1016
Level     0,  Iter    55:    Energy =   0.1014
Level     0,  Iter    56:    Energy =   0.1016
Level     0,  Iter    57:    Energy =   0.1014
Level     0,  Iter    58:    Energy =   0.1016
Level     0,  Iter    59:    Energy =   0.1014
END OF LEVEL     0    DetJac Range:   0.5122  to   1.8701 
  Avg. Gradient Time  : 0.0068s  37.32% 
  Avg. Gaussian Time  : 0.0086s  47.39% 
  Avg. Iteration Time : 0.0182s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19125, 1.1951, 1.20005], [0.486324, 0.487898, 0.489918]
Level     1,  Iter     0:    Energy =   0.0670
Level     1,  Iter     1:    Energy =   0.0718
Level     1,  Iter     2:    Energy =   0.0763
Level     1,  Iter     3:    Energy =   0.0795
Level     1,  Iter     4:    Energy =   0.0822
Level     1,  Iter     5:    Energy =   0.0841
Level     1,  Iter     6:    Energy =   0.0856
Level     1,  Iter     7:    Energy =   0.0870
Level     1,  Iter     8:    Energy =   0.0874
Level     1,  Iter     9:    Energy =   0.0879
Level     1,  Iter    10:    Energy =   0.0884
Level     1,  Iter    11:    Energy =   0.0887
Level     1,  Iter    12:    Energy =   0.0892
Level     1,  Iter    13:    Energy =   0.0893
Level     1,  Iter    14:    Energy =   0.0897
Level     1,  Iter    15:    Energy =   0.0898
Level     1,  Iter    16:    Energy =   0.0904
Level     1,  Iter    17:    Energy =   0.0904
Level     1,  Iter    18:    Energy =   0.0910
Level     1,  Iter    19:    Energy =   0.0909
Level     1,  Iter    20:    Energy =   0.0913
Level     1,  Iter    21:    Energy =   0.0911
Level     1,  Iter    22:    Energy =   0.0915
Level     1,  Iter    23:    Energy =   0.0914
Level     1,  Iter    24:    Energy =   0.0918
Level     1,  Iter    25:    Energy =   0.0916
Level     1,  Iter    26:    Energy =   0.0920
Level     1,  Iter    27:    Energy =   0.0920
Level     1,  Iter    28:    Energy =   0.0922
Level     1,  Iter    29:    Energy =   0.0920
Level     1,  Iter    30:    Energy =   0.0923
Level     1,  Iter    31:    Energy =   0.0922
Level     1,  Iter    32:    Energy =   0.0924
Level     1,  Iter    33:    Energy =   0.0923
Level     1,  Iter    34:    Energy =   0.0926
Level     1,  Iter    35:    Energy =   0.0925
Level     1,  Iter    36:    Energy =   0.0928
Level     1,  Iter    37:    Energy =   0.0926
Level     1,  Iter    38:    Energy =   0.0929
Level     1,  Iter    39:    Energy =   0.0927
Level     1,  Iter    40:    Energy =   0.0930
Level     1,  Iter    41:    Energy =   0.0928
Level     1,  Iter    42:    Energy =   0.0932
Level     1,  Iter    43:    Energy =   0.0930
Level     1,  Iter    44:    Energy =   0.0933
Level     1,  Iter    45:    Energy =   0.0931
Level     1,  Iter    46:    Energy =   0.0934
Level     1,  Iter    47:    Energy =   0.0932
Level     1,  Iter    48:    Energy =   0.0936
Level     1,  Iter    49:    Energy =   0.0933
Level     1,  Iter    50:    Energy =   0.0937
Level     1,  Iter    51:    Energy =   0.0934
Level     1,  Iter    52:    Energy =   0.0939
Level     1,  Iter    53:    Energy =   0.0936
Level     1,  Iter    54:    Energy =   0.0939
Level     1,  Iter    55:    Energy =   0.0937
Level     1,  Iter    56:    Energy =   0.0941
Level     1,  Iter    57:    Energy =   0.0938
Level     1,  Iter    58:    Energy =   0.0942
Level     1,  Iter    59:    Energy =   0.0939
END OF LEVEL     1    DetJac Range:   0.2044  to   3.3523 
  Avg. Gradient Time  : 0.0381s  39.57% 
  Avg. Gaussian Time  : 0.0466s  48.35% 
  Avg. Iteration Time : 0.0963s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0499
Level     2,  Iter     1:    Energy =   0.0522
Level     2,  Iter     2:    Energy =   0.0543
Level     2,  Iter     3:    Energy =   0.0563
Level     2,  Iter     4:    Energy =   0.0578
Level     2,  Iter     5:    Energy =   0.0591
Level     2,  Iter     6:    Energy =   0.0601
Level     2,  Iter     7:    Energy =   0.0608
Level     2,  Iter     8:    Energy =   0.0614
Level     2,  Iter     9:    Energy =   0.0621
Level     2,  Iter    10:    Energy =   0.0628
Level     2,  Iter    11:    Energy =   0.0637
Level     2,  Iter    12:    Energy =   0.0645
Level     2,  Iter    13:    Energy =   0.0653
Level     2,  Iter    14:    Energy =   0.0660
Level     2,  Iter    15:    Energy =   0.0667
Level     2,  Iter    16:    Energy =   0.0674
Level     2,  Iter    17:    Energy =   0.0680
Level     2,  Iter    18:    Energy =   0.0686
Level     2,  Iter    19:    Energy =   0.0691
END OF LEVEL     2    DetJac Range:   0.0899  to   4.4914 
  Avg. Gradient Time  : 0.2722s  37.10% 
  Avg. Gaussian Time  : 0.3833s  52.24% 
  Avg. Iteration Time : 0.7338s 

real	0m24.397s
user	0m43.096s
sys	0m2.380s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train018/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train018/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=18 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=18 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.703846 0.709615
+ echo 'CHUNK 0.703846 0.709615 1'
CHUNK 0.703846 0.709615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.703846 0.709615 1
====================================
         PROGRESS: 0.703846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=019
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 019
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train019
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train019
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 019 left 0
+ local tid=019
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 019 0
+ set -e
+ local tid=019
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train019/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1978.59 	 OutFr   0.0072 	 RMSD     3.2920
Iter 002 	 Temp     3.72 	 Delta  1801.97 	 OutFr   0.0000 	 RMSD     2.5527
Iter 003 	 Temp     3.46 	 Delta  1649.00 	 OutFr   0.0000 	 RMSD     2.4374
Iter 004 	 Temp     3.22 	 Delta  1513.39 	 OutFr   0.0000 	 RMSD     2.3914
Iter 005 	 Temp     2.99 	 Delta  1389.36 	 OutFr   0.0000 	 RMSD     2.3669
Iter 006 	 Temp     2.78 	 Delta  1276.31 	 OutFr   0.0000 	 RMSD     2.3477
Iter 007 	 Temp     2.59 	 Delta  1174.28 	 OutFr   0.0000 	 RMSD     2.3318
Iter 008 	 Temp     2.41 	 Delta  1085.57 	 OutFr   0.0024 	 RMSD     2.3194
Iter 009 	 Temp     2.24 	 Delta  1016.11 	 OutFr   0.0072 	 RMSD     2.3109
Iter 010 	 Temp     2.08 	 Delta   966.27 	 OutFr   0.0072 	 RMSD     2.3051
Iter 011 	 Temp     1.94 	 Delta   930.17 	 OutFr   0.0097 	 RMSD     2.3012
Iter 012 	 Temp     1.80 	 Delta   902.29 	 OutFr   0.0121 	 RMSD     2.2992
Iter 013 	 Temp     1.67 	 Delta   877.88 	 OutFr   0.0121 	 RMSD     2.2982
Iter 014 	 Temp     1.56 	 Delta   853.10 	 OutFr   0.0193 	 RMSD     2.2978
Iter 015 	 Temp     1.45 	 Delta   825.43 	 OutFr   0.0314 	 RMSD     2.2974
Iter 016 	 Temp     1.35 	 Delta   794.15 	 OutFr   0.0338 	 RMSD     2.2974
Iter 017 	 Temp     1.25 	 Delta   760.47 	 OutFr   0.0411 	 RMSD     2.2974
Iter 018 	 Temp     1.16 	 Delta   725.04 	 OutFr   0.0531 	 RMSD     2.2974
Iter 019 	 Temp     1.08 	 Delta   686.06 	 OutFr   0.0604 	 RMSD     2.2975
Iter 020 	 Temp     1.01 	 Delta   642.22 	 OutFr   0.0845 	 RMSD     2.2980
Iter 021 	 Temp     0.94 	 Delta   596.15 	 OutFr   0.0918 	 RMSD     2.2985
Iter 022 	 Temp     0.87 	 Delta   553.00 	 OutFr   0.1063 	 RMSD     2.2991
Iter 023 	 Temp     0.81 	 Delta   513.30 	 OutFr   0.1353 	 RMSD     2.2995
Iter 024 	 Temp     0.75 	 Delta   475.78 	 OutFr   0.1691 	 RMSD     2.3003
Iter 025 	 Temp     0.70 	 Delta   442.23 	 OutFr   0.1860 	 RMSD     2.3015
Iter 026 	 Temp     0.65 	 Delta   414.06 	 OutFr   0.2005 	 RMSD     2.3033
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train019/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.xlg4dNUY/mybin.nii.gz
+ vtklevelset /tmp/ashs.xlg4dNUY/mybin.nii.gz /tmp/ashs.xlg4dNUY/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.xlg4dNUY/mymesh.vtk /tmp/ashs.xlg4dNUY/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2810.03302501 3043.24162362   1.08299141
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.xlg4dNUY/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train019/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -35.3961 to -9.71229
   Y : -22.2814 to 22.7463
   Z : -18.2169 to 9.67177
   Image resolution  : 103 by 159 by 109
   Image box origin  : {-40.3961, -27.2814, -23.2169}
   Image box size    : {35.7639, 55.2083, 38.1496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [40.3961, 27.2814, -23.2169]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train019/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_fwd.mat -o /tmp/ashs.xlg4dNUY/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train019/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_inv.mat -o /tmp/ashs.xlg4dNUY/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train019/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.xlg4dNUY/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train019/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=19 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=19 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.709615 0.715385
+ echo 'CHUNK 0.709615 0.715385 0.5'
CHUNK 0.709615 0.715385 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.709615 0.715385 0.5
====================================
         PROGRESS: 0.709615               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train019/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.xlg4dNUY/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.xlg4dNUY/fixed_hw.nii.gz /tmp/ashs.xlg4dNUY/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train019/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.65547, moving = 0.438731
LEVEL 1 of 3
  Smoothing sigmas: [2.38249, 2.39059, 2.35989], [0.972649, 0.975954, 0.963422]
Level     0,  Iter     0:    Energy =   0.0446
Level     0,  Iter     1:    Energy =   0.0519
Level     0,  Iter     2:    Energy =   0.0585
Level     0,  Iter     3:    Energy =   0.0638
Level     0,  Iter     4:    Energy =   0.0684
Level     0,  Iter     5:    Energy =   0.0721
Level     0,  Iter     6:    Energy =   0.0755
Level     0,  Iter     7:    Energy =   0.0773
Level     0,  Iter     8:    Energy =   0.0784
Level     0,  Iter     9:    Energy =   0.0795
Level     0,  Iter    10:    Energy =   0.0803
Level     0,  Iter    11:    Energy =   0.0811
Level     0,  Iter    12:    Energy =   0.0818
Level     0,  Iter    13:    Energy =   0.0824
Level     0,  Iter    14:    Energy =   0.0830
Level     0,  Iter    15:    Energy =   0.0835
Level     0,  Iter    16:    Energy =   0.0840
Level     0,  Iter    17:    Energy =   0.0844
Level     0,  Iter    18:    Energy =   0.0848
Level     0,  Iter    19:    Energy =   0.0851
Level     0,  Iter    20:    Energy =   0.0853
Level     0,  Iter    21:    Energy =   0.0856
Level     0,  Iter    22:    Energy =   0.0857
Level     0,  Iter    23:    Energy =   0.0859
Level     0,  Iter    24:    Energy =   0.0860
Level     0,  Iter    25:    Energy =   0.0863
Level     0,  Iter    26:    Energy =   0.0864
Level     0,  Iter    27:    Energy =   0.0867
Level     0,  Iter    28:    Energy =   0.0867
Level     0,  Iter    29:    Energy =   0.0870
Level     0,  Iter    30:    Energy =   0.0871
Level     0,  Iter    31:    Energy =   0.0873
Level     0,  Iter    32:    Energy =   0.0874
Level     0,  Iter    33:    Energy =   0.0876
Level     0,  Iter    34:    Energy =   0.0876
Level     0,  Iter    35:    Energy =   0.0878
Level     0,  Iter    36:    Energy =   0.0878
Level     0,  Iter    37:    Energy =   0.0881
Level     0,  Iter    38:    Energy =   0.0881
Level     0,  Iter    39:    Energy =   0.0883
Level     0,  Iter    40:    Energy =   0.0882
Level     0,  Iter    41:    Energy =   0.0885
Level     0,  Iter    42:    Energy =   0.0884
Level     0,  Iter    43:    Energy =   0.0886
Level     0,  Iter    44:    Energy =   0.0885
Level     0,  Iter    45:    Energy =   0.0887
Level     0,  Iter    46:    Energy =   0.0886
Level     0,  Iter    47:    Energy =   0.0888
Level     0,  Iter    48:    Energy =   0.0888
Level     0,  Iter    49:    Energy =   0.0889
Level     0,  Iter    50:    Energy =   0.0888
Level     0,  Iter    51:    Energy =   0.0890
Level     0,  Iter    52:    Energy =   0.0889
Level     0,  Iter    53:    Energy =   0.0891
Level     0,  Iter    54:    Energy =   0.0889
Level     0,  Iter    55:    Energy =   0.0891
Level     0,  Iter    56:    Energy =   0.0890
Level     0,  Iter    57:    Energy =   0.0892
Level     0,  Iter    58:    Energy =   0.0891
Level     0,  Iter    59:    Energy =   0.0892
END OF LEVEL     0    DetJac Range:   0.1359  to   1.7477 
  Avg. Gradient Time  : 0.0074s  37.50% 
  Avg. Gaussian Time  : 0.0094s  47.58% 
  Avg. Iteration Time : 0.0197s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19125, 1.19529, 1.2014], [0.486324, 0.487977, 0.490469]
Level     1,  Iter     0:    Energy =   0.0629
Level     1,  Iter     1:    Energy =   0.0669
Level     1,  Iter     2:    Energy =   0.0697
Level     1,  Iter     3:    Energy =   0.0716
Level     1,  Iter     4:    Energy =   0.0732
Level     1,  Iter     5:    Energy =   0.0745
Level     1,  Iter     6:    Energy =   0.0758
Level     1,  Iter     7:    Energy =   0.0769
Level     1,  Iter     8:    Energy =   0.0779
Level     1,  Iter     9:    Energy =   0.0789
Level     1,  Iter    10:    Energy =   0.0800
Level     1,  Iter    11:    Energy =   0.0809
Level     1,  Iter    12:    Energy =   0.0817
Level     1,  Iter    13:    Energy =   0.0824
Level     1,  Iter    14:    Energy =   0.0830
Level     1,  Iter    15:    Energy =   0.0835
Level     1,  Iter    16:    Energy =   0.0840
Level     1,  Iter    17:    Energy =   0.0844
Level     1,  Iter    18:    Energy =   0.0847
Level     1,  Iter    19:    Energy =   0.0846
Level     1,  Iter    20:    Energy =   0.0849
Level     1,  Iter    21:    Energy =   0.0847
Level     1,  Iter    22:    Energy =   0.0850
Level     1,  Iter    23:    Energy =   0.0850
Level     1,  Iter    24:    Energy =   0.0849
Level     1,  Iter    25:    Energy =   0.0851
Level     1,  Iter    26:    Energy =   0.0849
Level     1,  Iter    27:    Energy =   0.0851
Level     1,  Iter    28:    Energy =   0.0850
Level     1,  Iter    29:    Energy =   0.0852
Level     1,  Iter    30:    Energy =   0.0851
Level     1,  Iter    31:    Energy =   0.0853
Level     1,  Iter    32:    Energy =   0.0852
Level     1,  Iter    33:    Energy =   0.0854
Level     1,  Iter    34:    Energy =   0.0853
Level     1,  Iter    35:    Energy =   0.0855
Level     1,  Iter    36:    Energy =   0.0853
Level     1,  Iter    37:    Energy =   0.0855
Level     1,  Iter    38:    Energy =   0.0854
Level     1,  Iter    39:    Energy =   0.0856
Level     1,  Iter    40:    Energy =   0.0855
Level     1,  Iter    41:    Energy =   0.0857
Level     1,  Iter    42:    Energy =   0.0857
Level     1,  Iter    43:    Energy =   0.0858
Level     1,  Iter    44:    Energy =   0.0857
Level     1,  Iter    45:    Energy =   0.0859
Level     1,  Iter    46:    Energy =   0.0858
Level     1,  Iter    47:    Energy =   0.0859
Level     1,  Iter    48:    Energy =   0.0859
Level     1,  Iter    49:    Energy =   0.0859
Level     1,  Iter    50:    Energy =   0.0860
Level     1,  Iter    51:    Energy =   0.0860
Level     1,  Iter    52:    Energy =   0.0860
Level     1,  Iter    53:    Energy =   0.0861
Level     1,  Iter    54:    Energy =   0.0861
Level     1,  Iter    55:    Energy =   0.0862
Level     1,  Iter    56:    Energy =   0.0861
Level     1,  Iter    57:    Energy =   0.0862
Level     1,  Iter    58:    Energy =   0.0862
Level     1,  Iter    59:    Energy =   0.0863
END OF LEVEL     1    DetJac Range:   0.0736  to   2.4764 
  Avg. Gradient Time  : 0.0453s  40.41% 
  Avg. Gaussian Time  : 0.0535s  47.75% 
  Avg. Iteration Time : 0.1121s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0450
Level     2,  Iter     1:    Energy =   0.0471
Level     2,  Iter     2:    Energy =   0.0489
Level     2,  Iter     3:    Energy =   0.0510
Level     2,  Iter     4:    Energy =   0.0528
Level     2,  Iter     5:    Energy =   0.0542
Level     2,  Iter     6:    Energy =   0.0553
Level     2,  Iter     7:    Energy =   0.0564
Level     2,  Iter     8:    Energy =   0.0577
Level     2,  Iter     9:    Energy =   0.0587
Level     2,  Iter    10:    Energy =   0.0598
Level     2,  Iter    11:    Energy =   0.0607
Level     2,  Iter    12:    Energy =   0.0614
Level     2,  Iter    13:    Energy =   0.0621
Level     2,  Iter    14:    Energy =   0.0628
Level     2,  Iter    15:    Energy =   0.0634
Level     2,  Iter    16:    Energy =   0.0641
Level     2,  Iter    17:    Energy =   0.0647
Level     2,  Iter    18:    Energy =   0.0652
Level     2,  Iter    19:    Energy =   0.0653
END OF LEVEL     2    DetJac Range:   0.0308  to   5.6145 
  Avg. Gradient Time  : 0.3162s  36.57% 
  Avg. Gaussian Time  : 0.4589s  53.07% 
  Avg. Iteration Time : 0.8646s 

real	0m28.770s
user	0m51.236s
sys	0m2.672s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train019/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train019/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=19 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=19 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.709615 0.715385
+ echo 'CHUNK 0.709615 0.715385 1'
CHUNK 0.709615 0.715385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.709615 0.715385 1
====================================
         PROGRESS: 0.709615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=020
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 020
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train020
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train020
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 020 left 0
+ local tid=020
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 020 0
+ set -e
+ local tid=020
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train020/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2542.11 	 OutFr   0.0266 	 RMSD     4.7014
Iter 002 	 Temp     3.72 	 Delta  2556.10 	 OutFr   0.0217 	 RMSD     2.6050
Iter 003 	 Temp     3.46 	 Delta  2563.98 	 OutFr   0.0217 	 RMSD     2.6007
Iter 004 	 Temp     3.22 	 Delta  2529.73 	 OutFr   0.0217 	 RMSD     2.5996
Iter 005 	 Temp     2.99 	 Delta  2450.64 	 OutFr   0.0193 	 RMSD     2.5945
Iter 006 	 Temp     2.78 	 Delta  2345.42 	 OutFr   0.0193 	 RMSD     2.5839
Iter 007 	 Temp     2.59 	 Delta  2228.17 	 OutFr   0.0217 	 RMSD     2.5713
Iter 008 	 Temp     2.41 	 Delta  2108.08 	 OutFr   0.0242 	 RMSD     2.5579
Iter 009 	 Temp     2.24 	 Delta  1988.85 	 OutFr   0.0242 	 RMSD     2.5445
Iter 010 	 Temp     2.08 	 Delta  1869.69 	 OutFr   0.0290 	 RMSD     2.5308
Iter 011 	 Temp     1.94 	 Delta  1750.19 	 OutFr   0.0314 	 RMSD     2.5194
Iter 012 	 Temp     1.80 	 Delta  1631.78 	 OutFr   0.0411 	 RMSD     2.5104
Iter 013 	 Temp     1.67 	 Delta  1516.54 	 OutFr   0.0435 	 RMSD     2.5026
Iter 014 	 Temp     1.56 	 Delta  1407.21 	 OutFr   0.0435 	 RMSD     2.4968
Iter 015 	 Temp     1.45 	 Delta  1307.22 	 OutFr   0.0507 	 RMSD     2.4941
Iter 016 	 Temp     1.35 	 Delta  1216.96 	 OutFr   0.0531 	 RMSD     2.4932
Iter 017 	 Temp     1.25 	 Delta  1135.26 	 OutFr   0.0676 	 RMSD     2.4942
Iter 018 	 Temp     1.16 	 Delta  1059.92 	 OutFr   0.0845 	 RMSD     2.4959
Iter 019 	 Temp     1.08 	 Delta   988.28 	 OutFr   0.0942 	 RMSD     2.4972
Iter 020 	 Temp     1.01 	 Delta   917.55 	 OutFr   0.1014 	 RMSD     2.4983
Iter 021 	 Temp     0.94 	 Delta   844.75 	 OutFr   0.1111 	 RMSD     2.4996
Iter 022 	 Temp     0.87 	 Delta   768.61 	 OutFr   0.1256 	 RMSD     2.5022
Iter 023 	 Temp     0.81 	 Delta   691.62 	 OutFr   0.1498 	 RMSD     2.5069
Iter 024 	 Temp     0.75 	 Delta   619.27 	 OutFr   0.1787 	 RMSD     2.5108
Iter 025 	 Temp     0.70 	 Delta   556.11 	 OutFr   0.2150 	 RMSD     2.5143
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train020/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.LXvOnVKR/mybin.nii.gz
+ vtklevelset /tmp/ashs.LXvOnVKR/mybin.nii.gz /tmp/ashs.LXvOnVKR/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.LXvOnVKR/mymesh.vtk /tmp/ashs.LXvOnVKR/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2810.03302501 2898.45437924   1.03146630
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.LXvOnVKR/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train020/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -30.0019 to -6.06676
   Y : -22.7341 to 22.714
   Z : -17.8417 to 12.6557
   Image resolution  : 98 by 160 by 116
   Image box origin  : {-35.0019, -27.7341, -22.8417}
   Image box size    : {34.0278, 55.5555, 40.5995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [35.0019, 27.7341, -22.8417]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train020/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_fwd.mat -o /tmp/ashs.LXvOnVKR/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train020/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_inv.mat -o /tmp/ashs.LXvOnVKR/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train020/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.LXvOnVKR/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train020/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=20 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=20 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.715385 0.721154
+ echo 'CHUNK 0.715385 0.721154 0.5'
CHUNK 0.715385 0.721154 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.715385 0.721154 0.5
====================================
         PROGRESS: 0.715385               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train020/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.LXvOnVKR/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.LXvOnVKR/fixed_hw.nii.gz /tmp/ashs.LXvOnVKR/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train020/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.625506, moving = 0.453141
LEVEL 1 of 3
  Smoothing sigmas: [2.35751, 2.40562, 2.42484], [0.96245, 0.982092, 0.989938]
Level     0,  Iter     0:    Energy =   0.0350
Level     0,  Iter     1:    Energy =   0.0400
Level     0,  Iter     2:    Energy =   0.0444
Level     0,  Iter     3:    Energy =   0.0483
Level     0,  Iter     4:    Energy =   0.0520
Level     0,  Iter     5:    Energy =   0.0551
Level     0,  Iter     6:    Energy =   0.0581
Level     0,  Iter     7:    Energy =   0.0608
Level     0,  Iter     8:    Energy =   0.0632
Level     0,  Iter     9:    Energy =   0.0652
Level     0,  Iter    10:    Energy =   0.0671
Level     0,  Iter    11:    Energy =   0.0688
Level     0,  Iter    12:    Energy =   0.0697
Level     0,  Iter    13:    Energy =   0.0706
Level     0,  Iter    14:    Energy =   0.0707
Level     0,  Iter    15:    Energy =   0.0712
Level     0,  Iter    16:    Energy =   0.0710
Level     0,  Iter    17:    Energy =   0.0713
Level     0,  Iter    18:    Energy =   0.0719
Level     0,  Iter    19:    Energy =   0.0720
Level     0,  Iter    20:    Energy =   0.0720
Level     0,  Iter    21:    Energy =   0.0722
Level     0,  Iter    22:    Energy =   0.0728
Level     0,  Iter    23:    Energy =   0.0731
Level     0,  Iter    24:    Energy =   0.0727
Level     0,  Iter    25:    Energy =   0.0728
Level     0,  Iter    26:    Energy =   0.0732
Level     0,  Iter    27:    Energy =   0.0733
Level     0,  Iter    28:    Energy =   0.0730
Level     0,  Iter    29:    Energy =   0.0732
Level     0,  Iter    30:    Energy =   0.0737
Level     0,  Iter    31:    Energy =   0.0739
Level     0,  Iter    32:    Energy =   0.0733
Level     0,  Iter    33:    Energy =   0.0734
Level     0,  Iter    34:    Energy =   0.0738
Level     0,  Iter    35:    Energy =   0.0738
Level     0,  Iter    36:    Energy =   0.0735
Level     0,  Iter    37:    Energy =   0.0737
Level     0,  Iter    38:    Energy =   0.0741
Level     0,  Iter    39:    Energy =   0.0745
Level     0,  Iter    40:    Energy =   0.0739
Level     0,  Iter    41:    Energy =   0.0739
Level     0,  Iter    42:    Energy =   0.0741
Level     0,  Iter    43:    Energy =   0.0741
Level     0,  Iter    44:    Energy =   0.0740
Level     0,  Iter    45:    Energy =   0.0742
Level     0,  Iter    46:    Energy =   0.0745
Level     0,  Iter    47:    Energy =   0.0746
Level     0,  Iter    48:    Energy =   0.0742
Level     0,  Iter    49:    Energy =   0.0744
Level     0,  Iter    50:    Energy =   0.0748
Level     0,  Iter    51:    Energy =   0.0752
Level     0,  Iter    52:    Energy =   0.0747
Level     0,  Iter    53:    Energy =   0.0747
Level     0,  Iter    54:    Energy =   0.0749
Level     0,  Iter    55:    Energy =   0.0749
Level     0,  Iter    56:    Energy =   0.0747
Level     0,  Iter    57:    Energy =   0.0749
Level     0,  Iter    58:    Energy =   0.0751
Level     0,  Iter    59:    Energy =   0.0753
END OF LEVEL     0    DetJac Range:   0.1411  to   2.5064 
  Avg. Gradient Time  : 0.0077s  37.12% 
  Avg. Gaussian Time  : 0.0099s  47.86% 
  Avg. Iteration Time : 0.0207s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.21242], [0.491046, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0485
Level     1,  Iter     1:    Energy =   0.0525
Level     1,  Iter     2:    Energy =   0.0561
Level     1,  Iter     3:    Energy =   0.0588
Level     1,  Iter     4:    Energy =   0.0609
Level     1,  Iter     5:    Energy =   0.0630
Level     1,  Iter     6:    Energy =   0.0648
Level     1,  Iter     7:    Energy =   0.0664
Level     1,  Iter     8:    Energy =   0.0678
Level     1,  Iter     9:    Energy =   0.0691
Level     1,  Iter    10:    Energy =   0.0701
Level     1,  Iter    11:    Energy =   0.0710
Level     1,  Iter    12:    Energy =   0.0718
Level     1,  Iter    13:    Energy =   0.0724
Level     1,  Iter    14:    Energy =   0.0727
Level     1,  Iter    15:    Energy =   0.0732
Level     1,  Iter    16:    Energy =   0.0730
Level     1,  Iter    17:    Energy =   0.0735
Level     1,  Iter    18:    Energy =   0.0735
Level     1,  Iter    19:    Energy =   0.0737
Level     1,  Iter    20:    Energy =   0.0736
Level     1,  Iter    21:    Energy =   0.0740
Level     1,  Iter    22:    Energy =   0.0738
Level     1,  Iter    23:    Energy =   0.0741
Level     1,  Iter    24:    Energy =   0.0740
Level     1,  Iter    25:    Energy =   0.0742
Level     1,  Iter    26:    Energy =   0.0742
Level     1,  Iter    27:    Energy =   0.0743
Level     1,  Iter    28:    Energy =   0.0743
Level     1,  Iter    29:    Energy =   0.0744
Level     1,  Iter    30:    Energy =   0.0744
Level     1,  Iter    31:    Energy =   0.0746
Level     1,  Iter    32:    Energy =   0.0746
Level     1,  Iter    33:    Energy =   0.0747
Level     1,  Iter    34:    Energy =   0.0747
Level     1,  Iter    35:    Energy =   0.0748
Level     1,  Iter    36:    Energy =   0.0748
Level     1,  Iter    37:    Energy =   0.0749
Level     1,  Iter    38:    Energy =   0.0749
Level     1,  Iter    39:    Energy =   0.0749
Level     1,  Iter    40:    Energy =   0.0749
Level     1,  Iter    41:    Energy =   0.0748
Level     1,  Iter    42:    Energy =   0.0750
Level     1,  Iter    43:    Energy =   0.0749
Level     1,  Iter    44:    Energy =   0.0751
Level     1,  Iter    45:    Energy =   0.0750
Level     1,  Iter    46:    Energy =   0.0752
Level     1,  Iter    47:    Energy =   0.0750
Level     1,  Iter    48:    Energy =   0.0752
Level     1,  Iter    49:    Energy =   0.0751
Level     1,  Iter    50:    Energy =   0.0753
Level     1,  Iter    51:    Energy =   0.0751
Level     1,  Iter    52:    Energy =   0.0753
Level     1,  Iter    53:    Energy =   0.0752
Level     1,  Iter    54:    Energy =   0.0753
Level     1,  Iter    55:    Energy =   0.0751
Level     1,  Iter    56:    Energy =   0.0754
Level     1,  Iter    57:    Energy =   0.0752
Level     1,  Iter    58:    Energy =   0.0754
Level     1,  Iter    59:    Energy =   0.0752
END OF LEVEL     1    DetJac Range:   0.1142  to   4.9175 
  Avg. Gradient Time  : 0.0442s  40.05% 
  Avg. Gaussian Time  : 0.0529s  47.95% 
  Avg. Iteration Time : 0.1104s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0383
Level     2,  Iter     1:    Energy =   0.0406
Level     2,  Iter     2:    Energy =   0.0428
Level     2,  Iter     3:    Energy =   0.0445
Level     2,  Iter     4:    Energy =   0.0459
Level     2,  Iter     5:    Energy =   0.0471
Level     2,  Iter     6:    Energy =   0.0483
Level     2,  Iter     7:    Energy =   0.0495
Level     2,  Iter     8:    Energy =   0.0504
Level     2,  Iter     9:    Energy =   0.0512
Level     2,  Iter    10:    Energy =   0.0519
Level     2,  Iter    11:    Energy =   0.0525
Level     2,  Iter    12:    Energy =   0.0532
Level     2,  Iter    13:    Energy =   0.0538
Level     2,  Iter    14:    Energy =   0.0543
Level     2,  Iter    15:    Energy =   0.0549
Level     2,  Iter    16:    Energy =   0.0556
Level     2,  Iter    17:    Energy =   0.0562
Level     2,  Iter    18:    Energy =   0.0567
Level     2,  Iter    19:    Energy =   0.0570
END OF LEVEL     2    DetJac Range:   0.0415  to   5.4575 
  Avg. Gradient Time  : 0.3146s  37.03% 
  Avg. Gaussian Time  : 0.4442s  52.29% 
  Avg. Iteration Time : 0.8496s 

real	0m28.294s
user	0m49.736s
sys	0m2.940s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train020/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train020/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=20 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=20 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.715385 0.721154
+ echo 'CHUNK 0.715385 0.721154 1'
CHUNK 0.715385 0.721154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.715385 0.721154 1
====================================
         PROGRESS: 0.715385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=021
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 021
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train021
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train021
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 021 left 0
+ local tid=021
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 021 0
+ set -e
+ local tid=021
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train021/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1425.52 	 OutFr   0.0000 	 RMSD     1.8498
Iter 002 	 Temp     3.72 	 Delta  1394.95 	 OutFr   0.0000 	 RMSD     1.7019
Iter 003 	 Temp     3.46 	 Delta  1282.96 	 OutFr   0.0000 	 RMSD     1.7086
Iter 004 	 Temp     3.22 	 Delta  1168.74 	 OutFr   0.0000 	 RMSD     1.6841
Iter 005 	 Temp     2.99 	 Delta  1065.05 	 OutFr   0.0000 	 RMSD     1.6593
Iter 006 	 Temp     2.78 	 Delta   973.92 	 OutFr   0.0000 	 RMSD     1.6369
Iter 007 	 Temp     2.59 	 Delta   894.81 	 OutFr   0.0000 	 RMSD     1.6179
Iter 008 	 Temp     2.41 	 Delta   826.10 	 OutFr   0.0000 	 RMSD     1.6024
Iter 009 	 Temp     2.24 	 Delta   765.88 	 OutFr   0.0000 	 RMSD     1.5894
Iter 010 	 Temp     2.08 	 Delta   712.69 	 OutFr   0.0000 	 RMSD     1.5790
Iter 011 	 Temp     1.94 	 Delta   666.16 	 OutFr   0.0000 	 RMSD     1.5705
Iter 012 	 Temp     1.80 	 Delta   626.15 	 OutFr   0.0000 	 RMSD     1.5640
Iter 013 	 Temp     1.67 	 Delta   591.43 	 OutFr   0.0024 	 RMSD     1.5592
Iter 014 	 Temp     1.56 	 Delta   560.49 	 OutFr   0.0048 	 RMSD     1.5555
Iter 015 	 Temp     1.45 	 Delta   533.27 	 OutFr   0.0048 	 RMSD     1.5529
Iter 016 	 Temp     1.35 	 Delta   511.18 	 OutFr   0.0072 	 RMSD     1.5509
Iter 017 	 Temp     1.25 	 Delta   495.36 	 OutFr   0.0121 	 RMSD     1.5492
Iter 018 	 Temp     1.16 	 Delta   483.49 	 OutFr   0.0121 	 RMSD     1.5478
Iter 019 	 Temp     1.08 	 Delta   471.97 	 OutFr   0.0121 	 RMSD     1.5463
Iter 020 	 Temp     1.01 	 Delta   459.67 	 OutFr   0.0121 	 RMSD     1.5445
Iter 021 	 Temp     0.94 	 Delta   447.38 	 OutFr   0.0145 	 RMSD     1.5425
Iter 022 	 Temp     0.87 	 Delta   435.71 	 OutFr   0.0169 	 RMSD     1.5401
Iter 023 	 Temp     0.81 	 Delta   424.53 	 OutFr   0.0193 	 RMSD     1.5374
Iter 024 	 Temp     0.75 	 Delta   413.17 	 OutFr   0.0242 	 RMSD     1.5352
Iter 025 	 Temp     0.70 	 Delta   399.87 	 OutFr   0.0314 	 RMSD     1.5333
Iter 026 	 Temp     0.65 	 Delta   383.73 	 OutFr   0.0386 	 RMSD     1.5313
Iter 027 	 Temp     0.61 	 Delta   365.51 	 OutFr   0.0604 	 RMSD     1.5295
Iter 028 	 Temp     0.56 	 Delta   346.04 	 OutFr   0.0773 	 RMSD     1.5278
Iter 029 	 Temp     0.52 	 Delta   325.99 	 OutFr   0.0966 	 RMSD     1.5266
Iter 030 	 Temp     0.49 	 Delta   304.46 	 OutFr   0.1329 	 RMSD     1.5259
Iter 031 	 Temp     0.45 	 Delta   280.61 	 OutFr   0.1401 	 RMSD     1.5256
Iter 032 	 Temp     0.42 	 Delta   255.57 	 OutFr   0.1618 	 RMSD     1.5254
Iter 033 	 Temp     0.39 	 Delta   230.74 	 OutFr   0.2150 	 RMSD     1.5256
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train021/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.aw5h1Q1H/mybin.nii.gz
+ vtklevelset /tmp/ashs.aw5h1Q1H/mybin.nii.gz /tmp/ashs.aw5h1Q1H/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.aw5h1Q1H/mymesh.vtk /tmp/ashs.aw5h1Q1H/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2810.03302501 2793.75870862   0.99420850
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.aw5h1Q1H/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train021/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -31.4937 to -7.49543
   Y : -23.7065 to 21.8516
   Z : -37.847 to -14.0774
   Image resolution  : 98 by 161 by 97
   Image box origin  : {-36.4937, -28.7065, -42.847}
   Image box size    : {34.0278, 55.9027, 33.9496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [36.4937, 28.7065, -42.847]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train021/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_fwd.mat -o /tmp/ashs.aw5h1Q1H/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train021/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_inv.mat -o /tmp/ashs.aw5h1Q1H/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train021/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.aw5h1Q1H/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train021/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=21 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=21 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.721154 0.726923
+ echo 'CHUNK 0.721154 0.726923 0.5'
CHUNK 0.721154 0.726923 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.721154 0.726923 0.5
====================================
         PROGRESS: 0.721154               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train021/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.aw5h1Q1H/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.aw5h1Q1H/fixed_hw.nii.gz /tmp/ashs.aw5h1Q1H/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train021/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.662342, moving = 0.671669
LEVEL 1 of 3
  Smoothing sigmas: [2.35751, 2.36162, 2.3521], [0.96245, 0.964127, 0.96024]
Level     0,  Iter     0:    Energy =   0.0511
Level     0,  Iter     1:    Energy =   0.0580
Level     0,  Iter     2:    Energy =   0.0641
Level     0,  Iter     3:    Energy =   0.0700
Level     0,  Iter     4:    Energy =   0.0745
Level     0,  Iter     5:    Energy =   0.0781
Level     0,  Iter     6:    Energy =   0.0811
Level     0,  Iter     7:    Energy =   0.0840
Level     0,  Iter     8:    Energy =   0.0862
Level     0,  Iter     9:    Energy =   0.0882
Level     0,  Iter    10:    Energy =   0.0881
Level     0,  Iter    11:    Energy =   0.0895
Level     0,  Iter    12:    Energy =   0.0892
Level     0,  Iter    13:    Energy =   0.0902
Level     0,  Iter    14:    Energy =   0.0899
Level     0,  Iter    15:    Energy =   0.0907
Level     0,  Iter    16:    Energy =   0.0903
Level     0,  Iter    17:    Energy =   0.0911
Level     0,  Iter    18:    Energy =   0.0906
Level     0,  Iter    19:    Energy =   0.0914
Level     0,  Iter    20:    Energy =   0.0910
Level     0,  Iter    21:    Energy =   0.0916
Level     0,  Iter    22:    Energy =   0.0912
Level     0,  Iter    23:    Energy =   0.0918
Level     0,  Iter    24:    Energy =   0.0914
Level     0,  Iter    25:    Energy =   0.0920
Level     0,  Iter    26:    Energy =   0.0916
Level     0,  Iter    27:    Energy =   0.0922
Level     0,  Iter    28:    Energy =   0.0918
Level     0,  Iter    29:    Energy =   0.0923
Level     0,  Iter    30:    Energy =   0.0919
Level     0,  Iter    31:    Energy =   0.0925
Level     0,  Iter    32:    Energy =   0.0921
Level     0,  Iter    33:    Energy =   0.0926
Level     0,  Iter    34:    Energy =   0.0922
Level     0,  Iter    35:    Energy =   0.0927
Level     0,  Iter    36:    Energy =   0.0922
Level     0,  Iter    37:    Energy =   0.0928
Level     0,  Iter    38:    Energy =   0.0923
Level     0,  Iter    39:    Energy =   0.0928
Level     0,  Iter    40:    Energy =   0.0924
Level     0,  Iter    41:    Energy =   0.0930
Level     0,  Iter    42:    Energy =   0.0924
Level     0,  Iter    43:    Energy =   0.0931
Level     0,  Iter    44:    Energy =   0.0927
Level     0,  Iter    45:    Energy =   0.0932
Level     0,  Iter    46:    Energy =   0.0928
Level     0,  Iter    47:    Energy =   0.0933
Level     0,  Iter    48:    Energy =   0.0928
Level     0,  Iter    49:    Energy =   0.0934
Level     0,  Iter    50:    Energy =   0.0929
Level     0,  Iter    51:    Energy =   0.0935
Level     0,  Iter    52:    Energy =   0.0928
Level     0,  Iter    53:    Energy =   0.0935
Level     0,  Iter    54:    Energy =   0.0929
Level     0,  Iter    55:    Energy =   0.0937
Level     0,  Iter    56:    Energy =   0.0930
Level     0,  Iter    57:    Energy =   0.0937
Level     0,  Iter    58:    Energy =   0.0931
Level     0,  Iter    59:    Energy =   0.0938
END OF LEVEL     0    DetJac Range:   0.1378  to   2.3169 
  Avg. Gradient Time  : 0.0070s  37.79% 
  Avg. Gaussian Time  : 0.0087s  47.18% 
  Avg. Iteration Time : 0.0185s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19539, 1.20005], [0.491046, 0.488015, 0.489918]
Level     1,  Iter     0:    Energy =   0.0686
Level     1,  Iter     1:    Energy =   0.0736
Level     1,  Iter     2:    Energy =   0.0772
Level     1,  Iter     3:    Energy =   0.0804
Level     1,  Iter     4:    Energy =   0.0827
Level     1,  Iter     5:    Energy =   0.0844
Level     1,  Iter     6:    Energy =   0.0855
Level     1,  Iter     7:    Energy =   0.0863
Level     1,  Iter     8:    Energy =   0.0869
Level     1,  Iter     9:    Energy =   0.0874
Level     1,  Iter    10:    Energy =   0.0880
Level     1,  Iter    11:    Energy =   0.0885
Level     1,  Iter    12:    Energy =   0.0890
Level     1,  Iter    13:    Energy =   0.0894
Level     1,  Iter    14:    Energy =   0.0898
Level     1,  Iter    15:    Energy =   0.0901
Level     1,  Iter    16:    Energy =   0.0906
Level     1,  Iter    17:    Energy =   0.0910
Level     1,  Iter    18:    Energy =   0.0913
Level     1,  Iter    19:    Energy =   0.0915
Level     1,  Iter    20:    Energy =   0.0914
Level     1,  Iter    21:    Energy =   0.0916
Level     1,  Iter    22:    Energy =   0.0915
Level     1,  Iter    23:    Energy =   0.0916
Level     1,  Iter    24:    Energy =   0.0916
Level     1,  Iter    25:    Energy =   0.0918
Level     1,  Iter    26:    Energy =   0.0917
Level     1,  Iter    27:    Energy =   0.0920
Level     1,  Iter    28:    Energy =   0.0919
Level     1,  Iter    29:    Energy =   0.0920
Level     1,  Iter    30:    Energy =   0.0919
Level     1,  Iter    31:    Energy =   0.0921
Level     1,  Iter    32:    Energy =   0.0920
Level     1,  Iter    33:    Energy =   0.0922
Level     1,  Iter    34:    Energy =   0.0921
Level     1,  Iter    35:    Energy =   0.0922
Level     1,  Iter    36:    Energy =   0.0922
Level     1,  Iter    37:    Energy =   0.0923
Level     1,  Iter    38:    Energy =   0.0922
Level     1,  Iter    39:    Energy =   0.0923
Level     1,  Iter    40:    Energy =   0.0922
Level     1,  Iter    41:    Energy =   0.0924
Level     1,  Iter    42:    Energy =   0.0923
Level     1,  Iter    43:    Energy =   0.0924
Level     1,  Iter    44:    Energy =   0.0923
Level     1,  Iter    45:    Energy =   0.0924
Level     1,  Iter    46:    Energy =   0.0923
Level     1,  Iter    47:    Energy =   0.0924
Level     1,  Iter    48:    Energy =   0.0924
Level     1,  Iter    49:    Energy =   0.0925
Level     1,  Iter    50:    Energy =   0.0924
Level     1,  Iter    51:    Energy =   0.0925
Level     1,  Iter    52:    Energy =   0.0924
Level     1,  Iter    53:    Energy =   0.0925
Level     1,  Iter    54:    Energy =   0.0924
Level     1,  Iter    55:    Energy =   0.0926
Level     1,  Iter    56:    Energy =   0.0924
Level     1,  Iter    57:    Energy =   0.0926
Level     1,  Iter    58:    Energy =   0.0925
Level     1,  Iter    59:    Energy =   0.0927
END OF LEVEL     1    DetJac Range:   0.0941  to   2.5257 
  Avg. Gradient Time  : 0.0387s  39.55% 
  Avg. Gaussian Time  : 0.0473s  48.38% 
  Avg. Iteration Time : 0.0978s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0480
Level     2,  Iter     1:    Energy =   0.0507
Level     2,  Iter     2:    Energy =   0.0525
Level     2,  Iter     3:    Energy =   0.0543
Level     2,  Iter     4:    Energy =   0.0561
Level     2,  Iter     5:    Energy =   0.0577
Level     2,  Iter     6:    Energy =   0.0591
Level     2,  Iter     7:    Energy =   0.0603
Level     2,  Iter     8:    Energy =   0.0613
Level     2,  Iter     9:    Energy =   0.0621
Level     2,  Iter    10:    Energy =   0.0629
Level     2,  Iter    11:    Energy =   0.0636
Level     2,  Iter    12:    Energy =   0.0641
Level     2,  Iter    13:    Energy =   0.0646
Level     2,  Iter    14:    Energy =   0.0651
Level     2,  Iter    15:    Energy =   0.0658
Level     2,  Iter    16:    Energy =   0.0664
Level     2,  Iter    17:    Energy =   0.0669
Level     2,  Iter    18:    Energy =   0.0669
Level     2,  Iter    19:    Energy =   0.0673
END OF LEVEL     2    DetJac Range:   0.0512  to   4.0286 
  Avg. Gradient Time  : 0.2700s  37.09% 
  Avg. Gaussian Time  : 0.3811s  52.35% 
  Avg. Iteration Time : 0.7279s 

real	0m24.269s
user	0m42.836s
sys	0m2.456s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train021/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train021/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=21 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=21 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.721154 0.726923
+ echo 'CHUNK 0.721154 0.726923 1'
CHUNK 0.721154 0.726923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.721154 0.726923 1
====================================
         PROGRESS: 0.721154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=022
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 022
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train022
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train022
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 022 left 0
+ local tid=022
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 022 0
+ set -e
+ local tid=022
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train022/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1583.25 	 OutFr   0.0000 	 RMSD     2.5161
Iter 002 	 Temp     3.72 	 Delta  1541.67 	 OutFr   0.0000 	 RMSD     1.9671
Iter 003 	 Temp     3.46 	 Delta  1477.28 	 OutFr   0.0000 	 RMSD     1.9850
Iter 004 	 Temp     3.22 	 Delta  1401.41 	 OutFr   0.0000 	 RMSD     1.9624
Iter 005 	 Temp     2.99 	 Delta  1323.55 	 OutFr   0.0000 	 RMSD     1.9393
Iter 006 	 Temp     2.78 	 Delta  1247.85 	 OutFr   0.0000 	 RMSD     1.9213
Iter 007 	 Temp     2.59 	 Delta  1177.29 	 OutFr   0.0000 	 RMSD     1.9073
Iter 008 	 Temp     2.41 	 Delta  1114.61 	 OutFr   0.0000 	 RMSD     1.8962
Iter 009 	 Temp     2.24 	 Delta  1061.64 	 OutFr   0.0000 	 RMSD     1.8871
Iter 010 	 Temp     2.08 	 Delta  1018.44 	 OutFr   0.0000 	 RMSD     1.8791
Iter 011 	 Temp     1.94 	 Delta   982.84 	 OutFr   0.0000 	 RMSD     1.8722
Iter 012 	 Temp     1.80 	 Delta   951.29 	 OutFr   0.0024 	 RMSD     1.8653
Iter 013 	 Temp     1.67 	 Delta   920.62 	 OutFr   0.0097 	 RMSD     1.8587
Iter 014 	 Temp     1.56 	 Delta   888.67 	 OutFr   0.0097 	 RMSD     1.8527
Iter 015 	 Temp     1.45 	 Delta   854.25 	 OutFr   0.0097 	 RMSD     1.8472
Iter 016 	 Temp     1.35 	 Delta   817.45 	 OutFr   0.0097 	 RMSD     1.8419
Iter 017 	 Temp     1.25 	 Delta   779.10 	 OutFr   0.0097 	 RMSD     1.8359
Iter 018 	 Temp     1.16 	 Delta   739.60 	 OutFr   0.0169 	 RMSD     1.8302
Iter 019 	 Temp     1.08 	 Delta   698.73 	 OutFr   0.0217 	 RMSD     1.8245
Iter 020 	 Temp     1.01 	 Delta   656.55 	 OutFr   0.0217 	 RMSD     1.8186
Iter 021 	 Temp     0.94 	 Delta   614.01 	 OutFr   0.0290 	 RMSD     1.8129
Iter 022 	 Temp     0.87 	 Delta   572.23 	 OutFr   0.0386 	 RMSD     1.8082
Iter 023 	 Temp     0.81 	 Delta   532.42 	 OutFr   0.0556 	 RMSD     1.8042
Iter 024 	 Temp     0.75 	 Delta   493.82 	 OutFr   0.0676 	 RMSD     1.8018
Iter 025 	 Temp     0.70 	 Delta   456.12 	 OutFr   0.0845 	 RMSD     1.8006
Iter 026 	 Temp     0.65 	 Delta   419.33 	 OutFr   0.1087 	 RMSD     1.7994
Iter 027 	 Temp     0.61 	 Delta   382.81 	 OutFr   0.1232 	 RMSD     1.7986
Iter 028 	 Temp     0.56 	 Delta   350.23 	 OutFr   0.1546 	 RMSD     1.7983
Iter 029 	 Temp     0.52 	 Delta   321.70 	 OutFr   0.1643 	 RMSD     1.7985
Iter 030 	 Temp     0.49 	 Delta   294.95 	 OutFr   0.1908 	 RMSD     1.7982
Iter 031 	 Temp     0.45 	 Delta   267.95 	 OutFr   0.2077 	 RMSD     1.7976
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train022/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.UHmvaMxU/mybin.nii.gz
+ vtklevelset /tmp/ashs.UHmvaMxU/mybin.nii.gz /tmp/ashs.UHmvaMxU/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.UHmvaMxU/mymesh.vtk /tmp/ashs.UHmvaMxU/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2810.03302501 2633.66223878   0.93723533
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.UHmvaMxU/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train022/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -33.5337 to -11.0213
   Y : -17.976 to 25.487
   Z : -27.9236 to -2.09444
   Image resolution  : 94 by 154 by 103
   Image box origin  : {-38.5337, -22.976, -32.9236}
   Image box size    : {32.6389, 53.4722, 36.0496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [38.5337, 22.976, -32.9236]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train022/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_fwd.mat -o /tmp/ashs.UHmvaMxU/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train022/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_inv.mat -o /tmp/ashs.UHmvaMxU/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train022/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.UHmvaMxU/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train022/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=22 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=22 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.726923 0.732692
+ echo 'CHUNK 0.726923 0.732692 0.5'
CHUNK 0.726923 0.732692 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.726923 0.732692 0.5
====================================
         PROGRESS: 0.726923               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train022/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.UHmvaMxU/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.UHmvaMxU/fixed_hw.nii.gz /tmp/ashs.UHmvaMxU/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train022/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.646192, moving = 0.560534
LEVEL 1 of 3
  Smoothing sigmas: [2.35551, 2.37478, 2.40153], [0.961632, 0.969501, 0.98042]
Level     0,  Iter     0:    Energy =   0.0510
Level     0,  Iter     1:    Energy =   0.0573
Level     0,  Iter     2:    Energy =   0.0631
Level     0,  Iter     3:    Energy =   0.0683
Level     0,  Iter     4:    Energy =   0.0733
Level     0,  Iter     5:    Energy =   0.0775
Level     0,  Iter     6:    Energy =   0.0811
Level     0,  Iter     7:    Energy =   0.0840
Level     0,  Iter     8:    Energy =   0.0863
Level     0,  Iter     9:    Energy =   0.0880
Level     0,  Iter    10:    Energy =   0.0884
Level     0,  Iter    11:    Energy =   0.0891
Level     0,  Iter    12:    Energy =   0.0891
Level     0,  Iter    13:    Energy =   0.0899
Level     0,  Iter    14:    Energy =   0.0897
Level     0,  Iter    15:    Energy =   0.0906
Level     0,  Iter    16:    Energy =   0.0905
Level     0,  Iter    17:    Energy =   0.0915
Level     0,  Iter    18:    Energy =   0.0913
Level     0,  Iter    19:    Energy =   0.0920
Level     0,  Iter    20:    Energy =   0.0918
Level     0,  Iter    21:    Energy =   0.0926
Level     0,  Iter    22:    Energy =   0.0924
Level     0,  Iter    23:    Energy =   0.0930
Level     0,  Iter    24:    Energy =   0.0927
Level     0,  Iter    25:    Energy =   0.0934
Level     0,  Iter    26:    Energy =   0.0931
Level     0,  Iter    27:    Energy =   0.0935
Level     0,  Iter    28:    Energy =   0.0933
Level     0,  Iter    29:    Energy =   0.0939
Level     0,  Iter    30:    Energy =   0.0936
Level     0,  Iter    31:    Energy =   0.0940
Level     0,  Iter    32:    Energy =   0.0937
Level     0,  Iter    33:    Energy =   0.0943
Level     0,  Iter    34:    Energy =   0.0940
Level     0,  Iter    35:    Energy =   0.0944
Level     0,  Iter    36:    Energy =   0.0941
Level     0,  Iter    37:    Energy =   0.0947
Level     0,  Iter    38:    Energy =   0.0943
Level     0,  Iter    39:    Energy =   0.0947
Level     0,  Iter    40:    Energy =   0.0944
Level     0,  Iter    41:    Energy =   0.0949
Level     0,  Iter    42:    Energy =   0.0946
Level     0,  Iter    43:    Energy =   0.0949
Level     0,  Iter    44:    Energy =   0.0946
Level     0,  Iter    45:    Energy =   0.0951
Level     0,  Iter    46:    Energy =   0.0948
Level     0,  Iter    47:    Energy =   0.0951
Level     0,  Iter    48:    Energy =   0.0948
Level     0,  Iter    49:    Energy =   0.0953
Level     0,  Iter    50:    Energy =   0.0949
Level     0,  Iter    51:    Energy =   0.0953
Level     0,  Iter    52:    Energy =   0.0949
Level     0,  Iter    53:    Energy =   0.0954
Level     0,  Iter    54:    Energy =   0.0950
Level     0,  Iter    55:    Energy =   0.0954
Level     0,  Iter    56:    Energy =   0.0951
Level     0,  Iter    57:    Energy =   0.0955
Level     0,  Iter    58:    Energy =   0.0951
Level     0,  Iter    59:    Energy =   0.0955
END OF LEVEL     0    DetJac Range:   0.2157  to   2.1629 
  Avg. Gradient Time  : 0.0067s  37.64% 
  Avg. Gaussian Time  : 0.0084s  47.07% 
  Avg. Iteration Time : 0.0178s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.20076], [0.491046, 0.491046, 0.49021]
Level     1,  Iter     0:    Energy =   0.0670
Level     1,  Iter     1:    Energy =   0.0722
Level     1,  Iter     2:    Energy =   0.0762
Level     1,  Iter     3:    Energy =   0.0793
Level     1,  Iter     4:    Energy =   0.0816
Level     1,  Iter     5:    Energy =   0.0835
Level     1,  Iter     6:    Energy =   0.0853
Level     1,  Iter     7:    Energy =   0.0868
Level     1,  Iter     8:    Energy =   0.0880
Level     1,  Iter     9:    Energy =   0.0890
Level     1,  Iter    10:    Energy =   0.0898
Level     1,  Iter    11:    Energy =   0.0905
Level     1,  Iter    12:    Energy =   0.0912
Level     1,  Iter    13:    Energy =   0.0918
Level     1,  Iter    14:    Energy =   0.0923
Level     1,  Iter    15:    Energy =   0.0928
Level     1,  Iter    16:    Energy =   0.0926
Level     1,  Iter    17:    Energy =   0.0926
Level     1,  Iter    18:    Energy =   0.0928
Level     1,  Iter    19:    Energy =   0.0927
Level     1,  Iter    20:    Energy =   0.0928
Level     1,  Iter    21:    Energy =   0.0928
Level     1,  Iter    22:    Energy =   0.0928
Level     1,  Iter    23:    Energy =   0.0927
Level     1,  Iter    24:    Energy =   0.0929
Level     1,  Iter    25:    Energy =   0.0928
Level     1,  Iter    26:    Energy =   0.0928
Level     1,  Iter    27:    Energy =   0.0926
Level     1,  Iter    28:    Energy =   0.0929
Level     1,  Iter    29:    Energy =   0.0927
Level     1,  Iter    30:    Energy =   0.0929
Level     1,  Iter    31:    Energy =   0.0927
Level     1,  Iter    32:    Energy =   0.0929
Level     1,  Iter    33:    Energy =   0.0928
Level     1,  Iter    34:    Energy =   0.0929
Level     1,  Iter    35:    Energy =   0.0927
Level     1,  Iter    36:    Energy =   0.0929
Level     1,  Iter    37:    Energy =   0.0928
Level     1,  Iter    38:    Energy =   0.0929
Level     1,  Iter    39:    Energy =   0.0927
Level     1,  Iter    40:    Energy =   0.0929
Level     1,  Iter    41:    Energy =   0.0929
Level     1,  Iter    42:    Energy =   0.0929
Level     1,  Iter    43:    Energy =   0.0927
Level     1,  Iter    44:    Energy =   0.0929
Level     1,  Iter    45:    Energy =   0.0930
Level     1,  Iter    46:    Energy =   0.0929
Level     1,  Iter    47:    Energy =   0.0926
Level     1,  Iter    48:    Energy =   0.0929
Level     1,  Iter    49:    Energy =   0.0930
Level     1,  Iter    50:    Energy =   0.0929
Level     1,  Iter    51:    Energy =   0.0926
Level     1,  Iter    52:    Energy =   0.0928
Level     1,  Iter    53:    Energy =   0.0930
Level     1,  Iter    54:    Energy =   0.0929
Level     1,  Iter    55:    Energy =   0.0926
Level     1,  Iter    56:    Energy =   0.0928
Level     1,  Iter    57:    Energy =   0.0930
Level     1,  Iter    58:    Energy =   0.0929
Level     1,  Iter    59:    Energy =   0.0926
END OF LEVEL     1    DetJac Range:   0.0798  to   3.4527 
  Avg. Gradient Time  : 0.0385s  40.48% 
  Avg. Gaussian Time  : 0.0454s  47.74% 
  Avg. Iteration Time : 0.0951s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0463
Level     2,  Iter     1:    Energy =   0.0486
Level     2,  Iter     2:    Energy =   0.0511
Level     2,  Iter     3:    Energy =   0.0530
Level     2,  Iter     4:    Energy =   0.0546
Level     2,  Iter     5:    Energy =   0.0560
Level     2,  Iter     6:    Energy =   0.0574
Level     2,  Iter     7:    Energy =   0.0587
Level     2,  Iter     8:    Energy =   0.0595
Level     2,  Iter     9:    Energy =   0.0601
Level     2,  Iter    10:    Energy =   0.0606
Level     2,  Iter    11:    Energy =   0.0610
Level     2,  Iter    12:    Energy =   0.0615
Level     2,  Iter    13:    Energy =   0.0621
Level     2,  Iter    14:    Energy =   0.0628
Level     2,  Iter    15:    Energy =   0.0635
Level     2,  Iter    16:    Energy =   0.0642
Level     2,  Iter    17:    Energy =   0.0647
Level     2,  Iter    18:    Energy =   0.0651
Level     2,  Iter    19:    Energy =   0.0656
END OF LEVEL     2    DetJac Range:   0.0593  to   5.3305 
  Avg. Gradient Time  : 0.2668s  37.58% 
  Avg. Gaussian Time  : 0.3672s  51.73% 
  Avg. Iteration Time : 0.7099s 

real	0m23.786s
user	0m41.624s
sys	0m2.536s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train022/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train022/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=22 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=22 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.726923 0.732692
+ echo 'CHUNK 0.726923 0.732692 1'
CHUNK 0.726923 0.732692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.726923 0.732692 1
====================================
         PROGRESS: 0.726923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=023
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 023
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train023
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train023
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 023 left 0
+ local tid=023
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 023 0
+ set -e
+ local tid=023
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train023/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1494.47 	 OutFr   0.0000 	 RMSD     3.2130
Iter 002 	 Temp     3.72 	 Delta  1403.57 	 OutFr   0.0000 	 RMSD     2.0265
Iter 003 	 Temp     3.46 	 Delta  1317.05 	 OutFr   0.0000 	 RMSD     1.9909
Iter 004 	 Temp     3.22 	 Delta  1247.59 	 OutFr   0.0000 	 RMSD     1.9515
Iter 005 	 Temp     2.99 	 Delta  1191.81 	 OutFr   0.0000 	 RMSD     1.9255
Iter 006 	 Temp     2.78 	 Delta  1143.09 	 OutFr   0.0000 	 RMSD     1.9083
Iter 007 	 Temp     2.59 	 Delta  1097.50 	 OutFr   0.0024 	 RMSD     1.8952
Iter 008 	 Temp     2.41 	 Delta  1055.99 	 OutFr   0.0048 	 RMSD     1.8860
Iter 009 	 Temp     2.24 	 Delta  1024.06 	 OutFr   0.0072 	 RMSD     1.8796
Iter 010 	 Temp     2.08 	 Delta  1003.68 	 OutFr   0.0145 	 RMSD     1.8750
Iter 011 	 Temp     1.94 	 Delta   987.80 	 OutFr   0.0145 	 RMSD     1.8713
Iter 012 	 Temp     1.80 	 Delta   969.57 	 OutFr   0.0145 	 RMSD     1.8684
Iter 013 	 Temp     1.67 	 Delta   946.12 	 OutFr   0.0169 	 RMSD     1.8659
Iter 014 	 Temp     1.56 	 Delta   917.53 	 OutFr   0.0169 	 RMSD     1.8638
Iter 015 	 Temp     1.45 	 Delta   885.00 	 OutFr   0.0193 	 RMSD     1.8619
Iter 016 	 Temp     1.35 	 Delta   850.12 	 OutFr   0.0217 	 RMSD     1.8600
Iter 017 	 Temp     1.25 	 Delta   814.03 	 OutFr   0.0217 	 RMSD     1.8584
Iter 018 	 Temp     1.16 	 Delta   776.63 	 OutFr   0.0266 	 RMSD     1.8569
Iter 019 	 Temp     1.08 	 Delta   737.58 	 OutFr   0.0386 	 RMSD     1.8556
Iter 020 	 Temp     1.01 	 Delta   697.21 	 OutFr   0.0411 	 RMSD     1.8544
Iter 021 	 Temp     0.94 	 Delta   656.33 	 OutFr   0.0459 	 RMSD     1.8535
Iter 022 	 Temp     0.87 	 Delta   615.93 	 OutFr   0.0580 	 RMSD     1.8529
Iter 023 	 Temp     0.81 	 Delta   576.06 	 OutFr   0.0652 	 RMSD     1.8523
Iter 024 	 Temp     0.75 	 Delta   537.41 	 OutFr   0.0773 	 RMSD     1.8518
Iter 025 	 Temp     0.70 	 Delta   498.29 	 OutFr   0.0942 	 RMSD     1.8513
Iter 026 	 Temp     0.65 	 Delta   454.10 	 OutFr   0.1111 	 RMSD     1.8513
Iter 027 	 Temp     0.61 	 Delta   408.06 	 OutFr   0.1329 	 RMSD     1.8518
Iter 028 	 Temp     0.56 	 Delta   365.19 	 OutFr   0.1691 	 RMSD     1.8529
Iter 029 	 Temp     0.52 	 Delta   323.12 	 OutFr   0.1908 	 RMSD     1.8552
Iter 030 	 Temp     0.49 	 Delta   283.20 	 OutFr   0.2174 	 RMSD     1.8581
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train023/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.GvbI7uOu/mybin.nii.gz
+ vtklevelset /tmp/ashs.GvbI7uOu/mybin.nii.gz /tmp/ashs.GvbI7uOu/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.GvbI7uOu/mymesh.vtk /tmp/ashs.GvbI7uOu/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2810.03302501 2639.79355624   0.93941727
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.GvbI7uOu/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train023/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -31.3651 to -7.98858
   Y : -20.4875 to 21.3736
   Z : -22.3302 to 3.47304
   Image resolution  : 97 by 150 by 103
   Image box origin  : {-36.3651, -25.4875, -27.3302}
   Image box size    : {33.6805, 52.0833, 36.0496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [36.3651, 25.4875, -27.3302]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train023/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_fwd.mat -o /tmp/ashs.GvbI7uOu/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train023/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_inv.mat -o /tmp/ashs.GvbI7uOu/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train023/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.GvbI7uOu/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train023/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=23 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=23 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.732692 0.738462
+ echo 'CHUNK 0.732692 0.738462 0.5'
CHUNK 0.732692 0.738462 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.732692 0.738462 0.5
====================================
         PROGRESS: 0.732692               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train023/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.GvbI7uOu/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.GvbI7uOu/fixed_hw.nii.gz /tmp/ashs.GvbI7uOu/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train023/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.671579, moving = 0.732313
LEVEL 1 of 3
  Smoothing sigmas: [2.33346, 2.37397, 2.40153], [0.952629, 0.96917, 0.98042]
Level     0,  Iter     0:    Energy =   0.0563
Level     0,  Iter     1:    Energy =   0.0645
Level     0,  Iter     2:    Energy =   0.0722
Level     0,  Iter     3:    Energy =   0.0777
Level     0,  Iter     4:    Energy =   0.0819
Level     0,  Iter     5:    Energy =   0.0856
Level     0,  Iter     6:    Energy =   0.0882
Level     0,  Iter     7:    Energy =   0.0902
Level     0,  Iter     8:    Energy =   0.0919
Level     0,  Iter     9:    Energy =   0.0936
Level     0,  Iter    10:    Energy =   0.0948
Level     0,  Iter    11:    Energy =   0.0959
Level     0,  Iter    12:    Energy =   0.0959
Level     0,  Iter    13:    Energy =   0.0965
Level     0,  Iter    14:    Energy =   0.0964
Level     0,  Iter    15:    Energy =   0.0967
Level     0,  Iter    16:    Energy =   0.0967
Level     0,  Iter    17:    Energy =   0.0967
Level     0,  Iter    18:    Energy =   0.0968
Level     0,  Iter    19:    Energy =   0.0967
Level     0,  Iter    20:    Energy =   0.0970
Level     0,  Iter    21:    Energy =   0.0970
Level     0,  Iter    22:    Energy =   0.0976
Level     0,  Iter    23:    Energy =   0.0982
Level     0,  Iter    24:    Energy =   0.0985
Level     0,  Iter    25:    Energy =   0.0984
Level     0,  Iter    26:    Energy =   0.0989
Level     0,  Iter    27:    Energy =   0.0990
Level     0,  Iter    28:    Energy =   0.0992
Level     0,  Iter    29:    Energy =   0.0989
Level     0,  Iter    30:    Energy =   0.0994
Level     0,  Iter    31:    Energy =   0.0994
Level     0,  Iter    32:    Energy =   0.0996
Level     0,  Iter    33:    Energy =   0.0993
Level     0,  Iter    34:    Energy =   0.0997
Level     0,  Iter    35:    Energy =   0.0997
Level     0,  Iter    36:    Energy =   0.0999
Level     0,  Iter    37:    Energy =   0.0995
Level     0,  Iter    38:    Energy =   0.1000
Level     0,  Iter    39:    Energy =   0.0999
Level     0,  Iter    40:    Energy =   0.1001
Level     0,  Iter    41:    Energy =   0.0997
Level     0,  Iter    42:    Energy =   0.1000
Level     0,  Iter    43:    Energy =   0.0999
Level     0,  Iter    44:    Energy =   0.1002
Level     0,  Iter    45:    Energy =   0.0998
Level     0,  Iter    46:    Energy =   0.1002
Level     0,  Iter    47:    Energy =   0.1001
Level     0,  Iter    48:    Energy =   0.1004
Level     0,  Iter    49:    Energy =   0.1000
Level     0,  Iter    50:    Energy =   0.1004
Level     0,  Iter    51:    Energy =   0.1003
Level     0,  Iter    52:    Energy =   0.1005
Level     0,  Iter    53:    Energy =   0.1000
Level     0,  Iter    54:    Energy =   0.1005
Level     0,  Iter    55:    Energy =   0.1004
Level     0,  Iter    56:    Energy =   0.1007
Level     0,  Iter    57:    Energy =   0.1002
Level     0,  Iter    58:    Energy =   0.1007
Level     0,  Iter    59:    Energy =   0.1006
END OF LEVEL     0    DetJac Range:   0.3131  to   1.7795 
  Avg. Gradient Time  : 0.0068s  37.27% 
  Avg. Gaussian Time  : 0.0087s  47.51% 
  Avg. Iteration Time : 0.0182s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19054, 1.20281, 1.20076], [0.486035, 0.491046, 0.49021]
Level     1,  Iter     0:    Energy =   0.0751
Level     1,  Iter     1:    Energy =   0.0800
Level     1,  Iter     2:    Energy =   0.0839
Level     1,  Iter     3:    Energy =   0.0868
Level     1,  Iter     4:    Energy =   0.0891
Level     1,  Iter     5:    Energy =   0.0907
Level     1,  Iter     6:    Energy =   0.0923
Level     1,  Iter     7:    Energy =   0.0931
Level     1,  Iter     8:    Energy =   0.0936
Level     1,  Iter     9:    Energy =   0.0940
Level     1,  Iter    10:    Energy =   0.0944
Level     1,  Iter    11:    Energy =   0.0948
Level     1,  Iter    12:    Energy =   0.0952
Level     1,  Iter    13:    Energy =   0.0954
Level     1,  Iter    14:    Energy =   0.0956
Level     1,  Iter    15:    Energy =   0.0958
Level     1,  Iter    16:    Energy =   0.0959
Level     1,  Iter    17:    Energy =   0.0961
Level     1,  Iter    18:    Energy =   0.0961
Level     1,  Iter    19:    Energy =   0.0963
Level     1,  Iter    20:    Energy =   0.0964
Level     1,  Iter    21:    Energy =   0.0965
Level     1,  Iter    22:    Energy =   0.0966
Level     1,  Iter    23:    Energy =   0.0967
Level     1,  Iter    24:    Energy =   0.0967
Level     1,  Iter    25:    Energy =   0.0968
Level     1,  Iter    26:    Energy =   0.0968
Level     1,  Iter    27:    Energy =   0.0968
Level     1,  Iter    28:    Energy =   0.0969
Level     1,  Iter    29:    Energy =   0.0969
Level     1,  Iter    30:    Energy =   0.0969
Level     1,  Iter    31:    Energy =   0.0970
Level     1,  Iter    32:    Energy =   0.0970
Level     1,  Iter    33:    Energy =   0.0970
Level     1,  Iter    34:    Energy =   0.0970
Level     1,  Iter    35:    Energy =   0.0971
Level     1,  Iter    36:    Energy =   0.0971
Level     1,  Iter    37:    Energy =   0.0971
Level     1,  Iter    38:    Energy =   0.0971
Level     1,  Iter    39:    Energy =   0.0971
Level     1,  Iter    40:    Energy =   0.0972
Level     1,  Iter    41:    Energy =   0.0972
Level     1,  Iter    42:    Energy =   0.0972
Level     1,  Iter    43:    Energy =   0.0972
Level     1,  Iter    44:    Energy =   0.0972
Level     1,  Iter    45:    Energy =   0.0972
Level     1,  Iter    46:    Energy =   0.0972
Level     1,  Iter    47:    Energy =   0.0973
Level     1,  Iter    48:    Energy =   0.0973
Level     1,  Iter    49:    Energy =   0.0973
Level     1,  Iter    50:    Energy =   0.0973
Level     1,  Iter    51:    Energy =   0.0973
Level     1,  Iter    52:    Energy =   0.0973
Level     1,  Iter    53:    Energy =   0.0973
Level     1,  Iter    54:    Energy =   0.0973
Level     1,  Iter    55:    Energy =   0.0973
Level     1,  Iter    56:    Energy =   0.0973
Level     1,  Iter    57:    Energy =   0.0973
Level     1,  Iter    58:    Energy =   0.0973
Level     1,  Iter    59:    Energy =   0.0973
END OF LEVEL     1    DetJac Range:   0.2472  to   2.7044 
  Avg. Gradient Time  : 0.0378s  39.82% 
  Avg. Gaussian Time  : 0.0458s  48.22% 
  Avg. Iteration Time : 0.0950s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0538
Level     2,  Iter     1:    Energy =   0.0567
Level     2,  Iter     2:    Energy =   0.0593
Level     2,  Iter     3:    Energy =   0.0614
Level     2,  Iter     4:    Energy =   0.0631
Level     2,  Iter     5:    Energy =   0.0648
Level     2,  Iter     6:    Energy =   0.0662
Level     2,  Iter     7:    Energy =   0.0672
Level     2,  Iter     8:    Energy =   0.0680
Level     2,  Iter     9:    Energy =   0.0687
Level     2,  Iter    10:    Energy =   0.0695
Level     2,  Iter    11:    Energy =   0.0701
Level     2,  Iter    12:    Energy =   0.0707
Level     2,  Iter    13:    Energy =   0.0712
Level     2,  Iter    14:    Energy =   0.0717
Level     2,  Iter    15:    Energy =   0.0721
Level     2,  Iter    16:    Energy =   0.0724
Level     2,  Iter    17:    Energy =   0.0727
Level     2,  Iter    18:    Energy =   0.0730
Level     2,  Iter    19:    Energy =   0.0733
END OF LEVEL     2    DetJac Range:   0.1492  to   4.6310 
  Avg. Gradient Time  : 0.2628s  36.33% 
  Avg. Gaussian Time  : 0.3847s  53.17% 
  Avg. Iteration Time : 0.7234s 

real	0m24.094s
user	0m42.348s
sys	0m2.464s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train023/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train023/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=23 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=23 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.732692 0.738462
+ echo 'CHUNK 0.732692 0.738462 1'
CHUNK 0.732692 0.738462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.732692 0.738462 1
====================================
         PROGRESS: 0.732692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=024
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 024
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train024
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train024
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 024 left 0
+ local tid=024
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 024 0
+ set -e
+ local tid=024
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train024/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1932.67 	 OutFr   0.0000 	 RMSD     2.9237
Iter 002 	 Temp     3.72 	 Delta  1783.38 	 OutFr   0.0000 	 RMSD     2.3144
Iter 003 	 Temp     3.46 	 Delta  1665.04 	 OutFr   0.0000 	 RMSD     2.2788
Iter 004 	 Temp     3.22 	 Delta  1563.74 	 OutFr   0.0000 	 RMSD     2.2414
Iter 005 	 Temp     2.99 	 Delta  1466.31 	 OutFr   0.0000 	 RMSD     2.2178
Iter 006 	 Temp     2.78 	 Delta  1368.46 	 OutFr   0.0000 	 RMSD     2.2010
Iter 007 	 Temp     2.59 	 Delta  1270.89 	 OutFr   0.0000 	 RMSD     2.1886
Iter 008 	 Temp     2.41 	 Delta  1177.51 	 OutFr   0.0072 	 RMSD     2.1799
Iter 009 	 Temp     2.24 	 Delta  1095.79 	 OutFr   0.0072 	 RMSD     2.1736
Iter 010 	 Temp     2.08 	 Delta  1031.79 	 OutFr   0.0169 	 RMSD     2.1692
Iter 011 	 Temp     1.94 	 Delta   981.74 	 OutFr   0.0169 	 RMSD     2.1657
Iter 012 	 Temp     1.80 	 Delta   938.31 	 OutFr   0.0193 	 RMSD     2.1625
Iter 013 	 Temp     1.67 	 Delta   896.27 	 OutFr   0.0193 	 RMSD     2.1592
Iter 014 	 Temp     1.56 	 Delta   853.18 	 OutFr   0.0362 	 RMSD     2.1562
Iter 015 	 Temp     1.45 	 Delta   808.59 	 OutFr   0.0386 	 RMSD     2.1535
Iter 016 	 Temp     1.35 	 Delta   763.15 	 OutFr   0.0435 	 RMSD     2.1514
Iter 017 	 Temp     1.25 	 Delta   717.59 	 OutFr   0.0459 	 RMSD     2.1501
Iter 018 	 Temp     1.16 	 Delta   671.79 	 OutFr   0.0580 	 RMSD     2.1494
Iter 019 	 Temp     1.08 	 Delta   625.57 	 OutFr   0.0676 	 RMSD     2.1490
Iter 020 	 Temp     1.01 	 Delta   579.74 	 OutFr   0.0676 	 RMSD     2.1492
Iter 021 	 Temp     0.94 	 Delta   536.91 	 OutFr   0.0773 	 RMSD     2.1497
Iter 022 	 Temp     0.87 	 Delta   499.51 	 OutFr   0.0845 	 RMSD     2.1507
Iter 023 	 Temp     0.81 	 Delta   470.22 	 OutFr   0.0990 	 RMSD     2.1525
Iter 024 	 Temp     0.75 	 Delta   447.95 	 OutFr   0.1184 	 RMSD     2.1545
Iter 025 	 Temp     0.70 	 Delta   428.93 	 OutFr   0.1353 	 RMSD     2.1568
Iter 026 	 Temp     0.65 	 Delta   408.49 	 OutFr   0.1643 	 RMSD     2.1587
Iter 027 	 Temp     0.61 	 Delta   383.42 	 OutFr   0.1787 	 RMSD     2.1604
Iter 028 	 Temp     0.56 	 Delta   354.11 	 OutFr   0.1836 	 RMSD     2.1621
Iter 029 	 Temp     0.52 	 Delta   322.93 	 OutFr   0.2150 	 RMSD     2.1640
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train024/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.sixcWnBd/mybin.nii.gz
+ vtklevelset /tmp/ashs.sixcWnBd/mybin.nii.gz /tmp/ashs.sixcWnBd/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.sixcWnBd/mymesh.vtk /tmp/ashs.sixcWnBd/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2810.03302501 2726.99109661   0.97044806
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.sixcWnBd/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train024/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -32.3777 to -8.9353
   Y : -16.6784 to 28.1283
   Z : -25.5532 to -0.00990405
   Image resolution  : 97 by 158 by 102
   Image box origin  : {-37.3777, -21.6784, -30.5532}
   Image box size    : {33.6805, 54.8611, 35.6996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [37.3777, 21.6784, -30.5532]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train024/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_fwd.mat -o /tmp/ashs.sixcWnBd/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train024/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_inv.mat -o /tmp/ashs.sixcWnBd/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train024/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.sixcWnBd/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train024/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=24 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=24 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.738462 0.744231
+ echo 'CHUNK 0.738462 0.744231 0.5'
CHUNK 0.738462 0.744231 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.738462 0.744231 0.5
====================================
         PROGRESS: 0.738462               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train024/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.sixcWnBd/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.sixcWnBd/fixed_hw.nii.gz /tmp/ashs.sixcWnBd/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train024/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.670749, moving = 0.650683
LEVEL 1 of 3
  Smoothing sigmas: [2.33346, 2.37555, 2.37821], [0.952629, 0.969816, 0.970901]
Level     0,  Iter     0:    Energy =   0.0308
Level     0,  Iter     1:    Energy =   0.0354
Level     0,  Iter     2:    Energy =   0.0401
Level     0,  Iter     3:    Energy =   0.0441
Level     0,  Iter     4:    Energy =   0.0474
Level     0,  Iter     5:    Energy =   0.0497
Level     0,  Iter     6:    Energy =   0.0516
Level     0,  Iter     7:    Energy =   0.0535
Level     0,  Iter     8:    Energy =   0.0556
Level     0,  Iter     9:    Energy =   0.0570
Level     0,  Iter    10:    Energy =   0.0582
Level     0,  Iter    11:    Energy =   0.0593
Level     0,  Iter    12:    Energy =   0.0600
Level     0,  Iter    13:    Energy =   0.0602
Level     0,  Iter    14:    Energy =   0.0608
Level     0,  Iter    15:    Energy =   0.0612
Level     0,  Iter    16:    Energy =   0.0617
Level     0,  Iter    17:    Energy =   0.0621
Level     0,  Iter    18:    Energy =   0.0625
Level     0,  Iter    19:    Energy =   0.0629
Level     0,  Iter    20:    Energy =   0.0634
Level     0,  Iter    21:    Energy =   0.0637
Level     0,  Iter    22:    Energy =   0.0642
Level     0,  Iter    23:    Energy =   0.0644
Level     0,  Iter    24:    Energy =   0.0648
Level     0,  Iter    25:    Energy =   0.0650
Level     0,  Iter    26:    Energy =   0.0654
Level     0,  Iter    27:    Energy =   0.0656
Level     0,  Iter    28:    Energy =   0.0659
Level     0,  Iter    29:    Energy =   0.0662
Level     0,  Iter    30:    Energy =   0.0665
Level     0,  Iter    31:    Energy =   0.0668
Level     0,  Iter    32:    Energy =   0.0669
Level     0,  Iter    33:    Energy =   0.0672
Level     0,  Iter    34:    Energy =   0.0673
Level     0,  Iter    35:    Energy =   0.0675
Level     0,  Iter    36:    Energy =   0.0676
Level     0,  Iter    37:    Energy =   0.0678
Level     0,  Iter    38:    Energy =   0.0679
Level     0,  Iter    39:    Energy =   0.0680
Level     0,  Iter    40:    Energy =   0.0681
Level     0,  Iter    41:    Energy =   0.0682
Level     0,  Iter    42:    Energy =   0.0683
Level     0,  Iter    43:    Energy =   0.0684
Level     0,  Iter    44:    Energy =   0.0686
Level     0,  Iter    45:    Energy =   0.0687
Level     0,  Iter    46:    Energy =   0.0688
Level     0,  Iter    47:    Energy =   0.0690
Level     0,  Iter    48:    Energy =   0.0692
Level     0,  Iter    49:    Energy =   0.0694
Level     0,  Iter    50:    Energy =   0.0696
Level     0,  Iter    51:    Energy =   0.0697
Level     0,  Iter    52:    Energy =   0.0699
Level     0,  Iter    53:    Energy =   0.0700
Level     0,  Iter    54:    Energy =   0.0702
Level     0,  Iter    55:    Energy =   0.0701
Level     0,  Iter    56:    Energy =   0.0704
Level     0,  Iter    57:    Energy =   0.0704
Level     0,  Iter    58:    Energy =   0.0705
Level     0,  Iter    59:    Energy =   0.0705
END OF LEVEL     0    DetJac Range:   0.2855  to   2.5471 
  Avg. Gradient Time  : 0.0070s  37.81% 
  Avg. Gaussian Time  : 0.0087s  47.07% 
  Avg. Iteration Time : 0.0185s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19054, 1.20281, 1.21242], [0.486035, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0511
Level     1,  Iter     1:    Energy =   0.0549
Level     1,  Iter     2:    Energy =   0.0577
Level     1,  Iter     3:    Energy =   0.0597
Level     1,  Iter     4:    Energy =   0.0618
Level     1,  Iter     5:    Energy =   0.0640
Level     1,  Iter     6:    Energy =   0.0654
Level     1,  Iter     7:    Energy =   0.0667
Level     1,  Iter     8:    Energy =   0.0684
Level     1,  Iter     9:    Energy =   0.0696
Level     1,  Iter    10:    Energy =   0.0705
Level     1,  Iter    11:    Energy =   0.0712
Level     1,  Iter    12:    Energy =   0.0720
Level     1,  Iter    13:    Energy =   0.0726
Level     1,  Iter    14:    Energy =   0.0727
Level     1,  Iter    15:    Energy =   0.0732
Level     1,  Iter    16:    Energy =   0.0732
Level     1,  Iter    17:    Energy =   0.0736
Level     1,  Iter    18:    Energy =   0.0737
Level     1,  Iter    19:    Energy =   0.0740
Level     1,  Iter    20:    Energy =   0.0740
Level     1,  Iter    21:    Energy =   0.0743
Level     1,  Iter    22:    Energy =   0.0743
Level     1,  Iter    23:    Energy =   0.0746
Level     1,  Iter    24:    Energy =   0.0745
Level     1,  Iter    25:    Energy =   0.0749
Level     1,  Iter    26:    Energy =   0.0748
Level     1,  Iter    27:    Energy =   0.0752
Level     1,  Iter    28:    Energy =   0.0751
Level     1,  Iter    29:    Energy =   0.0755
Level     1,  Iter    30:    Energy =   0.0754
Level     1,  Iter    31:    Energy =   0.0757
Level     1,  Iter    32:    Energy =   0.0756
Level     1,  Iter    33:    Energy =   0.0759
Level     1,  Iter    34:    Energy =   0.0758
Level     1,  Iter    35:    Energy =   0.0760
Level     1,  Iter    36:    Energy =   0.0758
Level     1,  Iter    37:    Energy =   0.0760
Level     1,  Iter    38:    Energy =   0.0759
Level     1,  Iter    39:    Energy =   0.0761
Level     1,  Iter    40:    Energy =   0.0759
Level     1,  Iter    41:    Energy =   0.0762
Level     1,  Iter    42:    Energy =   0.0760
Level     1,  Iter    43:    Energy =   0.0762
Level     1,  Iter    44:    Energy =   0.0761
Level     1,  Iter    45:    Energy =   0.0762
Level     1,  Iter    46:    Energy =   0.0762
Level     1,  Iter    47:    Energy =   0.0763
Level     1,  Iter    48:    Energy =   0.0761
Level     1,  Iter    49:    Energy =   0.0761
Level     1,  Iter    50:    Energy =   0.0762
Level     1,  Iter    51:    Energy =   0.0762
Level     1,  Iter    52:    Energy =   0.0761
Level     1,  Iter    53:    Energy =   0.0761
Level     1,  Iter    54:    Energy =   0.0762
Level     1,  Iter    55:    Energy =   0.0762
Level     1,  Iter    56:    Energy =   0.0762
Level     1,  Iter    57:    Energy =   0.0762
Level     1,  Iter    58:    Energy =   0.0762
Level     1,  Iter    59:    Energy =   0.0762
END OF LEVEL     1    DetJac Range:   0.0644  to   3.6265 
  Avg. Gradient Time  : 0.0399s  40.46% 
  Avg. Gaussian Time  : 0.0471s  47.77% 
  Avg. Iteration Time : 0.0986s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0399
Level     2,  Iter     1:    Energy =   0.0423
Level     2,  Iter     2:    Energy =   0.0442
Level     2,  Iter     3:    Energy =   0.0462
Level     2,  Iter     4:    Energy =   0.0479
Level     2,  Iter     5:    Energy =   0.0492
Level     2,  Iter     6:    Energy =   0.0502
Level     2,  Iter     7:    Energy =   0.0510
Level     2,  Iter     8:    Energy =   0.0517
Level     2,  Iter     9:    Energy =   0.0523
Level     2,  Iter    10:    Energy =   0.0528
Level     2,  Iter    11:    Energy =   0.0532
Level     2,  Iter    12:    Energy =   0.0536
Level     2,  Iter    13:    Energy =   0.0539
Level     2,  Iter    14:    Energy =   0.0541
Level     2,  Iter    15:    Energy =   0.0544
Level     2,  Iter    16:    Energy =   0.0546
Level     2,  Iter    17:    Energy =   0.0548
Level     2,  Iter    18:    Energy =   0.0550
Level     2,  Iter    19:    Energy =   0.0552
END OF LEVEL     2    DetJac Range:   0.1123  to   4.5987 
  Avg. Gradient Time  : 0.2793s  37.60% 
  Avg. Gaussian Time  : 0.3858s  51.93% 
  Avg. Iteration Time : 0.7430s 

real	0m24.814s
user	0m43.656s
sys	0m2.520s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train024/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train024/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=24 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=24 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.738462 0.744231
+ echo 'CHUNK 0.738462 0.744231 1'
CHUNK 0.738462 0.744231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.738462 0.744231 1
====================================
         PROGRESS: 0.738462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=left
+ tid=025
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Training subject: 025
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train025
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train025
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 025 left 0
+ local tid=025
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 025 0
+ set -e
+ local tid=025
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train025/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1648.19 	 OutFr   0.0000 	 RMSD     2.0987
Iter 002 	 Temp     3.72 	 Delta  1612.74 	 OutFr   0.0000 	 RMSD     1.9192
Iter 003 	 Temp     3.46 	 Delta  1516.10 	 OutFr   0.0000 	 RMSD     1.9154
Iter 004 	 Temp     3.22 	 Delta  1422.42 	 OutFr   0.0000 	 RMSD     1.8893
Iter 005 	 Temp     2.99 	 Delta  1336.42 	 OutFr   0.0024 	 RMSD     1.8707
Iter 006 	 Temp     2.78 	 Delta  1258.16 	 OutFr   0.0024 	 RMSD     1.8552
Iter 007 	 Temp     2.59 	 Delta  1187.02 	 OutFr   0.0024 	 RMSD     1.8427
Iter 008 	 Temp     2.41 	 Delta  1121.62 	 OutFr   0.0048 	 RMSD     1.8321
Iter 009 	 Temp     2.24 	 Delta  1059.78 	 OutFr   0.0072 	 RMSD     1.8231
Iter 010 	 Temp     2.08 	 Delta   999.08 	 OutFr   0.0097 	 RMSD     1.8156
Iter 011 	 Temp     1.94 	 Delta   938.75 	 OutFr   0.0097 	 RMSD     1.8090
Iter 012 	 Temp     1.80 	 Delta   882.45 	 OutFr   0.0145 	 RMSD     1.8040
Iter 013 	 Temp     1.67 	 Delta   834.78 	 OutFr   0.0145 	 RMSD     1.7995
Iter 014 	 Temp     1.56 	 Delta   795.33 	 OutFr   0.0169 	 RMSD     1.7955
Iter 015 	 Temp     1.45 	 Delta   759.51 	 OutFr   0.0217 	 RMSD     1.7920
Iter 016 	 Temp     1.35 	 Delta   722.31 	 OutFr   0.0242 	 RMSD     1.7889
Iter 017 	 Temp     1.25 	 Delta   681.87 	 OutFr   0.0266 	 RMSD     1.7864
Iter 018 	 Temp     1.16 	 Delta   638.70 	 OutFr   0.0338 	 RMSD     1.7839
Iter 019 	 Temp     1.08 	 Delta   595.56 	 OutFr   0.0386 	 RMSD     1.7814
Iter 020 	 Temp     1.01 	 Delta   557.18 	 OutFr   0.0435 	 RMSD     1.7789
Iter 021 	 Temp     0.94 	 Delta   525.29 	 OutFr   0.0507 	 RMSD     1.7768
Iter 022 	 Temp     0.87 	 Delta   497.42 	 OutFr   0.0531 	 RMSD     1.7752
Iter 023 	 Temp     0.81 	 Delta   470.34 	 OutFr   0.0628 	 RMSD     1.7739
Iter 024 	 Temp     0.75 	 Delta   441.16 	 OutFr   0.0773 	 RMSD     1.7726
Iter 025 	 Temp     0.70 	 Delta   409.13 	 OutFr   0.1039 	 RMSD     1.7723
Iter 026 	 Temp     0.65 	 Delta   377.63 	 OutFr   0.1280 	 RMSD     1.7735
Iter 027 	 Temp     0.61 	 Delta   349.94 	 OutFr   0.1667 	 RMSD     1.7760
Iter 028 	 Temp     0.56 	 Delta   323.56 	 OutFr   0.1836 	 RMSD     1.7795
Iter 029 	 Temp     0.52 	 Delta   298.01 	 OutFr   0.2029 	 RMSD     1.7833
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train025/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.IyLKRiEN/mybin.nii.gz
+ vtklevelset /tmp/ashs.IyLKRiEN/mybin.nii.gz /tmp/ashs.IyLKRiEN/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.IyLKRiEN/mymesh.vtk /tmp/ashs.IyLKRiEN/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2810.03302501 2659.44475971   0.94641050
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.IyLKRiEN/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train025/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : -33.6332 to -10.2647
   Y : -18.7844 to 23.1043
   Z : -15.1454 to 9.79954
   Image resolution  : 97 by 150 by 100
   Image box origin  : {-38.6332, -23.7844, -20.1454}
   Image box size    : {33.6805, 52.0833, 34.9996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [38.6332, 23.7844, -20.1454]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train025/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_fwd.mat -o /tmp/ashs.IyLKRiEN/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train025/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_inv.mat -o /tmp/ashs.IyLKRiEN/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train025/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_left.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.IyLKRiEN/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train025/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=25 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=25 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.744231 0.75
+ echo 'CHUNK 0.744231 0.75 0.5'
CHUNK 0.744231 0.75 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.744231 0.75 0.5
====================================
         PROGRESS: 0.744231               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train025/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.IyLKRiEN/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.IyLKRiEN/fixed_hw.nii.gz /tmp/ashs.IyLKRiEN/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train025/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.676827, moving = 0.394105
LEVEL 1 of 3
  Smoothing sigmas: [2.33346, 2.37397, 2.42484], [0.952629, 0.96917, 0.989938]
Level     0,  Iter     0:    Energy =   0.0443
Level     0,  Iter     1:    Energy =   0.0515
Level     0,  Iter     2:    Energy =   0.0585
Level     0,  Iter     3:    Energy =   0.0637
Level     0,  Iter     4:    Energy =   0.0687
Level     0,  Iter     5:    Energy =   0.0731
Level     0,  Iter     6:    Energy =   0.0767
Level     0,  Iter     7:    Energy =   0.0798
Level     0,  Iter     8:    Energy =   0.0820
Level     0,  Iter     9:    Energy =   0.0840
Level     0,  Iter    10:    Energy =   0.0848
Level     0,  Iter    11:    Energy =   0.0855
Level     0,  Iter    12:    Energy =   0.0858
Level     0,  Iter    13:    Energy =   0.0864
Level     0,  Iter    14:    Energy =   0.0866
Level     0,  Iter    15:    Energy =   0.0870
Level     0,  Iter    16:    Energy =   0.0872
Level     0,  Iter    17:    Energy =   0.0875
Level     0,  Iter    18:    Energy =   0.0877
Level     0,  Iter    19:    Energy =   0.0880
Level     0,  Iter    20:    Energy =   0.0882
Level     0,  Iter    21:    Energy =   0.0883
Level     0,  Iter    22:    Energy =   0.0884
Level     0,  Iter    23:    Energy =   0.0887
Level     0,  Iter    24:    Energy =   0.0887
Level     0,  Iter    25:    Energy =   0.0890
Level     0,  Iter    26:    Energy =   0.0890
Level     0,  Iter    27:    Energy =   0.0891
Level     0,  Iter    28:    Energy =   0.0890
Level     0,  Iter    29:    Energy =   0.0892
Level     0,  Iter    30:    Energy =   0.0892
Level     0,  Iter    31:    Energy =   0.0894
Level     0,  Iter    32:    Energy =   0.0893
Level     0,  Iter    33:    Energy =   0.0895
Level     0,  Iter    34:    Energy =   0.0894
Level     0,  Iter    35:    Energy =   0.0896
Level     0,  Iter    36:    Energy =   0.0896
Level     0,  Iter    37:    Energy =   0.0897
Level     0,  Iter    38:    Energy =   0.0895
Level     0,  Iter    39:    Energy =   0.0897
Level     0,  Iter    40:    Energy =   0.0897
Level     0,  Iter    41:    Energy =   0.0899
Level     0,  Iter    42:    Energy =   0.0898
Level     0,  Iter    43:    Energy =   0.0899
Level     0,  Iter    44:    Energy =   0.0898
Level     0,  Iter    45:    Energy =   0.0900
Level     0,  Iter    46:    Energy =   0.0900
Level     0,  Iter    47:    Energy =   0.0901
Level     0,  Iter    48:    Energy =   0.0901
Level     0,  Iter    49:    Energy =   0.0903
Level     0,  Iter    50:    Energy =   0.0901
Level     0,  Iter    51:    Energy =   0.0903
Level     0,  Iter    52:    Energy =   0.0901
Level     0,  Iter    53:    Energy =   0.0903
Level     0,  Iter    54:    Energy =   0.0901
Level     0,  Iter    55:    Energy =   0.0902
Level     0,  Iter    56:    Energy =   0.0902
Level     0,  Iter    57:    Energy =   0.0902
Level     0,  Iter    58:    Energy =   0.0901
Level     0,  Iter    59:    Energy =   0.0902
END OF LEVEL     0    DetJac Range:   0.3046  to   2.4390 
  Avg. Gradient Time  : 0.0066s  37.02% 
  Avg. Gaussian Time  : 0.0085s  47.78% 
  Avg. Iteration Time : 0.0178s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19054, 1.20281, 1.21242], [0.486035, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0626
Level     1,  Iter     1:    Energy =   0.0673
Level     1,  Iter     2:    Energy =   0.0707
Level     1,  Iter     3:    Energy =   0.0743
Level     1,  Iter     4:    Energy =   0.0778
Level     1,  Iter     5:    Energy =   0.0801
Level     1,  Iter     6:    Energy =   0.0816
Level     1,  Iter     7:    Energy =   0.0830
Level     1,  Iter     8:    Energy =   0.0839
Level     1,  Iter     9:    Energy =   0.0841
Level     1,  Iter    10:    Energy =   0.0853
Level     1,  Iter    11:    Energy =   0.0857
Level     1,  Iter    12:    Energy =   0.0862
Level     1,  Iter    13:    Energy =   0.0861
Level     1,  Iter    14:    Energy =   0.0871
Level     1,  Iter    15:    Energy =   0.0870
Level     1,  Iter    16:    Energy =   0.0877
Level     1,  Iter    17:    Energy =   0.0875
Level     1,  Iter    18:    Energy =   0.0881
Level     1,  Iter    19:    Energy =   0.0880
Level     1,  Iter    20:    Energy =   0.0883
Level     1,  Iter    21:    Energy =   0.0881
Level     1,  Iter    22:    Energy =   0.0885
Level     1,  Iter    23:    Energy =   0.0883
Level     1,  Iter    24:    Energy =   0.0887
Level     1,  Iter    25:    Energy =   0.0885
Level     1,  Iter    26:    Energy =   0.0888
Level     1,  Iter    27:    Energy =   0.0886
Level     1,  Iter    28:    Energy =   0.0890
Level     1,  Iter    29:    Energy =   0.0888
Level     1,  Iter    30:    Energy =   0.0891
Level     1,  Iter    31:    Energy =   0.0890
Level     1,  Iter    32:    Energy =   0.0893
Level     1,  Iter    33:    Energy =   0.0891
Level     1,  Iter    34:    Energy =   0.0894
Level     1,  Iter    35:    Energy =   0.0892
Level     1,  Iter    36:    Energy =   0.0895
Level     1,  Iter    37:    Energy =   0.0892
Level     1,  Iter    38:    Energy =   0.0895
Level     1,  Iter    39:    Energy =   0.0893
Level     1,  Iter    40:    Energy =   0.0896
Level     1,  Iter    41:    Energy =   0.0894
Level     1,  Iter    42:    Energy =   0.0897
Level     1,  Iter    43:    Energy =   0.0895
Level     1,  Iter    44:    Energy =   0.0897
Level     1,  Iter    45:    Energy =   0.0895
Level     1,  Iter    46:    Energy =   0.0898
Level     1,  Iter    47:    Energy =   0.0896
Level     1,  Iter    48:    Energy =   0.0899
Level     1,  Iter    49:    Energy =   0.0896
Level     1,  Iter    50:    Energy =   0.0899
Level     1,  Iter    51:    Energy =   0.0897
Level     1,  Iter    52:    Energy =   0.0900
Level     1,  Iter    53:    Energy =   0.0898
Level     1,  Iter    54:    Energy =   0.0901
Level     1,  Iter    55:    Energy =   0.0898
Level     1,  Iter    56:    Energy =   0.0902
Level     1,  Iter    57:    Energy =   0.0899
Level     1,  Iter    58:    Energy =   0.0902
Level     1,  Iter    59:    Energy =   0.0900
END OF LEVEL     1    DetJac Range:   0.1511  to   3.6489 
  Avg. Gradient Time  : 0.0364s  39.91% 
  Avg. Gaussian Time  : 0.0439s  48.15% 
  Avg. Iteration Time : 0.0912s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0460
Level     2,  Iter     1:    Energy =   0.0486
Level     2,  Iter     2:    Energy =   0.0510
Level     2,  Iter     3:    Energy =   0.0528
Level     2,  Iter     4:    Energy =   0.0543
Level     2,  Iter     5:    Energy =   0.0556
Level     2,  Iter     6:    Energy =   0.0568
Level     2,  Iter     7:    Energy =   0.0580
Level     2,  Iter     8:    Energy =   0.0592
Level     2,  Iter     9:    Energy =   0.0603
Level     2,  Iter    10:    Energy =   0.0614
Level     2,  Iter    11:    Energy =   0.0623
Level     2,  Iter    12:    Energy =   0.0632
Level     2,  Iter    13:    Energy =   0.0641
Level     2,  Iter    14:    Energy =   0.0649
Level     2,  Iter    15:    Energy =   0.0655
Level     2,  Iter    16:    Energy =   0.0660
Level     2,  Iter    17:    Energy =   0.0663
Level     2,  Iter    18:    Energy =   0.0667
Level     2,  Iter    19:    Energy =   0.0670
END OF LEVEL     2    DetJac Range:   0.0837  to   5.0527 
  Avg. Gradient Time  : 0.2558s  36.50% 
  Avg. Gaussian Time  : 0.3717s  53.04% 
  Avg. Iteration Time : 0.7008s 

real	0m23.340s
user	0m41.140s
sys	0m2.328s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train025/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train025/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=25 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=25 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.744231 0.75
+ echo 'CHUNK 0.744231 0.75 1'
CHUNK 0.744231 0.75 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.744231 0.75 1
====================================
         PROGRESS: 0.744231               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=000
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 000
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train000
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train000
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 000 right 0
+ local tid=000
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 000 0
+ set -e
+ local tid=000
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train000/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1862.89 	 OutFr   0.0026 	 RMSD     2.1897
Iter 002 	 Temp     3.72 	 Delta  1735.23 	 OutFr   0.0000 	 RMSD     1.9532
Iter 003 	 Temp     3.46 	 Delta  1583.04 	 OutFr   0.0000 	 RMSD     1.9292
Iter 004 	 Temp     3.22 	 Delta  1435.28 	 OutFr   0.0000 	 RMSD     1.9058
Iter 005 	 Temp     2.99 	 Delta  1306.03 	 OutFr   0.0000 	 RMSD     1.8853
Iter 006 	 Temp     2.78 	 Delta  1199.79 	 OutFr   0.0026 	 RMSD     1.8709
Iter 007 	 Temp     2.59 	 Delta  1107.89 	 OutFr   0.0026 	 RMSD     1.8586
Iter 008 	 Temp     2.41 	 Delta  1022.48 	 OutFr   0.0052 	 RMSD     1.8489
Iter 009 	 Temp     2.24 	 Delta   942.18 	 OutFr   0.0052 	 RMSD     1.8398
Iter 010 	 Temp     2.08 	 Delta   868.32 	 OutFr   0.0052 	 RMSD     1.8322
Iter 011 	 Temp     1.94 	 Delta   803.73 	 OutFr   0.0104 	 RMSD     1.8265
Iter 012 	 Temp     1.80 	 Delta   750.05 	 OutFr   0.0104 	 RMSD     1.8225
Iter 013 	 Temp     1.67 	 Delta   705.85 	 OutFr   0.0104 	 RMSD     1.8190
Iter 014 	 Temp     1.56 	 Delta   669.20 	 OutFr   0.0104 	 RMSD     1.8160
Iter 015 	 Temp     1.45 	 Delta   638.69 	 OutFr   0.0104 	 RMSD     1.8139
Iter 016 	 Temp     1.35 	 Delta   612.47 	 OutFr   0.0155 	 RMSD     1.8125
Iter 017 	 Temp     1.25 	 Delta   588.44 	 OutFr   0.0155 	 RMSD     1.8116
Iter 018 	 Temp     1.16 	 Delta   565.03 	 OutFr   0.0207 	 RMSD     1.8106
Iter 019 	 Temp     1.08 	 Delta   541.58 	 OutFr   0.0207 	 RMSD     1.8095
Iter 020 	 Temp     1.01 	 Delta   518.87 	 OutFr   0.0233 	 RMSD     1.8082
Iter 021 	 Temp     0.94 	 Delta   498.52 	 OutFr   0.0259 	 RMSD     1.8067
Iter 022 	 Temp     0.87 	 Delta   480.37 	 OutFr   0.0285 	 RMSD     1.8052
Iter 023 	 Temp     0.81 	 Delta   462.81 	 OutFr   0.0311 	 RMSD     1.8041
Iter 024 	 Temp     0.75 	 Delta   443.92 	 OutFr   0.0415 	 RMSD     1.8034
Iter 025 	 Temp     0.70 	 Delta   423.07 	 OutFr   0.0544 	 RMSD     1.8028
Iter 026 	 Temp     0.65 	 Delta   401.59 	 OutFr   0.0648 	 RMSD     1.8027
Iter 027 	 Temp     0.61 	 Delta   380.31 	 OutFr   0.0674 	 RMSD     1.8033
Iter 028 	 Temp     0.56 	 Delta   358.04 	 OutFr   0.0751 	 RMSD     1.8043
Iter 029 	 Temp     0.52 	 Delta   333.46 	 OutFr   0.1062 	 RMSD     1.8054
Iter 030 	 Temp     0.49 	 Delta   307.20 	 OutFr   0.1399 	 RMSD     1.8066
Iter 031 	 Temp     0.45 	 Delta   280.47 	 OutFr   0.1813 	 RMSD     1.8079
Iter 032 	 Temp     0.42 	 Delta   252.97 	 OutFr   0.2150 	 RMSD     1.8092
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train000/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.SImi1VR2/mybin.nii.gz
+ vtklevelset /tmp/ashs.SImi1VR2/mybin.nii.gz /tmp/ashs.SImi1VR2/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.SImi1VR2/mymesh.vtk /tmp/ashs.SImi1VR2/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2967.71795689 3168.80069063   1.06775669
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.SImi1VR2/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train000/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 7.76093 to 34.859
   Y : -20.6257 to 27.3299
   Z : -23.0744 to 2.60916
   Image resolution  : 107 by 167 by 102
   Image box origin  : {2.76093, -25.6257, -28.0744}
   Image box size    : {37.1528, 57.9861, 35.6996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-2.76093, 25.6257, -28.0744]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train000/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_fwd.mat -o /tmp/ashs.SImi1VR2/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train000/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_inv.mat -o /tmp/ashs.SImi1VR2/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train000/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.SImi1VR2/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train000/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=26 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=26 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.75 0.755769
+ echo 'CHUNK 0.75 0.755769 0.5'
CHUNK 0.75 0.755769 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.75 0.755769 0.5
====================================
         PROGRESS: 0.75               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train000/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.SImi1VR2/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.SImi1VR2/fixed_hw.nii.gz /tmp/ashs.SImi1VR2/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train000/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.715585, moving = 0.818296
LEVEL 1 of 3
  Smoothing sigmas: [2.38335, 2.39131, 2.37821], [0.972999, 0.976246, 0.970901]
Level     0,  Iter     0:    Energy =   0.0740
Level     0,  Iter     1:    Energy =   0.0805
Level     0,  Iter     2:    Energy =   0.0870
Level     0,  Iter     3:    Energy =   0.0916
Level     0,  Iter     4:    Energy =   0.0952
Level     0,  Iter     5:    Energy =   0.0978
Level     0,  Iter     6:    Energy =   0.0995
Level     0,  Iter     7:    Energy =   0.1004
Level     0,  Iter     8:    Energy =   0.1011
Level     0,  Iter     9:    Energy =   0.1015
Level     0,  Iter    10:    Energy =   0.1018
Level     0,  Iter    11:    Energy =   0.1020
Level     0,  Iter    12:    Energy =   0.1024
Level     0,  Iter    13:    Energy =   0.1025
Level     0,  Iter    14:    Energy =   0.1029
Level     0,  Iter    15:    Energy =   0.1029
Level     0,  Iter    16:    Energy =   0.1033
Level     0,  Iter    17:    Energy =   0.1033
Level     0,  Iter    18:    Energy =   0.1036
Level     0,  Iter    19:    Energy =   0.1035
Level     0,  Iter    20:    Energy =   0.1039
Level     0,  Iter    21:    Energy =   0.1038
Level     0,  Iter    22:    Energy =   0.1041
Level     0,  Iter    23:    Energy =   0.1040
Level     0,  Iter    24:    Energy =   0.1044
Level     0,  Iter    25:    Energy =   0.1043
Level     0,  Iter    26:    Energy =   0.1046
Level     0,  Iter    27:    Energy =   0.1044
Level     0,  Iter    28:    Energy =   0.1047
Level     0,  Iter    29:    Energy =   0.1045
Level     0,  Iter    30:    Energy =   0.1049
Level     0,  Iter    31:    Energy =   0.1045
Level     0,  Iter    32:    Energy =   0.1050
Level     0,  Iter    33:    Energy =   0.1046
Level     0,  Iter    34:    Energy =   0.1051
Level     0,  Iter    35:    Energy =   0.1048
Level     0,  Iter    36:    Energy =   0.1052
Level     0,  Iter    37:    Energy =   0.1049
Level     0,  Iter    38:    Energy =   0.1053
Level     0,  Iter    39:    Energy =   0.1052
Level     0,  Iter    40:    Energy =   0.1053
Level     0,  Iter    41:    Energy =   0.1050
Level     0,  Iter    42:    Energy =   0.1054
Level     0,  Iter    43:    Energy =   0.1050
Level     0,  Iter    44:    Energy =   0.1054
Level     0,  Iter    45:    Energy =   0.1049
Level     0,  Iter    46:    Energy =   0.1056
Level     0,  Iter    47:    Energy =   0.1055
Level     0,  Iter    48:    Energy =   0.1056
Level     0,  Iter    49:    Energy =   0.1054
Level     0,  Iter    50:    Energy =   0.1054
Level     0,  Iter    51:    Energy =   0.1052
Level     0,  Iter    52:    Energy =   0.1055
Level     0,  Iter    53:    Energy =   0.1052
Level     0,  Iter    54:    Energy =   0.1055
Level     0,  Iter    55:    Energy =   0.1050
Level     0,  Iter    56:    Energy =   0.1057
Level     0,  Iter    57:    Energy =   0.1055
Level     0,  Iter    58:    Energy =   0.1058
Level     0,  Iter    59:    Energy =   0.1055
END OF LEVEL     0    DetJac Range:   0.2688  to   1.8516 
  Avg. Gradient Time  : 0.0075s  37.88% 
  Avg. Gaussian Time  : 0.0093s  47.27% 
  Avg. Iteration Time : 0.0197s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19168, 1.19565, 1.21242], [0.486499, 0.488123, 0.494969]
Level     1,  Iter     0:    Energy =   0.0750
Level     1,  Iter     1:    Energy =   0.0789
Level     1,  Iter     2:    Energy =   0.0824
Level     1,  Iter     3:    Energy =   0.0851
Level     1,  Iter     4:    Energy =   0.0874
Level     1,  Iter     5:    Energy =   0.0889
Level     1,  Iter     6:    Energy =   0.0905
Level     1,  Iter     7:    Energy =   0.0916
Level     1,  Iter     8:    Energy =   0.0927
Level     1,  Iter     9:    Energy =   0.0937
Level     1,  Iter    10:    Energy =   0.0946
Level     1,  Iter    11:    Energy =   0.0955
Level     1,  Iter    12:    Energy =   0.0961
Level     1,  Iter    13:    Energy =   0.0966
Level     1,  Iter    14:    Energy =   0.0965
Level     1,  Iter    15:    Energy =   0.0967
Level     1,  Iter    16:    Energy =   0.0966
Level     1,  Iter    17:    Energy =   0.0969
Level     1,  Iter    18:    Energy =   0.0968
Level     1,  Iter    19:    Energy =   0.0971
Level     1,  Iter    20:    Energy =   0.0970
Level     1,  Iter    21:    Energy =   0.0973
Level     1,  Iter    22:    Energy =   0.0972
Level     1,  Iter    23:    Energy =   0.0974
Level     1,  Iter    24:    Energy =   0.0974
Level     1,  Iter    25:    Energy =   0.0975
Level     1,  Iter    26:    Energy =   0.0975
Level     1,  Iter    27:    Energy =   0.0977
Level     1,  Iter    28:    Energy =   0.0976
Level     1,  Iter    29:    Energy =   0.0978
Level     1,  Iter    30:    Energy =   0.0977
Level     1,  Iter    31:    Energy =   0.0979
Level     1,  Iter    32:    Energy =   0.0978
Level     1,  Iter    33:    Energy =   0.0980
Level     1,  Iter    34:    Energy =   0.0979
Level     1,  Iter    35:    Energy =   0.0981
Level     1,  Iter    36:    Energy =   0.0980
Level     1,  Iter    37:    Energy =   0.0982
Level     1,  Iter    38:    Energy =   0.0981
Level     1,  Iter    39:    Energy =   0.0982
Level     1,  Iter    40:    Energy =   0.0981
Level     1,  Iter    41:    Energy =   0.0983
Level     1,  Iter    42:    Energy =   0.0982
Level     1,  Iter    43:    Energy =   0.0984
Level     1,  Iter    44:    Energy =   0.0982
Level     1,  Iter    45:    Energy =   0.0984
Level     1,  Iter    46:    Energy =   0.0983
Level     1,  Iter    47:    Energy =   0.0984
Level     1,  Iter    48:    Energy =   0.0984
Level     1,  Iter    49:    Energy =   0.0985
Level     1,  Iter    50:    Energy =   0.0984
Level     1,  Iter    51:    Energy =   0.0985
Level     1,  Iter    52:    Energy =   0.0984
Level     1,  Iter    53:    Energy =   0.0985
Level     1,  Iter    54:    Energy =   0.0984
Level     1,  Iter    55:    Energy =   0.0986
Level     1,  Iter    56:    Energy =   0.0985
Level     1,  Iter    57:    Energy =   0.0986
Level     1,  Iter    58:    Energy =   0.0985
Level     1,  Iter    59:    Energy =   0.0986
END OF LEVEL     1    DetJac Range:   0.1120  to   2.6888 
  Avg. Gradient Time  : 0.0447s  39.96% 
  Avg. Gaussian Time  : 0.0538s  48.09% 
  Avg. Iteration Time : 0.1119s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0517
Level     2,  Iter     1:    Energy =   0.0542
Level     2,  Iter     2:    Energy =   0.0564
Level     2,  Iter     3:    Energy =   0.0584
Level     2,  Iter     4:    Energy =   0.0601
Level     2,  Iter     5:    Energy =   0.0615
Level     2,  Iter     6:    Energy =   0.0626
Level     2,  Iter     7:    Energy =   0.0638
Level     2,  Iter     8:    Energy =   0.0649
Level     2,  Iter     9:    Energy =   0.0659
Level     2,  Iter    10:    Energy =   0.0669
Level     2,  Iter    11:    Energy =   0.0676
Level     2,  Iter    12:    Energy =   0.0682
Level     2,  Iter    13:    Energy =   0.0688
Level     2,  Iter    14:    Energy =   0.0692
Level     2,  Iter    15:    Energy =   0.0696
Level     2,  Iter    16:    Energy =   0.0696
Level     2,  Iter    17:    Energy =   0.0699
Level     2,  Iter    18:    Energy =   0.0696
Level     2,  Iter    19:    Energy =   0.0701
END OF LEVEL     2    DetJac Range:   0.0633  to   3.7649 
  Avg. Gradient Time  : 0.3181s  37.13% 
  Avg. Gaussian Time  : 0.4482s  52.31% 
  Avg. Iteration Time : 0.8568s 

real	0m28.482s
user	0m50.464s
sys	0m2.676s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train000/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train000/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train000/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=26 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=26 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.75 0.755769
+ echo 'CHUNK 0.75 0.755769 1'
CHUNK 0.75 0.755769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.75 0.755769 1
====================================
         PROGRESS: 0.75               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=001
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 001
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train001
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train001
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 001 right 0
+ local tid=001
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 001 0
+ set -e
+ local tid=001
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train001/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1844.60 	 OutFr   0.0000 	 RMSD     2.9714
Iter 002 	 Temp     3.72 	 Delta  1662.25 	 OutFr   0.0000 	 RMSD     2.1528
Iter 003 	 Temp     3.46 	 Delta  1535.27 	 OutFr   0.0000 	 RMSD     2.1174
Iter 004 	 Temp     3.22 	 Delta  1421.70 	 OutFr   0.0000 	 RMSD     2.0873
Iter 005 	 Temp     2.99 	 Delta  1319.81 	 OutFr   0.0026 	 RMSD     2.0670
Iter 006 	 Temp     2.78 	 Delta  1230.35 	 OutFr   0.0078 	 RMSD     2.0533
Iter 007 	 Temp     2.59 	 Delta  1153.28 	 OutFr   0.0078 	 RMSD     2.0448
Iter 008 	 Temp     2.41 	 Delta  1086.30 	 OutFr   0.0130 	 RMSD     2.0420
Iter 009 	 Temp     2.24 	 Delta  1026.98 	 OutFr   0.0155 	 RMSD     2.0406
Iter 010 	 Temp     2.08 	 Delta   974.58 	 OutFr   0.0155 	 RMSD     2.0408
Iter 011 	 Temp     1.94 	 Delta   929.40 	 OutFr   0.0155 	 RMSD     2.0424
Iter 012 	 Temp     1.80 	 Delta   892.17 	 OutFr   0.0181 	 RMSD     2.0450
Iter 013 	 Temp     1.67 	 Delta   860.74 	 OutFr   0.0207 	 RMSD     2.0474
Iter 014 	 Temp     1.56 	 Delta   829.48 	 OutFr   0.0207 	 RMSD     2.0495
Iter 015 	 Temp     1.45 	 Delta   795.94 	 OutFr   0.0259 	 RMSD     2.0513
Iter 016 	 Temp     1.35 	 Delta   760.58 	 OutFr   0.0363 	 RMSD     2.0518
Iter 017 	 Temp     1.25 	 Delta   724.69 	 OutFr   0.0466 	 RMSD     2.0522
Iter 018 	 Temp     1.16 	 Delta   690.32 	 OutFr   0.0492 	 RMSD     2.0522
Iter 019 	 Temp     1.08 	 Delta   658.42 	 OutFr   0.0570 	 RMSD     2.0515
Iter 020 	 Temp     1.01 	 Delta   627.35 	 OutFr   0.0699 	 RMSD     2.0509
Iter 021 	 Temp     0.94 	 Delta   594.91 	 OutFr   0.0803 	 RMSD     2.0502
Iter 022 	 Temp     0.87 	 Delta   558.24 	 OutFr   0.0984 	 RMSD     2.0493
Iter 023 	 Temp     0.81 	 Delta   516.10 	 OutFr   0.1218 	 RMSD     2.0480
Iter 024 	 Temp     0.75 	 Delta   471.40 	 OutFr   0.1451 	 RMSD     2.0468
Iter 025 	 Temp     0.70 	 Delta   431.81 	 OutFr   0.1813 	 RMSD     2.0467
Iter 026 	 Temp     0.65 	 Delta   396.62 	 OutFr   0.1995 	 RMSD     2.0475
Iter 027 	 Temp     0.61 	 Delta   362.86 	 OutFr   0.2202 	 RMSD     2.0495
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train001/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.ocsdDIaK/mybin.nii.gz
+ vtklevelset /tmp/ashs.ocsdDIaK/mybin.nii.gz /tmp/ashs.ocsdDIaK/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.ocsdDIaK/mymesh.vtk /tmp/ashs.ocsdDIaK/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2967.71795689 2810.97023901   0.94718241
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.ocsdDIaK/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train001/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 10.5956 to 36.9218
   Y : -15.0229 to 27.5711
   Z : -21.807 to 4.68209
   Image resolution  : 105 by 152 by 105
   Image box origin  : {5.5956, -20.0229, -26.807}
   Image box size    : {36.4583, 52.7777, 36.7496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-5.5956, 20.0229, -26.807]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train001/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_fwd.mat -o /tmp/ashs.ocsdDIaK/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train001/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_inv.mat -o /tmp/ashs.ocsdDIaK/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train001/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.ocsdDIaK/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train001/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=27 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=27 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.755769 0.761538
+ echo 'CHUNK 0.755769 0.761538 0.5'
CHUNK 0.755769 0.761538 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.755769 0.761538 0.5
====================================
         PROGRESS: 0.755769               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train001/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.ocsdDIaK/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.ocsdDIaK/fixed_hw.nii.gz /tmp/ashs.ocsdDIaK/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train001/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.748962, moving = 0.765296
LEVEL 1 of 3
  Smoothing sigmas: [2.3388, 2.40562, 2.35749], [0.954812, 0.982092, 0.96244]
Level     0,  Iter     0:    Energy =   0.0290
Level     0,  Iter     1:    Energy =   0.0339
Level     0,  Iter     2:    Energy =   0.0392
Level     0,  Iter     3:    Energy =   0.0438
Level     0,  Iter     4:    Energy =   0.0472
Level     0,  Iter     5:    Energy =   0.0504
Level     0,  Iter     6:    Energy =   0.0534
Level     0,  Iter     7:    Energy =   0.0557
Level     0,  Iter     8:    Energy =   0.0574
Level     0,  Iter     9:    Energy =   0.0590
Level     0,  Iter    10:    Energy =   0.0603
Level     0,  Iter    11:    Energy =   0.0612
Level     0,  Iter    12:    Energy =   0.0619
Level     0,  Iter    13:    Energy =   0.0626
Level     0,  Iter    14:    Energy =   0.0633
Level     0,  Iter    15:    Energy =   0.0640
Level     0,  Iter    16:    Energy =   0.0648
Level     0,  Iter    17:    Energy =   0.0659
Level     0,  Iter    18:    Energy =   0.0666
Level     0,  Iter    19:    Energy =   0.0671
Level     0,  Iter    20:    Energy =   0.0670
Level     0,  Iter    21:    Energy =   0.0674
Level     0,  Iter    22:    Energy =   0.0673
Level     0,  Iter    23:    Energy =   0.0676
Level     0,  Iter    24:    Energy =   0.0676
Level     0,  Iter    25:    Energy =   0.0679
Level     0,  Iter    26:    Energy =   0.0680
Level     0,  Iter    27:    Energy =   0.0684
Level     0,  Iter    28:    Energy =   0.0682
Level     0,  Iter    29:    Energy =   0.0686
Level     0,  Iter    30:    Energy =   0.0686
Level     0,  Iter    31:    Energy =   0.0690
Level     0,  Iter    32:    Energy =   0.0688
Level     0,  Iter    33:    Energy =   0.0693
Level     0,  Iter    34:    Energy =   0.0691
Level     0,  Iter    35:    Energy =   0.0695
Level     0,  Iter    36:    Energy =   0.0694
Level     0,  Iter    37:    Energy =   0.0698
Level     0,  Iter    38:    Energy =   0.0696
Level     0,  Iter    39:    Energy =   0.0699
Level     0,  Iter    40:    Energy =   0.0697
Level     0,  Iter    41:    Energy =   0.0701
Level     0,  Iter    42:    Energy =   0.0698
Level     0,  Iter    43:    Energy =   0.0704
Level     0,  Iter    44:    Energy =   0.0704
Level     0,  Iter    45:    Energy =   0.0705
Level     0,  Iter    46:    Energy =   0.0701
Level     0,  Iter    47:    Energy =   0.0704
Level     0,  Iter    48:    Energy =   0.0710
Level     0,  Iter    49:    Energy =   0.0708
Level     0,  Iter    50:    Energy =   0.0710
Level     0,  Iter    51:    Energy =   0.0705
Level     0,  Iter    52:    Energy =   0.0707
Level     0,  Iter    53:    Energy =   0.0713
Level     0,  Iter    54:    Energy =   0.0716
Level     0,  Iter    55:    Energy =   0.0715
Level     0,  Iter    56:    Energy =   0.0710
Level     0,  Iter    57:    Energy =   0.0712
Level     0,  Iter    58:    Energy =   0.0718
Level     0,  Iter    59:    Energy =   0.0716
END OF LEVEL     0    DetJac Range:   0.1109  to   2.8110 
  Avg. Gradient Time  : 0.0073s  37.22% 
  Avg. Gaussian Time  : 0.0094s  47.95% 
  Avg. Iteration Time : 0.0195s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19147, 1.20281, 1.20098], [0.486414, 0.491046, 0.4903]
Level     1,  Iter     0:    Energy =   0.0471
Level     1,  Iter     1:    Energy =   0.0497
Level     1,  Iter     2:    Energy =   0.0523
Level     1,  Iter     3:    Energy =   0.0544
Level     1,  Iter     4:    Energy =   0.0561
Level     1,  Iter     5:    Energy =   0.0579
Level     1,  Iter     6:    Energy =   0.0596
Level     1,  Iter     7:    Energy =   0.0610
Level     1,  Iter     8:    Energy =   0.0625
Level     1,  Iter     9:    Energy =   0.0637
Level     1,  Iter    10:    Energy =   0.0650
Level     1,  Iter    11:    Energy =   0.0664
Level     1,  Iter    12:    Energy =   0.0675
Level     1,  Iter    13:    Energy =   0.0686
Level     1,  Iter    14:    Energy =   0.0694
Level     1,  Iter    15:    Energy =   0.0702
Level     1,  Iter    16:    Energy =   0.0707
Level     1,  Iter    17:    Energy =   0.0712
Level     1,  Iter    18:    Energy =   0.0716
Level     1,  Iter    19:    Energy =   0.0718
Level     1,  Iter    20:    Energy =   0.0719
Level     1,  Iter    21:    Energy =   0.0723
Level     1,  Iter    22:    Energy =   0.0724
Level     1,  Iter    23:    Energy =   0.0727
Level     1,  Iter    24:    Energy =   0.0726
Level     1,  Iter    25:    Energy =   0.0730
Level     1,  Iter    26:    Energy =   0.0730
Level     1,  Iter    27:    Energy =   0.0732
Level     1,  Iter    28:    Energy =   0.0730
Level     1,  Iter    29:    Energy =   0.0733
Level     1,  Iter    30:    Energy =   0.0734
Level     1,  Iter    31:    Energy =   0.0734
Level     1,  Iter    32:    Energy =   0.0733
Level     1,  Iter    33:    Energy =   0.0736
Level     1,  Iter    34:    Energy =   0.0736
Level     1,  Iter    35:    Energy =   0.0738
Level     1,  Iter    36:    Energy =   0.0735
Level     1,  Iter    37:    Energy =   0.0737
Level     1,  Iter    38:    Energy =   0.0739
Level     1,  Iter    39:    Energy =   0.0738
Level     1,  Iter    40:    Energy =   0.0736
Level     1,  Iter    41:    Energy =   0.0737
Level     1,  Iter    42:    Energy =   0.0738
Level     1,  Iter    43:    Energy =   0.0739
Level     1,  Iter    44:    Energy =   0.0737
Level     1,  Iter    45:    Energy =   0.0738
Level     1,  Iter    46:    Energy =   0.0738
Level     1,  Iter    47:    Energy =   0.0739
Level     1,  Iter    48:    Energy =   0.0739
Level     1,  Iter    49:    Energy =   0.0739
Level     1,  Iter    50:    Energy =   0.0738
Level     1,  Iter    51:    Energy =   0.0739
Level     1,  Iter    52:    Energy =   0.0739
Level     1,  Iter    53:    Energy =   0.0740
Level     1,  Iter    54:    Energy =   0.0739
Level     1,  Iter    55:    Energy =   0.0740
Level     1,  Iter    56:    Energy =   0.0738
Level     1,  Iter    57:    Energy =   0.0739
Level     1,  Iter    58:    Energy =   0.0740
Level     1,  Iter    59:    Energy =   0.0741
END OF LEVEL     1    DetJac Range:   0.0211  to   3.1657 
  Avg. Gradient Time  : 0.0413s  39.79% 
  Avg. Gaussian Time  : 0.0502s  48.33% 
  Avg. Iteration Time : 0.1039s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0374
Level     2,  Iter     1:    Energy =   0.0395
Level     2,  Iter     2:    Energy =   0.0414
Level     2,  Iter     3:    Energy =   0.0432
Level     2,  Iter     4:    Energy =   0.0446
Level     2,  Iter     5:    Energy =   0.0458
Level     2,  Iter     6:    Energy =   0.0469
Level     2,  Iter     7:    Energy =   0.0478
Level     2,  Iter     8:    Energy =   0.0487
Level     2,  Iter     9:    Energy =   0.0495
Level     2,  Iter    10:    Energy =   0.0502
Level     2,  Iter    11:    Energy =   0.0509
Level     2,  Iter    12:    Energy =   0.0514
Level     2,  Iter    13:    Energy =   0.0520
Level     2,  Iter    14:    Energy =   0.0524
Level     2,  Iter    15:    Energy =   0.0529
Level     2,  Iter    16:    Energy =   0.0533
Level     2,  Iter    17:    Energy =   0.0535
Level     2,  Iter    18:    Energy =   0.0537
Level     2,  Iter    19:    Energy =   0.0541
END OF LEVEL     2    DetJac Range:   0.0193  to   3.8694 
  Avg. Gradient Time  : 0.2980s  37.90% 
  Avg. Gaussian Time  : 0.4043s  51.42% 
  Avg. Iteration Time : 0.7863s 

real	0m26.263s
user	0m46.140s
sys	0m2.712s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train001/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train001/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train001/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=27 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=27 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.755769 0.761538
+ echo 'CHUNK 0.755769 0.761538 1'
CHUNK 0.755769 0.761538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.755769 0.761538 1
====================================
         PROGRESS: 0.755769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=002
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 002
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train002
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train002
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 002 right 0
+ local tid=002
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 002 0
+ set -e
+ local tid=002
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train002/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2296.47 	 OutFr   0.0000 	 RMSD     3.5132
Iter 002 	 Temp     3.72 	 Delta  2103.99 	 OutFr   0.0000 	 RMSD     2.2304
Iter 003 	 Temp     3.46 	 Delta  2028.17 	 OutFr   0.0000 	 RMSD     2.2622
Iter 004 	 Temp     3.22 	 Delta  1953.02 	 OutFr   0.0000 	 RMSD     2.2620
Iter 005 	 Temp     2.99 	 Delta  1877.36 	 OutFr   0.0000 	 RMSD     2.2481
Iter 006 	 Temp     2.78 	 Delta  1803.66 	 OutFr   0.0000 	 RMSD     2.2314
Iter 007 	 Temp     2.59 	 Delta  1730.42 	 OutFr   0.0000 	 RMSD     2.2160
Iter 008 	 Temp     2.41 	 Delta  1654.47 	 OutFr   0.0000 	 RMSD     2.2020
Iter 009 	 Temp     2.24 	 Delta  1573.19 	 OutFr   0.0026 	 RMSD     2.1897
Iter 010 	 Temp     2.08 	 Delta  1487.02 	 OutFr   0.0026 	 RMSD     2.1793
Iter 011 	 Temp     1.94 	 Delta  1399.90 	 OutFr   0.0052 	 RMSD     2.1705
Iter 012 	 Temp     1.80 	 Delta  1316.51 	 OutFr   0.0052 	 RMSD     2.1631
Iter 013 	 Temp     1.67 	 Delta  1238.89 	 OutFr   0.0052 	 RMSD     2.1570
Iter 014 	 Temp     1.56 	 Delta  1166.66 	 OutFr   0.0052 	 RMSD     2.1517
Iter 015 	 Temp     1.45 	 Delta  1098.90 	 OutFr   0.0104 	 RMSD     2.1473
Iter 016 	 Temp     1.35 	 Delta  1034.46 	 OutFr   0.0104 	 RMSD     2.1433
Iter 017 	 Temp     1.25 	 Delta   973.76 	 OutFr   0.0130 	 RMSD     2.1388
Iter 018 	 Temp     1.16 	 Delta   917.07 	 OutFr   0.0207 	 RMSD     2.1344
Iter 019 	 Temp     1.08 	 Delta   863.20 	 OutFr   0.0363 	 RMSD     2.1307
Iter 020 	 Temp     1.01 	 Delta   809.64 	 OutFr   0.0492 	 RMSD     2.1272
Iter 021 	 Temp     0.94 	 Delta   753.76 	 OutFr   0.0622 	 RMSD     2.1235
Iter 022 	 Temp     0.87 	 Delta   697.27 	 OutFr   0.0751 	 RMSD     2.1192
Iter 023 	 Temp     0.81 	 Delta   641.76 	 OutFr   0.0907 	 RMSD     2.1147
Iter 024 	 Temp     0.75 	 Delta   587.08 	 OutFr   0.1036 	 RMSD     2.1108
Iter 025 	 Temp     0.70 	 Delta   532.12 	 OutFr   0.1244 	 RMSD     2.1065
Iter 026 	 Temp     0.65 	 Delta   478.03 	 OutFr   0.1606 	 RMSD     2.1012
Iter 027 	 Temp     0.61 	 Delta   429.73 	 OutFr   0.1891 	 RMSD     2.0970
Iter 028 	 Temp     0.56 	 Delta   382.33 	 OutFr   0.2280 	 RMSD     2.0954
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train002/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.wuOY318y/mybin.nii.gz
+ vtklevelset /tmp/ashs.wuOY318y/mybin.nii.gz /tmp/ashs.wuOY318y/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.wuOY318y/mymesh.vtk /tmp/ashs.wuOY318y/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2967.71795689 2945.82511250   0.99262300
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.wuOY318y/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train002/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 5.43252 to 31.2007
   Y : -24.7683 to 19.2289
   Z : -17.3392 to 12.0939
   Image resolution  : 104 by 156 by 113
   Image box origin  : {0.43252, -29.7683, -22.3392}
   Image box size    : {36.1111, 54.1666, 39.5495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-0.43252, 29.7683, -22.3392]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train002/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_fwd.mat -o /tmp/ashs.wuOY318y/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train002/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_inv.mat -o /tmp/ashs.wuOY318y/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train002/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.wuOY318y/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train002/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=28 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=28 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.761538 0.767308
+ echo 'CHUNK 0.761538 0.767308 0.5'
CHUNK 0.761538 0.767308 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.761538 0.767308 0.5
====================================
         PROGRESS: 0.761538               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train002/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.wuOY318y/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.wuOY318y/fixed_hw.nii.gz /tmp/ashs.wuOY318y/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train002/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.777849, moving = 0.521981
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.40562, 2.36213], [0.982092, 0.982092, 0.964336]
Level     0,  Iter     0:    Energy =   0.0519
Level     0,  Iter     1:    Energy =   0.0576
Level     0,  Iter     2:    Energy =   0.0636
Level     0,  Iter     3:    Energy =   0.0685
Level     0,  Iter     4:    Energy =   0.0726
Level     0,  Iter     5:    Energy =   0.0758
Level     0,  Iter     6:    Energy =   0.0781
Level     0,  Iter     7:    Energy =   0.0801
Level     0,  Iter     8:    Energy =   0.0819
Level     0,  Iter     9:    Energy =   0.0835
Level     0,  Iter    10:    Energy =   0.0849
Level     0,  Iter    11:    Energy =   0.0856
Level     0,  Iter    12:    Energy =   0.0861
Level     0,  Iter    13:    Energy =   0.0867
Level     0,  Iter    14:    Energy =   0.0868
Level     0,  Iter    15:    Energy =   0.0872
Level     0,  Iter    16:    Energy =   0.0873
Level     0,  Iter    17:    Energy =   0.0874
Level     0,  Iter    18:    Energy =   0.0875
Level     0,  Iter    19:    Energy =   0.0877
Level     0,  Iter    20:    Energy =   0.0877
Level     0,  Iter    21:    Energy =   0.0875
Level     0,  Iter    22:    Energy =   0.0877
Level     0,  Iter    23:    Energy =   0.0875
Level     0,  Iter    24:    Energy =   0.0877
Level     0,  Iter    25:    Energy =   0.0876
Level     0,  Iter    26:    Energy =   0.0878
Level     0,  Iter    27:    Energy =   0.0877
Level     0,  Iter    28:    Energy =   0.0879
Level     0,  Iter    29:    Energy =   0.0878
Level     0,  Iter    30:    Energy =   0.0880
Level     0,  Iter    31:    Energy =   0.0878
Level     0,  Iter    32:    Energy =   0.0880
Level     0,  Iter    33:    Energy =   0.0879
Level     0,  Iter    34:    Energy =   0.0881
Level     0,  Iter    35:    Energy =   0.0879
Level     0,  Iter    36:    Energy =   0.0880
Level     0,  Iter    37:    Energy =   0.0879
Level     0,  Iter    38:    Energy =   0.0881
Level     0,  Iter    39:    Energy =   0.0879
Level     0,  Iter    40:    Energy =   0.0881
Level     0,  Iter    41:    Energy =   0.0881
Level     0,  Iter    42:    Energy =   0.0882
Level     0,  Iter    43:    Energy =   0.0880
Level     0,  Iter    44:    Energy =   0.0882
Level     0,  Iter    45:    Energy =   0.0881
Level     0,  Iter    46:    Energy =   0.0882
Level     0,  Iter    47:    Energy =   0.0881
Level     0,  Iter    48:    Energy =   0.0882
Level     0,  Iter    49:    Energy =   0.0881
Level     0,  Iter    50:    Energy =   0.0883
Level     0,  Iter    51:    Energy =   0.0881
Level     0,  Iter    52:    Energy =   0.0883
Level     0,  Iter    53:    Energy =   0.0882
Level     0,  Iter    54:    Energy =   0.0884
Level     0,  Iter    55:    Energy =   0.0883
Level     0,  Iter    56:    Energy =   0.0884
Level     0,  Iter    57:    Energy =   0.0883
Level     0,  Iter    58:    Energy =   0.0884
Level     0,  Iter    59:    Energy =   0.0883
END OF LEVEL     0    DetJac Range:   0.3781  to   1.6063 
  Avg. Gradient Time  : 0.0075s  37.37% 
  Avg. Gaussian Time  : 0.0095s  47.49% 
  Avg. Iteration Time : 0.0200s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.20179], [0.491046, 0.491046, 0.490627]
Level     1,  Iter     0:    Energy =   0.0598
Level     1,  Iter     1:    Energy =   0.0640
Level     1,  Iter     2:    Energy =   0.0676
Level     1,  Iter     3:    Energy =   0.0700
Level     1,  Iter     4:    Energy =   0.0717
Level     1,  Iter     5:    Energy =   0.0730
Level     1,  Iter     6:    Energy =   0.0741
Level     1,  Iter     7:    Energy =   0.0751
Level     1,  Iter     8:    Energy =   0.0761
Level     1,  Iter     9:    Energy =   0.0772
Level     1,  Iter    10:    Energy =   0.0782
Level     1,  Iter    11:    Energy =   0.0792
Level     1,  Iter    12:    Energy =   0.0800
Level     1,  Iter    13:    Energy =   0.0807
Level     1,  Iter    14:    Energy =   0.0810
Level     1,  Iter    15:    Energy =   0.0811
Level     1,  Iter    16:    Energy =   0.0814
Level     1,  Iter    17:    Energy =   0.0816
Level     1,  Iter    18:    Energy =   0.0817
Level     1,  Iter    19:    Energy =   0.0819
Level     1,  Iter    20:    Energy =   0.0820
Level     1,  Iter    21:    Energy =   0.0822
Level     1,  Iter    22:    Energy =   0.0822
Level     1,  Iter    23:    Energy =   0.0825
Level     1,  Iter    24:    Energy =   0.0825
Level     1,  Iter    25:    Energy =   0.0828
Level     1,  Iter    26:    Energy =   0.0827
Level     1,  Iter    27:    Energy =   0.0830
Level     1,  Iter    28:    Energy =   0.0830
Level     1,  Iter    29:    Energy =   0.0832
Level     1,  Iter    30:    Energy =   0.0832
Level     1,  Iter    31:    Energy =   0.0834
Level     1,  Iter    32:    Energy =   0.0833
Level     1,  Iter    33:    Energy =   0.0835
Level     1,  Iter    34:    Energy =   0.0835
Level     1,  Iter    35:    Energy =   0.0836
Level     1,  Iter    36:    Energy =   0.0836
Level     1,  Iter    37:    Energy =   0.0837
Level     1,  Iter    38:    Energy =   0.0836
Level     1,  Iter    39:    Energy =   0.0838
Level     1,  Iter    40:    Energy =   0.0837
Level     1,  Iter    41:    Energy =   0.0838
Level     1,  Iter    42:    Energy =   0.0838
Level     1,  Iter    43:    Energy =   0.0839
Level     1,  Iter    44:    Energy =   0.0839
Level     1,  Iter    45:    Energy =   0.0839
Level     1,  Iter    46:    Energy =   0.0839
Level     1,  Iter    47:    Energy =   0.0840
Level     1,  Iter    48:    Energy =   0.0840
Level     1,  Iter    49:    Energy =   0.0840
Level     1,  Iter    50:    Energy =   0.0840
Level     1,  Iter    51:    Energy =   0.0840
Level     1,  Iter    52:    Energy =   0.0840
Level     1,  Iter    53:    Energy =   0.0840
Level     1,  Iter    54:    Energy =   0.0841
Level     1,  Iter    55:    Energy =   0.0841
Level     1,  Iter    56:    Energy =   0.0841
Level     1,  Iter    57:    Energy =   0.0841
Level     1,  Iter    58:    Energy =   0.0841
Level     1,  Iter    59:    Energy =   0.0841
END OF LEVEL     1    DetJac Range:   0.1319  to   2.2659 
  Avg. Gradient Time  : 0.0455s  40.31% 
  Avg. Gaussian Time  : 0.0540s  47.78% 
  Avg. Iteration Time : 0.1130s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0454
Level     2,  Iter     1:    Energy =   0.0475
Level     2,  Iter     2:    Energy =   0.0492
Level     2,  Iter     3:    Energy =   0.0506
Level     2,  Iter     4:    Energy =   0.0519
Level     2,  Iter     5:    Energy =   0.0531
Level     2,  Iter     6:    Energy =   0.0543
Level     2,  Iter     7:    Energy =   0.0552
Level     2,  Iter     8:    Energy =   0.0561
Level     2,  Iter     9:    Energy =   0.0568
Level     2,  Iter    10:    Energy =   0.0575
Level     2,  Iter    11:    Energy =   0.0581
Level     2,  Iter    12:    Energy =   0.0585
Level     2,  Iter    13:    Energy =   0.0590
Level     2,  Iter    14:    Energy =   0.0593
Level     2,  Iter    15:    Energy =   0.0597
Level     2,  Iter    16:    Energy =   0.0599
Level     2,  Iter    17:    Energy =   0.0602
Level     2,  Iter    18:    Energy =   0.0604
Level     2,  Iter    19:    Energy =   0.0606
END OF LEVEL     2    DetJac Range:   0.1198  to   3.0800 
  Avg. Gradient Time  : 0.3201s  37.32% 
  Avg. Gaussian Time  : 0.4456s  51.95% 
  Avg. Iteration Time : 0.8577s 

real	0m28.473s
user	0m50.404s
sys	0m2.716s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train002/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train002/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train002/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=28 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=28 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.761538 0.767308
+ echo 'CHUNK 0.761538 0.767308 1'
CHUNK 0.761538 0.767308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.761538 0.767308 1
====================================
         PROGRESS: 0.761538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=003
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 003
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train003
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train003
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 003 right 0
+ local tid=003
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 003 0
+ set -e
+ local tid=003
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train003/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1923.52 	 OutFr   0.0000 	 RMSD     2.7084
Iter 002 	 Temp     3.72 	 Delta  1846.37 	 OutFr   0.0000 	 RMSD     1.9935
Iter 003 	 Temp     3.46 	 Delta  1705.07 	 OutFr   0.0000 	 RMSD     2.0044
Iter 004 	 Temp     3.22 	 Delta  1567.23 	 OutFr   0.0000 	 RMSD     1.9787
Iter 005 	 Temp     2.99 	 Delta  1440.39 	 OutFr   0.0000 	 RMSD     1.9525
Iter 006 	 Temp     2.78 	 Delta  1319.07 	 OutFr   0.0000 	 RMSD     1.9296
Iter 007 	 Temp     2.59 	 Delta  1203.60 	 OutFr   0.0000 	 RMSD     1.9089
Iter 008 	 Temp     2.41 	 Delta  1101.13 	 OutFr   0.0000 	 RMSD     1.8882
Iter 009 	 Temp     2.24 	 Delta  1013.78 	 OutFr   0.0052 	 RMSD     1.8686
Iter 010 	 Temp     2.08 	 Delta   936.32 	 OutFr   0.0052 	 RMSD     1.8506
Iter 011 	 Temp     1.94 	 Delta   865.03 	 OutFr   0.0104 	 RMSD     1.8321
Iter 012 	 Temp     1.80 	 Delta   799.89 	 OutFr   0.0104 	 RMSD     1.8150
Iter 013 	 Temp     1.67 	 Delta   741.73 	 OutFr   0.0104 	 RMSD     1.7993
Iter 014 	 Temp     1.56 	 Delta   691.31 	 OutFr   0.0181 	 RMSD     1.7861
Iter 015 	 Temp     1.45 	 Delta   648.72 	 OutFr   0.0181 	 RMSD     1.7747
Iter 016 	 Temp     1.35 	 Delta   612.69 	 OutFr   0.0181 	 RMSD     1.7651
Iter 017 	 Temp     1.25 	 Delta   581.09 	 OutFr   0.0207 	 RMSD     1.7566
Iter 018 	 Temp     1.16 	 Delta   553.10 	 OutFr   0.0259 	 RMSD     1.7492
Iter 019 	 Temp     1.08 	 Delta   528.39 	 OutFr   0.0311 	 RMSD     1.7416
Iter 020 	 Temp     1.01 	 Delta   505.23 	 OutFr   0.0363 	 RMSD     1.7349
Iter 021 	 Temp     0.94 	 Delta   482.32 	 OutFr   0.0389 	 RMSD     1.7306
Iter 022 	 Temp     0.87 	 Delta   459.38 	 OutFr   0.0415 	 RMSD     1.7278
Iter 023 	 Temp     0.81 	 Delta   436.92 	 OutFr   0.0492 	 RMSD     1.7269
Iter 024 	 Temp     0.75 	 Delta   413.34 	 OutFr   0.0544 	 RMSD     1.7267
Iter 025 	 Temp     0.70 	 Delta   387.07 	 OutFr   0.0596 	 RMSD     1.7266
Iter 026 	 Temp     0.65 	 Delta   359.34 	 OutFr   0.0699 	 RMSD     1.7265
Iter 027 	 Temp     0.61 	 Delta   334.36 	 OutFr   0.0959 	 RMSD     1.7271
Iter 028 	 Temp     0.56 	 Delta   316.06 	 OutFr   0.1166 	 RMSD     1.7290
Iter 029 	 Temp     0.52 	 Delta   299.00 	 OutFr   0.1399 	 RMSD     1.7313
Iter 030 	 Temp     0.49 	 Delta   279.09 	 OutFr   0.1477 	 RMSD     1.7332
Iter 031 	 Temp     0.45 	 Delta   257.37 	 OutFr   0.1813 	 RMSD     1.7345
Iter 032 	 Temp     0.42 	 Delta   234.24 	 OutFr   0.2124 	 RMSD     1.7355
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train003/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.GLVJxRlF/mybin.nii.gz
+ vtklevelset /tmp/ashs.GLVJxRlF/mybin.nii.gz /tmp/ashs.GLVJxRlF/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.GLVJxRlF/mymesh.vtk /tmp/ashs.GLVJxRlF/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2967.71795689 2814.92084977   0.94851360
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.GLVJxRlF/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train003/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 9.76006 to 35.2552
   Y : -17.9656 to 26.1952
   Z : -30.9281 to -6.22249
   Image resolution  : 103 by 156 by 100
   Image box origin  : {4.76006, -22.9656, -35.9281}
   Image box size    : {35.7639, 54.1666, 34.9996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-4.76006, 22.9656, -35.9281]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train003/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_fwd.mat -o /tmp/ashs.GLVJxRlF/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train003/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_inv.mat -o /tmp/ashs.GLVJxRlF/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train003/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.GLVJxRlF/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train003/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=29 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=29 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.767308 0.773077
+ echo 'CHUNK 0.767308 0.773077 0.5'
CHUNK 0.767308 0.773077 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.767308 0.773077 0.5
====================================
         PROGRESS: 0.767308               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train003/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.GLVJxRlF/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.GLVJxRlF/fixed_hw.nii.gz /tmp/ashs.GLVJxRlF/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train003/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.755216, moving = 0.244433
LEVEL 1 of 3
  Smoothing sigmas: [2.38249, 2.40562, 2.42484], [0.972649, 0.982092, 0.989938]
Level     0,  Iter     0:    Energy =   0.0380
Level     0,  Iter     1:    Energy =   0.0433
Level     0,  Iter     2:    Energy =   0.0487
Level     0,  Iter     3:    Energy =   0.0533
Level     0,  Iter     4:    Energy =   0.0574
Level     0,  Iter     5:    Energy =   0.0613
Level     0,  Iter     6:    Energy =   0.0649
Level     0,  Iter     7:    Energy =   0.0680
Level     0,  Iter     8:    Energy =   0.0702
Level     0,  Iter     9:    Energy =   0.0719
Level     0,  Iter    10:    Energy =   0.0733
Level     0,  Iter    11:    Energy =   0.0749
Level     0,  Iter    12:    Energy =   0.0763
Level     0,  Iter    13:    Energy =   0.0778
Level     0,  Iter    14:    Energy =   0.0787
Level     0,  Iter    15:    Energy =   0.0793
Level     0,  Iter    16:    Energy =   0.0801
Level     0,  Iter    17:    Energy =   0.0805
Level     0,  Iter    18:    Energy =   0.0811
Level     0,  Iter    19:    Energy =   0.0814
Level     0,  Iter    20:    Energy =   0.0821
Level     0,  Iter    21:    Energy =   0.0822
Level     0,  Iter    22:    Energy =   0.0826
Level     0,  Iter    23:    Energy =   0.0825
Level     0,  Iter    24:    Energy =   0.0832
Level     0,  Iter    25:    Energy =   0.0832
Level     0,  Iter    26:    Energy =   0.0839
Level     0,  Iter    27:    Energy =   0.0839
Level     0,  Iter    28:    Energy =   0.0845
Level     0,  Iter    29:    Energy =   0.0844
Level     0,  Iter    30:    Energy =   0.0848
Level     0,  Iter    31:    Energy =   0.0848
Level     0,  Iter    32:    Energy =   0.0858
Level     0,  Iter    33:    Energy =   0.0863
Level     0,  Iter    34:    Energy =   0.0858
Level     0,  Iter    35:    Energy =   0.0855
Level     0,  Iter    36:    Energy =   0.0856
Level     0,  Iter    37:    Energy =   0.0854
Level     0,  Iter    38:    Energy =   0.0859
Level     0,  Iter    39:    Energy =   0.0858
Level     0,  Iter    40:    Energy =   0.0855
Level     0,  Iter    41:    Energy =   0.0853
Level     0,  Iter    42:    Energy =   0.0855
Level     0,  Iter    43:    Energy =   0.0855
Level     0,  Iter    44:    Energy =   0.0853
Level     0,  Iter    45:    Energy =   0.0853
Level     0,  Iter    46:    Energy =   0.0856
Level     0,  Iter    47:    Energy =   0.0857
Level     0,  Iter    48:    Energy =   0.0853
Level     0,  Iter    49:    Energy =   0.0854
Level     0,  Iter    50:    Energy =   0.0857
Level     0,  Iter    51:    Energy =   0.0858
Level     0,  Iter    52:    Energy =   0.0855
Level     0,  Iter    53:    Energy =   0.0856
Level     0,  Iter    54:    Energy =   0.0859
Level     0,  Iter    55:    Energy =   0.0859
Level     0,  Iter    56:    Energy =   0.0857
Level     0,  Iter    57:    Energy =   0.0859
Level     0,  Iter    58:    Energy =   0.0859
Level     0,  Iter    59:    Energy =   0.0861
END OF LEVEL     0    DetJac Range:   0.2898  to   2.5268 
  Avg. Gradient Time  : 0.0067s  37.19% 
  Avg. Gaussian Time  : 0.0086s  47.68% 
  Avg. Iteration Time : 0.0181s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19125, 1.20281, 1.21242], [0.486324, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0587
Level     1,  Iter     1:    Energy =   0.0633
Level     1,  Iter     2:    Energy =   0.0677
Level     1,  Iter     3:    Energy =   0.0713
Level     1,  Iter     4:    Energy =   0.0731
Level     1,  Iter     5:    Energy =   0.0751
Level     1,  Iter     6:    Energy =   0.0768
Level     1,  Iter     7:    Energy =   0.0780
Level     1,  Iter     8:    Energy =   0.0791
Level     1,  Iter     9:    Energy =   0.0800
Level     1,  Iter    10:    Energy =   0.0808
Level     1,  Iter    11:    Energy =   0.0815
Level     1,  Iter    12:    Energy =   0.0821
Level     1,  Iter    13:    Energy =   0.0826
Level     1,  Iter    14:    Energy =   0.0829
Level     1,  Iter    15:    Energy =   0.0830
Level     1,  Iter    16:    Energy =   0.0828
Level     1,  Iter    17:    Energy =   0.0830
Level     1,  Iter    18:    Energy =   0.0829
Level     1,  Iter    19:    Energy =   0.0831
Level     1,  Iter    20:    Energy =   0.0830
Level     1,  Iter    21:    Energy =   0.0832
Level     1,  Iter    22:    Energy =   0.0832
Level     1,  Iter    23:    Energy =   0.0833
Level     1,  Iter    24:    Energy =   0.0832
Level     1,  Iter    25:    Energy =   0.0834
Level     1,  Iter    26:    Energy =   0.0833
Level     1,  Iter    27:    Energy =   0.0835
Level     1,  Iter    28:    Energy =   0.0834
Level     1,  Iter    29:    Energy =   0.0836
Level     1,  Iter    30:    Energy =   0.0835
Level     1,  Iter    31:    Energy =   0.0836
Level     1,  Iter    32:    Energy =   0.0835
Level     1,  Iter    33:    Energy =   0.0837
Level     1,  Iter    34:    Energy =   0.0836
Level     1,  Iter    35:    Energy =   0.0837
Level     1,  Iter    36:    Energy =   0.0836
Level     1,  Iter    37:    Energy =   0.0837
Level     1,  Iter    38:    Energy =   0.0836
Level     1,  Iter    39:    Energy =   0.0837
Level     1,  Iter    40:    Energy =   0.0835
Level     1,  Iter    41:    Energy =   0.0837
Level     1,  Iter    42:    Energy =   0.0835
Level     1,  Iter    43:    Energy =   0.0837
Level     1,  Iter    44:    Energy =   0.0835
Level     1,  Iter    45:    Energy =   0.0837
Level     1,  Iter    46:    Energy =   0.0835
Level     1,  Iter    47:    Energy =   0.0837
Level     1,  Iter    48:    Energy =   0.0835
Level     1,  Iter    49:    Energy =   0.0836
Level     1,  Iter    50:    Energy =   0.0835
Level     1,  Iter    51:    Energy =   0.0836
Level     1,  Iter    52:    Energy =   0.0834
Level     1,  Iter    53:    Energy =   0.0836
Level     1,  Iter    54:    Energy =   0.0835
Level     1,  Iter    55:    Energy =   0.0836
Level     1,  Iter    56:    Energy =   0.0835
Level     1,  Iter    57:    Energy =   0.0836
Level     1,  Iter    58:    Energy =   0.0834
Level     1,  Iter    59:    Energy =   0.0836
END OF LEVEL     1    DetJac Range:   0.1017  to   3.3174 
  Avg. Gradient Time  : 0.0400s  40.18% 
  Avg. Gaussian Time  : 0.0477s  47.90% 
  Avg. Iteration Time : 0.0995s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0424
Level     2,  Iter     1:    Energy =   0.0448
Level     2,  Iter     2:    Energy =   0.0470
Level     2,  Iter     3:    Energy =   0.0491
Level     2,  Iter     4:    Energy =   0.0506
Level     2,  Iter     5:    Energy =   0.0519
Level     2,  Iter     6:    Energy =   0.0531
Level     2,  Iter     7:    Energy =   0.0541
Level     2,  Iter     8:    Energy =   0.0549
Level     2,  Iter     9:    Energy =   0.0556
Level     2,  Iter    10:    Energy =   0.0563
Level     2,  Iter    11:    Energy =   0.0570
Level     2,  Iter    12:    Energy =   0.0578
Level     2,  Iter    13:    Energy =   0.0586
Level     2,  Iter    14:    Energy =   0.0592
Level     2,  Iter    15:    Energy =   0.0597
Level     2,  Iter    16:    Energy =   0.0601
Level     2,  Iter    17:    Energy =   0.0604
Level     2,  Iter    18:    Energy =   0.0607
Level     2,  Iter    19:    Energy =   0.0609
END OF LEVEL     2    DetJac Range:   0.0449  to   6.2146 
  Avg. Gradient Time  : 0.2842s  37.52% 
  Avg. Gaussian Time  : 0.3930s  51.88% 
  Avg. Iteration Time : 0.7575s 

real	0m25.093s
user	0m44.352s
sys	0m2.492s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train003/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train003/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train003/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=29 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=29 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.767308 0.773077
+ echo 'CHUNK 0.767308 0.773077 1'
CHUNK 0.767308 0.773077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.767308 0.773077 1
====================================
         PROGRESS: 0.767308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=004
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 004
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train004
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train004
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 004 right 0
+ local tid=004
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 004 0
+ set -e
+ local tid=004
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train004/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2672.26 	 OutFr   0.0000 	 RMSD     2.6378
Iter 002 	 Temp     3.72 	 Delta  2620.21 	 OutFr   0.0000 	 RMSD     2.2973
Iter 003 	 Temp     3.46 	 Delta  2493.49 	 OutFr   0.0000 	 RMSD     2.3019
Iter 004 	 Temp     3.22 	 Delta  2344.41 	 OutFr   0.0000 	 RMSD     2.2869
Iter 005 	 Temp     2.99 	 Delta  2191.30 	 OutFr   0.0026 	 RMSD     2.2692
Iter 006 	 Temp     2.78 	 Delta  2040.17 	 OutFr   0.0026 	 RMSD     2.2543
Iter 007 	 Temp     2.59 	 Delta  1892.82 	 OutFr   0.0026 	 RMSD     2.2422
Iter 008 	 Temp     2.41 	 Delta  1750.11 	 OutFr   0.0026 	 RMSD     2.2322
Iter 009 	 Temp     2.24 	 Delta  1613.18 	 OutFr   0.0078 	 RMSD     2.2244
Iter 010 	 Temp     2.08 	 Delta  1483.29 	 OutFr   0.0078 	 RMSD     2.2174
Iter 011 	 Temp     1.94 	 Delta  1361.11 	 OutFr   0.0104 	 RMSD     2.2115
Iter 012 	 Temp     1.80 	 Delta  1246.25 	 OutFr   0.0104 	 RMSD     2.2077
Iter 013 	 Temp     1.67 	 Delta  1138.38 	 OutFr   0.0130 	 RMSD     2.2040
Iter 014 	 Temp     1.56 	 Delta  1040.52 	 OutFr   0.0130 	 RMSD     2.2010
Iter 015 	 Temp     1.45 	 Delta   957.18 	 OutFr   0.0181 	 RMSD     2.1989
Iter 016 	 Temp     1.35 	 Delta   886.94 	 OutFr   0.0233 	 RMSD     2.1977
Iter 017 	 Temp     1.25 	 Delta   825.44 	 OutFr   0.0415 	 RMSD     2.1982
Iter 018 	 Temp     1.16 	 Delta   770.10 	 OutFr   0.0518 	 RMSD     2.1996
Iter 019 	 Temp     1.08 	 Delta   719.26 	 OutFr   0.0648 	 RMSD     2.2007
Iter 020 	 Temp     1.01 	 Delta   670.60 	 OutFr   0.0674 	 RMSD     2.2024
Iter 021 	 Temp     0.94 	 Delta   622.81 	 OutFr   0.0699 	 RMSD     2.2047
Iter 022 	 Temp     0.87 	 Delta   576.15 	 OutFr   0.0777 	 RMSD     2.2070
Iter 023 	 Temp     0.81 	 Delta   533.23 	 OutFr   0.0855 	 RMSD     2.2099
Iter 024 	 Temp     0.75 	 Delta   494.99 	 OutFr   0.1140 	 RMSD     2.2135
Iter 025 	 Temp     0.70 	 Delta   460.50 	 OutFr   0.1295 	 RMSD     2.2168
Iter 026 	 Temp     0.65 	 Delta   428.82 	 OutFr   0.1554 	 RMSD     2.2194
Iter 027 	 Temp     0.61 	 Delta   395.52 	 OutFr   0.1813 	 RMSD     2.2210
Iter 028 	 Temp     0.56 	 Delta   358.97 	 OutFr   0.2047 	 RMSD     2.2220
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train004/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.nyMCch9P/mybin.nii.gz
+ vtklevelset /tmp/ashs.nyMCch9P/mybin.nii.gz /tmp/ashs.nyMCch9P/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.nyMCch9P/mymesh.vtk /tmp/ashs.nyMCch9P/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2967.71795689 2688.91382400   0.90605437
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.nyMCch9P/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train004/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 10.6627 to 35.7496
   Y : -16.4679 to 29.5448
   Z : -23.5778 to 0.80879
   Image resolution  : 102 by 162 by 99
   Image box origin  : {5.6627, -21.4679, -28.5778}
   Image box size    : {35.4166, 56.25, 34.6496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-5.6627, 21.4679, -28.5778]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train004/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_fwd.mat -o /tmp/ashs.nyMCch9P/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train004/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_inv.mat -o /tmp/ashs.nyMCch9P/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train004/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.nyMCch9P/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train004/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=30 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=30 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.773077 0.778846
+ echo 'CHUNK 0.773077 0.778846 0.5'
CHUNK 0.773077 0.778846 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.773077 0.778846 0.5
====================================
         PROGRESS: 0.773077               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train004/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.nyMCch9P/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.nyMCch9P/fixed_hw.nii.gz /tmp/ashs.nyMCch9P/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train004/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.696837, moving = 0.600185
LEVEL 1 of 3
  Smoothing sigmas: [2.35936, 2.37629, 2.40059], [0.963206, 0.970115, 0.980039]
Level     0,  Iter     0:    Energy =   0.0508
Level     0,  Iter     1:    Energy =   0.0579
Level     0,  Iter     2:    Energy =   0.0643
Level     0,  Iter     3:    Energy =   0.0687
Level     0,  Iter     4:    Energy =   0.0729
Level     0,  Iter     5:    Energy =   0.0768
Level     0,  Iter     6:    Energy =   0.0799
Level     0,  Iter     7:    Energy =   0.0826
Level     0,  Iter     8:    Energy =   0.0847
Level     0,  Iter     9:    Energy =   0.0864
Level     0,  Iter    10:    Energy =   0.0881
Level     0,  Iter    11:    Energy =   0.0888
Level     0,  Iter    12:    Energy =   0.0896
Level     0,  Iter    13:    Energy =   0.0896
Level     0,  Iter    14:    Energy =   0.0904
Level     0,  Iter    15:    Energy =   0.0903
Level     0,  Iter    16:    Energy =   0.0908
Level     0,  Iter    17:    Energy =   0.0908
Level     0,  Iter    18:    Energy =   0.0912
Level     0,  Iter    19:    Energy =   0.0911
Level     0,  Iter    20:    Energy =   0.0915
Level     0,  Iter    21:    Energy =   0.0913
Level     0,  Iter    22:    Energy =   0.0916
Level     0,  Iter    23:    Energy =   0.0915
Level     0,  Iter    24:    Energy =   0.0918
Level     0,  Iter    25:    Energy =   0.0917
Level     0,  Iter    26:    Energy =   0.0920
Level     0,  Iter    27:    Energy =   0.0918
Level     0,  Iter    28:    Energy =   0.0921
Level     0,  Iter    29:    Energy =   0.0920
Level     0,  Iter    30:    Energy =   0.0922
Level     0,  Iter    31:    Energy =   0.0921
Level     0,  Iter    32:    Energy =   0.0923
Level     0,  Iter    33:    Energy =   0.0921
Level     0,  Iter    34:    Energy =   0.0924
Level     0,  Iter    35:    Energy =   0.0922
Level     0,  Iter    36:    Energy =   0.0924
Level     0,  Iter    37:    Energy =   0.0922
Level     0,  Iter    38:    Energy =   0.0925
Level     0,  Iter    39:    Energy =   0.0923
Level     0,  Iter    40:    Energy =   0.0925
Level     0,  Iter    41:    Energy =   0.0923
Level     0,  Iter    42:    Energy =   0.0926
Level     0,  Iter    43:    Energy =   0.0924
Level     0,  Iter    44:    Energy =   0.0927
Level     0,  Iter    45:    Energy =   0.0925
Level     0,  Iter    46:    Energy =   0.0927
Level     0,  Iter    47:    Energy =   0.0925
Level     0,  Iter    48:    Energy =   0.0928
Level     0,  Iter    49:    Energy =   0.0926
Level     0,  Iter    50:    Energy =   0.0928
Level     0,  Iter    51:    Energy =   0.0926
Level     0,  Iter    52:    Energy =   0.0929
Level     0,  Iter    53:    Energy =   0.0927
Level     0,  Iter    54:    Energy =   0.0929
Level     0,  Iter    55:    Energy =   0.0927
Level     0,  Iter    56:    Energy =   0.0929
Level     0,  Iter    57:    Energy =   0.0927
Level     0,  Iter    58:    Energy =   0.0929
Level     0,  Iter    59:    Energy =   0.0927
END OF LEVEL     0    DetJac Range:   0.4161  to   2.1608 
  Avg. Gradient Time  : 0.0071s  36.98% 
  Avg. Gaussian Time  : 0.0092s  48.11% 
  Avg. Iteration Time : 0.0192s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.2003], [0.491046, 0.491046, 0.490019]
Level     1,  Iter     0:    Energy =   0.0684
Level     1,  Iter     1:    Energy =   0.0726
Level     1,  Iter     2:    Energy =   0.0759
Level     1,  Iter     3:    Energy =   0.0785
Level     1,  Iter     4:    Energy =   0.0801
Level     1,  Iter     5:    Energy =   0.0813
Level     1,  Iter     6:    Energy =   0.0826
Level     1,  Iter     7:    Energy =   0.0840
Level     1,  Iter     8:    Energy =   0.0851
Level     1,  Iter     9:    Energy =   0.0859
Level     1,  Iter    10:    Energy =   0.0864
Level     1,  Iter    11:    Energy =   0.0865
Level     1,  Iter    12:    Energy =   0.0867
Level     1,  Iter    13:    Energy =   0.0867
Level     1,  Iter    14:    Energy =   0.0870
Level     1,  Iter    15:    Energy =   0.0870
Level     1,  Iter    16:    Energy =   0.0872
Level     1,  Iter    17:    Energy =   0.0872
Level     1,  Iter    18:    Energy =   0.0874
Level     1,  Iter    19:    Energy =   0.0874
Level     1,  Iter    20:    Energy =   0.0875
Level     1,  Iter    21:    Energy =   0.0875
Level     1,  Iter    22:    Energy =   0.0877
Level     1,  Iter    23:    Energy =   0.0876
Level     1,  Iter    24:    Energy =   0.0878
Level     1,  Iter    25:    Energy =   0.0878
Level     1,  Iter    26:    Energy =   0.0879
Level     1,  Iter    27:    Energy =   0.0878
Level     1,  Iter    28:    Energy =   0.0879
Level     1,  Iter    29:    Energy =   0.0879
Level     1,  Iter    30:    Energy =   0.0880
Level     1,  Iter    31:    Energy =   0.0880
Level     1,  Iter    32:    Energy =   0.0881
Level     1,  Iter    33:    Energy =   0.0880
Level     1,  Iter    34:    Energy =   0.0882
Level     1,  Iter    35:    Energy =   0.0881
Level     1,  Iter    36:    Energy =   0.0882
Level     1,  Iter    37:    Energy =   0.0881
Level     1,  Iter    38:    Energy =   0.0883
Level     1,  Iter    39:    Energy =   0.0882
Level     1,  Iter    40:    Energy =   0.0882
Level     1,  Iter    41:    Energy =   0.0882
Level     1,  Iter    42:    Energy =   0.0883
Level     1,  Iter    43:    Energy =   0.0883
Level     1,  Iter    44:    Energy =   0.0884
Level     1,  Iter    45:    Energy =   0.0884
Level     1,  Iter    46:    Energy =   0.0885
Level     1,  Iter    47:    Energy =   0.0884
Level     1,  Iter    48:    Energy =   0.0885
Level     1,  Iter    49:    Energy =   0.0884
Level     1,  Iter    50:    Energy =   0.0885
Level     1,  Iter    51:    Energy =   0.0884
Level     1,  Iter    52:    Energy =   0.0885
Level     1,  Iter    53:    Energy =   0.0885
Level     1,  Iter    54:    Energy =   0.0885
Level     1,  Iter    55:    Energy =   0.0885
Level     1,  Iter    56:    Energy =   0.0886
Level     1,  Iter    57:    Energy =   0.0885
Level     1,  Iter    58:    Energy =   0.0886
Level     1,  Iter    59:    Energy =   0.0885
END OF LEVEL     1    DetJac Range:   0.2236  to   3.5205 
  Avg. Gradient Time  : 0.0405s  40.07% 
  Avg. Gaussian Time  : 0.0487s  48.17% 
  Avg. Iteration Time : 0.1011s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0466
Level     2,  Iter     1:    Energy =   0.0487
Level     2,  Iter     2:    Energy =   0.0508
Level     2,  Iter     3:    Energy =   0.0523
Level     2,  Iter     4:    Energy =   0.0539
Level     2,  Iter     5:    Energy =   0.0553
Level     2,  Iter     6:    Energy =   0.0566
Level     2,  Iter     7:    Energy =   0.0577
Level     2,  Iter     8:    Energy =   0.0586
Level     2,  Iter     9:    Energy =   0.0594
Level     2,  Iter    10:    Energy =   0.0601
Level     2,  Iter    11:    Energy =   0.0606
Level     2,  Iter    12:    Energy =   0.0611
Level     2,  Iter    13:    Energy =   0.0615
Level     2,  Iter    14:    Energy =   0.0619
Level     2,  Iter    15:    Energy =   0.0620
Level     2,  Iter    16:    Energy =   0.0620
Level     2,  Iter    17:    Energy =   0.0623
Level     2,  Iter    18:    Energy =   0.0622
Level     2,  Iter    19:    Energy =   0.0625
END OF LEVEL     2    DetJac Range:   0.1407  to   5.1843 
  Avg. Gradient Time  : 0.2878s  37.43% 
  Avg. Gaussian Time  : 0.3988s  51.88% 
  Avg. Iteration Time : 0.7688s 

real	0m25.557s
user	0m45.132s
sys	0m2.564s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train004/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train004/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train004/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=30 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=30 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.773077 0.778846
+ echo 'CHUNK 0.773077 0.778846 1'
CHUNK 0.773077 0.778846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.773077 0.778846 1
====================================
         PROGRESS: 0.773077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=005
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 005
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train005
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train005
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 005 right 0
+ local tid=005
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 005 0
+ set -e
+ local tid=005
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train005/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1931.94 	 OutFr   0.0000 	 RMSD     3.0914
Iter 002 	 Temp     3.72 	 Delta  1904.34 	 OutFr   0.0000 	 RMSD     2.3663
Iter 003 	 Temp     3.46 	 Delta  1804.08 	 OutFr   0.0000 	 RMSD     2.3767
Iter 004 	 Temp     3.22 	 Delta  1689.87 	 OutFr   0.0000 	 RMSD     2.3689
Iter 005 	 Temp     2.99 	 Delta  1588.46 	 OutFr   0.0052 	 RMSD     2.3547
Iter 006 	 Temp     2.78 	 Delta  1502.79 	 OutFr   0.0078 	 RMSD     2.3386
Iter 007 	 Temp     2.59 	 Delta  1428.44 	 OutFr   0.0078 	 RMSD     2.3225
Iter 008 	 Temp     2.41 	 Delta  1363.11 	 OutFr   0.0104 	 RMSD     2.3082
Iter 009 	 Temp     2.24 	 Delta  1306.25 	 OutFr   0.0130 	 RMSD     2.2960
Iter 010 	 Temp     2.08 	 Delta  1257.22 	 OutFr   0.0130 	 RMSD     2.2853
Iter 011 	 Temp     1.94 	 Delta  1214.58 	 OutFr   0.0130 	 RMSD     2.2768
Iter 012 	 Temp     1.80 	 Delta  1175.46 	 OutFr   0.0130 	 RMSD     2.2678
Iter 013 	 Temp     1.67 	 Delta  1135.01 	 OutFr   0.0130 	 RMSD     2.2604
Iter 014 	 Temp     1.56 	 Delta  1087.99 	 OutFr   0.0181 	 RMSD     2.2539
Iter 015 	 Temp     1.45 	 Delta  1032.12 	 OutFr   0.0181 	 RMSD     2.2472
Iter 016 	 Temp     1.35 	 Delta   968.95 	 OutFr   0.0285 	 RMSD     2.2409
Iter 017 	 Temp     1.25 	 Delta   901.70 	 OutFr   0.0337 	 RMSD     2.2350
Iter 018 	 Temp     1.16 	 Delta   833.79 	 OutFr   0.0363 	 RMSD     2.2298
Iter 019 	 Temp     1.08 	 Delta   764.20 	 OutFr   0.0492 	 RMSD     2.2254
Iter 020 	 Temp     1.01 	 Delta   692.95 	 OutFr   0.0674 	 RMSD     2.2225
Iter 021 	 Temp     0.94 	 Delta   626.67 	 OutFr   0.0907 	 RMSD     2.2204
Iter 022 	 Temp     0.87 	 Delta   567.56 	 OutFr   0.1088 	 RMSD     2.2177
Iter 023 	 Temp     0.81 	 Delta   512.78 	 OutFr   0.1269 	 RMSD     2.2141
Iter 024 	 Temp     0.75 	 Delta   464.13 	 OutFr   0.1477 	 RMSD     2.2104
Iter 025 	 Temp     0.70 	 Delta   421.32 	 OutFr   0.1762 	 RMSD     2.2072
Iter 026 	 Temp     0.65 	 Delta   381.84 	 OutFr   0.2073 	 RMSD     2.2060
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train005/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.O3MK9mUD/mybin.nii.gz
+ vtklevelset /tmp/ashs.O3MK9mUD/mybin.nii.gz /tmp/ashs.O3MK9mUD/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.O3MK9mUD/mymesh.vtk /tmp/ashs.O3MK9mUD/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2967.71795689 3175.16097267   1.06989984
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.O3MK9mUD/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train005/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 11.9875 to 38.4132
   Y : -17.2631 to 29.4699
   Z : -8.96821 to 20.0587
   Image resolution  : 105 by 164 by 112
   Image box origin  : {6.9875, -22.2631, -13.9682}
   Image box size    : {36.4583, 56.9444, 39.1996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-6.9875, 22.2631, -13.9682]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train005/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_fwd.mat -o /tmp/ashs.O3MK9mUD/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train005/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_inv.mat -o /tmp/ashs.O3MK9mUD/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train005/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.O3MK9mUD/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train005/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=31 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=31 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.778846 0.784615
+ echo 'CHUNK 0.778846 0.784615 0.5'
CHUNK 0.778846 0.784615 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.778846 0.784615 0.5
====================================
         PROGRESS: 0.778846               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train005/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.O3MK9mUD/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.O3MK9mUD/fixed_hw.nii.gz /tmp/ashs.O3MK9mUD/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train005/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.692613, moving = 0.63741
LEVEL 1 of 3
  Smoothing sigmas: [2.3388, 2.40562, 2.42484], [0.954812, 0.982092, 0.989938]
Level     0,  Iter     0:    Energy =   0.0448
Level     0,  Iter     1:    Energy =   0.0502
Level     0,  Iter     2:    Energy =   0.0562
Level     0,  Iter     3:    Energy =   0.0613
Level     0,  Iter     4:    Energy =   0.0654
Level     0,  Iter     5:    Energy =   0.0690
Level     0,  Iter     6:    Energy =   0.0711
Level     0,  Iter     7:    Energy =   0.0731
Level     0,  Iter     8:    Energy =   0.0743
Level     0,  Iter     9:    Energy =   0.0754
Level     0,  Iter    10:    Energy =   0.0763
Level     0,  Iter    11:    Energy =   0.0771
Level     0,  Iter    12:    Energy =   0.0779
Level     0,  Iter    13:    Energy =   0.0786
Level     0,  Iter    14:    Energy =   0.0792
Level     0,  Iter    15:    Energy =   0.0797
Level     0,  Iter    16:    Energy =   0.0802
Level     0,  Iter    17:    Energy =   0.0807
Level     0,  Iter    18:    Energy =   0.0811
Level     0,  Iter    19:    Energy =   0.0815
Level     0,  Iter    20:    Energy =   0.0819
Level     0,  Iter    21:    Energy =   0.0823
Level     0,  Iter    22:    Energy =   0.0824
Level     0,  Iter    23:    Energy =   0.0828
Level     0,  Iter    24:    Energy =   0.0830
Level     0,  Iter    25:    Energy =   0.0834
Level     0,  Iter    26:    Energy =   0.0835
Level     0,  Iter    27:    Energy =   0.0838
Level     0,  Iter    28:    Energy =   0.0840
Level     0,  Iter    29:    Energy =   0.0843
Level     0,  Iter    30:    Energy =   0.0845
Level     0,  Iter    31:    Energy =   0.0848
Level     0,  Iter    32:    Energy =   0.0850
Level     0,  Iter    33:    Energy =   0.0852
Level     0,  Iter    34:    Energy =   0.0853
Level     0,  Iter    35:    Energy =   0.0855
Level     0,  Iter    36:    Energy =   0.0855
Level     0,  Iter    37:    Energy =   0.0857
Level     0,  Iter    38:    Energy =   0.0857
Level     0,  Iter    39:    Energy =   0.0859
Level     0,  Iter    40:    Energy =   0.0860
Level     0,  Iter    41:    Energy =   0.0862
Level     0,  Iter    42:    Energy =   0.0862
Level     0,  Iter    43:    Energy =   0.0863
Level     0,  Iter    44:    Energy =   0.0863
Level     0,  Iter    45:    Energy =   0.0865
Level     0,  Iter    46:    Energy =   0.0865
Level     0,  Iter    47:    Energy =   0.0867
Level     0,  Iter    48:    Energy =   0.0867
Level     0,  Iter    49:    Energy =   0.0868
Level     0,  Iter    50:    Energy =   0.0868
Level     0,  Iter    51:    Energy =   0.0869
Level     0,  Iter    52:    Energy =   0.0869
Level     0,  Iter    53:    Energy =   0.0870
Level     0,  Iter    54:    Energy =   0.0870
Level     0,  Iter    55:    Energy =   0.0871
Level     0,  Iter    56:    Energy =   0.0871
Level     0,  Iter    57:    Energy =   0.0872
Level     0,  Iter    58:    Energy =   0.0871
Level     0,  Iter    59:    Energy =   0.0873
END OF LEVEL     0    DetJac Range:   0.1564  to   2.1250 
  Avg. Gradient Time  : 0.0078s  37.51% 
  Avg. Gaussian Time  : 0.0099s  47.86% 
  Avg. Iteration Time : 0.0207s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19147, 1.20281, 1.21242], [0.486414, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0634
Level     1,  Iter     1:    Energy =   0.0672
Level     1,  Iter     2:    Energy =   0.0700
Level     1,  Iter     3:    Energy =   0.0722
Level     1,  Iter     4:    Energy =   0.0741
Level     1,  Iter     5:    Energy =   0.0761
Level     1,  Iter     6:    Energy =   0.0780
Level     1,  Iter     7:    Energy =   0.0796
Level     1,  Iter     8:    Energy =   0.0812
Level     1,  Iter     9:    Energy =   0.0823
Level     1,  Iter    10:    Energy =   0.0831
Level     1,  Iter    11:    Energy =   0.0837
Level     1,  Iter    12:    Energy =   0.0837
Level     1,  Iter    13:    Energy =   0.0841
Level     1,  Iter    14:    Energy =   0.0840
Level     1,  Iter    15:    Energy =   0.0843
Level     1,  Iter    16:    Energy =   0.0844
Level     1,  Iter    17:    Energy =   0.0843
Level     1,  Iter    18:    Energy =   0.0846
Level     1,  Iter    19:    Energy =   0.0845
Level     1,  Iter    20:    Energy =   0.0848
Level     1,  Iter    21:    Energy =   0.0847
Level     1,  Iter    22:    Energy =   0.0851
Level     1,  Iter    23:    Energy =   0.0849
Level     1,  Iter    24:    Energy =   0.0855
Level     1,  Iter    25:    Energy =   0.0853
Level     1,  Iter    26:    Energy =   0.0858
Level     1,  Iter    27:    Energy =   0.0855
Level     1,  Iter    28:    Energy =   0.0861
Level     1,  Iter    29:    Energy =   0.0859
Level     1,  Iter    30:    Energy =   0.0862
Level     1,  Iter    31:    Energy =   0.0859
Level     1,  Iter    32:    Energy =   0.0865
Level     1,  Iter    33:    Energy =   0.0861
Level     1,  Iter    34:    Energy =   0.0867
Level     1,  Iter    35:    Energy =   0.0863
Level     1,  Iter    36:    Energy =   0.0868
Level     1,  Iter    37:    Energy =   0.0865
Level     1,  Iter    38:    Energy =   0.0870
Level     1,  Iter    39:    Energy =   0.0866
Level     1,  Iter    40:    Energy =   0.0872
Level     1,  Iter    41:    Energy =   0.0868
Level     1,  Iter    42:    Energy =   0.0871
Level     1,  Iter    43:    Energy =   0.0866
Level     1,  Iter    44:    Energy =   0.0872
Level     1,  Iter    45:    Energy =   0.0869
Level     1,  Iter    46:    Energy =   0.0869
Level     1,  Iter    47:    Energy =   0.0865
Level     1,  Iter    48:    Energy =   0.0868
Level     1,  Iter    49:    Energy =   0.0865
Level     1,  Iter    50:    Energy =   0.0869
Level     1,  Iter    51:    Energy =   0.0865
Level     1,  Iter    52:    Energy =   0.0870
Level     1,  Iter    53:    Energy =   0.0866
Level     1,  Iter    54:    Energy =   0.0872
Level     1,  Iter    55:    Energy =   0.0868
Level     1,  Iter    56:    Energy =   0.0872
Level     1,  Iter    57:    Energy =   0.0868
Level     1,  Iter    58:    Energy =   0.0874
Level     1,  Iter    59:    Energy =   0.0870
END OF LEVEL     1    DetJac Range:   0.1189  to   3.0443 
  Avg. Gradient Time  : 0.0477s  40.06% 
  Avg. Gaussian Time  : 0.0573s  48.14% 
  Avg. Iteration Time : 0.1190s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0458
Level     2,  Iter     1:    Energy =   0.0480
Level     2,  Iter     2:    Energy =   0.0497
Level     2,  Iter     3:    Energy =   0.0511
Level     2,  Iter     4:    Energy =   0.0523
Level     2,  Iter     5:    Energy =   0.0534
Level     2,  Iter     6:    Energy =   0.0544
Level     2,  Iter     7:    Energy =   0.0553
Level     2,  Iter     8:    Energy =   0.0561
Level     2,  Iter     9:    Energy =   0.0569
Level     2,  Iter    10:    Energy =   0.0576
Level     2,  Iter    11:    Energy =   0.0584
Level     2,  Iter    12:    Energy =   0.0591
Level     2,  Iter    13:    Energy =   0.0599
Level     2,  Iter    14:    Energy =   0.0607
Level     2,  Iter    15:    Energy =   0.0613
Level     2,  Iter    16:    Energy =   0.0618
Level     2,  Iter    17:    Energy =   0.0623
Level     2,  Iter    18:    Energy =   0.0628
Level     2,  Iter    19:    Energy =   0.0633
END OF LEVEL     2    DetJac Range:   0.0403  to   3.4117 
  Avg. Gradient Time  : 0.3363s  37.34% 
  Avg. Gaussian Time  : 0.4684s  52.00% 
  Avg. Iteration Time : 0.9008s 

real	0m29.908s
user	0m53.140s
sys	0m2.820s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train005/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train005/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train005/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=31 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=31 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.778846 0.784615
+ echo 'CHUNK 0.778846 0.784615 1'
CHUNK 0.778846 0.784615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.778846 0.784615 1
====================================
         PROGRESS: 0.778846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=006
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 006
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train006
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train006
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 006 right 0
+ local tid=006
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 006 0
+ set -e
+ local tid=006
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train006/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2060.39 	 OutFr   0.0000 	 RMSD     2.0245
Iter 002 	 Temp     3.72 	 Delta  2111.82 	 OutFr   0.0000 	 RMSD     1.8521
Iter 003 	 Temp     3.46 	 Delta  1995.11 	 OutFr   0.0000 	 RMSD     1.9137
Iter 004 	 Temp     3.22 	 Delta  1851.44 	 OutFr   0.0000 	 RMSD     1.9116
Iter 005 	 Temp     2.99 	 Delta  1705.60 	 OutFr   0.0000 	 RMSD     1.8920
Iter 006 	 Temp     2.78 	 Delta  1570.10 	 OutFr   0.0052 	 RMSD     1.8693
Iter 007 	 Temp     2.59 	 Delta  1446.62 	 OutFr   0.0052 	 RMSD     1.8476
Iter 008 	 Temp     2.41 	 Delta  1331.69 	 OutFr   0.0052 	 RMSD     1.8287
Iter 009 	 Temp     2.24 	 Delta  1224.08 	 OutFr   0.0104 	 RMSD     1.8096
Iter 010 	 Temp     2.08 	 Delta  1124.17 	 OutFr   0.0130 	 RMSD     1.7927
Iter 011 	 Temp     1.94 	 Delta  1032.23 	 OutFr   0.0155 	 RMSD     1.7785
Iter 012 	 Temp     1.80 	 Delta   948.32 	 OutFr   0.0181 	 RMSD     1.7672
Iter 013 	 Temp     1.67 	 Delta   872.55 	 OutFr   0.0181 	 RMSD     1.7575
Iter 014 	 Temp     1.56 	 Delta   805.20 	 OutFr   0.0207 	 RMSD     1.7469
Iter 015 	 Temp     1.45 	 Delta   745.95 	 OutFr   0.0207 	 RMSD     1.7376
Iter 016 	 Temp     1.35 	 Delta   693.62 	 OutFr   0.0207 	 RMSD     1.7294
Iter 017 	 Temp     1.25 	 Delta   646.59 	 OutFr   0.0207 	 RMSD     1.7231
Iter 018 	 Temp     1.16 	 Delta   603.76 	 OutFr   0.0233 	 RMSD     1.7183
Iter 019 	 Temp     1.08 	 Delta   565.23 	 OutFr   0.0285 	 RMSD     1.7141
Iter 020 	 Temp     1.01 	 Delta   530.71 	 OutFr   0.0337 	 RMSD     1.7103
Iter 021 	 Temp     0.94 	 Delta   499.10 	 OutFr   0.0415 	 RMSD     1.7071
Iter 022 	 Temp     0.87 	 Delta   468.99 	 OutFr   0.0440 	 RMSD     1.7045
Iter 023 	 Temp     0.81 	 Delta   440.47 	 OutFr   0.0622 	 RMSD     1.7026
Iter 024 	 Temp     0.75 	 Delta   415.02 	 OutFr   0.0725 	 RMSD     1.7019
Iter 025 	 Temp     0.70 	 Delta   393.18 	 OutFr   0.0829 	 RMSD     1.7018
Iter 026 	 Temp     0.65 	 Delta   375.05 	 OutFr   0.0984 	 RMSD     1.7020
Iter 027 	 Temp     0.61 	 Delta   359.19 	 OutFr   0.1140 	 RMSD     1.7020
Iter 028 	 Temp     0.56 	 Delta   342.28 	 OutFr   0.1218 	 RMSD     1.7017
Iter 029 	 Temp     0.52 	 Delta   321.52 	 OutFr   0.1373 	 RMSD     1.7011
Iter 030 	 Temp     0.49 	 Delta   295.73 	 OutFr   0.1503 	 RMSD     1.7002
Iter 031 	 Temp     0.45 	 Delta   268.51 	 OutFr   0.1813 	 RMSD     1.6992
Iter 032 	 Temp     0.42 	 Delta   239.91 	 OutFr   0.2202 	 RMSD     1.6989
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train006/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.CXTBUKyX/mybin.nii.gz
+ vtklevelset /tmp/ashs.CXTBUKyX/mybin.nii.gz /tmp/ashs.CXTBUKyX/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.CXTBUKyX/mymesh.vtk /tmp/ashs.CXTBUKyX/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2967.71795689 2863.00339606   0.96471546
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.CXTBUKyX/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train006/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 10.0104 to 35.0404
   Y : -14.9803 to 29.491
   Z : -21.215 to 4.96612
   Image resolution  : 101 by 157 by 104
   Image box origin  : {5.0104, -19.9803, -26.215}
   Image box size    : {35.0694, 54.5139, 36.3996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-5.0104, 19.9803, -26.215]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train006/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_fwd.mat -o /tmp/ashs.CXTBUKyX/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train006/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_inv.mat -o /tmp/ashs.CXTBUKyX/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train006/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.CXTBUKyX/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train006/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=32 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=32 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.784615 0.790385
+ echo 'CHUNK 0.784615 0.790385 0.5'
CHUNK 0.784615 0.790385 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.784615 0.790385 0.5
====================================
         PROGRESS: 0.784615               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train006/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.CXTBUKyX/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.CXTBUKyX/fixed_hw.nii.gz /tmp/ashs.CXTBUKyX/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train006/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.77589, moving = 0.502757
LEVEL 1 of 3
  Smoothing sigmas: [2.33623, 2.36052, 2.42484], [0.953763, 0.963678, 0.989938]
Level     0,  Iter     0:    Energy =   0.0531
Level     0,  Iter     1:    Energy =   0.0600
Level     0,  Iter     2:    Energy =   0.0665
Level     0,  Iter     3:    Energy =   0.0722
Level     0,  Iter     4:    Energy =   0.0765
Level     0,  Iter     5:    Energy =   0.0794
Level     0,  Iter     6:    Energy =   0.0817
Level     0,  Iter     7:    Energy =   0.0836
Level     0,  Iter     8:    Energy =   0.0855
Level     0,  Iter     9:    Energy =   0.0873
Level     0,  Iter    10:    Energy =   0.0891
Level     0,  Iter    11:    Energy =   0.0904
Level     0,  Iter    12:    Energy =   0.0908
Level     0,  Iter    13:    Energy =   0.0910
Level     0,  Iter    14:    Energy =   0.0916
Level     0,  Iter    15:    Energy =   0.0918
Level     0,  Iter    16:    Energy =   0.0922
Level     0,  Iter    17:    Energy =   0.0924
Level     0,  Iter    18:    Energy =   0.0926
Level     0,  Iter    19:    Energy =   0.0927
Level     0,  Iter    20:    Energy =   0.0929
Level     0,  Iter    21:    Energy =   0.0932
Level     0,  Iter    22:    Energy =   0.0934
Level     0,  Iter    23:    Energy =   0.0937
Level     0,  Iter    24:    Energy =   0.0939
Level     0,  Iter    25:    Energy =   0.0942
Level     0,  Iter    26:    Energy =   0.0944
Level     0,  Iter    27:    Energy =   0.0947
Level     0,  Iter    28:    Energy =   0.0948
Level     0,  Iter    29:    Energy =   0.0949
Level     0,  Iter    30:    Energy =   0.0949
Level     0,  Iter    31:    Energy =   0.0952
Level     0,  Iter    32:    Energy =   0.0952
Level     0,  Iter    33:    Energy =   0.0953
Level     0,  Iter    34:    Energy =   0.0952
Level     0,  Iter    35:    Energy =   0.0954
Level     0,  Iter    36:    Energy =   0.0954
Level     0,  Iter    37:    Energy =   0.0956
Level     0,  Iter    38:    Energy =   0.0956
Level     0,  Iter    39:    Energy =   0.0958
Level     0,  Iter    40:    Energy =   0.0957
Level     0,  Iter    41:    Energy =   0.0959
Level     0,  Iter    42:    Energy =   0.0959
Level     0,  Iter    43:    Energy =   0.0959
Level     0,  Iter    44:    Energy =   0.0958
Level     0,  Iter    45:    Energy =   0.0959
Level     0,  Iter    46:    Energy =   0.0958
Level     0,  Iter    47:    Energy =   0.0960
Level     0,  Iter    48:    Energy =   0.0959
Level     0,  Iter    49:    Energy =   0.0961
Level     0,  Iter    50:    Energy =   0.0960
Level     0,  Iter    51:    Energy =   0.0961
Level     0,  Iter    52:    Energy =   0.0960
Level     0,  Iter    53:    Energy =   0.0962
Level     0,  Iter    54:    Energy =   0.0961
Level     0,  Iter    55:    Energy =   0.0963
Level     0,  Iter    56:    Energy =   0.0961
Level     0,  Iter    57:    Energy =   0.0963
Level     0,  Iter    58:    Energy =   0.0962
Level     0,  Iter    59:    Energy =   0.0964
END OF LEVEL     0    DetJac Range:   0.2725  to   1.8467 
  Avg. Gradient Time  : 0.0070s  37.41% 
  Avg. Gaussian Time  : 0.0089s  47.49% 
  Avg. Iteration Time : 0.0188s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19102, 1.1952, 1.21242], [0.486232, 0.487938, 0.494969]
Level     1,  Iter     0:    Energy =   0.0694
Level     1,  Iter     1:    Energy =   0.0736
Level     1,  Iter     2:    Energy =   0.0772
Level     1,  Iter     3:    Energy =   0.0801
Level     1,  Iter     4:    Energy =   0.0821
Level     1,  Iter     5:    Energy =   0.0838
Level     1,  Iter     6:    Energy =   0.0855
Level     1,  Iter     7:    Energy =   0.0872
Level     1,  Iter     8:    Energy =   0.0887
Level     1,  Iter     9:    Energy =   0.0899
Level     1,  Iter    10:    Energy =   0.0909
Level     1,  Iter    11:    Energy =   0.0914
Level     1,  Iter    12:    Energy =   0.0920
Level     1,  Iter    13:    Energy =   0.0923
Level     1,  Iter    14:    Energy =   0.0924
Level     1,  Iter    15:    Energy =   0.0928
Level     1,  Iter    16:    Energy =   0.0929
Level     1,  Iter    17:    Energy =   0.0929
Level     1,  Iter    18:    Energy =   0.0930
Level     1,  Iter    19:    Energy =   0.0930
Level     1,  Iter    20:    Energy =   0.0930
Level     1,  Iter    21:    Energy =   0.0930
Level     1,  Iter    22:    Energy =   0.0930
Level     1,  Iter    23:    Energy =   0.0930
Level     1,  Iter    24:    Energy =   0.0930
Level     1,  Iter    25:    Energy =   0.0931
Level     1,  Iter    26:    Energy =   0.0931
Level     1,  Iter    27:    Energy =   0.0932
Level     1,  Iter    28:    Energy =   0.0932
Level     1,  Iter    29:    Energy =   0.0932
Level     1,  Iter    30:    Energy =   0.0932
Level     1,  Iter    31:    Energy =   0.0933
Level     1,  Iter    32:    Energy =   0.0934
Level     1,  Iter    33:    Energy =   0.0933
Level     1,  Iter    34:    Energy =   0.0933
Level     1,  Iter    35:    Energy =   0.0933
Level     1,  Iter    36:    Energy =   0.0933
Level     1,  Iter    37:    Energy =   0.0933
Level     1,  Iter    38:    Energy =   0.0934
Level     1,  Iter    39:    Energy =   0.0933
Level     1,  Iter    40:    Energy =   0.0933
Level     1,  Iter    41:    Energy =   0.0934
Level     1,  Iter    42:    Energy =   0.0934
Level     1,  Iter    43:    Energy =   0.0934
Level     1,  Iter    44:    Energy =   0.0934
Level     1,  Iter    45:    Energy =   0.0933
Level     1,  Iter    46:    Energy =   0.0934
Level     1,  Iter    47:    Energy =   0.0933
Level     1,  Iter    48:    Energy =   0.0934
Level     1,  Iter    49:    Energy =   0.0933
Level     1,  Iter    50:    Energy =   0.0934
Level     1,  Iter    51:    Energy =   0.0934
Level     1,  Iter    52:    Energy =   0.0934
Level     1,  Iter    53:    Energy =   0.0934
Level     1,  Iter    54:    Energy =   0.0934
Level     1,  Iter    55:    Energy =   0.0934
Level     1,  Iter    56:    Energy =   0.0934
Level     1,  Iter    57:    Energy =   0.0934
Level     1,  Iter    58:    Energy =   0.0934
Level     1,  Iter    59:    Energy =   0.0934
END OF LEVEL     1    DetJac Range:   0.1789  to   2.8321 
  Avg. Gradient Time  : 0.0422s  40.38% 
  Avg. Gaussian Time  : 0.0500s  47.85% 
  Avg. Iteration Time : 0.1046s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0495
Level     2,  Iter     1:    Energy =   0.0520
Level     2,  Iter     2:    Energy =   0.0539
Level     2,  Iter     3:    Energy =   0.0558
Level     2,  Iter     4:    Energy =   0.0573
Level     2,  Iter     5:    Energy =   0.0586
Level     2,  Iter     6:    Energy =   0.0598
Level     2,  Iter     7:    Energy =   0.0607
Level     2,  Iter     8:    Energy =   0.0616
Level     2,  Iter     9:    Energy =   0.0625
Level     2,  Iter    10:    Energy =   0.0631
Level     2,  Iter    11:    Energy =   0.0637
Level     2,  Iter    12:    Energy =   0.0641
Level     2,  Iter    13:    Energy =   0.0645
Level     2,  Iter    14:    Energy =   0.0650
Level     2,  Iter    15:    Energy =   0.0654
Level     2,  Iter    16:    Energy =   0.0659
Level     2,  Iter    17:    Energy =   0.0663
Level     2,  Iter    18:    Energy =   0.0668
Level     2,  Iter    19:    Energy =   0.0672
END OF LEVEL     2    DetJac Range:   0.0625  to   5.0285 
  Avg. Gradient Time  : 0.2931s  37.49% 
  Avg. Gaussian Time  : 0.4040s  51.69% 
  Avg. Iteration Time : 0.7817s 

real	0m26.150s
user	0m45.948s
sys	0m2.632s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train006/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train006/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train006/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=32 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=32 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.784615 0.790385
+ echo 'CHUNK 0.784615 0.790385 1'
CHUNK 0.784615 0.790385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.784615 0.790385 1
====================================
         PROGRESS: 0.784615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=007
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 007
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train007
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train007
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 007 right 0
+ local tid=007
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 007 0
+ set -e
+ local tid=007
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train007/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2290.15 	 OutFr   0.0000 	 RMSD     4.2936
Iter 002 	 Temp     3.72 	 Delta  2121.37 	 OutFr   0.0000 	 RMSD     2.3181
Iter 003 	 Temp     3.46 	 Delta  2130.29 	 OutFr   0.0000 	 RMSD     2.3539
Iter 004 	 Temp     3.22 	 Delta  2080.61 	 OutFr   0.0000 	 RMSD     2.3693
Iter 005 	 Temp     2.99 	 Delta  1995.94 	 OutFr   0.0000 	 RMSD     2.3674
Iter 006 	 Temp     2.78 	 Delta  1896.43 	 OutFr   0.0000 	 RMSD     2.3575
Iter 007 	 Temp     2.59 	 Delta  1792.10 	 OutFr   0.0000 	 RMSD     2.3440
Iter 008 	 Temp     2.41 	 Delta  1687.58 	 OutFr   0.0000 	 RMSD     2.3295
Iter 009 	 Temp     2.24 	 Delta  1584.96 	 OutFr   0.0000 	 RMSD     2.3157
Iter 010 	 Temp     2.08 	 Delta  1485.96 	 OutFr   0.0000 	 RMSD     2.3037
Iter 011 	 Temp     1.94 	 Delta  1392.67 	 OutFr   0.0000 	 RMSD     2.2933
Iter 012 	 Temp     1.80 	 Delta  1306.91 	 OutFr   0.0078 	 RMSD     2.2859
Iter 013 	 Temp     1.67 	 Delta  1229.96 	 OutFr   0.0104 	 RMSD     2.2814
Iter 014 	 Temp     1.56 	 Delta  1162.30 	 OutFr   0.0155 	 RMSD     2.2801
Iter 015 	 Temp     1.45 	 Delta  1101.78 	 OutFr   0.0207 	 RMSD     2.2797
Iter 016 	 Temp     1.35 	 Delta  1044.87 	 OutFr   0.0285 	 RMSD     2.2793
Iter 017 	 Temp     1.25 	 Delta   988.87 	 OutFr   0.0337 	 RMSD     2.2801
Iter 018 	 Temp     1.16 	 Delta   931.84 	 OutFr   0.0389 	 RMSD     2.2811
Iter 019 	 Temp     1.08 	 Delta   872.70 	 OutFr   0.0440 	 RMSD     2.2820
Iter 020 	 Temp     1.01 	 Delta   812.89 	 OutFr   0.0466 	 RMSD     2.2825
Iter 021 	 Temp     0.94 	 Delta   753.77 	 OutFr   0.0492 	 RMSD     2.2828
Iter 022 	 Temp     0.87 	 Delta   691.31 	 OutFr   0.0596 	 RMSD     2.2826
Iter 023 	 Temp     0.81 	 Delta   622.37 	 OutFr   0.0907 	 RMSD     2.2814
Iter 024 	 Temp     0.75 	 Delta   549.93 	 OutFr   0.1140 	 RMSD     2.2803
Iter 025 	 Temp     0.70 	 Delta   482.80 	 OutFr   0.1580 	 RMSD     2.2792
Iter 026 	 Temp     0.65 	 Delta   427.58 	 OutFr   0.1995 	 RMSD     2.2785
Iter 027 	 Temp     0.61 	 Delta   379.34 	 OutFr   0.2409 	 RMSD     2.2787
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train007/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.BQE3mrRs/mybin.nii.gz
+ vtklevelset /tmp/ashs.BQE3mrRs/mybin.nii.gz /tmp/ashs.BQE3mrRs/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.BQE3mrRs/mymesh.vtk /tmp/ashs.BQE3mrRs/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2967.71795689 2872.55245297   0.96793310
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.BQE3mrRs/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train007/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 8.59742 to 33.9757
   Y : -21.0541 to 21.972
   Z : -19.023 to 11.6394
   Image resolution  : 102 by 153 by 117
   Image box origin  : {3.59742, -26.0541, -24.023}
   Image box size    : {35.4166, 53.125, 40.9495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-3.59742, 26.0541, -24.023]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train007/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_fwd.mat -o /tmp/ashs.BQE3mrRs/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train007/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_inv.mat -o /tmp/ashs.BQE3mrRs/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train007/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.BQE3mrRs/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train007/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=33 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=33 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.790385 0.796154
+ echo 'CHUNK 0.790385 0.796154 0.5'
CHUNK 0.790385 0.796154 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.790385 0.796154 0.5
====================================
         PROGRESS: 0.790385               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train007/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.BQE3mrRs/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.BQE3mrRs/fixed_hw.nii.gz /tmp/ashs.BQE3mrRs/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train007/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.757862, moving = 0.405922
LEVEL 1 of 3
  Smoothing sigmas: [2.35936, 2.35936, 2.36422], [0.963206, 0.963206, 0.96519]
Level     0,  Iter     0:    Energy =   0.0429
Level     0,  Iter     1:    Energy =   0.0482
Level     0,  Iter     2:    Energy =   0.0539
Level     0,  Iter     3:    Energy =   0.0586
Level     0,  Iter     4:    Energy =   0.0619
Level     0,  Iter     5:    Energy =   0.0646
Level     0,  Iter     6:    Energy =   0.0674
Level     0,  Iter     7:    Energy =   0.0695
Level     0,  Iter     8:    Energy =   0.0711
Level     0,  Iter     9:    Energy =   0.0723
Level     0,  Iter    10:    Energy =   0.0732
Level     0,  Iter    11:    Energy =   0.0736
Level     0,  Iter    12:    Energy =   0.0740
Level     0,  Iter    13:    Energy =   0.0742
Level     0,  Iter    14:    Energy =   0.0745
Level     0,  Iter    15:    Energy =   0.0747
Level     0,  Iter    16:    Energy =   0.0749
Level     0,  Iter    17:    Energy =   0.0750
Level     0,  Iter    18:    Energy =   0.0752
Level     0,  Iter    19:    Energy =   0.0753
Level     0,  Iter    20:    Energy =   0.0756
Level     0,  Iter    21:    Energy =   0.0756
Level     0,  Iter    22:    Energy =   0.0759
Level     0,  Iter    23:    Energy =   0.0758
Level     0,  Iter    24:    Energy =   0.0761
Level     0,  Iter    25:    Energy =   0.0761
Level     0,  Iter    26:    Energy =   0.0763
Level     0,  Iter    27:    Energy =   0.0763
Level     0,  Iter    28:    Energy =   0.0765
Level     0,  Iter    29:    Energy =   0.0764
Level     0,  Iter    30:    Energy =   0.0766
Level     0,  Iter    31:    Energy =   0.0766
Level     0,  Iter    32:    Energy =   0.0768
Level     0,  Iter    33:    Energy =   0.0768
Level     0,  Iter    34:    Energy =   0.0770
Level     0,  Iter    35:    Energy =   0.0769
Level     0,  Iter    36:    Energy =   0.0771
Level     0,  Iter    37:    Energy =   0.0771
Level     0,  Iter    38:    Energy =   0.0772
Level     0,  Iter    39:    Energy =   0.0772
Level     0,  Iter    40:    Energy =   0.0774
Level     0,  Iter    41:    Energy =   0.0773
Level     0,  Iter    42:    Energy =   0.0775
Level     0,  Iter    43:    Energy =   0.0774
Level     0,  Iter    44:    Energy =   0.0776
Level     0,  Iter    45:    Energy =   0.0775
Level     0,  Iter    46:    Energy =   0.0777
Level     0,  Iter    47:    Energy =   0.0776
Level     0,  Iter    48:    Energy =   0.0778
Level     0,  Iter    49:    Energy =   0.0778
Level     0,  Iter    50:    Energy =   0.0779
Level     0,  Iter    51:    Energy =   0.0779
Level     0,  Iter    52:    Energy =   0.0780
Level     0,  Iter    53:    Energy =   0.0780
Level     0,  Iter    54:    Energy =   0.0781
Level     0,  Iter    55:    Energy =   0.0781
Level     0,  Iter    56:    Energy =   0.0781
Level     0,  Iter    57:    Energy =   0.0781
Level     0,  Iter    58:    Energy =   0.0782
Level     0,  Iter    59:    Energy =   0.0782
END OF LEVEL     0    DetJac Range:   0.2935  to   2.4050 
  Avg. Gradient Time  : 0.0078s  37.37% 
  Avg. Gaussian Time  : 0.0100s  47.52% 
  Avg. Iteration Time : 0.0210s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.195, 1.20215], [0.491046, 0.487857, 0.490774]
Level     1,  Iter     0:    Energy =   0.0600
Level     1,  Iter     1:    Energy =   0.0640
Level     1,  Iter     2:    Energy =   0.0671
Level     1,  Iter     3:    Energy =   0.0698
Level     1,  Iter     4:    Energy =   0.0723
Level     1,  Iter     5:    Energy =   0.0744
Level     1,  Iter     6:    Energy =   0.0760
Level     1,  Iter     7:    Energy =   0.0771
Level     1,  Iter     8:    Energy =   0.0780
Level     1,  Iter     9:    Energy =   0.0788
Level     1,  Iter    10:    Energy =   0.0796
Level     1,  Iter    11:    Energy =   0.0801
Level     1,  Iter    12:    Energy =   0.0802
Level     1,  Iter    13:    Energy =   0.0805
Level     1,  Iter    14:    Energy =   0.0804
Level     1,  Iter    15:    Energy =   0.0809
Level     1,  Iter    16:    Energy =   0.0808
Level     1,  Iter    17:    Energy =   0.0810
Level     1,  Iter    18:    Energy =   0.0808
Level     1,  Iter    19:    Energy =   0.0812
Level     1,  Iter    20:    Energy =   0.0811
Level     1,  Iter    21:    Energy =   0.0813
Level     1,  Iter    22:    Energy =   0.0811
Level     1,  Iter    23:    Energy =   0.0815
Level     1,  Iter    24:    Energy =   0.0813
Level     1,  Iter    25:    Energy =   0.0816
Level     1,  Iter    26:    Energy =   0.0814
Level     1,  Iter    27:    Energy =   0.0817
Level     1,  Iter    28:    Energy =   0.0816
Level     1,  Iter    29:    Energy =   0.0818
Level     1,  Iter    30:    Energy =   0.0816
Level     1,  Iter    31:    Energy =   0.0819
Level     1,  Iter    32:    Energy =   0.0817
Level     1,  Iter    33:    Energy =   0.0820
Level     1,  Iter    34:    Energy =   0.0818
Level     1,  Iter    35:    Energy =   0.0820
Level     1,  Iter    36:    Energy =   0.0818
Level     1,  Iter    37:    Energy =   0.0821
Level     1,  Iter    38:    Energy =   0.0819
Level     1,  Iter    39:    Energy =   0.0821
Level     1,  Iter    40:    Energy =   0.0819
Level     1,  Iter    41:    Energy =   0.0821
Level     1,  Iter    42:    Energy =   0.0819
Level     1,  Iter    43:    Energy =   0.0822
Level     1,  Iter    44:    Energy =   0.0820
Level     1,  Iter    45:    Energy =   0.0822
Level     1,  Iter    46:    Energy =   0.0820
Level     1,  Iter    47:    Energy =   0.0822
Level     1,  Iter    48:    Energy =   0.0821
Level     1,  Iter    49:    Energy =   0.0823
Level     1,  Iter    50:    Energy =   0.0821
Level     1,  Iter    51:    Energy =   0.0823
Level     1,  Iter    52:    Energy =   0.0821
Level     1,  Iter    53:    Energy =   0.0823
Level     1,  Iter    54:    Energy =   0.0821
Level     1,  Iter    55:    Energy =   0.0824
Level     1,  Iter    56:    Energy =   0.0822
Level     1,  Iter    57:    Energy =   0.0824
Level     1,  Iter    58:    Energy =   0.0822
Level     1,  Iter    59:    Energy =   0.0824
END OF LEVEL     1    DetJac Range:   0.1355  to   2.8773 
  Avg. Gradient Time  : 0.0446s  39.57% 
  Avg. Gaussian Time  : 0.0548s  48.62% 
  Avg. Iteration Time : 0.1127s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0457
Level     2,  Iter     1:    Energy =   0.0481
Level     2,  Iter     2:    Energy =   0.0505
Level     2,  Iter     3:    Energy =   0.0522
Level     2,  Iter     4:    Energy =   0.0534
Level     2,  Iter     5:    Energy =   0.0543
Level     2,  Iter     6:    Energy =   0.0550
Level     2,  Iter     7:    Energy =   0.0557
Level     2,  Iter     8:    Energy =   0.0563
Level     2,  Iter     9:    Energy =   0.0570
Level     2,  Iter    10:    Energy =   0.0576
Level     2,  Iter    11:    Energy =   0.0582
Level     2,  Iter    12:    Energy =   0.0588
Level     2,  Iter    13:    Energy =   0.0593
Level     2,  Iter    14:    Energy =   0.0598
Level     2,  Iter    15:    Energy =   0.0602
Level     2,  Iter    16:    Energy =   0.0606
Level     2,  Iter    17:    Energy =   0.0609
Level     2,  Iter    18:    Energy =   0.0612
Level     2,  Iter    19:    Energy =   0.0614
END OF LEVEL     2    DetJac Range:   0.0973  to   3.7657 
  Avg. Gradient Time  : 0.3178s  34.49% 
  Avg. Gaussian Time  : 0.5117s  55.52% 
  Avg. Iteration Time : 0.9215s 

real	0m29.892s
user	0m52.972s
sys	0m3.028s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train007/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train007/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train007/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=33 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=33 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.790385 0.796154
+ echo 'CHUNK 0.790385 0.796154 1'
CHUNK 0.790385 0.796154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.790385 0.796154 1
====================================
         PROGRESS: 0.790385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=008
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 008
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train008
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train008
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 008 right 0
+ local tid=008
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 008 0
+ set -e
+ local tid=008
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train008/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1711.12 	 OutFr   0.0000 	 RMSD     3.1369
Iter 002 	 Temp     3.72 	 Delta  1716.70 	 OutFr   0.0000 	 RMSD     2.0997
Iter 003 	 Temp     3.46 	 Delta  1675.74 	 OutFr   0.0000 	 RMSD     2.1135
Iter 004 	 Temp     3.22 	 Delta  1623.37 	 OutFr   0.0000 	 RMSD     2.0993
Iter 005 	 Temp     2.99 	 Delta  1567.18 	 OutFr   0.0000 	 RMSD     2.0821
Iter 006 	 Temp     2.78 	 Delta  1510.20 	 OutFr   0.0000 	 RMSD     2.0665
Iter 007 	 Temp     2.59 	 Delta  1453.24 	 OutFr   0.0000 	 RMSD     2.0521
Iter 008 	 Temp     2.41 	 Delta  1395.93 	 OutFr   0.0000 	 RMSD     2.0389
Iter 009 	 Temp     2.24 	 Delta  1337.27 	 OutFr   0.0000 	 RMSD     2.0268
Iter 010 	 Temp     2.08 	 Delta  1276.42 	 OutFr   0.0000 	 RMSD     2.0167
Iter 011 	 Temp     1.94 	 Delta  1213.89 	 OutFr   0.0000 	 RMSD     2.0076
Iter 012 	 Temp     1.80 	 Delta  1151.72 	 OutFr   0.0000 	 RMSD     1.9993
Iter 013 	 Temp     1.67 	 Delta  1091.68 	 OutFr   0.0000 	 RMSD     1.9914
Iter 014 	 Temp     1.56 	 Delta  1033.28 	 OutFr   0.0000 	 RMSD     1.9840
Iter 015 	 Temp     1.45 	 Delta   975.84 	 OutFr   0.0000 	 RMSD     1.9774
Iter 016 	 Temp     1.35 	 Delta   919.87 	 OutFr   0.0052 	 RMSD     1.9717
Iter 017 	 Temp     1.25 	 Delta   866.09 	 OutFr   0.0078 	 RMSD     1.9673
Iter 018 	 Temp     1.16 	 Delta   815.07 	 OutFr   0.0104 	 RMSD     1.9640
Iter 019 	 Temp     1.08 	 Delta   765.40 	 OutFr   0.0207 	 RMSD     1.9608
Iter 020 	 Temp     1.01 	 Delta   713.80 	 OutFr   0.0311 	 RMSD     1.9582
Iter 021 	 Temp     0.94 	 Delta   656.59 	 OutFr   0.0440 	 RMSD     1.9561
Iter 022 	 Temp     0.87 	 Delta   593.66 	 OutFr   0.0596 	 RMSD     1.9544
Iter 023 	 Temp     0.81 	 Delta   531.61 	 OutFr   0.0803 	 RMSD     1.9526
Iter 024 	 Temp     0.75 	 Delta   471.47 	 OutFr   0.1192 	 RMSD     1.9511
Iter 025 	 Temp     0.70 	 Delta   416.14 	 OutFr   0.1451 	 RMSD     1.9522
Iter 026 	 Temp     0.65 	 Delta   368.22 	 OutFr   0.1762 	 RMSD     1.9574
Iter 027 	 Temp     0.61 	 Delta   331.19 	 OutFr   0.2073 	 RMSD     1.9630
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train008/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.P6o98BL8/mybin.nii.gz
+ vtklevelset /tmp/ashs.P6o98BL8/mybin.nii.gz /tmp/ashs.P6o98BL8/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.P6o98BL8/mymesh.vtk /tmp/ashs.P6o98BL8/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2967.71795689 2901.31916744   0.97762631
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.P6o98BL8/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train008/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 9.1878 to 36.2334
   Y : -21.3766 to 21.1786
   Z : -21.2896 to 6.33195
   Image resolution  : 107 by 152 by 108
   Image box origin  : {4.1878, -26.3766, -26.2896}
   Image box size    : {37.1528, 52.7777, 37.7996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-4.1878, 26.3766, -26.2896]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train008/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_fwd.mat -o /tmp/ashs.P6o98BL8/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train008/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_inv.mat -o /tmp/ashs.P6o98BL8/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train008/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.P6o98BL8/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train008/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=34 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=34 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.796154 0.801923
+ echo 'CHUNK 0.796154 0.801923 0.5'
CHUNK 0.796154 0.801923 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.796154 0.801923 0.5
====================================
         PROGRESS: 0.796154               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train008/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.P6o98BL8/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.P6o98BL8/fixed_hw.nii.gz /tmp/ashs.P6o98BL8/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train008/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.77595, moving = 0.395814
LEVEL 1 of 3
  Smoothing sigmas: [2.38335, 2.40562, 2.42484], [0.972999, 0.982092, 0.989938]
Level     0,  Iter     0:    Energy =   0.0391
Level     0,  Iter     1:    Energy =   0.0424
Level     0,  Iter     2:    Energy =   0.0468
Level     0,  Iter     3:    Energy =   0.0509
Level     0,  Iter     4:    Energy =   0.0541
Level     0,  Iter     5:    Energy =   0.0572
Level     0,  Iter     6:    Energy =   0.0596
Level     0,  Iter     7:    Energy =   0.0614
Level     0,  Iter     8:    Energy =   0.0620
Level     0,  Iter     9:    Energy =   0.0627
Level     0,  Iter    10:    Energy =   0.0631
Level     0,  Iter    11:    Energy =   0.0637
Level     0,  Iter    12:    Energy =   0.0641
Level     0,  Iter    13:    Energy =   0.0646
Level     0,  Iter    14:    Energy =   0.0649
Level     0,  Iter    15:    Energy =   0.0654
Level     0,  Iter    16:    Energy =   0.0656
Level     0,  Iter    17:    Energy =   0.0661
Level     0,  Iter    18:    Energy =   0.0664
Level     0,  Iter    19:    Energy =   0.0667
Level     0,  Iter    20:    Energy =   0.0669
Level     0,  Iter    21:    Energy =   0.0672
Level     0,  Iter    22:    Energy =   0.0673
Level     0,  Iter    23:    Energy =   0.0675
Level     0,  Iter    24:    Energy =   0.0676
Level     0,  Iter    25:    Energy =   0.0679
Level     0,  Iter    26:    Energy =   0.0679
Level     0,  Iter    27:    Energy =   0.0681
Level     0,  Iter    28:    Energy =   0.0681
Level     0,  Iter    29:    Energy =   0.0683
Level     0,  Iter    30:    Energy =   0.0684
Level     0,  Iter    31:    Energy =   0.0686
Level     0,  Iter    32:    Energy =   0.0686
Level     0,  Iter    33:    Energy =   0.0688
Level     0,  Iter    34:    Energy =   0.0688
Level     0,  Iter    35:    Energy =   0.0690
Level     0,  Iter    36:    Energy =   0.0690
Level     0,  Iter    37:    Energy =   0.0691
Level     0,  Iter    38:    Energy =   0.0692
Level     0,  Iter    39:    Energy =   0.0693
Level     0,  Iter    40:    Energy =   0.0694
Level     0,  Iter    41:    Energy =   0.0695
Level     0,  Iter    42:    Energy =   0.0695
Level     0,  Iter    43:    Energy =   0.0697
Level     0,  Iter    44:    Energy =   0.0697
Level     0,  Iter    45:    Energy =   0.0699
Level     0,  Iter    46:    Energy =   0.0699
Level     0,  Iter    47:    Energy =   0.0700
Level     0,  Iter    48:    Energy =   0.0700
Level     0,  Iter    49:    Energy =   0.0702
Level     0,  Iter    50:    Energy =   0.0701
Level     0,  Iter    51:    Energy =   0.0703
Level     0,  Iter    52:    Energy =   0.0703
Level     0,  Iter    53:    Energy =   0.0704
Level     0,  Iter    54:    Energy =   0.0704
Level     0,  Iter    55:    Energy =   0.0705
Level     0,  Iter    56:    Energy =   0.0705
Level     0,  Iter    57:    Energy =   0.0707
Level     0,  Iter    58:    Energy =   0.0706
Level     0,  Iter    59:    Energy =   0.0708
END OF LEVEL     0    DetJac Range:   0.1354  to   2.0085 
  Avg. Gradient Time  : 0.0071s  37.40% 
  Avg. Gaussian Time  : 0.0090s  47.58% 
  Avg. Iteration Time : 0.0190s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19168, 1.20281, 1.21242], [0.486499, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0496
Level     1,  Iter     1:    Energy =   0.0527
Level     1,  Iter     2:    Energy =   0.0555
Level     1,  Iter     3:    Energy =   0.0575
Level     1,  Iter     4:    Energy =   0.0592
Level     1,  Iter     5:    Energy =   0.0608
Level     1,  Iter     6:    Energy =   0.0621
Level     1,  Iter     7:    Energy =   0.0630
Level     1,  Iter     8:    Energy =   0.0636
Level     1,  Iter     9:    Energy =   0.0641
Level     1,  Iter    10:    Energy =   0.0645
Level     1,  Iter    11:    Energy =   0.0648
Level     1,  Iter    12:    Energy =   0.0652
Level     1,  Iter    13:    Energy =   0.0656
Level     1,  Iter    14:    Energy =   0.0661
Level     1,  Iter    15:    Energy =   0.0668
Level     1,  Iter    16:    Energy =   0.0676
Level     1,  Iter    17:    Energy =   0.0684
Level     1,  Iter    18:    Energy =   0.0690
Level     1,  Iter    19:    Energy =   0.0695
Level     1,  Iter    20:    Energy =   0.0699
Level     1,  Iter    21:    Energy =   0.0703
Level     1,  Iter    22:    Energy =   0.0707
Level     1,  Iter    23:    Energy =   0.0711
Level     1,  Iter    24:    Energy =   0.0715
Level     1,  Iter    25:    Energy =   0.0718
Level     1,  Iter    26:    Energy =   0.0721
Level     1,  Iter    27:    Energy =   0.0722
Level     1,  Iter    28:    Energy =   0.0725
Level     1,  Iter    29:    Energy =   0.0727
Level     1,  Iter    30:    Energy =   0.0729
Level     1,  Iter    31:    Energy =   0.0730
Level     1,  Iter    32:    Energy =   0.0732
Level     1,  Iter    33:    Energy =   0.0733
Level     1,  Iter    34:    Energy =   0.0735
Level     1,  Iter    35:    Energy =   0.0735
Level     1,  Iter    36:    Energy =   0.0737
Level     1,  Iter    37:    Energy =   0.0736
Level     1,  Iter    38:    Energy =   0.0737
Level     1,  Iter    39:    Energy =   0.0737
Level     1,  Iter    40:    Energy =   0.0738
Level     1,  Iter    41:    Energy =   0.0738
Level     1,  Iter    42:    Energy =   0.0738
Level     1,  Iter    43:    Energy =   0.0738
Level     1,  Iter    44:    Energy =   0.0739
Level     1,  Iter    45:    Energy =   0.0739
Level     1,  Iter    46:    Energy =   0.0740
Level     1,  Iter    47:    Energy =   0.0740
Level     1,  Iter    48:    Energy =   0.0740
Level     1,  Iter    49:    Energy =   0.0740
Level     1,  Iter    50:    Energy =   0.0741
Level     1,  Iter    51:    Energy =   0.0741
Level     1,  Iter    52:    Energy =   0.0741
Level     1,  Iter    53:    Energy =   0.0741
Level     1,  Iter    54:    Energy =   0.0742
Level     1,  Iter    55:    Energy =   0.0741
Level     1,  Iter    56:    Energy =   0.0742
Level     1,  Iter    57:    Energy =   0.0742
Level     1,  Iter    58:    Energy =   0.0742
Level     1,  Iter    59:    Energy =   0.0742
END OF LEVEL     1    DetJac Range:   0.0498  to   3.1595 
  Avg. Gradient Time  : 0.0424s  39.63% 
  Avg. Gaussian Time  : 0.0517s  48.31% 
  Avg. Iteration Time : 0.1070s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0387
Level     2,  Iter     1:    Energy =   0.0406
Level     2,  Iter     2:    Energy =   0.0423
Level     2,  Iter     3:    Energy =   0.0437
Level     2,  Iter     4:    Energy =   0.0448
Level     2,  Iter     5:    Energy =   0.0456
Level     2,  Iter     6:    Energy =   0.0463
Level     2,  Iter     7:    Energy =   0.0469
Level     2,  Iter     8:    Energy =   0.0474
Level     2,  Iter     9:    Energy =   0.0479
Level     2,  Iter    10:    Energy =   0.0485
Level     2,  Iter    11:    Energy =   0.0491
Level     2,  Iter    12:    Energy =   0.0497
Level     2,  Iter    13:    Energy =   0.0504
Level     2,  Iter    14:    Energy =   0.0510
Level     2,  Iter    15:    Energy =   0.0516
Level     2,  Iter    16:    Energy =   0.0522
Level     2,  Iter    17:    Energy =   0.0528
Level     2,  Iter    18:    Energy =   0.0533
Level     2,  Iter    19:    Energy =   0.0538
END OF LEVEL     2    DetJac Range:   0.0433  to   4.4859 
  Avg. Gradient Time  : 0.3049s  37.41% 
  Avg. Gaussian Time  : 0.4230s  51.90% 
  Avg. Iteration Time : 0.8150s 

real	0m27.104s
user	0m47.988s
sys	0m2.728s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train008/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train008/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train008/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=34 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=34 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.796154 0.801923
+ echo 'CHUNK 0.796154 0.801923 1'
CHUNK 0.796154 0.801923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.796154 0.801923 1
====================================
         PROGRESS: 0.796154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=009
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 009
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train009
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train009
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 009 right 0
+ local tid=009
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 009 0
+ set -e
+ local tid=009
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train009/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2854.13 	 OutFr   0.0000 	 RMSD     2.9687
Iter 002 	 Temp     3.72 	 Delta  2814.49 	 OutFr   0.0000 	 RMSD     2.3517
Iter 003 	 Temp     3.46 	 Delta  2737.66 	 OutFr   0.0026 	 RMSD     2.3873
Iter 004 	 Temp     3.22 	 Delta  2600.57 	 OutFr   0.0026 	 RMSD     2.4308
Iter 005 	 Temp     2.99 	 Delta  2419.72 	 OutFr   0.0078 	 RMSD     2.4463
Iter 006 	 Temp     2.78 	 Delta  2221.49 	 OutFr   0.0104 	 RMSD     2.4441
Iter 007 	 Temp     2.59 	 Delta  2026.63 	 OutFr   0.0155 	 RMSD     2.4309
Iter 008 	 Temp     2.41 	 Delta  1844.52 	 OutFr   0.0155 	 RMSD     2.4117
Iter 009 	 Temp     2.24 	 Delta  1674.72 	 OutFr   0.0181 	 RMSD     2.3906
Iter 010 	 Temp     2.08 	 Delta  1516.42 	 OutFr   0.0181 	 RMSD     2.3701
Iter 011 	 Temp     1.94 	 Delta  1369.87 	 OutFr   0.0233 	 RMSD     2.3494
Iter 012 	 Temp     1.80 	 Delta  1236.65 	 OutFr   0.0285 	 RMSD     2.3301
Iter 013 	 Temp     1.67 	 Delta  1120.85 	 OutFr   0.0337 	 RMSD     2.3129
Iter 014 	 Temp     1.56 	 Delta  1025.21 	 OutFr   0.0337 	 RMSD     2.2980
Iter 015 	 Temp     1.45 	 Delta   947.80 	 OutFr   0.0337 	 RMSD     2.2864
Iter 016 	 Temp     1.35 	 Delta   884.80 	 OutFr   0.0440 	 RMSD     2.2793
Iter 017 	 Temp     1.25 	 Delta   832.74 	 OutFr   0.0492 	 RMSD     2.2743
Iter 018 	 Temp     1.16 	 Delta   786.87 	 OutFr   0.0674 	 RMSD     2.2704
Iter 019 	 Temp     1.08 	 Delta   741.29 	 OutFr   0.0777 	 RMSD     2.2676
Iter 020 	 Temp     1.01 	 Delta   692.81 	 OutFr   0.0803 	 RMSD     2.2666
Iter 021 	 Temp     0.94 	 Delta   638.74 	 OutFr   0.0881 	 RMSD     2.2652
Iter 022 	 Temp     0.87 	 Delta   575.16 	 OutFr   0.1088 	 RMSD     2.2627
Iter 023 	 Temp     0.81 	 Delta   507.49 	 OutFr   0.1321 	 RMSD     2.2613
Iter 024 	 Temp     0.75 	 Delta   446.39 	 OutFr   0.1503 	 RMSD     2.2617
Iter 025 	 Temp     0.70 	 Delta   388.42 	 OutFr   0.1839 	 RMSD     2.2664
Iter 026 	 Temp     0.65 	 Delta   342.40 	 OutFr   0.2228 	 RMSD     2.2736
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train009/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.gyT4JM62/mybin.nii.gz
+ vtklevelset /tmp/ashs.gyT4JM62/mybin.nii.gz /tmp/ashs.gyT4JM62/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.gyT4JM62/mymesh.vtk /tmp/ashs.gyT4JM62/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2967.71795689 2934.17750398   0.98869823
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.gyT4JM62/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train009/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 10.8625 to 36.7634
   Y : -15.4236 to 29.9268
   Z : -19.9971 to 7.37553
   Image resolution  : 104 by 160 by 107
   Image box origin  : {5.8625, -20.4236, -24.9971}
   Image box size    : {36.1111, 55.5555, 37.4496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-5.8625, 20.4236, -24.9971]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train009/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_fwd.mat -o /tmp/ashs.gyT4JM62/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train009/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_inv.mat -o /tmp/ashs.gyT4JM62/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train009/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.gyT4JM62/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train009/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=35 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=35 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.801923 0.807692
+ echo 'CHUNK 0.801923 0.807692 0.5'
CHUNK 0.801923 0.807692 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.801923 0.807692 0.5
====================================
         PROGRESS: 0.801923               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train009/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.gyT4JM62/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.gyT4JM62/fixed_hw.nii.gz /tmp/ashs.gyT4JM62/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train009/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.785098, moving = 0.722242
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.40562, 2.40239], [0.982092, 0.982092, 0.980772]
Level     0,  Iter     0:    Energy =   0.0385
Level     0,  Iter     1:    Energy =   0.0440
Level     0,  Iter     2:    Energy =   0.0507
Level     0,  Iter     3:    Energy =   0.0562
Level     0,  Iter     4:    Energy =   0.0607
Level     0,  Iter     5:    Energy =   0.0642
Level     0,  Iter     6:    Energy =   0.0672
Level     0,  Iter     7:    Energy =   0.0697
Level     0,  Iter     8:    Energy =   0.0717
Level     0,  Iter     9:    Energy =   0.0736
Level     0,  Iter    10:    Energy =   0.0752
Level     0,  Iter    11:    Energy =   0.0765
Level     0,  Iter    12:    Energy =   0.0775
Level     0,  Iter    13:    Energy =   0.0783
Level     0,  Iter    14:    Energy =   0.0791
Level     0,  Iter    15:    Energy =   0.0796
Level     0,  Iter    16:    Energy =   0.0803
Level     0,  Iter    17:    Energy =   0.0805
Level     0,  Iter    18:    Energy =   0.0810
Level     0,  Iter    19:    Energy =   0.0814
Level     0,  Iter    20:    Energy =   0.0816
Level     0,  Iter    21:    Energy =   0.0818
Level     0,  Iter    22:    Energy =   0.0822
Level     0,  Iter    23:    Energy =   0.0823
Level     0,  Iter    24:    Energy =   0.0827
Level     0,  Iter    25:    Energy =   0.0830
Level     0,  Iter    26:    Energy =   0.0833
Level     0,  Iter    27:    Energy =   0.0833
Level     0,  Iter    28:    Energy =   0.0837
Level     0,  Iter    29:    Energy =   0.0839
Level     0,  Iter    30:    Energy =   0.0841
Level     0,  Iter    31:    Energy =   0.0841
Level     0,  Iter    32:    Energy =   0.0844
Level     0,  Iter    33:    Energy =   0.0846
Level     0,  Iter    34:    Energy =   0.0847
Level     0,  Iter    35:    Energy =   0.0848
Level     0,  Iter    36:    Energy =   0.0849
Level     0,  Iter    37:    Energy =   0.0851
Level     0,  Iter    38:    Energy =   0.0852
Level     0,  Iter    39:    Energy =   0.0852
Level     0,  Iter    40:    Energy =   0.0853
Level     0,  Iter    41:    Energy =   0.0855
Level     0,  Iter    42:    Energy =   0.0855
Level     0,  Iter    43:    Energy =   0.0855
Level     0,  Iter    44:    Energy =   0.0856
Level     0,  Iter    45:    Energy =   0.0857
Level     0,  Iter    46:    Energy =   0.0858
Level     0,  Iter    47:    Energy =   0.0856
Level     0,  Iter    48:    Energy =   0.0858
Level     0,  Iter    49:    Energy =   0.0859
Level     0,  Iter    50:    Energy =   0.0860
Level     0,  Iter    51:    Energy =   0.0858
Level     0,  Iter    52:    Energy =   0.0860
Level     0,  Iter    53:    Energy =   0.0859
Level     0,  Iter    54:    Energy =   0.0861
Level     0,  Iter    55:    Energy =   0.0858
Level     0,  Iter    56:    Energy =   0.0860
Level     0,  Iter    57:    Energy =   0.0861
Level     0,  Iter    58:    Energy =   0.0862
Level     0,  Iter    59:    Energy =   0.0860
END OF LEVEL     0    DetJac Range:   0.1849  to   2.3585 
  Avg. Gradient Time  : 0.0071s  37.56% 
  Avg. Gaussian Time  : 0.0090s  47.36% 
  Avg. Iteration Time : 0.0190s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.2012], [0.491046, 0.491046, 0.490386]
Level     1,  Iter     0:    Energy =   0.0601
Level     1,  Iter     1:    Energy =   0.0639
Level     1,  Iter     2:    Energy =   0.0667
Level     1,  Iter     3:    Energy =   0.0694
Level     1,  Iter     4:    Energy =   0.0709
Level     1,  Iter     5:    Energy =   0.0722
Level     1,  Iter     6:    Energy =   0.0731
Level     1,  Iter     7:    Energy =   0.0739
Level     1,  Iter     8:    Energy =   0.0746
Level     1,  Iter     9:    Energy =   0.0753
Level     1,  Iter    10:    Energy =   0.0761
Level     1,  Iter    11:    Energy =   0.0768
Level     1,  Iter    12:    Energy =   0.0774
Level     1,  Iter    13:    Energy =   0.0778
Level     1,  Iter    14:    Energy =   0.0783
Level     1,  Iter    15:    Energy =   0.0788
Level     1,  Iter    16:    Energy =   0.0794
Level     1,  Iter    17:    Energy =   0.0800
Level     1,  Iter    18:    Energy =   0.0806
Level     1,  Iter    19:    Energy =   0.0808
Level     1,  Iter    20:    Energy =   0.0808
Level     1,  Iter    21:    Energy =   0.0807
Level     1,  Iter    22:    Energy =   0.0811
Level     1,  Iter    23:    Energy =   0.0810
Level     1,  Iter    24:    Energy =   0.0813
Level     1,  Iter    25:    Energy =   0.0813
Level     1,  Iter    26:    Energy =   0.0816
Level     1,  Iter    27:    Energy =   0.0816
Level     1,  Iter    28:    Energy =   0.0818
Level     1,  Iter    29:    Energy =   0.0817
Level     1,  Iter    30:    Energy =   0.0820
Level     1,  Iter    31:    Energy =   0.0819
Level     1,  Iter    32:    Energy =   0.0821
Level     1,  Iter    33:    Energy =   0.0820
Level     1,  Iter    34:    Energy =   0.0821
Level     1,  Iter    35:    Energy =   0.0820
Level     1,  Iter    36:    Energy =   0.0823
Level     1,  Iter    37:    Energy =   0.0822
Level     1,  Iter    38:    Energy =   0.0823
Level     1,  Iter    39:    Energy =   0.0823
Level     1,  Iter    40:    Energy =   0.0824
Level     1,  Iter    41:    Energy =   0.0824
Level     1,  Iter    42:    Energy =   0.0825
Level     1,  Iter    43:    Energy =   0.0824
Level     1,  Iter    44:    Energy =   0.0826
Level     1,  Iter    45:    Energy =   0.0825
Level     1,  Iter    46:    Energy =   0.0826
Level     1,  Iter    47:    Energy =   0.0825
Level     1,  Iter    48:    Energy =   0.0825
Level     1,  Iter    49:    Energy =   0.0826
Level     1,  Iter    50:    Energy =   0.0826
Level     1,  Iter    51:    Energy =   0.0825
Level     1,  Iter    52:    Energy =   0.0827
Level     1,  Iter    53:    Energy =   0.0826
Level     1,  Iter    54:    Energy =   0.0828
Level     1,  Iter    55:    Energy =   0.0827
Level     1,  Iter    56:    Energy =   0.0827
Level     1,  Iter    57:    Energy =   0.0827
Level     1,  Iter    58:    Energy =   0.0828
Level     1,  Iter    59:    Energy =   0.0827
END OF LEVEL     1    DetJac Range:   0.1619  to   4.0071 
  Avg. Gradient Time  : 0.0438s  40.00% 
  Avg. Gaussian Time  : 0.0524s  47.90% 
  Avg. Iteration Time : 0.1095s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0421
Level     2,  Iter     1:    Energy =   0.0441
Level     2,  Iter     2:    Energy =   0.0459
Level     2,  Iter     3:    Energy =   0.0475
Level     2,  Iter     4:    Energy =   0.0488
Level     2,  Iter     5:    Energy =   0.0499
Level     2,  Iter     6:    Energy =   0.0511
Level     2,  Iter     7:    Energy =   0.0521
Level     2,  Iter     8:    Energy =   0.0531
Level     2,  Iter     9:    Energy =   0.0542
Level     2,  Iter    10:    Energy =   0.0552
Level     2,  Iter    11:    Energy =   0.0560
Level     2,  Iter    12:    Energy =   0.0567
Level     2,  Iter    13:    Energy =   0.0573
Level     2,  Iter    14:    Energy =   0.0577
Level     2,  Iter    15:    Energy =   0.0581
Level     2,  Iter    16:    Energy =   0.0585
Level     2,  Iter    17:    Energy =   0.0588
Level     2,  Iter    18:    Energy =   0.0591
Level     2,  Iter    19:    Energy =   0.0593
END OF LEVEL     2    DetJac Range:   0.1137  to   5.2176 
  Avg. Gradient Time  : 0.3128s  37.26% 
  Avg. Gaussian Time  : 0.4376s  52.13% 
  Avg. Iteration Time : 0.8394s 

real	0m27.804s
user	0m49.116s
sys	0m2.816s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train009/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train009/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train009/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=35 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=35 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.801923 0.807692
+ echo 'CHUNK 0.801923 0.807692 1'
CHUNK 0.801923 0.807692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.801923 0.807692 1
====================================
         PROGRESS: 0.801923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=010
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 010
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train010
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train010
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 010 right 0
+ local tid=010
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 010 0
+ set -e
+ local tid=010
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train010/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2407.85 	 OutFr   0.0000 	 RMSD     4.2787
Iter 002 	 Temp     3.72 	 Delta  2159.92 	 OutFr   0.0000 	 RMSD     2.4108
Iter 003 	 Temp     3.46 	 Delta  2063.62 	 OutFr   0.0000 	 RMSD     2.3760
Iter 004 	 Temp     3.22 	 Delta  1983.52 	 OutFr   0.0000 	 RMSD     2.3664
Iter 005 	 Temp     2.99 	 Delta  1907.15 	 OutFr   0.0000 	 RMSD     2.3497
Iter 006 	 Temp     2.78 	 Delta  1834.41 	 OutFr   0.0000 	 RMSD     2.3336
Iter 007 	 Temp     2.59 	 Delta  1764.25 	 OutFr   0.0000 	 RMSD     2.3178
Iter 008 	 Temp     2.41 	 Delta  1694.88 	 OutFr   0.0000 	 RMSD     2.3032
Iter 009 	 Temp     2.24 	 Delta  1624.44 	 OutFr   0.0000 	 RMSD     2.2903
Iter 010 	 Temp     2.08 	 Delta  1551.35 	 OutFr   0.0000 	 RMSD     2.2792
Iter 011 	 Temp     1.94 	 Delta  1475.09 	 OutFr   0.0026 	 RMSD     2.2698
Iter 012 	 Temp     1.80 	 Delta  1396.67 	 OutFr   0.0026 	 RMSD     2.2620
Iter 013 	 Temp     1.67 	 Delta  1318.26 	 OutFr   0.0052 	 RMSD     2.2555
Iter 014 	 Temp     1.56 	 Delta  1242.26 	 OutFr   0.0078 	 RMSD     2.2498
Iter 015 	 Temp     1.45 	 Delta  1169.33 	 OutFr   0.0078 	 RMSD     2.2450
Iter 016 	 Temp     1.35 	 Delta  1099.75 	 OutFr   0.0155 	 RMSD     2.2409
Iter 017 	 Temp     1.25 	 Delta  1033.26 	 OutFr   0.0207 	 RMSD     2.2374
Iter 018 	 Temp     1.16 	 Delta   969.46 	 OutFr   0.0311 	 RMSD     2.2350
Iter 019 	 Temp     1.08 	 Delta   908.65 	 OutFr   0.0363 	 RMSD     2.2330
Iter 020 	 Temp     1.01 	 Delta   849.78 	 OutFr   0.0466 	 RMSD     2.2314
Iter 021 	 Temp     0.94 	 Delta   791.52 	 OutFr   0.0544 	 RMSD     2.2302
Iter 022 	 Temp     0.87 	 Delta   734.43 	 OutFr   0.0803 	 RMSD     2.2292
Iter 023 	 Temp     0.81 	 Delta   677.38 	 OutFr   0.0933 	 RMSD     2.2284
Iter 024 	 Temp     0.75 	 Delta   617.52 	 OutFr   0.1166 	 RMSD     2.2271
Iter 025 	 Temp     0.70 	 Delta   556.90 	 OutFr   0.1269 	 RMSD     2.2258
Iter 026 	 Temp     0.65 	 Delta   499.90 	 OutFr   0.1554 	 RMSD     2.2251
Iter 027 	 Temp     0.61 	 Delta   447.97 	 OutFr   0.1865 	 RMSD     2.2258
Iter 028 	 Temp     0.56 	 Delta   398.61 	 OutFr   0.2358 	 RMSD     2.2281
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train010/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.rvRMZM07/mybin.nii.gz
+ vtklevelset /tmp/ashs.rvRMZM07/mybin.nii.gz /tmp/ashs.rvRMZM07/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.rvRMZM07/mymesh.vtk /tmp/ashs.rvRMZM07/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2967.71795689 3112.33829829   1.04873116
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.rvRMZM07/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train010/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 9.11347 to 35.683
   Y : -17.6521 to 26.4222
   Z : -13.2172 to 17.8339
   Image resolution  : 106 by 156 by 118
   Image box origin  : {4.11347, -22.6521, -18.2172}
   Image box size    : {36.8055, 54.1666, 41.2995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-4.11347, 22.6521, -18.2172]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train010/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_fwd.mat -o /tmp/ashs.rvRMZM07/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train010/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_inv.mat -o /tmp/ashs.rvRMZM07/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train010/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.rvRMZM07/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train010/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=36 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=36 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.807692 0.813462
+ echo 'CHUNK 0.807692 0.813462 0.5'
CHUNK 0.807692 0.813462 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.807692 0.813462 0.5
====================================
         PROGRESS: 0.807692               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train010/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.rvRMZM07/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.rvRMZM07/fixed_hw.nii.gz /tmp/ashs.rvRMZM07/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train010/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.762054, moving = 0.462492
LEVEL 1 of 3
  Smoothing sigmas: [2.36108, 2.40562, 2.38443], [0.963905, 0.982092, 0.973439]
Level     0,  Iter     0:    Energy =   0.0449
Level     0,  Iter     1:    Energy =   0.0507
Level     0,  Iter     2:    Energy =   0.0555
Level     0,  Iter     3:    Energy =   0.0606
Level     0,  Iter     4:    Energy =   0.0644
Level     0,  Iter     5:    Energy =   0.0674
Level     0,  Iter     6:    Energy =   0.0699
Level     0,  Iter     7:    Energy =   0.0717
Level     0,  Iter     8:    Energy =   0.0735
Level     0,  Iter     9:    Energy =   0.0752
Level     0,  Iter    10:    Energy =   0.0765
Level     0,  Iter    11:    Energy =   0.0769
Level     0,  Iter    12:    Energy =   0.0775
Level     0,  Iter    13:    Energy =   0.0778
Level     0,  Iter    14:    Energy =   0.0784
Level     0,  Iter    15:    Energy =   0.0786
Level     0,  Iter    16:    Energy =   0.0792
Level     0,  Iter    17:    Energy =   0.0794
Level     0,  Iter    18:    Energy =   0.0799
Level     0,  Iter    19:    Energy =   0.0800
Level     0,  Iter    20:    Energy =   0.0805
Level     0,  Iter    21:    Energy =   0.0806
Level     0,  Iter    22:    Energy =   0.0811
Level     0,  Iter    23:    Energy =   0.0812
Level     0,  Iter    24:    Energy =   0.0816
Level     0,  Iter    25:    Energy =   0.0816
Level     0,  Iter    26:    Energy =   0.0820
Level     0,  Iter    27:    Energy =   0.0819
Level     0,  Iter    28:    Energy =   0.0823
Level     0,  Iter    29:    Energy =   0.0823
Level     0,  Iter    30:    Energy =   0.0826
Level     0,  Iter    31:    Energy =   0.0825
Level     0,  Iter    32:    Energy =   0.0828
Level     0,  Iter    33:    Energy =   0.0828
Level     0,  Iter    34:    Energy =   0.0830
Level     0,  Iter    35:    Energy =   0.0830
Level     0,  Iter    36:    Energy =   0.0833
Level     0,  Iter    37:    Energy =   0.0833
Level     0,  Iter    38:    Energy =   0.0835
Level     0,  Iter    39:    Energy =   0.0835
Level     0,  Iter    40:    Energy =   0.0837
Level     0,  Iter    41:    Energy =   0.0836
Level     0,  Iter    42:    Energy =   0.0838
Level     0,  Iter    43:    Energy =   0.0838
Level     0,  Iter    44:    Energy =   0.0839
Level     0,  Iter    45:    Energy =   0.0839
Level     0,  Iter    46:    Energy =   0.0841
Level     0,  Iter    47:    Energy =   0.0841
Level     0,  Iter    48:    Energy =   0.0842
Level     0,  Iter    49:    Energy =   0.0842
Level     0,  Iter    50:    Energy =   0.0843
Level     0,  Iter    51:    Energy =   0.0842
Level     0,  Iter    52:    Energy =   0.0844
Level     0,  Iter    53:    Energy =   0.0844
Level     0,  Iter    54:    Energy =   0.0845
Level     0,  Iter    55:    Energy =   0.0845
Level     0,  Iter    56:    Energy =   0.0846
Level     0,  Iter    57:    Energy =   0.0846
Level     0,  Iter    58:    Energy =   0.0847
Level     0,  Iter    59:    Energy =   0.0847
END OF LEVEL     0    DetJac Range:   0.1497  to   2.3124 
  Avg. Gradient Time  : 0.0068s  37.22% 
  Avg. Gaussian Time  : 0.0087s  47.34% 
  Avg. Iteration Time : 0.0183s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.21242], [0.491046, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0622
Level     1,  Iter     1:    Energy =   0.0662
Level     1,  Iter     2:    Energy =   0.0694
Level     1,  Iter     3:    Energy =   0.0717
Level     1,  Iter     4:    Energy =   0.0738
Level     1,  Iter     5:    Energy =   0.0755
Level     1,  Iter     6:    Energy =   0.0769
Level     1,  Iter     7:    Energy =   0.0781
Level     1,  Iter     8:    Energy =   0.0791
Level     1,  Iter     9:    Energy =   0.0799
Level     1,  Iter    10:    Energy =   0.0805
Level     1,  Iter    11:    Energy =   0.0811
Level     1,  Iter    12:    Energy =   0.0815
Level     1,  Iter    13:    Energy =   0.0819
Level     1,  Iter    14:    Energy =   0.0822
Level     1,  Iter    15:    Energy =   0.0825
Level     1,  Iter    16:    Energy =   0.0826
Level     1,  Iter    17:    Energy =   0.0826
Level     1,  Iter    18:    Energy =   0.0828
Level     1,  Iter    19:    Energy =   0.0828
Level     1,  Iter    20:    Energy =   0.0829
Level     1,  Iter    21:    Energy =   0.0830
Level     1,  Iter    22:    Energy =   0.0831
Level     1,  Iter    23:    Energy =   0.0831
Level     1,  Iter    24:    Energy =   0.0832
Level     1,  Iter    25:    Energy =   0.0832
Level     1,  Iter    26:    Energy =   0.0833
Level     1,  Iter    27:    Energy =   0.0834
Level     1,  Iter    28:    Energy =   0.0834
Level     1,  Iter    29:    Energy =   0.0835
Level     1,  Iter    30:    Energy =   0.0835
Level     1,  Iter    31:    Energy =   0.0836
Level     1,  Iter    32:    Energy =   0.0836
Level     1,  Iter    33:    Energy =   0.0837
Level     1,  Iter    34:    Energy =   0.0837
Level     1,  Iter    35:    Energy =   0.0837
Level     1,  Iter    36:    Energy =   0.0838
Level     1,  Iter    37:    Energy =   0.0838
Level     1,  Iter    38:    Energy =   0.0839
Level     1,  Iter    39:    Energy =   0.0839
Level     1,  Iter    40:    Energy =   0.0839
Level     1,  Iter    41:    Energy =   0.0840
Level     1,  Iter    42:    Energy =   0.0841
Level     1,  Iter    43:    Energy =   0.0842
Level     1,  Iter    44:    Energy =   0.0842
Level     1,  Iter    45:    Energy =   0.0843
Level     1,  Iter    46:    Energy =   0.0842
Level     1,  Iter    47:    Energy =   0.0843
Level     1,  Iter    48:    Energy =   0.0843
Level     1,  Iter    49:    Energy =   0.0844
Level     1,  Iter    50:    Energy =   0.0844
Level     1,  Iter    51:    Energy =   0.0845
Level     1,  Iter    52:    Energy =   0.0845
Level     1,  Iter    53:    Energy =   0.0846
Level     1,  Iter    54:    Energy =   0.0846
Level     1,  Iter    55:    Energy =   0.0847
Level     1,  Iter    56:    Energy =   0.0847
Level     1,  Iter    57:    Energy =   0.0847
Level     1,  Iter    58:    Energy =   0.0847
Level     1,  Iter    59:    Energy =   0.0848
END OF LEVEL     1    DetJac Range:   0.0765  to   2.8769 
  Avg. Gradient Time  : 0.0422s  40.15% 
  Avg. Gaussian Time  : 0.0505s  48.03% 
  Avg. Iteration Time : 0.1052s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0461
Level     2,  Iter     1:    Energy =   0.0481
Level     2,  Iter     2:    Energy =   0.0498
Level     2,  Iter     3:    Energy =   0.0512
Level     2,  Iter     4:    Energy =   0.0523
Level     2,  Iter     5:    Energy =   0.0532
Level     2,  Iter     6:    Energy =   0.0540
Level     2,  Iter     7:    Energy =   0.0547
Level     2,  Iter     8:    Energy =   0.0554
Level     2,  Iter     9:    Energy =   0.0560
Level     2,  Iter    10:    Energy =   0.0566
Level     2,  Iter    11:    Energy =   0.0571
Level     2,  Iter    12:    Energy =   0.0576
Level     2,  Iter    13:    Energy =   0.0580
Level     2,  Iter    14:    Energy =   0.0584
Level     2,  Iter    15:    Energy =   0.0589
Level     2,  Iter    16:    Energy =   0.0593
Level     2,  Iter    17:    Energy =   0.0597
Level     2,  Iter    18:    Energy =   0.0601
Level     2,  Iter    19:    Energy =   0.0605
END OF LEVEL     2    DetJac Range:   0.0598  to   3.5159 
  Avg. Gradient Time  : 0.3082s  37.77% 
  Avg. Gaussian Time  : 0.4218s  51.70% 
  Avg. Iteration Time : 0.8159s 

real	0m26.935s
user	0m47.636s
sys	0m2.720s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train010/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train010/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train010/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=36 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=36 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.807692 0.813462
+ echo 'CHUNK 0.807692 0.813462 1'
CHUNK 0.807692 0.813462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.807692 0.813462 1
====================================
         PROGRESS: 0.807692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=011
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 011
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train011
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train011
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 011 right 0
+ local tid=011
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 011 0
+ set -e
+ local tid=011
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train011/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2371.47 	 OutFr   0.0026 	 RMSD     3.4345
Iter 002 	 Temp     3.72 	 Delta  2184.34 	 OutFr   0.0026 	 RMSD     2.2564
Iter 003 	 Temp     3.46 	 Delta  2024.01 	 OutFr   0.0026 	 RMSD     2.2450
Iter 004 	 Temp     3.22 	 Delta  1869.39 	 OutFr   0.0026 	 RMSD     2.2430
Iter 005 	 Temp     2.99 	 Delta  1727.26 	 OutFr   0.0078 	 RMSD     2.2374
Iter 006 	 Temp     2.78 	 Delta  1603.47 	 OutFr   0.0078 	 RMSD     2.2298
Iter 007 	 Temp     2.59 	 Delta  1500.87 	 OutFr   0.0078 	 RMSD     2.2219
Iter 008 	 Temp     2.41 	 Delta  1415.26 	 OutFr   0.0078 	 RMSD     2.2144
Iter 009 	 Temp     2.24 	 Delta  1340.17 	 OutFr   0.0078 	 RMSD     2.2070
Iter 010 	 Temp     2.08 	 Delta  1272.71 	 OutFr   0.0078 	 RMSD     2.2000
Iter 011 	 Temp     1.94 	 Delta  1210.91 	 OutFr   0.0078 	 RMSD     2.1930
Iter 012 	 Temp     1.80 	 Delta  1152.65 	 OutFr   0.0104 	 RMSD     2.1860
Iter 013 	 Temp     1.67 	 Delta  1096.68 	 OutFr   0.0207 	 RMSD     2.1793
Iter 014 	 Temp     1.56 	 Delta  1043.94 	 OutFr   0.0233 	 RMSD     2.1732
Iter 015 	 Temp     1.45 	 Delta   996.91 	 OutFr   0.0363 	 RMSD     2.1687
Iter 016 	 Temp     1.35 	 Delta   954.75 	 OutFr   0.0389 	 RMSD     2.1647
Iter 017 	 Temp     1.25 	 Delta   913.41 	 OutFr   0.0415 	 RMSD     2.1616
Iter 018 	 Temp     1.16 	 Delta   869.62 	 OutFr   0.0415 	 RMSD     2.1596
Iter 019 	 Temp     1.08 	 Delta   821.70 	 OutFr   0.0466 	 RMSD     2.1579
Iter 020 	 Temp     1.01 	 Delta   769.54 	 OutFr   0.0570 	 RMSD     2.1563
Iter 021 	 Temp     0.94 	 Delta   714.75 	 OutFr   0.0699 	 RMSD     2.1551
Iter 022 	 Temp     0.87 	 Delta   656.29 	 OutFr   0.0803 	 RMSD     2.1544
Iter 023 	 Temp     0.81 	 Delta   594.91 	 OutFr   0.1088 	 RMSD     2.1536
Iter 024 	 Temp     0.75 	 Delta   535.44 	 OutFr   0.1425 	 RMSD     2.1528
Iter 025 	 Temp     0.70 	 Delta   479.17 	 OutFr   0.1658 	 RMSD     2.1523
Iter 026 	 Temp     0.65 	 Delta   423.70 	 OutFr   0.1788 	 RMSD     2.1526
Iter 027 	 Temp     0.61 	 Delta   371.91 	 OutFr   0.2176 	 RMSD     2.1533
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train011/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.5oaCYWy7/mybin.nii.gz
+ vtklevelset /tmp/ashs.5oaCYWy7/mybin.nii.gz /tmp/ashs.5oaCYWy7/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.5oaCYWy7/mymesh.vtk /tmp/ashs.5oaCYWy7/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2967.71795689 3056.09978361   1.02978107
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.5oaCYWy7/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train011/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 8.96561 to 36.3542
   Y : -21.3127 to 24.5574
   Z : -23.6758 to 5.5871
   Image resolution  : 108 by 161 by 113
   Image box origin  : {3.96561, -26.3127, -28.6758}
   Image box size    : {37.5, 55.9027, 39.5495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-3.96561, 26.3127, -28.6758]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train011/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_fwd.mat -o /tmp/ashs.5oaCYWy7/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train011/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_inv.mat -o /tmp/ashs.5oaCYWy7/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train011/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.5oaCYWy7/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train011/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=37 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=37 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.813462 0.819231
+ echo 'CHUNK 0.813462 0.819231 0.5'
CHUNK 0.813462 0.819231 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.813462 0.819231 0.5
====================================
         PROGRESS: 0.813462               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train011/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.5oaCYWy7/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.5oaCYWy7/fixed_hw.nii.gz /tmp/ashs.5oaCYWy7/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train011/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.703566, moving = 0.436023
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.36162, 2.36213], [0.982092, 0.964127, 0.964336]
Level     0,  Iter     0:    Energy =   0.0438
Level     0,  Iter     1:    Energy =   0.0492
Level     0,  Iter     2:    Energy =   0.0540
Level     0,  Iter     3:    Energy =   0.0580
Level     0,  Iter     4:    Energy =   0.0612
Level     0,  Iter     5:    Energy =   0.0638
Level     0,  Iter     6:    Energy =   0.0659
Level     0,  Iter     7:    Energy =   0.0674
Level     0,  Iter     8:    Energy =   0.0681
Level     0,  Iter     9:    Energy =   0.0683
Level     0,  Iter    10:    Energy =   0.0690
Level     0,  Iter    11:    Energy =   0.0692
Level     0,  Iter    12:    Energy =   0.0698
Level     0,  Iter    13:    Energy =   0.0699
Level     0,  Iter    14:    Energy =   0.0706
Level     0,  Iter    15:    Energy =   0.0706
Level     0,  Iter    16:    Energy =   0.0710
Level     0,  Iter    17:    Energy =   0.0709
Level     0,  Iter    18:    Energy =   0.0713
Level     0,  Iter    19:    Energy =   0.0712
Level     0,  Iter    20:    Energy =   0.0716
Level     0,  Iter    21:    Energy =   0.0715
Level     0,  Iter    22:    Energy =   0.0719
Level     0,  Iter    23:    Energy =   0.0716
Level     0,  Iter    24:    Energy =   0.0721
Level     0,  Iter    25:    Energy =   0.0720
Level     0,  Iter    26:    Energy =   0.0723
Level     0,  Iter    27:    Energy =   0.0720
Level     0,  Iter    28:    Energy =   0.0725
Level     0,  Iter    29:    Energy =   0.0723
Level     0,  Iter    30:    Energy =   0.0727
Level     0,  Iter    31:    Energy =   0.0724
Level     0,  Iter    32:    Energy =   0.0728
Level     0,  Iter    33:    Energy =   0.0726
Level     0,  Iter    34:    Energy =   0.0729
Level     0,  Iter    35:    Energy =   0.0725
Level     0,  Iter    36:    Energy =   0.0730
Level     0,  Iter    37:    Energy =   0.0728
Level     0,  Iter    38:    Energy =   0.0731
Level     0,  Iter    39:    Energy =   0.0727
Level     0,  Iter    40:    Energy =   0.0731
Level     0,  Iter    41:    Energy =   0.0731
Level     0,  Iter    42:    Energy =   0.0734
Level     0,  Iter    43:    Energy =   0.0730
Level     0,  Iter    44:    Energy =   0.0734
Level     0,  Iter    45:    Energy =   0.0734
Level     0,  Iter    46:    Energy =   0.0736
Level     0,  Iter    47:    Energy =   0.0732
Level     0,  Iter    48:    Energy =   0.0735
Level     0,  Iter    49:    Energy =   0.0735
Level     0,  Iter    50:    Energy =   0.0737
Level     0,  Iter    51:    Energy =   0.0732
Level     0,  Iter    52:    Energy =   0.0736
Level     0,  Iter    53:    Energy =   0.0736
Level     0,  Iter    54:    Energy =   0.0737
Level     0,  Iter    55:    Energy =   0.0733
Level     0,  Iter    56:    Energy =   0.0737
Level     0,  Iter    57:    Energy =   0.0736
Level     0,  Iter    58:    Energy =   0.0738
Level     0,  Iter    59:    Energy =   0.0733
END OF LEVEL     0    DetJac Range:   0.1806  to   2.1438 
  Avg. Gradient Time  : 0.0079s  37.60% 
  Avg. Gaussian Time  : 0.0100s  47.34% 
  Avg. Iteration Time : 0.0211s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19539, 1.20179], [0.491046, 0.488015, 0.490627]
Level     1,  Iter     0:    Energy =   0.0599
Level     1,  Iter     1:    Energy =   0.0638
Level     1,  Iter     2:    Energy =   0.0670
Level     1,  Iter     3:    Energy =   0.0688
Level     1,  Iter     4:    Energy =   0.0702
Level     1,  Iter     5:    Energy =   0.0716
Level     1,  Iter     6:    Energy =   0.0726
Level     1,  Iter     7:    Energy =   0.0735
Level     1,  Iter     8:    Energy =   0.0742
Level     1,  Iter     9:    Energy =   0.0749
Level     1,  Iter    10:    Energy =   0.0755
Level     1,  Iter    11:    Energy =   0.0761
Level     1,  Iter    12:    Energy =   0.0766
Level     1,  Iter    13:    Energy =   0.0771
Level     1,  Iter    14:    Energy =   0.0774
Level     1,  Iter    15:    Energy =   0.0777
Level     1,  Iter    16:    Energy =   0.0780
Level     1,  Iter    17:    Energy =   0.0783
Level     1,  Iter    18:    Energy =   0.0783
Level     1,  Iter    19:    Energy =   0.0783
Level     1,  Iter    20:    Energy =   0.0783
Level     1,  Iter    21:    Energy =   0.0782
Level     1,  Iter    22:    Energy =   0.0783
Level     1,  Iter    23:    Energy =   0.0782
Level     1,  Iter    24:    Energy =   0.0782
Level     1,  Iter    25:    Energy =   0.0782
Level     1,  Iter    26:    Energy =   0.0782
Level     1,  Iter    27:    Energy =   0.0782
Level     1,  Iter    28:    Energy =   0.0782
Level     1,  Iter    29:    Energy =   0.0782
Level     1,  Iter    30:    Energy =   0.0783
Level     1,  Iter    31:    Energy =   0.0783
Level     1,  Iter    32:    Energy =   0.0783
Level     1,  Iter    33:    Energy =   0.0783
Level     1,  Iter    34:    Energy =   0.0783
Level     1,  Iter    35:    Energy =   0.0783
Level     1,  Iter    36:    Energy =   0.0784
Level     1,  Iter    37:    Energy =   0.0784
Level     1,  Iter    38:    Energy =   0.0784
Level     1,  Iter    39:    Energy =   0.0784
Level     1,  Iter    40:    Energy =   0.0784
Level     1,  Iter    41:    Energy =   0.0784
Level     1,  Iter    42:    Energy =   0.0784
Level     1,  Iter    43:    Energy =   0.0784
Level     1,  Iter    44:    Energy =   0.0784
Level     1,  Iter    45:    Energy =   0.0784
Level     1,  Iter    46:    Energy =   0.0785
Level     1,  Iter    47:    Energy =   0.0785
Level     1,  Iter    48:    Energy =   0.0785
Level     1,  Iter    49:    Energy =   0.0785
Level     1,  Iter    50:    Energy =   0.0785
Level     1,  Iter    51:    Energy =   0.0785
Level     1,  Iter    52:    Energy =   0.0785
Level     1,  Iter    53:    Energy =   0.0785
Level     1,  Iter    54:    Energy =   0.0786
Level     1,  Iter    55:    Energy =   0.0785
Level     1,  Iter    56:    Energy =   0.0786
Level     1,  Iter    57:    Energy =   0.0785
Level     1,  Iter    58:    Energy =   0.0786
Level     1,  Iter    59:    Energy =   0.0785
END OF LEVEL     1    DetJac Range:   0.0790  to   3.0527 
  Avg. Gradient Time  : 0.0482s  39.44% 
  Avg. Gaussian Time  : 0.0597s  48.87% 
  Avg. Iteration Time : 0.1222s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0439
Level     2,  Iter     1:    Energy =   0.0461
Level     2,  Iter     2:    Energy =   0.0476
Level     2,  Iter     3:    Energy =   0.0488
Level     2,  Iter     4:    Energy =   0.0498
Level     2,  Iter     5:    Energy =   0.0507
Level     2,  Iter     6:    Energy =   0.0514
Level     2,  Iter     7:    Energy =   0.0521
Level     2,  Iter     8:    Energy =   0.0528
Level     2,  Iter     9:    Energy =   0.0534
Level     2,  Iter    10:    Energy =   0.0540
Level     2,  Iter    11:    Energy =   0.0545
Level     2,  Iter    12:    Energy =   0.0551
Level     2,  Iter    13:    Energy =   0.0556
Level     2,  Iter    14:    Energy =   0.0561
Level     2,  Iter    15:    Energy =   0.0566
Level     2,  Iter    16:    Energy =   0.0570
Level     2,  Iter    17:    Energy =   0.0574
Level     2,  Iter    18:    Energy =   0.0577
Level     2,  Iter    19:    Energy =   0.0579
END OF LEVEL     2    DetJac Range:   0.0711  to   4.6158 
  Avg. Gradient Time  : 0.3426s  37.25% 
  Avg. Gaussian Time  : 0.4797s  52.16% 
  Avg. Iteration Time : 0.9197s 

real	0m30.604s
user	0m54.304s
sys	0m2.816s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train011/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train011/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train011/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=37 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=37 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.813462 0.819231
+ echo 'CHUNK 0.813462 0.819231 1'
CHUNK 0.813462 0.819231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.813462 0.819231 1
====================================
         PROGRESS: 0.813462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=012
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 012
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train012
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train012
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 012 right 0
+ local tid=012
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 012 0
+ set -e
+ local tid=012
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train012/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1852.12 	 OutFr   0.0000 	 RMSD     4.5570
Iter 002 	 Temp     3.72 	 Delta  1729.62 	 OutFr   0.0000 	 RMSD     2.1496
Iter 003 	 Temp     3.46 	 Delta  1646.34 	 OutFr   0.0000 	 RMSD     2.1075
Iter 004 	 Temp     3.22 	 Delta  1558.97 	 OutFr   0.0000 	 RMSD     2.0868
Iter 005 	 Temp     2.99 	 Delta  1475.53 	 OutFr   0.0000 	 RMSD     2.0735
Iter 006 	 Temp     2.78 	 Delta  1399.73 	 OutFr   0.0000 	 RMSD     2.0616
Iter 007 	 Temp     2.59 	 Delta  1331.03 	 OutFr   0.0026 	 RMSD     2.0517
Iter 008 	 Temp     2.41 	 Delta  1269.64 	 OutFr   0.0026 	 RMSD     2.0434
Iter 009 	 Temp     2.24 	 Delta  1216.36 	 OutFr   0.0026 	 RMSD     2.0368
Iter 010 	 Temp     2.08 	 Delta  1170.66 	 OutFr   0.0026 	 RMSD     2.0318
Iter 011 	 Temp     1.94 	 Delta  1130.63 	 OutFr   0.0052 	 RMSD     2.0281
Iter 012 	 Temp     1.80 	 Delta  1093.28 	 OutFr   0.0052 	 RMSD     2.0250
Iter 013 	 Temp     1.67 	 Delta  1054.94 	 OutFr   0.0155 	 RMSD     2.0223
Iter 014 	 Temp     1.56 	 Delta  1012.22 	 OutFr   0.0233 	 RMSD     2.0199
Iter 015 	 Temp     1.45 	 Delta   963.80 	 OutFr   0.0259 	 RMSD     2.0178
Iter 016 	 Temp     1.35 	 Delta   911.24 	 OutFr   0.0285 	 RMSD     2.0156
Iter 017 	 Temp     1.25 	 Delta   857.59 	 OutFr   0.0389 	 RMSD     2.0132
Iter 018 	 Temp     1.16 	 Delta   805.23 	 OutFr   0.0466 	 RMSD     2.0106
Iter 019 	 Temp     1.08 	 Delta   754.96 	 OutFr   0.0544 	 RMSD     2.0085
Iter 020 	 Temp     1.01 	 Delta   706.83 	 OutFr   0.0596 	 RMSD     2.0066
Iter 021 	 Temp     0.94 	 Delta   658.98 	 OutFr   0.0699 	 RMSD     2.0048
Iter 022 	 Temp     0.87 	 Delta   610.89 	 OutFr   0.0959 	 RMSD     2.0031
Iter 023 	 Temp     0.81 	 Delta   565.79 	 OutFr   0.1088 	 RMSD     2.0017
Iter 024 	 Temp     0.75 	 Delta   523.35 	 OutFr   0.1269 	 RMSD     2.0008
Iter 025 	 Temp     0.70 	 Delta   480.87 	 OutFr   0.1528 	 RMSD     2.0004
Iter 026 	 Temp     0.65 	 Delta   437.10 	 OutFr   0.1762 	 RMSD     2.0004
Iter 027 	 Temp     0.61 	 Delta   392.64 	 OutFr   0.1917 	 RMSD     2.0007
Iter 028 	 Temp     0.56 	 Delta   350.55 	 OutFr   0.2435 	 RMSD     2.0010
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train012/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.Mg1TNlIN/mybin.nii.gz
+ vtklevelset /tmp/ashs.Mg1TNlIN/mybin.nii.gz /tmp/ashs.Mg1TNlIN/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.Mg1TNlIN/mymesh.vtk /tmp/ashs.Mg1TNlIN/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2967.71795689 2777.33068490   0.93584725
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.Mg1TNlIN/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train012/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 11.9484 to 36.6354
   Y : -18.243 to 23.7495
   Z : -28.6861 to 2.01045
   Image resolution  : 100 by 150 by 117
   Image box origin  : {6.9484, -23.243, -33.6861}
   Image box size    : {34.7222, 52.0833, 40.9495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-6.9484, 23.243, -33.6861]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train012/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_fwd.mat -o /tmp/ashs.Mg1TNlIN/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train012/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_inv.mat -o /tmp/ashs.Mg1TNlIN/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train012/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.Mg1TNlIN/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train012/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=38 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=38 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.819231 0.825
+ echo 'CHUNK 0.819231 0.825 0.5'
CHUNK 0.819231 0.825 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.819231 0.825 0.5
====================================
         PROGRESS: 0.819231               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train012/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.Mg1TNlIN/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.Mg1TNlIN/fixed_hw.nii.gz /tmp/ashs.Mg1TNlIN/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train012/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.751195, moving = 0.779007
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.37397, 2.36422], [0.982092, 0.96917, 0.96519]
Level     0,  Iter     0:    Energy =   0.0454
Level     0,  Iter     1:    Energy =   0.0527
Level     0,  Iter     2:    Energy =   0.0590
Level     0,  Iter     3:    Energy =   0.0651
Level     0,  Iter     4:    Energy =   0.0700
Level     0,  Iter     5:    Energy =   0.0734
Level     0,  Iter     6:    Energy =   0.0766
Level     0,  Iter     7:    Energy =   0.0786
Level     0,  Iter     8:    Energy =   0.0803
Level     0,  Iter     9:    Energy =   0.0822
Level     0,  Iter    10:    Energy =   0.0839
Level     0,  Iter    11:    Energy =   0.0857
Level     0,  Iter    12:    Energy =   0.0870
Level     0,  Iter    13:    Energy =   0.0871
Level     0,  Iter    14:    Energy =   0.0873
Level     0,  Iter    15:    Energy =   0.0873
Level     0,  Iter    16:    Energy =   0.0874
Level     0,  Iter    17:    Energy =   0.0875
Level     0,  Iter    18:    Energy =   0.0877
Level     0,  Iter    19:    Energy =   0.0878
Level     0,  Iter    20:    Energy =   0.0880
Level     0,  Iter    21:    Energy =   0.0882
Level     0,  Iter    22:    Energy =   0.0885
Level     0,  Iter    23:    Energy =   0.0887
Level     0,  Iter    24:    Energy =   0.0888
Level     0,  Iter    25:    Energy =   0.0890
Level     0,  Iter    26:    Energy =   0.0890
Level     0,  Iter    27:    Energy =   0.0893
Level     0,  Iter    28:    Energy =   0.0893
Level     0,  Iter    29:    Energy =   0.0896
Level     0,  Iter    30:    Energy =   0.0894
Level     0,  Iter    31:    Energy =   0.0898
Level     0,  Iter    32:    Energy =   0.0898
Level     0,  Iter    33:    Energy =   0.0900
Level     0,  Iter    34:    Energy =   0.0897
Level     0,  Iter    35:    Energy =   0.0900
Level     0,  Iter    36:    Energy =   0.0899
Level     0,  Iter    37:    Energy =   0.0902
Level     0,  Iter    38:    Energy =   0.0900
Level     0,  Iter    39:    Energy =   0.0903
Level     0,  Iter    40:    Energy =   0.0900
Level     0,  Iter    41:    Energy =   0.0904
Level     0,  Iter    42:    Energy =   0.0905
Level     0,  Iter    43:    Energy =   0.0906
Level     0,  Iter    44:    Energy =   0.0903
Level     0,  Iter    45:    Energy =   0.0904
Level     0,  Iter    46:    Energy =   0.0904
Level     0,  Iter    47:    Energy =   0.0906
Level     0,  Iter    48:    Energy =   0.0905
Level     0,  Iter    49:    Energy =   0.0907
Level     0,  Iter    50:    Energy =   0.0906
Level     0,  Iter    51:    Energy =   0.0908
Level     0,  Iter    52:    Energy =   0.0904
Level     0,  Iter    53:    Energy =   0.0907
Level     0,  Iter    54:    Energy =   0.0907
Level     0,  Iter    55:    Energy =   0.0908
Level     0,  Iter    56:    Energy =   0.0905
Level     0,  Iter    57:    Energy =   0.0907
Level     0,  Iter    58:    Energy =   0.0906
Level     0,  Iter    59:    Energy =   0.0908
END OF LEVEL     0    DetJac Range:   0.2584  to   2.7737 
  Avg. Gradient Time  : 0.0074s  37.67% 
  Avg. Gaussian Time  : 0.0092s  46.86% 
  Avg. Iteration Time : 0.0197s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.20215], [0.491046, 0.491046, 0.490774]
Level     1,  Iter     0:    Energy =   0.0630
Level     1,  Iter     1:    Energy =   0.0684
Level     1,  Iter     2:    Energy =   0.0715
Level     1,  Iter     3:    Energy =   0.0745
Level     1,  Iter     4:    Energy =   0.0774
Level     1,  Iter     5:    Energy =   0.0795
Level     1,  Iter     6:    Energy =   0.0813
Level     1,  Iter     7:    Energy =   0.0826
Level     1,  Iter     8:    Energy =   0.0833
Level     1,  Iter     9:    Energy =   0.0841
Level     1,  Iter    10:    Energy =   0.0848
Level     1,  Iter    11:    Energy =   0.0850
Level     1,  Iter    12:    Energy =   0.0856
Level     1,  Iter    13:    Energy =   0.0857
Level     1,  Iter    14:    Energy =   0.0861
Level     1,  Iter    15:    Energy =   0.0862
Level     1,  Iter    16:    Energy =   0.0864
Level     1,  Iter    17:    Energy =   0.0866
Level     1,  Iter    18:    Energy =   0.0868
Level     1,  Iter    19:    Energy =   0.0869
Level     1,  Iter    20:    Energy =   0.0872
Level     1,  Iter    21:    Energy =   0.0873
Level     1,  Iter    22:    Energy =   0.0874
Level     1,  Iter    23:    Energy =   0.0875
Level     1,  Iter    24:    Energy =   0.0876
Level     1,  Iter    25:    Energy =   0.0877
Level     1,  Iter    26:    Energy =   0.0877
Level     1,  Iter    27:    Energy =   0.0878
Level     1,  Iter    28:    Energy =   0.0879
Level     1,  Iter    29:    Energy =   0.0879
Level     1,  Iter    30:    Energy =   0.0880
Level     1,  Iter    31:    Energy =   0.0880
Level     1,  Iter    32:    Energy =   0.0881
Level     1,  Iter    33:    Energy =   0.0882
Level     1,  Iter    34:    Energy =   0.0882
Level     1,  Iter    35:    Energy =   0.0883
Level     1,  Iter    36:    Energy =   0.0882
Level     1,  Iter    37:    Energy =   0.0883
Level     1,  Iter    38:    Energy =   0.0882
Level     1,  Iter    39:    Energy =   0.0883
Level     1,  Iter    40:    Energy =   0.0883
Level     1,  Iter    41:    Energy =   0.0883
Level     1,  Iter    42:    Energy =   0.0883
Level     1,  Iter    43:    Energy =   0.0884
Level     1,  Iter    44:    Energy =   0.0883
Level     1,  Iter    45:    Energy =   0.0884
Level     1,  Iter    46:    Energy =   0.0883
Level     1,  Iter    47:    Energy =   0.0884
Level     1,  Iter    48:    Energy =   0.0883
Level     1,  Iter    49:    Energy =   0.0884
Level     1,  Iter    50:    Energy =   0.0884
Level     1,  Iter    51:    Energy =   0.0884
Level     1,  Iter    52:    Energy =   0.0884
Level     1,  Iter    53:    Energy =   0.0884
Level     1,  Iter    54:    Energy =   0.0885
Level     1,  Iter    55:    Energy =   0.0884
Level     1,  Iter    56:    Energy =   0.0885
Level     1,  Iter    57:    Energy =   0.0884
Level     1,  Iter    58:    Energy =   0.0885
Level     1,  Iter    59:    Energy =   0.0884
END OF LEVEL     1    DetJac Range:   0.1737  to   4.4635 
  Avg. Gradient Time  : 0.0426s  39.58% 
  Avg. Gaussian Time  : 0.0522s  48.46% 
  Avg. Iteration Time : 0.1077s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0461
Level     2,  Iter     1:    Energy =   0.0482
Level     2,  Iter     2:    Energy =   0.0498
Level     2,  Iter     3:    Energy =   0.0511
Level     2,  Iter     4:    Energy =   0.0524
Level     2,  Iter     5:    Energy =   0.0536
Level     2,  Iter     6:    Energy =   0.0546
Level     2,  Iter     7:    Energy =   0.0556
Level     2,  Iter     8:    Energy =   0.0568
Level     2,  Iter     9:    Energy =   0.0579
Level     2,  Iter    10:    Energy =   0.0589
Level     2,  Iter    11:    Energy =   0.0596
Level     2,  Iter    12:    Energy =   0.0601
Level     2,  Iter    13:    Energy =   0.0606
Level     2,  Iter    14:    Energy =   0.0609
Level     2,  Iter    15:    Energy =   0.0613
Level     2,  Iter    16:    Energy =   0.0616
Level     2,  Iter    17:    Energy =   0.0619
Level     2,  Iter    18:    Energy =   0.0622
Level     2,  Iter    19:    Energy =   0.0624
END OF LEVEL     2    DetJac Range:   0.0981  to   5.9554 
  Avg. Gradient Time  : 0.3024s  36.95% 
  Avg. Gaussian Time  : 0.4292s  52.45% 
  Avg. Iteration Time : 0.8183s 

real	0m27.260s
user	0m48.256s
sys	0m2.676s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train012/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train012/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train012/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=38 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=38 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.819231 0.825
+ echo 'CHUNK 0.819231 0.825 1'
CHUNK 0.819231 0.825 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.819231 0.825 1
====================================
         PROGRESS: 0.819231               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=013
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 013
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train013
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train013
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 013 right 0
+ local tid=013
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 013 0
+ set -e
+ local tid=013
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train013/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2549.18 	 OutFr   0.0026 	 RMSD     2.9463
Iter 002 	 Temp     3.72 	 Delta  2367.19 	 OutFr   0.0000 	 RMSD     2.1033
Iter 003 	 Temp     3.46 	 Delta  2182.68 	 OutFr   0.0026 	 RMSD     2.1306
Iter 004 	 Temp     3.22 	 Delta  2005.20 	 OutFr   0.0026 	 RMSD     2.1289
Iter 005 	 Temp     2.99 	 Delta  1840.20 	 OutFr   0.0026 	 RMSD     2.1184
Iter 006 	 Temp     2.78 	 Delta  1689.87 	 OutFr   0.0078 	 RMSD     2.1066
Iter 007 	 Temp     2.59 	 Delta  1555.06 	 OutFr   0.0078 	 RMSD     2.0966
Iter 008 	 Temp     2.41 	 Delta  1437.51 	 OutFr   0.0078 	 RMSD     2.0880
Iter 009 	 Temp     2.24 	 Delta  1339.34 	 OutFr   0.0104 	 RMSD     2.0808
Iter 010 	 Temp     2.08 	 Delta  1257.64 	 OutFr   0.0104 	 RMSD     2.0755
Iter 011 	 Temp     1.94 	 Delta  1185.37 	 OutFr   0.0104 	 RMSD     2.0711
Iter 012 	 Temp     1.80 	 Delta  1117.29 	 OutFr   0.0104 	 RMSD     2.0671
Iter 013 	 Temp     1.67 	 Delta  1050.69 	 OutFr   0.0155 	 RMSD     2.0639
Iter 014 	 Temp     1.56 	 Delta   984.12 	 OutFr   0.0181 	 RMSD     2.0612
Iter 015 	 Temp     1.45 	 Delta   917.42 	 OutFr   0.0207 	 RMSD     2.0588
Iter 016 	 Temp     1.35 	 Delta   852.11 	 OutFr   0.0259 	 RMSD     2.0577
Iter 017 	 Temp     1.25 	 Delta   788.98 	 OutFr   0.0337 	 RMSD     2.0574
Iter 018 	 Temp     1.16 	 Delta   728.16 	 OutFr   0.0492 	 RMSD     2.0571
Iter 019 	 Temp     1.08 	 Delta   671.41 	 OutFr   0.0570 	 RMSD     2.0568
Iter 020 	 Temp     1.01 	 Delta   619.73 	 OutFr   0.0674 	 RMSD     2.0548
Iter 021 	 Temp     0.94 	 Delta   573.92 	 OutFr   0.0777 	 RMSD     2.0508
Iter 022 	 Temp     0.87 	 Delta   533.85 	 OutFr   0.0959 	 RMSD     2.0450
Iter 023 	 Temp     0.81 	 Delta   493.92 	 OutFr   0.1244 	 RMSD     2.0399
Iter 024 	 Temp     0.75 	 Delta   450.50 	 OutFr   0.1477 	 RMSD     2.0360
Iter 025 	 Temp     0.70 	 Delta   408.70 	 OutFr   0.1684 	 RMSD     2.0328
Iter 026 	 Temp     0.65 	 Delta   372.92 	 OutFr   0.1891 	 RMSD     2.0308
Iter 027 	 Temp     0.61 	 Delta   344.97 	 OutFr   0.2098 	 RMSD     2.0293
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train013/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.QdcXMtpx/mybin.nii.gz
+ vtklevelset /tmp/ashs.QdcXMtpx/mybin.nii.gz /tmp/ashs.QdcXMtpx/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.QdcXMtpx/mymesh.vtk /tmp/ashs.QdcXMtpx/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2967.71795689 2792.81974188   0.94106643
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.QdcXMtpx/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train013/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 14.099 to 39.2739
   Y : -17.3455 to 25.874
   Z : -27.1046 to 0.373149
   Image resolution  : 102 by 154 by 108
   Image box origin  : {9.099, -22.3455, -32.1046}
   Image box size    : {35.4166, 53.4722, 37.7996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-9.099, 22.3455, -32.1046]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train013/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_fwd.mat -o /tmp/ashs.QdcXMtpx/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train013/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_inv.mat -o /tmp/ashs.QdcXMtpx/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train013/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.QdcXMtpx/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train013/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=39 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=39 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.825 0.830769
+ echo 'CHUNK 0.825 0.830769 0.5'
CHUNK 0.825 0.830769 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.825 0.830769 0.5
====================================
         PROGRESS: 0.825               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train013/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.QdcXMtpx/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.QdcXMtpx/fixed_hw.nii.gz /tmp/ashs.QdcXMtpx/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train013/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.70094, moving = 0.602734
LEVEL 1 of 3
  Smoothing sigmas: [2.35936, 2.37478, 2.42484], [0.963206, 0.969501, 0.989938]
Level     0,  Iter     0:    Energy =   0.0378
Level     0,  Iter     1:    Energy =   0.0424
Level     0,  Iter     2:    Energy =   0.0466
Level     0,  Iter     3:    Energy =   0.0505
Level     0,  Iter     4:    Energy =   0.0539
Level     0,  Iter     5:    Energy =   0.0570
Level     0,  Iter     6:    Energy =   0.0594
Level     0,  Iter     7:    Energy =   0.0617
Level     0,  Iter     8:    Energy =   0.0636
Level     0,  Iter     9:    Energy =   0.0648
Level     0,  Iter    10:    Energy =   0.0659
Level     0,  Iter    11:    Energy =   0.0669
Level     0,  Iter    12:    Energy =   0.0678
Level     0,  Iter    13:    Energy =   0.0682
Level     0,  Iter    14:    Energy =   0.0689
Level     0,  Iter    15:    Energy =   0.0691
Level     0,  Iter    16:    Energy =   0.0697
Level     0,  Iter    17:    Energy =   0.0698
Level     0,  Iter    18:    Energy =   0.0703
Level     0,  Iter    19:    Energy =   0.0704
Level     0,  Iter    20:    Energy =   0.0709
Level     0,  Iter    21:    Energy =   0.0708
Level     0,  Iter    22:    Energy =   0.0713
Level     0,  Iter    23:    Energy =   0.0712
Level     0,  Iter    24:    Energy =   0.0716
Level     0,  Iter    25:    Energy =   0.0715
Level     0,  Iter    26:    Energy =   0.0719
Level     0,  Iter    27:    Energy =   0.0718
Level     0,  Iter    28:    Energy =   0.0721
Level     0,  Iter    29:    Energy =   0.0721
Level     0,  Iter    30:    Energy =   0.0724
Level     0,  Iter    31:    Energy =   0.0723
Level     0,  Iter    32:    Energy =   0.0727
Level     0,  Iter    33:    Energy =   0.0725
Level     0,  Iter    34:    Energy =   0.0729
Level     0,  Iter    35:    Energy =   0.0727
Level     0,  Iter    36:    Energy =   0.0731
Level     0,  Iter    37:    Energy =   0.0729
Level     0,  Iter    38:    Energy =   0.0733
Level     0,  Iter    39:    Energy =   0.0731
Level     0,  Iter    40:    Energy =   0.0735
Level     0,  Iter    41:    Energy =   0.0732
Level     0,  Iter    42:    Energy =   0.0736
Level     0,  Iter    43:    Energy =   0.0733
Level     0,  Iter    44:    Energy =   0.0737
Level     0,  Iter    45:    Energy =   0.0735
Level     0,  Iter    46:    Energy =   0.0739
Level     0,  Iter    47:    Energy =   0.0736
Level     0,  Iter    48:    Energy =   0.0739
Level     0,  Iter    49:    Energy =   0.0737
Level     0,  Iter    50:    Energy =   0.0740
Level     0,  Iter    51:    Energy =   0.0738
Level     0,  Iter    52:    Energy =   0.0741
Level     0,  Iter    53:    Energy =   0.0739
Level     0,  Iter    54:    Energy =   0.0742
Level     0,  Iter    55:    Energy =   0.0739
Level     0,  Iter    56:    Energy =   0.0743
Level     0,  Iter    57:    Energy =   0.0740
Level     0,  Iter    58:    Energy =   0.0743
Level     0,  Iter    59:    Energy =   0.0741
END OF LEVEL     0    DetJac Range:   0.1471  to   2.1547 
  Avg. Gradient Time  : 0.0071s  37.63% 
  Avg. Gaussian Time  : 0.0089s  47.29% 
  Avg. Iteration Time : 0.0188s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.21242], [0.491046, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0507
Level     1,  Iter     1:    Energy =   0.0542
Level     1,  Iter     2:    Energy =   0.0565
Level     1,  Iter     3:    Energy =   0.0582
Level     1,  Iter     4:    Energy =   0.0596
Level     1,  Iter     5:    Energy =   0.0610
Level     1,  Iter     6:    Energy =   0.0622
Level     1,  Iter     7:    Energy =   0.0637
Level     1,  Iter     8:    Energy =   0.0651
Level     1,  Iter     9:    Energy =   0.0663
Level     1,  Iter    10:    Energy =   0.0674
Level     1,  Iter    11:    Energy =   0.0681
Level     1,  Iter    12:    Energy =   0.0685
Level     1,  Iter    13:    Energy =   0.0690
Level     1,  Iter    14:    Energy =   0.0694
Level     1,  Iter    15:    Energy =   0.0699
Level     1,  Iter    16:    Energy =   0.0699
Level     1,  Iter    17:    Energy =   0.0704
Level     1,  Iter    18:    Energy =   0.0704
Level     1,  Iter    19:    Energy =   0.0708
Level     1,  Iter    20:    Energy =   0.0707
Level     1,  Iter    21:    Energy =   0.0711
Level     1,  Iter    22:    Energy =   0.0710
Level     1,  Iter    23:    Energy =   0.0713
Level     1,  Iter    24:    Energy =   0.0712
Level     1,  Iter    25:    Energy =   0.0715
Level     1,  Iter    26:    Energy =   0.0714
Level     1,  Iter    27:    Energy =   0.0717
Level     1,  Iter    28:    Energy =   0.0716
Level     1,  Iter    29:    Energy =   0.0719
Level     1,  Iter    30:    Energy =   0.0718
Level     1,  Iter    31:    Energy =   0.0721
Level     1,  Iter    32:    Energy =   0.0720
Level     1,  Iter    33:    Energy =   0.0723
Level     1,  Iter    34:    Energy =   0.0721
Level     1,  Iter    35:    Energy =   0.0724
Level     1,  Iter    36:    Energy =   0.0723
Level     1,  Iter    37:    Energy =   0.0725
Level     1,  Iter    38:    Energy =   0.0724
Level     1,  Iter    39:    Energy =   0.0727
Level     1,  Iter    40:    Energy =   0.0725
Level     1,  Iter    41:    Energy =   0.0728
Level     1,  Iter    42:    Energy =   0.0726
Level     1,  Iter    43:    Energy =   0.0729
Level     1,  Iter    44:    Energy =   0.0727
Level     1,  Iter    45:    Energy =   0.0730
Level     1,  Iter    46:    Energy =   0.0728
Level     1,  Iter    47:    Energy =   0.0731
Level     1,  Iter    48:    Energy =   0.0729
Level     1,  Iter    49:    Energy =   0.0732
Level     1,  Iter    50:    Energy =   0.0729
Level     1,  Iter    51:    Energy =   0.0732
Level     1,  Iter    52:    Energy =   0.0730
Level     1,  Iter    53:    Energy =   0.0733
Level     1,  Iter    54:    Energy =   0.0731
Level     1,  Iter    55:    Energy =   0.0733
Level     1,  Iter    56:    Energy =   0.0731
Level     1,  Iter    57:    Energy =   0.0734
Level     1,  Iter    58:    Energy =   0.0732
Level     1,  Iter    59:    Energy =   0.0734
END OF LEVEL     1    DetJac Range:   0.0973  to   3.2562 
  Avg. Gradient Time  : 0.0410s  39.53% 
  Avg. Gaussian Time  : 0.0504s  48.55% 
  Avg. Iteration Time : 0.1038s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0365
Level     2,  Iter     1:    Energy =   0.0383
Level     2,  Iter     2:    Energy =   0.0397
Level     2,  Iter     3:    Energy =   0.0409
Level     2,  Iter     4:    Energy =   0.0418
Level     2,  Iter     5:    Energy =   0.0425
Level     2,  Iter     6:    Energy =   0.0431
Level     2,  Iter     7:    Energy =   0.0436
Level     2,  Iter     8:    Energy =   0.0441
Level     2,  Iter     9:    Energy =   0.0447
Level     2,  Iter    10:    Energy =   0.0453
Level     2,  Iter    11:    Energy =   0.0460
Level     2,  Iter    12:    Energy =   0.0467
Level     2,  Iter    13:    Energy =   0.0474
Level     2,  Iter    14:    Energy =   0.0483
Level     2,  Iter    15:    Energy =   0.0491
Level     2,  Iter    16:    Energy =   0.0499
Level     2,  Iter    17:    Energy =   0.0506
Level     2,  Iter    18:    Energy =   0.0512
Level     2,  Iter    19:    Energy =   0.0516
END OF LEVEL     2    DetJac Range:   0.0294  to   4.9480 
  Avg. Gradient Time  : 0.2948s  37.20% 
  Avg. Gaussian Time  : 0.4132s  52.15% 
  Avg. Iteration Time : 0.7924s 

real	0m26.355s
user	0m46.624s
sys	0m2.660s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train013/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train013/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train013/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=39 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=39 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.825 0.830769
+ echo 'CHUNK 0.825 0.830769 1'
CHUNK 0.825 0.830769 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.825 0.830769 1
====================================
         PROGRESS: 0.825               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=014
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 014
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train014
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train014
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 014 right 0
+ local tid=014
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 014 0
+ set -e
+ local tid=014
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train014/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1789.41 	 OutFr   0.0052 	 RMSD     2.9107
Iter 002 	 Temp     3.72 	 Delta  1786.44 	 OutFr   0.0000 	 RMSD     2.1120
Iter 003 	 Temp     3.46 	 Delta  1760.56 	 OutFr   0.0000 	 RMSD     2.1361
Iter 004 	 Temp     3.22 	 Delta  1698.78 	 OutFr   0.0000 	 RMSD     2.1307
Iter 005 	 Temp     2.99 	 Delta  1622.26 	 OutFr   0.0000 	 RMSD     2.1151
Iter 006 	 Temp     2.78 	 Delta  1540.93 	 OutFr   0.0000 	 RMSD     2.0980
Iter 007 	 Temp     2.59 	 Delta  1459.98 	 OutFr   0.0026 	 RMSD     2.0811
Iter 008 	 Temp     2.41 	 Delta  1382.25 	 OutFr   0.0052 	 RMSD     2.0655
Iter 009 	 Temp     2.24 	 Delta  1308.83 	 OutFr   0.0078 	 RMSD     2.0512
Iter 010 	 Temp     2.08 	 Delta  1239.53 	 OutFr   0.0104 	 RMSD     2.0366
Iter 011 	 Temp     1.94 	 Delta  1173.55 	 OutFr   0.0104 	 RMSD     2.0228
Iter 012 	 Temp     1.80 	 Delta  1110.52 	 OutFr   0.0130 	 RMSD     2.0115
Iter 013 	 Temp     1.67 	 Delta  1051.41 	 OutFr   0.0130 	 RMSD     2.0023
Iter 014 	 Temp     1.56 	 Delta   997.53 	 OutFr   0.0130 	 RMSD     1.9948
Iter 015 	 Temp     1.45 	 Delta   948.22 	 OutFr   0.0155 	 RMSD     1.9886
Iter 016 	 Temp     1.35 	 Delta   900.77 	 OutFr   0.0181 	 RMSD     1.9830
Iter 017 	 Temp     1.25 	 Delta   852.17 	 OutFr   0.0207 	 RMSD     1.9787
Iter 018 	 Temp     1.16 	 Delta   801.37 	 OutFr   0.0259 	 RMSD     1.9753
Iter 019 	 Temp     1.08 	 Delta   750.11 	 OutFr   0.0363 	 RMSD     1.9723
Iter 020 	 Temp     1.01 	 Delta   700.39 	 OutFr   0.0466 	 RMSD     1.9697
Iter 021 	 Temp     0.94 	 Delta   652.06 	 OutFr   0.0544 	 RMSD     1.9671
Iter 022 	 Temp     0.87 	 Delta   604.45 	 OutFr   0.0596 	 RMSD     1.9647
Iter 023 	 Temp     0.81 	 Delta   557.30 	 OutFr   0.0751 	 RMSD     1.9626
Iter 024 	 Temp     0.75 	 Delta   508.07 	 OutFr   0.0933 	 RMSD     1.9610
Iter 025 	 Temp     0.70 	 Delta   458.65 	 OutFr   0.1269 	 RMSD     1.9609
Iter 026 	 Temp     0.65 	 Delta   416.87 	 OutFr   0.1606 	 RMSD     1.9624
Iter 027 	 Temp     0.61 	 Delta   382.25 	 OutFr   0.1762 	 RMSD     1.9670
Iter 028 	 Temp     0.56 	 Delta   348.49 	 OutFr   0.1943 	 RMSD     1.9725
Iter 029 	 Temp     0.52 	 Delta   312.10 	 OutFr   0.2254 	 RMSD     1.9777
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train014/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.obWg0zjO/mybin.nii.gz
+ vtklevelset /tmp/ashs.obWg0zjO/mybin.nii.gz /tmp/ashs.obWg0zjO/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.obWg0zjO/mymesh.vtk /tmp/ashs.obWg0zjO/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2967.71795689 2932.29883876   0.98806520
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.obWg0zjO/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train014/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 11.715 to 36.6733
   Y : -21.1032 to 23.1088
   Z : -25.5176 to 2.53246
   Image resolution  : 101 by 157 by 109
   Image box origin  : {6.715, -26.1032, -30.5176}
   Image box size    : {35.0694, 54.5139, 38.1496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-6.715, 26.1032, -30.5176]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train014/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_fwd.mat -o /tmp/ashs.obWg0zjO/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train014/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_inv.mat -o /tmp/ashs.obWg0zjO/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train014/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.obWg0zjO/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train014/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=40 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=40 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.830769 0.836538
+ echo 'CHUNK 0.830769 0.836538 0.5'
CHUNK 0.830769 0.836538 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.830769 0.836538 0.5
====================================
         PROGRESS: 0.830769               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train014/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.obWg0zjO/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.obWg0zjO/fixed_hw.nii.gz /tmp/ashs.obWg0zjO/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train014/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.75641, moving = 0.444852
LEVEL 1 of 3
  Smoothing sigmas: [2.33623, 2.36052, 2.35989], [0.953763, 0.963678, 0.963422]
Level     0,  Iter     0:    Energy =   0.0426
Level     0,  Iter     1:    Energy =   0.0478
Level     0,  Iter     2:    Energy =   0.0527
Level     0,  Iter     3:    Energy =   0.0563
Level     0,  Iter     4:    Energy =   0.0596
Level     0,  Iter     5:    Energy =   0.0633
Level     0,  Iter     6:    Energy =   0.0665
Level     0,  Iter     7:    Energy =   0.0690
Level     0,  Iter     8:    Energy =   0.0705
Level     0,  Iter     9:    Energy =   0.0718
Level     0,  Iter    10:    Energy =   0.0730
Level     0,  Iter    11:    Energy =   0.0740
Level     0,  Iter    12:    Energy =   0.0749
Level     0,  Iter    13:    Energy =   0.0757
Level     0,  Iter    14:    Energy =   0.0761
Level     0,  Iter    15:    Energy =   0.0765
Level     0,  Iter    16:    Energy =   0.0769
Level     0,  Iter    17:    Energy =   0.0771
Level     0,  Iter    18:    Energy =   0.0772
Level     0,  Iter    19:    Energy =   0.0773
Level     0,  Iter    20:    Energy =   0.0773
Level     0,  Iter    21:    Energy =   0.0775
Level     0,  Iter    22:    Energy =   0.0776
Level     0,  Iter    23:    Energy =   0.0776
Level     0,  Iter    24:    Energy =   0.0777
Level     0,  Iter    25:    Energy =   0.0778
Level     0,  Iter    26:    Energy =   0.0778
Level     0,  Iter    27:    Energy =   0.0779
Level     0,  Iter    28:    Energy =   0.0779
Level     0,  Iter    29:    Energy =   0.0780
Level     0,  Iter    30:    Energy =   0.0780
Level     0,  Iter    31:    Energy =   0.0781
Level     0,  Iter    32:    Energy =   0.0782
Level     0,  Iter    33:    Energy =   0.0782
Level     0,  Iter    34:    Energy =   0.0783
Level     0,  Iter    35:    Energy =   0.0783
Level     0,  Iter    36:    Energy =   0.0784
Level     0,  Iter    37:    Energy =   0.0785
Level     0,  Iter    38:    Energy =   0.0787
Level     0,  Iter    39:    Energy =   0.0788
Level     0,  Iter    40:    Energy =   0.0789
Level     0,  Iter    41:    Energy =   0.0790
Level     0,  Iter    42:    Energy =   0.0791
Level     0,  Iter    43:    Energy =   0.0792
Level     0,  Iter    44:    Energy =   0.0793
Level     0,  Iter    45:    Energy =   0.0794
Level     0,  Iter    46:    Energy =   0.0795
Level     0,  Iter    47:    Energy =   0.0796
Level     0,  Iter    48:    Energy =   0.0797
Level     0,  Iter    49:    Energy =   0.0798
Level     0,  Iter    50:    Energy =   0.0799
Level     0,  Iter    51:    Energy =   0.0800
Level     0,  Iter    52:    Energy =   0.0800
Level     0,  Iter    53:    Energy =   0.0801
Level     0,  Iter    54:    Energy =   0.0802
Level     0,  Iter    55:    Energy =   0.0803
Level     0,  Iter    56:    Energy =   0.0804
Level     0,  Iter    57:    Energy =   0.0804
Level     0,  Iter    58:    Energy =   0.0804
Level     0,  Iter    59:    Energy =   0.0804
END OF LEVEL     0    DetJac Range:   0.1468  to   2.0685 
  Avg. Gradient Time  : 0.0073s  37.65% 
  Avg. Gaussian Time  : 0.0092s  47.33% 
  Avg. Iteration Time : 0.0194s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19102, 1.1952, 1.2014], [0.486232, 0.487938, 0.490469]
Level     1,  Iter     0:    Energy =   0.0552
Level     1,  Iter     1:    Energy =   0.0595
Level     1,  Iter     2:    Energy =   0.0618
Level     1,  Iter     3:    Energy =   0.0641
Level     1,  Iter     4:    Energy =   0.0660
Level     1,  Iter     5:    Energy =   0.0680
Level     1,  Iter     6:    Energy =   0.0696
Level     1,  Iter     7:    Energy =   0.0712
Level     1,  Iter     8:    Energy =   0.0724
Level     1,  Iter     9:    Energy =   0.0737
Level     1,  Iter    10:    Energy =   0.0747
Level     1,  Iter    11:    Energy =   0.0746
Level     1,  Iter    12:    Energy =   0.0757
Level     1,  Iter    13:    Energy =   0.0755
Level     1,  Iter    14:    Energy =   0.0765
Level     1,  Iter    15:    Energy =   0.0763
Level     1,  Iter    16:    Energy =   0.0771
Level     1,  Iter    17:    Energy =   0.0768
Level     1,  Iter    18:    Energy =   0.0774
Level     1,  Iter    19:    Energy =   0.0772
Level     1,  Iter    20:    Energy =   0.0775
Level     1,  Iter    21:    Energy =   0.0771
Level     1,  Iter    22:    Energy =   0.0779
Level     1,  Iter    23:    Energy =   0.0775
Level     1,  Iter    24:    Energy =   0.0783
Level     1,  Iter    25:    Energy =   0.0780
Level     1,  Iter    26:    Energy =   0.0781
Level     1,  Iter    27:    Energy =   0.0778
Level     1,  Iter    28:    Energy =   0.0785
Level     1,  Iter    29:    Energy =   0.0780
Level     1,  Iter    30:    Energy =   0.0787
Level     1,  Iter    31:    Energy =   0.0783
Level     1,  Iter    32:    Energy =   0.0785
Level     1,  Iter    33:    Energy =   0.0781
Level     1,  Iter    34:    Energy =   0.0787
Level     1,  Iter    35:    Energy =   0.0783
Level     1,  Iter    36:    Energy =   0.0787
Level     1,  Iter    37:    Energy =   0.0782
Level     1,  Iter    38:    Energy =   0.0787
Level     1,  Iter    39:    Energy =   0.0784
Level     1,  Iter    40:    Energy =   0.0785
Level     1,  Iter    41:    Energy =   0.0782
Level     1,  Iter    42:    Energy =   0.0786
Level     1,  Iter    43:    Energy =   0.0783
Level     1,  Iter    44:    Energy =   0.0786
Level     1,  Iter    45:    Energy =   0.0782
Level     1,  Iter    46:    Energy =   0.0787
Level     1,  Iter    47:    Energy =   0.0783
Level     1,  Iter    48:    Energy =   0.0787
Level     1,  Iter    49:    Energy =   0.0783
Level     1,  Iter    50:    Energy =   0.0789
Level     1,  Iter    51:    Energy =   0.0784
Level     1,  Iter    52:    Energy =   0.0788
Level     1,  Iter    53:    Energy =   0.0784
Level     1,  Iter    54:    Energy =   0.0789
Level     1,  Iter    55:    Energy =   0.0785
Level     1,  Iter    56:    Energy =   0.0788
Level     1,  Iter    57:    Energy =   0.0783
Level     1,  Iter    58:    Energy =   0.0790
Level     1,  Iter    59:    Energy =   0.0785
END OF LEVEL     1    DetJac Range:   0.1239  to   3.2464 
  Avg. Gradient Time  : 0.0431s  39.73% 
  Avg. Gaussian Time  : 0.0524s  48.31% 
  Avg. Iteration Time : 0.1085s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0402
Level     2,  Iter     1:    Energy =   0.0420
Level     2,  Iter     2:    Energy =   0.0435
Level     2,  Iter     3:    Energy =   0.0450
Level     2,  Iter     4:    Energy =   0.0462
Level     2,  Iter     5:    Energy =   0.0473
Level     2,  Iter     6:    Energy =   0.0484
Level     2,  Iter     7:    Energy =   0.0495
Level     2,  Iter     8:    Energy =   0.0508
Level     2,  Iter     9:    Energy =   0.0519
Level     2,  Iter    10:    Energy =   0.0529
Level     2,  Iter    11:    Energy =   0.0538
Level     2,  Iter    12:    Energy =   0.0547
Level     2,  Iter    13:    Energy =   0.0553
Level     2,  Iter    14:    Energy =   0.0558
Level     2,  Iter    15:    Energy =   0.0562
Level     2,  Iter    16:    Energy =   0.0566
Level     2,  Iter    17:    Energy =   0.0569
Level     2,  Iter    18:    Energy =   0.0571
Level     2,  Iter    19:    Energy =   0.0573
END OF LEVEL     2    DetJac Range:   0.0410  to   4.3945 
  Avg. Gradient Time  : 0.3027s  37.50% 
  Avg. Gaussian Time  : 0.4171s  51.67% 
  Avg. Iteration Time : 0.8072s 

real	0m27.061s
user	0m47.916s
sys	0m2.672s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train014/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train014/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train014/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=40 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=40 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.830769 0.836538
+ echo 'CHUNK 0.830769 0.836538 1'
CHUNK 0.830769 0.836538 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.830769 0.836538 1
====================================
         PROGRESS: 0.830769               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=015
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 015
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train015
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train015
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 015 right 0
+ local tid=015
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 015 0
+ set -e
+ local tid=015
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train015/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2610.36 	 OutFr   0.0000 	 RMSD     2.7828
Iter 002 	 Temp     3.72 	 Delta  2592.31 	 OutFr   0.0000 	 RMSD     2.2984
Iter 003 	 Temp     3.46 	 Delta  2480.13 	 OutFr   0.0000 	 RMSD     2.2822
Iter 004 	 Temp     3.22 	 Delta  2330.95 	 OutFr   0.0000 	 RMSD     2.2602
Iter 005 	 Temp     2.99 	 Delta  2158.66 	 OutFr   0.0000 	 RMSD     2.2339
Iter 006 	 Temp     2.78 	 Delta  1972.89 	 OutFr   0.0000 	 RMSD     2.2076
Iter 007 	 Temp     2.59 	 Delta  1783.74 	 OutFr   0.0000 	 RMSD     2.1830
Iter 008 	 Temp     2.41 	 Delta  1605.94 	 OutFr   0.0000 	 RMSD     2.1617
Iter 009 	 Temp     2.24 	 Delta  1451.29 	 OutFr   0.0026 	 RMSD     2.1445
Iter 010 	 Temp     2.08 	 Delta  1316.80 	 OutFr   0.0026 	 RMSD     2.1305
Iter 011 	 Temp     1.94 	 Delta  1199.67 	 OutFr   0.0052 	 RMSD     2.1208
Iter 012 	 Temp     1.80 	 Delta  1101.47 	 OutFr   0.0078 	 RMSD     2.1152
Iter 013 	 Temp     1.67 	 Delta  1016.44 	 OutFr   0.0078 	 RMSD     2.1124
Iter 014 	 Temp     1.56 	 Delta   935.80 	 OutFr   0.0078 	 RMSD     2.1110
Iter 015 	 Temp     1.45 	 Delta   856.21 	 OutFr   0.0104 	 RMSD     2.1112
Iter 016 	 Temp     1.35 	 Delta   782.19 	 OutFr   0.0130 	 RMSD     2.1125
Iter 017 	 Temp     1.25 	 Delta   721.98 	 OutFr   0.0233 	 RMSD     2.1144
Iter 018 	 Temp     1.16 	 Delta   677.91 	 OutFr   0.0311 	 RMSD     2.1166
Iter 019 	 Temp     1.08 	 Delta   644.64 	 OutFr   0.0440 	 RMSD     2.1185
Iter 020 	 Temp     1.01 	 Delta   615.30 	 OutFr   0.0544 	 RMSD     2.1200
Iter 021 	 Temp     0.94 	 Delta   586.15 	 OutFr   0.0596 	 RMSD     2.1210
Iter 022 	 Temp     0.87 	 Delta   554.49 	 OutFr   0.0648 	 RMSD     2.1220
Iter 023 	 Temp     0.81 	 Delta   519.77 	 OutFr   0.0829 	 RMSD     2.1226
Iter 024 	 Temp     0.75 	 Delta   484.35 	 OutFr   0.1062 	 RMSD     2.1225
Iter 025 	 Temp     0.70 	 Delta   450.87 	 OutFr   0.1218 	 RMSD     2.1222
Iter 026 	 Temp     0.65 	 Delta   420.17 	 OutFr   0.1373 	 RMSD     2.1218
Iter 027 	 Temp     0.61 	 Delta   392.61 	 OutFr   0.1580 	 RMSD     2.1214
Iter 028 	 Temp     0.56 	 Delta   362.35 	 OutFr   0.1788 	 RMSD     2.1211
Iter 029 	 Temp     0.52 	 Delta   329.41 	 OutFr   0.2047 	 RMSD     2.1208
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train015/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.S5mWRPNi/mybin.nii.gz
+ vtklevelset /tmp/ashs.S5mWRPNi/mybin.nii.gz /tmp/ashs.S5mWRPNi/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.S5mWRPNi/mymesh.vtk /tmp/ashs.S5mWRPNi/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2967.71795689 3282.22620171   1.10597646
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.S5mWRPNi/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train015/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 11.0386 to 38.969
   Y : -22.5831 to 22.4619
   Z : -19.4463 to 9.06177
   Image resolution  : 110 by 159 by 111
   Image box origin  : {6.0386, -27.5831, -24.4463}
   Image box size    : {38.1944, 55.2083, 38.8496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-6.0386, 27.5831, -24.4463]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train015/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_fwd.mat -o /tmp/ashs.S5mWRPNi/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train015/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_inv.mat -o /tmp/ashs.S5mWRPNi/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train015/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.S5mWRPNi/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train015/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=41 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=41 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.836538 0.842308
+ echo 'CHUNK 0.836538 0.842308 0.5'
CHUNK 0.836538 0.842308 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.836538 0.842308 0.5
====================================
         PROGRESS: 0.836538               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train015/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.S5mWRPNi/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.S5mWRPNi/fixed_hw.nii.gz /tmp/ashs.S5mWRPNi/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train015/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.693907, moving = 0.72355
LEVEL 1 of 3
  Smoothing sigmas: [2.36267, 2.39059, 2.40319], [0.964555, 0.975954, 0.981099]
Level     0,  Iter     0:    Energy =   0.0554
Level     0,  Iter     1:    Energy =   0.0628
Level     0,  Iter     2:    Energy =   0.0708
Level     0,  Iter     3:    Energy =   0.0759
Level     0,  Iter     4:    Energy =   0.0809
Level     0,  Iter     5:    Energy =   0.0851
Level     0,  Iter     6:    Energy =   0.0874
Level     0,  Iter     7:    Energy =   0.0899
Level     0,  Iter     8:    Energy =   0.0919
Level     0,  Iter     9:    Energy =   0.0933
Level     0,  Iter    10:    Energy =   0.0946
Level     0,  Iter    11:    Energy =   0.0951
Level     0,  Iter    12:    Energy =   0.0953
Level     0,  Iter    13:    Energy =   0.0956
Level     0,  Iter    14:    Energy =   0.0958
Level     0,  Iter    15:    Energy =   0.0961
Level     0,  Iter    16:    Energy =   0.0963
Level     0,  Iter    17:    Energy =   0.0967
Level     0,  Iter    18:    Energy =   0.0968
Level     0,  Iter    19:    Energy =   0.0971
Level     0,  Iter    20:    Energy =   0.0971
Level     0,  Iter    21:    Energy =   0.0974
Level     0,  Iter    22:    Energy =   0.0973
Level     0,  Iter    23:    Energy =   0.0976
Level     0,  Iter    24:    Energy =   0.0974
Level     0,  Iter    25:    Energy =   0.0978
Level     0,  Iter    26:    Energy =   0.0975
Level     0,  Iter    27:    Energy =   0.0979
Level     0,  Iter    28:    Energy =   0.0976
Level     0,  Iter    29:    Energy =   0.0979
Level     0,  Iter    30:    Energy =   0.0977
Level     0,  Iter    31:    Energy =   0.0980
Level     0,  Iter    32:    Energy =   0.0978
Level     0,  Iter    33:    Energy =   0.0981
Level     0,  Iter    34:    Energy =   0.0979
Level     0,  Iter    35:    Energy =   0.0981
Level     0,  Iter    36:    Energy =   0.0979
Level     0,  Iter    37:    Energy =   0.0982
Level     0,  Iter    38:    Energy =   0.0979
Level     0,  Iter    39:    Energy =   0.0982
Level     0,  Iter    40:    Energy =   0.0980
Level     0,  Iter    41:    Energy =   0.0982
Level     0,  Iter    42:    Energy =   0.0980
Level     0,  Iter    43:    Energy =   0.0983
Level     0,  Iter    44:    Energy =   0.0980
Level     0,  Iter    45:    Energy =   0.0983
Level     0,  Iter    46:    Energy =   0.0980
Level     0,  Iter    47:    Energy =   0.0983
Level     0,  Iter    48:    Energy =   0.0980
Level     0,  Iter    49:    Energy =   0.0983
Level     0,  Iter    50:    Energy =   0.0980
Level     0,  Iter    51:    Energy =   0.0983
Level     0,  Iter    52:    Energy =   0.0980
Level     0,  Iter    53:    Energy =   0.0983
Level     0,  Iter    54:    Energy =   0.0980
Level     0,  Iter    55:    Energy =   0.0983
Level     0,  Iter    56:    Energy =   0.0980
Level     0,  Iter    57:    Energy =   0.0983
Level     0,  Iter    58:    Energy =   0.0980
Level     0,  Iter    59:    Energy =   0.0983
END OF LEVEL     0    DetJac Range:   0.2410  to   1.8308 
  Avg. Gradient Time  : 0.0068s  37.11% 
  Avg. Gaussian Time  : 0.0089s  48.35% 
  Avg. Iteration Time : 0.0184s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19529, 1.2016], [0.491046, 0.487977, 0.49055]
Level     1,  Iter     0:    Energy =   0.0707
Level     1,  Iter     1:    Energy =   0.0744
Level     1,  Iter     2:    Energy =   0.0771
Level     1,  Iter     3:    Energy =   0.0795
Level     1,  Iter     4:    Energy =   0.0819
Level     1,  Iter     5:    Energy =   0.0844
Level     1,  Iter     6:    Energy =   0.0848
Level     1,  Iter     7:    Energy =   0.0859
Level     1,  Iter     8:    Energy =   0.0860
Level     1,  Iter     9:    Energy =   0.0869
Level     1,  Iter    10:    Energy =   0.0869
Level     1,  Iter    11:    Energy =   0.0876
Level     1,  Iter    12:    Energy =   0.0876
Level     1,  Iter    13:    Energy =   0.0882
Level     1,  Iter    14:    Energy =   0.0881
Level     1,  Iter    15:    Energy =   0.0887
Level     1,  Iter    16:    Energy =   0.0886
Level     1,  Iter    17:    Energy =   0.0891
Level     1,  Iter    18:    Energy =   0.0890
Level     1,  Iter    19:    Energy =   0.0894
Level     1,  Iter    20:    Energy =   0.0893
Level     1,  Iter    21:    Energy =   0.0895
Level     1,  Iter    22:    Energy =   0.0894
Level     1,  Iter    23:    Energy =   0.0896
Level     1,  Iter    24:    Energy =   0.0895
Level     1,  Iter    25:    Energy =   0.0896
Level     1,  Iter    26:    Energy =   0.0895
Level     1,  Iter    27:    Energy =   0.0896
Level     1,  Iter    28:    Energy =   0.0896
Level     1,  Iter    29:    Energy =   0.0897
Level     1,  Iter    30:    Energy =   0.0897
Level     1,  Iter    31:    Energy =   0.0898
Level     1,  Iter    32:    Energy =   0.0897
Level     1,  Iter    33:    Energy =   0.0898
Level     1,  Iter    34:    Energy =   0.0898
Level     1,  Iter    35:    Energy =   0.0899
Level     1,  Iter    36:    Energy =   0.0899
Level     1,  Iter    37:    Energy =   0.0899
Level     1,  Iter    38:    Energy =   0.0899
Level     1,  Iter    39:    Energy =   0.0900
Level     1,  Iter    40:    Energy =   0.0900
Level     1,  Iter    41:    Energy =   0.0900
Level     1,  Iter    42:    Energy =   0.0901
Level     1,  Iter    43:    Energy =   0.0901
Level     1,  Iter    44:    Energy =   0.0902
Level     1,  Iter    45:    Energy =   0.0902
Level     1,  Iter    46:    Energy =   0.0902
Level     1,  Iter    47:    Energy =   0.0902
Level     1,  Iter    48:    Energy =   0.0904
Level     1,  Iter    49:    Energy =   0.0903
Level     1,  Iter    50:    Energy =   0.0905
Level     1,  Iter    51:    Energy =   0.0904
Level     1,  Iter    52:    Energy =   0.0905
Level     1,  Iter    53:    Energy =   0.0905
Level     1,  Iter    54:    Energy =   0.0906
Level     1,  Iter    55:    Energy =   0.0906
Level     1,  Iter    56:    Energy =   0.0907
Level     1,  Iter    57:    Energy =   0.0906
Level     1,  Iter    58:    Energy =   0.0908
Level     1,  Iter    59:    Energy =   0.0907
END OF LEVEL     1    DetJac Range:   0.2260  to   2.5111 
  Avg. Gradient Time  : 0.0421s  40.38% 
  Avg. Gaussian Time  : 0.0499s  47.86% 
  Avg. Iteration Time : 0.1042s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0508
Level     2,  Iter     1:    Energy =   0.0530
Level     2,  Iter     2:    Energy =   0.0550
Level     2,  Iter     3:    Energy =   0.0568
Level     2,  Iter     4:    Energy =   0.0585
Level     2,  Iter     5:    Energy =   0.0601
Level     2,  Iter     6:    Energy =   0.0615
Level     2,  Iter     7:    Energy =   0.0623
Level     2,  Iter     8:    Energy =   0.0631
Level     2,  Iter     9:    Energy =   0.0639
Level     2,  Iter    10:    Energy =   0.0645
Level     2,  Iter    11:    Energy =   0.0651
Level     2,  Iter    12:    Energy =   0.0655
Level     2,  Iter    13:    Energy =   0.0660
Level     2,  Iter    14:    Energy =   0.0664
Level     2,  Iter    15:    Energy =   0.0667
Level     2,  Iter    16:    Energy =   0.0671
Level     2,  Iter    17:    Energy =   0.0674
Level     2,  Iter    18:    Energy =   0.0676
Level     2,  Iter    19:    Energy =   0.0679
END OF LEVEL     2    DetJac Range:   0.0679  to   4.4043 
  Avg. Gradient Time  : 0.3022s  37.11% 
  Avg. Gaussian Time  : 0.4271s  52.44% 
  Avg. Iteration Time : 0.8143s 

real	0m26.805s
user	0m47.412s
sys	0m2.768s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train015/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train015/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train015/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=41 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=41 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.836538 0.842308
+ echo 'CHUNK 0.836538 0.842308 1'
CHUNK 0.836538 0.842308 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.836538 0.842308 1
====================================
         PROGRESS: 0.836538               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=016
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 016
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train016
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train016
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 016 right 0
+ local tid=016
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 016 0
+ set -e
+ local tid=016
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train016/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1744.34 	 OutFr   0.0000 	 RMSD     3.8354
Iter 002 	 Temp     3.72 	 Delta  1578.55 	 OutFr   0.0000 	 RMSD     2.2346
Iter 003 	 Temp     3.46 	 Delta  1507.86 	 OutFr   0.0000 	 RMSD     2.2053
Iter 004 	 Temp     3.22 	 Delta  1450.27 	 OutFr   0.0000 	 RMSD     2.1853
Iter 005 	 Temp     2.99 	 Delta  1399.41 	 OutFr   0.0000 	 RMSD     2.1707
Iter 006 	 Temp     2.78 	 Delta  1354.86 	 OutFr   0.0000 	 RMSD     2.1599
Iter 007 	 Temp     2.59 	 Delta  1315.44 	 OutFr   0.0000 	 RMSD     2.1516
Iter 008 	 Temp     2.41 	 Delta  1279.46 	 OutFr   0.0000 	 RMSD     2.1450
Iter 009 	 Temp     2.24 	 Delta  1244.54 	 OutFr   0.0000 	 RMSD     2.1404
Iter 010 	 Temp     2.08 	 Delta  1207.72 	 OutFr   0.0000 	 RMSD     2.1370
Iter 011 	 Temp     1.94 	 Delta  1166.66 	 OutFr   0.0000 	 RMSD     2.1346
Iter 012 	 Temp     1.80 	 Delta  1121.46 	 OutFr   0.0026 	 RMSD     2.1328
Iter 013 	 Temp     1.67 	 Delta  1074.18 	 OutFr   0.0052 	 RMSD     2.1318
Iter 014 	 Temp     1.56 	 Delta  1025.20 	 OutFr   0.0052 	 RMSD     2.1311
Iter 015 	 Temp     1.45 	 Delta   976.44 	 OutFr   0.0052 	 RMSD     2.1309
Iter 016 	 Temp     1.35 	 Delta   932.45 	 OutFr   0.0104 	 RMSD     2.1309
Iter 017 	 Temp     1.25 	 Delta   894.88 	 OutFr   0.0181 	 RMSD     2.1308
Iter 018 	 Temp     1.16 	 Delta   860.84 	 OutFr   0.0285 	 RMSD     2.1304
Iter 019 	 Temp     1.08 	 Delta   825.56 	 OutFr   0.0389 	 RMSD     2.1293
Iter 020 	 Temp     1.01 	 Delta   785.25 	 OutFr   0.0466 	 RMSD     2.1274
Iter 021 	 Temp     0.94 	 Delta   738.81 	 OutFr   0.0544 	 RMSD     2.1245
Iter 022 	 Temp     0.87 	 Delta   687.28 	 OutFr   0.0596 	 RMSD     2.1206
Iter 023 	 Temp     0.81 	 Delta   636.30 	 OutFr   0.0725 	 RMSD     2.1156
Iter 024 	 Temp     0.75 	 Delta   589.89 	 OutFr   0.0959 	 RMSD     2.1101
Iter 025 	 Temp     0.70 	 Delta   539.79 	 OutFr   0.1244 	 RMSD     2.1042
Iter 026 	 Temp     0.65 	 Delta   485.25 	 OutFr   0.1425 	 RMSD     2.0990
Iter 027 	 Temp     0.61 	 Delta   437.93 	 OutFr   0.1891 	 RMSD     2.0948
Iter 028 	 Temp     0.56 	 Delta   396.22 	 OutFr   0.2124 	 RMSD     2.0924
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train016/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.Aj1kRGaH/mybin.nii.gz
+ vtklevelset /tmp/ashs.Aj1kRGaH/mybin.nii.gz /tmp/ashs.Aj1kRGaH/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.Aj1kRGaH/mymesh.vtk /tmp/ashs.Aj1kRGaH/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2967.71795689 2951.70438902   0.99460408
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.Aj1kRGaH/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train016/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 9.72844 to 34.6854
   Y : -14.2892 to 28.8377
   Z : -33.1953 to -2.46076
   Image resolution  : 101 by 154 by 117
   Image box origin  : {4.72844, -19.2892, -38.1953}
   Image box size    : {35.0694, 53.4722, 40.9495}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-4.72844, 19.2892, -38.1953]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train016/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_fwd.mat -o /tmp/ashs.Aj1kRGaH/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train016/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_inv.mat -o /tmp/ashs.Aj1kRGaH/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train016/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.Aj1kRGaH/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train016/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=42 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=42 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.842308 0.848077
+ echo 'CHUNK 0.842308 0.848077 0.5'
CHUNK 0.842308 0.848077 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.842308 0.848077 0.5
====================================
         PROGRESS: 0.842308               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train016/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.Aj1kRGaH/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.Aj1kRGaH/fixed_hw.nii.gz /tmp/ashs.Aj1kRGaH/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train016/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.754143, moving = 0.646341
LEVEL 1 of 3
  Smoothing sigmas: [2.33623, 2.37478, 2.36422], [0.953763, 0.969501, 0.96519]
Level     0,  Iter     0:    Energy =   0.0589
Level     0,  Iter     1:    Energy =   0.0662
Level     0,  Iter     2:    Energy =   0.0717
Level     0,  Iter     3:    Energy =   0.0759
Level     0,  Iter     4:    Energy =   0.0797
Level     0,  Iter     5:    Energy =   0.0831
Level     0,  Iter     6:    Energy =   0.0855
Level     0,  Iter     7:    Energy =   0.0869
Level     0,  Iter     8:    Energy =   0.0878
Level     0,  Iter     9:    Energy =   0.0887
Level     0,  Iter    10:    Energy =   0.0893
Level     0,  Iter    11:    Energy =   0.0900
Level     0,  Iter    12:    Energy =   0.0903
Level     0,  Iter    13:    Energy =   0.0909
Level     0,  Iter    14:    Energy =   0.0911
Level     0,  Iter    15:    Energy =   0.0916
Level     0,  Iter    16:    Energy =   0.0916
Level     0,  Iter    17:    Energy =   0.0921
Level     0,  Iter    18:    Energy =   0.0920
Level     0,  Iter    19:    Energy =   0.0925
Level     0,  Iter    20:    Energy =   0.0923
Level     0,  Iter    21:    Energy =   0.0927
Level     0,  Iter    22:    Energy =   0.0926
Level     0,  Iter    23:    Energy =   0.0931
Level     0,  Iter    24:    Energy =   0.0929
Level     0,  Iter    25:    Energy =   0.0933
Level     0,  Iter    26:    Energy =   0.0933
Level     0,  Iter    27:    Energy =   0.0939
Level     0,  Iter    28:    Energy =   0.0938
Level     0,  Iter    29:    Energy =   0.0943
Level     0,  Iter    30:    Energy =   0.0944
Level     0,  Iter    31:    Energy =   0.0950
Level     0,  Iter    32:    Energy =   0.0949
Level     0,  Iter    33:    Energy =   0.0950
Level     0,  Iter    34:    Energy =   0.0951
Level     0,  Iter    35:    Energy =   0.0955
Level     0,  Iter    36:    Energy =   0.0955
Level     0,  Iter    37:    Energy =   0.0956
Level     0,  Iter    38:    Energy =   0.0956
Level     0,  Iter    39:    Energy =   0.0957
Level     0,  Iter    40:    Energy =   0.0956
Level     0,  Iter    41:    Energy =   0.0956
Level     0,  Iter    42:    Energy =   0.0957
Level     0,  Iter    43:    Energy =   0.0959
Level     0,  Iter    44:    Energy =   0.0957
Level     0,  Iter    45:    Energy =   0.0957
Level     0,  Iter    46:    Energy =   0.0957
Level     0,  Iter    47:    Energy =   0.0959
Level     0,  Iter    48:    Energy =   0.0957
Level     0,  Iter    49:    Energy =   0.0958
Level     0,  Iter    50:    Energy =   0.0957
Level     0,  Iter    51:    Energy =   0.0958
Level     0,  Iter    52:    Energy =   0.0958
Level     0,  Iter    53:    Energy =   0.0960
Level     0,  Iter    54:    Energy =   0.0960
Level     0,  Iter    55:    Energy =   0.0960
Level     0,  Iter    56:    Energy =   0.0961
Level     0,  Iter    57:    Energy =   0.0962
Level     0,  Iter    58:    Energy =   0.0961
Level     0,  Iter    59:    Energy =   0.0962
END OF LEVEL     0    DetJac Range:   0.2066  to   1.8382 
  Avg. Gradient Time  : 0.0078s  37.43% 
  Avg. Gaussian Time  : 0.0098s  47.17% 
  Avg. Iteration Time : 0.0208s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19102, 1.20281, 1.20215], [0.486232, 0.491046, 0.490774]
Level     1,  Iter     0:    Energy =   0.0687
Level     1,  Iter     1:    Energy =   0.0733
Level     1,  Iter     2:    Energy =   0.0770
Level     1,  Iter     3:    Energy =   0.0794
Level     1,  Iter     4:    Energy =   0.0808
Level     1,  Iter     5:    Energy =   0.0817
Level     1,  Iter     6:    Energy =   0.0825
Level     1,  Iter     7:    Energy =   0.0831
Level     1,  Iter     8:    Energy =   0.0836
Level     1,  Iter     9:    Energy =   0.0842
Level     1,  Iter    10:    Energy =   0.0847
Level     1,  Iter    11:    Energy =   0.0853
Level     1,  Iter    12:    Energy =   0.0859
Level     1,  Iter    13:    Energy =   0.0863
Level     1,  Iter    14:    Energy =   0.0865
Level     1,  Iter    15:    Energy =   0.0866
Level     1,  Iter    16:    Energy =   0.0868
Level     1,  Iter    17:    Energy =   0.0869
Level     1,  Iter    18:    Energy =   0.0871
Level     1,  Iter    19:    Energy =   0.0872
Level     1,  Iter    20:    Energy =   0.0874
Level     1,  Iter    21:    Energy =   0.0874
Level     1,  Iter    22:    Energy =   0.0876
Level     1,  Iter    23:    Energy =   0.0876
Level     1,  Iter    24:    Energy =   0.0878
Level     1,  Iter    25:    Energy =   0.0878
Level     1,  Iter    26:    Energy =   0.0879
Level     1,  Iter    27:    Energy =   0.0880
Level     1,  Iter    28:    Energy =   0.0881
Level     1,  Iter    29:    Energy =   0.0882
Level     1,  Iter    30:    Energy =   0.0882
Level     1,  Iter    31:    Energy =   0.0883
Level     1,  Iter    32:    Energy =   0.0884
Level     1,  Iter    33:    Energy =   0.0884
Level     1,  Iter    34:    Energy =   0.0885
Level     1,  Iter    35:    Energy =   0.0885
Level     1,  Iter    36:    Energy =   0.0885
Level     1,  Iter    37:    Energy =   0.0886
Level     1,  Iter    38:    Energy =   0.0886
Level     1,  Iter    39:    Energy =   0.0886
Level     1,  Iter    40:    Energy =   0.0887
Level     1,  Iter    41:    Energy =   0.0887
Level     1,  Iter    42:    Energy =   0.0887
Level     1,  Iter    43:    Energy =   0.0887
Level     1,  Iter    44:    Energy =   0.0887
Level     1,  Iter    45:    Energy =   0.0887
Level     1,  Iter    46:    Energy =   0.0888
Level     1,  Iter    47:    Energy =   0.0887
Level     1,  Iter    48:    Energy =   0.0888
Level     1,  Iter    49:    Energy =   0.0888
Level     1,  Iter    50:    Energy =   0.0888
Level     1,  Iter    51:    Energy =   0.0888
Level     1,  Iter    52:    Energy =   0.0888
Level     1,  Iter    53:    Energy =   0.0888
Level     1,  Iter    54:    Energy =   0.0889
Level     1,  Iter    55:    Energy =   0.0889
Level     1,  Iter    56:    Energy =   0.0889
Level     1,  Iter    57:    Energy =   0.0889
Level     1,  Iter    58:    Energy =   0.0889
Level     1,  Iter    59:    Energy =   0.0889
END OF LEVEL     1    DetJac Range:   0.1013  to   2.9696 
  Avg. Gradient Time  : 0.0449s  39.61% 
  Avg. Gaussian Time  : 0.0551s  48.58% 
  Avg. Iteration Time : 0.1135s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0480
Level     2,  Iter     1:    Energy =   0.0502
Level     2,  Iter     2:    Energy =   0.0521
Level     2,  Iter     3:    Energy =   0.0540
Level     2,  Iter     4:    Energy =   0.0557
Level     2,  Iter     5:    Energy =   0.0568
Level     2,  Iter     6:    Energy =   0.0578
Level     2,  Iter     7:    Energy =   0.0588
Level     2,  Iter     8:    Energy =   0.0599
Level     2,  Iter     9:    Energy =   0.0613
Level     2,  Iter    10:    Energy =   0.0625
Level     2,  Iter    11:    Energy =   0.0635
Level     2,  Iter    12:    Energy =   0.0642
Level     2,  Iter    13:    Energy =   0.0647
Level     2,  Iter    14:    Energy =   0.0652
Level     2,  Iter    15:    Energy =   0.0655
Level     2,  Iter    16:    Energy =   0.0658
Level     2,  Iter    17:    Energy =   0.0661
Level     2,  Iter    18:    Energy =   0.0661
Level     2,  Iter    19:    Energy =   0.0665
END OF LEVEL     2    DetJac Range:   0.0532  to   4.7638 
  Avg. Gradient Time  : 0.3197s  37.65% 
  Avg. Gaussian Time  : 0.4394s  51.74% 
  Avg. Iteration Time : 0.8492s 

real	0m28.416s
user	0m50.392s
sys	0m2.792s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train016/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train016/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train016/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=42 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=42 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.842308 0.848077
+ echo 'CHUNK 0.842308 0.848077 1'
CHUNK 0.842308 0.848077 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.842308 0.848077 1
====================================
         PROGRESS: 0.842308               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=017
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 017
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train017
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train017
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 017 right 0
+ local tid=017
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 017 0
+ set -e
+ local tid=017
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train017/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2234.03 	 OutFr   0.0233 	 RMSD     2.1056
Iter 002 	 Temp     3.72 	 Delta  2035.56 	 OutFr   0.0233 	 RMSD     2.0316
Iter 003 	 Temp     3.46 	 Delta  1840.20 	 OutFr   0.0233 	 RMSD     2.0201
Iter 004 	 Temp     3.22 	 Delta  1672.44 	 OutFr   0.0233 	 RMSD     2.0029
Iter 005 	 Temp     2.99 	 Delta  1518.93 	 OutFr   0.0233 	 RMSD     1.9870
Iter 006 	 Temp     2.78 	 Delta  1371.41 	 OutFr   0.0233 	 RMSD     1.9727
Iter 007 	 Temp     2.59 	 Delta  1238.34 	 OutFr   0.0259 	 RMSD     1.9610
Iter 008 	 Temp     2.41 	 Delta  1129.99 	 OutFr   0.0285 	 RMSD     1.9507
Iter 009 	 Temp     2.24 	 Delta  1044.39 	 OutFr   0.0285 	 RMSD     1.9421
Iter 010 	 Temp     2.08 	 Delta   970.92 	 OutFr   0.0311 	 RMSD     1.9343
Iter 011 	 Temp     1.94 	 Delta   903.27 	 OutFr   0.0337 	 RMSD     1.9279
Iter 012 	 Temp     1.80 	 Delta   841.92 	 OutFr   0.0337 	 RMSD     1.9230
Iter 013 	 Temp     1.67 	 Delta   787.71 	 OutFr   0.0363 	 RMSD     1.9195
Iter 014 	 Temp     1.56 	 Delta   740.11 	 OutFr   0.0363 	 RMSD     1.9171
Iter 015 	 Temp     1.45 	 Delta   697.59 	 OutFr   0.0363 	 RMSD     1.9155
Iter 016 	 Temp     1.35 	 Delta   657.90 	 OutFr   0.0363 	 RMSD     1.9147
Iter 017 	 Temp     1.25 	 Delta   618.98 	 OutFr   0.0389 	 RMSD     1.9141
Iter 018 	 Temp     1.16 	 Delta   580.57 	 OutFr   0.0389 	 RMSD     1.9130
Iter 019 	 Temp     1.08 	 Delta   545.50 	 OutFr   0.0415 	 RMSD     1.9119
Iter 020 	 Temp     1.01 	 Delta   516.35 	 OutFr   0.0518 	 RMSD     1.9108
Iter 021 	 Temp     0.94 	 Delta   491.20 	 OutFr   0.0622 	 RMSD     1.9095
Iter 022 	 Temp     0.87 	 Delta   466.82 	 OutFr   0.0648 	 RMSD     1.9084
Iter 023 	 Temp     0.81 	 Delta   441.46 	 OutFr   0.0674 	 RMSD     1.9071
Iter 024 	 Temp     0.75 	 Delta   416.00 	 OutFr   0.0777 	 RMSD     1.9053
Iter 025 	 Temp     0.70 	 Delta   394.71 	 OutFr   0.0933 	 RMSD     1.9042
Iter 026 	 Temp     0.65 	 Delta   377.44 	 OutFr   0.0959 	 RMSD     1.9043
Iter 027 	 Temp     0.61 	 Delta   360.99 	 OutFr   0.1114 	 RMSD     1.9052
Iter 028 	 Temp     0.56 	 Delta   342.45 	 OutFr   0.1244 	 RMSD     1.9061
Iter 029 	 Temp     0.52 	 Delta   318.54 	 OutFr   0.1451 	 RMSD     1.9064
Iter 030 	 Temp     0.49 	 Delta   289.83 	 OutFr   0.1606 	 RMSD     1.9065
Iter 031 	 Temp     0.45 	 Delta   260.39 	 OutFr   0.1891 	 RMSD     1.9068
Iter 032 	 Temp     0.42 	 Delta   233.27 	 OutFr   0.2280 	 RMSD     1.9077
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train017/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.VIJXgf3Z/mybin.nii.gz
+ vtklevelset /tmp/ashs.VIJXgf3Z/mybin.nii.gz /tmp/ashs.VIJXgf3Z/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.VIJXgf3Z/mymesh.vtk /tmp/ashs.VIJXgf3Z/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2967.71795689 3044.72229066   1.02594732
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.VIJXgf3Z/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train017/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 8.77184 to 34.5759
   Y : -20.9485 to 25.6765
   Z : -18.3103 to 7.37603
   Image resolution  : 104 by 164 by 102
   Image box origin  : {3.77184, -25.9485, -23.3103}
   Image box size    : {36.1111, 56.9444, 35.6996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-3.77184, 25.9485, -23.3103]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train017/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_fwd.mat -o /tmp/ashs.VIJXgf3Z/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train017/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_inv.mat -o /tmp/ashs.VIJXgf3Z/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train017/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.VIJXgf3Z/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train017/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=43 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=43 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.848077 0.853846
+ echo 'CHUNK 0.848077 0.853846 0.5'
CHUNK 0.848077 0.853846 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.848077 0.853846 0.5
====================================
         PROGRESS: 0.848077               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train017/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.VIJXgf3Z/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.VIJXgf3Z/fixed_hw.nii.gz /tmp/ashs.VIJXgf3Z/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train017/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.715227, moving = 0.395504
LEVEL 1 of 3
  Smoothing sigmas: [2.40562, 2.40562, 2.37821], [0.982092, 0.982092, 0.970901]
Level     0,  Iter     0:    Energy =   0.0447
Level     0,  Iter     1:    Energy =   0.0507
Level     0,  Iter     2:    Energy =   0.0575
Level     0,  Iter     3:    Energy =   0.0633
Level     0,  Iter     4:    Energy =   0.0684
Level     0,  Iter     5:    Energy =   0.0725
Level     0,  Iter     6:    Energy =   0.0762
Level     0,  Iter     7:    Energy =   0.0790
Level     0,  Iter     8:    Energy =   0.0819
Level     0,  Iter     9:    Energy =   0.0841
Level     0,  Iter    10:    Energy =   0.0854
Level     0,  Iter    11:    Energy =   0.0863
Level     0,  Iter    12:    Energy =   0.0867
Level     0,  Iter    13:    Energy =   0.0877
Level     0,  Iter    14:    Energy =   0.0884
Level     0,  Iter    15:    Energy =   0.0887
Level     0,  Iter    16:    Energy =   0.0888
Level     0,  Iter    17:    Energy =   0.0892
Level     0,  Iter    18:    Energy =   0.0893
Level     0,  Iter    19:    Energy =   0.0896
Level     0,  Iter    20:    Energy =   0.0897
Level     0,  Iter    21:    Energy =   0.0900
Level     0,  Iter    22:    Energy =   0.0901
Level     0,  Iter    23:    Energy =   0.0903
Level     0,  Iter    24:    Energy =   0.0904
Level     0,  Iter    25:    Energy =   0.0906
Level     0,  Iter    26:    Energy =   0.0907
Level     0,  Iter    27:    Energy =   0.0908
Level     0,  Iter    28:    Energy =   0.0909
Level     0,  Iter    29:    Energy =   0.0909
Level     0,  Iter    30:    Energy =   0.0911
Level     0,  Iter    31:    Energy =   0.0910
Level     0,  Iter    32:    Energy =   0.0912
Level     0,  Iter    33:    Energy =   0.0911
Level     0,  Iter    34:    Energy =   0.0913
Level     0,  Iter    35:    Energy =   0.0914
Level     0,  Iter    36:    Energy =   0.0914
Level     0,  Iter    37:    Energy =   0.0913
Level     0,  Iter    38:    Energy =   0.0915
Level     0,  Iter    39:    Energy =   0.0917
Level     0,  Iter    40:    Energy =   0.0917
Level     0,  Iter    41:    Energy =   0.0916
Level     0,  Iter    42:    Energy =   0.0917
Level     0,  Iter    43:    Energy =   0.0919
Level     0,  Iter    44:    Energy =   0.0919
Level     0,  Iter    45:    Energy =   0.0918
Level     0,  Iter    46:    Energy =   0.0919
Level     0,  Iter    47:    Energy =   0.0920
Level     0,  Iter    48:    Energy =   0.0921
Level     0,  Iter    49:    Energy =   0.0920
Level     0,  Iter    50:    Energy =   0.0920
Level     0,  Iter    51:    Energy =   0.0922
Level     0,  Iter    52:    Energy =   0.0922
Level     0,  Iter    53:    Energy =   0.0921
Level     0,  Iter    54:    Energy =   0.0922
Level     0,  Iter    55:    Energy =   0.0923
Level     0,  Iter    56:    Energy =   0.0923
Level     0,  Iter    57:    Energy =   0.0922
Level     0,  Iter    58:    Energy =   0.0923
Level     0,  Iter    59:    Energy =   0.0924
END OF LEVEL     0    DetJac Range:   0.2337  to   2.4129 
  Avg. Gradient Time  : 0.0064s  37.65% 
  Avg. Gaussian Time  : 0.0080s  47.19% 
  Avg. Iteration Time : 0.0169s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.21242], [0.491046, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0636
Level     1,  Iter     1:    Energy =   0.0676
Level     1,  Iter     2:    Energy =   0.0713
Level     1,  Iter     3:    Energy =   0.0742
Level     1,  Iter     4:    Energy =   0.0766
Level     1,  Iter     5:    Energy =   0.0786
Level     1,  Iter     6:    Energy =   0.0800
Level     1,  Iter     7:    Energy =   0.0811
Level     1,  Iter     8:    Energy =   0.0821
Level     1,  Iter     9:    Energy =   0.0830
Level     1,  Iter    10:    Energy =   0.0838
Level     1,  Iter    11:    Energy =   0.0845
Level     1,  Iter    12:    Energy =   0.0850
Level     1,  Iter    13:    Energy =   0.0856
Level     1,  Iter    14:    Energy =   0.0861
Level     1,  Iter    15:    Energy =   0.0867
Level     1,  Iter    16:    Energy =   0.0871
Level     1,  Iter    17:    Energy =   0.0876
Level     1,  Iter    18:    Energy =   0.0879
Level     1,  Iter    19:    Energy =   0.0877
Level     1,  Iter    20:    Energy =   0.0881
Level     1,  Iter    21:    Energy =   0.0879
Level     1,  Iter    22:    Energy =   0.0882
Level     1,  Iter    23:    Energy =   0.0879
Level     1,  Iter    24:    Energy =   0.0883
Level     1,  Iter    25:    Energy =   0.0883
Level     1,  Iter    26:    Energy =   0.0885
Level     1,  Iter    27:    Energy =   0.0882
Level     1,  Iter    28:    Energy =   0.0886
Level     1,  Iter    29:    Energy =   0.0886
Level     1,  Iter    30:    Energy =   0.0887
Level     1,  Iter    31:    Energy =   0.0885
Level     1,  Iter    32:    Energy =   0.0888
Level     1,  Iter    33:    Energy =   0.0888
Level     1,  Iter    34:    Energy =   0.0889
Level     1,  Iter    35:    Energy =   0.0887
Level     1,  Iter    36:    Energy =   0.0890
Level     1,  Iter    37:    Energy =   0.0890
Level     1,  Iter    38:    Energy =   0.0891
Level     1,  Iter    39:    Energy =   0.0889
Level     1,  Iter    40:    Energy =   0.0892
Level     1,  Iter    41:    Energy =   0.0891
Level     1,  Iter    42:    Energy =   0.0892
Level     1,  Iter    43:    Energy =   0.0890
Level     1,  Iter    44:    Energy =   0.0893
Level     1,  Iter    45:    Energy =   0.0892
Level     1,  Iter    46:    Energy =   0.0893
Level     1,  Iter    47:    Energy =   0.0891
Level     1,  Iter    48:    Energy =   0.0893
Level     1,  Iter    49:    Energy =   0.0892
Level     1,  Iter    50:    Energy =   0.0893
Level     1,  Iter    51:    Energy =   0.0891
Level     1,  Iter    52:    Energy =   0.0893
Level     1,  Iter    53:    Energy =   0.0892
Level     1,  Iter    54:    Energy =   0.0894
Level     1,  Iter    55:    Energy =   0.0891
Level     1,  Iter    56:    Energy =   0.0894
Level     1,  Iter    57:    Energy =   0.0893
Level     1,  Iter    58:    Energy =   0.0894
Level     1,  Iter    59:    Energy =   0.0891
END OF LEVEL     1    DetJac Range:   0.0882  to   3.1606 
  Avg. Gradient Time  : 0.0378s  40.44% 
  Avg. Gaussian Time  : 0.0448s  47.83% 
  Avg. Iteration Time : 0.0936s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0443
Level     2,  Iter     1:    Energy =   0.0461
Level     2,  Iter     2:    Energy =   0.0477
Level     2,  Iter     3:    Energy =   0.0492
Level     2,  Iter     4:    Energy =   0.0508
Level     2,  Iter     5:    Energy =   0.0521
Level     2,  Iter     6:    Energy =   0.0535
Level     2,  Iter     7:    Energy =   0.0548
Level     2,  Iter     8:    Energy =   0.0557
Level     2,  Iter     9:    Energy =   0.0566
Level     2,  Iter    10:    Energy =   0.0574
Level     2,  Iter    11:    Energy =   0.0580
Level     2,  Iter    12:    Energy =   0.0586
Level     2,  Iter    13:    Energy =   0.0593
Level     2,  Iter    14:    Energy =   0.0598
Level     2,  Iter    15:    Energy =   0.0603
Level     2,  Iter    16:    Energy =   0.0606
Level     2,  Iter    17:    Energy =   0.0611
Level     2,  Iter    18:    Energy =   0.0615
Level     2,  Iter    19:    Energy =   0.0619
END OF LEVEL     2    DetJac Range:   0.0568  to   4.8249 
  Avg. Gradient Time  : 0.2760s  38.11% 
  Avg. Gaussian Time  : 0.3726s  51.44% 
  Avg. Iteration Time : 0.7243s 

real	0m23.957s
user	0m42.064s
sys	0m2.428s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train017/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train017/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train017/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=43 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=43 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.848077 0.853846
+ echo 'CHUNK 0.848077 0.853846 1'
CHUNK 0.848077 0.853846 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.848077 0.853846 1
====================================
         PROGRESS: 0.848077               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=018
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 018
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train018
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train018
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 018 right 0
+ local tid=018
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 018 0
+ set -e
+ local tid=018
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train018/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1891.66 	 OutFr   0.0000 	 RMSD     2.2186
Iter 002 	 Temp     3.72 	 Delta  1788.30 	 OutFr   0.0000 	 RMSD     2.1045
Iter 003 	 Temp     3.46 	 Delta  1697.34 	 OutFr   0.0000 	 RMSD     2.1230
Iter 004 	 Temp     3.22 	 Delta  1609.35 	 OutFr   0.0000 	 RMSD     2.1094
Iter 005 	 Temp     2.99 	 Delta  1522.48 	 OutFr   0.0000 	 RMSD     2.0906
Iter 006 	 Temp     2.78 	 Delta  1436.73 	 OutFr   0.0000 	 RMSD     2.0723
Iter 007 	 Temp     2.59 	 Delta  1352.86 	 OutFr   0.0000 	 RMSD     2.0557
Iter 008 	 Temp     2.41 	 Delta  1271.95 	 OutFr   0.0000 	 RMSD     2.0402
Iter 009 	 Temp     2.24 	 Delta  1194.71 	 OutFr   0.0000 	 RMSD     2.0259
Iter 010 	 Temp     2.08 	 Delta  1120.85 	 OutFr   0.0000 	 RMSD     2.0137
Iter 011 	 Temp     1.94 	 Delta  1049.80 	 OutFr   0.0000 	 RMSD     2.0031
Iter 012 	 Temp     1.80 	 Delta   981.99 	 OutFr   0.0000 	 RMSD     1.9923
Iter 013 	 Temp     1.67 	 Delta   918.39 	 OutFr   0.0000 	 RMSD     1.9827
Iter 014 	 Temp     1.56 	 Delta   859.76 	 OutFr   0.0000 	 RMSD     1.9745
Iter 015 	 Temp     1.45 	 Delta   806.75 	 OutFr   0.0026 	 RMSD     1.9671
Iter 016 	 Temp     1.35 	 Delta   760.42 	 OutFr   0.0026 	 RMSD     1.9610
Iter 017 	 Temp     1.25 	 Delta   719.89 	 OutFr   0.0078 	 RMSD     1.9559
Iter 018 	 Temp     1.16 	 Delta   681.50 	 OutFr   0.0078 	 RMSD     1.9517
Iter 019 	 Temp     1.08 	 Delta   642.20 	 OutFr   0.0104 	 RMSD     1.9479
Iter 020 	 Temp     1.01 	 Delta   600.18 	 OutFr   0.0155 	 RMSD     1.9440
Iter 021 	 Temp     0.94 	 Delta   555.80 	 OutFr   0.0337 	 RMSD     1.9400
Iter 022 	 Temp     0.87 	 Delta   509.98 	 OutFr   0.0415 	 RMSD     1.9365
Iter 023 	 Temp     0.81 	 Delta   466.04 	 OutFr   0.0466 	 RMSD     1.9333
Iter 024 	 Temp     0.75 	 Delta   427.33 	 OutFr   0.0648 	 RMSD     1.9313
Iter 025 	 Temp     0.70 	 Delta   395.19 	 OutFr   0.0803 	 RMSD     1.9313
Iter 026 	 Temp     0.65 	 Delta   370.15 	 OutFr   0.0984 	 RMSD     1.9322
Iter 027 	 Temp     0.61 	 Delta   347.18 	 OutFr   0.1140 	 RMSD     1.9330
Iter 028 	 Temp     0.56 	 Delta   323.91 	 OutFr   0.1373 	 RMSD     1.9338
Iter 029 	 Temp     0.52 	 Delta   300.06 	 OutFr   0.1554 	 RMSD     1.9348
Iter 030 	 Temp     0.49 	 Delta   276.45 	 OutFr   0.1865 	 RMSD     1.9365
Iter 031 	 Temp     0.45 	 Delta   251.31 	 OutFr   0.2124 	 RMSD     1.9389
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train018/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.Xm69UgE9/mybin.nii.gz
+ vtklevelset /tmp/ashs.Xm69UgE9/mybin.nii.gz /tmp/ashs.Xm69UgE9/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.Xm69UgE9/mymesh.vtk /tmp/ashs.Xm69UgE9/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2967.71795689 2914.83368061   0.98218015
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.Xm69UgE9/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train018/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 11.7158 to 38.564
   Y : -26.8682 to 16.111
   Z : -5.59944 to 19.8311
   Image resolution  : 107 by 153 by 102
   Image box origin  : {6.7158, -31.8682, -10.5994}
   Image box size    : {37.1528, 53.125, 35.6996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-6.7158, 31.8682, -10.5994]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train018/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_fwd.mat -o /tmp/ashs.Xm69UgE9/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train018/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_inv.mat -o /tmp/ashs.Xm69UgE9/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train018/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.Xm69UgE9/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train018/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=44 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=44 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.853846 0.859615
+ echo 'CHUNK 0.853846 0.859615 0.5'
CHUNK 0.853846 0.859615 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.853846 0.859615 0.5
====================================
         PROGRESS: 0.853846               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train018/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.Xm69UgE9/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.Xm69UgE9/fixed_hw.nii.gz /tmp/ashs.Xm69UgE9/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train018/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.768848, moving = 0.592253
LEVEL 1 of 3
  Smoothing sigmas: [2.38335, 2.35936, 2.37821], [0.972999, 0.963206, 0.970901]
Level     0,  Iter     0:    Energy =   0.0600
Level     0,  Iter     1:    Energy =   0.0668
Level     0,  Iter     2:    Energy =   0.0735
Level     0,  Iter     3:    Energy =   0.0790
Level     0,  Iter     4:    Energy =   0.0827
Level     0,  Iter     5:    Energy =   0.0857
Level     0,  Iter     6:    Energy =   0.0887
Level     0,  Iter     7:    Energy =   0.0912
Level     0,  Iter     8:    Energy =   0.0931
Level     0,  Iter     9:    Energy =   0.0947
Level     0,  Iter    10:    Energy =   0.0959
Level     0,  Iter    11:    Energy =   0.0974
Level     0,  Iter    12:    Energy =   0.0985
Level     0,  Iter    13:    Energy =   0.0994
Level     0,  Iter    14:    Energy =   0.1003
Level     0,  Iter    15:    Energy =   0.1006
Level     0,  Iter    16:    Energy =   0.1008
Level     0,  Iter    17:    Energy =   0.1007
Level     0,  Iter    18:    Energy =   0.1009
Level     0,  Iter    19:    Energy =   0.1008
Level     0,  Iter    20:    Energy =   0.1011
Level     0,  Iter    21:    Energy =   0.1010
Level     0,  Iter    22:    Energy =   0.1011
Level     0,  Iter    23:    Energy =   0.1011
Level     0,  Iter    24:    Energy =   0.1012
Level     0,  Iter    25:    Energy =   0.1011
Level     0,  Iter    26:    Energy =   0.1013
Level     0,  Iter    27:    Energy =   0.1012
Level     0,  Iter    28:    Energy =   0.1014
Level     0,  Iter    29:    Energy =   0.1013
Level     0,  Iter    30:    Energy =   0.1014
Level     0,  Iter    31:    Energy =   0.1014
Level     0,  Iter    32:    Energy =   0.1015
Level     0,  Iter    33:    Energy =   0.1014
Level     0,  Iter    34:    Energy =   0.1016
Level     0,  Iter    35:    Energy =   0.1015
Level     0,  Iter    36:    Energy =   0.1017
Level     0,  Iter    37:    Energy =   0.1016
Level     0,  Iter    38:    Energy =   0.1017
Level     0,  Iter    39:    Energy =   0.1016
Level     0,  Iter    40:    Energy =   0.1018
Level     0,  Iter    41:    Energy =   0.1017
Level     0,  Iter    42:    Energy =   0.1018
Level     0,  Iter    43:    Energy =   0.1017
Level     0,  Iter    44:    Energy =   0.1018
Level     0,  Iter    45:    Energy =   0.1017
Level     0,  Iter    46:    Energy =   0.1019
Level     0,  Iter    47:    Energy =   0.1017
Level     0,  Iter    48:    Energy =   0.1018
Level     0,  Iter    49:    Energy =   0.1017
Level     0,  Iter    50:    Energy =   0.1019
Level     0,  Iter    51:    Energy =   0.1017
Level     0,  Iter    52:    Energy =   0.1018
Level     0,  Iter    53:    Energy =   0.1016
Level     0,  Iter    54:    Energy =   0.1018
Level     0,  Iter    55:    Energy =   0.1017
Level     0,  Iter    56:    Energy =   0.1018
Level     0,  Iter    57:    Energy =   0.1016
Level     0,  Iter    58:    Energy =   0.1018
Level     0,  Iter    59:    Energy =   0.1016
END OF LEVEL     0    DetJac Range:   0.3283  to   2.5185 
  Avg. Gradient Time  : 0.0071s  37.50% 
  Avg. Gaussian Time  : 0.0090s  47.47% 
  Avg. Iteration Time : 0.0189s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19168, 1.195, 1.21242], [0.486499, 0.487857, 0.494969]
Level     1,  Iter     0:    Energy =   0.0678
Level     1,  Iter     1:    Energy =   0.0718
Level     1,  Iter     2:    Energy =   0.0754
Level     1,  Iter     3:    Energy =   0.0780
Level     1,  Iter     4:    Energy =   0.0801
Level     1,  Iter     5:    Energy =   0.0819
Level     1,  Iter     6:    Energy =   0.0835
Level     1,  Iter     7:    Energy =   0.0846
Level     1,  Iter     8:    Energy =   0.0857
Level     1,  Iter     9:    Energy =   0.0859
Level     1,  Iter    10:    Energy =   0.0864
Level     1,  Iter    11:    Energy =   0.0865
Level     1,  Iter    12:    Energy =   0.0869
Level     1,  Iter    13:    Energy =   0.0870
Level     1,  Iter    14:    Energy =   0.0872
Level     1,  Iter    15:    Energy =   0.0874
Level     1,  Iter    16:    Energy =   0.0874
Level     1,  Iter    17:    Energy =   0.0877
Level     1,  Iter    18:    Energy =   0.0877
Level     1,  Iter    19:    Energy =   0.0879
Level     1,  Iter    20:    Energy =   0.0879
Level     1,  Iter    21:    Energy =   0.0882
Level     1,  Iter    22:    Energy =   0.0882
Level     1,  Iter    23:    Energy =   0.0884
Level     1,  Iter    24:    Energy =   0.0884
Level     1,  Iter    25:    Energy =   0.0886
Level     1,  Iter    26:    Energy =   0.0886
Level     1,  Iter    27:    Energy =   0.0887
Level     1,  Iter    28:    Energy =   0.0887
Level     1,  Iter    29:    Energy =   0.0889
Level     1,  Iter    30:    Energy =   0.0888
Level     1,  Iter    31:    Energy =   0.0890
Level     1,  Iter    32:    Energy =   0.0890
Level     1,  Iter    33:    Energy =   0.0891
Level     1,  Iter    34:    Energy =   0.0890
Level     1,  Iter    35:    Energy =   0.0893
Level     1,  Iter    36:    Energy =   0.0891
Level     1,  Iter    37:    Energy =   0.0895
Level     1,  Iter    38:    Energy =   0.0893
Level     1,  Iter    39:    Energy =   0.0897
Level     1,  Iter    40:    Energy =   0.0895
Level     1,  Iter    41:    Energy =   0.0900
Level     1,  Iter    42:    Energy =   0.0897
Level     1,  Iter    43:    Energy =   0.0902
Level     1,  Iter    44:    Energy =   0.0899
Level     1,  Iter    45:    Energy =   0.0905
Level     1,  Iter    46:    Energy =   0.0902
Level     1,  Iter    47:    Energy =   0.0907
Level     1,  Iter    48:    Energy =   0.0904
Level     1,  Iter    49:    Energy =   0.0908
Level     1,  Iter    50:    Energy =   0.0905
Level     1,  Iter    51:    Energy =   0.0909
Level     1,  Iter    52:    Energy =   0.0906
Level     1,  Iter    53:    Energy =   0.0910
Level     1,  Iter    54:    Energy =   0.0906
Level     1,  Iter    55:    Energy =   0.0910
Level     1,  Iter    56:    Energy =   0.0907
Level     1,  Iter    57:    Energy =   0.0910
Level     1,  Iter    58:    Energy =   0.0907
Level     1,  Iter    59:    Energy =   0.0910
END OF LEVEL     1    DetJac Range:   0.2149  to   2.9997 
  Avg. Gradient Time  : 0.0406s  39.53% 
  Avg. Gaussian Time  : 0.0498s  48.45% 
  Avg. Iteration Time : 0.1027s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0469
Level     2,  Iter     1:    Energy =   0.0492
Level     2,  Iter     2:    Energy =   0.0516
Level     2,  Iter     3:    Energy =   0.0539
Level     2,  Iter     4:    Energy =   0.0559
Level     2,  Iter     5:    Energy =   0.0577
Level     2,  Iter     6:    Energy =   0.0592
Level     2,  Iter     7:    Energy =   0.0605
Level     2,  Iter     8:    Energy =   0.0608
Level     2,  Iter     9:    Energy =   0.0620
Level     2,  Iter    10:    Energy =   0.0618
Level     2,  Iter    11:    Energy =   0.0626
Level     2,  Iter    12:    Energy =   0.0631
Level     2,  Iter    13:    Energy =   0.0635
Level     2,  Iter    14:    Energy =   0.0632
Level     2,  Iter    15:    Energy =   0.0636
Level     2,  Iter    16:    Energy =   0.0638
Level     2,  Iter    17:    Energy =   0.0641
Level     2,  Iter    18:    Energy =   0.0638
Level     2,  Iter    19:    Energy =   0.0642
END OF LEVEL     2    DetJac Range:   0.1262  to   4.0343 
  Avg. Gradient Time  : 0.2891s  36.98% 
  Avg. Gaussian Time  : 0.4095s  52.38% 
  Avg. Iteration Time : 0.7818s 

real	0m26.200s
user	0m46.144s
sys	0m2.636s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train018/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train018/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train018/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=44 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=44 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.853846 0.859615
+ echo 'CHUNK 0.853846 0.859615 1'
CHUNK 0.853846 0.859615 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.853846 0.859615 1
====================================
         PROGRESS: 0.853846               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=019
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 019
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train019
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train019
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 019 right 0
+ local tid=019
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 019 0
+ set -e
+ local tid=019
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train019/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1797.00 	 OutFr   0.0000 	 RMSD     2.6057
Iter 002 	 Temp     3.72 	 Delta  1717.92 	 OutFr   0.0000 	 RMSD     1.9663
Iter 003 	 Temp     3.46 	 Delta  1618.16 	 OutFr   0.0000 	 RMSD     1.9770
Iter 004 	 Temp     3.22 	 Delta  1511.93 	 OutFr   0.0000 	 RMSD     1.9666
Iter 005 	 Temp     2.99 	 Delta  1407.19 	 OutFr   0.0026 	 RMSD     1.9512
Iter 006 	 Temp     2.78 	 Delta  1307.51 	 OutFr   0.0026 	 RMSD     1.9355
Iter 007 	 Temp     2.59 	 Delta  1215.20 	 OutFr   0.0026 	 RMSD     1.9215
Iter 008 	 Temp     2.41 	 Delta  1132.23 	 OutFr   0.0026 	 RMSD     1.9097
Iter 009 	 Temp     2.24 	 Delta  1059.94 	 OutFr   0.0026 	 RMSD     1.9006
Iter 010 	 Temp     2.08 	 Delta   998.74 	 OutFr   0.0026 	 RMSD     1.8922
Iter 011 	 Temp     1.94 	 Delta   948.04 	 OutFr   0.0078 	 RMSD     1.8846
Iter 012 	 Temp     1.80 	 Delta   906.28 	 OutFr   0.0078 	 RMSD     1.8782
Iter 013 	 Temp     1.67 	 Delta   871.10 	 OutFr   0.0104 	 RMSD     1.8731
Iter 014 	 Temp     1.56 	 Delta   839.96 	 OutFr   0.0155 	 RMSD     1.8699
Iter 015 	 Temp     1.45 	 Delta   810.85 	 OutFr   0.0181 	 RMSD     1.8667
Iter 016 	 Temp     1.35 	 Delta   782.26 	 OutFr   0.0181 	 RMSD     1.8639
Iter 017 	 Temp     1.25 	 Delta   752.67 	 OutFr   0.0181 	 RMSD     1.8618
Iter 018 	 Temp     1.16 	 Delta   720.35 	 OutFr   0.0259 	 RMSD     1.8601
Iter 019 	 Temp     1.08 	 Delta   683.56 	 OutFr   0.0363 	 RMSD     1.8581
Iter 020 	 Temp     1.01 	 Delta   641.01 	 OutFr   0.0415 	 RMSD     1.8568
Iter 021 	 Temp     0.94 	 Delta   594.44 	 OutFr   0.0544 	 RMSD     1.8565
Iter 022 	 Temp     0.87 	 Delta   548.49 	 OutFr   0.0751 	 RMSD     1.8572
Iter 023 	 Temp     0.81 	 Delta   501.56 	 OutFr   0.0907 	 RMSD     1.8588
Iter 024 	 Temp     0.75 	 Delta   455.00 	 OutFr   0.1036 	 RMSD     1.8612
Iter 025 	 Temp     0.70 	 Delta   416.88 	 OutFr   0.1451 	 RMSD     1.8643
Iter 026 	 Temp     0.65 	 Delta   385.81 	 OutFr   0.1684 	 RMSD     1.8694
Iter 027 	 Temp     0.61 	 Delta   356.77 	 OutFr   0.1891 	 RMSD     1.8734
Iter 028 	 Temp     0.56 	 Delta   330.49 	 OutFr   0.2098 	 RMSD     1.8764
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train019/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.HOJAYj1o/mybin.nii.gz
+ vtklevelset /tmp/ashs.HOJAYj1o/mybin.nii.gz /tmp/ashs.HOJAYj1o/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.HOJAYj1o/mymesh.vtk /tmp/ashs.HOJAYj1o/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2967.71795689 3144.32869619   1.05951062
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.HOJAYj1o/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train019/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 10.2168 to 36.7791
   Y : -19.5396 to 25.5146
   Z : -17.6286 to 10.9631
   Image resolution  : 106 by 159 by 111
   Image box origin  : {5.2168, -24.5396, -22.6286}
   Image box size    : {36.8055, 55.2083, 38.8496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-5.2168, 24.5396, -22.6286]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train019/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_fwd.mat -o /tmp/ashs.HOJAYj1o/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train019/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_inv.mat -o /tmp/ashs.HOJAYj1o/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train019/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.HOJAYj1o/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train019/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=45 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=45 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.859615 0.865385
+ echo 'CHUNK 0.859615 0.865385 0.5'
CHUNK 0.859615 0.865385 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.859615 0.865385 0.5
====================================
         PROGRESS: 0.859615               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train019/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.HOJAYj1o/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.HOJAYj1o/fixed_hw.nii.gz /tmp/ashs.HOJAYj1o/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train019/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.691673, moving = 0.481381
LEVEL 1 of 3
  Smoothing sigmas: [2.36108, 2.39059, 2.40319], [0.963905, 0.975954, 0.981099]
Level     0,  Iter     0:    Energy =   0.0371
Level     0,  Iter     1:    Energy =   0.0418
Level     0,  Iter     2:    Energy =   0.0459
Level     0,  Iter     3:    Energy =   0.0506
Level     0,  Iter     4:    Energy =   0.0549
Level     0,  Iter     5:    Energy =   0.0578
Level     0,  Iter     6:    Energy =   0.0599
Level     0,  Iter     7:    Energy =   0.0615
Level     0,  Iter     8:    Energy =   0.0628
Level     0,  Iter     9:    Energy =   0.0639
Level     0,  Iter    10:    Energy =   0.0646
Level     0,  Iter    11:    Energy =   0.0649
Level     0,  Iter    12:    Energy =   0.0655
Level     0,  Iter    13:    Energy =   0.0656
Level     0,  Iter    14:    Energy =   0.0662
Level     0,  Iter    15:    Energy =   0.0663
Level     0,  Iter    16:    Energy =   0.0669
Level     0,  Iter    17:    Energy =   0.0668
Level     0,  Iter    18:    Energy =   0.0673
Level     0,  Iter    19:    Energy =   0.0673
Level     0,  Iter    20:    Energy =   0.0677
Level     0,  Iter    21:    Energy =   0.0676
Level     0,  Iter    22:    Energy =   0.0680
Level     0,  Iter    23:    Energy =   0.0679
Level     0,  Iter    24:    Energy =   0.0683
Level     0,  Iter    25:    Energy =   0.0681
Level     0,  Iter    26:    Energy =   0.0685
Level     0,  Iter    27:    Energy =   0.0684
Level     0,  Iter    28:    Energy =   0.0687
Level     0,  Iter    29:    Energy =   0.0686
Level     0,  Iter    30:    Energy =   0.0689
Level     0,  Iter    31:    Energy =   0.0688
Level     0,  Iter    32:    Energy =   0.0691
Level     0,  Iter    33:    Energy =   0.0689
Level     0,  Iter    34:    Energy =   0.0692
Level     0,  Iter    35:    Energy =   0.0690
Level     0,  Iter    36:    Energy =   0.0693
Level     0,  Iter    37:    Energy =   0.0691
Level     0,  Iter    38:    Energy =   0.0694
Level     0,  Iter    39:    Energy =   0.0692
Level     0,  Iter    40:    Energy =   0.0695
Level     0,  Iter    41:    Energy =   0.0693
Level     0,  Iter    42:    Energy =   0.0696
Level     0,  Iter    43:    Energy =   0.0695
Level     0,  Iter    44:    Energy =   0.0697
Level     0,  Iter    45:    Energy =   0.0696
Level     0,  Iter    46:    Energy =   0.0700
Level     0,  Iter    47:    Energy =   0.0698
Level     0,  Iter    48:    Energy =   0.0700
Level     0,  Iter    49:    Energy =   0.0699
Level     0,  Iter    50:    Energy =   0.0702
Level     0,  Iter    51:    Energy =   0.0700
Level     0,  Iter    52:    Energy =   0.0698
Level     0,  Iter    53:    Energy =   0.0698
Level     0,  Iter    54:    Energy =   0.0705
Level     0,  Iter    55:    Energy =   0.0703
Level     0,  Iter    56:    Energy =   0.0703
Level     0,  Iter    57:    Energy =   0.0701
Level     0,  Iter    58:    Energy =   0.0708
Level     0,  Iter    59:    Energy =   0.0705
END OF LEVEL     0    DetJac Range:   0.1199  to   2.2456 
  Avg. Gradient Time  : 0.0075s  37.70% 
  Avg. Gaussian Time  : 0.0095s  47.40% 
  Avg. Iteration Time : 0.0200s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.19529, 1.2016], [0.491046, 0.487977, 0.49055]
Level     1,  Iter     0:    Energy =   0.0530
Level     1,  Iter     1:    Energy =   0.0571
Level     1,  Iter     2:    Energy =   0.0606
Level     1,  Iter     3:    Energy =   0.0630
Level     1,  Iter     4:    Energy =   0.0650
Level     1,  Iter     5:    Energy =   0.0664
Level     1,  Iter     6:    Energy =   0.0676
Level     1,  Iter     7:    Energy =   0.0690
Level     1,  Iter     8:    Energy =   0.0703
Level     1,  Iter     9:    Energy =   0.0715
Level     1,  Iter    10:    Energy =   0.0727
Level     1,  Iter    11:    Energy =   0.0732
Level     1,  Iter    12:    Energy =   0.0731
Level     1,  Iter    13:    Energy =   0.0736
Level     1,  Iter    14:    Energy =   0.0734
Level     1,  Iter    15:    Energy =   0.0740
Level     1,  Iter    16:    Energy =   0.0737
Level     1,  Iter    17:    Energy =   0.0744
Level     1,  Iter    18:    Energy =   0.0740
Level     1,  Iter    19:    Energy =   0.0747
Level     1,  Iter    20:    Energy =   0.0744
Level     1,  Iter    21:    Energy =   0.0750
Level     1,  Iter    22:    Energy =   0.0746
Level     1,  Iter    23:    Energy =   0.0752
Level     1,  Iter    24:    Energy =   0.0748
Level     1,  Iter    25:    Energy =   0.0753
Level     1,  Iter    26:    Energy =   0.0749
Level     1,  Iter    27:    Energy =   0.0755
Level     1,  Iter    28:    Energy =   0.0751
Level     1,  Iter    29:    Energy =   0.0754
Level     1,  Iter    30:    Energy =   0.0750
Level     1,  Iter    31:    Energy =   0.0755
Level     1,  Iter    32:    Energy =   0.0751
Level     1,  Iter    33:    Energy =   0.0756
Level     1,  Iter    34:    Energy =   0.0751
Level     1,  Iter    35:    Energy =   0.0757
Level     1,  Iter    36:    Energy =   0.0753
Level     1,  Iter    37:    Energy =   0.0756
Level     1,  Iter    38:    Energy =   0.0752
Level     1,  Iter    39:    Energy =   0.0756
Level     1,  Iter    40:    Energy =   0.0752
Level     1,  Iter    41:    Energy =   0.0757
Level     1,  Iter    42:    Energy =   0.0752
Level     1,  Iter    43:    Energy =   0.0757
Level     1,  Iter    44:    Energy =   0.0753
Level     1,  Iter    45:    Energy =   0.0757
Level     1,  Iter    46:    Energy =   0.0752
Level     1,  Iter    47:    Energy =   0.0757
Level     1,  Iter    48:    Energy =   0.0753
Level     1,  Iter    49:    Energy =   0.0757
Level     1,  Iter    50:    Energy =   0.0753
Level     1,  Iter    51:    Energy =   0.0757
Level     1,  Iter    52:    Energy =   0.0753
Level     1,  Iter    53:    Energy =   0.0757
Level     1,  Iter    54:    Energy =   0.0753
Level     1,  Iter    55:    Energy =   0.0757
Level     1,  Iter    56:    Energy =   0.0753
Level     1,  Iter    57:    Energy =   0.0757
Level     1,  Iter    58:    Energy =   0.0753
Level     1,  Iter    59:    Energy =   0.0757
END OF LEVEL     1    DetJac Range:   0.1106  to   2.8471 
  Avg. Gradient Time  : 0.0460s  40.06% 
  Avg. Gaussian Time  : 0.0551s  47.94% 
  Avg. Iteration Time : 0.1148s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0407
Level     2,  Iter     1:    Energy =   0.0432
Level     2,  Iter     2:    Energy =   0.0452
Level     2,  Iter     3:    Energy =   0.0468
Level     2,  Iter     4:    Energy =   0.0484
Level     2,  Iter     5:    Energy =   0.0498
Level     2,  Iter     6:    Energy =   0.0509
Level     2,  Iter     7:    Energy =   0.0518
Level     2,  Iter     8:    Energy =   0.0525
Level     2,  Iter     9:    Energy =   0.0531
Level     2,  Iter    10:    Energy =   0.0536
Level     2,  Iter    11:    Energy =   0.0541
Level     2,  Iter    12:    Energy =   0.0545
Level     2,  Iter    13:    Energy =   0.0550
Level     2,  Iter    14:    Energy =   0.0554
Level     2,  Iter    15:    Energy =   0.0559
Level     2,  Iter    16:    Energy =   0.0564
Level     2,  Iter    17:    Energy =   0.0570
Level     2,  Iter    18:    Energy =   0.0577
Level     2,  Iter    19:    Energy =   0.0582
END OF LEVEL     2    DetJac Range:   0.0220  to   4.3322 
  Avg. Gradient Time  : 0.3265s  37.26% 
  Avg. Gaussian Time  : 0.4560s  52.04% 
  Avg. Iteration Time : 0.8762s 

real	0m29.136s
user	0m51.632s
sys	0m2.848s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train019/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train019/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train019/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=45 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=45 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.859615 0.865385
+ echo 'CHUNK 0.859615 0.865385 1'
CHUNK 0.859615 0.865385 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.859615 0.865385 1
====================================
         PROGRESS: 0.859615               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=020
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 020
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train020
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train020
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 020 right 0
+ local tid=020
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 020 0
+ set -e
+ local tid=020
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train020/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2462.78 	 OutFr   0.0233 	 RMSD     3.9592
Iter 002 	 Temp     3.72 	 Delta  2246.88 	 OutFr   0.0130 	 RMSD     2.4732
Iter 003 	 Temp     3.46 	 Delta  2161.05 	 OutFr   0.0104 	 RMSD     2.4463
Iter 004 	 Temp     3.22 	 Delta  2069.42 	 OutFr   0.0104 	 RMSD     2.4349
Iter 005 	 Temp     2.99 	 Delta  1969.56 	 OutFr   0.0104 	 RMSD     2.4208
Iter 006 	 Temp     2.78 	 Delta  1871.61 	 OutFr   0.0155 	 RMSD     2.4043
Iter 007 	 Temp     2.59 	 Delta  1780.78 	 OutFr   0.0155 	 RMSD     2.3862
Iter 008 	 Temp     2.41 	 Delta  1698.21 	 OutFr   0.0155 	 RMSD     2.3694
Iter 009 	 Temp     2.24 	 Delta  1621.77 	 OutFr   0.0181 	 RMSD     2.3544
Iter 010 	 Temp     2.08 	 Delta  1548.54 	 OutFr   0.0233 	 RMSD     2.3412
Iter 011 	 Temp     1.94 	 Delta  1477.78 	 OutFr   0.0259 	 RMSD     2.3306
Iter 012 	 Temp     1.80 	 Delta  1409.74 	 OutFr   0.0285 	 RMSD     2.3192
Iter 013 	 Temp     1.67 	 Delta  1344.31 	 OutFr   0.0311 	 RMSD     2.3079
Iter 014 	 Temp     1.56 	 Delta  1281.10 	 OutFr   0.0363 	 RMSD     2.2973
Iter 015 	 Temp     1.45 	 Delta  1217.02 	 OutFr   0.0389 	 RMSD     2.2884
Iter 016 	 Temp     1.35 	 Delta  1146.85 	 OutFr   0.0440 	 RMSD     2.2815
Iter 017 	 Temp     1.25 	 Delta  1068.80 	 OutFr   0.0492 	 RMSD     2.2762
Iter 018 	 Temp     1.16 	 Delta   987.27 	 OutFr   0.0544 	 RMSD     2.2715
Iter 019 	 Temp     1.08 	 Delta   909.83 	 OutFr   0.0648 	 RMSD     2.2680
Iter 020 	 Temp     1.01 	 Delta   836.00 	 OutFr   0.0751 	 RMSD     2.2657
Iter 021 	 Temp     0.94 	 Delta   760.41 	 OutFr   0.0881 	 RMSD     2.2652
Iter 022 	 Temp     0.87 	 Delta   686.24 	 OutFr   0.1036 	 RMSD     2.2659
Iter 023 	 Temp     0.81 	 Delta   616.14 	 OutFr   0.1321 	 RMSD     2.2682
Iter 024 	 Temp     0.75 	 Delta   552.46 	 OutFr   0.1580 	 RMSD     2.2716
Iter 025 	 Temp     0.70 	 Delta   497.28 	 OutFr   0.1813 	 RMSD     2.2747
Iter 026 	 Temp     0.65 	 Delta   448.95 	 OutFr   0.2098 	 RMSD     2.2781
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train020/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.BvI9bHdT/mybin.nii.gz
+ vtklevelset /tmp/ashs.BvI9bHdT/mybin.nii.gz /tmp/ashs.BvI9bHdT/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.BvI9bHdT/mymesh.vtk /tmp/ashs.BvI9bHdT/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2967.71795689 3050.45424371   1.02787876
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.BvI9bHdT/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train020/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 14.0198 to 39.5093
   Y : -23.0743 to 21.8234
   Z : -19.0405 to 12.7231
   Image resolution  : 103 by 159 by 120
   Image box origin  : {9.0198, -28.0743, -24.0405}
   Image box size    : {35.7639, 55.2083, 41.9995}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-9.0198, 28.0743, -24.0405]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train020/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_fwd.mat -o /tmp/ashs.BvI9bHdT/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train020/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_inv.mat -o /tmp/ashs.BvI9bHdT/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train020/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.BvI9bHdT/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train020/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=46 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=46 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.865385 0.871154
+ echo 'CHUNK 0.865385 0.871154 0.5'
CHUNK 0.865385 0.871154 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.865385 0.871154 0.5
====================================
         PROGRESS: 0.865385               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train020/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.BvI9bHdT/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.BvI9bHdT/fixed_hw.nii.gz /tmp/ashs.BvI9bHdT/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train020/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.740482, moving = 0.48402
LEVEL 1 of 3
  Smoothing sigmas: [2.38249, 2.39059, 2.42484], [0.972649, 0.975954, 0.989938]
Level     0,  Iter     0:    Energy =   0.0428
Level     0,  Iter     1:    Energy =   0.0464
Level     0,  Iter     2:    Energy =   0.0499
Level     0,  Iter     3:    Energy =   0.0541
Level     0,  Iter     4:    Energy =   0.0576
Level     0,  Iter     5:    Energy =   0.0608
Level     0,  Iter     6:    Energy =   0.0630
Level     0,  Iter     7:    Energy =   0.0646
Level     0,  Iter     8:    Energy =   0.0660
Level     0,  Iter     9:    Energy =   0.0677
Level     0,  Iter    10:    Energy =   0.0688
Level     0,  Iter    11:    Energy =   0.0701
Level     0,  Iter    12:    Energy =   0.0704
Level     0,  Iter    13:    Energy =   0.0709
Level     0,  Iter    14:    Energy =   0.0710
Level     0,  Iter    15:    Energy =   0.0714
Level     0,  Iter    16:    Energy =   0.0714
Level     0,  Iter    17:    Energy =   0.0718
Level     0,  Iter    18:    Energy =   0.0718
Level     0,  Iter    19:    Energy =   0.0722
Level     0,  Iter    20:    Energy =   0.0722
Level     0,  Iter    21:    Energy =   0.0726
Level     0,  Iter    22:    Energy =   0.0726
Level     0,  Iter    23:    Energy =   0.0730
Level     0,  Iter    24:    Energy =   0.0730
Level     0,  Iter    25:    Energy =   0.0734
Level     0,  Iter    26:    Energy =   0.0734
Level     0,  Iter    27:    Energy =   0.0738
Level     0,  Iter    28:    Energy =   0.0737
Level     0,  Iter    29:    Energy =   0.0741
Level     0,  Iter    30:    Energy =   0.0739
Level     0,  Iter    31:    Energy =   0.0742
Level     0,  Iter    32:    Energy =   0.0741
Level     0,  Iter    33:    Energy =   0.0745
Level     0,  Iter    34:    Energy =   0.0744
Level     0,  Iter    35:    Energy =   0.0746
Level     0,  Iter    36:    Energy =   0.0745
Level     0,  Iter    37:    Energy =   0.0748
Level     0,  Iter    38:    Energy =   0.0747
Level     0,  Iter    39:    Energy =   0.0749
Level     0,  Iter    40:    Energy =   0.0748
Level     0,  Iter    41:    Energy =   0.0750
Level     0,  Iter    42:    Energy =   0.0749
Level     0,  Iter    43:    Energy =   0.0750
Level     0,  Iter    44:    Energy =   0.0750
Level     0,  Iter    45:    Energy =   0.0752
Level     0,  Iter    46:    Energy =   0.0752
Level     0,  Iter    47:    Energy =   0.0753
Level     0,  Iter    48:    Energy =   0.0752
Level     0,  Iter    49:    Energy =   0.0754
Level     0,  Iter    50:    Energy =   0.0753
Level     0,  Iter    51:    Energy =   0.0754
Level     0,  Iter    52:    Energy =   0.0753
Level     0,  Iter    53:    Energy =   0.0755
Level     0,  Iter    54:    Energy =   0.0754
Level     0,  Iter    55:    Energy =   0.0755
Level     0,  Iter    56:    Energy =   0.0754
Level     0,  Iter    57:    Energy =   0.0756
Level     0,  Iter    58:    Energy =   0.0755
Level     0,  Iter    59:    Energy =   0.0756
END OF LEVEL     0    DetJac Range:   0.1568  to   2.2471 
  Avg. Gradient Time  : 0.0079s  37.53% 
  Avg. Gaussian Time  : 0.0099s  47.29% 
  Avg. Iteration Time : 0.0210s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19125, 1.19529, 1.21242], [0.486324, 0.487977, 0.494969]
Level     1,  Iter     0:    Energy =   0.0538
Level     1,  Iter     1:    Energy =   0.0578
Level     1,  Iter     2:    Energy =   0.0609
Level     1,  Iter     3:    Energy =   0.0632
Level     1,  Iter     4:    Energy =   0.0652
Level     1,  Iter     5:    Energy =   0.0668
Level     1,  Iter     6:    Energy =   0.0680
Level     1,  Iter     7:    Energy =   0.0689
Level     1,  Iter     8:    Energy =   0.0698
Level     1,  Iter     9:    Energy =   0.0707
Level     1,  Iter    10:    Energy =   0.0715
Level     1,  Iter    11:    Energy =   0.0720
Level     1,  Iter    12:    Energy =   0.0723
Level     1,  Iter    13:    Energy =   0.0724
Level     1,  Iter    14:    Energy =   0.0725
Level     1,  Iter    15:    Energy =   0.0726
Level     1,  Iter    16:    Energy =   0.0728
Level     1,  Iter    17:    Energy =   0.0729
Level     1,  Iter    18:    Energy =   0.0730
Level     1,  Iter    19:    Energy =   0.0731
Level     1,  Iter    20:    Energy =   0.0733
Level     1,  Iter    21:    Energy =   0.0733
Level     1,  Iter    22:    Energy =   0.0735
Level     1,  Iter    23:    Energy =   0.0735
Level     1,  Iter    24:    Energy =   0.0737
Level     1,  Iter    25:    Energy =   0.0737
Level     1,  Iter    26:    Energy =   0.0738
Level     1,  Iter    27:    Energy =   0.0739
Level     1,  Iter    28:    Energy =   0.0739
Level     1,  Iter    29:    Energy =   0.0740
Level     1,  Iter    30:    Energy =   0.0740
Level     1,  Iter    31:    Energy =   0.0741
Level     1,  Iter    32:    Energy =   0.0742
Level     1,  Iter    33:    Energy =   0.0743
Level     1,  Iter    34:    Energy =   0.0743
Level     1,  Iter    35:    Energy =   0.0744
Level     1,  Iter    36:    Energy =   0.0744
Level     1,  Iter    37:    Energy =   0.0746
Level     1,  Iter    38:    Energy =   0.0746
Level     1,  Iter    39:    Energy =   0.0747
Level     1,  Iter    40:    Energy =   0.0747
Level     1,  Iter    41:    Energy =   0.0748
Level     1,  Iter    42:    Energy =   0.0748
Level     1,  Iter    43:    Energy =   0.0749
Level     1,  Iter    44:    Energy =   0.0749
Level     1,  Iter    45:    Energy =   0.0749
Level     1,  Iter    46:    Energy =   0.0750
Level     1,  Iter    47:    Energy =   0.0750
Level     1,  Iter    48:    Energy =   0.0750
Level     1,  Iter    49:    Energy =   0.0750
Level     1,  Iter    50:    Energy =   0.0751
Level     1,  Iter    51:    Energy =   0.0751
Level     1,  Iter    52:    Energy =   0.0751
Level     1,  Iter    53:    Energy =   0.0752
Level     1,  Iter    54:    Energy =   0.0752
Level     1,  Iter    55:    Energy =   0.0752
Level     1,  Iter    56:    Energy =   0.0752
Level     1,  Iter    57:    Energy =   0.0753
Level     1,  Iter    58:    Energy =   0.0752
Level     1,  Iter    59:    Energy =   0.0753
END OF LEVEL     1    DetJac Range:   0.1433  to   3.0707 
  Avg. Gradient Time  : 0.0478s  39.80% 
  Avg. Gaussian Time  : 0.0578s  48.13% 
  Avg. Iteration Time : 0.1200s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0399
Level     2,  Iter     1:    Energy =   0.0421
Level     2,  Iter     2:    Energy =   0.0437
Level     2,  Iter     3:    Energy =   0.0452
Level     2,  Iter     4:    Energy =   0.0464
Level     2,  Iter     5:    Energy =   0.0475
Level     2,  Iter     6:    Energy =   0.0487
Level     2,  Iter     7:    Energy =   0.0499
Level     2,  Iter     8:    Energy =   0.0510
Level     2,  Iter     9:    Energy =   0.0521
Level     2,  Iter    10:    Energy =   0.0531
Level     2,  Iter    11:    Energy =   0.0537
Level     2,  Iter    12:    Energy =   0.0545
Level     2,  Iter    13:    Energy =   0.0551
Level     2,  Iter    14:    Energy =   0.0556
Level     2,  Iter    15:    Energy =   0.0560
Level     2,  Iter    16:    Energy =   0.0563
Level     2,  Iter    17:    Energy =   0.0565
Level     2,  Iter    18:    Energy =   0.0568
Level     2,  Iter    19:    Energy =   0.0570
END OF LEVEL     2    DetJac Range:   0.0567  to   6.1354 
  Avg. Gradient Time  : 0.3412s  35.99% 
  Avg. Gaussian Time  : 0.5083s  53.63% 
  Avg. Iteration Time : 0.9479s 

real	0m31.432s
user	0m56.264s
sys	0m2.812s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train020/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train020/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train020/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=46 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=46 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.865385 0.871154
+ echo 'CHUNK 0.865385 0.871154 1'
CHUNK 0.865385 0.871154 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.865385 0.871154 1
====================================
         PROGRESS: 0.865385               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=021
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 021
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train021
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train021
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 021 right 0
+ local tid=021
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 021 0
+ set -e
+ local tid=021
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train021/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2360.90 	 OutFr   0.0000 	 RMSD     2.3325
Iter 002 	 Temp     3.72 	 Delta  2256.02 	 OutFr   0.0000 	 RMSD     2.0581
Iter 003 	 Temp     3.46 	 Delta  2183.09 	 OutFr   0.0000 	 RMSD     2.0618
Iter 004 	 Temp     3.22 	 Delta  2079.66 	 OutFr   0.0000 	 RMSD     2.0599
Iter 005 	 Temp     2.99 	 Delta  1956.26 	 OutFr   0.0000 	 RMSD     2.0484
Iter 006 	 Temp     2.78 	 Delta  1825.08 	 OutFr   0.0000 	 RMSD     2.0332
Iter 007 	 Temp     2.59 	 Delta  1694.37 	 OutFr   0.0000 	 RMSD     2.0175
Iter 008 	 Temp     2.41 	 Delta  1568.53 	 OutFr   0.0000 	 RMSD     2.0032
Iter 009 	 Temp     2.24 	 Delta  1448.66 	 OutFr   0.0000 	 RMSD     1.9904
Iter 010 	 Temp     2.08 	 Delta  1335.07 	 OutFr   0.0000 	 RMSD     1.9792
Iter 011 	 Temp     1.94 	 Delta  1230.18 	 OutFr   0.0000 	 RMSD     1.9691
Iter 012 	 Temp     1.80 	 Delta  1135.57 	 OutFr   0.0026 	 RMSD     1.9600
Iter 013 	 Temp     1.67 	 Delta  1045.85 	 OutFr   0.0052 	 RMSD     1.9532
Iter 014 	 Temp     1.56 	 Delta   958.99 	 OutFr   0.0052 	 RMSD     1.9471
Iter 015 	 Temp     1.45 	 Delta   882.55 	 OutFr   0.0104 	 RMSD     1.9417
Iter 016 	 Temp     1.35 	 Delta   819.56 	 OutFr   0.0207 	 RMSD     1.9379
Iter 017 	 Temp     1.25 	 Delta   764.02 	 OutFr   0.0311 	 RMSD     1.9351
Iter 018 	 Temp     1.16 	 Delta   710.64 	 OutFr   0.0363 	 RMSD     1.9328
Iter 019 	 Temp     1.08 	 Delta   657.48 	 OutFr   0.0415 	 RMSD     1.9314
Iter 020 	 Temp     1.01 	 Delta   607.93 	 OutFr   0.0518 	 RMSD     1.9312
Iter 021 	 Temp     0.94 	 Delta   561.44 	 OutFr   0.0596 	 RMSD     1.9315
Iter 022 	 Temp     0.87 	 Delta   516.64 	 OutFr   0.0674 	 RMSD     1.9312
Iter 023 	 Temp     0.81 	 Delta   471.19 	 OutFr   0.0725 	 RMSD     1.9309
Iter 024 	 Temp     0.75 	 Delta   427.02 	 OutFr   0.0855 	 RMSD     1.9308
Iter 025 	 Temp     0.70 	 Delta   394.65 	 OutFr   0.1062 	 RMSD     1.9332
Iter 026 	 Temp     0.65 	 Delta   364.13 	 OutFr   0.1218 	 RMSD     1.9374
Iter 027 	 Temp     0.61 	 Delta   336.67 	 OutFr   0.1425 	 RMSD     1.9430
Iter 028 	 Temp     0.56 	 Delta   315.31 	 OutFr   0.1606 	 RMSD     1.9486
Iter 029 	 Temp     0.52 	 Delta   294.57 	 OutFr   0.1891 	 RMSD     1.9542
Iter 030 	 Temp     0.49 	 Delta   270.18 	 OutFr   0.2124 	 RMSD     1.9589
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train021/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.xsHlp6v2/mybin.nii.gz
+ vtklevelset /tmp/ashs.xsHlp6v2/mybin.nii.gz /tmp/ashs.xsHlp6v2/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.xsHlp6v2/mymesh.vtk /tmp/ashs.xsHlp6v2/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2967.71795689 2940.31876152   0.99076759
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.xsHlp6v2/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train021/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 13.4408 to 38.7818
   Y : -19.02 to 27.225
   Z : -38.0515 to -12.6394
   Image resolution  : 102 by 162 by 102
   Image box origin  : {8.4408, -24.02, -43.0515}
   Image box size    : {35.4166, 56.25, 35.6996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-8.4408, 24.02, -43.0515]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train021/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_fwd.mat -o /tmp/ashs.xsHlp6v2/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train021/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_inv.mat -o /tmp/ashs.xsHlp6v2/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train021/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.xsHlp6v2/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train021/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=47 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=47 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.871154 0.876923
+ echo 'CHUNK 0.871154 0.876923 0.5'
CHUNK 0.871154 0.876923 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.871154 0.876923 0.5
====================================
         PROGRESS: 0.871154               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train021/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.xsHlp6v2/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.xsHlp6v2/fixed_hw.nii.gz /tmp/ashs.xsHlp6v2/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train021/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.789374, moving = 0.662289
LEVEL 1 of 3
  Smoothing sigmas: [2.35936, 2.37629, 2.37821], [0.963206, 0.970115, 0.970901]
Level     0,  Iter     0:    Energy =   0.0459
Level     0,  Iter     1:    Energy =   0.0510
Level     0,  Iter     2:    Energy =   0.0558
Level     0,  Iter     3:    Energy =   0.0612
Level     0,  Iter     4:    Energy =   0.0657
Level     0,  Iter     5:    Energy =   0.0689
Level     0,  Iter     6:    Energy =   0.0712
Level     0,  Iter     7:    Energy =   0.0736
Level     0,  Iter     8:    Energy =   0.0757
Level     0,  Iter     9:    Energy =   0.0774
Level     0,  Iter    10:    Energy =   0.0791
Level     0,  Iter    11:    Energy =   0.0800
Level     0,  Iter    12:    Energy =   0.0809
Level     0,  Iter    13:    Energy =   0.0812
Level     0,  Iter    14:    Energy =   0.0821
Level     0,  Iter    15:    Energy =   0.0822
Level     0,  Iter    16:    Energy =   0.0832
Level     0,  Iter    17:    Energy =   0.0832
Level     0,  Iter    18:    Energy =   0.0843
Level     0,  Iter    19:    Energy =   0.0843
Level     0,  Iter    20:    Energy =   0.0850
Level     0,  Iter    21:    Energy =   0.0850
Level     0,  Iter    22:    Energy =   0.0854
Level     0,  Iter    23:    Energy =   0.0855
Level     0,  Iter    24:    Energy =   0.0855
Level     0,  Iter    25:    Energy =   0.0853
Level     0,  Iter    26:    Energy =   0.0854
Level     0,  Iter    27:    Energy =   0.0854
Level     0,  Iter    28:    Energy =   0.0855
Level     0,  Iter    29:    Energy =   0.0857
Level     0,  Iter    30:    Energy =   0.0857
Level     0,  Iter    31:    Energy =   0.0859
Level     0,  Iter    32:    Energy =   0.0858
Level     0,  Iter    33:    Energy =   0.0859
Level     0,  Iter    34:    Energy =   0.0859
Level     0,  Iter    35:    Energy =   0.0860
Level     0,  Iter    36:    Energy =   0.0859
Level     0,  Iter    37:    Energy =   0.0861
Level     0,  Iter    38:    Energy =   0.0863
Level     0,  Iter    39:    Energy =   0.0862
Level     0,  Iter    40:    Energy =   0.0860
Level     0,  Iter    41:    Energy =   0.0862
Level     0,  Iter    42:    Energy =   0.0859
Level     0,  Iter    43:    Energy =   0.0862
Level     0,  Iter    44:    Energy =   0.0863
Level     0,  Iter    45:    Energy =   0.0863
Level     0,  Iter    46:    Energy =   0.0860
Level     0,  Iter    47:    Energy =   0.0863
Level     0,  Iter    48:    Energy =   0.0865
Level     0,  Iter    49:    Energy =   0.0865
Level     0,  Iter    50:    Energy =   0.0862
Level     0,  Iter    51:    Energy =   0.0865
Level     0,  Iter    52:    Energy =   0.0865
Level     0,  Iter    53:    Energy =   0.0866
Level     0,  Iter    54:    Energy =   0.0865
Level     0,  Iter    55:    Energy =   0.0866
Level     0,  Iter    56:    Energy =   0.0865
Level     0,  Iter    57:    Energy =   0.0866
Level     0,  Iter    58:    Energy =   0.0866
Level     0,  Iter    59:    Energy =   0.0867
END OF LEVEL     0    DetJac Range:   0.1854  to   1.8242 
  Avg. Gradient Time  : 0.0074s  37.69% 
  Avg. Gaussian Time  : 0.0093s  47.47% 
  Avg. Iteration Time : 0.0196s 
LEVEL 2 of 3
  Smoothing sigmas: [1.20281, 1.20281, 1.21242], [0.491046, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0599
Level     1,  Iter     1:    Energy =   0.0646
Level     1,  Iter     2:    Energy =   0.0680
Level     1,  Iter     3:    Energy =   0.0706
Level     1,  Iter     4:    Energy =   0.0729
Level     1,  Iter     5:    Energy =   0.0747
Level     1,  Iter     6:    Energy =   0.0763
Level     1,  Iter     7:    Energy =   0.0775
Level     1,  Iter     8:    Energy =   0.0784
Level     1,  Iter     9:    Energy =   0.0791
Level     1,  Iter    10:    Energy =   0.0797
Level     1,  Iter    11:    Energy =   0.0801
Level     1,  Iter    12:    Energy =   0.0806
Level     1,  Iter    13:    Energy =   0.0805
Level     1,  Iter    14:    Energy =   0.0812
Level     1,  Iter    15:    Energy =   0.0816
Level     1,  Iter    16:    Energy =   0.0821
Level     1,  Iter    17:    Energy =   0.0819
Level     1,  Iter    18:    Energy =   0.0825
Level     1,  Iter    19:    Energy =   0.0828
Level     1,  Iter    20:    Energy =   0.0828
Level     1,  Iter    21:    Energy =   0.0825
Level     1,  Iter    22:    Energy =   0.0833
Level     1,  Iter    23:    Energy =   0.0832
Level     1,  Iter    24:    Energy =   0.0833
Level     1,  Iter    25:    Energy =   0.0830
Level     1,  Iter    26:    Energy =   0.0837
Level     1,  Iter    27:    Energy =   0.0839
Level     1,  Iter    28:    Energy =   0.0837
Level     1,  Iter    29:    Energy =   0.0834
Level     1,  Iter    30:    Energy =   0.0840
Level     1,  Iter    31:    Energy =   0.0836
Level     1,  Iter    32:    Energy =   0.0840
Level     1,  Iter    33:    Energy =   0.0837
Level     1,  Iter    34:    Energy =   0.0842
Level     1,  Iter    35:    Energy =   0.0838
Level     1,  Iter    36:    Energy =   0.0843
Level     1,  Iter    37:    Energy =   0.0840
Level     1,  Iter    38:    Energy =   0.0844
Level     1,  Iter    39:    Energy =   0.0840
Level     1,  Iter    40:    Energy =   0.0844
Level     1,  Iter    41:    Energy =   0.0840
Level     1,  Iter    42:    Energy =   0.0845
Level     1,  Iter    43:    Energy =   0.0841
Level     1,  Iter    44:    Energy =   0.0844
Level     1,  Iter    45:    Energy =   0.0840
Level     1,  Iter    46:    Energy =   0.0845
Level     1,  Iter    47:    Energy =   0.0843
Level     1,  Iter    48:    Energy =   0.0843
Level     1,  Iter    49:    Energy =   0.0839
Level     1,  Iter    50:    Energy =   0.0845
Level     1,  Iter    51:    Energy =   0.0845
Level     1,  Iter    52:    Energy =   0.0843
Level     1,  Iter    53:    Energy =   0.0839
Level     1,  Iter    54:    Energy =   0.0845
Level     1,  Iter    55:    Energy =   0.0842
Level     1,  Iter    56:    Energy =   0.0844
Level     1,  Iter    57:    Energy =   0.0840
Level     1,  Iter    58:    Energy =   0.0845
Level     1,  Iter    59:    Energy =   0.0845
END OF LEVEL     1    DetJac Range:   0.1168  to   2.8228 
  Avg. Gradient Time  : 0.0415s  40.04% 
  Avg. Gaussian Time  : 0.0499s  48.14% 
  Avg. Iteration Time : 0.1037s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0425
Level     2,  Iter     1:    Energy =   0.0445
Level     2,  Iter     2:    Energy =   0.0463
Level     2,  Iter     3:    Energy =   0.0481
Level     2,  Iter     4:    Energy =   0.0495
Level     2,  Iter     5:    Energy =   0.0510
Level     2,  Iter     6:    Energy =   0.0524
Level     2,  Iter     7:    Energy =   0.0533
Level     2,  Iter     8:    Energy =   0.0541
Level     2,  Iter     9:    Energy =   0.0551
Level     2,  Iter    10:    Energy =   0.0559
Level     2,  Iter    11:    Energy =   0.0567
Level     2,  Iter    12:    Energy =   0.0574
Level     2,  Iter    13:    Energy =   0.0581
Level     2,  Iter    14:    Energy =   0.0586
Level     2,  Iter    15:    Energy =   0.0590
Level     2,  Iter    16:    Energy =   0.0595
Level     2,  Iter    17:    Energy =   0.0599
Level     2,  Iter    18:    Energy =   0.0603
Level     2,  Iter    19:    Energy =   0.0606
END OF LEVEL     2    DetJac Range:   0.0657  to   4.4599 
  Avg. Gradient Time  : 0.3014s  37.62% 
  Avg. Gaussian Time  : 0.4135s  51.61% 
  Avg. Iteration Time : 0.8012s 

real	0m26.544s
user	0m46.712s
sys	0m2.700s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train021/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train021/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train021/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=47 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=47 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.871154 0.876923
+ echo 'CHUNK 0.871154 0.876923 1'
CHUNK 0.871154 0.876923 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.871154 0.876923 1
====================================
         PROGRESS: 0.871154               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=022
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 022
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train022
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train022
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 022 right 0
+ local tid=022
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 022 0
+ set -e
+ local tid=022
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train022/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  2189.94 	 OutFr   0.0000 	 RMSD     2.7562
Iter 002 	 Temp     3.72 	 Delta  2178.40 	 OutFr   0.0000 	 RMSD     2.0633
Iter 003 	 Temp     3.46 	 Delta  2096.41 	 OutFr   0.0000 	 RMSD     2.0762
Iter 004 	 Temp     3.22 	 Delta  1988.82 	 OutFr   0.0000 	 RMSD     2.0581
Iter 005 	 Temp     2.99 	 Delta  1871.04 	 OutFr   0.0000 	 RMSD     2.0369
Iter 006 	 Temp     2.78 	 Delta  1751.78 	 OutFr   0.0000 	 RMSD     2.0187
Iter 007 	 Temp     2.59 	 Delta  1636.74 	 OutFr   0.0000 	 RMSD     2.0024
Iter 008 	 Temp     2.41 	 Delta  1528.01 	 OutFr   0.0000 	 RMSD     1.9885
Iter 009 	 Temp     2.24 	 Delta  1425.03 	 OutFr   0.0000 	 RMSD     1.9770
Iter 010 	 Temp     2.08 	 Delta  1326.29 	 OutFr   0.0026 	 RMSD     1.9685
Iter 011 	 Temp     1.94 	 Delta  1231.40 	 OutFr   0.0026 	 RMSD     1.9618
Iter 012 	 Temp     1.80 	 Delta  1141.82 	 OutFr   0.0052 	 RMSD     1.9569
Iter 013 	 Temp     1.67 	 Delta  1057.70 	 OutFr   0.0052 	 RMSD     1.9536
Iter 014 	 Temp     1.56 	 Delta   978.85 	 OutFr   0.0052 	 RMSD     1.9510
Iter 015 	 Temp     1.45 	 Delta   906.14 	 OutFr   0.0052 	 RMSD     1.9496
Iter 016 	 Temp     1.35 	 Delta   840.63 	 OutFr   0.0207 	 RMSD     1.9489
Iter 017 	 Temp     1.25 	 Delta   781.92 	 OutFr   0.0207 	 RMSD     1.9488
Iter 018 	 Temp     1.16 	 Delta   728.59 	 OutFr   0.0233 	 RMSD     1.9493
Iter 019 	 Temp     1.08 	 Delta   679.67 	 OutFr   0.0259 	 RMSD     1.9498
Iter 020 	 Temp     1.01 	 Delta   634.77 	 OutFr   0.0285 	 RMSD     1.9503
Iter 021 	 Temp     0.94 	 Delta   593.89 	 OutFr   0.0337 	 RMSD     1.9507
Iter 022 	 Temp     0.87 	 Delta   555.45 	 OutFr   0.0544 	 RMSD     1.9513
Iter 023 	 Temp     0.81 	 Delta   516.85 	 OutFr   0.0570 	 RMSD     1.9520
Iter 024 	 Temp     0.75 	 Delta   478.33 	 OutFr   0.0829 	 RMSD     1.9532
Iter 025 	 Temp     0.70 	 Delta   442.23 	 OutFr   0.1062 	 RMSD     1.9545
Iter 026 	 Temp     0.65 	 Delta   407.81 	 OutFr   0.1140 	 RMSD     1.9568
Iter 027 	 Temp     0.61 	 Delta   374.73 	 OutFr   0.1347 	 RMSD     1.9601
Iter 028 	 Temp     0.56 	 Delta   343.00 	 OutFr   0.1658 	 RMSD     1.9633
Iter 029 	 Temp     0.52 	 Delta   311.29 	 OutFr   0.1891 	 RMSD     1.9673
Iter 030 	 Temp     0.49 	 Delta   279.39 	 OutFr   0.2176 	 RMSD     1.9725
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train022/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.1mS4fwCo/mybin.nii.gz
+ vtklevelset /tmp/ashs.1mS4fwCo/mybin.nii.gz /tmp/ashs.1mS4fwCo/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.1mS4fwCo/mymesh.vtk /tmp/ashs.1mS4fwCo/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2967.71795689 2818.78471644   0.94981557
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.1mS4fwCo/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train022/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 11.0987 to 35.4241
   Y : -16.7681 to 26.9769
   Z : -28.2175 to -0.0851011
   Image resolution  : 99 by 155 by 109
   Image box origin  : {6.0987, -21.7681, -33.2175}
   Image box size    : {34.375, 53.8194, 38.1496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-6.0987, 21.7681, -33.2175]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train022/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_fwd.mat -o /tmp/ashs.1mS4fwCo/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train022/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_inv.mat -o /tmp/ashs.1mS4fwCo/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train022/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.1mS4fwCo/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train022/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=48 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=48 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.876923 0.882692
+ echo 'CHUNK 0.876923 0.882692 0.5'
CHUNK 0.876923 0.882692 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.876923 0.882692 0.5
====================================
         PROGRESS: 0.876923               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train022/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.1mS4fwCo/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.1mS4fwCo/fixed_hw.nii.gz /tmp/ashs.1mS4fwCo/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train022/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.781919, moving = 0.553047
LEVEL 1 of 3
  Smoothing sigmas: [2.38157, 2.3902, 2.35989], [0.972271, 0.975797, 0.963422]
Level     0,  Iter     0:    Energy =   0.0574
Level     0,  Iter     1:    Energy =   0.0635
Level     0,  Iter     2:    Energy =   0.0682
Level     0,  Iter     3:    Energy =   0.0721
Level     0,  Iter     4:    Energy =   0.0753
Level     0,  Iter     5:    Energy =   0.0782
Level     0,  Iter     6:    Energy =   0.0808
Level     0,  Iter     7:    Energy =   0.0835
Level     0,  Iter     8:    Energy =   0.0856
Level     0,  Iter     9:    Energy =   0.0870
Level     0,  Iter    10:    Energy =   0.0881
Level     0,  Iter    11:    Energy =   0.0882
Level     0,  Iter    12:    Energy =   0.0885
Level     0,  Iter    13:    Energy =   0.0886
Level     0,  Iter    14:    Energy =   0.0889
Level     0,  Iter    15:    Energy =   0.0891
Level     0,  Iter    16:    Energy =   0.0894
Level     0,  Iter    17:    Energy =   0.0895
Level     0,  Iter    18:    Energy =   0.0899
Level     0,  Iter    19:    Energy =   0.0900
Level     0,  Iter    20:    Energy =   0.0904
Level     0,  Iter    21:    Energy =   0.0905
Level     0,  Iter    22:    Energy =   0.0908
Level     0,  Iter    23:    Energy =   0.0908
Level     0,  Iter    24:    Energy =   0.0911
Level     0,  Iter    25:    Energy =   0.0911
Level     0,  Iter    26:    Energy =   0.0913
Level     0,  Iter    27:    Energy =   0.0914
Level     0,  Iter    28:    Energy =   0.0916
Level     0,  Iter    29:    Energy =   0.0918
Level     0,  Iter    30:    Energy =   0.0920
Level     0,  Iter    31:    Energy =   0.0922
Level     0,  Iter    32:    Energy =   0.0924
Level     0,  Iter    33:    Energy =   0.0925
Level     0,  Iter    34:    Energy =   0.0926
Level     0,  Iter    35:    Energy =   0.0927
Level     0,  Iter    36:    Energy =   0.0927
Level     0,  Iter    37:    Energy =   0.0928
Level     0,  Iter    38:    Energy =   0.0929
Level     0,  Iter    39:    Energy =   0.0929
Level     0,  Iter    40:    Energy =   0.0930
Level     0,  Iter    41:    Energy =   0.0931
Level     0,  Iter    42:    Energy =   0.0931
Level     0,  Iter    43:    Energy =   0.0932
Level     0,  Iter    44:    Energy =   0.0933
Level     0,  Iter    45:    Energy =   0.0933
Level     0,  Iter    46:    Energy =   0.0934
Level     0,  Iter    47:    Energy =   0.0934
Level     0,  Iter    48:    Energy =   0.0935
Level     0,  Iter    49:    Energy =   0.0935
Level     0,  Iter    50:    Energy =   0.0935
Level     0,  Iter    51:    Energy =   0.0936
Level     0,  Iter    52:    Energy =   0.0936
Level     0,  Iter    53:    Energy =   0.0937
Level     0,  Iter    54:    Energy =   0.0937
Level     0,  Iter    55:    Energy =   0.0938
Level     0,  Iter    56:    Energy =   0.0938
Level     0,  Iter    57:    Energy =   0.0939
Level     0,  Iter    58:    Energy =   0.0939
Level     0,  Iter    59:    Energy =   0.0940
END OF LEVEL     0    DetJac Range:   0.1685  to   2.0335 
  Avg. Gradient Time  : 0.0071s  37.45% 
  Avg. Gaussian Time  : 0.0090s  47.47% 
  Avg. Iteration Time : 0.0190s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19078, 1.1951, 1.2014], [0.486136, 0.487898, 0.490469]
Level     1,  Iter     0:    Energy =   0.0660
Level     1,  Iter     1:    Energy =   0.0700
Level     1,  Iter     2:    Energy =   0.0733
Level     1,  Iter     3:    Energy =   0.0762
Level     1,  Iter     4:    Energy =   0.0784
Level     1,  Iter     5:    Energy =   0.0801
Level     1,  Iter     6:    Energy =   0.0814
Level     1,  Iter     7:    Energy =   0.0825
Level     1,  Iter     8:    Energy =   0.0835
Level     1,  Iter     9:    Energy =   0.0842
Level     1,  Iter    10:    Energy =   0.0849
Level     1,  Iter    11:    Energy =   0.0855
Level     1,  Iter    12:    Energy =   0.0862
Level     1,  Iter    13:    Energy =   0.0869
Level     1,  Iter    14:    Energy =   0.0874
Level     1,  Iter    15:    Energy =   0.0873
Level     1,  Iter    16:    Energy =   0.0874
Level     1,  Iter    17:    Energy =   0.0872
Level     1,  Iter    18:    Energy =   0.0878
Level     1,  Iter    19:    Energy =   0.0875
Level     1,  Iter    20:    Energy =   0.0882
Level     1,  Iter    21:    Energy =   0.0884
Level     1,  Iter    22:    Energy =   0.0882
Level     1,  Iter    23:    Energy =   0.0880
Level     1,  Iter    24:    Energy =   0.0885
Level     1,  Iter    25:    Energy =   0.0881
Level     1,  Iter    26:    Energy =   0.0888
Level     1,  Iter    27:    Energy =   0.0887
Level     1,  Iter    28:    Energy =   0.0887
Level     1,  Iter    29:    Energy =   0.0883
Level     1,  Iter    30:    Energy =   0.0891
Level     1,  Iter    31:    Energy =   0.0888
Level     1,  Iter    32:    Energy =   0.0892
Level     1,  Iter    33:    Energy =   0.0888
Level     1,  Iter    34:    Energy =   0.0895
Level     1,  Iter    35:    Energy =   0.0892
Level     1,  Iter    36:    Energy =   0.0894
Level     1,  Iter    37:    Energy =   0.0890
Level     1,  Iter    38:    Energy =   0.0898
Level     1,  Iter    39:    Energy =   0.0898
Level     1,  Iter    40:    Energy =   0.0896
Level     1,  Iter    41:    Energy =   0.0893
Level     1,  Iter    42:    Energy =   0.0897
Level     1,  Iter    43:    Energy =   0.0892
Level     1,  Iter    44:    Energy =   0.0900
Level     1,  Iter    45:    Energy =   0.0896
Level     1,  Iter    46:    Energy =   0.0899
Level     1,  Iter    47:    Energy =   0.0894
Level     1,  Iter    48:    Energy =   0.0902
Level     1,  Iter    49:    Energy =   0.0900
Level     1,  Iter    50:    Energy =   0.0900
Level     1,  Iter    51:    Energy =   0.0895
Level     1,  Iter    52:    Energy =   0.0903
Level     1,  Iter    53:    Energy =   0.0900
Level     1,  Iter    54:    Energy =   0.0901
Level     1,  Iter    55:    Energy =   0.0897
Level     1,  Iter    56:    Energy =   0.0904
Level     1,  Iter    57:    Energy =   0.0903
Level     1,  Iter    58:    Energy =   0.0903
Level     1,  Iter    59:    Energy =   0.0897
END OF LEVEL     1    DetJac Range:   0.0780  to   3.6190 
  Avg. Gradient Time  : 0.0415s  39.66% 
  Avg. Gaussian Time  : 0.0506s  48.34% 
  Avg. Iteration Time : 0.1047s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0463
Level     2,  Iter     1:    Energy =   0.0485
Level     2,  Iter     2:    Energy =   0.0506
Level     2,  Iter     3:    Energy =   0.0526
Level     2,  Iter     4:    Energy =   0.0543
Level     2,  Iter     5:    Energy =   0.0560
Level     2,  Iter     6:    Energy =   0.0576
Level     2,  Iter     7:    Energy =   0.0585
Level     2,  Iter     8:    Energy =   0.0592
Level     2,  Iter     9:    Energy =   0.0598
Level     2,  Iter    10:    Energy =   0.0604
Level     2,  Iter    11:    Energy =   0.0611
Level     2,  Iter    12:    Energy =   0.0619
Level     2,  Iter    13:    Energy =   0.0627
Level     2,  Iter    14:    Energy =   0.0632
Level     2,  Iter    15:    Energy =   0.0636
Level     2,  Iter    16:    Energy =   0.0637
Level     2,  Iter    17:    Energy =   0.0637
Level     2,  Iter    18:    Energy =   0.0638
Level     2,  Iter    19:    Energy =   0.0638
END OF LEVEL     2    DetJac Range:   0.0457  to   4.8271 
  Avg. Gradient Time  : 0.2921s  37.36% 
  Avg. Gaussian Time  : 0.4061s  51.95% 
  Avg. Iteration Time : 0.7818s 

real	0m26.186s
user	0m46.192s
sys	0m2.736s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train022/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train022/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train022/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=48 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=48 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.876923 0.882692
+ echo 'CHUNK 0.876923 0.882692 1'
CHUNK 0.876923 0.882692 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.876923 0.882692 1
====================================
         PROGRESS: 0.876923               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=023
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 023
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train023
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train023
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 023 right 0
+ local tid=023
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 023 0
+ set -e
+ local tid=023
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train023/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1776.80 	 OutFr   0.0000 	 RMSD     2.9779
Iter 002 	 Temp     3.72 	 Delta  1765.80 	 OutFr   0.0000 	 RMSD     1.9806
Iter 003 	 Temp     3.46 	 Delta  1691.41 	 OutFr   0.0000 	 RMSD     2.0138
Iter 004 	 Temp     3.22 	 Delta  1613.36 	 OutFr   0.0000 	 RMSD     2.0106
Iter 005 	 Temp     2.99 	 Delta  1539.66 	 OutFr   0.0000 	 RMSD     1.9975
Iter 006 	 Temp     2.78 	 Delta  1473.15 	 OutFr   0.0000 	 RMSD     1.9847
Iter 007 	 Temp     2.59 	 Delta  1411.90 	 OutFr   0.0000 	 RMSD     1.9738
Iter 008 	 Temp     2.41 	 Delta  1352.75 	 OutFr   0.0000 	 RMSD     1.9643
Iter 009 	 Temp     2.24 	 Delta  1292.98 	 OutFr   0.0000 	 RMSD     1.9548
Iter 010 	 Temp     2.08 	 Delta  1230.90 	 OutFr   0.0000 	 RMSD     1.9454
Iter 011 	 Temp     1.94 	 Delta  1166.54 	 OutFr   0.0026 	 RMSD     1.9369
Iter 012 	 Temp     1.80 	 Delta  1101.81 	 OutFr   0.0026 	 RMSD     1.9291
Iter 013 	 Temp     1.67 	 Delta  1039.55 	 OutFr   0.0026 	 RMSD     1.9217
Iter 014 	 Temp     1.56 	 Delta   981.75 	 OutFr   0.0078 	 RMSD     1.9149
Iter 015 	 Temp     1.45 	 Delta   927.51 	 OutFr   0.0078 	 RMSD     1.9088
Iter 016 	 Temp     1.35 	 Delta   873.44 	 OutFr   0.0078 	 RMSD     1.9036
Iter 017 	 Temp     1.25 	 Delta   817.54 	 OutFr   0.0104 	 RMSD     1.8988
Iter 018 	 Temp     1.16 	 Delta   761.07 	 OutFr   0.0104 	 RMSD     1.8957
Iter 019 	 Temp     1.08 	 Delta   706.32 	 OutFr   0.0181 	 RMSD     1.8941
Iter 020 	 Temp     1.01 	 Delta   655.03 	 OutFr   0.0233 	 RMSD     1.8919
Iter 021 	 Temp     0.94 	 Delta   608.20 	 OutFr   0.0285 	 RMSD     1.8887
Iter 022 	 Temp     0.87 	 Delta   564.12 	 OutFr   0.0363 	 RMSD     1.8858
Iter 023 	 Temp     0.81 	 Delta   519.24 	 OutFr   0.0492 	 RMSD     1.8838
Iter 024 	 Temp     0.75 	 Delta   469.47 	 OutFr   0.0674 	 RMSD     1.8823
Iter 025 	 Temp     0.70 	 Delta   413.14 	 OutFr   0.0933 	 RMSD     1.8794
Iter 026 	 Temp     0.65 	 Delta   350.87 	 OutFr   0.1373 	 RMSD     1.8768
Iter 027 	 Temp     0.61 	 Delta   301.07 	 OutFr   0.1891 	 RMSD     1.8791
Iter 028 	 Temp     0.56 	 Delta   273.77 	 OutFr   0.2280 	 RMSD     1.8894
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train023/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.2JM9YPxQ/mybin.nii.gz
+ vtklevelset /tmp/ashs.2JM9YPxQ/mybin.nii.gz /tmp/ashs.2JM9YPxQ/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.2JM9YPxQ/mymesh.vtk /tmp/ashs.2JM9YPxQ/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2967.71795689 2776.68808779   0.93563072
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.2JM9YPxQ/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train023/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 12.5984 to 36.7713
   Y : -20.3165 to 22.2643
   Z : -23.907 to 3.05586
   Image resolution  : 99 by 152 by 106
   Image box origin  : {7.5984, -25.3165, -28.907}
   Image box size    : {34.375, 52.7777, 37.0996}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-7.5984, 25.3165, -28.907]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train023/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_fwd.mat -o /tmp/ashs.2JM9YPxQ/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train023/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_inv.mat -o /tmp/ashs.2JM9YPxQ/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train023/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.2JM9YPxQ/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train023/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=49 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=49 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.882692 0.888462
+ echo 'CHUNK 0.882692 0.888462 0.5'
CHUNK 0.882692 0.888462 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.882692 0.888462 0.5
====================================
         PROGRESS: 0.882692               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train023/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.2JM9YPxQ/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.2JM9YPxQ/fixed_hw.nii.gz /tmp/ashs.2JM9YPxQ/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train023/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.74877, moving = 0.770755
LEVEL 1 of 3
  Smoothing sigmas: [2.38157, 2.40562, 2.37994], [0.972271, 0.982092, 0.971606]
Level     0,  Iter     0:    Energy =   0.0547
Level     0,  Iter     1:    Energy =   0.0636
Level     0,  Iter     2:    Energy =   0.0719
Level     0,  Iter     3:    Energy =   0.0772
Level     0,  Iter     4:    Energy =   0.0815
Level     0,  Iter     5:    Energy =   0.0861
Level     0,  Iter     6:    Energy =   0.0902
Level     0,  Iter     7:    Energy =   0.0931
Level     0,  Iter     8:    Energy =   0.0955
Level     0,  Iter     9:    Energy =   0.0971
Level     0,  Iter    10:    Energy =   0.0979
Level     0,  Iter    11:    Energy =   0.0987
Level     0,  Iter    12:    Energy =   0.0988
Level     0,  Iter    13:    Energy =   0.0996
Level     0,  Iter    14:    Energy =   0.0995
Level     0,  Iter    15:    Energy =   0.1003
Level     0,  Iter    16:    Energy =   0.1003
Level     0,  Iter    17:    Energy =   0.1009
Level     0,  Iter    18:    Energy =   0.1009
Level     0,  Iter    19:    Energy =   0.1014
Level     0,  Iter    20:    Energy =   0.1014
Level     0,  Iter    21:    Energy =   0.1019
Level     0,  Iter    22:    Energy =   0.1019
Level     0,  Iter    23:    Energy =   0.1023
Level     0,  Iter    24:    Energy =   0.1022
Level     0,  Iter    25:    Energy =   0.1025
Level     0,  Iter    26:    Energy =   0.1025
Level     0,  Iter    27:    Energy =   0.1027
Level     0,  Iter    28:    Energy =   0.1027
Level     0,  Iter    29:    Energy =   0.1029
Level     0,  Iter    30:    Energy =   0.1029
Level     0,  Iter    31:    Energy =   0.1031
Level     0,  Iter    32:    Energy =   0.1030
Level     0,  Iter    33:    Energy =   0.1032
Level     0,  Iter    34:    Energy =   0.1032
Level     0,  Iter    35:    Energy =   0.1034
Level     0,  Iter    36:    Energy =   0.1034
Level     0,  Iter    37:    Energy =   0.1035
Level     0,  Iter    38:    Energy =   0.1034
Level     0,  Iter    39:    Energy =   0.1036
Level     0,  Iter    40:    Energy =   0.1035
Level     0,  Iter    41:    Energy =   0.1037
Level     0,  Iter    42:    Energy =   0.1036
Level     0,  Iter    43:    Energy =   0.1038
Level     0,  Iter    44:    Energy =   0.1037
Level     0,  Iter    45:    Energy =   0.1039
Level     0,  Iter    46:    Energy =   0.1038
Level     0,  Iter    47:    Energy =   0.1039
Level     0,  Iter    48:    Energy =   0.1039
Level     0,  Iter    49:    Energy =   0.1041
Level     0,  Iter    50:    Energy =   0.1039
Level     0,  Iter    51:    Energy =   0.1041
Level     0,  Iter    52:    Energy =   0.1041
Level     0,  Iter    53:    Energy =   0.1043
Level     0,  Iter    54:    Energy =   0.1041
Level     0,  Iter    55:    Energy =   0.1043
Level     0,  Iter    56:    Energy =   0.1042
Level     0,  Iter    57:    Energy =   0.1044
Level     0,  Iter    58:    Energy =   0.1042
Level     0,  Iter    59:    Energy =   0.1045
END OF LEVEL     0    DetJac Range:   0.3733  to   2.2617 
  Avg. Gradient Time  : 0.0071s  37.30% 
  Avg. Gaussian Time  : 0.0090s  47.79% 
  Avg. Iteration Time : 0.0189s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19078, 1.20281, 1.21242], [0.486136, 0.491046, 0.494969]
Level     1,  Iter     0:    Energy =   0.0755
Level     1,  Iter     1:    Energy =   0.0808
Level     1,  Iter     2:    Energy =   0.0849
Level     1,  Iter     3:    Energy =   0.0883
Level     1,  Iter     4:    Energy =   0.0904
Level     1,  Iter     5:    Energy =   0.0919
Level     1,  Iter     6:    Energy =   0.0928
Level     1,  Iter     7:    Energy =   0.0936
Level     1,  Iter     8:    Energy =   0.0943
Level     1,  Iter     9:    Energy =   0.0950
Level     1,  Iter    10:    Energy =   0.0957
Level     1,  Iter    11:    Energy =   0.0962
Level     1,  Iter    12:    Energy =   0.0966
Level     1,  Iter    13:    Energy =   0.0970
Level     1,  Iter    14:    Energy =   0.0974
Level     1,  Iter    15:    Energy =   0.0978
Level     1,  Iter    16:    Energy =   0.0981
Level     1,  Iter    17:    Energy =   0.0983
Level     1,  Iter    18:    Energy =   0.0985
Level     1,  Iter    19:    Energy =   0.0987
Level     1,  Iter    20:    Energy =   0.0988
Level     1,  Iter    21:    Energy =   0.0989
Level     1,  Iter    22:    Energy =   0.0990
Level     1,  Iter    23:    Energy =   0.0990
Level     1,  Iter    24:    Energy =   0.0991
Level     1,  Iter    25:    Energy =   0.0991
Level     1,  Iter    26:    Energy =   0.0992
Level     1,  Iter    27:    Energy =   0.0992
Level     1,  Iter    28:    Energy =   0.0992
Level     1,  Iter    29:    Energy =   0.0993
Level     1,  Iter    30:    Energy =   0.0993
Level     1,  Iter    31:    Energy =   0.0993
Level     1,  Iter    32:    Energy =   0.0993
Level     1,  Iter    33:    Energy =   0.0993
Level     1,  Iter    34:    Energy =   0.0993
Level     1,  Iter    35:    Energy =   0.0994
Level     1,  Iter    36:    Energy =   0.0994
Level     1,  Iter    37:    Energy =   0.0994
Level     1,  Iter    38:    Energy =   0.0994
Level     1,  Iter    39:    Energy =   0.0995
Level     1,  Iter    40:    Energy =   0.0995
Level     1,  Iter    41:    Energy =   0.0996
Level     1,  Iter    42:    Energy =   0.0996
Level     1,  Iter    43:    Energy =   0.0997
Level     1,  Iter    44:    Energy =   0.0997
Level     1,  Iter    45:    Energy =   0.0997
Level     1,  Iter    46:    Energy =   0.0998
Level     1,  Iter    47:    Energy =   0.0998
Level     1,  Iter    48:    Energy =   0.0998
Level     1,  Iter    49:    Energy =   0.0998
Level     1,  Iter    50:    Energy =   0.0998
Level     1,  Iter    51:    Energy =   0.0998
Level     1,  Iter    52:    Energy =   0.0998
Level     1,  Iter    53:    Energy =   0.0998
Level     1,  Iter    54:    Energy =   0.0999
Level     1,  Iter    55:    Energy =   0.0999
Level     1,  Iter    56:    Energy =   0.0999
Level     1,  Iter    57:    Energy =   0.0999
Level     1,  Iter    58:    Energy =   0.0999
Level     1,  Iter    59:    Energy =   0.0999
END OF LEVEL     1    DetJac Range:   0.1952  to   3.6210 
  Avg. Gradient Time  : 0.0394s  39.88% 
  Avg. Gaussian Time  : 0.0474s  48.05% 
  Avg. Iteration Time : 0.0987s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0536
Level     2,  Iter     1:    Energy =   0.0563
Level     2,  Iter     2:    Energy =   0.0586
Level     2,  Iter     3:    Energy =   0.0606
Level     2,  Iter     4:    Energy =   0.0626
Level     2,  Iter     5:    Energy =   0.0642
Level     2,  Iter     6:    Energy =   0.0655
Level     2,  Iter     7:    Energy =   0.0666
Level     2,  Iter     8:    Energy =   0.0676
Level     2,  Iter     9:    Energy =   0.0686
Level     2,  Iter    10:    Energy =   0.0695
Level     2,  Iter    11:    Energy =   0.0703
Level     2,  Iter    12:    Energy =   0.0710
Level     2,  Iter    13:    Energy =   0.0715
Level     2,  Iter    14:    Energy =   0.0718
Level     2,  Iter    15:    Energy =   0.0719
Level     2,  Iter    16:    Energy =   0.0721
Level     2,  Iter    17:    Energy =   0.0722
Level     2,  Iter    18:    Energy =   0.0724
Level     2,  Iter    19:    Energy =   0.0727
END OF LEVEL     2    DetJac Range:   0.1488  to   6.8802 
  Avg. Gradient Time  : 0.2807s  37.47% 
  Avg. Gaussian Time  : 0.3882s  51.82% 
  Avg. Iteration Time : 0.7492s 

real	0m24.956s
user	0m43.944s
sys	0m2.564s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train023/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train023/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train023/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=49 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=49 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.882692 0.888462
+ echo 'CHUNK 0.882692 0.888462 1'
CHUNK 0.882692 0.888462 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.882692 0.888462 1
====================================
         PROGRESS: 0.882692               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=024
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 024
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train024
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train024
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 024 right 0
+ local tid=024
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 024 0
+ set -e
+ local tid=024
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train024/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1816.72 	 OutFr   0.0000 	 RMSD     2.3524
Iter 002 	 Temp     3.72 	 Delta  1796.88 	 OutFr   0.0000 	 RMSD     1.9663
Iter 003 	 Temp     3.46 	 Delta  1720.41 	 OutFr   0.0000 	 RMSD     2.0097
Iter 004 	 Temp     3.22 	 Delta  1630.13 	 OutFr   0.0000 	 RMSD     1.9931
Iter 005 	 Temp     2.99 	 Delta  1540.18 	 OutFr   0.0000 	 RMSD     1.9658
Iter 006 	 Temp     2.78 	 Delta  1452.74 	 OutFr   0.0000 	 RMSD     1.9405
Iter 007 	 Temp     2.59 	 Delta  1366.40 	 OutFr   0.0000 	 RMSD     1.9189
Iter 008 	 Temp     2.41 	 Delta  1279.91 	 OutFr   0.0000 	 RMSD     1.9017
Iter 009 	 Temp     2.24 	 Delta  1193.31 	 OutFr   0.0000 	 RMSD     1.8876
Iter 010 	 Temp     2.08 	 Delta  1107.49 	 OutFr   0.0000 	 RMSD     1.8751
Iter 011 	 Temp     1.94 	 Delta  1024.17 	 OutFr   0.0000 	 RMSD     1.8643
Iter 012 	 Temp     1.80 	 Delta   945.82 	 OutFr   0.0000 	 RMSD     1.8541
Iter 013 	 Temp     1.67 	 Delta   874.66 	 OutFr   0.0000 	 RMSD     1.8438
Iter 014 	 Temp     1.56 	 Delta   811.12 	 OutFr   0.0000 	 RMSD     1.8356
Iter 015 	 Temp     1.45 	 Delta   753.27 	 OutFr   0.0000 	 RMSD     1.8291
Iter 016 	 Temp     1.35 	 Delta   698.98 	 OutFr   0.0000 	 RMSD     1.8238
Iter 017 	 Temp     1.25 	 Delta   648.48 	 OutFr   0.0000 	 RMSD     1.8198
Iter 018 	 Temp     1.16 	 Delta   603.78 	 OutFr   0.0052 	 RMSD     1.8167
Iter 019 	 Temp     1.08 	 Delta   565.91 	 OutFr   0.0052 	 RMSD     1.8151
Iter 020 	 Temp     1.01 	 Delta   532.83 	 OutFr   0.0078 	 RMSD     1.8138
Iter 021 	 Temp     0.94 	 Delta   502.91 	 OutFr   0.0233 	 RMSD     1.8138
Iter 022 	 Temp     0.87 	 Delta   477.26 	 OutFr   0.0311 	 RMSD     1.8144
Iter 023 	 Temp     0.81 	 Delta   455.66 	 OutFr   0.0415 	 RMSD     1.8153
Iter 024 	 Temp     0.75 	 Delta   435.21 	 OutFr   0.0518 	 RMSD     1.8164
Iter 025 	 Temp     0.70 	 Delta   413.17 	 OutFr   0.0725 	 RMSD     1.8172
Iter 026 	 Temp     0.65 	 Delta   388.82 	 OutFr   0.0855 	 RMSD     1.8179
Iter 027 	 Temp     0.61 	 Delta   363.40 	 OutFr   0.1010 	 RMSD     1.8190
Iter 028 	 Temp     0.56 	 Delta   339.88 	 OutFr   0.1321 	 RMSD     1.8207
Iter 029 	 Temp     0.52 	 Delta   317.47 	 OutFr   0.1451 	 RMSD     1.8221
Iter 030 	 Temp     0.49 	 Delta   292.78 	 OutFr   0.1684 	 RMSD     1.8223
Iter 031 	 Temp     0.45 	 Delta   265.42 	 OutFr   0.1995 	 RMSD     1.8214
Iter 032 	 Temp     0.42 	 Delta   235.58 	 OutFr   0.2358 	 RMSD     1.8208
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train024/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.qs3KWH0f/mybin.nii.gz
+ vtklevelset /tmp/ashs.qs3KWH0f/mybin.nii.gz /tmp/ashs.qs3KWH0f/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.qs3KWH0f/mymesh.vtk /tmp/ashs.qs3KWH0f/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2967.71795689 2757.74846904   0.92924884
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.qs3KWH0f/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train024/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 11.0988 to 34.7172
   Y : -15.3169 to 28.8435
   Z : -24.1634 to 1.15936
   Image resolution  : 97 by 156 by 101
   Image box origin  : {6.0988, -20.3169, -29.1634}
   Image box size    : {33.6805, 54.1666, 35.3496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-6.0988, 20.3169, -29.1634]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train024/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_fwd.mat -o /tmp/ashs.qs3KWH0f/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train024/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_inv.mat -o /tmp/ashs.qs3KWH0f/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train024/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.qs3KWH0f/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train024/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=50 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=50 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.888462 0.894231
+ echo 'CHUNK 0.888462 0.894231 0.5'
CHUNK 0.888462 0.894231 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.888462 0.894231 0.5
====================================
         PROGRESS: 0.888462               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train024/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.qs3KWH0f/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.qs3KWH0f/fixed_hw.nii.gz /tmp/ashs.qs3KWH0f/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train024/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.761517, moving = 0.64269
LEVEL 1 of 3
  Smoothing sigmas: [2.33346, 2.40562, 2.3549], [0.952629, 0.982092, 0.961382]
Level     0,  Iter     0:    Energy =   0.0324
Level     0,  Iter     1:    Energy =   0.0370
Level     0,  Iter     2:    Energy =   0.0419
Level     0,  Iter     3:    Energy =   0.0464
Level     0,  Iter     4:    Energy =   0.0506
Level     0,  Iter     5:    Energy =   0.0547
Level     0,  Iter     6:    Energy =   0.0583
Level     0,  Iter     7:    Energy =   0.0614
Level     0,  Iter     8:    Energy =   0.0635
Level     0,  Iter     9:    Energy =   0.0648
Level     0,  Iter    10:    Energy =   0.0655
Level     0,  Iter    11:    Energy =   0.0662
Level     0,  Iter    12:    Energy =   0.0667
Level     0,  Iter    13:    Energy =   0.0672
Level     0,  Iter    14:    Energy =   0.0677
Level     0,  Iter    15:    Energy =   0.0682
Level     0,  Iter    16:    Energy =   0.0688
Level     0,  Iter    17:    Energy =   0.0696
Level     0,  Iter    18:    Energy =   0.0706
Level     0,  Iter    19:    Energy =   0.0719
Level     0,  Iter    20:    Energy =   0.0729
Level     0,  Iter    21:    Energy =   0.0737
Level     0,  Iter    22:    Energy =   0.0746
Level     0,  Iter    23:    Energy =   0.0744
Level     0,  Iter    24:    Energy =   0.0750
Level     0,  Iter    25:    Energy =   0.0747
Level     0,  Iter    26:    Energy =   0.0752
Level     0,  Iter    27:    Energy =   0.0748
Level     0,  Iter    28:    Energy =   0.0754
Level     0,  Iter    29:    Energy =   0.0753
Level     0,  Iter    30:    Energy =   0.0758
Level     0,  Iter    31:    Energy =   0.0755
Level     0,  Iter    32:    Energy =   0.0760
Level     0,  Iter    33:    Energy =   0.0758
Level     0,  Iter    34:    Energy =   0.0762
Level     0,  Iter    35:    Energy =   0.0760
Level     0,  Iter    36:    Energy =   0.0764
Level     0,  Iter    37:    Energy =   0.0762
Level     0,  Iter    38:    Energy =   0.0765
Level     0,  Iter    39:    Energy =   0.0762
Level     0,  Iter    40:    Energy =   0.0766
Level     0,  Iter    41:    Energy =   0.0763
Level     0,  Iter    42:    Energy =   0.0767
Level     0,  Iter    43:    Energy =   0.0763
Level     0,  Iter    44:    Energy =   0.0768
Level     0,  Iter    45:    Energy =   0.0764
Level     0,  Iter    46:    Energy =   0.0769
Level     0,  Iter    47:    Energy =   0.0765
Level     0,  Iter    48:    Energy =   0.0769
Level     0,  Iter    49:    Energy =   0.0767
Level     0,  Iter    50:    Energy =   0.0770
Level     0,  Iter    51:    Energy =   0.0768
Level     0,  Iter    52:    Energy =   0.0772
Level     0,  Iter    53:    Energy =   0.0768
Level     0,  Iter    54:    Energy =   0.0773
Level     0,  Iter    55:    Energy =   0.0769
Level     0,  Iter    56:    Energy =   0.0773
Level     0,  Iter    57:    Energy =   0.0770
Level     0,  Iter    58:    Energy =   0.0774
Level     0,  Iter    59:    Energy =   0.0770
END OF LEVEL     0    DetJac Range:   0.1538  to   2.7757 
  Avg. Gradient Time  : 0.0070s  37.26% 
  Avg. Gaussian Time  : 0.0090s  47.67% 
  Avg. Iteration Time : 0.0189s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19054, 1.20281, 1.20054], [0.486035, 0.491046, 0.490116]
Level     1,  Iter     0:    Energy =   0.0516
Level     1,  Iter     1:    Energy =   0.0555
Level     1,  Iter     2:    Energy =   0.0589
Level     1,  Iter     3:    Energy =   0.0624
Level     1,  Iter     4:    Energy =   0.0651
Level     1,  Iter     5:    Energy =   0.0676
Level     1,  Iter     6:    Energy =   0.0699
Level     1,  Iter     7:    Energy =   0.0717
Level     1,  Iter     8:    Energy =   0.0732
Level     1,  Iter     9:    Energy =   0.0746
Level     1,  Iter    10:    Energy =   0.0758
Level     1,  Iter    11:    Energy =   0.0766
Level     1,  Iter    12:    Energy =   0.0766
Level     1,  Iter    13:    Energy =   0.0771
Level     1,  Iter    14:    Energy =   0.0771
Level     1,  Iter    15:    Energy =   0.0775
Level     1,  Iter    16:    Energy =   0.0776
Level     1,  Iter    17:    Energy =   0.0779
Level     1,  Iter    18:    Energy =   0.0779
Level     1,  Iter    19:    Energy =   0.0783
Level     1,  Iter    20:    Energy =   0.0783
Level     1,  Iter    21:    Energy =   0.0785
Level     1,  Iter    22:    Energy =   0.0786
Level     1,  Iter    23:    Energy =   0.0788
Level     1,  Iter    24:    Energy =   0.0788
Level     1,  Iter    25:    Energy =   0.0789
Level     1,  Iter    26:    Energy =   0.0790
Level     1,  Iter    27:    Energy =   0.0791
Level     1,  Iter    28:    Energy =   0.0792
Level     1,  Iter    29:    Energy =   0.0792
Level     1,  Iter    30:    Energy =   0.0793
Level     1,  Iter    31:    Energy =   0.0793
Level     1,  Iter    32:    Energy =   0.0795
Level     1,  Iter    33:    Energy =   0.0794
Level     1,  Iter    34:    Energy =   0.0796
Level     1,  Iter    35:    Energy =   0.0795
Level     1,  Iter    36:    Energy =   0.0798
Level     1,  Iter    37:    Energy =   0.0796
Level     1,  Iter    38:    Energy =   0.0799
Level     1,  Iter    39:    Energy =   0.0798
Level     1,  Iter    40:    Energy =   0.0801
Level     1,  Iter    41:    Energy =   0.0799
Level     1,  Iter    42:    Energy =   0.0802
Level     1,  Iter    43:    Energy =   0.0800
Level     1,  Iter    44:    Energy =   0.0803
Level     1,  Iter    45:    Energy =   0.0801
Level     1,  Iter    46:    Energy =   0.0803
Level     1,  Iter    47:    Energy =   0.0802
Level     1,  Iter    48:    Energy =   0.0804
Level     1,  Iter    49:    Energy =   0.0803
Level     1,  Iter    50:    Energy =   0.0805
Level     1,  Iter    51:    Energy =   0.0803
Level     1,  Iter    52:    Energy =   0.0806
Level     1,  Iter    53:    Energy =   0.0803
Level     1,  Iter    54:    Energy =   0.0806
Level     1,  Iter    55:    Energy =   0.0804
Level     1,  Iter    56:    Energy =   0.0807
Level     1,  Iter    57:    Energy =   0.0805
Level     1,  Iter    58:    Energy =   0.0807
Level     1,  Iter    59:    Energy =   0.0805
END OF LEVEL     1    DetJac Range:   0.1202  to   3.4405 
  Avg. Gradient Time  : 0.0386s  39.87% 
  Avg. Gaussian Time  : 0.0466s  48.16% 
  Avg. Iteration Time : 0.0968s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0419
Level     2,  Iter     1:    Energy =   0.0445
Level     2,  Iter     2:    Energy =   0.0462
Level     2,  Iter     3:    Energy =   0.0477
Level     2,  Iter     4:    Energy =   0.0490
Level     2,  Iter     5:    Energy =   0.0501
Level     2,  Iter     6:    Energy =   0.0512
Level     2,  Iter     7:    Energy =   0.0521
Level     2,  Iter     8:    Energy =   0.0529
Level     2,  Iter     9:    Energy =   0.0537
Level     2,  Iter    10:    Energy =   0.0544
Level     2,  Iter    11:    Energy =   0.0551
Level     2,  Iter    12:    Energy =   0.0556
Level     2,  Iter    13:    Energy =   0.0561
Level     2,  Iter    14:    Energy =   0.0567
Level     2,  Iter    15:    Energy =   0.0573
Level     2,  Iter    16:    Energy =   0.0579
Level     2,  Iter    17:    Energy =   0.0585
Level     2,  Iter    18:    Energy =   0.0591
Level     2,  Iter    19:    Energy =   0.0597
END OF LEVEL     2    DetJac Range:   0.0617  to   5.0425 
  Avg. Gradient Time  : 0.2705s  37.29% 
  Avg. Gaussian Time  : 0.3770s  51.96% 
  Avg. Iteration Time : 0.7255s 

real	0m24.295s
user	0m42.928s
sys	0m2.296s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train024/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train024/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train024/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=50 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=50 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.888462 0.894231
+ echo 'CHUNK 0.888462 0.894231 1'
CHUNK 0.888462 0.894231 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.888462 0.894231 1
====================================
         PROGRESS: 0.888462               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ side=right
+ tid=025
+ cat
Script: ashs_bootstrap_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Training subject: 025
+ [[ '' -ne 1 ]]
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ TSEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right_seg.nii.gz
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train025
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train025
+ FDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 025 right 0
+ local tid=025
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 025 0
+ set -e
+ local tid=025
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right_seg.nii.gz
+ ml_affine /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train025/bs_affine.mat
Common label: 1
Common label: 2
Common label: 3
Common label: 4
Common label: 5
Common label: 6
Common label: 7
Common label: 8
Iter 001 	 Temp     4.00 	 Delta  1689.42 	 OutFr   0.0000 	 RMSD     2.5705
Iter 002 	 Temp     3.72 	 Delta  1692.57 	 OutFr   0.0000 	 RMSD     2.0250
Iter 003 	 Temp     3.46 	 Delta  1638.82 	 OutFr   0.0000 	 RMSD     2.0396
Iter 004 	 Temp     3.22 	 Delta  1579.70 	 OutFr   0.0000 	 RMSD     2.0108
Iter 005 	 Temp     2.99 	 Delta  1522.82 	 OutFr   0.0000 	 RMSD     1.9818
Iter 006 	 Temp     2.78 	 Delta  1469.31 	 OutFr   0.0000 	 RMSD     1.9568
Iter 007 	 Temp     2.59 	 Delta  1416.00 	 OutFr   0.0000 	 RMSD     1.9347
Iter 008 	 Temp     2.41 	 Delta  1359.13 	 OutFr   0.0026 	 RMSD     1.9157
Iter 009 	 Temp     2.24 	 Delta  1297.31 	 OutFr   0.0052 	 RMSD     1.8984
Iter 010 	 Temp     2.08 	 Delta  1231.32 	 OutFr   0.0052 	 RMSD     1.8841
Iter 011 	 Temp     1.94 	 Delta  1163.68 	 OutFr   0.0052 	 RMSD     1.8714
Iter 012 	 Temp     1.80 	 Delta  1097.48 	 OutFr   0.0078 	 RMSD     1.8624
Iter 013 	 Temp     1.67 	 Delta  1033.78 	 OutFr   0.0078 	 RMSD     1.8551
Iter 014 	 Temp     1.56 	 Delta   970.55 	 OutFr   0.0130 	 RMSD     1.8486
Iter 015 	 Temp     1.45 	 Delta   907.46 	 OutFr   0.0155 	 RMSD     1.8426
Iter 016 	 Temp     1.35 	 Delta   844.88 	 OutFr   0.0181 	 RMSD     1.8381
Iter 017 	 Temp     1.25 	 Delta   782.30 	 OutFr   0.0233 	 RMSD     1.8350
Iter 018 	 Temp     1.16 	 Delta   720.81 	 OutFr   0.0311 	 RMSD     1.8325
Iter 019 	 Temp     1.08 	 Delta   661.41 	 OutFr   0.0415 	 RMSD     1.8307
Iter 020 	 Temp     1.01 	 Delta   603.72 	 OutFr   0.0492 	 RMSD     1.8297
Iter 021 	 Temp     0.94 	 Delta   549.64 	 OutFr   0.0544 	 RMSD     1.8297
Iter 022 	 Temp     0.87 	 Delta   500.84 	 OutFr   0.0648 	 RMSD     1.8311
Iter 023 	 Temp     0.81 	 Delta   455.66 	 OutFr   0.0725 	 RMSD     1.8334
Iter 024 	 Temp     0.75 	 Delta   414.56 	 OutFr   0.0907 	 RMSD     1.8371
Iter 025 	 Temp     0.70 	 Delta   380.22 	 OutFr   0.1062 	 RMSD     1.8427
Iter 026 	 Temp     0.65 	 Delta   354.70 	 OutFr   0.1269 	 RMSD     1.8489
Iter 027 	 Temp     0.61 	 Delta   334.91 	 OutFr   0.1399 	 RMSD     1.8560
Iter 028 	 Temp     0.56 	 Delta   313.63 	 OutFr   0.1606 	 RMSD     1.8622
Iter 029 	 Temp     0.52 	 Delta   290.33 	 OutFr   0.1813 	 RMSD     1.8676
Iter 030 	 Temp     0.49 	 Delta   267.27 	 OutFr   0.2073 	 RMSD     1.8726
Terminating due to outlier fraction too large
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train025/bs_affine.mat -sqrt -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_fwd.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_inv.mat
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -o /tmp/ashs.sdS6KMVw/mybin.nii.gz
+ vtklevelset /tmp/ashs.sdS6KMVw/mybin.nii.gz /tmp/ashs.sdS6KMVw/mymesh.vtk 0.5
Image Range: [0, 1]
Taking level set at 0.5
+ warpmesh /tmp/ashs.sdS6KMVw/mymesh.vtk /tmp/ashs.sdS6KMVw/mymeshhw.vtk /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_fwd.mat
RAS transform 
1 0 0 0
0 1 0 0
0 0 1 0
0 0 0 1

AREA_STATS: 2967.71795689 2654.56781601   0.89448117
++ echo 0.347222x0.347222x0.349996mm
++ sed -e 's/x/ /g' -e s/mm//g
+ RES='0.347222 0.347222 0.349996'
+ mesh2img -vtk /tmp/ashs.sdS6KMVw/mymeshhw.vtk -f -a 0.347222 0.347222 0.349996 5 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train025/refspace.nii.gz

Parameters:
   Image spacing     : 0.347222 by 0.347222 by 0.349996
   Margin            : 5
Reading the VTK file ...
Converting to triangles ...
STL mesh bounds: 
   X : 11.5435 to 35.8021
   Y : -16.6436 to 23.98
   Z : -14.895 to 10.3102
   Image resolution  : 99 by 146 by 101
   Image box origin  : {6.5435, -21.6436, -19.895}
   Image box size    : {34.375, 50.6944, 35.3496}

Scan converting triangles and filling the interior ...
zzz
ORIGIN: [-6.5435, 21.6436, -19.895]
Writing the output image ...
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train025/refspace.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_fwd.mat -o /tmp/ashs.sdS6KMVw/moving_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train025/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_inv.mat -o /tmp/ashs.sdS6KMVw/fixed_hw.nii.gz
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train025/refspace.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/multiatlas/fusion/lfseg_heur_right.nii.gz -thresh 1 inf 1 0 -int 0 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_inv.mat -thresh 0.5 inf 1 0 -dilate 1 10x10x2vox -o /tmp/ashs.sdS6KMVw/mask.nii.gz
+ BOOT_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train025/greedy_warp.nii.gz
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=51 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=51 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.894231 0.9
+ echo 'CHUNK 0.894231 0.9 0.5'
CHUNK 0.894231 0.9 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.894231 0.9 0.5
====================================
         PROGRESS: 0.894231               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train025/greedy_warp.nii.gz ]]
+ greedy -d 3 -gm /tmp/ashs.sdS6KMVw/mask.nii.gz -m NCC 2x2x2 -i /tmp/ashs.sdS6KMVw/fixed_hw.nii.gz /tmp/ashs.sdS6KMVw/moving_hw.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train025/greedy_warp.nii.gz -e 0.5 -n 60x60x20
Executing with the default number of threads: 24
Noise on image 0 component 0: fixed = 0.765358, moving = 0.407318
LEVEL 1 of 3
  Smoothing sigmas: [2.38157, 2.37312, 2.3549], [0.972271, 0.968821, 0.961382]
Level     0,  Iter     0:    Energy =   0.0378
Level     0,  Iter     1:    Energy =   0.0421
Level     0,  Iter     2:    Energy =   0.0463
Level     0,  Iter     3:    Energy =   0.0506
Level     0,  Iter     4:    Energy =   0.0545
Level     0,  Iter     5:    Energy =   0.0580
Level     0,  Iter     6:    Energy =   0.0611
Level     0,  Iter     7:    Energy =   0.0644
Level     0,  Iter     8:    Energy =   0.0667
Level     0,  Iter     9:    Energy =   0.0688
Level     0,  Iter    10:    Energy =   0.0705
Level     0,  Iter    11:    Energy =   0.0714
Level     0,  Iter    12:    Energy =   0.0721
Level     0,  Iter    13:    Energy =   0.0724
Level     0,  Iter    14:    Energy =   0.0731
Level     0,  Iter    15:    Energy =   0.0733
Level     0,  Iter    16:    Energy =   0.0741
Level     0,  Iter    17:    Energy =   0.0743
Level     0,  Iter    18:    Energy =   0.0746
Level     0,  Iter    19:    Energy =   0.0749
Level     0,  Iter    20:    Energy =   0.0753
Level     0,  Iter    21:    Energy =   0.0757
Level     0,  Iter    22:    Energy =   0.0757
Level     0,  Iter    23:    Energy =   0.0762
Level     0,  Iter    24:    Energy =   0.0762
Level     0,  Iter    25:    Energy =   0.0766
Level     0,  Iter    26:    Energy =   0.0765
Level     0,  Iter    27:    Energy =   0.0770
Level     0,  Iter    28:    Energy =   0.0769
Level     0,  Iter    29:    Energy =   0.0773
Level     0,  Iter    30:    Energy =   0.0772
Level     0,  Iter    31:    Energy =   0.0776
Level     0,  Iter    32:    Energy =   0.0773
Level     0,  Iter    33:    Energy =   0.0777
Level     0,  Iter    34:    Energy =   0.0774
Level     0,  Iter    35:    Energy =   0.0778
Level     0,  Iter    36:    Energy =   0.0775
Level     0,  Iter    37:    Energy =   0.0779
Level     0,  Iter    38:    Energy =   0.0776
Level     0,  Iter    39:    Energy =   0.0781
Level     0,  Iter    40:    Energy =   0.0778
Level     0,  Iter    41:    Energy =   0.0781
Level     0,  Iter    42:    Energy =   0.0778
Level     0,  Iter    43:    Energy =   0.0782
Level     0,  Iter    44:    Energy =   0.0779
Level     0,  Iter    45:    Energy =   0.0783
Level     0,  Iter    46:    Energy =   0.0780
Level     0,  Iter    47:    Energy =   0.0784
Level     0,  Iter    48:    Energy =   0.0781
Level     0,  Iter    49:    Energy =   0.0784
Level     0,  Iter    50:    Energy =   0.0781
Level     0,  Iter    51:    Energy =   0.0785
Level     0,  Iter    52:    Energy =   0.0782
Level     0,  Iter    53:    Energy =   0.0785
Level     0,  Iter    54:    Energy =   0.0782
Level     0,  Iter    55:    Energy =   0.0785
Level     0,  Iter    56:    Energy =   0.0782
Level     0,  Iter    57:    Energy =   0.0785
Level     0,  Iter    58:    Energy =   0.0783
Level     0,  Iter    59:    Energy =   0.0786
END OF LEVEL     0    DetJac Range:   0.2639  to   1.9387 
  Avg. Gradient Time  : 0.0067s  37.20% 
  Avg. Gaussian Time  : 0.0085s  47.60% 
  Avg. Iteration Time : 0.0179s 
LEVEL 2 of 3
  Smoothing sigmas: [1.19078, 1.20281, 1.20054], [0.486136, 0.491046, 0.490116]
Level     1,  Iter     0:    Energy =   0.0583
Level     1,  Iter     1:    Energy =   0.0625
Level     1,  Iter     2:    Energy =   0.0657
Level     1,  Iter     3:    Energy =   0.0681
Level     1,  Iter     4:    Energy =   0.0700
Level     1,  Iter     5:    Energy =   0.0719
Level     1,  Iter     6:    Energy =   0.0736
Level     1,  Iter     7:    Energy =   0.0748
Level     1,  Iter     8:    Energy =   0.0759
Level     1,  Iter     9:    Energy =   0.0768
Level     1,  Iter    10:    Energy =   0.0775
Level     1,  Iter    11:    Energy =   0.0783
Level     1,  Iter    12:    Energy =   0.0789
Level     1,  Iter    13:    Energy =   0.0794
Level     1,  Iter    14:    Energy =   0.0800
Level     1,  Iter    15:    Energy =   0.0801
Level     1,  Iter    16:    Energy =   0.0807
Level     1,  Iter    17:    Energy =   0.0806
Level     1,  Iter    18:    Energy =   0.0812
Level     1,  Iter    19:    Energy =   0.0812
Level     1,  Iter    20:    Energy =   0.0816
Level     1,  Iter    21:    Energy =   0.0815
Level     1,  Iter    22:    Energy =   0.0818
Level     1,  Iter    23:    Energy =   0.0818
Level     1,  Iter    24:    Energy =   0.0820
Level     1,  Iter    25:    Energy =   0.0819
Level     1,  Iter    26:    Energy =   0.0823
Level     1,  Iter    27:    Energy =   0.0822
Level     1,  Iter    28:    Energy =   0.0825
Level     1,  Iter    29:    Energy =   0.0824
Level     1,  Iter    30:    Energy =   0.0829
Level     1,  Iter    31:    Energy =   0.0829
Level     1,  Iter    32:    Energy =   0.0829
Level     1,  Iter    33:    Energy =   0.0828
Level     1,  Iter    34:    Energy =   0.0832
Level     1,  Iter    35:    Energy =   0.0832
Level     1,  Iter    36:    Energy =   0.0833
Level     1,  Iter    37:    Energy =   0.0831
Level     1,  Iter    38:    Energy =   0.0836
Level     1,  Iter    39:    Energy =   0.0835
Level     1,  Iter    40:    Energy =   0.0835
Level     1,  Iter    41:    Energy =   0.0834
Level     1,  Iter    42:    Energy =   0.0836
Level     1,  Iter    43:    Energy =   0.0835
Level     1,  Iter    44:    Energy =   0.0835
Level     1,  Iter    45:    Energy =   0.0835
Level     1,  Iter    46:    Energy =   0.0836
Level     1,  Iter    47:    Energy =   0.0835
Level     1,  Iter    48:    Energy =   0.0836
Level     1,  Iter    49:    Energy =   0.0836
Level     1,  Iter    50:    Energy =   0.0836
Level     1,  Iter    51:    Energy =   0.0836
Level     1,  Iter    52:    Energy =   0.0836
Level     1,  Iter    53:    Energy =   0.0835
Level     1,  Iter    54:    Energy =   0.0836
Level     1,  Iter    55:    Energy =   0.0836
Level     1,  Iter    56:    Energy =   0.0836
Level     1,  Iter    57:    Energy =   0.0837
Level     1,  Iter    58:    Energy =   0.0837
Level     1,  Iter    59:    Energy =   0.0839
END OF LEVEL     1    DetJac Range:   0.1138  to   3.4002 
  Avg. Gradient Time  : 0.0367s  39.88% 
  Avg. Gaussian Time  : 0.0444s  48.17% 
  Avg. Iteration Time : 0.0921s 
LEVEL 3 of 3
  Smoothing sigmas: [0.601406, 0.601406, 0.606211], [0.245523, 0.245523, 0.247485]
Level     2,  Iter     0:    Energy =   0.0444
Level     2,  Iter     1:    Energy =   0.0468
Level     2,  Iter     2:    Energy =   0.0490
Level     2,  Iter     3:    Energy =   0.0509
Level     2,  Iter     4:    Energy =   0.0522
Level     2,  Iter     5:    Energy =   0.0531
Level     2,  Iter     6:    Energy =   0.0541
Level     2,  Iter     7:    Energy =   0.0554
Level     2,  Iter     8:    Energy =   0.0567
Level     2,  Iter     9:    Energy =   0.0577
Level     2,  Iter    10:    Energy =   0.0586
Level     2,  Iter    11:    Energy =   0.0592
Level     2,  Iter    12:    Energy =   0.0596
Level     2,  Iter    13:    Energy =   0.0601
Level     2,  Iter    14:    Energy =   0.0607
Level     2,  Iter    15:    Energy =   0.0614
Level     2,  Iter    16:    Energy =   0.0620
Level     2,  Iter    17:    Energy =   0.0625
Level     2,  Iter    18:    Energy =   0.0630
Level     2,  Iter    19:    Energy =   0.0635
END OF LEVEL     2    DetJac Range:   0.0565  to   5.8221 
  Avg. Gradient Time  : 0.2555s  37.18% 
  Avg. Gaussian Time  : 0.3586s  52.18% 
  Avg. Iteration Time : 0.6872s 

real	0m23.082s
user	0m40.448s
sys	0m2.428s
+ ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native.nii.gz
+ ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native_segvote.nii.gz
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/train/train025/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native_segvote.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_inv.mat,-1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train025/greedy_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train025/sqrt_fwd.mat
Executing with the default number of threads: 24
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.6 -v be=0.9 -v j=51 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.6 0.9'
CHUNK 0.6 0.9
+ echo 1
+ awk -v bs=0.6 -v be=0.9 -v j=51 -v n=52 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.894231 0.9
+ echo 'CHUNK 0.894231 0.9 1'
CHUNK 0.894231 0.9 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.894231 0.9 1
====================================
         PROGRESS: 0.894231               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 4 successful
------------------------------------------------
[0m
****************************************
Starting stage 5: Boostrapped joint label fusion
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 5: Boostrapped joint label fusion
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ BOOTSTRAP=1
+ side=left
+ cat
Script: ashs_voting_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
Side: left
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
BOOTSTRAP: 1
+ [[ 1 -ne 1 ]]
+ [[ '' -ne 1 ]]
+ ashs_label_fusion_apply 1
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ BOOTSTRAP=1
+ cat
Script: ashs_atlas_pairwise.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Bootstrap: 1
+ [[ 1 -eq 1 ]]
+ TDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native.nii.gz
+ local 'ATLASES=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native.nii.gz'
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native_segvote.nii.gz
+ local 'ATLSEGS=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native_segvote.nii.gz'
+ local RESULT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_raw_left.nii.gz
+ label_fusion 3 -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native.nii.gz -l /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native_segvote.nii.gz -m 'Joint[0.1,2]' -rp 3x3x3 -rs 3x3x3 -pd 0x0x2 -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_left_%03d.nii.gz -raw-posteriors tse_native_chunk_left.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_raw_left.nii.gz
LABEL FUSION PARAMETERS:
Target image: tse_native_chunk_left.nii.gz
Output image: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_raw_left.nii.gz
Mask image  : 
Atlas images: 
    0	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train000/atlas_to_native_segvote.nii.gz
    1	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train001/atlas_to_native_segvote.nii.gz
    2	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train002/atlas_to_native_segvote.nii.gz
    3	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train003/atlas_to_native_segvote.nii.gz
    4	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train004/atlas_to_native_segvote.nii.gz
    5	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train005/atlas_to_native_segvote.nii.gz
    6	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train006/atlas_to_native_segvote.nii.gz
    7	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train007/atlas_to_native_segvote.nii.gz
    8	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train008/atlas_to_native_segvote.nii.gz
    9	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train009/atlas_to_native_segvote.nii.gz
    10	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train010/atlas_to_native_segvote.nii.gz
    11	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train011/atlas_to_native_segvote.nii.gz
    12	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train012/atlas_to_native_segvote.nii.gz
    13	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train013/atlas_to_native_segvote.nii.gz
    14	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train014/atlas_to_native_segvote.nii.gz
    15	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train015/atlas_to_native_segvote.nii.gz
    16	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train016/atlas_to_native_segvote.nii.gz
    17	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train017/atlas_to_native_segvote.nii.gz
    18	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train018/atlas_to_native_segvote.nii.gz
    19	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train019/atlas_to_native_segvote.nii.gz
    20	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train020/atlas_to_native_segvote.nii.gz
    21	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train021/atlas_to_native_segvote.nii.gz
    22	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train022/atlas_to_native_segvote.nii.gz
    23	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train023/atlas_to_native_segvote.nii.gz
    24	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train024/atlas_to_native_segvote.nii.gz
    25	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_left_train025/atlas_to_native_segvote.nii.gz
Method:     Joint
    Alpha:  0.1
    Beta:  2
Search Radius: [3, 3, 3]
Patch Radius: [3, 3, 3]
Posterior Filename Pattern: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_left_%03d.nii.gz
Outputing Raw (unnormalized) Posteriors: 1
Padding Enabled: 1
Padding Radius: [0, 0, 2]
Executing with the default number of threads: 24
Output Requested Region: [6, 11, 4], [61, 64, 45] (175680 pixels)
Computing mask based on input segmentations
  Skipping 90484 out of 175680 voxels.
..........................................................................
VOTING 
+ [[ -n '' ]]
+ cp -a /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_raw_left.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz
+ for kind in usegray nogray
+ [[ usegray = \u\s\e\g\r\a\y ]]
+ GRAYCMD='-g tse_native_chunk_left.nii.gz'
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz -g tse_native_chunk_left.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_left_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_corr_usegray_left_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz
74:92:53
loading tse_native_chunk_left.nii.gz
imageFlag:1
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_left_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_left_000.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 344565
tc: 16259
mean intensity : sample #  213.385:27193
center location: (35.6547,46.5514,22.5404) feature #:4125
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 1 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_left_001.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 2217
tc: 16259
center location: (26.8076,39.6465,12.0666) feature #:4125
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_left_002.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 2727
tc: 16259
center location: (33.6034,45.101,21.3862) feature #:4125
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 0 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_left_003.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 6565
tc: 16259
center location: (43.3335,46.5743,22.0069) feature #:4125
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 0 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_left_004.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 275
tc: 16259
center location: (55.6805,48.529,29.7151) feature #:4125
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 1 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_left_005.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 3357
tc: 16259
center location: (46.915,46.7649,25.9697) feature #:4125
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 0 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_left_006.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 443
tc: 16259
center location: (42.8694,52.1444,24.9351) feature #:4125
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 0 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_left_007.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 42
tc: 16259
center location: (57.7462,41.8021,22.9976) feature #:4125
making corrections...
saving posterior map for label 7 .... 
Label 7 is processed in 0 seconds.
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_left_008.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 633
tc: 16259
center location: (31.7186,53.1839,42.7659) feature #:4125
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 0 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz
+ for kind in usegray nogray
+ [[ nogray = \u\s\e\g\r\a\y ]]
+ GRAYCMD=
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_left_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_corr_nogray_left_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz
74:92:53
imageFlag:0
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_left_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_left_000.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 344565
tc: 16259
center location: (35.6547,46.5514,22.5404) feature #:2753
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 1 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_left_001.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 2217
tc: 16259
center location: (26.8076,39.6465,12.0666) feature #:2753
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_left_002.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 2727
tc: 16259
center location: (33.6034,45.101,21.3862) feature #:2753
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 0 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_left_003.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 6565
tc: 16259
center location: (43.3335,46.5743,22.0069) feature #:2753
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 0 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_left_004.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 275
tc: 16259
center location: (55.6805,48.529,29.7151) feature #:2753
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_left_005.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 3357
tc: 16259
center location: (46.915,46.7649,25.9697) feature #:2753
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 0 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_left_006.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 443
tc: 16259
center location: (42.8694,52.1444,24.9351) feature #:2753
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 0 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_left_007.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 42
tc: 16259
center location: (57.7462,41.8021,22.9976) feature #:2753
making corrections...
saving posterior map for label 7 .... 
Label 7 is processed in 1 seconds.
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/left/adaboost_nogray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_left_008.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 633
tc: 16259
center location: (31.7186,53.1839,42.7659) feature #:2753
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 0 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz
+ [[ -n '' ]]
++ [[ 1 -eq 1 ]]
++ echo bootstrap
+ MALFMODE=bootstrap
+ ashs_segmentation_qc left bootstrap heur
+ local side=left
+ local malfmode=bootstrap
+ local corrmode=heur
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.1iYyHZZM/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.1iYyHZZM/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.1iYyHZZM/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.1iYyHZZM/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.1iYyHZZM/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.1iYyHZZM/sag_seg_%02d.png
++ ls /tmp/ashs.1iYyHZZM/cor_mprage_00.png /tmp/ashs.1iYyHZZM/cor_mprage_01.png /tmp/ashs.1iYyHZZM/cor_mprage_02.png /tmp/ashs.1iYyHZZM/cor_mprage_03.png /tmp/ashs.1iYyHZZM/cor_mprage_04.png /tmp/ashs.1iYyHZZM/cor_seg_00.png /tmp/ashs.1iYyHZZM/cor_seg_03.png /tmp/ashs.1iYyHZZM/cor_seg_06.png /tmp/ashs.1iYyHZZM/cor_seg_09.png /tmp/ashs.1iYyHZZM/cor_seg_12.png /tmp/ashs.1iYyHZZM/cor_tse_00.png /tmp/ashs.1iYyHZZM/cor_tse_01.png /tmp/ashs.1iYyHZZM/cor_tse_02.png /tmp/ashs.1iYyHZZM/cor_tse_03.png /tmp/ashs.1iYyHZZM/cor_tse_04.png /tmp/ashs.1iYyHZZM/sag_mprage_00.png /tmp/ashs.1iYyHZZM/sag_mprage_01.png /tmp/ashs.1iYyHZZM/sag_seg_00.png /tmp/ashs.1iYyHZZM/sag_seg_03.png /tmp/ashs.1iYyHZZM/sag_tse_00.png /tmp/ashs.1iYyHZZM/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_mprage_00.png /tmp/ashs.1iYyHZZM/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_mprage_01.png /tmp/ashs.1iYyHZZM/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_mprage_02.png /tmp/ashs.1iYyHZZM/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_mprage_03.png /tmp/ashs.1iYyHZZM/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_mprage_04.png /tmp/ashs.1iYyHZZM/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_seg_00.png /tmp/ashs.1iYyHZZM/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_seg_03.png /tmp/ashs.1iYyHZZM/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_seg_06.png /tmp/ashs.1iYyHZZM/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_seg_09.png /tmp/ashs.1iYyHZZM/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_seg_12.png /tmp/ashs.1iYyHZZM/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_tse_00.png /tmp/ashs.1iYyHZZM/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_tse_01.png /tmp/ashs.1iYyHZZM/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_tse_02.png /tmp/ashs.1iYyHZZM/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_tse_03.png /tmp/ashs.1iYyHZZM/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_tse_04.png /tmp/ashs.1iYyHZZM/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/sag_mprage_00.png /tmp/ashs.1iYyHZZM/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/sag_mprage_01.png /tmp/ashs.1iYyHZZM/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/sag_seg_00.png /tmp/ashs.1iYyHZZM/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/sag_seg_03.png /tmp/ashs.1iYyHZZM/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/sag_tse_00.png /tmp/ashs.1iYyHZZM/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/sag_tse_01.png /tmp/ashs.1iYyHZZM/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.1iYyHZZM/cor_tse_00.png /tmp/ashs.1iYyHZZM/cor_tse_01.png /tmp/ashs.1iYyHZZM/cor_tse_02.png /tmp/ashs.1iYyHZZM/cor_tse_03.png /tmp/ashs.1iYyHZZM/cor_tse_04.png /tmp/ashs.1iYyHZZM/sag_tse_00.png /tmp/ashs.1iYyHZZM/sag_tse_01.png /tmp/ashs.1iYyHZZM/cor_mprage_00.png /tmp/ashs.1iYyHZZM/cor_mprage_01.png /tmp/ashs.1iYyHZZM/cor_mprage_02.png /tmp/ashs.1iYyHZZM/cor_mprage_03.png /tmp/ashs.1iYyHZZM/cor_mprage_04.png /tmp/ashs.1iYyHZZM/sag_mprage_00.png /tmp/ashs.1iYyHZZM/sag_mprage_01.png /tmp/ashs.1iYyHZZM/cor_seg_00.png /tmp/ashs.1iYyHZZM/cor_seg_03.png /tmp/ashs.1iYyHZZM/cor_seg_06.png /tmp/ashs.1iYyHZZM/cor_seg_09.png /tmp/ashs.1iYyHZZM/cor_seg_12.png /tmp/ashs.1iYyHZZM/sag_seg_00.png /tmp/ashs.1iYyHZZM/sag_seg_03.png /tmp/ashs.1iYyHZZM/qa.png
+ convert /tmp/ashs.1iYyHZZM/qa.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa
+ montage -label 27532:left /tmp/ashs.1iYyHZZM/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/qa_seg_bootstrap_heur_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (left,bootstrap_heur)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/qa_seg_bootstrap_heur_left_qa.png
+ ashs_segmentation_qc left bootstrap corr_usegray
+ local side=left
+ local malfmode=bootstrap
+ local corrmode=corr_usegray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.1iYyHZZM/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.1iYyHZZM/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.1iYyHZZM/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.1iYyHZZM/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.1iYyHZZM/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.1iYyHZZM/sag_seg_%02d.png
++ ls /tmp/ashs.1iYyHZZM/cor_mprage_00.png /tmp/ashs.1iYyHZZM/cor_mprage_01.png /tmp/ashs.1iYyHZZM/cor_mprage_02.png /tmp/ashs.1iYyHZZM/cor_mprage_03.png /tmp/ashs.1iYyHZZM/cor_mprage_04.png /tmp/ashs.1iYyHZZM/cor_seg_00.png /tmp/ashs.1iYyHZZM/cor_seg_03.png /tmp/ashs.1iYyHZZM/cor_seg_06.png /tmp/ashs.1iYyHZZM/cor_seg_09.png /tmp/ashs.1iYyHZZM/cor_seg_12.png /tmp/ashs.1iYyHZZM/cor_tse_00.png /tmp/ashs.1iYyHZZM/cor_tse_01.png /tmp/ashs.1iYyHZZM/cor_tse_02.png /tmp/ashs.1iYyHZZM/cor_tse_03.png /tmp/ashs.1iYyHZZM/cor_tse_04.png /tmp/ashs.1iYyHZZM/sag_mprage_00.png /tmp/ashs.1iYyHZZM/sag_mprage_01.png /tmp/ashs.1iYyHZZM/sag_seg_00.png /tmp/ashs.1iYyHZZM/sag_seg_03.png /tmp/ashs.1iYyHZZM/sag_tse_00.png /tmp/ashs.1iYyHZZM/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_mprage_00.png /tmp/ashs.1iYyHZZM/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_mprage_01.png /tmp/ashs.1iYyHZZM/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_mprage_02.png /tmp/ashs.1iYyHZZM/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_mprage_03.png /tmp/ashs.1iYyHZZM/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_mprage_04.png /tmp/ashs.1iYyHZZM/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_seg_00.png /tmp/ashs.1iYyHZZM/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_seg_03.png /tmp/ashs.1iYyHZZM/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_seg_06.png /tmp/ashs.1iYyHZZM/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_seg_09.png /tmp/ashs.1iYyHZZM/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_seg_12.png /tmp/ashs.1iYyHZZM/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_tse_00.png /tmp/ashs.1iYyHZZM/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_tse_01.png /tmp/ashs.1iYyHZZM/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_tse_02.png /tmp/ashs.1iYyHZZM/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_tse_03.png /tmp/ashs.1iYyHZZM/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_tse_04.png /tmp/ashs.1iYyHZZM/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/sag_mprage_00.png /tmp/ashs.1iYyHZZM/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/sag_mprage_01.png /tmp/ashs.1iYyHZZM/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/sag_seg_00.png /tmp/ashs.1iYyHZZM/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/sag_seg_03.png /tmp/ashs.1iYyHZZM/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/sag_tse_00.png /tmp/ashs.1iYyHZZM/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/sag_tse_01.png /tmp/ashs.1iYyHZZM/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.1iYyHZZM/cor_tse_00.png /tmp/ashs.1iYyHZZM/cor_tse_01.png /tmp/ashs.1iYyHZZM/cor_tse_02.png /tmp/ashs.1iYyHZZM/cor_tse_03.png /tmp/ashs.1iYyHZZM/cor_tse_04.png /tmp/ashs.1iYyHZZM/sag_tse_00.png /tmp/ashs.1iYyHZZM/sag_tse_01.png /tmp/ashs.1iYyHZZM/cor_mprage_00.png /tmp/ashs.1iYyHZZM/cor_mprage_01.png /tmp/ashs.1iYyHZZM/cor_mprage_02.png /tmp/ashs.1iYyHZZM/cor_mprage_03.png /tmp/ashs.1iYyHZZM/cor_mprage_04.png /tmp/ashs.1iYyHZZM/sag_mprage_00.png /tmp/ashs.1iYyHZZM/sag_mprage_01.png /tmp/ashs.1iYyHZZM/cor_seg_00.png /tmp/ashs.1iYyHZZM/cor_seg_03.png /tmp/ashs.1iYyHZZM/cor_seg_06.png /tmp/ashs.1iYyHZZM/cor_seg_09.png /tmp/ashs.1iYyHZZM/cor_seg_12.png /tmp/ashs.1iYyHZZM/sag_seg_00.png /tmp/ashs.1iYyHZZM/sag_seg_03.png /tmp/ashs.1iYyHZZM/qa.png
+ convert /tmp/ashs.1iYyHZZM/qa.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa
+ montage -label 27532:left /tmp/ashs.1iYyHZZM/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/qa_seg_bootstrap_corr_usegray_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (left,bootstrap_corr_usegray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/qa_seg_bootstrap_corr_usegray_left_qa.png
+ ashs_segmentation_qc left bootstrap corr_nogray
+ local side=left
+ local malfmode=bootstrap
+ local corrmode=corr_nogray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.1iYyHZZM/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.1iYyHZZM/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.1iYyHZZM/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.1iYyHZZM/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.1iYyHZZM/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.1iYyHZZM/sag_seg_%02d.png
++ ls /tmp/ashs.1iYyHZZM/cor_mprage_00.png /tmp/ashs.1iYyHZZM/cor_mprage_01.png /tmp/ashs.1iYyHZZM/cor_mprage_02.png /tmp/ashs.1iYyHZZM/cor_mprage_03.png /tmp/ashs.1iYyHZZM/cor_mprage_04.png /tmp/ashs.1iYyHZZM/cor_seg_00.png /tmp/ashs.1iYyHZZM/cor_seg_03.png /tmp/ashs.1iYyHZZM/cor_seg_06.png /tmp/ashs.1iYyHZZM/cor_seg_09.png /tmp/ashs.1iYyHZZM/cor_seg_12.png /tmp/ashs.1iYyHZZM/cor_tse_00.png /tmp/ashs.1iYyHZZM/cor_tse_01.png /tmp/ashs.1iYyHZZM/cor_tse_02.png /tmp/ashs.1iYyHZZM/cor_tse_03.png /tmp/ashs.1iYyHZZM/cor_tse_04.png /tmp/ashs.1iYyHZZM/sag_mprage_00.png /tmp/ashs.1iYyHZZM/sag_mprage_01.png /tmp/ashs.1iYyHZZM/sag_seg_00.png /tmp/ashs.1iYyHZZM/sag_seg_03.png /tmp/ashs.1iYyHZZM/sag_tse_00.png /tmp/ashs.1iYyHZZM/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_mprage_00.png /tmp/ashs.1iYyHZZM/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_mprage_01.png /tmp/ashs.1iYyHZZM/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_mprage_02.png /tmp/ashs.1iYyHZZM/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_mprage_03.png /tmp/ashs.1iYyHZZM/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_mprage_04.png /tmp/ashs.1iYyHZZM/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_seg_00.png /tmp/ashs.1iYyHZZM/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_seg_03.png /tmp/ashs.1iYyHZZM/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_seg_06.png /tmp/ashs.1iYyHZZM/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_seg_09.png /tmp/ashs.1iYyHZZM/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_seg_12.png /tmp/ashs.1iYyHZZM/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_tse_00.png /tmp/ashs.1iYyHZZM/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_tse_01.png /tmp/ashs.1iYyHZZM/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_tse_02.png /tmp/ashs.1iYyHZZM/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_tse_03.png /tmp/ashs.1iYyHZZM/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/cor_tse_04.png /tmp/ashs.1iYyHZZM/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/sag_mprage_00.png /tmp/ashs.1iYyHZZM/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/sag_mprage_01.png /tmp/ashs.1iYyHZZM/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/sag_seg_00.png /tmp/ashs.1iYyHZZM/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/sag_seg_03.png /tmp/ashs.1iYyHZZM/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/sag_tse_00.png /tmp/ashs.1iYyHZZM/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.1iYyHZZM/sag_tse_01.png /tmp/ashs.1iYyHZZM/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.1iYyHZZM/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.1iYyHZZM/cor_tse_00.png /tmp/ashs.1iYyHZZM/cor_tse_01.png /tmp/ashs.1iYyHZZM/cor_tse_02.png /tmp/ashs.1iYyHZZM/cor_tse_03.png /tmp/ashs.1iYyHZZM/cor_tse_04.png /tmp/ashs.1iYyHZZM/sag_tse_00.png /tmp/ashs.1iYyHZZM/sag_tse_01.png /tmp/ashs.1iYyHZZM/cor_mprage_00.png /tmp/ashs.1iYyHZZM/cor_mprage_01.png /tmp/ashs.1iYyHZZM/cor_mprage_02.png /tmp/ashs.1iYyHZZM/cor_mprage_03.png /tmp/ashs.1iYyHZZM/cor_mprage_04.png /tmp/ashs.1iYyHZZM/sag_mprage_00.png /tmp/ashs.1iYyHZZM/sag_mprage_01.png /tmp/ashs.1iYyHZZM/cor_seg_00.png /tmp/ashs.1iYyHZZM/cor_seg_03.png /tmp/ashs.1iYyHZZM/cor_seg_06.png /tmp/ashs.1iYyHZZM/cor_seg_09.png /tmp/ashs.1iYyHZZM/cor_seg_12.png /tmp/ashs.1iYyHZZM/sag_seg_00.png /tmp/ashs.1iYyHZZM/sag_seg_03.png /tmp/ashs.1iYyHZZM/qa.png
+ convert /tmp/ashs.1iYyHZZM/qa.png -bordercolor Black -border 1x1 /tmp/ashs.1iYyHZZM/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa
+ montage -label 27532:left /tmp/ashs.1iYyHZZM/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/qa_seg_bootstrap_corr_nogray_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (left,bootstrap_corr_nogray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/qa_seg_bootstrap_corr_nogray_left_qa.png
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.9 -v be=0.95 -v j=0 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.9 0.95'
CHUNK 0.9 0.95
+ echo 1
+ awk -v bs=0.9 -v be=0.95 -v j=0 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.9 0.925
+ echo 'CHUNK 0.9 0.925 1'
CHUNK 0.9 0.925 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.9 0.925 1
====================================
         PROGRESS: 0.9               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ BOOTSTRAP=1
+ side=right
+ cat
Script: ashs_voting_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
Side: right
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
BOOTSTRAP: 1
+ [[ 1 -ne 1 ]]
+ [[ '' -ne 1 ]]
+ ashs_label_fusion_apply 1
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ BOOTSTRAP=1
+ cat
Script: ashs_atlas_pairwise.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Bootstrap: 1
+ [[ 1 -eq 1 ]]
+ TDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native.nii.gz
+ local 'ATLASES=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native.nii.gz'
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native_segvote.nii.gz
+ local 'ATLSEGS=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native_segvote.nii.gz'
+ local RESULT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_raw_right.nii.gz
+ label_fusion 3 -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native.nii.gz -l /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native_segvote.nii.gz -m 'Joint[0.1,2]' -rp 3x3x3 -rs 3x3x3 -pd 0x0x2 -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_right_%03d.nii.gz -raw-posteriors tse_native_chunk_right.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_raw_right.nii.gz
LABEL FUSION PARAMETERS:
Target image: tse_native_chunk_right.nii.gz
Output image: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_raw_right.nii.gz
Mask image  : 
Atlas images: 
    0	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train000/atlas_to_native_segvote.nii.gz
    1	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train001/atlas_to_native_segvote.nii.gz
    2	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train002/atlas_to_native_segvote.nii.gz
    3	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train003/atlas_to_native_segvote.nii.gz
    4	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train004/atlas_to_native_segvote.nii.gz
    5	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train005/atlas_to_native_segvote.nii.gz
    6	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train006/atlas_to_native_segvote.nii.gz
    7	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train007/atlas_to_native_segvote.nii.gz
    8	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train008/atlas_to_native_segvote.nii.gz
    9	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train009/atlas_to_native_segvote.nii.gz
    10	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train010/atlas_to_native_segvote.nii.gz
    11	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train011/atlas_to_native_segvote.nii.gz
    12	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train012/atlas_to_native_segvote.nii.gz
    13	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train013/atlas_to_native_segvote.nii.gz
    14	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train014/atlas_to_native_segvote.nii.gz
    15	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train015/atlas_to_native_segvote.nii.gz
    16	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train016/atlas_to_native_segvote.nii.gz
    17	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train017/atlas_to_native_segvote.nii.gz
    18	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train018/atlas_to_native_segvote.nii.gz
    19	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train019/atlas_to_native_segvote.nii.gz
    20	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train020/atlas_to_native_segvote.nii.gz
    21	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train021/atlas_to_native_segvote.nii.gz
    22	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train022/atlas_to_native_segvote.nii.gz
    23	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train023/atlas_to_native_segvote.nii.gz
    24	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train024/atlas_to_native_segvote.nii.gz
    25	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/tseg_right_train025/atlas_to_native_segvote.nii.gz
Method:     Joint
    Alpha:  0.1
    Beta:  2
Search Radius: [3, 3, 3]
Patch Radius: [3, 3, 3]
Posterior Filename Pattern: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_right_%03d.nii.gz
Outputing Raw (unnormalized) Posteriors: 1
Padding Enabled: 1
Padding Radius: [0, 0, 2]
Executing with the default number of threads: 24
Output Requested Region: [6, 12, 4], [71, 65, 45] (207675 pixels)
Computing mask based on input segmentations
  Skipping 116081 out of 207675 voxels.
................................................................................
VOTING 
+ [[ -n '' ]]
+ cp -a /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_raw_right.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz
+ for kind in usegray nogray
+ [[ usegray = \u\s\e\g\r\a\y ]]
+ GRAYCMD='-g tse_native_chunk_right.nii.gz'
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz -g tse_native_chunk_right.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_right_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_corr_usegray_right_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz
83:92:53
loading tse_native_chunk_right.nii.gz
imageFlag:1
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_right_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_right_000.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 387469
tc: 17239
mean intensity : sample #  249.819:28975
center location: (43.3901,45.8977,23.9422) feature #:4125
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 1 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_right_001.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 2608
tc: 17239
center location: (50.1261,37.8532,13.8338) feature #:4125
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_right_002.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 3013
tc: 17239
center location: (45.5749,43.9935,22.9833) feature #:4125
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 0 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_right_003.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 7023
tc: 17239
center location: (35.8045,47.0561,23.6932) feature #:4125
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 1 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_right_004.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 255
tc: 17239
center location: (23.7014,50.0389,32.6527) feature #:4125
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_right_005.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 3322
tc: 17239
center location: (32.4621,47.5391,28.272) feature #:4125
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 0 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_right_006.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 371
tc: 17239
center location: (35.1784,52.0029,27.1287) feature #:4125
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 0 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_right_007.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 23
tc: 17239
center location: (24.0333,44.0679,35.2342) feature #:4125
making corrections...
saving posterior map for label 7 .... 
Label 7 is processed in 0 seconds.
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_right_008.nii.gz
NFeature: 4125
preparing data...
dilateR: 1
tc: 624
tc: 17239
center location: (49.0094,56.7024,44.2861) feature #:4125
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 0 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz
+ for kind in usegray nogray
+ [[ nogray = \u\s\e\g\r\a\y ]]
+ GRAYCMD=
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_right_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_corr_nogray_right_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz
83:92:53
imageFlag:0
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_right_%03d.nii.gz
maskFlag:0  
label #: 8
Tlabel  0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_right_000.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 387469
tc: 17239
center location: (43.3901,45.8977,23.9422) feature #:2753
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 1 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_right_001.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 2608
tc: 17239
center location: (50.1261,37.8532,13.8338) feature #:2753
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_right_002.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 3013
tc: 17239
center location: (45.5749,43.9935,22.9833) feature #:2753
making corrections...
saving posterior map for label 2 .... 
Label 2 is processed in 0 seconds.
Tlabel  3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_right_003.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 7023
tc: 17239
center location: (35.8045,47.0561,23.6932) feature #:2753
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 0 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_right_004.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 255
tc: 17239
center location: (23.7014,50.0389,32.6527) feature #:2753
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_right_005.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 3322
tc: 17239
center location: (32.4621,47.5391,28.272) feature #:2753
making corrections...
saving posterior map for label 5 .... 
Label 5 is processed in 1 seconds.
Tlabel  6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel6
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel6
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_right_006.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 371
tc: 17239
center location: (35.1784,52.0029,27.1287) feature #:2753
making corrections...
saving posterior map for label 6 .... 
Label 6 is processed in 0 seconds.
Tlabel  7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel7
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel7
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_right_007.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 23
tc: 17239
center location: (24.0333,44.0679,35.2342) feature #:2753
making corrections...
saving posterior map for label 7 .... 
Label 7 is processed in 0 seconds.
Tlabel  8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/utrechtatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/posterior_right_008.nii.gz
NFeature: 2753
preparing data...
dilateR: 1
tc: 624
tc: 17239
center location: (49.0094,56.7024,44.2861) feature #:2753
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 0 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz
+ [[ -n '' ]]
++ [[ 1 -eq 1 ]]
++ echo bootstrap
+ MALFMODE=bootstrap
+ ashs_segmentation_qc right bootstrap heur
+ local side=right
+ local malfmode=bootstrap
+ local corrmode=heur
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.3yCVBoVq/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.3yCVBoVq/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.3yCVBoVq/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.3yCVBoVq/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.3yCVBoVq/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.3yCVBoVq/sag_seg_%02d.png
++ ls /tmp/ashs.3yCVBoVq/cor_mprage_00.png /tmp/ashs.3yCVBoVq/cor_mprage_01.png /tmp/ashs.3yCVBoVq/cor_mprage_02.png /tmp/ashs.3yCVBoVq/cor_mprage_03.png /tmp/ashs.3yCVBoVq/cor_mprage_04.png /tmp/ashs.3yCVBoVq/cor_seg_00.png /tmp/ashs.3yCVBoVq/cor_seg_03.png /tmp/ashs.3yCVBoVq/cor_seg_06.png /tmp/ashs.3yCVBoVq/cor_seg_09.png /tmp/ashs.3yCVBoVq/cor_seg_12.png /tmp/ashs.3yCVBoVq/cor_tse_00.png /tmp/ashs.3yCVBoVq/cor_tse_01.png /tmp/ashs.3yCVBoVq/cor_tse_02.png /tmp/ashs.3yCVBoVq/cor_tse_03.png /tmp/ashs.3yCVBoVq/cor_tse_04.png /tmp/ashs.3yCVBoVq/sag_mprage_00.png /tmp/ashs.3yCVBoVq/sag_mprage_01.png /tmp/ashs.3yCVBoVq/sag_seg_00.png /tmp/ashs.3yCVBoVq/sag_seg_03.png /tmp/ashs.3yCVBoVq/sag_tse_00.png /tmp/ashs.3yCVBoVq/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_mprage_00.png /tmp/ashs.3yCVBoVq/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_mprage_01.png /tmp/ashs.3yCVBoVq/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_mprage_02.png /tmp/ashs.3yCVBoVq/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_mprage_03.png /tmp/ashs.3yCVBoVq/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_mprage_04.png /tmp/ashs.3yCVBoVq/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_seg_00.png /tmp/ashs.3yCVBoVq/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_seg_03.png /tmp/ashs.3yCVBoVq/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_seg_06.png /tmp/ashs.3yCVBoVq/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_seg_09.png /tmp/ashs.3yCVBoVq/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_seg_12.png /tmp/ashs.3yCVBoVq/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_tse_00.png /tmp/ashs.3yCVBoVq/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_tse_01.png /tmp/ashs.3yCVBoVq/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_tse_02.png /tmp/ashs.3yCVBoVq/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_tse_03.png /tmp/ashs.3yCVBoVq/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_tse_04.png /tmp/ashs.3yCVBoVq/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/sag_mprage_00.png /tmp/ashs.3yCVBoVq/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/sag_mprage_01.png /tmp/ashs.3yCVBoVq/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/sag_seg_00.png /tmp/ashs.3yCVBoVq/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/sag_seg_03.png /tmp/ashs.3yCVBoVq/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/sag_tse_00.png /tmp/ashs.3yCVBoVq/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/sag_tse_01.png /tmp/ashs.3yCVBoVq/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.3yCVBoVq/cor_tse_00.png /tmp/ashs.3yCVBoVq/cor_tse_01.png /tmp/ashs.3yCVBoVq/cor_tse_02.png /tmp/ashs.3yCVBoVq/cor_tse_03.png /tmp/ashs.3yCVBoVq/cor_tse_04.png /tmp/ashs.3yCVBoVq/sag_tse_00.png /tmp/ashs.3yCVBoVq/sag_tse_01.png /tmp/ashs.3yCVBoVq/cor_mprage_00.png /tmp/ashs.3yCVBoVq/cor_mprage_01.png /tmp/ashs.3yCVBoVq/cor_mprage_02.png /tmp/ashs.3yCVBoVq/cor_mprage_03.png /tmp/ashs.3yCVBoVq/cor_mprage_04.png /tmp/ashs.3yCVBoVq/sag_mprage_00.png /tmp/ashs.3yCVBoVq/sag_mprage_01.png /tmp/ashs.3yCVBoVq/cor_seg_00.png /tmp/ashs.3yCVBoVq/cor_seg_03.png /tmp/ashs.3yCVBoVq/cor_seg_06.png /tmp/ashs.3yCVBoVq/cor_seg_09.png /tmp/ashs.3yCVBoVq/cor_seg_12.png /tmp/ashs.3yCVBoVq/sag_seg_00.png /tmp/ashs.3yCVBoVq/sag_seg_03.png /tmp/ashs.3yCVBoVq/qa.png
+ convert /tmp/ashs.3yCVBoVq/qa.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa
+ montage -label 27532:right /tmp/ashs.3yCVBoVq/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/qa_seg_bootstrap_heur_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (right,bootstrap_heur)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/qa_seg_bootstrap_heur_right_qa.png
+ ashs_segmentation_qc right bootstrap corr_usegray
+ local side=right
+ local malfmode=bootstrap
+ local corrmode=corr_usegray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.3yCVBoVq/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.3yCVBoVq/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.3yCVBoVq/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.3yCVBoVq/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.3yCVBoVq/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.3yCVBoVq/sag_seg_%02d.png
++ ls /tmp/ashs.3yCVBoVq/cor_mprage_00.png /tmp/ashs.3yCVBoVq/cor_mprage_01.png /tmp/ashs.3yCVBoVq/cor_mprage_02.png /tmp/ashs.3yCVBoVq/cor_mprage_03.png /tmp/ashs.3yCVBoVq/cor_mprage_04.png /tmp/ashs.3yCVBoVq/cor_seg_00.png /tmp/ashs.3yCVBoVq/cor_seg_03.png /tmp/ashs.3yCVBoVq/cor_seg_06.png /tmp/ashs.3yCVBoVq/cor_seg_09.png /tmp/ashs.3yCVBoVq/cor_seg_12.png /tmp/ashs.3yCVBoVq/cor_tse_00.png /tmp/ashs.3yCVBoVq/cor_tse_01.png /tmp/ashs.3yCVBoVq/cor_tse_02.png /tmp/ashs.3yCVBoVq/cor_tse_03.png /tmp/ashs.3yCVBoVq/cor_tse_04.png /tmp/ashs.3yCVBoVq/sag_mprage_00.png /tmp/ashs.3yCVBoVq/sag_mprage_01.png /tmp/ashs.3yCVBoVq/sag_seg_00.png /tmp/ashs.3yCVBoVq/sag_seg_03.png /tmp/ashs.3yCVBoVq/sag_tse_00.png /tmp/ashs.3yCVBoVq/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_mprage_00.png /tmp/ashs.3yCVBoVq/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_mprage_01.png /tmp/ashs.3yCVBoVq/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_mprage_02.png /tmp/ashs.3yCVBoVq/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_mprage_03.png /tmp/ashs.3yCVBoVq/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_mprage_04.png /tmp/ashs.3yCVBoVq/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_seg_00.png /tmp/ashs.3yCVBoVq/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_seg_03.png /tmp/ashs.3yCVBoVq/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_seg_06.png /tmp/ashs.3yCVBoVq/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_seg_09.png /tmp/ashs.3yCVBoVq/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_seg_12.png /tmp/ashs.3yCVBoVq/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_tse_00.png /tmp/ashs.3yCVBoVq/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_tse_01.png /tmp/ashs.3yCVBoVq/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_tse_02.png /tmp/ashs.3yCVBoVq/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_tse_03.png /tmp/ashs.3yCVBoVq/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_tse_04.png /tmp/ashs.3yCVBoVq/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/sag_mprage_00.png /tmp/ashs.3yCVBoVq/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/sag_mprage_01.png /tmp/ashs.3yCVBoVq/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/sag_seg_00.png /tmp/ashs.3yCVBoVq/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/sag_seg_03.png /tmp/ashs.3yCVBoVq/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/sag_tse_00.png /tmp/ashs.3yCVBoVq/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/sag_tse_01.png /tmp/ashs.3yCVBoVq/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.3yCVBoVq/cor_tse_00.png /tmp/ashs.3yCVBoVq/cor_tse_01.png /tmp/ashs.3yCVBoVq/cor_tse_02.png /tmp/ashs.3yCVBoVq/cor_tse_03.png /tmp/ashs.3yCVBoVq/cor_tse_04.png /tmp/ashs.3yCVBoVq/sag_tse_00.png /tmp/ashs.3yCVBoVq/sag_tse_01.png /tmp/ashs.3yCVBoVq/cor_mprage_00.png /tmp/ashs.3yCVBoVq/cor_mprage_01.png /tmp/ashs.3yCVBoVq/cor_mprage_02.png /tmp/ashs.3yCVBoVq/cor_mprage_03.png /tmp/ashs.3yCVBoVq/cor_mprage_04.png /tmp/ashs.3yCVBoVq/sag_mprage_00.png /tmp/ashs.3yCVBoVq/sag_mprage_01.png /tmp/ashs.3yCVBoVq/cor_seg_00.png /tmp/ashs.3yCVBoVq/cor_seg_03.png /tmp/ashs.3yCVBoVq/cor_seg_06.png /tmp/ashs.3yCVBoVq/cor_seg_09.png /tmp/ashs.3yCVBoVq/cor_seg_12.png /tmp/ashs.3yCVBoVq/sag_seg_00.png /tmp/ashs.3yCVBoVq/sag_seg_03.png /tmp/ashs.3yCVBoVq/qa.png
+ convert /tmp/ashs.3yCVBoVq/qa.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa
+ montage -label 27532:right /tmp/ashs.3yCVBoVq/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/qa_seg_bootstrap_corr_usegray_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (right,bootstrap_corr_usegray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/qa_seg_bootstrap_corr_usegray_right_qa.png
+ ashs_segmentation_qc right bootstrap corr_nogray
+ local side=right
+ local malfmode=bootstrap
+ local corrmode=corr_nogray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.3yCVBoVq/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.3yCVBoVq/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.3yCVBoVq/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.3yCVBoVq/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.3yCVBoVq/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.3yCVBoVq/sag_seg_%02d.png
++ ls /tmp/ashs.3yCVBoVq/cor_mprage_00.png /tmp/ashs.3yCVBoVq/cor_mprage_01.png /tmp/ashs.3yCVBoVq/cor_mprage_02.png /tmp/ashs.3yCVBoVq/cor_mprage_03.png /tmp/ashs.3yCVBoVq/cor_mprage_04.png /tmp/ashs.3yCVBoVq/cor_seg_00.png /tmp/ashs.3yCVBoVq/cor_seg_03.png /tmp/ashs.3yCVBoVq/cor_seg_06.png /tmp/ashs.3yCVBoVq/cor_seg_09.png /tmp/ashs.3yCVBoVq/cor_seg_12.png /tmp/ashs.3yCVBoVq/cor_tse_00.png /tmp/ashs.3yCVBoVq/cor_tse_01.png /tmp/ashs.3yCVBoVq/cor_tse_02.png /tmp/ashs.3yCVBoVq/cor_tse_03.png /tmp/ashs.3yCVBoVq/cor_tse_04.png /tmp/ashs.3yCVBoVq/sag_mprage_00.png /tmp/ashs.3yCVBoVq/sag_mprage_01.png /tmp/ashs.3yCVBoVq/sag_seg_00.png /tmp/ashs.3yCVBoVq/sag_seg_03.png /tmp/ashs.3yCVBoVq/sag_tse_00.png /tmp/ashs.3yCVBoVq/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_mprage_00.png /tmp/ashs.3yCVBoVq/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_mprage_01.png /tmp/ashs.3yCVBoVq/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_mprage_02.png /tmp/ashs.3yCVBoVq/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_mprage_03.png /tmp/ashs.3yCVBoVq/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_mprage_04.png /tmp/ashs.3yCVBoVq/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_seg_00.png /tmp/ashs.3yCVBoVq/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_seg_03.png /tmp/ashs.3yCVBoVq/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_seg_06.png /tmp/ashs.3yCVBoVq/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_seg_09.png /tmp/ashs.3yCVBoVq/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_seg_12.png /tmp/ashs.3yCVBoVq/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_tse_00.png /tmp/ashs.3yCVBoVq/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_tse_01.png /tmp/ashs.3yCVBoVq/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_tse_02.png /tmp/ashs.3yCVBoVq/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_tse_03.png /tmp/ashs.3yCVBoVq/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/cor_tse_04.png /tmp/ashs.3yCVBoVq/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/sag_mprage_00.png /tmp/ashs.3yCVBoVq/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/sag_mprage_01.png /tmp/ashs.3yCVBoVq/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/sag_seg_00.png /tmp/ashs.3yCVBoVq/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/sag_seg_03.png /tmp/ashs.3yCVBoVq/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/sag_tse_00.png /tmp/ashs.3yCVBoVq/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.3yCVBoVq/sag_tse_01.png /tmp/ashs.3yCVBoVq/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.3yCVBoVq/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.3yCVBoVq/cor_tse_00.png /tmp/ashs.3yCVBoVq/cor_tse_01.png /tmp/ashs.3yCVBoVq/cor_tse_02.png /tmp/ashs.3yCVBoVq/cor_tse_03.png /tmp/ashs.3yCVBoVq/cor_tse_04.png /tmp/ashs.3yCVBoVq/sag_tse_00.png /tmp/ashs.3yCVBoVq/sag_tse_01.png /tmp/ashs.3yCVBoVq/cor_mprage_00.png /tmp/ashs.3yCVBoVq/cor_mprage_01.png /tmp/ashs.3yCVBoVq/cor_mprage_02.png /tmp/ashs.3yCVBoVq/cor_mprage_03.png /tmp/ashs.3yCVBoVq/cor_mprage_04.png /tmp/ashs.3yCVBoVq/sag_mprage_00.png /tmp/ashs.3yCVBoVq/sag_mprage_01.png /tmp/ashs.3yCVBoVq/cor_seg_00.png /tmp/ashs.3yCVBoVq/cor_seg_03.png /tmp/ashs.3yCVBoVq/cor_seg_06.png /tmp/ashs.3yCVBoVq/cor_seg_09.png /tmp/ashs.3yCVBoVq/cor_seg_12.png /tmp/ashs.3yCVBoVq/sag_seg_00.png /tmp/ashs.3yCVBoVq/sag_seg_03.png /tmp/ashs.3yCVBoVq/qa.png
+ convert /tmp/ashs.3yCVBoVq/qa.png -bordercolor Black -border 1x1 /tmp/ashs.3yCVBoVq/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa
+ montage -label 27532:right /tmp/ashs.3yCVBoVq/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/qa_seg_bootstrap_corr_nogray_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (right,bootstrap_corr_nogray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/qa_seg_bootstrap_corr_nogray_right_qa.png
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.9 -v be=0.95 -v j=1 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.9 0.95'
CHUNK 0.9 0.95
+ echo 1
+ awk -v bs=0.9 -v be=0.95 -v j=1 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.925 0.95
+ echo 'CHUNK 0.925 0.95 1'
CHUNK 0.925 0.95 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.925 0.95 1
====================================
         PROGRESS: 0.925               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 5 successful
------------------------------------------------
[0m
****************************************
Starting stage 6: Final QA
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 6: Final QA
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ cat
Script: ashs_voting_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
+ [[ '' -ne 1 ]]
+ WSUB=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion
+ WQA=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa
+ ASHS_LABELFILE=/home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ for side in '${SIDES}'
+ for segtype in heur corr_usegray corr_nogray
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz -int 0 -reslice-identity -type ushort -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/final/27532_left_lfseg_heur.nii.gz
+ for segtype in heur corr_usegray corr_nogray
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz -int 0 -reslice-identity -type ushort -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/final/27532_left_lfseg_corr_usegray.nii.gz
+ for segtype in heur corr_usegray corr_nogray
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz -int 0 -reslice-identity -type ushort -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/final/27532_left_lfseg_corr_nogray.nii.gz
+ for side in '${SIDES}'
+ for segtype in heur corr_usegray corr_nogray
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz -int 0 -reslice-identity -type ushort -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/final/27532_right_lfseg_heur.nii.gz
+ for segtype in heur corr_usegray corr_nogray
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz -int 0 -reslice-identity -type ushort -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/final/27532_right_lfseg_corr_usegray.nii.gz
+ for segtype in heur corr_usegray corr_nogray
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz -int 0 -reslice-identity -type ushort -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/final/27532_right_lfseg_corr_nogray.nii.gz
+ for side in '${SIDES}'
+ SMASV=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz ]]
+ c3d -verbose /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz -int 0 -trim 10x10x0mm -resample 400x400x100% -as REF /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -stretch 1% 99% 0 255 -clip 0 255 -reslice-identity -push REF /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz -reslice-identity -push REF -foreach -slice z 50% -flip xy -info -endfor -popas S -popas S2 -as G -type uchar -info -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/gray_left.png -clear -push G -push S -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -omc 3 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/masv_left.png -clear -push G -push S2 -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -omc 3 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/final_left.png -clear -push G -push S -push S2 -scale -1 -add -thresh 0 0 0 1 -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -omc 3 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/bc_left.png
Reading #1 from /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz
Trimming #1
  Wrapping non-background voxels with margin of 10 10 0 mm.
  Extracting bounding box [0, 1, 4] [74, 90, 43]
Resampling #1 to have[296, 360, 43] voxels.
  Interpolation method: 0
  Background intensity: 0
  Input spacing: [0.4375, 0.4375, 1.1]
  Input origin: [4.36517, -28.2488, -27.5346]
  Output spacing: [0.109375, 0.109375, 1.1]
  Output origin: [4.19999, -28.2162, -27.6943]
Reading #2 from /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
Quantile 0.01 maps to 66
Quantile 0.99 maps to 833
Scaling #2 by 0.332464 and adding -21.9426
Clipping out-of-range intensities in #2
  Intensity range: 0 to 255
  Reference voxel [0, 0, 0] => moving voxel [266.625, 203.625, 4]
  Reference voxel [148, 180, 21.5] => moving voxel [303.625, 248.625, 25.5]
  Reference voxel [295, 359, 42] => moving voxel [340.375, 293.375, 46]
Reslicing #2 with reference1
  Interpolation method: 0
  Background intensity: 0
  Affine Transform: 
         1.00000      0.00000      0.00000      0.00000 
         0.00000      1.00000      0.00000      0.00000 
         0.00000      0.00000      1.00000      0.00000 
         0.00000      0.00000      0.00000      0.00000 
Reading #3 from /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz
  Reference voxel [0, 0, 0] => moving voxel [-0.375, 0.625, 4]
  Reference voxel [148, 180, 21.5] => moving voxel [36.625, 45.625, 25.5]
  Reference voxel [295, 359, 42] => moving voxel [73.375, 90.375, 46]
Reslicing #3 with reference2
  Interpolation method: 0
  Background intensity: 0
  Affine Transform: 
         1.00000      0.00000      0.00000      0.00000 
         0.00000      1.00000      0.00000      0.00000 
         0.00000      0.00000      1.00000      0.00000 
         0.00000      0.00000      0.00000      0.00000 
Repeating commands for all 3 images
Extracting slice 21 along Z axis in image #18446744073709551615
  Extracting bounding box [0, 0, 21] [296, 360, 1]
Flipping #0 about [1, 1, 0]
Image #1: dim = [296, 360, 1];  bb = {[-36.0273 13.786 15.8404], [-3.65227 53.161 16.9404]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 234.72];  orient = Oblique, closest to RIA

Extracting slice 21 along Z axis in image #18446744073709551615
  Extracting bounding box [0, 0, 21] [296, 360, 1]
Flipping #0 about [1, 1, 0]
Image #1: dim = [296, 360, 1];  bb = {[-36.0273 13.786 15.8404], [-3.65227 53.161 16.9404]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 6];  orient = Oblique, closest to RIA

Extracting slice 21 along Z axis in image #18446744073709551615
  Extracting bounding box [0, 0, 21] [296, 360, 1]
Flipping #0 about [1, 1, 0]
Image #1: dim = [296, 360, 1];  bb = {[-36.0273 13.786 15.8404], [-3.65227 53.161 16.9404]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 6];  orient = Oblique, closest to RIA

Image #1: dim = [296, 360, 1];  bb = {[-36.0273 13.786 15.8404], [-3.65227 53.161 16.9404]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 234.72];  orient = Oblique, closest to RIA

Writing #1 to file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/gray_left.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
Clearing the stack
Overlaying labels in #1 over image #0
Writing Images1 to 3 to multicomponent file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/masv_left.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
Clearing the stack
Overlaying labels in #1 over image #0
Writing Images1 to 3 to multicomponent file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/final_left.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
Clearing the stack
Scaling #3 by -1 and adding 0
Adding #2 and 1
Thresholding #2
  Mapping range [0, 0] to 0
  Values outside are mapped to 1
Overlaying labels in #1 over image #0
Writing Images1 to 3 to multicomponent file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/bc_left.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
+ for side in '${SIDES}'
+ SMASV=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz ]]
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz ]]
+ c3d -verbose /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz -int 0 -trim 10x10x0mm -resample 400x400x100% -as REF /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz -stretch 1% 99% 0 255 -clip 0 255 -reslice-identity -push REF /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz -reslice-identity -push REF -foreach -slice z 50% -flip xy -info -endfor -popas S -popas S2 -as G -type uchar -info -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/gray_right.png -clear -push G -push S -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -omc 3 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/masv_right.png -clear -push G -push S2 -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -omc 3 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/final_right.png -clear -push G -push S -push S2 -scale -1 -add -thresh 0 0 0 1 -oli /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt 0.5 -omc 3 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/bc_right.png
Reading #1 from /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz
Trimming #1
  Wrapping non-background voxels with margin of 10 10 0 mm.
  Extracting bounding box [0, 0, 4] [83, 92, 43]
Resampling #1 to have[332, 368, 43] voxels.
  Interpolation method: 0
  Background intensity: 0
  Input spacing: [0.4375, 0.4375, 1.1]
  Input origin: [-42.421, -29.8232, -27.1088]
  Output spacing: [0.109375, 0.109375, 1.1]
  Output origin: [-42.5861, -29.7906, -27.2685]
Reading #2 from /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/tse.nii.gz
Quantile 0.01 maps to 66
Quantile 0.99 maps to 833
Scaling #2 by 0.332464 and adding -21.9426
Clipping out-of-range intensities in #2
  Intensity range: 0 to 255
  Reference voxel [0, 0, 0] => moving voxel [159.625, 204.625, 4]
  Reference voxel [166, 184, 21.5] => moving voxel [201.125, 250.625, 25.5]
  Reference voxel [331, 367, 42] => moving voxel [242.375, 296.375, 46]
Reslicing #2 with reference1
  Interpolation method: 0
  Background intensity: 0
  Affine Transform: 
         1.00000      0.00000      0.00000      0.00000 
         0.00000      1.00000      0.00000      0.00000 
         0.00000      0.00000      1.00000      0.00000 
         0.00000      0.00000      0.00000      0.00000 
Reading #3 from /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz
  Reference voxel [0, 0, 0] => moving voxel [-0.375, -0.375, 4]
  Reference voxel [166, 184, 21.5] => moving voxel [41.125, 45.625, 25.5]
  Reference voxel [331, 367, 42] => moving voxel [82.375, 91.375, 46]
Reslicing #3 with reference2
  Interpolation method: 0
  Background intensity: 0
  Affine Transform: 
         1.00000      0.00000      0.00000      0.00000 
         0.00000      1.00000      0.00000      0.00000 
         0.00000      0.00000      1.00000      0.00000 
         0.00000      0.00000      0.00000      0.00000 
Repeating commands for all 3 images
Extracting slice 21 along Z axis in image #18446744073709551615
  Extracting bounding box [0, 0, 21] [332, 368, 1]
Flipping #0 about [1, 1, 0]
Image #1: dim = [332, 368, 1];  bb = {[6.81695 15.4382 17.1176], [43.1294 55.6882 18.2176]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 255];  orient = Oblique, closest to RIA

Extracting slice 21 along Z axis in image #18446744073709551615
  Extracting bounding box [0, 0, 21] [332, 368, 1]
Flipping #0 about [1, 1, 0]
Image #1: dim = [332, 368, 1];  bb = {[6.81695 15.4382 17.1176], [43.1294 55.6882 18.2176]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 6];  orient = Oblique, closest to RIA

Extracting slice 21 along Z axis in image #18446744073709551615
  Extracting bounding box [0, 0, 21] [332, 368, 1]
Flipping #0 about [1, 1, 0]
Image #1: dim = [332, 368, 1];  bb = {[6.81695 15.4382 17.1176], [43.1294 55.6882 18.2176]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 6];  orient = Oblique, closest to RIA

Image #1: dim = [332, 368, 1];  bb = {[6.81695 15.4382 17.1176], [43.1294 55.6882 18.2176]};  vox = [0.109375, 0.109375, 1.1];  range = [0, 255];  orient = Oblique, closest to RIA

Writing #1 to file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/gray_right.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
Clearing the stack
Overlaying labels in #1 over image #0
Writing Images1 to 3 to multicomponent file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/masv_right.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
Clearing the stack
Overlaying labels in #1 over image #0
Writing Images1 to 3 to multicomponent file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/final_right.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
Clearing the stack
Scaling #3 by -1 and adding 0
Adding #2 and 1
Thresholding #2
  Mapping range [0, 0] to 0
  Values outside are mapped to 1
Overlaying labels in #1 over image #0
Writing Images1 to 3 to multicomponent file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa/bc_right.png
  Output voxel type: uchar[h]
  Rounding off: Enabled
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/qa
+ cat
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.95 -v be=0.98 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.95 0.98'
CHUNK 0.95 0.98
+ echo 1
+ awk -v bs=0.95 -v be=0.98 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.95 0.98
+ echo 'CHUNK 0.95 0.98 1'
CHUNK 0.95 0.98 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.95 0.98 1
====================================
         PROGRESS: 0.95               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 6 successful
------------------------------------------------
[0m
****************************************
Starting stage 7: Statistics and volume computation
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 7: Statistics and volume 
computation
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/utrechtatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x100%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.347222x0.347222x0.349996mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=0
+++ ASHS_PAIRWISE_ANTS_ITER=60x60x20
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x3
+++ ASHS_MALF_SEARCHRAD=3x3x3
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=3x3x3
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ [[ -n '' ]]
+ cat
Script: ashs_extractstats_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/ANTs-2.3.4/install/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
  SUBJECT: 27532
+ [[ '' -ne 1 ]]
+ WSUB=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion
+ WSTAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/final
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/final
+ cat /home/ccn30/ENCRYPT/atlases/utrechtatlas/snap/snaplabels.txt
+ awk '$1 > 0 {split($0,arr,"\""); sub(/[ \t]+/,"_",arr[2]); print $1,arr[2]}'
+ LABIDS=($(cat $TMPDIR/labels.txt | awk '{print $1}'))
++ cat /tmp/ashs.HhYMrwGJ/labels.txt
++ awk '{print $1}'
+ LABNAMES=($(cat $TMPDIR/labels.txt | awk '{print $2}'))
++ cat /tmp/ashs.HhYMrwGJ/labels.txt
++ awk '{print $2}'
+ for segtype in raw heur corr_usegray corr_nogray manual
+ for side in '$SIDES'
+ [[ raw == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_raw_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_raw_left.nii.gz ]]
+ STATS=/tmp/ashs.HhYMrwGJ/rawvols_raw_left.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_raw_left.nii.gz -dup -lstat
+ tee /tmp/ashs.HhYMrwGJ/rawvols_raw_left.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      344565     72547.086     74    92    53
    1       1.00000     0.00000     1.00000     1.00000        2217       466.782     32    41    20
    2       2.00000     0.00000     2.00000     2.00000        2727       574.161     43    21    36
    3       3.00000     0.00000     3.00000     3.00000        6565      1382.240     56    37    36
    4       4.00000     0.00000     4.00000     4.00000         275        57.900     20    12    21
    5       5.00000     0.00000     5.00000     5.00000        3357       706.806     39    25    29
    6       6.00000     0.00000     6.00000     6.00000         443        93.272     31    14    24
    7       7.00000     0.00000     7.00000     7.00000          42         8.843      7     4    15
    8       8.00000     0.00000     8.00000     8.00000         633       133.276     27    19     6
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/final/27532_left_raw_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/final/27532_left_raw_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.HhYMrwGJ/rawvols_raw_left.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=20
++ cat /tmp/ashs.HhYMrwGJ/rawvols_raw_left.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=466.782
+ [[ -n 20 ]]
+ echo 27532 left ERC 20 466.782
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.HhYMrwGJ/rawvols_raw_left.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=36
++ cat /tmp/ashs.HhYMrwGJ/rawvols_raw_left.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=574.161
+ [[ -n 36 ]]
+ echo 27532 left SUB 36 574.161
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.HhYMrwGJ/rawvols_raw_left.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=36
++ cat /tmp/ashs.HhYMrwGJ/rawvols_raw_left.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1382.240
+ [[ -n 36 ]]
+ echo 27532 left CA1 36 1382.240
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.HhYMrwGJ/rawvols_raw_left.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=21
++ cat /tmp/ashs.HhYMrwGJ/rawvols_raw_left.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=57.900
+ [[ -n 21 ]]
+ echo 27532 left CA2 21 57.900
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.HhYMrwGJ/rawvols_raw_left.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=29
++ cat /tmp/ashs.HhYMrwGJ/rawvols_raw_left.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=706.806
+ [[ -n 29 ]]
+ echo 27532 left DG 29 706.806
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.HhYMrwGJ/rawvols_raw_left.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=24
++ cat /tmp/ashs.HhYMrwGJ/rawvols_raw_left.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=93.272
+ [[ -n 24 ]]
+ echo 27532 left CA3 24 93.272
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.HhYMrwGJ/rawvols_raw_left.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=15
++ cat /tmp/ashs.HhYMrwGJ/rawvols_raw_left.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=8.843
+ [[ -n 15 ]]
+ echo 27532 left Cyst 15 8.843
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.HhYMrwGJ/rawvols_raw_left.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=6
++ cat /tmp/ashs.HhYMrwGJ/rawvols_raw_left.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=133.276
+ [[ -n 6 ]]
+ echo 27532 left Tail 6 133.276
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/refseg/refseg_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/refseg/refseg_left.nii.gz ]]
+ for side in '$SIDES'
+ [[ raw == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_raw_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_raw_right.nii.gz ]]
+ STATS=/tmp/ashs.HhYMrwGJ/rawvols_raw_right.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_raw_right.nii.gz -dup -lstat
+ tee /tmp/ashs.HhYMrwGJ/rawvols_raw_right.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      387469     81580.389     83    92    53
    1       1.00000     0.00000     1.00000     1.00000        2608       549.106     49    46    22
    2       2.00000     0.00000     2.00000     2.00000        3013       634.378     49    22    36
    3       3.00000     0.00000     3.00000     3.00000        7023      1478.671     59    31    37
    4       4.00000     0.00000     4.00000     4.00000         255        53.689     24    16    21
    5       5.00000     0.00000     5.00000     5.00000        3322       699.437     48    23    29
    6       6.00000     0.00000     6.00000     6.00000         371        78.113     31    16    23
    7       7.00000     0.00000     7.00000     7.00000          23         4.843     12     4    13
    8       8.00000     0.00000     8.00000     8.00000         624       131.381     26    22     4
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/final/27532_right_raw_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/final/27532_right_raw_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.HhYMrwGJ/rawvols_raw_right.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=22
++ cat /tmp/ashs.HhYMrwGJ/rawvols_raw_right.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=549.106
+ [[ -n 22 ]]
+ echo 27532 right ERC 22 549.106
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.HhYMrwGJ/rawvols_raw_right.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=36
++ cat /tmp/ashs.HhYMrwGJ/rawvols_raw_right.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=634.378
+ [[ -n 36 ]]
+ echo 27532 right SUB 36 634.378
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.HhYMrwGJ/rawvols_raw_right.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=37
++ cat /tmp/ashs.HhYMrwGJ/rawvols_raw_right.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1478.671
+ [[ -n 37 ]]
+ echo 27532 right CA1 37 1478.671
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.HhYMrwGJ/rawvols_raw_right.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=21
++ cat /tmp/ashs.HhYMrwGJ/rawvols_raw_right.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=53.689
+ [[ -n 21 ]]
+ echo 27532 right CA2 21 53.689
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.HhYMrwGJ/rawvols_raw_right.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=29
++ cat /tmp/ashs.HhYMrwGJ/rawvols_raw_right.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=699.437
+ [[ -n 29 ]]
+ echo 27532 right DG 29 699.437
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.HhYMrwGJ/rawvols_raw_right.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=23
++ cat /tmp/ashs.HhYMrwGJ/rawvols_raw_right.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=78.113
+ [[ -n 23 ]]
+ echo 27532 right CA3 23 78.113
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.HhYMrwGJ/rawvols_raw_right.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=13
++ cat /tmp/ashs.HhYMrwGJ/rawvols_raw_right.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=4.843
+ [[ -n 13 ]]
+ echo 27532 right Cyst 13 4.843
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.HhYMrwGJ/rawvols_raw_right.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=4
++ cat /tmp/ashs.HhYMrwGJ/rawvols_raw_right.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=131.381
+ [[ -n 4 ]]
+ echo 27532 right Tail 4 131.381
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/refseg/refseg_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/refseg/refseg_right.nii.gz ]]
+ for segtype in raw heur corr_usegray corr_nogray manual
+ for side in '$SIDES'
+ [[ heur == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz ]]
+ STATS=/tmp/ashs.HhYMrwGJ/rawvols_heur_left.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_heur_left.nii.gz -dup -lstat
+ tee /tmp/ashs.HhYMrwGJ/rawvols_heur_left.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      344565     72547.086     74    92    53
    1       1.00000     0.00000     1.00000     1.00000        2217       466.782     32    41    20
    2       2.00000     0.00000     2.00000     2.00000        2727       574.161     43    21    36
    3       3.00000     0.00000     3.00000     3.00000        6565      1382.240     56    37    36
    4       4.00000     0.00000     4.00000     4.00000         275        57.900     20    12    21
    5       5.00000     0.00000     5.00000     5.00000        3357       706.806     39    25    29
    6       6.00000     0.00000     6.00000     6.00000         443        93.272     31    14    24
    7       7.00000     0.00000     7.00000     7.00000          42         8.843      7     4    15
    8       8.00000     0.00000     8.00000     8.00000         633       133.276     27    19     6
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/final/27532_left_heur_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/final/27532_left_heur_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.HhYMrwGJ/rawvols_heur_left.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=20
++ cat /tmp/ashs.HhYMrwGJ/rawvols_heur_left.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=466.782
+ [[ -n 20 ]]
+ echo 27532 left ERC 20 466.782
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.HhYMrwGJ/rawvols_heur_left.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=36
++ cat /tmp/ashs.HhYMrwGJ/rawvols_heur_left.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=574.161
+ [[ -n 36 ]]
+ echo 27532 left SUB 36 574.161
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.HhYMrwGJ/rawvols_heur_left.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=36
++ cat /tmp/ashs.HhYMrwGJ/rawvols_heur_left.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1382.240
+ [[ -n 36 ]]
+ echo 27532 left CA1 36 1382.240
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.HhYMrwGJ/rawvols_heur_left.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=21
++ cat /tmp/ashs.HhYMrwGJ/rawvols_heur_left.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=57.900
+ [[ -n 21 ]]
+ echo 27532 left CA2 21 57.900
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.HhYMrwGJ/rawvols_heur_left.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=29
++ cat /tmp/ashs.HhYMrwGJ/rawvols_heur_left.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=706.806
+ [[ -n 29 ]]
+ echo 27532 left DG 29 706.806
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.HhYMrwGJ/rawvols_heur_left.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=24
++ cat /tmp/ashs.HhYMrwGJ/rawvols_heur_left.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=93.272
+ [[ -n 24 ]]
+ echo 27532 left CA3 24 93.272
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.HhYMrwGJ/rawvols_heur_left.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=15
++ cat /tmp/ashs.HhYMrwGJ/rawvols_heur_left.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=8.843
+ [[ -n 15 ]]
+ echo 27532 left Cyst 15 8.843
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.HhYMrwGJ/rawvols_heur_left.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=6
++ cat /tmp/ashs.HhYMrwGJ/rawvols_heur_left.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=133.276
+ [[ -n 6 ]]
+ echo 27532 left Tail 6 133.276
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/refseg/refseg_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/refseg/refseg_left.nii.gz ]]
+ for side in '$SIDES'
+ [[ heur == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz ]]
+ STATS=/tmp/ashs.HhYMrwGJ/rawvols_heur_right.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_heur_right.nii.gz -dup -lstat
+ tee /tmp/ashs.HhYMrwGJ/rawvols_heur_right.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      387469     81580.389     83    92    53
    1       1.00000     0.00000     1.00000     1.00000        2608       549.106     49    46    22
    2       2.00000     0.00000     2.00000     2.00000        3013       634.378     49    22    36
    3       3.00000     0.00000     3.00000     3.00000        7023      1478.671     59    31    37
    4       4.00000     0.00000     4.00000     4.00000         255        53.689     24    16    21
    5       5.00000     0.00000     5.00000     5.00000        3322       699.437     48    23    29
    6       6.00000     0.00000     6.00000     6.00000         371        78.113     31    16    23
    7       7.00000     0.00000     7.00000     7.00000          23         4.843     12     4    13
    8       8.00000     0.00000     8.00000     8.00000         624       131.381     26    22     4
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/final/27532_right_heur_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/final/27532_right_heur_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.HhYMrwGJ/rawvols_heur_right.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=22
++ cat /tmp/ashs.HhYMrwGJ/rawvols_heur_right.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=549.106
+ [[ -n 22 ]]
+ echo 27532 right ERC 22 549.106
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.HhYMrwGJ/rawvols_heur_right.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=36
++ cat /tmp/ashs.HhYMrwGJ/rawvols_heur_right.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=634.378
+ [[ -n 36 ]]
+ echo 27532 right SUB 36 634.378
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.HhYMrwGJ/rawvols_heur_right.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=37
++ cat /tmp/ashs.HhYMrwGJ/rawvols_heur_right.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1478.671
+ [[ -n 37 ]]
+ echo 27532 right CA1 37 1478.671
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.HhYMrwGJ/rawvols_heur_right.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=21
++ cat /tmp/ashs.HhYMrwGJ/rawvols_heur_right.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=53.689
+ [[ -n 21 ]]
+ echo 27532 right CA2 21 53.689
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.HhYMrwGJ/rawvols_heur_right.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=29
++ cat /tmp/ashs.HhYMrwGJ/rawvols_heur_right.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=699.437
+ [[ -n 29 ]]
+ echo 27532 right DG 29 699.437
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.HhYMrwGJ/rawvols_heur_right.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=23
++ cat /tmp/ashs.HhYMrwGJ/rawvols_heur_right.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=78.113
+ [[ -n 23 ]]
+ echo 27532 right CA3 23 78.113
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.HhYMrwGJ/rawvols_heur_right.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=13
++ cat /tmp/ashs.HhYMrwGJ/rawvols_heur_right.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=4.843
+ [[ -n 13 ]]
+ echo 27532 right Cyst 13 4.843
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.HhYMrwGJ/rawvols_heur_right.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=4
++ cat /tmp/ashs.HhYMrwGJ/rawvols_heur_right.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=131.381
+ [[ -n 4 ]]
+ echo 27532 right Tail 4 131.381
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/refseg/refseg_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/refseg/refseg_right.nii.gz ]]
+ for segtype in raw heur corr_usegray corr_nogray manual
+ for side in '$SIDES'
+ [[ corr_usegray == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz ]]
+ STATS=/tmp/ashs.HhYMrwGJ/rawvols_corr_usegray_left.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_left.nii.gz -dup -lstat
+ tee /tmp/ashs.HhYMrwGJ/rawvols_corr_usegray_left.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      344467     72526.452     74    92    53
    1       1.00000     0.00000     1.00000     1.00000        2277       479.415     30    38    21
    2       2.00000     0.00000     2.00000     2.00000        2868       603.848     45    22    37
    3       3.00000     0.00000     3.00000     3.00000        6971      1467.722     56    37    37
    4       4.00000     0.00000     4.00000     4.00000         110        23.160      9     7    16
    5       5.00000     0.00000     5.00000     5.00000        3468       730.177     36    23    29
    6       6.00000     0.00000     6.00000     6.00000          90        18.949     27    10    22
    7       7.00000     0.00000     7.00000     7.00000          36         7.580      7     4    11
    8       8.00000     0.00000     8.00000     8.00000         537       113.064     25    17     7
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/final/27532_left_corr_usegray_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/final/27532_left_corr_usegray_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_usegray_left.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=21
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_usegray_left.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=479.415
+ [[ -n 21 ]]
+ echo 27532 left ERC 21 479.415
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_usegray_left.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=37
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_usegray_left.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=603.848
+ [[ -n 37 ]]
+ echo 27532 left SUB 37 603.848
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_usegray_left.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=37
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_usegray_left.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1467.722
+ [[ -n 37 ]]
+ echo 27532 left CA1 37 1467.722
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_usegray_left.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=16
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_usegray_left.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=23.160
+ [[ -n 16 ]]
+ echo 27532 left CA2 16 23.160
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_usegray_left.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=29
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_usegray_left.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=730.177
+ [[ -n 29 ]]
+ echo 27532 left DG 29 730.177
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_usegray_left.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=22
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_usegray_left.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=18.949
+ [[ -n 22 ]]
+ echo 27532 left CA3 22 18.949
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_usegray_left.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=11
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_usegray_left.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=7.580
+ [[ -n 11 ]]
+ echo 27532 left Cyst 11 7.580
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_usegray_left.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=7
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_usegray_left.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=113.064
+ [[ -n 7 ]]
+ echo 27532 left Tail 7 113.064
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/refseg/refseg_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/refseg/refseg_left.nii.gz ]]
+ for side in '$SIDES'
+ [[ corr_usegray == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz ]]
+ STATS=/tmp/ashs.HhYMrwGJ/rawvols_corr_usegray_right.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_usegray_right.nii.gz -dup -lstat
+ tee /tmp/ashs.HhYMrwGJ/rawvols_corr_usegray_right.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      389019     81906.737     83    92    53
    1       1.00000     0.00000     1.00000     1.00000        1528       321.716     44    42    22
    2       2.00000     0.00000     2.00000     2.00000        2756       580.267     47    20    34
    3       3.00000     0.00000     3.00000     3.00000        7568      1593.419     59    31    37
    4       4.00000     0.00000     4.00000     4.00000          29         6.106     19    10    17
    5       5.00000     0.00000     5.00000     5.00000        3491       735.019     37    21    29
    6       6.00000     0.00000     6.00000     6.00000          65        13.686     32    11    24
    7       7.00000     0.00000     7.00000     7.00000          34         7.159     13     5    13
    8       8.00000     0.00000     8.00000     8.00000         218        45.899     18    12     6
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/final/27532_right_corr_usegray_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/final/27532_right_corr_usegray_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_usegray_right.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=22
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_usegray_right.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=321.716
+ [[ -n 22 ]]
+ echo 27532 right ERC 22 321.716
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_usegray_right.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=34
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_usegray_right.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=580.267
+ [[ -n 34 ]]
+ echo 27532 right SUB 34 580.267
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_usegray_right.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=37
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_usegray_right.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1593.419
+ [[ -n 37 ]]
+ echo 27532 right CA1 37 1593.419
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_usegray_right.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=17
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_usegray_right.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=6.106
+ [[ -n 17 ]]
+ echo 27532 right CA2 17 6.106
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_usegray_right.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=29
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_usegray_right.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=735.019
+ [[ -n 29 ]]
+ echo 27532 right DG 29 735.019
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_usegray_right.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=24
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_usegray_right.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=13.686
+ [[ -n 24 ]]
+ echo 27532 right CA3 24 13.686
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_usegray_right.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=13
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_usegray_right.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=7.159
+ [[ -n 13 ]]
+ echo 27532 right Cyst 13 7.159
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_usegray_right.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=6
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_usegray_right.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=45.899
+ [[ -n 6 ]]
+ echo 27532 right Tail 6 45.899
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/refseg/refseg_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/refseg/refseg_right.nii.gz ]]
+ for segtype in raw heur corr_usegray corr_nogray manual
+ for side in '$SIDES'
+ [[ corr_nogray == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz ]]
+ STATS=/tmp/ashs.HhYMrwGJ/rawvols_corr_nogray_left.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_left.nii.gz -dup -lstat
+ tee /tmp/ashs.HhYMrwGJ/rawvols_corr_nogray_left.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      344861     72609.407     74    92    53
    1       1.00000     0.00000     1.00000     1.00000        2086       439.201     31    38    21
    2       2.00000     0.00000     2.00000     2.00000        2859       601.954     44    21    37
    3       3.00000     0.00000     3.00000     3.00000        6765      1424.350     55    36    36
    4       4.00000     0.00000     4.00000     4.00000         105        22.107      5     8    12
    5       5.00000     0.00000     5.00000     5.00000        3409       717.754     37    21    27
    6       6.00000     0.00000     6.00000     6.00000         116        24.423     28    11    22
    7       7.00000     0.00000     7.00000     7.00000          46         9.685      7     4    11
    8       8.00000     0.00000     8.00000     8.00000         577       121.486     23    17     7
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/final/27532_left_corr_nogray_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/final/27532_left_corr_nogray_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_nogray_left.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=21
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_nogray_left.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=439.201
+ [[ -n 21 ]]
+ echo 27532 left ERC 21 439.201
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_nogray_left.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=37
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_nogray_left.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=601.954
+ [[ -n 37 ]]
+ echo 27532 left SUB 37 601.954
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_nogray_left.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=36
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_nogray_left.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1424.350
+ [[ -n 36 ]]
+ echo 27532 left CA1 36 1424.350
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_nogray_left.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=12
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_nogray_left.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=22.107
+ [[ -n 12 ]]
+ echo 27532 left CA2 12 22.107
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_nogray_left.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=27
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_nogray_left.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=717.754
+ [[ -n 27 ]]
+ echo 27532 left DG 27 717.754
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_nogray_left.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=22
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_nogray_left.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=24.423
+ [[ -n 22 ]]
+ echo 27532 left CA3 22 24.423
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_nogray_left.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=11
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_nogray_left.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=9.685
+ [[ -n 11 ]]
+ echo 27532 left Cyst 11 9.685
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_nogray_left.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=7
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_nogray_left.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=121.486
+ [[ -n 7 ]]
+ echo 27532 left Tail 7 121.486
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/refseg/refseg_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/refseg/refseg_left.nii.gz ]]
+ for side in '$SIDES'
+ [[ corr_nogray == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz ]]
+ STATS=/tmp/ashs.HhYMrwGJ/rawvols_corr_nogray_right.txt
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/bootstrap/fusion/lfseg_corr_nogray_right.nii.gz -dup -lstat
+ tee /tmp/ashs.HhYMrwGJ/rawvols_corr_nogray_right.txt
LabelID        Mean        StdD         Max         Min       Count     Vol(mm^3)        Extent(Vox)
    0       0.00000     0.00000     0.00000     0.00000      389041     81911.369     83    92    53
    1       1.00000     0.00000     1.00000     1.00000        1439       302.977     40    40    22
    2       2.00000     0.00000     2.00000     2.00000        2729       574.582     41    21    34
    3       3.00000     0.00000     3.00000     3.00000        7499      1578.891     59    31    37
    4       4.00000     0.00000     4.00000     4.00000          16         3.369     20    11    15
    5       5.00000     0.00000     5.00000     5.00000        3693       777.550     42    22    30
    6       6.00000     0.00000     6.00000     6.00000          73        15.370     32     8    14
    7       7.00000     0.00000     7.00000     7.00000          26         5.474     12     4    14
    8       8.00000     0.00000     8.00000     8.00000         192        40.425     14    12     5
+ FNBODYVOL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/final/27532_right_corr_nogray_volumes.txt
+ rm -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/final/27532_right_corr_nogray_volumes.txt
+ (( ilab = 0 ))
+ (( ilab < 8 ))
+ i=1
+ SUB=ERC
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_nogray_right.txt
++ awk -v id=1 '$1 == id {print $10}'
+ NBODY=22
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_nogray_right.txt
++ awk -v id=1 '$1 == id {print $7}'
+ VSUB=302.977
+ [[ -n 22 ]]
+ echo 27532 right ERC 22 302.977
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=2
+ SUB=SUB
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_nogray_right.txt
++ awk -v id=2 '$1 == id {print $10}'
+ NBODY=34
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_nogray_right.txt
++ awk -v id=2 '$1 == id {print $7}'
+ VSUB=574.582
+ [[ -n 34 ]]
+ echo 27532 right SUB 34 574.582
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=3
+ SUB=CA1
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_nogray_right.txt
++ awk -v id=3 '$1 == id {print $10}'
+ NBODY=37
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_nogray_right.txt
++ awk -v id=3 '$1 == id {print $7}'
+ VSUB=1578.891
+ [[ -n 37 ]]
+ echo 27532 right CA1 37 1578.891
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=4
+ SUB=CA2
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_nogray_right.txt
++ awk -v id=4 '$1 == id {print $10}'
+ NBODY=15
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_nogray_right.txt
++ awk -v id=4 '$1 == id {print $7}'
+ VSUB=3.369
+ [[ -n 15 ]]
+ echo 27532 right CA2 15 3.369
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=5
+ SUB=DG
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_nogray_right.txt
++ awk -v id=5 '$1 == id {print $10}'
+ NBODY=30
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_nogray_right.txt
++ awk -v id=5 '$1 == id {print $7}'
+ VSUB=777.550
+ [[ -n 30 ]]
+ echo 27532 right DG 30 777.550
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=6
+ SUB=CA3
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_nogray_right.txt
++ awk -v id=6 '$1 == id {print $10}'
+ NBODY=14
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_nogray_right.txt
++ awk -v id=6 '$1 == id {print $7}'
+ VSUB=15.370
+ [[ -n 14 ]]
+ echo 27532 right CA3 14 15.370
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=7
+ SUB=Cyst
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_nogray_right.txt
++ awk -v id=7 '$1 == id {print $10}'
+ NBODY=14
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_nogray_right.txt
++ awk -v id=7 '$1 == id {print $7}'
+ VSUB=5.474
+ [[ -n 14 ]]
+ echo 27532 right Cyst 14 5.474
+ (( ilab++ ))
+ (( ilab < 8 ))
+ i=8
+ SUB=Tail
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_nogray_right.txt
++ awk -v id=8 '$1 == id {print $10}'
+ NBODY=5
++ cat /tmp/ashs.HhYMrwGJ/rawvols_corr_nogray_right.txt
++ awk -v id=8 '$1 == id {print $7}'
+ VSUB=40.425
+ [[ -n 5 ]]
+ echo 27532 right Tail 5 40.425
+ (( ilab++ ))
+ (( ilab < 8 ))
+ REFSEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/refseg/refseg_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/refseg/refseg_right.nii.gz ]]
+ for segtype in raw heur corr_usegray corr_nogray manual
+ for side in '$SIDES'
+ [[ manual == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/refseg/refseg_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/refseg/refseg_left.nii.gz ]]
+ for side in '$SIDES'
+ [[ manual == \m\a\n\u\a\l ]]
+ SBC=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/refseg/refseg_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/refseg/refseg_right.nii.gz ]]
+ [[ -f /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template_bet_mask.nii.gz ]]
+ greedy -d 3 -rm /home/ccn30/ENCRYPT/atlases/utrechtatlas/template/template_bet_mask.nii.gz /tmp/ashs.HhYMrwGJ/icv.nii.gz -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/mprage.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/T1BrainN4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
Executing with the default number of threads: 24
++ voxel_size /tmp/ashs.HhYMrwGJ/icv.nii.gz
+++ c3d /tmp/ashs.HhYMrwGJ/icv.nii.gz -info-full
+++ sed -e 's/[^0-9\.]/ /g'
+++ grep Spacing
+++ awk '{print $1*$2*$3}'
++ echo 0.343
+ VVOX=0.343
++ c3d /tmp/ashs.HhYMrwGJ/icv.nii.gz -thresh 0.5 inf 1 0 -dup -lstat
++ tail -n 1
++ awk '{print $6}'
+ VOLUME=3767059
++ echo '0.343 3767059'
++ awk '{print $1*$2}'
+ ICV=1.2921e+06
+ echo 27532 1.2921e+06
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.98 -v be=1.0 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.98 1.0'
CHUNK 0.98 1.0
+ echo 1
+ awk -v bs=0.98 -v be=1.0 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.98 1
+ echo 'CHUNK 0.98 1 1'
CHUNK 0.98 1 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.98 1 1
====================================
         PROGRESS: 0.98               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 7 successful
------------------------------------------------
[0m
Beginning ASHS for:  27532
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/Series_035_Highresolution_TSE_PAT2_100/n42_t2.nii
Beginning ASHS for:  27532
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/mp2rage/Rn4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/27532/20200917_U-ID49943/Series_035_Highresolution_TSE_PAT2_100/t2.nii
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh: line 112: cd: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/originalskullstripped: No such file or directory
Beginning ASHS for:  27532
Beginning ASHS for:  27532
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh: line 139: cd: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/DenoiseT1N4T2Utrecht: No such file or directory
Beginning ASHS for:  27532
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh: line 149: cd: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS_Utrecht/27532/DenoiseT1N4T2Utrecht: No such file or directory
