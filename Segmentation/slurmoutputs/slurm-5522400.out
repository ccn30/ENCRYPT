Changed directory to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs.

JobID: 5522400
======
Time: Wed Oct 14 11:26:40 BST 2020
Running on master node: wbic-csm-3
Current directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs

Nodes allocated:
================
wbic-csm-3

numtasks=1, numnodes=1, mpi_tasks_per_node=1 (OMP_NUM_THREADS=1)

Executing command:
==================
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh /lustre/scratch/wbic-beta/ccn30/ENCRYPT 25773/20191129_U-ID47278 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs

Beginning ASHS for:  25773
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25773/20191129_U-ID47278/mp2rage/n4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25773/20191129_U-ID47278/Series_029_Highresolution_TSE_PAT2_100/t2.nii
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh: line 48: cd: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original: No such file or directory
ASHS started at 11:26:40
ashs_main execution log
  timestamp:   Wed Oct 14 11:26:40 BST 2020
  invocation:  /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_main.sh -I 25773 -a /home/ccn30/ENCRYPT/atlases/magdeburgatlas -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25773/20191129_U-ID47278/mp2rage/n4mag0000_PSIR_skulled_std.nii -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25773/20191129_U-ID47278/Series_029_Highresolution_TSE_PAT2_100/t2.nii -w /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
  directory:   /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs
  environment:
    ASHS_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25773/20191129_U-ID47278/mp2rage/n4mag0000_PSIR_skulled_std.nii
    ASHS_ROOT=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
    ASHS_SUBJID=25773
    ASHS_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25773/20191129_U-ID47278/Series_029_Highresolution_TSE_PAT2_100/t2.nii
    ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
Atlas    : /home/ccn30/ENCRYPT/atlases/magdeburgatlas
T1 Image : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25773/20191129_U-ID47278/mp2rage/n4mag0000_PSIR_skulled_std.nii
T2 Image : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25773/20191129_U-ID47278/Series_029_Highresolution_TSE_PAT2_100/t2.nii
WorkDir  : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
Not using SGE or GNU parallel
****************************************
Starting stage 1: Normalization to T1 population template
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 1: Normalization to T1 population 
template
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ cat
Script: ashs_template_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
  Skip Rigid: 
  Skip Ants: 
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ TEMP_T1_FULL=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz
+ TEMP_T1_MASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template_bet_mask.nii.gz
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_AFF_T1TEMP_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.nii.gz
+ [[ /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25773/20191129_U-ID47278/mp2rage/n4mag0000_PSIR_skulled_std.nii -nt /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz ]]
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25773/20191129_U-ID47278/mp2rage/n4mag0000_PSIR_skulled_std.nii -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_MPRAGE_DENOISE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_d.nii.gz
+ echo 'ASHS_MPRAGE_DENOISE = 0'
ASHS_MPRAGE_DENOISE = 0
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_d.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ rm -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_d.nii.gz
+ [[ /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25773/20191129_U-ID47278/Series_029_Highresolution_TSE_PAT2_100/t2.nii -nt /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz ]]
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25773/20191129_U-ID47278/Series_029_Highresolution_TSE_PAT2_100/t2.nii -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_TSE_DENOISE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_d.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ rm -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_d.nii.gz
+ ashs_align_t1t2 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local OVERRIDE_MAT=
+ local OVERRIDE_MODE=
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat ]]
+ export FSLOUTPUTTYPE=NIFTI_GZ
+ FSLOUTPUTTYPE=NIFTI_GZ
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz -resample 100x100x252% -region 10x10x0% 80x80x100% -type short -o /tmp/ashs.KaA68OAY/tse_iso.nii.gz
+ [[ -n '' ]]
+ local INIT_RIGID
+ [[ -n '' ]]
+ INIT_RIGID=-ia-identity
+ greedy -d 3 -a -dof 6 -m MI -n 100x100x10 -i /tmp/ashs.KaA68OAY/tse_iso.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz -ia-identity -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
Executing with the default number of threads: 48
*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3567.38   GNORM= 37.2754
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -3585.114      17.834       0.027
   2    3     -3590.084       9.444       1.000
   3    4     -3592.945       5.285       1.000
   4    5     -3594.293       3.632       1.000
   5    7     -3594.452       1.669       0.463
   6    8     -3594.482       1.051       1.000
   7    9     -3594.492       1.233       1.000
   8   10     -3594.506       0.538       1.000
   9   11     -3594.507       0.703       1.000
  10   12     -3594.510       0.346       1.000
  11   14     -3594.511       0.166       0.488
  12   15     -3594.512       0.361       1.000
  13   16     -3594.512       0.318       1.000
  14   17     -3594.512       0.231       1.000
  15   18     -3594.512       0.118       1.000
  16   19     -3594.512       0.075       1.000
  17   21     -3594.512       0.071       0.247
  18   22     -3594.512       0.064       1.000
  19   24     -3594.512       0.054       0.076
  20   26     -3594.512       0.039       0.283
  21   27     -3594.512       0.052       1.000
  22   28     -3594.512       0.068       1.000
  23   29     -3594.512       0.032       1.000
  24   30     -3594.512       0.025       1.000
  25   33     -3594.512       0.018       0.071
  26   35     -3594.512       0.026       0.353
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.999945 -0.00393857 0.00975415 0.239102 
0.0038061 0.999901 0.0135619 -1.23334 
-0.0098066 -0.013524 0.99986 0.24279 
0 0 0 1 

*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3234.17   GNORM= 74.4682
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -3276.498      15.549       0.013
   2    3     -3279.040      14.943       1.000
   3    4     -3285.095      22.106       1.000
   4    5     -3293.031      16.742       1.000
   5    7     -3293.367      15.653       0.184
   6    8     -3294.183       4.200       1.000
   7    9     -3294.266       2.282       1.000
   8   10     -3294.312       1.765       1.000
   9   11     -3294.363       1.534       1.000
  10   12     -3294.374       0.736       1.000
  11   13     -3294.376       0.398       1.000
  12   15     -3294.376       0.304       0.415
  13   16     -3294.377       0.107       1.000
  14   17     -3294.377       0.135       1.000
  15   19     -3294.377       0.178       0.322
  16   20     -3294.377       0.087       1.000
  17   21     -3294.377       0.091       1.000
  18   22     -3294.377       0.068       1.000
  19   23     -3294.377       0.030       1.000
  20   24     -3294.377       0.068       1.000
  21   25     -3294.377       0.057       1.000
  22   26     -3294.377       0.050       1.000
  23   27     -3294.377       0.061       1.000
  24   28     -3294.377       0.028       1.000
  25   30     -3294.377       0.020       0.421
  26   33     -3294.377       0.015       0.070
  27   34     -3294.377       0.015       1.000
  28   36     -3294.377       0.010       0.149
  29   38     -3294.377       0.014       0.160
  30   39     -3294.377       0.013       1.000
  31   40     -3294.377       0.013       1.000
  32   43     -3294.377       0.007       0.065
  33   44     -3294.377       0.005       1.000
  34   45     -3294.377       0.015       1.000
  35   48     -3294.377       0.013       0.073
  36   49     -3294.377       0.008       1.000
  37   50     -3294.377       0.009       1.000
  38   51     -3294.377       0.007       1.000
  39   54     -3294.377       0.004       2.728
  40   56     -3294.377       0.005       0.360
  41   57     -3294.377       0.003       1.000
  42   58     -3294.377       0.004       1.000
  43   59     -3294.377       0.003       1.000
  44   60     -3294.377       0.002       1.000
  45   63     -3294.377       0.005       0.162
  46   65     -3294.377       0.005       0.222
  47   67     -3294.377       0.006       0.129
  48   69     -3294.377       0.004       0.328
  49   70     -3294.377       0.004       1.000
  50   71     -3294.377       0.004       1.000
  51   72     -3294.377       0.002       1.000
  52   75     -3294.377       0.003       0.066
  53   77     -3294.377       0.002       0.395
  54   79     -3294.377       0.003       0.260
  55   82     -3294.377       0.004       0.234
  56   84     -3294.377       0.003       0.273
  57   85     -3294.377       0.003       1.000
Final RAS Transform: 
0.999753 -0.0181353 0.0128793 0.477067 
0.0180066 0.999788 0.0100318 -0.0893279 
-0.0130585 -0.0097974 0.999867 -0.183453 
0 0 0 1 

*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2622.74   GNORM= 89.8056
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2634.796      27.940       0.003
   2    4     -2636.079      11.107       1.000
   3    6     -2637.722      18.974       5.000
   4    7     -2643.341      38.686       1.000
   5    8     -2649.007      35.630       1.000
   6   10     -2649.584      34.509       0.233
   7   11     -2650.956       9.281       1.000
Final RAS Transform: 
0.999625 -0.0216178 0.0168366 0.364978 
0.0215653 0.999762 0.0032929 0.394302 
-0.0169037 -0.00292857 0.999853 -0.550921 
0 0 0 1 

+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.25
+ local PROGRESS=0.25
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.25'
CHUNK 0 0.2 0.25
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.25
====================================
         PROGRESS: 0               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat ]]
+ greedy -d 3 -a -dof 6 -m NCC 2x2x2 -i /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/greedy_t1_to_template_init_rigid.mat -n 400x0x0x0 -ia-image-centers -search 400 5 5
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.06327, moving = 63.157
Rigid search -> Initial best: -473.576 0 0 0 -4.8892 4.85229 33.6425
New best: -536.309 -0.0782742 0.0199108 -0.0191854 -5.02093 -0.364755 31.3667
New best: -605.815 0.0810471 0.015444 0.120831 2.51518 2.74544 35.1733
New best: -790.546 0.0215754 -0.0110612 -0.00451291 -2.95036 -0.0412223 39.4707
New best: -1090.37 0.00395457 0.154734 -0.0127856 6.23326 -2.44052 38.7644
*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1090.37   GNORM= 32.8448
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -1120.434      25.000       0.030
   2    3     -1160.709      26.835       1.000
   3    4     -1163.627      23.107       1.000
   4    5     -1171.007       5.380       1.000
   5    6     -1172.115       2.176       1.000
   6    7     -1172.363       1.395       1.000
   7    8     -1172.388       0.549       1.000
   8    9     -1172.392       0.460       1.000
   9   10     -1172.394       0.403       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.992694 -0.00922729 0.120305 6.52798 
0.0022898 0.998333 0.057677 -6.16931 
-0.120637 -0.0569802 0.99106 39.5278 
0 0 0 1 

Final RAS Transform: 
0.992694 -0.00922729 0.120305 6.52798 
0.0022898 0.998333 0.057677 -6.16931 
-0.120637 -0.0569802 0.99106 39.5278 
0 0 0 1 

Final RAS Transform: 
0.992694 -0.00922729 0.120305 6.52798 
0.0022898 0.998333 0.057677 -6.16931 
-0.120637 -0.0569802 0.99106 39.5278 
0 0 0 1 

Final RAS Transform: 
0.992694 -0.00922729 0.120305 6.52798 
0.0022898 0.998333 0.057677 -6.16931 
-0.120637 -0.0569802 0.99106 39.5278 
0 0 0 1 


real	1m3.278s
user	1m31.448s
sys	0m6.652s
+ greedy -d 3 -a -m NCC 2x2x2 -i /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/greedy_t1_to_template.mat -n 400x80x40x0 -ia /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/greedy_t1_to_template_init_rigid.mat
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.06327, moving = 63.157
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1172.4   GNORM= 55.4996
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -1214.838      37.740       0.018
   2    3     -1258.398      38.829       1.000
   3    4     -1293.562      39.803       1.000
   4    5     -1329.120      61.461       1.000
   5    6     -1374.928      28.439       1.000
   6    7     -1383.740       9.177       1.000
   7    8     -1384.827       4.413       1.000
   8    9     -1385.369       5.005       1.000
   9   10     -1386.234       6.550       1.000
  10   11     -1387.455      11.495       1.000
  11   13     -1387.910      10.514       0.332
  12   14     -1387.976      12.759       1.000
  13   15     -1389.766       4.370       1.000
  14   17     -1389.827       2.937       0.277
  15   18     -1389.878       6.768       1.000
  16   19     -1389.946       3.800       1.000
  17   20     -1389.971       2.753       1.000
  18   22     -1389.983       1.934       0.353
  19   23     -1390.003       2.662       1.000
  20   24     -1390.032       2.634       1.000
  21   25     -1390.068       2.753       1.000
  22   26     -1390.119       3.265       1.000
  23   27     -1390.216       7.182       1.000
  24   29     -1390.248       4.708       0.341
  25   31     -1390.259       4.704       0.128
  26   32     -1390.325      35.618       1.000
  27   37     -1390.338       4.589       0.029
  28   39     -1390.342       2.029       0.346
  29   40     -1390.345       1.967       1.000
  30   41     -1390.395       2.553       1.000
  31   42     -1390.418       2.942       1.000
  32   43     -1390.436       2.880       1.000
  33   44     -1390.485       3.224       1.000
  34   46     -1390.505       2.290       0.159
  35   47     -1390.532       1.817       1.000
  36   49     -1390.547       1.334       0.366
  37   51     -1390.553       1.645       0.455
  38   52     -1390.566       1.598       1.000
  39   54     -1390.586       1.548       0.151
  40   56     -1390.587       1.753       0.178
  41   57     -1390.590       2.118       1.000
  42   59     -1390.594       1.930       0.165
  43   61     -1390.602       1.677       0.200
  44   64     -1390.608       1.303       0.125
  45   66     -1390.610       1.000       0.080
  46   76     -1390.612       0.926       0.304
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.991243 -0.0158281 0.0905903 6.45272 
0.00197999 0.940061 0.234475 -11.3384 
-0.0840103 -0.0277272 0.971766 41.0781 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -756.621   GNORM= 31.4274
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -779.303      15.141       0.032
   2    3      -786.882       5.398       1.000
   3    4      -787.752       2.775       1.000
   4    5      -788.099       2.289       1.000
   5    6      -788.452       2.239       1.000
   6    8      -788.790       1.996       0.393
   7    9      -788.838       1.594       1.000
   8   12      -788.848       1.306       0.085
   9   13      -788.892       0.907       1.000
  10   14      -788.903       0.524       1.000
  11   15      -788.905       0.915       1.000
  12   16      -788.906       0.824       1.000
  13   19      -788.913       1.059       0.577
  14   22      -788.913       1.051       0.025
  15   23      -788.916       0.912       1.000
  16   24      -788.926       1.459       1.000
  17   25      -788.926       1.787       1.000
  18   27      -788.939       0.985       0.220
  19   29      -788.946       0.992       0.144
  20   30      -788.955       1.518       1.000
  21   31      -788.966       0.797       1.000
  22   37      -788.967       0.764       0.064
  23   38      -788.972       0.768       1.000
  24   41      -788.974       0.459       0.048
  25   42      -788.976       0.619       1.000
  26   44      -788.978       0.618       0.241
  27   46      -788.985       0.805       0.516
  28   49      -788.987       0.761       0.070
  29   50      -788.989       0.802       1.000
  30   51      -788.996       0.540       1.000
  31   52      -788.999       0.513       1.000
  32   53      -789.003       0.559       1.000
  33   54      -789.008       1.403       1.000
  34   57      -789.008       1.157       0.013
  35   58      -789.010       1.038       1.000
  36   59      -789.012       0.338       1.000
  37   61      -789.012       0.395       0.475
  38   62      -789.013       0.282       1.000
  39   63      -789.013       0.260       1.000
Final RAS Transform: 
0.981601 -0.0236834 0.102954 6.38178 
-0.00266142 0.93175 0.226559 -11.5771 
-0.0798108 -0.0440181 0.976097 40.6159 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -300.879   GNORM= 6.71779
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -302.665       8.363       0.149
   2    3      -305.079       6.091       1.000
   3    4      -309.603       7.052       1.000
   4    5      -311.181       3.741       1.000
   5    6      -311.982       2.017       1.000
   6    7      -312.753       1.650       1.000
   7    9      -312.923       3.436       0.142
   8   10      -313.189       1.465       1.000
   9   11      -313.288       1.189       1.000
  10   12      -313.468       1.397       1.000
  11   13      -313.563       2.028       1.000
  12   14      -313.753       1.981       1.000
  13   15      -313.842       1.431       1.000
  14   16      -314.006       0.383       1.000
  15   17      -314.024       0.404       1.000
  16   18      -314.027       0.834       1.000
  17   19      -314.030       1.081       1.000
  18   20      -314.058       0.912       1.000
  19   21      -314.083       0.968       1.000
  20   24      -314.118       0.982       0.890
  21   25      -314.209       0.833       1.000
  22   27      -314.223       0.769       0.246
  23   30      -314.226       0.498       0.042
  24   32      -314.237       0.508       0.394
  25   33      -314.251       0.383       1.000
  26   34      -314.257       0.488       1.000
  27   35      -314.269       0.246       1.000
  28   37      -314.269       0.424       0.118
  29   38      -314.270       0.320       1.000
  30   39      -314.270       0.703       1.000
  31   40      -314.272       0.352       1.000
  32   41      -314.273       0.296       1.000
Final RAS Transform: 
0.976278 -0.0262354 0.0999736 6.1474 
-0.00217165 0.918455 0.230175 -11.6776 
-0.083768 -0.0626734 0.95707 41.0733 
0 0 0 1 

Final RAS Transform: 
0.976278 -0.0262354 0.0999736 6.1474 
-0.00217165 0.918455 0.230175 -11.6776 
-0.083768 -0.0626734 0.95707 41.0733 
0 0 0 1 


real	3m7.026s
user	5m19.840s
sys	0m25.316s
+ greedy -d 3 -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/greedy_t1_to_template.mat -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/test_greedy_affine.nii.gz
Executing with the default number of threads: 48
+ cp -a /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/greedy_t1_to_template.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ ln -sf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/test_greedy_affine.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.nii.gz
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.5'
CHUNK 0 0.2 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.5
====================================
         PROGRESS: 0               
====================================
+ [[ -n '' ]]
+ greedy -d 3 -m NCC 2x2x2 -e 0.5 -n 60x60x20x0 -i /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz -oinv /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz -gm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template_bet_mask.nii.gz
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.06327, moving = 51.504
LEVEL 1 of 4
  Smoothing sigmas: [8.29941, 8.21751, 8.31298], [3.38822, 3.35478, 3.39376]
Level     0,  Iter     0:    Energy =  -0.0002
Level     0,  Iter     1:    Energy =   0.0009
Level     0,  Iter     2:    Energy =   0.0029
Level     0,  Iter     3:    Energy =   0.0050
Level     0,  Iter     4:    Energy =   0.0070
Level     0,  Iter     5:    Energy =   0.0090
Level     0,  Iter     6:    Energy =   0.0111
Level     0,  Iter     7:    Energy =   0.0130
Level     0,  Iter     8:    Energy =   0.0147
Level     0,  Iter     9:    Energy =   0.0162
Level     0,  Iter    10:    Energy =   0.0178
Level     0,  Iter    11:    Energy =   0.0194
Level     0,  Iter    12:    Energy =   0.0209
Level     0,  Iter    13:    Energy =   0.0223
Level     0,  Iter    14:    Energy =   0.0234
Level     0,  Iter    15:    Energy =   0.0243
Level     0,  Iter    16:    Energy =   0.0254
Level     0,  Iter    17:    Energy =   0.0266
Level     0,  Iter    18:    Energy =   0.0278
Level     0,  Iter    19:    Energy =   0.0290
Level     0,  Iter    20:    Energy =   0.0300
Level     0,  Iter    21:    Energy =   0.0307
Level     0,  Iter    22:    Energy =   0.0316
Level     0,  Iter    23:    Energy =   0.0322
Level     0,  Iter    24:    Energy =   0.0327
Level     0,  Iter    25:    Energy =   0.0333
Level     0,  Iter    26:    Energy =   0.0337
Level     0,  Iter    27:    Energy =   0.0342
Level     0,  Iter    28:    Energy =   0.0346
Level     0,  Iter    29:    Energy =   0.0351
Level     0,  Iter    30:    Energy =   0.0358
Level     0,  Iter    31:    Energy =   0.0366
Level     0,  Iter    32:    Energy =   0.0371
Level     0,  Iter    33:    Energy =   0.0378
Level     0,  Iter    34:    Energy =   0.0386
Level     0,  Iter    35:    Energy =   0.0393
Level     0,  Iter    36:    Energy =   0.0397
Level     0,  Iter    37:    Energy =   0.0402
Level     0,  Iter    38:    Energy =   0.0408
Level     0,  Iter    39:    Energy =   0.0412
Level     0,  Iter    40:    Energy =   0.0414
Level     0,  Iter    41:    Energy =   0.0419
Level     0,  Iter    42:    Energy =   0.0421
Level     0,  Iter    43:    Energy =   0.0425
Level     0,  Iter    44:    Energy =   0.0428
Level     0,  Iter    45:    Energy =   0.0431
Level     0,  Iter    46:    Energy =   0.0435
Level     0,  Iter    47:    Energy =   0.0437
Level     0,  Iter    48:    Energy =   0.0440
Level     0,  Iter    49:    Energy =   0.0443
Level     0,  Iter    50:    Energy =   0.0447
Level     0,  Iter    51:    Energy =   0.0449
Level     0,  Iter    52:    Energy =   0.0452
Level     0,  Iter    53:    Energy =   0.0453
Level     0,  Iter    54:    Energy =   0.0456
Level     0,  Iter    55:    Energy =   0.0458
Level     0,  Iter    56:    Energy =   0.0461
Level     0,  Iter    57:    Energy =   0.0462
Level     0,  Iter    58:    Energy =   0.0464
Level     0,  Iter    59:    Energy =   0.0466
END OF LEVEL     0    DetJac Range:   0.0306  to   2.0267 
  Avg. Gradient Time  : 0.0181s  36.09% 
  Avg. Gaussian Time  : 0.0238s  47.27% 
  Avg. Iteration Time : 0.0502s 
LEVEL 2 of 4
  Smoothing sigmas: [4.1497, 4.10875, 4.15649], [1.69411, 1.67739, 1.69688]
Level     1,  Iter     0:    Energy =   0.0191
Level     1,  Iter     1:    Energy =   0.0210
Level     1,  Iter     2:    Energy =   0.0225
Level     1,  Iter     3:    Energy =   0.0238
Level     1,  Iter     4:    Energy =   0.0247
Level     1,  Iter     5:    Energy =   0.0256
Level     1,  Iter     6:    Energy =   0.0264
Level     1,  Iter     7:    Energy =   0.0272
Level     1,  Iter     8:    Energy =   0.0278
Level     1,  Iter     9:    Energy =   0.0284
Level     1,  Iter    10:    Energy =   0.0289
Level     1,  Iter    11:    Energy =   0.0296
Level     1,  Iter    12:    Energy =   0.0301
Level     1,  Iter    13:    Energy =   0.0306
Level     1,  Iter    14:    Energy =   0.0308
Level     1,  Iter    15:    Energy =   0.0312
Level     1,  Iter    16:    Energy =   0.0317
Level     1,  Iter    17:    Energy =   0.0320
Level     1,  Iter    18:    Energy =   0.0324
Level     1,  Iter    19:    Energy =   0.0327
Level     1,  Iter    20:    Energy =   0.0330
Level     1,  Iter    21:    Energy =   0.0333
Level     1,  Iter    22:    Energy =   0.0336
Level     1,  Iter    23:    Energy =   0.0338
Level     1,  Iter    24:    Energy =   0.0341
Level     1,  Iter    25:    Energy =   0.0344
Level     1,  Iter    26:    Energy =   0.0347
Level     1,  Iter    27:    Energy =   0.0349
Level     1,  Iter    28:    Energy =   0.0351
Level     1,  Iter    29:    Energy =   0.0352
Level     1,  Iter    30:    Energy =   0.0353
Level     1,  Iter    31:    Energy =   0.0353
Level     1,  Iter    32:    Energy =   0.0352
Level     1,  Iter    33:    Energy =   0.0353
Level     1,  Iter    34:    Energy =   0.0352
Level     1,  Iter    35:    Energy =   0.0351
Level     1,  Iter    36:    Energy =   0.0352
Level     1,  Iter    37:    Energy =   0.0352
Level     1,  Iter    38:    Energy =   0.0352
Level     1,  Iter    39:    Energy =   0.0354
Level     1,  Iter    40:    Energy =   0.0354
Level     1,  Iter    41:    Energy =   0.0355
Level     1,  Iter    42:    Energy =   0.0356
Level     1,  Iter    43:    Energy =   0.0357
Level     1,  Iter    44:    Energy =   0.0358
Level     1,  Iter    45:    Energy =   0.0359
Level     1,  Iter    46:    Energy =   0.0361
Level     1,  Iter    47:    Energy =   0.0362
Level     1,  Iter    48:    Energy =   0.0364
Level     1,  Iter    49:    Energy =   0.0365
Level     1,  Iter    50:    Energy =   0.0368
Level     1,  Iter    51:    Energy =   0.0370
Level     1,  Iter    52:    Energy =   0.0372
Level     1,  Iter    53:    Energy =   0.0374
Level     1,  Iter    54:    Energy =   0.0376
Level     1,  Iter    55:    Energy =   0.0377
Level     1,  Iter    56:    Energy =   0.0378
Level     1,  Iter    57:    Energy =   0.0379
Level     1,  Iter    58:    Energy =   0.0380
Level     1,  Iter    59:    Energy =   0.0381
END OF LEVEL     1    DetJac Range:   0.0294  to   2.1007 
  Avg. Gradient Time  : 0.0944s  38.13% 
  Avg. Gaussian Time  : 0.1219s  49.26% 
  Avg. Iteration Time : 0.2475s 
LEVEL 3 of 4
  Smoothing sigmas: [2.07485, 2.06798, 2.07824], [0.847055, 0.84425, 0.84844]
Level     2,  Iter     0:    Energy =   0.0184
Level     2,  Iter     1:    Energy =   0.0199
Level     2,  Iter     2:    Energy =   0.0211
Level     2,  Iter     3:    Energy =   0.0222
Level     2,  Iter     4:    Energy =   0.0233
Level     2,  Iter     5:    Energy =   0.0241
Level     2,  Iter     6:    Energy =   0.0249
Level     2,  Iter     7:    Energy =   0.0256
Level     2,  Iter     8:    Energy =   0.0261
Level     2,  Iter     9:    Energy =   0.0267
Level     2,  Iter    10:    Energy =   0.0273
Level     2,  Iter    11:    Energy =   0.0278
Level     2,  Iter    12:    Energy =   0.0284
Level     2,  Iter    13:    Energy =   0.0288
Level     2,  Iter    14:    Energy =   0.0293
Level     2,  Iter    15:    Energy =   0.0296
Level     2,  Iter    16:    Energy =   0.0299
Level     2,  Iter    17:    Energy =   0.0302
Level     2,  Iter    18:    Energy =   0.0305
Level     2,  Iter    19:    Energy =   0.0308
END OF LEVEL     2    DetJac Range:   0.0130  to   2.8893 
  Avg. Gradient Time  : 0.7151s  37.67% 
  Avg. Gaussian Time  : 0.9888s  52.09% 
  Avg. Iteration Time : 1.8983s 
LEVEL 4 of 4
  Smoothing sigmas: [1.03743, 1.03743, 1.03912], [0.423527, 0.423527, 0.42422]

real	4m32.365s
user	7m33.716s
sys	0m26.072s
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.9
+ local PROGRESS=0.9
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.9'
CHUNK 0 0.2 0.9
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.9
====================================
         PROGRESS: 0               
====================================
+ greedy -d 3 -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/reslice_mprage_to_template.nii.gz -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
Executing with the default number of threads: 48
+ greedy -d 3 -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/reslice_tse_to_template.nii.gz -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
Executing with the default number of threads: 48
+ ashs_reslice_to_template /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original /home/ccn30/ENCRYPT/atlases/magdeburgatlas
+ local ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local ATLAS=/home/ccn30/ENCRYPT/atlases/magdeburgatlas
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ local side
+ for side in '$SIDES'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz
+ [[ -n '' ]]
+ REFSPACE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_left.nii.gz
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_left.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
Executing with the default number of threads: 48
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_left.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
Executing with the default number of threads: 48
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz -verbose -pim r -thresh 0.001% inf 1 0 -erode 0 4x4x4 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_left.nii.gz -times -type uchar -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz
Intensity range spec 1e-05 maps to 0.01581
Thresholding #1
  Mapping range [0.01581, inf] to 1
  Values outside are mapped to 0
Applying erosion to #1
  Foreground value :    0
  Ball radius      :    [4, 4, 4]
Reading #2 from /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_left.nii.gz
Adding #1 and 0
Writing #1 to file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz
  Output voxel type: uchar[h]
  Rounding off: Enabled
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz /tmp/ashs.KaA68OAY/natmask.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
Executing with the default number of threads: 48
+ c3d /tmp/ashs.KaA68OAY/natmask.nii.gz -thresh 0.5 inf 1 0 -trim 0x0x2vox /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz -reslice-identity -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/seg_left.nii.gz ]]
+ for side in '$SIDES'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ [[ -n '' ]]
+ REFSPACE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_right.nii.gz
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_right.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
Executing with the default number of threads: 48
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_right.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
Executing with the default number of threads: 48
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz -verbose -pim r -thresh 0.001% inf 1 0 -erode 0 4x4x4 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_right.nii.gz -times -type uchar -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
Intensity range spec 1e-05 maps to 0.01686
Thresholding #1
  Mapping range [0.01686, inf] to 1
  Values outside are mapped to 0
Applying erosion to #1
  Foreground value :    0
  Ball radius      :    [4, 4, 4]
Reading #2 from /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_right.nii.gz
Adding #1 and 0
Writing #1 to file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
  Output voxel type: uchar[h]
  Rounding off: Enabled
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz /tmp/ashs.KaA68OAY/natmask.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
Executing with the default number of threads: 48
+ c3d /tmp/ashs.KaA68OAY/natmask.nii.gz -thresh 0.5 inf 1 0 -trim 0x0x2vox /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz -reslice-identity -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/seg_right.nii.gz ]]
+ [[ -f '' ]]
+ [[ -n '' ]]
+ for side in '$SIDES'
+ ashs_registration_qc left
+ local side=left
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz
+ local TEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_left.nii.gz
+ local TEMPSEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_left.nii.gz
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.KaA68OAY/cor_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.KaA68OAY/cor_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.KaA68OAY/cor_tse_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.KaA68OAY/sag_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.KaA68OAY/sag_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.KaA68OAY/sag_tse_%02d.png
++ ls /tmp/ashs.KaA68OAY/cor_mprage_00.png /tmp/ashs.KaA68OAY/cor_mprage_01.png /tmp/ashs.KaA68OAY/cor_mprage_02.png /tmp/ashs.KaA68OAY/cor_mprage_03.png /tmp/ashs.KaA68OAY/cor_mprage_04.png /tmp/ashs.KaA68OAY/cor_temp_00.png /tmp/ashs.KaA68OAY/cor_temp_01.png /tmp/ashs.KaA68OAY/cor_temp_02.png /tmp/ashs.KaA68OAY/cor_temp_03.png /tmp/ashs.KaA68OAY/cor_temp_04.png /tmp/ashs.KaA68OAY/cor_tse_00.png /tmp/ashs.KaA68OAY/cor_tse_01.png /tmp/ashs.KaA68OAY/cor_tse_02.png /tmp/ashs.KaA68OAY/cor_tse_03.png /tmp/ashs.KaA68OAY/cor_tse_04.png /tmp/ashs.KaA68OAY/sag_mprage_00.png /tmp/ashs.KaA68OAY/sag_mprage_01.png /tmp/ashs.KaA68OAY/sag_temp_00.png /tmp/ashs.KaA68OAY/sag_temp_01.png /tmp/ashs.KaA68OAY/sag_tse_00.png /tmp/ashs.KaA68OAY/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/cor_mprage_00.png /tmp/ashs.KaA68OAY/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/cor_mprage_01.png /tmp/ashs.KaA68OAY/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/cor_mprage_02.png /tmp/ashs.KaA68OAY/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/cor_mprage_03.png /tmp/ashs.KaA68OAY/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/cor_mprage_04.png /tmp/ashs.KaA68OAY/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/cor_temp_00.png /tmp/ashs.KaA68OAY/cor_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/cor_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/cor_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/cor_temp_01.png /tmp/ashs.KaA68OAY/cor_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/cor_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/cor_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/cor_temp_02.png /tmp/ashs.KaA68OAY/cor_temp_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/cor_temp_02.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/cor_temp_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/cor_temp_03.png /tmp/ashs.KaA68OAY/cor_temp_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/cor_temp_03.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/cor_temp_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/cor_temp_04.png /tmp/ashs.KaA68OAY/cor_temp_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/cor_temp_04.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/cor_temp_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/cor_tse_00.png /tmp/ashs.KaA68OAY/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/cor_tse_01.png /tmp/ashs.KaA68OAY/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/cor_tse_02.png /tmp/ashs.KaA68OAY/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/cor_tse_03.png /tmp/ashs.KaA68OAY/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/cor_tse_04.png /tmp/ashs.KaA68OAY/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/sag_mprage_00.png /tmp/ashs.KaA68OAY/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/sag_mprage_01.png /tmp/ashs.KaA68OAY/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/sag_temp_00.png /tmp/ashs.KaA68OAY/sag_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/sag_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/sag_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/sag_temp_01.png /tmp/ashs.KaA68OAY/sag_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/sag_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/sag_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/sag_tse_00.png /tmp/ashs.KaA68OAY/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/sag_tse_01.png /tmp/ashs.KaA68OAY/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.KaA68OAY/cor_temp_00.png /tmp/ashs.KaA68OAY/cor_temp_01.png /tmp/ashs.KaA68OAY/cor_temp_02.png /tmp/ashs.KaA68OAY/cor_temp_03.png /tmp/ashs.KaA68OAY/cor_temp_04.png /tmp/ashs.KaA68OAY/sag_temp_00.png /tmp/ashs.KaA68OAY/sag_temp_01.png /tmp/ashs.KaA68OAY/cor_mprage_00.png /tmp/ashs.KaA68OAY/cor_mprage_01.png /tmp/ashs.KaA68OAY/cor_mprage_02.png /tmp/ashs.KaA68OAY/cor_mprage_03.png /tmp/ashs.KaA68OAY/cor_mprage_04.png /tmp/ashs.KaA68OAY/sag_mprage_00.png /tmp/ashs.KaA68OAY/sag_mprage_01.png /tmp/ashs.KaA68OAY/cor_tse_00.png /tmp/ashs.KaA68OAY/cor_tse_01.png /tmp/ashs.KaA68OAY/cor_tse_02.png /tmp/ashs.KaA68OAY/cor_tse_03.png /tmp/ashs.KaA68OAY/cor_tse_04.png /tmp/ashs.KaA68OAY/sag_tse_00.png /tmp/ashs.KaA68OAY/sag_tse_01.png /tmp/ashs.KaA68OAY/qa.png
+ convert /tmp/ashs.KaA68OAY/qa.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/qa
+ montage -label 25773:left /tmp/ashs.KaA68OAY/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/qa/qa_registration_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Registration QC (left)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/qa/qa_registration_left_qa.png
+ for side in '$SIDES'
+ ashs_registration_qc right
+ local side=right
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ local TEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_right.nii.gz
+ local TEMPSEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_right.nii.gz
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.KaA68OAY/cor_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.KaA68OAY/cor_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.KaA68OAY/cor_tse_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.KaA68OAY/sag_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.KaA68OAY/sag_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.KaA68OAY/sag_tse_%02d.png
++ ls /tmp/ashs.KaA68OAY/cor_mprage_00.png /tmp/ashs.KaA68OAY/cor_mprage_01.png /tmp/ashs.KaA68OAY/cor_mprage_02.png /tmp/ashs.KaA68OAY/cor_mprage_03.png /tmp/ashs.KaA68OAY/cor_mprage_04.png /tmp/ashs.KaA68OAY/cor_temp_00.png /tmp/ashs.KaA68OAY/cor_temp_01.png /tmp/ashs.KaA68OAY/cor_temp_02.png /tmp/ashs.KaA68OAY/cor_temp_03.png /tmp/ashs.KaA68OAY/cor_temp_04.png /tmp/ashs.KaA68OAY/cor_tse_00.png /tmp/ashs.KaA68OAY/cor_tse_01.png /tmp/ashs.KaA68OAY/cor_tse_02.png /tmp/ashs.KaA68OAY/cor_tse_03.png /tmp/ashs.KaA68OAY/cor_tse_04.png /tmp/ashs.KaA68OAY/sag_mprage_00.png /tmp/ashs.KaA68OAY/sag_mprage_01.png /tmp/ashs.KaA68OAY/sag_temp_00.png /tmp/ashs.KaA68OAY/sag_temp_01.png /tmp/ashs.KaA68OAY/sag_tse_00.png /tmp/ashs.KaA68OAY/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/cor_mprage_00.png /tmp/ashs.KaA68OAY/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/cor_mprage_01.png /tmp/ashs.KaA68OAY/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/cor_mprage_02.png /tmp/ashs.KaA68OAY/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/cor_mprage_03.png /tmp/ashs.KaA68OAY/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/cor_mprage_04.png /tmp/ashs.KaA68OAY/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/cor_temp_00.png /tmp/ashs.KaA68OAY/cor_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/cor_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/cor_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/cor_temp_01.png /tmp/ashs.KaA68OAY/cor_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/cor_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/cor_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/cor_temp_02.png /tmp/ashs.KaA68OAY/cor_temp_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/cor_temp_02.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/cor_temp_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/cor_temp_03.png /tmp/ashs.KaA68OAY/cor_temp_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/cor_temp_03.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/cor_temp_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/cor_temp_04.png /tmp/ashs.KaA68OAY/cor_temp_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/cor_temp_04.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/cor_temp_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/cor_tse_00.png /tmp/ashs.KaA68OAY/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/cor_tse_01.png /tmp/ashs.KaA68OAY/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/cor_tse_02.png /tmp/ashs.KaA68OAY/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/cor_tse_03.png /tmp/ashs.KaA68OAY/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/cor_tse_04.png /tmp/ashs.KaA68OAY/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/sag_mprage_00.png /tmp/ashs.KaA68OAY/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/sag_mprage_01.png /tmp/ashs.KaA68OAY/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/sag_temp_00.png /tmp/ashs.KaA68OAY/sag_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/sag_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/sag_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/sag_temp_01.png /tmp/ashs.KaA68OAY/sag_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/sag_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/sag_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/sag_tse_00.png /tmp/ashs.KaA68OAY/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.KaA68OAY/sag_tse_01.png /tmp/ashs.KaA68OAY/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.KaA68OAY/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.KaA68OAY/cor_temp_00.png /tmp/ashs.KaA68OAY/cor_temp_01.png /tmp/ashs.KaA68OAY/cor_temp_02.png /tmp/ashs.KaA68OAY/cor_temp_03.png /tmp/ashs.KaA68OAY/cor_temp_04.png /tmp/ashs.KaA68OAY/sag_temp_00.png /tmp/ashs.KaA68OAY/sag_temp_01.png /tmp/ashs.KaA68OAY/cor_mprage_00.png /tmp/ashs.KaA68OAY/cor_mprage_01.png /tmp/ashs.KaA68OAY/cor_mprage_02.png /tmp/ashs.KaA68OAY/cor_mprage_03.png /tmp/ashs.KaA68OAY/cor_mprage_04.png /tmp/ashs.KaA68OAY/sag_mprage_00.png /tmp/ashs.KaA68OAY/sag_mprage_01.png /tmp/ashs.KaA68OAY/cor_tse_00.png /tmp/ashs.KaA68OAY/cor_tse_01.png /tmp/ashs.KaA68OAY/cor_tse_02.png /tmp/ashs.KaA68OAY/cor_tse_03.png /tmp/ashs.KaA68OAY/cor_tse_04.png /tmp/ashs.KaA68OAY/sag_tse_00.png /tmp/ashs.KaA68OAY/sag_tse_01.png /tmp/ashs.KaA68OAY/qa.png
+ convert /tmp/ashs.KaA68OAY/qa.png -bordercolor Black -border 1x1 /tmp/ashs.KaA68OAY/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/qa
+ montage -label 25773:right /tmp/ashs.KaA68OAY/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/qa/qa_registration_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Registration QC (right)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/qa/qa_registration_right_qa.png
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 1'
CHUNK 0 0.2 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 1
====================================
         PROGRESS: 0               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 1 successful
------------------------------------------------
[0m
****************************************
Starting stage 2: Initial ROI registration to all T2 atlases
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 2: Initial ROI registration to 
all T2 atlases
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=000
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 000
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train000
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train000
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left 000 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train000 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=left
+ local tid=000
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train000
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 000 left 0
+ local tid=000
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 000 0
+ set -e
+ local tid=000
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train000/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.544
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 425.894   GNORM= 114.836
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       330.115     101.745       0.009
   2    3      -182.617     174.573       1.000
   3    4      -370.877     110.607       1.000
   4    5      -577.243      75.467       1.000
   5    8      -630.430      59.275       0.687
   6   10      -637.156      29.173       0.107
   7   14      -646.075      34.277       1.175
   8   15      -665.539     249.536       1.000
   9   16      -745.686      80.223       1.000
  10   17      -774.301      79.699       1.000
  11   19      -808.944     706.387       0.404
  12   26      -812.574     108.775       0.000
  13   27      -823.037     101.299       1.000
  14   30      -862.039      46.338       0.705
  15   31      -888.206      49.298       1.000
  16   32      -959.572     117.335       1.000
  17   34      -989.984     112.867       0.268
  18   38     -1075.200      70.375       0.958
  19   39     -1189.091      94.213       1.000
  20   40     -1229.556      67.828       1.000
  21   42     -1280.989      43.904       0.522
  22   43     -1294.137      51.734       1.000
  23   44     -1310.141      39.444       1.000
  24   45     -1310.549      35.322       1.000
  25   46     -1315.841      30.039       1.000
  26   48     -1317.780      20.842       0.205
  27   49     -1321.202      26.447       1.000
  28   50     -1326.903      34.984       1.000
  29   51     -1331.207      15.364       1.000
  30   52     -1334.306      23.009       1.000
  31   53     -1339.098      28.053       1.000
Final RAS Transform: 
0.62814 -0.315839 0.276172 -7.89338 
-0.29472 1.07434 -0.0739383 8.75575 
0.546612 -0.395645 0.601637 2.09102 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -695.107   GNORM= 30.2181
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -697.991      27.417       0.006
   2    4      -698.543      13.465       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.627015 -0.3149 0.274615 -7.79701 
-0.295187 1.07426 -0.0721937 8.79431 
0.546976 -0.396489 0.602881 1.95839 
0 0 0 1 

Final RAS Transform: 
0.627015 -0.3149 0.274615 -7.79701 
-0.295187 1.07426 -0.0721937 8.79431 
0.546976 -0.396489 0.602881 1.95839 
0 0 0 1 


real	0m3.749s
user	0m5.748s
sys	0m0.540s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train000/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.369556
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0312
Level     0,  Iter     1:    Energy =   0.0327
Level     0,  Iter     2:    Energy =   0.0347
Level     0,  Iter     3:    Energy =   0.0364
Level     0,  Iter     4:    Energy =   0.0377
Level     0,  Iter     5:    Energy =   0.0388
Level     0,  Iter     6:    Energy =   0.0398
Level     0,  Iter     7:    Energy =   0.0408
Level     0,  Iter     8:    Energy =   0.0416
Level     0,  Iter     9:    Energy =   0.0421
Level     0,  Iter    10:    Energy =   0.0425
Level     0,  Iter    11:    Energy =   0.0428
Level     0,  Iter    12:    Energy =   0.0432
Level     0,  Iter    13:    Energy =   0.0436
Level     0,  Iter    14:    Energy =   0.0441
Level     0,  Iter    15:    Energy =   0.0445
Level     0,  Iter    16:    Energy =   0.0449
Level     0,  Iter    17:    Energy =   0.0453
Level     0,  Iter    18:    Energy =   0.0457
Level     0,  Iter    19:    Energy =   0.0460
Level     0,  Iter    20:    Energy =   0.0463
Level     0,  Iter    21:    Energy =   0.0466
Level     0,  Iter    22:    Energy =   0.0469
Level     0,  Iter    23:    Energy =   0.0472
Level     0,  Iter    24:    Energy =   0.0475
Level     0,  Iter    25:    Energy =   0.0477
Level     0,  Iter    26:    Energy =   0.0479
Level     0,  Iter    27:    Energy =   0.0480
Level     0,  Iter    28:    Energy =   0.0482
Level     0,  Iter    29:    Energy =   0.0485
Level     0,  Iter    30:    Energy =   0.0487
Level     0,  Iter    31:    Energy =   0.0489
Level     0,  Iter    32:    Energy =   0.0491
Level     0,  Iter    33:    Energy =   0.0492
Level     0,  Iter    34:    Energy =   0.0494
Level     0,  Iter    35:    Energy =   0.0495
Level     0,  Iter    36:    Energy =   0.0496
Level     0,  Iter    37:    Energy =   0.0497
Level     0,  Iter    38:    Energy =   0.0498
Level     0,  Iter    39:    Energy =   0.0499
Level     0,  Iter    40:    Energy =   0.0500
Level     0,  Iter    41:    Energy =   0.0501
Level     0,  Iter    42:    Energy =   0.0502
Level     0,  Iter    43:    Energy =   0.0503
Level     0,  Iter    44:    Energy =   0.0503
Level     0,  Iter    45:    Energy =   0.0504
Level     0,  Iter    46:    Energy =   0.0504
Level     0,  Iter    47:    Energy =   0.0506
Level     0,  Iter    48:    Energy =   0.0506
Level     0,  Iter    49:    Energy =   0.0507
Level     0,  Iter    50:    Energy =   0.0508
Level     0,  Iter    51:    Energy =   0.0509
Level     0,  Iter    52:    Energy =   0.0509
Level     0,  Iter    53:    Energy =   0.0511
Level     0,  Iter    54:    Energy =   0.0511
Level     0,  Iter    55:    Energy =   0.0511
Level     0,  Iter    56:    Energy =   0.0511
Level     0,  Iter    57:    Energy =   0.0512
Level     0,  Iter    58:    Energy =   0.0512
Level     0,  Iter    59:    Energy =   0.0512
END OF LEVEL     0    DetJac Range:   0.0335  to   1.8045 
  Avg. Gradient Time  : 0.0068s  31.65% 
  Avg. Gaussian Time  : 0.0104s  48.23% 
  Avg. Iteration Time : 0.0215s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0285
Level     1,  Iter     1:    Energy =   0.0298
Level     1,  Iter     2:    Energy =   0.0312
Level     1,  Iter     3:    Energy =   0.0320
Level     1,  Iter     4:    Energy =   0.0328
Level     1,  Iter     5:    Energy =   0.0334
Level     1,  Iter     6:    Energy =   0.0341
Level     1,  Iter     7:    Energy =   0.0348
Level     1,  Iter     8:    Energy =   0.0354
Level     1,  Iter     9:    Energy =   0.0357
Level     1,  Iter    10:    Energy =   0.0360
Level     1,  Iter    11:    Energy =   0.0363
Level     1,  Iter    12:    Energy =   0.0365
Level     1,  Iter    13:    Energy =   0.0366
Level     1,  Iter    14:    Energy =   0.0369
Level     1,  Iter    15:    Energy =   0.0372
Level     1,  Iter    16:    Energy =   0.0375
Level     1,  Iter    17:    Energy =   0.0378
Level     1,  Iter    18:    Energy =   0.0381
Level     1,  Iter    19:    Energy =   0.0383
Level     1,  Iter    20:    Energy =   0.0386
Level     1,  Iter    21:    Energy =   0.0388
Level     1,  Iter    22:    Energy =   0.0391
Level     1,  Iter    23:    Energy =   0.0393
Level     1,  Iter    24:    Energy =   0.0396
Level     1,  Iter    25:    Energy =   0.0398
Level     1,  Iter    26:    Energy =   0.0400
Level     1,  Iter    27:    Energy =   0.0401
Level     1,  Iter    28:    Energy =   0.0402
Level     1,  Iter    29:    Energy =   0.0403
Level     1,  Iter    30:    Energy =   0.0403
Level     1,  Iter    31:    Energy =   0.0404
Level     1,  Iter    32:    Energy =   0.0404
Level     1,  Iter    33:    Energy =   0.0404
Level     1,  Iter    34:    Energy =   0.0404
Level     1,  Iter    35:    Energy =   0.0404
Level     1,  Iter    36:    Energy =   0.0405
Level     1,  Iter    37:    Energy =   0.0405
Level     1,  Iter    38:    Energy =   0.0405
Level     1,  Iter    39:    Energy =   0.0405
Level     1,  Iter    40:    Energy =   0.0405
Level     1,  Iter    41:    Energy =   0.0406
Level     1,  Iter    42:    Energy =   0.0406
Level     1,  Iter    43:    Energy =   0.0406
Level     1,  Iter    44:    Energy =   0.0405
Level     1,  Iter    45:    Energy =   0.0405
Level     1,  Iter    46:    Energy =   0.0405
Level     1,  Iter    47:    Energy =   0.0405
Level     1,  Iter    48:    Energy =   0.0405
Level     1,  Iter    49:    Energy =   0.0405
Level     1,  Iter    50:    Energy =   0.0405
Level     1,  Iter    51:    Energy =   0.0405
Level     1,  Iter    52:    Energy =   0.0405
Level     1,  Iter    53:    Energy =   0.0405
Level     1,  Iter    54:    Energy =   0.0405
Level     1,  Iter    55:    Energy =   0.0405
Level     1,  Iter    56:    Energy =   0.0405
Level     1,  Iter    57:    Energy =   0.0405
Level     1,  Iter    58:    Energy =   0.0405
Level     1,  Iter    59:    Energy =   0.0405
END OF LEVEL     1    DetJac Range:   0.0724  to   2.3056 
  Avg. Gradient Time  : 0.0284s  33.74% 
  Avg. Gaussian Time  : 0.0439s  52.29% 
  Avg. Iteration Time : 0.0841s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0196
Level     2,  Iter     1:    Energy =   0.0204
Level     2,  Iter     2:    Energy =   0.0210
Level     2,  Iter     3:    Energy =   0.0216
Level     2,  Iter     4:    Energy =   0.0221
Level     2,  Iter     5:    Energy =   0.0226
Level     2,  Iter     6:    Energy =   0.0230
Level     2,  Iter     7:    Energy =   0.0234
Level     2,  Iter     8:    Energy =   0.0238
Level     2,  Iter     9:    Energy =   0.0241
Level     2,  Iter    10:    Energy =   0.0244
Level     2,  Iter    11:    Energy =   0.0247
Level     2,  Iter    12:    Energy =   0.0250
Level     2,  Iter    13:    Energy =   0.0252
Level     2,  Iter    14:    Energy =   0.0255
Level     2,  Iter    15:    Energy =   0.0257
Level     2,  Iter    16:    Energy =   0.0259
Level     2,  Iter    17:    Energy =   0.0260
Level     2,  Iter    18:    Energy =   0.0262
Level     2,  Iter    19:    Energy =   0.0264
END OF LEVEL     2    DetJac Range:   0.0598  to   2.4571 
  Avg. Gradient Time  : 0.1827s  32.20% 
  Avg. Gaussian Time  : 0.3079s  54.29% 
  Avg. Iteration Time : 0.5672s 

real	0m20.482s
user	0m35.268s
sys	0m2.468s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train000/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train000/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train000/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=0 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=0 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.2 0.204286
+ echo 'CHUNK 0.2 0.204286 1'
CHUNK 0.2 0.204286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.2 0.204286 1
====================================
         PROGRESS: 0.2               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=001
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 001
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train001
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train001
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left 001 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train001 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=left
+ local tid=001
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train001
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 001 left 0
+ local tid=001
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 001 0
+ set -e
+ local tid=001
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train001/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.587
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 439.589   GNORM= 123.05
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -110.825      66.925       0.041
   2    5      -184.573      58.810       0.201
   3    8      -481.692      35.172       2.774
   4    9      -544.738      39.337       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.947039 -0.0408131 0.0484087 0.382045 
-0.251293 1.16915 -0.218105 7.19297 
0.193449 -0.316896 0.815018 -6.73197 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -203.666   GNORM= 22.5753
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -207.198      36.158       0.013
   2    4      -208.923      23.377       1.000
   3    7      -209.172      36.096       2.330
   4    9      -229.757      35.523       0.464
   5   11      -235.623      16.299       0.305
   6   14      -261.503       7.714       2.834
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.916802 -0.0536537 0.0251341 4.49797 
-0.26592 1.13011 -0.238981 7.41444 
0.192678 -0.297254 0.874002 -3.34335 
0 0 0 1 

Final RAS Transform: 
0.916802 -0.0536537 0.0251341 4.49797 
-0.26592 1.13011 -0.238981 7.41444 
0.192678 -0.297254 0.874002 -3.34335 
0 0 0 1 


real	0m4.128s
user	0m6.572s
sys	0m0.508s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train001/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.427976
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0148
Level     0,  Iter     1:    Energy =   0.0165
Level     0,  Iter     2:    Energy =   0.0185
Level     0,  Iter     3:    Energy =   0.0203
Level     0,  Iter     4:    Energy =   0.0219
Level     0,  Iter     5:    Energy =   0.0232
Level     0,  Iter     6:    Energy =   0.0240
Level     0,  Iter     7:    Energy =   0.0245
Level     0,  Iter     8:    Energy =   0.0253
Level     0,  Iter     9:    Energy =   0.0261
Level     0,  Iter    10:    Energy =   0.0269
Level     0,  Iter    11:    Energy =   0.0278
Level     0,  Iter    12:    Energy =   0.0288
Level     0,  Iter    13:    Energy =   0.0297
Level     0,  Iter    14:    Energy =   0.0302
Level     0,  Iter    15:    Energy =   0.0309
Level     0,  Iter    16:    Energy =   0.0314
Level     0,  Iter    17:    Energy =   0.0320
Level     0,  Iter    18:    Energy =   0.0327
Level     0,  Iter    19:    Energy =   0.0331
Level     0,  Iter    20:    Energy =   0.0336
Level     0,  Iter    21:    Energy =   0.0341
Level     0,  Iter    22:    Energy =   0.0347
Level     0,  Iter    23:    Energy =   0.0350
Level     0,  Iter    24:    Energy =   0.0354
Level     0,  Iter    25:    Energy =   0.0358
Level     0,  Iter    26:    Energy =   0.0361
Level     0,  Iter    27:    Energy =   0.0365
Level     0,  Iter    28:    Energy =   0.0368
Level     0,  Iter    29:    Energy =   0.0372
Level     0,  Iter    30:    Energy =   0.0375
Level     0,  Iter    31:    Energy =   0.0380
Level     0,  Iter    32:    Energy =   0.0383
Level     0,  Iter    33:    Energy =   0.0388
Level     0,  Iter    34:    Energy =   0.0391
Level     0,  Iter    35:    Energy =   0.0395
Level     0,  Iter    36:    Energy =   0.0399
Level     0,  Iter    37:    Energy =   0.0401
Level     0,  Iter    38:    Energy =   0.0406
Level     0,  Iter    39:    Energy =   0.0410
Level     0,  Iter    40:    Energy =   0.0412
Level     0,  Iter    41:    Energy =   0.0415
Level     0,  Iter    42:    Energy =   0.0417
Level     0,  Iter    43:    Energy =   0.0419
Level     0,  Iter    44:    Energy =   0.0421
Level     0,  Iter    45:    Energy =   0.0421
Level     0,  Iter    46:    Energy =   0.0423
Level     0,  Iter    47:    Energy =   0.0423
Level     0,  Iter    48:    Energy =   0.0424
Level     0,  Iter    49:    Energy =   0.0424
Level     0,  Iter    50:    Energy =   0.0426
Level     0,  Iter    51:    Energy =   0.0426
Level     0,  Iter    52:    Energy =   0.0426
Level     0,  Iter    53:    Energy =   0.0427
Level     0,  Iter    54:    Energy =   0.0428
Level     0,  Iter    55:    Energy =   0.0429
Level     0,  Iter    56:    Energy =   0.0429
Level     0,  Iter    57:    Energy =   0.0429
Level     0,  Iter    58:    Energy =   0.0430
Level     0,  Iter    59:    Energy =   0.0430
END OF LEVEL     0    DetJac Range:   0.0906  to   2.1842 
  Avg. Gradient Time  : 0.0071s  32.48% 
  Avg. Gaussian Time  : 0.0107s  48.72% 
  Avg. Iteration Time : 0.0219s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0240
Level     1,  Iter     1:    Energy =   0.0253
Level     1,  Iter     2:    Energy =   0.0265
Level     1,  Iter     3:    Energy =   0.0273
Level     1,  Iter     4:    Energy =   0.0281
Level     1,  Iter     5:    Energy =   0.0287
Level     1,  Iter     6:    Energy =   0.0294
Level     1,  Iter     7:    Energy =   0.0299
Level     1,  Iter     8:    Energy =   0.0304
Level     1,  Iter     9:    Energy =   0.0307
Level     1,  Iter    10:    Energy =   0.0309
Level     1,  Iter    11:    Energy =   0.0312
Level     1,  Iter    12:    Energy =   0.0315
Level     1,  Iter    13:    Energy =   0.0318
Level     1,  Iter    14:    Energy =   0.0321
Level     1,  Iter    15:    Energy =   0.0323
Level     1,  Iter    16:    Energy =   0.0325
Level     1,  Iter    17:    Energy =   0.0327
Level     1,  Iter    18:    Energy =   0.0329
Level     1,  Iter    19:    Energy =   0.0331
Level     1,  Iter    20:    Energy =   0.0332
Level     1,  Iter    21:    Energy =   0.0333
Level     1,  Iter    22:    Energy =   0.0334
Level     1,  Iter    23:    Energy =   0.0335
Level     1,  Iter    24:    Energy =   0.0336
Level     1,  Iter    25:    Energy =   0.0337
Level     1,  Iter    26:    Energy =   0.0337
Level     1,  Iter    27:    Energy =   0.0338
Level     1,  Iter    28:    Energy =   0.0338
Level     1,  Iter    29:    Energy =   0.0339
Level     1,  Iter    30:    Energy =   0.0338
Level     1,  Iter    31:    Energy =   0.0336
Level     1,  Iter    32:    Energy =   0.0335
Level     1,  Iter    33:    Energy =   0.0335
Level     1,  Iter    34:    Energy =   0.0335
Level     1,  Iter    35:    Energy =   0.0336
Level     1,  Iter    36:    Energy =   0.0337
Level     1,  Iter    37:    Energy =   0.0338
Level     1,  Iter    38:    Energy =   0.0339
Level     1,  Iter    39:    Energy =   0.0340
Level     1,  Iter    40:    Energy =   0.0341
Level     1,  Iter    41:    Energy =   0.0342
Level     1,  Iter    42:    Energy =   0.0342
Level     1,  Iter    43:    Energy =   0.0342
Level     1,  Iter    44:    Energy =   0.0343
Level     1,  Iter    45:    Energy =   0.0343
Level     1,  Iter    46:    Energy =   0.0344
Level     1,  Iter    47:    Energy =   0.0344
Level     1,  Iter    48:    Energy =   0.0345
Level     1,  Iter    49:    Energy =   0.0345
Level     1,  Iter    50:    Energy =   0.0345
Level     1,  Iter    51:    Energy =   0.0345
Level     1,  Iter    52:    Energy =   0.0345
Level     1,  Iter    53:    Energy =   0.0345
Level     1,  Iter    54:    Energy =   0.0345
Level     1,  Iter    55:    Energy =   0.0345
Level     1,  Iter    56:    Energy =   0.0345
Level     1,  Iter    57:    Energy =   0.0346
Level     1,  Iter    58:    Energy =   0.0346
Level     1,  Iter    59:    Energy =   0.0347
END OF LEVEL     1    DetJac Range:   0.0127  to   2.6182 
  Avg. Gradient Time  : 0.0288s  33.75% 
  Avg. Gaussian Time  : 0.0446s  52.31% 
  Avg. Iteration Time : 0.0852s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0159
Level     2,  Iter     1:    Energy =   0.0166
Level     2,  Iter     2:    Energy =   0.0172
Level     2,  Iter     3:    Energy =   0.0177
Level     2,  Iter     4:    Energy =   0.0183
Level     2,  Iter     5:    Energy =   0.0188
Level     2,  Iter     6:    Energy =   0.0193
Level     2,  Iter     7:    Energy =   0.0197
Level     2,  Iter     8:    Energy =   0.0201
Level     2,  Iter     9:    Energy =   0.0205
Level     2,  Iter    10:    Energy =   0.0207
Level     2,  Iter    11:    Energy =   0.0209
Level     2,  Iter    12:    Energy =   0.0212
Level     2,  Iter    13:    Energy =   0.0215
Level     2,  Iter    14:    Energy =   0.0216
Level     2,  Iter    15:    Energy =   0.0218
Level     2,  Iter    16:    Energy =   0.0219
Level     2,  Iter    17:    Energy =   0.0221
Level     2,  Iter    18:    Energy =   0.0223
Level     2,  Iter    19:    Energy =   0.0224
END OF LEVEL     2    DetJac Range:   0.0094  to   2.2887 
  Avg. Gradient Time  : 0.1796s  32.03% 
  Avg. Gaussian Time  : 0.3052s  54.44% 
  Avg. Iteration Time : 0.5607s 

real	0m20.420s
user	0m35.068s
sys	0m2.516s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train001/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train001/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train001/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=1 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=1 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.204286 0.208571
+ echo 'CHUNK 0.204286 0.208571 1'
CHUNK 0.204286 0.208571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.204286 0.208571 1
====================================
         PROGRESS: 0.204286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=002
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 002
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train002
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train002
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left 002 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train002 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=left
+ local tid=002
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train002
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 002 left 0
+ local tid=002
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 002 0
+ set -e
+ local tid=002
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train002/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.573
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 544.385   GNORM= 117.593
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3       213.280      84.589       0.043
   2    4      -495.155     152.817       1.000
   3    9      -734.526     195.831       0.031
   4   11      -831.298     203.027       0.293
   5   16      -912.997     175.180       0.123
   6   18      -965.536      69.430       0.173
   7   20      -981.348      39.447       0.401
   8   22     -1003.625      33.060       5.000
   9   23     -1045.724      40.358       1.000
  10   26     -1116.913     122.403       2.381
  11   27     -1151.728      74.053       1.000
  12   29     -1160.466      24.818       0.463
  13   31     -1161.483      50.100       0.487
  14   32     -1166.676      29.265       1.000
  15   33     -1168.492      33.430       1.000
  16   34     -1176.144      35.562       1.000
  17   36     -1205.443      75.667       0.486
  18   37     -1213.443      71.175       1.000
  19   39     -1234.114     183.439       0.409
  20   41     -1254.858      94.331       0.342
  21   42     -1265.727     284.003       1.000
  22   46     -1278.803      32.312       0.024
  23   47     -1280.794      33.989       1.000
  24   48     -1282.960      71.717       1.000
  25   49     -1285.308      35.853       1.000
  26   50     -1286.412      36.678       1.000
  27   51     -1289.916      48.892       1.000
  28   52     -1294.849      61.808       1.000
  29   53     -1305.039      52.772       1.000
  30   54     -1321.901      38.010       1.000
  31   55     -1342.182     149.557       1.000
  32   57     -1344.481     162.410       0.573
  33   58     -1404.338     107.035       1.000
  34   61     -1408.882      55.687       0.039
Final RAS Transform: 
0.850045 -0.103863 0.248437 -11.6462 
-0.517694 0.977614 -0.406176 7.50926 
0.128997 -0.205713 0.699337 -1.95519 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -645.626   GNORM= 19.9052
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -646.040      36.625       0.006
   2    6      -646.733      39.251       0.451
   3    7      -647.234      21.432       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.852113 -0.103556 0.247687 -11.8392 
-0.518366 0.97642 -0.408492 7.62484 
0.128327 -0.205658 0.697921 -1.90418 
0 0 0 1 

Final RAS Transform: 
0.852113 -0.103556 0.247687 -11.8392 
-0.518366 0.97642 -0.408492 7.62484 
0.128327 -0.205658 0.697921 -1.90418 
0 0 0 1 


real	0m4.141s
user	0m6.400s
sys	0m0.576s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train002/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.424834
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0373
Level     0,  Iter     1:    Energy =   0.0397
Level     0,  Iter     2:    Energy =   0.0425
Level     0,  Iter     3:    Energy =   0.0449
Level     0,  Iter     4:    Energy =   0.0467
Level     0,  Iter     5:    Energy =   0.0480
Level     0,  Iter     6:    Energy =   0.0491
Level     0,  Iter     7:    Energy =   0.0499
Level     0,  Iter     8:    Energy =   0.0507
Level     0,  Iter     9:    Energy =   0.0512
Level     0,  Iter    10:    Energy =   0.0516
Level     0,  Iter    11:    Energy =   0.0520
Level     0,  Iter    12:    Energy =   0.0523
Level     0,  Iter    13:    Energy =   0.0527
Level     0,  Iter    14:    Energy =   0.0531
Level     0,  Iter    15:    Energy =   0.0535
Level     0,  Iter    16:    Energy =   0.0540
Level     0,  Iter    17:    Energy =   0.0545
Level     0,  Iter    18:    Energy =   0.0550
Level     0,  Iter    19:    Energy =   0.0553
Level     0,  Iter    20:    Energy =   0.0558
Level     0,  Iter    21:    Energy =   0.0563
Level     0,  Iter    22:    Energy =   0.0567
Level     0,  Iter    23:    Energy =   0.0570
Level     0,  Iter    24:    Energy =   0.0571
Level     0,  Iter    25:    Energy =   0.0575
Level     0,  Iter    26:    Energy =   0.0576
Level     0,  Iter    27:    Energy =   0.0578
Level     0,  Iter    28:    Energy =   0.0578
Level     0,  Iter    29:    Energy =   0.0581
Level     0,  Iter    30:    Energy =   0.0583
Level     0,  Iter    31:    Energy =   0.0585
Level     0,  Iter    32:    Energy =   0.0586
Level     0,  Iter    33:    Energy =   0.0588
Level     0,  Iter    34:    Energy =   0.0588
Level     0,  Iter    35:    Energy =   0.0591
Level     0,  Iter    36:    Energy =   0.0592
Level     0,  Iter    37:    Energy =   0.0594
Level     0,  Iter    38:    Energy =   0.0594
Level     0,  Iter    39:    Energy =   0.0597
Level     0,  Iter    40:    Energy =   0.0597
Level     0,  Iter    41:    Energy =   0.0600
Level     0,  Iter    42:    Energy =   0.0600
Level     0,  Iter    43:    Energy =   0.0602
Level     0,  Iter    44:    Energy =   0.0603
Level     0,  Iter    45:    Energy =   0.0604
Level     0,  Iter    46:    Energy =   0.0604
Level     0,  Iter    47:    Energy =   0.0606
Level     0,  Iter    48:    Energy =   0.0605
Level     0,  Iter    49:    Energy =   0.0606
Level     0,  Iter    50:    Energy =   0.0605
Level     0,  Iter    51:    Energy =   0.0606
Level     0,  Iter    52:    Energy =   0.0606
Level     0,  Iter    53:    Energy =   0.0606
Level     0,  Iter    54:    Energy =   0.0606
Level     0,  Iter    55:    Energy =   0.0607
Level     0,  Iter    56:    Energy =   0.0607
Level     0,  Iter    57:    Energy =   0.0607
Level     0,  Iter    58:    Energy =   0.0607
Level     0,  Iter    59:    Energy =   0.0608
END OF LEVEL     0    DetJac Range:   0.0943  to   1.8528 
  Avg. Gradient Time  : 0.0076s  33.29% 
  Avg. Gaussian Time  : 0.0111s  48.33% 
  Avg. Iteration Time : 0.0230s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0341
Level     1,  Iter     1:    Energy =   0.0355
Level     1,  Iter     2:    Energy =   0.0367
Level     1,  Iter     3:    Energy =   0.0379
Level     1,  Iter     4:    Energy =   0.0389
Level     1,  Iter     5:    Energy =   0.0395
Level     1,  Iter     6:    Energy =   0.0403
Level     1,  Iter     7:    Energy =   0.0409
Level     1,  Iter     8:    Energy =   0.0415
Level     1,  Iter     9:    Energy =   0.0420
Level     1,  Iter    10:    Energy =   0.0424
Level     1,  Iter    11:    Energy =   0.0429
Level     1,  Iter    12:    Energy =   0.0433
Level     1,  Iter    13:    Energy =   0.0436
Level     1,  Iter    14:    Energy =   0.0439
Level     1,  Iter    15:    Energy =   0.0441
Level     1,  Iter    16:    Energy =   0.0443
Level     1,  Iter    17:    Energy =   0.0444
Level     1,  Iter    18:    Energy =   0.0446
Level     1,  Iter    19:    Energy =   0.0447
Level     1,  Iter    20:    Energy =   0.0448
Level     1,  Iter    21:    Energy =   0.0450
Level     1,  Iter    22:    Energy =   0.0450
Level     1,  Iter    23:    Energy =   0.0451
Level     1,  Iter    24:    Energy =   0.0451
Level     1,  Iter    25:    Energy =   0.0452
Level     1,  Iter    26:    Energy =   0.0452
Level     1,  Iter    27:    Energy =   0.0453
Level     1,  Iter    28:    Energy =   0.0453
Level     1,  Iter    29:    Energy =   0.0453
Level     1,  Iter    30:    Energy =   0.0454
Level     1,  Iter    31:    Energy =   0.0455
Level     1,  Iter    32:    Energy =   0.0455
Level     1,  Iter    33:    Energy =   0.0456
Level     1,  Iter    34:    Energy =   0.0456
Level     1,  Iter    35:    Energy =   0.0457
Level     1,  Iter    36:    Energy =   0.0457
Level     1,  Iter    37:    Energy =   0.0458
Level     1,  Iter    38:    Energy =   0.0458
Level     1,  Iter    39:    Energy =   0.0459
Level     1,  Iter    40:    Energy =   0.0460
Level     1,  Iter    41:    Energy =   0.0461
Level     1,  Iter    42:    Energy =   0.0462
Level     1,  Iter    43:    Energy =   0.0462
Level     1,  Iter    44:    Energy =   0.0463
Level     1,  Iter    45:    Energy =   0.0463
Level     1,  Iter    46:    Energy =   0.0464
Level     1,  Iter    47:    Energy =   0.0464
Level     1,  Iter    48:    Energy =   0.0464
Level     1,  Iter    49:    Energy =   0.0464
Level     1,  Iter    50:    Energy =   0.0465
Level     1,  Iter    51:    Energy =   0.0465
Level     1,  Iter    52:    Energy =   0.0466
Level     1,  Iter    53:    Energy =   0.0466
Level     1,  Iter    54:    Energy =   0.0467
Level     1,  Iter    55:    Energy =   0.0467
Level     1,  Iter    56:    Energy =   0.0468
Level     1,  Iter    57:    Energy =   0.0469
Level     1,  Iter    58:    Energy =   0.0469
Level     1,  Iter    59:    Energy =   0.0470
END OF LEVEL     1    DetJac Range:   0.0528  to   2.1696 
  Avg. Gradient Time  : 0.0289s  33.85% 
  Avg. Gaussian Time  : 0.0446s  52.15% 
  Avg. Iteration Time : 0.0855s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0189
Level     2,  Iter     1:    Energy =   0.0195
Level     2,  Iter     2:    Energy =   0.0202
Level     2,  Iter     3:    Energy =   0.0207
Level     2,  Iter     4:    Energy =   0.0212
Level     2,  Iter     5:    Energy =   0.0216
Level     2,  Iter     6:    Energy =   0.0219
Level     2,  Iter     7:    Energy =   0.0221
Level     2,  Iter     8:    Energy =   0.0222
Level     2,  Iter     9:    Energy =   0.0225
Level     2,  Iter    10:    Energy =   0.0227
Level     2,  Iter    11:    Energy =   0.0231
Level     2,  Iter    12:    Energy =   0.0234
Level     2,  Iter    13:    Energy =   0.0237
Level     2,  Iter    14:    Energy =   0.0240
Level     2,  Iter    15:    Energy =   0.0241
Level     2,  Iter    16:    Energy =   0.0244
Level     2,  Iter    17:    Energy =   0.0245
Level     2,  Iter    18:    Energy =   0.0247
Level     2,  Iter    19:    Energy =   0.0249
END OF LEVEL     2    DetJac Range:   0.0321  to   2.6206 
  Avg. Gradient Time  : 0.1840s  32.36% 
  Avg. Gaussian Time  : 0.3082s  54.20% 
  Avg. Iteration Time : 0.5686s 

real	0m20.778s
user	0m35.500s
sys	0m2.620s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train002/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train002/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train002/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=2 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=2 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.208571 0.212857
+ echo 'CHUNK 0.208571 0.212857 1'
CHUNK 0.208571 0.212857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.208571 0.212857 1
====================================
         PROGRESS: 0.208571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=003
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 003
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train003
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train003
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left 003 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train003 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=left
+ local tid=003
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train003
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 003 left 0
+ local tid=003
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 003 0
+ set -e
+ local tid=003
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train003/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.667
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 670.065   GNORM= 79.6612
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    6       -99.570     163.708       0.147
   2   11      -297.981     104.219       0.505
   3   12      -487.133      49.610       1.000
   4   16      -487.712     219.847       0.027
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.00622 0.0300245 0.075936 -0.811609 
-0.0976518 1.27975 -0.245833 7.84479 
0.0786472 -0.248405 0.822762 -8.04396 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -191.878   GNORM= 141.689
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -194.575     157.371       0.007
   2    9      -195.295      17.519       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.00782 0.0275718 0.0827873 -1.24833 
-0.095587 1.27652 -0.236127 7.28412 
0.0785715 -0.246628 0.821518 -7.91781 
0 0 0 1 

Final RAS Transform: 
1.00782 0.0275718 0.0827873 -1.24833 
-0.095587 1.27652 -0.236127 7.28412 
0.0785715 -0.246628 0.821518 -7.91781 
0 0 0 1 


real	0m3.775s
user	0m5.868s
sys	0m0.492s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train003/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.483716
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0110
Level     0,  Iter     1:    Energy =   0.0123
Level     0,  Iter     2:    Energy =   0.0144
Level     0,  Iter     3:    Energy =   0.0163
Level     0,  Iter     4:    Energy =   0.0185
Level     0,  Iter     5:    Energy =   0.0205
Level     0,  Iter     6:    Energy =   0.0220
Level     0,  Iter     7:    Energy =   0.0234
Level     0,  Iter     8:    Energy =   0.0246
Level     0,  Iter     9:    Energy =   0.0256
Level     0,  Iter    10:    Energy =   0.0264
Level     0,  Iter    11:    Energy =   0.0269
Level     0,  Iter    12:    Energy =   0.0276
Level     0,  Iter    13:    Energy =   0.0278
Level     0,  Iter    14:    Energy =   0.0283
Level     0,  Iter    15:    Energy =   0.0288
Level     0,  Iter    16:    Energy =   0.0293
Level     0,  Iter    17:    Energy =   0.0298
Level     0,  Iter    18:    Energy =   0.0303
Level     0,  Iter    19:    Energy =   0.0307
Level     0,  Iter    20:    Energy =   0.0310
Level     0,  Iter    21:    Energy =   0.0313
Level     0,  Iter    22:    Energy =   0.0315
Level     0,  Iter    23:    Energy =   0.0317
Level     0,  Iter    24:    Energy =   0.0320
Level     0,  Iter    25:    Energy =   0.0322
Level     0,  Iter    26:    Energy =   0.0324
Level     0,  Iter    27:    Energy =   0.0325
Level     0,  Iter    28:    Energy =   0.0327
Level     0,  Iter    29:    Energy =   0.0329
Level     0,  Iter    30:    Energy =   0.0330
Level     0,  Iter    31:    Energy =   0.0332
Level     0,  Iter    32:    Energy =   0.0333
Level     0,  Iter    33:    Energy =   0.0335
Level     0,  Iter    34:    Energy =   0.0336
Level     0,  Iter    35:    Energy =   0.0338
Level     0,  Iter    36:    Energy =   0.0340
Level     0,  Iter    37:    Energy =   0.0342
Level     0,  Iter    38:    Energy =   0.0344
Level     0,  Iter    39:    Energy =   0.0346
Level     0,  Iter    40:    Energy =   0.0349
Level     0,  Iter    41:    Energy =   0.0351
Level     0,  Iter    42:    Energy =   0.0354
Level     0,  Iter    43:    Energy =   0.0356
Level     0,  Iter    44:    Energy =   0.0359
Level     0,  Iter    45:    Energy =   0.0362
Level     0,  Iter    46:    Energy =   0.0364
Level     0,  Iter    47:    Energy =   0.0365
Level     0,  Iter    48:    Energy =   0.0367
Level     0,  Iter    49:    Energy =   0.0368
Level     0,  Iter    50:    Energy =   0.0369
Level     0,  Iter    51:    Energy =   0.0370
Level     0,  Iter    52:    Energy =   0.0370
Level     0,  Iter    53:    Energy =   0.0371
Level     0,  Iter    54:    Energy =   0.0372
Level     0,  Iter    55:    Energy =   0.0372
Level     0,  Iter    56:    Energy =   0.0373
Level     0,  Iter    57:    Energy =   0.0373
Level     0,  Iter    58:    Energy =   0.0374
Level     0,  Iter    59:    Energy =   0.0375
END OF LEVEL     0    DetJac Range:   0.0850  to   1.7279 
  Avg. Gradient Time  : 0.0072s  32.79% 
  Avg. Gaussian Time  : 0.0107s  48.29% 
  Avg. Iteration Time : 0.0221s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0205
Level     1,  Iter     1:    Energy =   0.0220
Level     1,  Iter     2:    Energy =   0.0234
Level     1,  Iter     3:    Energy =   0.0244
Level     1,  Iter     4:    Energy =   0.0252
Level     1,  Iter     5:    Energy =   0.0259
Level     1,  Iter     6:    Energy =   0.0266
Level     1,  Iter     7:    Energy =   0.0271
Level     1,  Iter     8:    Energy =   0.0276
Level     1,  Iter     9:    Energy =   0.0280
Level     1,  Iter    10:    Energy =   0.0281
Level     1,  Iter    11:    Energy =   0.0282
Level     1,  Iter    12:    Energy =   0.0283
Level     1,  Iter    13:    Energy =   0.0284
Level     1,  Iter    14:    Energy =   0.0286
Level     1,  Iter    15:    Energy =   0.0288
Level     1,  Iter    16:    Energy =   0.0292
Level     1,  Iter    17:    Energy =   0.0296
Level     1,  Iter    18:    Energy =   0.0301
Level     1,  Iter    19:    Energy =   0.0307
Level     1,  Iter    20:    Energy =   0.0312
Level     1,  Iter    21:    Energy =   0.0316
Level     1,  Iter    22:    Energy =   0.0320
Level     1,  Iter    23:    Energy =   0.0323
Level     1,  Iter    24:    Energy =   0.0322
Level     1,  Iter    25:    Energy =   0.0325
Level     1,  Iter    26:    Energy =   0.0325
Level     1,  Iter    27:    Energy =   0.0329
Level     1,  Iter    28:    Energy =   0.0329
Level     1,  Iter    29:    Energy =   0.0331
Level     1,  Iter    30:    Energy =   0.0332
Level     1,  Iter    31:    Energy =   0.0335
Level     1,  Iter    32:    Energy =   0.0334
Level     1,  Iter    33:    Energy =   0.0337
Level     1,  Iter    34:    Energy =   0.0336
Level     1,  Iter    35:    Energy =   0.0338
Level     1,  Iter    36:    Energy =   0.0338
Level     1,  Iter    37:    Energy =   0.0340
Level     1,  Iter    38:    Energy =   0.0341
Level     1,  Iter    39:    Energy =   0.0343
Level     1,  Iter    40:    Energy =   0.0344
Level     1,  Iter    41:    Energy =   0.0345
Level     1,  Iter    42:    Energy =   0.0345
Level     1,  Iter    43:    Energy =   0.0347
Level     1,  Iter    44:    Energy =   0.0344
Level     1,  Iter    45:    Energy =   0.0346
Level     1,  Iter    46:    Energy =   0.0347
Level     1,  Iter    47:    Energy =   0.0349
Level     1,  Iter    48:    Energy =   0.0349
Level     1,  Iter    49:    Energy =   0.0351
Level     1,  Iter    50:    Energy =   0.0348
Level     1,  Iter    51:    Energy =   0.0349
Level     1,  Iter    52:    Energy =   0.0349
Level     1,  Iter    53:    Energy =   0.0351
Level     1,  Iter    54:    Energy =   0.0349
Level     1,  Iter    55:    Energy =   0.0350
Level     1,  Iter    56:    Energy =   0.0349
Level     1,  Iter    57:    Energy =   0.0350
Level     1,  Iter    58:    Energy =   0.0349
Level     1,  Iter    59:    Energy =   0.0351
END OF LEVEL     1    DetJac Range:   0.0303  to   2.2329 
  Avg. Gradient Time  : 0.0300s  34.14% 
  Avg. Gaussian Time  : 0.0458s  51.99% 
  Avg. Iteration Time : 0.0880s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0166
Level     2,  Iter     1:    Energy =   0.0173
Level     2,  Iter     2:    Energy =   0.0178
Level     2,  Iter     3:    Energy =   0.0182
Level     2,  Iter     4:    Energy =   0.0186
Level     2,  Iter     5:    Energy =   0.0189
Level     2,  Iter     6:    Energy =   0.0191
Level     2,  Iter     7:    Energy =   0.0193
Level     2,  Iter     8:    Energy =   0.0195
Level     2,  Iter     9:    Energy =   0.0196
Level     2,  Iter    10:    Energy =   0.0198
Level     2,  Iter    11:    Energy =   0.0200
Level     2,  Iter    12:    Energy =   0.0202
Level     2,  Iter    13:    Energy =   0.0204
Level     2,  Iter    14:    Energy =   0.0207
Level     2,  Iter    15:    Energy =   0.0209
Level     2,  Iter    16:    Energy =   0.0212
Level     2,  Iter    17:    Energy =   0.0215
Level     2,  Iter    18:    Energy =   0.0217
Level     2,  Iter    19:    Energy =   0.0219
END OF LEVEL     2    DetJac Range:   0.0148  to   2.1995 
  Avg. Gradient Time  : 0.1912s  32.97% 
  Avg. Gaussian Time  : 0.3106s  53.58% 
  Avg. Iteration Time : 0.5797s 

real	0m20.938s
user	0m35.840s
sys	0m2.788s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train003/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train003/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train003/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=3 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=3 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.212857 0.217143
+ echo 'CHUNK 0.212857 0.217143 1'
CHUNK 0.212857 0.217143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.212857 0.217143 1
====================================
         PROGRESS: 0.212857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=004
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 004
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train004
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train004
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left 004 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train004 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=left
+ local tid=004
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train004
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 004 left 0
+ local tid=004
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 004 0
+ set -e
+ local tid=004
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train004/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.512
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 529.324   GNORM= 112.328
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       433.205      80.025       0.009
   2    4      -332.556     150.286       5.000
   3    8      -422.572      85.315       0.024
   4   11      -669.623     188.109       2.129
   5   14      -734.088     227.940       0.066
   6   15      -865.831     151.027       1.000
   7   16     -1019.968      77.254       1.000
   8   18     -1066.323      78.387       0.428
   9   20     -1187.407     104.692       5.000
  10   22     -1199.477      84.500       0.201
  11   23     -1234.942      55.510       1.000
  12   25     -1237.810      71.484       0.306
  13   26     -1247.822      20.193       1.000
  14   27     -1253.203      18.808       1.000
  15   29     -1274.119      39.061       0.330
  16   31     -1288.110      44.201       0.083
  17   33     -1293.739      85.046       0.455
  18   34     -1309.949      40.042       1.000
  19   36     -1316.112     105.069       0.131
  20   37     -1323.972     155.020       1.000
  21   39     -1327.998     112.110       0.326
  22   40     -1339.450      77.722       1.000
  23   41     -1346.081      44.196       1.000
  24   42     -1349.410      23.390       1.000
  25   43     -1351.861      53.748       1.000
  26   44     -1355.348      30.196       1.000
  27   45     -1370.377      22.200       1.000
  28   47     -1385.221      29.808       0.304
  29   50     -1387.501      53.051       0.509
  30   53     -1387.675      51.603       0.008
  31   55     -1388.449      42.652       0.218
  32   57     -1401.923      82.776       5.000
  33   58     -1414.428      56.215       1.000
  34   59     -1424.526      25.459       1.000
  35   60     -1434.551      35.247       1.000
Final RAS Transform: 
1.27225 -0.234039 0.102811 5.1566 
-0.523385 1.05817 -0.102101 11.0152 
-0.125363 0.00575675 0.479465 0.852794 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -655.276   GNORM= 43.9266
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -659.269      23.761       0.008
   2    4      -662.335      17.563       1.000
   3    8      -667.236      26.788       0.413
   4   10      -669.882      28.825       0.283
   5   12      -670.774      93.251       0.101
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.28456 -0.237524 0.108827 4.30047 
-0.520433 1.05701 -0.104866 11.8145 
-0.131329 0.0100288 0.473405 1.74532 
0 0 0 1 

Final RAS Transform: 
1.28456 -0.237524 0.108827 4.30047 
-0.520433 1.05701 -0.104866 11.8145 
-0.131329 0.0100288 0.473405 1.74532 
0 0 0 1 


real	0m4.251s
user	0m6.572s
sys	0m0.648s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train004/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.392651
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0374
Level     0,  Iter     1:    Energy =   0.0395
Level     0,  Iter     2:    Energy =   0.0423
Level     0,  Iter     3:    Energy =   0.0452
Level     0,  Iter     4:    Energy =   0.0477
Level     0,  Iter     5:    Energy =   0.0503
Level     0,  Iter     6:    Energy =   0.0515
Level     0,  Iter     7:    Energy =   0.0530
Level     0,  Iter     8:    Energy =   0.0540
Level     0,  Iter     9:    Energy =   0.0551
Level     0,  Iter    10:    Energy =   0.0562
Level     0,  Iter    11:    Energy =   0.0572
Level     0,  Iter    12:    Energy =   0.0574
Level     0,  Iter    13:    Energy =   0.0584
Level     0,  Iter    14:    Energy =   0.0583
Level     0,  Iter    15:    Energy =   0.0591
Level     0,  Iter    16:    Energy =   0.0587
Level     0,  Iter    17:    Energy =   0.0595
Level     0,  Iter    18:    Energy =   0.0593
Level     0,  Iter    19:    Energy =   0.0601
Level     0,  Iter    20:    Energy =   0.0598
Level     0,  Iter    21:    Energy =   0.0605
Level     0,  Iter    22:    Energy =   0.0603
Level     0,  Iter    23:    Energy =   0.0609
Level     0,  Iter    24:    Energy =   0.0608
Level     0,  Iter    25:    Energy =   0.0613
Level     0,  Iter    26:    Energy =   0.0612
Level     0,  Iter    27:    Energy =   0.0615
Level     0,  Iter    28:    Energy =   0.0614
Level     0,  Iter    29:    Energy =   0.0617
Level     0,  Iter    30:    Energy =   0.0616
Level     0,  Iter    31:    Energy =   0.0621
Level     0,  Iter    32:    Energy =   0.0617
Level     0,  Iter    33:    Energy =   0.0623
Level     0,  Iter    34:    Energy =   0.0617
Level     0,  Iter    35:    Energy =   0.0624
Level     0,  Iter    36:    Energy =   0.0618
Level     0,  Iter    37:    Energy =   0.0624
Level     0,  Iter    38:    Energy =   0.0619
Level     0,  Iter    39:    Energy =   0.0623
Level     0,  Iter    40:    Energy =   0.0620
Level     0,  Iter    41:    Energy =   0.0625
Level     0,  Iter    42:    Energy =   0.0620
Level     0,  Iter    43:    Energy =   0.0624
Level     0,  Iter    44:    Energy =   0.0620
Level     0,  Iter    45:    Energy =   0.0623
Level     0,  Iter    46:    Energy =   0.0621
Level     0,  Iter    47:    Energy =   0.0624
Level     0,  Iter    48:    Energy =   0.0621
Level     0,  Iter    49:    Energy =   0.0625
Level     0,  Iter    50:    Energy =   0.0621
Level     0,  Iter    51:    Energy =   0.0626
Level     0,  Iter    52:    Energy =   0.0622
Level     0,  Iter    53:    Energy =   0.0627
Level     0,  Iter    54:    Energy =   0.0622
Level     0,  Iter    55:    Energy =   0.0628
Level     0,  Iter    56:    Energy =   0.0623
Level     0,  Iter    57:    Energy =   0.0626
Level     0,  Iter    58:    Energy =   0.0624
Level     0,  Iter    59:    Energy =   0.0628
END OF LEVEL     0    DetJac Range:   0.2096  to   2.3396 
  Avg. Gradient Time  : 0.0072s  32.49% 
  Avg. Gaussian Time  : 0.0105s  47.47% 
  Avg. Iteration Time : 0.0220s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0309
Level     1,  Iter     1:    Energy =   0.0322
Level     1,  Iter     2:    Energy =   0.0330
Level     1,  Iter     3:    Energy =   0.0337
Level     1,  Iter     4:    Energy =   0.0349
Level     1,  Iter     5:    Energy =   0.0356
Level     1,  Iter     6:    Energy =   0.0364
Level     1,  Iter     7:    Energy =   0.0371
Level     1,  Iter     8:    Energy =   0.0374
Level     1,  Iter     9:    Energy =   0.0378
Level     1,  Iter    10:    Energy =   0.0381
Level     1,  Iter    11:    Energy =   0.0383
Level     1,  Iter    12:    Energy =   0.0386
Level     1,  Iter    13:    Energy =   0.0386
Level     1,  Iter    14:    Energy =   0.0389
Level     1,  Iter    15:    Energy =   0.0390
Level     1,  Iter    16:    Energy =   0.0392
Level     1,  Iter    17:    Energy =   0.0395
Level     1,  Iter    18:    Energy =   0.0397
Level     1,  Iter    19:    Energy =   0.0400
Level     1,  Iter    20:    Energy =   0.0403
Level     1,  Iter    21:    Energy =   0.0406
Level     1,  Iter    22:    Energy =   0.0409
Level     1,  Iter    23:    Energy =   0.0411
Level     1,  Iter    24:    Energy =   0.0413
Level     1,  Iter    25:    Energy =   0.0415
Level     1,  Iter    26:    Energy =   0.0416
Level     1,  Iter    27:    Energy =   0.0417
Level     1,  Iter    28:    Energy =   0.0417
Level     1,  Iter    29:    Energy =   0.0419
Level     1,  Iter    30:    Energy =   0.0419
Level     1,  Iter    31:    Energy =   0.0420
Level     1,  Iter    32:    Energy =   0.0421
Level     1,  Iter    33:    Energy =   0.0421
Level     1,  Iter    34:    Energy =   0.0422
Level     1,  Iter    35:    Energy =   0.0423
Level     1,  Iter    36:    Energy =   0.0423
Level     1,  Iter    37:    Energy =   0.0424
Level     1,  Iter    38:    Energy =   0.0424
Level     1,  Iter    39:    Energy =   0.0425
Level     1,  Iter    40:    Energy =   0.0425
Level     1,  Iter    41:    Energy =   0.0426
Level     1,  Iter    42:    Energy =   0.0426
Level     1,  Iter    43:    Energy =   0.0426
Level     1,  Iter    44:    Energy =   0.0426
Level     1,  Iter    45:    Energy =   0.0427
Level     1,  Iter    46:    Energy =   0.0427
Level     1,  Iter    47:    Energy =   0.0427
Level     1,  Iter    48:    Energy =   0.0427
Level     1,  Iter    49:    Energy =   0.0428
Level     1,  Iter    50:    Energy =   0.0428
Level     1,  Iter    51:    Energy =   0.0428
Level     1,  Iter    52:    Energy =   0.0428
Level     1,  Iter    53:    Energy =   0.0428
Level     1,  Iter    54:    Energy =   0.0429
Level     1,  Iter    55:    Energy =   0.0429
Level     1,  Iter    56:    Energy =   0.0429
Level     1,  Iter    57:    Energy =   0.0429
Level     1,  Iter    58:    Energy =   0.0430
Level     1,  Iter    59:    Energy =   0.0430
END OF LEVEL     1    DetJac Range:   0.1404  to   2.5791 
  Avg. Gradient Time  : 0.0284s  33.82% 
  Avg. Gaussian Time  : 0.0438s  52.11% 
  Avg. Iteration Time : 0.0841s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0168
Level     2,  Iter     1:    Energy =   0.0174
Level     2,  Iter     2:    Energy =   0.0182
Level     2,  Iter     3:    Energy =   0.0190
Level     2,  Iter     4:    Energy =   0.0197
Level     2,  Iter     5:    Energy =   0.0202
Level     2,  Iter     6:    Energy =   0.0207
Level     2,  Iter     7:    Energy =   0.0211
Level     2,  Iter     8:    Energy =   0.0215
Level     2,  Iter     9:    Energy =   0.0219
Level     2,  Iter    10:    Energy =   0.0222
Level     2,  Iter    11:    Energy =   0.0224
Level     2,  Iter    12:    Energy =   0.0226
Level     2,  Iter    13:    Energy =   0.0229
Level     2,  Iter    14:    Energy =   0.0230
Level     2,  Iter    15:    Energy =   0.0232
Level     2,  Iter    16:    Energy =   0.0234
Level     2,  Iter    17:    Energy =   0.0235
Level     2,  Iter    18:    Energy =   0.0237
Level     2,  Iter    19:    Energy =   0.0238
END OF LEVEL     2    DetJac Range:   0.1027  to   3.9982 
  Avg. Gradient Time  : 0.1789s  32.01% 
  Avg. Gaussian Time  : 0.3045s  54.49% 
  Avg. Iteration Time : 0.5588s 

real	0m20.261s
user	0m34.744s
sys	0m2.592s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train004/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train004/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train004/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=4 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=4 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.217143 0.221429
+ echo 'CHUNK 0.217143 0.221429 1'
CHUNK 0.217143 0.221429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.217143 0.221429 1
====================================
         PROGRESS: 0.217143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=005
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 005
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train005
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train005
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left 005 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train005 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=left
+ local tid=005
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train005
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 005 left 0
+ local tid=005
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 005 0
+ set -e
+ local tid=005
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train005/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.565
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 533.869   GNORM= 153.253
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3       -30.940      99.831       0.033
   2    4       -91.001      73.254       1.000
   3    5      -123.733      25.265       1.000
   4   10      -590.365     106.187      26.665
   5   15      -599.421      28.744       0.026
   6   16      -620.261     107.279       1.000
   7   20      -848.171     150.420      12.644
   8   21      -870.590      92.298       1.000
   9   22      -913.114      63.996       1.000
  10   24      -936.877      75.112       0.500
  11   25      -965.876      54.575       1.000
  12   27     -1004.161      60.364       0.221
  13   28     -1054.390      83.948       1.000
  14   29     -1164.828     139.608       1.000
  15   30     -1230.275      81.949       1.000
  16   31     -1271.610      86.593       1.000
  17   32     -1311.291      79.300       1.000
  18   33     -1323.658      51.426       1.000
  19   34     -1333.618      52.107       1.000
  20   36     -1376.043      71.921       0.464
  21   37     -1383.256      52.126       1.000
  22   39     -1386.401      44.250       0.418
  23   40     -1389.147      20.042       1.000
  24   41     -1391.781      16.797       1.000
  25   42     -1397.013      22.516       1.000
  26   44     -1398.059      23.797       0.379
  27   45     -1398.962      10.840       1.000
  28   46     -1398.985      28.239       1.000
  29   47     -1401.177      25.524       1.000
  30   49     -1403.149      29.500       0.269
  31   50     -1405.549      21.860       1.000
  32   51     -1412.763      22.099       1.000
  33   53     -1414.753      16.381       0.472
  34   54     -1417.719      25.896       1.000
  35   55     -1419.198      12.963       1.000
  36   56     -1420.613      14.403       1.000
  37   58     -1421.452      55.258       0.260
  38   59     -1422.574      17.093       1.000
  39   61     -1425.299      26.286       5.000
Final RAS Transform: 
1.26273 0.025096 0.254005 5.10472 
-0.419342 1.18248 -0.0602803 1.93304 
0.182884 -0.0210039 0.584301 -12.5145 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -652.139   GNORM= 65.7302
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    5      -660.917      41.155       0.020
   2    6      -670.393      33.099       1.000
   3   10      -674.695      15.820       1.047
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.26968 0.0221571 0.264124 4.3909 
-0.418593 1.18109 -0.0574102 1.74442 
0.183959 -0.024148 0.582903 -12.8046 
0 0 0 1 

Final RAS Transform: 
1.26968 0.0221571 0.264124 4.3909 
-0.418593 1.18109 -0.0574102 1.74442 
0.183959 -0.024148 0.582903 -12.8046 
0 0 0 1 


real	0m4.137s
user	0m6.480s
sys	0m0.528s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train005/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.401045
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0339
Level     0,  Iter     1:    Energy =   0.0360
Level     0,  Iter     2:    Energy =   0.0382
Level     0,  Iter     3:    Energy =   0.0404
Level     0,  Iter     4:    Energy =   0.0421
Level     0,  Iter     5:    Energy =   0.0433
Level     0,  Iter     6:    Energy =   0.0443
Level     0,  Iter     7:    Energy =   0.0451
Level     0,  Iter     8:    Energy =   0.0457
Level     0,  Iter     9:    Energy =   0.0464
Level     0,  Iter    10:    Energy =   0.0471
Level     0,  Iter    11:    Energy =   0.0476
Level     0,  Iter    12:    Energy =   0.0482
Level     0,  Iter    13:    Energy =   0.0487
Level     0,  Iter    14:    Energy =   0.0493
Level     0,  Iter    15:    Energy =   0.0497
Level     0,  Iter    16:    Energy =   0.0501
Level     0,  Iter    17:    Energy =   0.0506
Level     0,  Iter    18:    Energy =   0.0510
Level     0,  Iter    19:    Energy =   0.0510
Level     0,  Iter    20:    Energy =   0.0513
Level     0,  Iter    21:    Energy =   0.0516
Level     0,  Iter    22:    Energy =   0.0520
Level     0,  Iter    23:    Energy =   0.0523
Level     0,  Iter    24:    Energy =   0.0526
Level     0,  Iter    25:    Energy =   0.0529
Level     0,  Iter    26:    Energy =   0.0533
Level     0,  Iter    27:    Energy =   0.0536
Level     0,  Iter    28:    Energy =   0.0539
Level     0,  Iter    29:    Energy =   0.0542
Level     0,  Iter    30:    Energy =   0.0545
Level     0,  Iter    31:    Energy =   0.0547
Level     0,  Iter    32:    Energy =   0.0549
Level     0,  Iter    33:    Energy =   0.0550
Level     0,  Iter    34:    Energy =   0.0551
Level     0,  Iter    35:    Energy =   0.0554
Level     0,  Iter    36:    Energy =   0.0555
Level     0,  Iter    37:    Energy =   0.0557
Level     0,  Iter    38:    Energy =   0.0556
Level     0,  Iter    39:    Energy =   0.0560
Level     0,  Iter    40:    Energy =   0.0557
Level     0,  Iter    41:    Energy =   0.0561
Level     0,  Iter    42:    Energy =   0.0559
Level     0,  Iter    43:    Energy =   0.0564
Level     0,  Iter    44:    Energy =   0.0562
Level     0,  Iter    45:    Energy =   0.0566
Level     0,  Iter    46:    Energy =   0.0563
Level     0,  Iter    47:    Energy =   0.0567
Level     0,  Iter    48:    Energy =   0.0564
Level     0,  Iter    49:    Energy =   0.0568
Level     0,  Iter    50:    Energy =   0.0566
Level     0,  Iter    51:    Energy =   0.0570
Level     0,  Iter    52:    Energy =   0.0567
Level     0,  Iter    53:    Energy =   0.0573
Level     0,  Iter    54:    Energy =   0.0568
Level     0,  Iter    55:    Energy =   0.0573
Level     0,  Iter    56:    Energy =   0.0569
Level     0,  Iter    57:    Energy =   0.0573
Level     0,  Iter    58:    Energy =   0.0571
Level     0,  Iter    59:    Energy =   0.0575
END OF LEVEL     0    DetJac Range:   0.0653  to   2.5689 
  Avg. Gradient Time  : 0.0070s  32.53% 
  Avg. Gaussian Time  : 0.0105s  48.59% 
  Avg. Iteration Time : 0.0215s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0290
Level     1,  Iter     1:    Energy =   0.0312
Level     1,  Iter     2:    Energy =   0.0329
Level     1,  Iter     3:    Energy =   0.0345
Level     1,  Iter     4:    Energy =   0.0357
Level     1,  Iter     5:    Energy =   0.0369
Level     1,  Iter     6:    Energy =   0.0375
Level     1,  Iter     7:    Energy =   0.0381
Level     1,  Iter     8:    Energy =   0.0386
Level     1,  Iter     9:    Energy =   0.0390
Level     1,  Iter    10:    Energy =   0.0394
Level     1,  Iter    11:    Energy =   0.0397
Level     1,  Iter    12:    Energy =   0.0399
Level     1,  Iter    13:    Energy =   0.0401
Level     1,  Iter    14:    Energy =   0.0404
Level     1,  Iter    15:    Energy =   0.0407
Level     1,  Iter    16:    Energy =   0.0410
Level     1,  Iter    17:    Energy =   0.0413
Level     1,  Iter    18:    Energy =   0.0416
Level     1,  Iter    19:    Energy =   0.0418
Level     1,  Iter    20:    Energy =   0.0420
Level     1,  Iter    21:    Energy =   0.0421
Level     1,  Iter    22:    Energy =   0.0421
Level     1,  Iter    23:    Energy =   0.0421
Level     1,  Iter    24:    Energy =   0.0421
Level     1,  Iter    25:    Energy =   0.0421
Level     1,  Iter    26:    Energy =   0.0421
Level     1,  Iter    27:    Energy =   0.0421
Level     1,  Iter    28:    Energy =   0.0421
Level     1,  Iter    29:    Energy =   0.0421
Level     1,  Iter    30:    Energy =   0.0422
Level     1,  Iter    31:    Energy =   0.0422
Level     1,  Iter    32:    Energy =   0.0422
Level     1,  Iter    33:    Energy =   0.0422
Level     1,  Iter    34:    Energy =   0.0422
Level     1,  Iter    35:    Energy =   0.0422
Level     1,  Iter    36:    Energy =   0.0422
Level     1,  Iter    37:    Energy =   0.0422
Level     1,  Iter    38:    Energy =   0.0422
Level     1,  Iter    39:    Energy =   0.0423
Level     1,  Iter    40:    Energy =   0.0423
Level     1,  Iter    41:    Energy =   0.0424
Level     1,  Iter    42:    Energy =   0.0424
Level     1,  Iter    43:    Energy =   0.0425
Level     1,  Iter    44:    Energy =   0.0425
Level     1,  Iter    45:    Energy =   0.0426
Level     1,  Iter    46:    Energy =   0.0427
Level     1,  Iter    47:    Energy =   0.0427
Level     1,  Iter    48:    Energy =   0.0428
Level     1,  Iter    49:    Energy =   0.0429
Level     1,  Iter    50:    Energy =   0.0430
Level     1,  Iter    51:    Energy =   0.0431
Level     1,  Iter    52:    Energy =   0.0431
Level     1,  Iter    53:    Energy =   0.0432
Level     1,  Iter    54:    Energy =   0.0433
Level     1,  Iter    55:    Energy =   0.0434
Level     1,  Iter    56:    Energy =   0.0435
Level     1,  Iter    57:    Energy =   0.0436
Level     1,  Iter    58:    Energy =   0.0437
Level     1,  Iter    59:    Energy =   0.0438
END OF LEVEL     1    DetJac Range:   0.0546  to   3.5019 
  Avg. Gradient Time  : 0.0279s  33.54% 
  Avg. Gaussian Time  : 0.0437s  52.52% 
  Avg. Iteration Time : 0.0832s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0187
Level     2,  Iter     1:    Energy =   0.0195
Level     2,  Iter     2:    Energy =   0.0203
Level     2,  Iter     3:    Energy =   0.0210
Level     2,  Iter     4:    Energy =   0.0215
Level     2,  Iter     5:    Energy =   0.0220
Level     2,  Iter     6:    Energy =   0.0225
Level     2,  Iter     7:    Energy =   0.0229
Level     2,  Iter     8:    Energy =   0.0232
Level     2,  Iter     9:    Energy =   0.0235
Level     2,  Iter    10:    Energy =   0.0238
Level     2,  Iter    11:    Energy =   0.0241
Level     2,  Iter    12:    Energy =   0.0243
Level     2,  Iter    13:    Energy =   0.0245
Level     2,  Iter    14:    Energy =   0.0247
Level     2,  Iter    15:    Energy =   0.0248
Level     2,  Iter    16:    Energy =   0.0250
Level     2,  Iter    17:    Energy =   0.0251
Level     2,  Iter    18:    Energy =   0.0252
Level     2,  Iter    19:    Energy =   0.0253
END OF LEVEL     2    DetJac Range:   0.0323  to   3.6120 
  Avg. Gradient Time  : 0.1764s  31.81% 
  Avg. Gaussian Time  : 0.3031s  54.64% 
  Avg. Iteration Time : 0.5547s 

real	0m20.115s
user	0m34.588s
sys	0m2.424s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train005/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train005/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train005/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=5 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=5 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.221429 0.225714
+ echo 'CHUNK 0.221429 0.225714 1'
CHUNK 0.221429 0.225714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.221429 0.225714 1
====================================
         PROGRESS: 0.221429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=006
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 006
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train006
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train006
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left 006 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train006 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=left
+ local tid=006
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train006
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 006 left 0
+ local tid=006
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 006 0
+ set -e
+ local tid=006
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train006/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.648
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 635.074   GNORM= 75.631
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3       113.732      66.571       0.066
   2    5       -81.440      43.484       5.000
   3    8       -87.111      66.077       0.019
   4   10      -119.839      31.619       0.398
   5   12      -145.153      40.534       0.166
   6   15      -288.747      25.521       2.088
   7   16      -299.994      51.864       1.000
   8   17      -320.713      39.160       1.000
   9   19      -329.073      52.029       0.227
  10   23      -329.297      23.270       0.028
  11   24      -339.679      21.007       1.000
  12   25      -353.713      22.733       1.000
  13   27      -380.211      75.572       0.258
  14   28      -410.089      61.884       1.000
  15   30      -437.536      44.707       0.164
  16   32      -457.710      34.318       0.215
  17   36      -487.938     113.546       1.274
  18   37      -533.194      86.406       1.000
  19   39      -559.378     100.929       0.213
  20   40      -609.388      62.185       1.000
  21   43      -609.678      54.495       0.001
  22   45      -616.295      33.032       0.069
  23   47      -616.511      34.766       0.040
  24   49      -638.694     104.169       5.000
  25   50      -640.641     127.607       1.000
  26   51      -641.811      51.537       1.000
  27   52      -642.708      60.591       1.000
  28   53      -643.005      74.113       1.000
  29   56      -675.613      35.396       0.049
  30   57      -694.876      56.854       1.000
  31   58      -695.905      94.797       1.000
  32   59      -718.075      50.171       1.000
Final RAS Transform: 
1.06466 -0.158399 0.971561 0.649224 
-0.521089 1.22613 -0.266683 -3.48916 
0.660089 0.370488 1.01264 -18.5514 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -299.374   GNORM= 169.652
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -312.061      42.674       0.006
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.06441 -0.156867 0.969907 0.800904 
-0.523223 1.23256 -0.275193 -2.73185 
0.658086 0.372326 1.01108 -18.2799 
0 0 0 1 

Final RAS Transform: 
1.06441 -0.156867 0.969907 0.800904 
-0.523223 1.23256 -0.275193 -2.73185 
0.658086 0.372326 1.01108 -18.2799 
0 0 0 1 


real	0m3.706s
user	0m5.620s
sys	0m0.576s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train006/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.34044
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0177
Level     0,  Iter     1:    Energy =   0.0190
Level     0,  Iter     2:    Energy =   0.0199
Level     0,  Iter     3:    Energy =   0.0210
Level     0,  Iter     4:    Energy =   0.0220
Level     0,  Iter     5:    Energy =   0.0229
Level     0,  Iter     6:    Energy =   0.0235
Level     0,  Iter     7:    Energy =   0.0240
Level     0,  Iter     8:    Energy =   0.0244
Level     0,  Iter     9:    Energy =   0.0249
Level     0,  Iter    10:    Energy =   0.0254
Level     0,  Iter    11:    Energy =   0.0259
Level     0,  Iter    12:    Energy =   0.0264
Level     0,  Iter    13:    Energy =   0.0267
Level     0,  Iter    14:    Energy =   0.0270
Level     0,  Iter    15:    Energy =   0.0274
Level     0,  Iter    16:    Energy =   0.0278
Level     0,  Iter    17:    Energy =   0.0281
Level     0,  Iter    18:    Energy =   0.0285
Level     0,  Iter    19:    Energy =   0.0288
Level     0,  Iter    20:    Energy =   0.0291
Level     0,  Iter    21:    Energy =   0.0295
Level     0,  Iter    22:    Energy =   0.0299
Level     0,  Iter    23:    Energy =   0.0301
Level     0,  Iter    24:    Energy =   0.0304
Level     0,  Iter    25:    Energy =   0.0306
Level     0,  Iter    26:    Energy =   0.0308
Level     0,  Iter    27:    Energy =   0.0310
Level     0,  Iter    28:    Energy =   0.0312
Level     0,  Iter    29:    Energy =   0.0315
Level     0,  Iter    30:    Energy =   0.0317
Level     0,  Iter    31:    Energy =   0.0321
Level     0,  Iter    32:    Energy =   0.0323
Level     0,  Iter    33:    Energy =   0.0327
Level     0,  Iter    34:    Energy =   0.0330
Level     0,  Iter    35:    Energy =   0.0334
Level     0,  Iter    36:    Energy =   0.0335
Level     0,  Iter    37:    Energy =   0.0340
Level     0,  Iter    38:    Energy =   0.0339
Level     0,  Iter    39:    Energy =   0.0344
Level     0,  Iter    40:    Energy =   0.0343
Level     0,  Iter    41:    Energy =   0.0345
Level     0,  Iter    42:    Energy =   0.0347
Level     0,  Iter    43:    Energy =   0.0350
Level     0,  Iter    44:    Energy =   0.0351
Level     0,  Iter    45:    Energy =   0.0355
Level     0,  Iter    46:    Energy =   0.0356
Level     0,  Iter    47:    Energy =   0.0360
Level     0,  Iter    48:    Energy =   0.0361
Level     0,  Iter    49:    Energy =   0.0363
Level     0,  Iter    50:    Energy =   0.0362
Level     0,  Iter    51:    Energy =   0.0363
Level     0,  Iter    52:    Energy =   0.0365
Level     0,  Iter    53:    Energy =   0.0367
Level     0,  Iter    54:    Energy =   0.0368
Level     0,  Iter    55:    Energy =   0.0370
Level     0,  Iter    56:    Energy =   0.0371
Level     0,  Iter    57:    Energy =   0.0373
Level     0,  Iter    58:    Energy =   0.0375
Level     0,  Iter    59:    Energy =   0.0377
END OF LEVEL     0    DetJac Range:   0.0710  to   2.3349 
  Avg. Gradient Time  : 0.0071s  32.90% 
  Avg. Gaussian Time  : 0.0104s  48.08% 
  Avg. Iteration Time : 0.0216s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0201
Level     1,  Iter     1:    Energy =   0.0207
Level     1,  Iter     2:    Energy =   0.0214
Level     1,  Iter     3:    Energy =   0.0221
Level     1,  Iter     4:    Energy =   0.0230
Level     1,  Iter     5:    Energy =   0.0238
Level     1,  Iter     6:    Energy =   0.0245
Level     1,  Iter     7:    Energy =   0.0250
Level     1,  Iter     8:    Energy =   0.0254
Level     1,  Iter     9:    Energy =   0.0258
Level     1,  Iter    10:    Energy =   0.0262
Level     1,  Iter    11:    Energy =   0.0265
Level     1,  Iter    12:    Energy =   0.0268
Level     1,  Iter    13:    Energy =   0.0270
Level     1,  Iter    14:    Energy =   0.0273
Level     1,  Iter    15:    Energy =   0.0275
Level     1,  Iter    16:    Energy =   0.0277
Level     1,  Iter    17:    Energy =   0.0278
Level     1,  Iter    18:    Energy =   0.0280
Level     1,  Iter    19:    Energy =   0.0281
Level     1,  Iter    20:    Energy =   0.0282
Level     1,  Iter    21:    Energy =   0.0283
Level     1,  Iter    22:    Energy =   0.0284
Level     1,  Iter    23:    Energy =   0.0285
Level     1,  Iter    24:    Energy =   0.0286
Level     1,  Iter    25:    Energy =   0.0286
Level     1,  Iter    26:    Energy =   0.0287
Level     1,  Iter    27:    Energy =   0.0288
Level     1,  Iter    28:    Energy =   0.0288
Level     1,  Iter    29:    Energy =   0.0289
Level     1,  Iter    30:    Energy =   0.0289
Level     1,  Iter    31:    Energy =   0.0289
Level     1,  Iter    32:    Energy =   0.0290
Level     1,  Iter    33:    Energy =   0.0290
Level     1,  Iter    34:    Energy =   0.0290
Level     1,  Iter    35:    Energy =   0.0290
Level     1,  Iter    36:    Energy =   0.0290
Level     1,  Iter    37:    Energy =   0.0290
Level     1,  Iter    38:    Energy =   0.0291
Level     1,  Iter    39:    Energy =   0.0291
Level     1,  Iter    40:    Energy =   0.0291
Level     1,  Iter    41:    Energy =   0.0291
Level     1,  Iter    42:    Energy =   0.0291
Level     1,  Iter    43:    Energy =   0.0291
Level     1,  Iter    44:    Energy =   0.0291
Level     1,  Iter    45:    Energy =   0.0291
Level     1,  Iter    46:    Energy =   0.0291
Level     1,  Iter    47:    Energy =   0.0292
Level     1,  Iter    48:    Energy =   0.0292
Level     1,  Iter    49:    Energy =   0.0292
Level     1,  Iter    50:    Energy =   0.0292
Level     1,  Iter    51:    Energy =   0.0293
Level     1,  Iter    52:    Energy =   0.0293
Level     1,  Iter    53:    Energy =   0.0293
Level     1,  Iter    54:    Energy =   0.0293
Level     1,  Iter    55:    Energy =   0.0293
Level     1,  Iter    56:    Energy =   0.0294
Level     1,  Iter    57:    Energy =   0.0293
Level     1,  Iter    58:    Energy =   0.0294
Level     1,  Iter    59:    Energy =   0.0294
END OF LEVEL     1    DetJac Range:   0.0213  to   2.5235 
  Avg. Gradient Time  : 0.0280s  33.33% 
  Avg. Gaussian Time  : 0.0442s  52.59% 
  Avg. Iteration Time : 0.0841s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0125
Level     2,  Iter     1:    Energy =   0.0132
Level     2,  Iter     2:    Energy =   0.0137
Level     2,  Iter     3:    Energy =   0.0142
Level     2,  Iter     4:    Energy =   0.0145
Level     2,  Iter     5:    Energy =   0.0148
Level     2,  Iter     6:    Energy =   0.0150
Level     2,  Iter     7:    Energy =   0.0153
Level     2,  Iter     8:    Energy =   0.0155
Level     2,  Iter     9:    Energy =   0.0157
Level     2,  Iter    10:    Energy =   0.0159
Level     2,  Iter    11:    Energy =   0.0161
Level     2,  Iter    12:    Energy =   0.0162
Level     2,  Iter    13:    Energy =   0.0164
Level     2,  Iter    14:    Energy =   0.0165
Level     2,  Iter    15:    Energy =   0.0167
Level     2,  Iter    16:    Energy =   0.0168
Level     2,  Iter    17:    Energy =   0.0169
Level     2,  Iter    18:    Energy =   0.0170
Level     2,  Iter    19:    Energy =   0.0172
END OF LEVEL     2    DetJac Range:   0.0168  to   2.6172 
  Avg. Gradient Time  : 0.1742s  31.64% 
  Avg. Gaussian Time  : 0.3015s  54.76% 
  Avg. Iteration Time : 0.5506s 

real	0m20.044s
user	0m34.352s
sys	0m2.596s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train006/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train006/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train006/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=6 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=6 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.225714 0.23
+ echo 'CHUNK 0.225714 0.23 1'
CHUNK 0.225714 0.23 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.225714 0.23 1
====================================
         PROGRESS: 0.225714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=007
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 007
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train007
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train007
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left 007 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train007 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=left
+ local tid=007
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train007
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 007 left 0
+ local tid=007
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 007 0
+ set -e
+ local tid=007
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train007/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.485
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 510.667   GNORM= 108.993
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       408.653     102.470       0.009
   2    3      -146.551      58.587       1.000
   3    6      -771.696      37.453       1.746
   4    8      -780.280      42.666       0.165
   5   10      -786.201      40.169       0.342
   6   11      -790.198      59.655       1.000
   7   12      -844.201      80.369       1.000
   8   15      -930.606     109.762       0.073
   9   16      -962.337     207.540       1.000
  10   17     -1145.103     133.330       1.000
  11   19     -1200.566      80.083       0.155
  12   21     -1208.455      47.682       0.182
  13   23     -1214.919      42.718       0.412
  14   24     -1219.466      31.366       1.000
  15   25     -1228.187      34.314       1.000
  16   27     -1231.651      30.884       0.129
  17   28     -1235.349      27.517       1.000
  18   30     -1242.925      75.280       0.258
  19   31     -1260.367      67.986       1.000
  20   32     -1280.941      56.299       1.000
  21   33     -1286.994      23.783       1.000
  22   34     -1288.013      18.071       1.000
  23   35     -1289.403      19.934       1.000
  24   36     -1292.044      30.002       1.000
  25   37     -1295.874      28.807       1.000
  26   38     -1299.276      30.996       1.000
  27   40     -1300.321      42.091       0.250
  28   41     -1301.656      31.401       1.000
  29   42     -1303.974      17.866       1.000
  30   43     -1305.021      13.694       1.000
  31   45     -1306.465      14.140       0.519
  32   46     -1309.067      14.036       1.000
  33   48     -1313.778      95.825       0.210
  34   51     -1314.134      33.353       0.041
  35   52     -1314.517      29.274       1.000
  36   53     -1316.115      28.201       1.000
  37   54     -1318.258      20.120       1.000
  38   56     -1319.045      22.692       0.484
  39   57     -1319.832      24.229       1.000
  40   59     -1323.406      42.865       0.447
  41   60     -1327.128      53.280       1.000
  42   61     -1338.055      70.815       1.000
Final RAS Transform: 
0.857407 -0.0850174 0.0478496 -6.57123 
-0.395489 1.18092 -0.183381 1.85571 
0.526259 -0.134651 0.429851 -6.69174 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -712.309   GNORM= 103.748
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -733.170      14.014       0.004
   2    5      -737.267      13.070       5.000
   3    8      -739.177      17.307       0.048
   4    9      -743.830      24.264       1.000
   5   10      -749.757      51.358       1.000
   6   11      -756.926      15.582       1.000
   7   12      -758.109       6.983       1.000
   8   13      -758.398       9.237       1.000
   9   14      -758.833       8.627       1.000
  10   15      -759.469      11.231       1.000
  11   16      -761.823      21.079       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.854526 -0.0109838 0.024263 -8.01636 
-0.354746 1.13788 -0.238238 2.80953 
0.509149 -0.108977 0.394148 -8.80188 
0 0 0 1 

Final RAS Transform: 
0.854526 -0.0109838 0.024263 -8.01636 
-0.354746 1.13788 -0.238238 2.80953 
0.509149 -0.108977 0.394148 -8.80188 
0 0 0 1 


real	0m4.409s
user	0m6.916s
sys	0m0.676s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train007/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.332825
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0335
Level     0,  Iter     1:    Energy =   0.0355
Level     0,  Iter     2:    Energy =   0.0375
Level     0,  Iter     3:    Energy =   0.0393
Level     0,  Iter     4:    Energy =   0.0409
Level     0,  Iter     5:    Energy =   0.0422
Level     0,  Iter     6:    Energy =   0.0431
Level     0,  Iter     7:    Energy =   0.0438
Level     0,  Iter     8:    Energy =   0.0446
Level     0,  Iter     9:    Energy =   0.0454
Level     0,  Iter    10:    Energy =   0.0460
Level     0,  Iter    11:    Energy =   0.0467
Level     0,  Iter    12:    Energy =   0.0473
Level     0,  Iter    13:    Energy =   0.0477
Level     0,  Iter    14:    Energy =   0.0481
Level     0,  Iter    15:    Energy =   0.0484
Level     0,  Iter    16:    Energy =   0.0487
Level     0,  Iter    17:    Energy =   0.0490
Level     0,  Iter    18:    Energy =   0.0492
Level     0,  Iter    19:    Energy =   0.0494
Level     0,  Iter    20:    Energy =   0.0498
Level     0,  Iter    21:    Energy =   0.0501
Level     0,  Iter    22:    Energy =   0.0504
Level     0,  Iter    23:    Energy =   0.0507
Level     0,  Iter    24:    Energy =   0.0508
Level     0,  Iter    25:    Energy =   0.0510
Level     0,  Iter    26:    Energy =   0.0512
Level     0,  Iter    27:    Energy =   0.0514
Level     0,  Iter    28:    Energy =   0.0516
Level     0,  Iter    29:    Energy =   0.0518
Level     0,  Iter    30:    Energy =   0.0521
Level     0,  Iter    31:    Energy =   0.0522
Level     0,  Iter    32:    Energy =   0.0525
Level     0,  Iter    33:    Energy =   0.0526
Level     0,  Iter    34:    Energy =   0.0527
Level     0,  Iter    35:    Energy =   0.0528
Level     0,  Iter    36:    Energy =   0.0528
Level     0,  Iter    37:    Energy =   0.0530
Level     0,  Iter    38:    Energy =   0.0530
Level     0,  Iter    39:    Energy =   0.0530
Level     0,  Iter    40:    Energy =   0.0531
Level     0,  Iter    41:    Energy =   0.0531
Level     0,  Iter    42:    Energy =   0.0531
Level     0,  Iter    43:    Energy =   0.0531
Level     0,  Iter    44:    Energy =   0.0532
Level     0,  Iter    45:    Energy =   0.0532
Level     0,  Iter    46:    Energy =   0.0532
Level     0,  Iter    47:    Energy =   0.0533
Level     0,  Iter    48:    Energy =   0.0532
Level     0,  Iter    49:    Energy =   0.0533
Level     0,  Iter    50:    Energy =   0.0533
Level     0,  Iter    51:    Energy =   0.0533
Level     0,  Iter    52:    Energy =   0.0533
Level     0,  Iter    53:    Energy =   0.0533
Level     0,  Iter    54:    Energy =   0.0533
Level     0,  Iter    55:    Energy =   0.0534
Level     0,  Iter    56:    Energy =   0.0534
Level     0,  Iter    57:    Energy =   0.0534
Level     0,  Iter    58:    Energy =   0.0534
Level     0,  Iter    59:    Energy =   0.0534
END OF LEVEL     0    DetJac Range:   0.0676  to   2.2452 
  Avg. Gradient Time  : 0.0069s  32.89% 
  Avg. Gaussian Time  : 0.0101s  48.08% 
  Avg. Iteration Time : 0.0209s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0281
Level     1,  Iter     1:    Energy =   0.0292
Level     1,  Iter     2:    Energy =   0.0304
Level     1,  Iter     3:    Energy =   0.0313
Level     1,  Iter     4:    Energy =   0.0322
Level     1,  Iter     5:    Energy =   0.0330
Level     1,  Iter     6:    Energy =   0.0337
Level     1,  Iter     7:    Energy =   0.0343
Level     1,  Iter     8:    Energy =   0.0348
Level     1,  Iter     9:    Energy =   0.0352
Level     1,  Iter    10:    Energy =   0.0356
Level     1,  Iter    11:    Energy =   0.0360
Level     1,  Iter    12:    Energy =   0.0364
Level     1,  Iter    13:    Energy =   0.0367
Level     1,  Iter    14:    Energy =   0.0370
Level     1,  Iter    15:    Energy =   0.0373
Level     1,  Iter    16:    Energy =   0.0376
Level     1,  Iter    17:    Energy =   0.0379
Level     1,  Iter    18:    Energy =   0.0382
Level     1,  Iter    19:    Energy =   0.0385
Level     1,  Iter    20:    Energy =   0.0387
Level     1,  Iter    21:    Energy =   0.0389
Level     1,  Iter    22:    Energy =   0.0391
Level     1,  Iter    23:    Energy =   0.0393
Level     1,  Iter    24:    Energy =   0.0395
Level     1,  Iter    25:    Energy =   0.0397
Level     1,  Iter    26:    Energy =   0.0398
Level     1,  Iter    27:    Energy =   0.0399
Level     1,  Iter    28:    Energy =   0.0401
Level     1,  Iter    29:    Energy =   0.0402
Level     1,  Iter    30:    Energy =   0.0403
Level     1,  Iter    31:    Energy =   0.0402
Level     1,  Iter    32:    Energy =   0.0402
Level     1,  Iter    33:    Energy =   0.0403
Level     1,  Iter    34:    Energy =   0.0403
Level     1,  Iter    35:    Energy =   0.0403
Level     1,  Iter    36:    Energy =   0.0403
Level     1,  Iter    37:    Energy =   0.0403
Level     1,  Iter    38:    Energy =   0.0403
Level     1,  Iter    39:    Energy =   0.0404
Level     1,  Iter    40:    Energy =   0.0404
Level     1,  Iter    41:    Energy =   0.0404
Level     1,  Iter    42:    Energy =   0.0405
Level     1,  Iter    43:    Energy =   0.0405
Level     1,  Iter    44:    Energy =   0.0405
Level     1,  Iter    45:    Energy =   0.0405
Level     1,  Iter    46:    Energy =   0.0406
Level     1,  Iter    47:    Energy =   0.0406
Level     1,  Iter    48:    Energy =   0.0406
Level     1,  Iter    49:    Energy =   0.0407
Level     1,  Iter    50:    Energy =   0.0407
Level     1,  Iter    51:    Energy =   0.0408
Level     1,  Iter    52:    Energy =   0.0408
Level     1,  Iter    53:    Energy =   0.0409
Level     1,  Iter    54:    Energy =   0.0410
Level     1,  Iter    55:    Energy =   0.0410
Level     1,  Iter    56:    Energy =   0.0411
Level     1,  Iter    57:    Energy =   0.0411
Level     1,  Iter    58:    Energy =   0.0411
Level     1,  Iter    59:    Energy =   0.0412
END OF LEVEL     1    DetJac Range:   0.1224  to   3.5973 
  Avg. Gradient Time  : 0.0283s  33.71% 
  Avg. Gaussian Time  : 0.0439s  52.31% 
  Avg. Iteration Time : 0.0839s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0186
Level     2,  Iter     1:    Energy =   0.0194
Level     2,  Iter     2:    Energy =   0.0201
Level     2,  Iter     3:    Energy =   0.0207
Level     2,  Iter     4:    Energy =   0.0212
Level     2,  Iter     5:    Energy =   0.0217
Level     2,  Iter     6:    Energy =   0.0221
Level     2,  Iter     7:    Energy =   0.0224
Level     2,  Iter     8:    Energy =   0.0227
Level     2,  Iter     9:    Energy =   0.0230
Level     2,  Iter    10:    Energy =   0.0233
Level     2,  Iter    11:    Energy =   0.0235
Level     2,  Iter    12:    Energy =   0.0238
Level     2,  Iter    13:    Energy =   0.0240
Level     2,  Iter    14:    Energy =   0.0243
Level     2,  Iter    15:    Energy =   0.0245
Level     2,  Iter    16:    Energy =   0.0246
Level     2,  Iter    17:    Energy =   0.0248
Level     2,  Iter    18:    Energy =   0.0249
Level     2,  Iter    19:    Energy =   0.0250
END OF LEVEL     2    DetJac Range:   0.0506  to   4.0744 
  Avg. Gradient Time  : 0.1771s  31.85% 
  Avg. Gaussian Time  : 0.3031s  54.50% 
  Avg. Iteration Time : 0.5562s 

real	0m20.138s
user	0m34.580s
sys	0m2.572s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train007/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train007/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train007/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=7 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=7 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.23 0.234286
+ echo 'CHUNK 0.23 0.234286 1'
CHUNK 0.23 0.234286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.23 0.234286 1
====================================
         PROGRESS: 0.23               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=008
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 008
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train008
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train008
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left 008 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train008 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=left
+ local tid=008
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train008
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 008 left 0
+ local tid=008
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 008 0
+ set -e
+ local tid=008
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train008/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.618
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 493.065   GNORM= 89.6538
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3        29.134      80.338       0.056
   2    9      -587.064     102.925       1.780
   3   12      -590.274      94.837       0.005
   4   13      -667.803     119.908       1.000
   5   14      -712.187     119.863       1.000
   6   15      -770.734      64.100       1.000
   7   19      -778.988      60.701       0.058
   8   22      -779.190      69.845       0.155
   9   23      -793.836      70.672       1.000
  10   24      -877.896      98.259       1.000
  11   25      -961.328     151.695       1.000
  12   26     -1036.489      65.538       1.000
  13   28     -1195.158     138.731       0.231
  14   31     -1195.239      59.508       0.086
  15   32     -1200.070     110.596       1.000
  16   34     -1200.980     101.704       0.007
  17   36     -1211.942      92.565       5.000
  18   37     -1249.716      56.488       1.000
  19   39     -1252.556      60.543       0.150
  20   40     -1269.469     132.079       1.000
  21   42     -1278.440     106.930       0.408
  22   43     -1300.064      67.152       1.000
  23   44     -1322.278      53.963       1.000
  24   45     -1338.638      33.735       1.000
  25   46     -1353.801      56.477       1.000
  26   47     -1361.577      83.297       1.000
  27   48     -1371.328      21.396       1.000
  28   49     -1372.111      13.474       1.000
  29   50     -1373.321      22.127       1.000
  30   52     -1373.657      47.783       0.333
  31   53     -1375.914      39.493       1.000
  32   54     -1378.247      30.113       1.000
  33   55     -1380.525      17.755       1.000
  34   56     -1382.370      16.045       1.000
  35   57     -1382.946      13.774       1.000
  36   58     -1384.694      34.987       1.000
  37   59     -1387.168      12.361       1.000
  38   60     -1388.462      19.210       1.000
  39   61     -1388.832      18.482       1.000
Final RAS Transform: 
0.880906 0.0610331 0.299388 -2.14144 
-0.413108 1.03066 -0.148367 3.93124 
0.452475 -0.264123 0.522839 -1.84038 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -676.446   GNORM= 59.1593
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -690.652      19.227       0.007
   2    4      -692.986      15.944       1.000
   3    5      -695.877      16.302       1.000
   4    6      -698.939      34.234       1.000
   5    7      -705.977      24.398       1.000
   6    8      -714.084      43.844       1.000
   7    9      -716.635      30.604       1.000
   8   10      -721.358       9.044       1.000
   9   11      -721.609       8.563       1.000
  10   13      -722.651      22.981       5.000
  11   14      -724.444      13.458       1.000
  12   16      -733.851      15.278       5.000
  13   18      -735.922      21.487       0.394
  14   19      -736.631      44.510       1.000
  15   20      -742.878      32.348       1.000
  16   21      -747.150      20.002       1.000
  17   23      -753.320      40.053       0.316
  18   25      -754.763      54.526       0.224
  19   26      -761.282      44.122       1.000
  20   27      -763.939      24.213       1.000
  21   28      -767.135      14.137       1.000
  22   30      -768.557      14.107       0.394
  23   32      -769.006      18.075       0.097
  24   33      -769.670      11.455       1.000
  25   34      -770.839      11.062       1.000
  26   35      -775.258      17.670       1.000
  27   37      -778.430      27.796       0.173
  28   39      -781.257      30.968       0.358
  29   40      -784.655      20.911       1.000
  30   41      -786.488      14.848       1.000
  31   42      -787.381      21.665       1.000
  32   43      -788.945      13.239       1.000
  33   44      -789.696      15.068       1.000
  34   45      -791.550      21.021       1.000
  35   46      -794.151      27.717       1.000
  36   47      -796.718      15.468       1.000
  37   49      -797.842      12.478       0.256
  38   50      -798.643      23.104       1.000
  39   51      -799.483       9.301       1.000
  40   52      -799.898       8.600       1.000
  41   53      -800.234       8.034       1.000
  42   55      -800.317      10.103       0.227
  43   56      -800.606       9.602       1.000
  44   57      -801.114       6.708       1.000
  45   58      -802.395      15.342       1.000
  46   60      -803.005      13.795       0.369
  47   61      -803.341       6.965       1.000
Final RAS Transform: 
0.678381 0.116228 0.269924 -9.89245 
-0.437654 0.925111 -0.0499371 7.28103 
0.354252 -0.283073 0.668077 -2.32444 
0 0 0 1 

Final RAS Transform: 
0.678381 0.116228 0.269924 -9.89245 
-0.437654 0.925111 -0.0499371 7.28103 
0.354252 -0.283073 0.668077 -2.32444 
0 0 0 1 


real	0m5.881s
user	0m9.736s
sys	0m0.720s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train008/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.395909
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0333
Level     0,  Iter     1:    Energy =   0.0353
Level     0,  Iter     2:    Energy =   0.0370
Level     0,  Iter     3:    Energy =   0.0386
Level     0,  Iter     4:    Energy =   0.0398
Level     0,  Iter     5:    Energy =   0.0412
Level     0,  Iter     6:    Energy =   0.0421
Level     0,  Iter     7:    Energy =   0.0432
Level     0,  Iter     8:    Energy =   0.0441
Level     0,  Iter     9:    Energy =   0.0450
Level     0,  Iter    10:    Energy =   0.0456
Level     0,  Iter    11:    Energy =   0.0462
Level     0,  Iter    12:    Energy =   0.0466
Level     0,  Iter    13:    Energy =   0.0471
Level     0,  Iter    14:    Energy =   0.0476
Level     0,  Iter    15:    Energy =   0.0482
Level     0,  Iter    16:    Energy =   0.0486
Level     0,  Iter    17:    Energy =   0.0493
Level     0,  Iter    18:    Energy =   0.0498
Level     0,  Iter    19:    Energy =   0.0503
Level     0,  Iter    20:    Energy =   0.0509
Level     0,  Iter    21:    Energy =   0.0514
Level     0,  Iter    22:    Energy =   0.0518
Level     0,  Iter    23:    Energy =   0.0520
Level     0,  Iter    24:    Energy =   0.0522
Level     0,  Iter    25:    Energy =   0.0524
Level     0,  Iter    26:    Energy =   0.0525
Level     0,  Iter    27:    Energy =   0.0526
Level     0,  Iter    28:    Energy =   0.0527
Level     0,  Iter    29:    Energy =   0.0529
Level     0,  Iter    30:    Energy =   0.0531
Level     0,  Iter    31:    Energy =   0.0533
Level     0,  Iter    32:    Energy =   0.0535
Level     0,  Iter    33:    Energy =   0.0536
Level     0,  Iter    34:    Energy =   0.0537
Level     0,  Iter    35:    Energy =   0.0539
Level     0,  Iter    36:    Energy =   0.0541
Level     0,  Iter    37:    Energy =   0.0543
Level     0,  Iter    38:    Energy =   0.0543
Level     0,  Iter    39:    Energy =   0.0545
Level     0,  Iter    40:    Energy =   0.0544
Level     0,  Iter    41:    Energy =   0.0545
Level     0,  Iter    42:    Energy =   0.0545
Level     0,  Iter    43:    Energy =   0.0546
Level     0,  Iter    44:    Energy =   0.0546
Level     0,  Iter    45:    Energy =   0.0546
Level     0,  Iter    46:    Energy =   0.0546
Level     0,  Iter    47:    Energy =   0.0546
Level     0,  Iter    48:    Energy =   0.0546
Level     0,  Iter    49:    Energy =   0.0545
Level     0,  Iter    50:    Energy =   0.0545
Level     0,  Iter    51:    Energy =   0.0545
Level     0,  Iter    52:    Energy =   0.0546
Level     0,  Iter    53:    Energy =   0.0547
Level     0,  Iter    54:    Energy =   0.0548
Level     0,  Iter    55:    Energy =   0.0548
Level     0,  Iter    56:    Energy =   0.0548
Level     0,  Iter    57:    Energy =   0.0549
Level     0,  Iter    58:    Energy =   0.0549
Level     0,  Iter    59:    Energy =   0.0549
END OF LEVEL     0    DetJac Range:   0.0850  to   2.6115 
  Avg. Gradient Time  : 0.0069s  32.73% 
  Avg. Gaussian Time  : 0.0102s  48.46% 
  Avg. Iteration Time : 0.0210s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0301
Level     1,  Iter     1:    Energy =   0.0315
Level     1,  Iter     2:    Energy =   0.0324
Level     1,  Iter     3:    Energy =   0.0331
Level     1,  Iter     4:    Energy =   0.0339
Level     1,  Iter     5:    Energy =   0.0345
Level     1,  Iter     6:    Energy =   0.0351
Level     1,  Iter     7:    Energy =   0.0356
Level     1,  Iter     8:    Energy =   0.0361
Level     1,  Iter     9:    Energy =   0.0365
Level     1,  Iter    10:    Energy =   0.0369
Level     1,  Iter    11:    Energy =   0.0373
Level     1,  Iter    12:    Energy =   0.0377
Level     1,  Iter    13:    Energy =   0.0382
Level     1,  Iter    14:    Energy =   0.0387
Level     1,  Iter    15:    Energy =   0.0391
Level     1,  Iter    16:    Energy =   0.0394
Level     1,  Iter    17:    Energy =   0.0396
Level     1,  Iter    18:    Energy =   0.0399
Level     1,  Iter    19:    Energy =   0.0401
Level     1,  Iter    20:    Energy =   0.0402
Level     1,  Iter    21:    Energy =   0.0403
Level     1,  Iter    22:    Energy =   0.0405
Level     1,  Iter    23:    Energy =   0.0406
Level     1,  Iter    24:    Energy =   0.0407
Level     1,  Iter    25:    Energy =   0.0407
Level     1,  Iter    26:    Energy =   0.0408
Level     1,  Iter    27:    Energy =   0.0409
Level     1,  Iter    28:    Energy =   0.0410
Level     1,  Iter    29:    Energy =   0.0411
Level     1,  Iter    30:    Energy =   0.0411
Level     1,  Iter    31:    Energy =   0.0412
Level     1,  Iter    32:    Energy =   0.0413
Level     1,  Iter    33:    Energy =   0.0413
Level     1,  Iter    34:    Energy =   0.0414
Level     1,  Iter    35:    Energy =   0.0414
Level     1,  Iter    36:    Energy =   0.0415
Level     1,  Iter    37:    Energy =   0.0415
Level     1,  Iter    38:    Energy =   0.0416
Level     1,  Iter    39:    Energy =   0.0416
Level     1,  Iter    40:    Energy =   0.0417
Level     1,  Iter    41:    Energy =   0.0417
Level     1,  Iter    42:    Energy =   0.0417
Level     1,  Iter    43:    Energy =   0.0418
Level     1,  Iter    44:    Energy =   0.0418
Level     1,  Iter    45:    Energy =   0.0419
Level     1,  Iter    46:    Energy =   0.0419
Level     1,  Iter    47:    Energy =   0.0419
Level     1,  Iter    48:    Energy =   0.0420
Level     1,  Iter    49:    Energy =   0.0420
Level     1,  Iter    50:    Energy =   0.0420
Level     1,  Iter    51:    Energy =   0.0420
Level     1,  Iter    52:    Energy =   0.0420
Level     1,  Iter    53:    Energy =   0.0421
Level     1,  Iter    54:    Energy =   0.0421
Level     1,  Iter    55:    Energy =   0.0421
Level     1,  Iter    56:    Energy =   0.0421
Level     1,  Iter    57:    Energy =   0.0421
Level     1,  Iter    58:    Energy =   0.0422
Level     1,  Iter    59:    Energy =   0.0422
END OF LEVEL     1    DetJac Range:   0.0695  to   2.7802 
  Avg. Gradient Time  : 0.0274s  33.36% 
  Avg. Gaussian Time  : 0.0432s  52.68% 
  Avg. Iteration Time : 0.0820s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0201
Level     2,  Iter     1:    Energy =   0.0210
Level     2,  Iter     2:    Energy =   0.0217
Level     2,  Iter     3:    Energy =   0.0223
Level     2,  Iter     4:    Energy =   0.0229
Level     2,  Iter     5:    Energy =   0.0234
Level     2,  Iter     6:    Energy =   0.0238
Level     2,  Iter     7:    Energy =   0.0242
Level     2,  Iter     8:    Energy =   0.0245
Level     2,  Iter     9:    Energy =   0.0248
Level     2,  Iter    10:    Energy =   0.0251
Level     2,  Iter    11:    Energy =   0.0253
Level     2,  Iter    12:    Energy =   0.0255
Level     2,  Iter    13:    Energy =   0.0257
Level     2,  Iter    14:    Energy =   0.0259
Level     2,  Iter    15:    Energy =   0.0260
Level     2,  Iter    16:    Energy =   0.0261
Level     2,  Iter    17:    Energy =   0.0262
Level     2,  Iter    18:    Energy =   0.0264
Level     2,  Iter    19:    Energy =   0.0265
END OF LEVEL     2    DetJac Range:   0.0318  to   3.1370 
  Avg. Gradient Time  : 0.1775s  31.81% 
  Avg. Gaussian Time  : 0.3049s  54.64% 
  Avg. Iteration Time : 0.5580s 

real	0m20.075s
user	0m34.480s
sys	0m2.556s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train008/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train008/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train008/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=8 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=8 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.234286 0.238571
+ echo 'CHUNK 0.234286 0.238571 1'
CHUNK 0.234286 0.238571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.234286 0.238571 1
====================================
         PROGRESS: 0.234286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=009
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 009
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train009
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train009
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left 009 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train009 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=left
+ local tid=009
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train009
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 009 left 0
+ local tid=009
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 009 0
+ set -e
+ local tid=009
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train009/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.584
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 624.931   GNORM= 86.2317
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3       201.817      82.513       0.058
   2    4       -35.798     154.834       1.000
   3    8      -217.813     112.372       0.488
   4   13      -272.660     274.930       0.107
   5   17      -354.330     381.291       0.060
   6   19      -363.039      66.755       0.341
   7   33      -364.507      79.522       0.000
   8   37      -366.236     638.338       3.667
   9   49      -498.968     136.354       0.159
  10   51      -499.591      86.523       0.094
  11   55      -527.059      98.734       0.786
  12   57      -597.042     123.124       0.469
Final RAS Transform: 
1.08331 -0.00233802 0.107223 -1.74732 
-0.192044 1.29062 -0.338959 9.21011 
0.0628248 -0.294695 0.867145 -8.52199 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -155.869   GNORM= 2271.49
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -166.740    1281.549       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.0793 0.00441341 0.103124 -0.960101 
-0.192754 1.29227 -0.341742 9.49233 
0.0630472 -0.294479 0.866177 -8.47886 
0 0 0 1 

Final RAS Transform: 
1.0793 0.00441341 0.103124 -0.960101 
-0.192754 1.29227 -0.341742 9.49233 
0.0630472 -0.294479 0.866177 -8.47886 
0 0 0 1 


real	0m3.694s
user	0m5.680s
sys	0m0.492s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train009/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.39859
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0091
Level     0,  Iter     1:    Energy =   0.0104
Level     0,  Iter     2:    Energy =   0.0116
Level     0,  Iter     3:    Energy =   0.0130
Level     0,  Iter     4:    Energy =   0.0143
Level     0,  Iter     5:    Energy =   0.0152
Level     0,  Iter     6:    Energy =   0.0159
Level     0,  Iter     7:    Energy =   0.0168
Level     0,  Iter     8:    Energy =   0.0175
Level     0,  Iter     9:    Energy =   0.0180
Level     0,  Iter    10:    Energy =   0.0186
Level     0,  Iter    11:    Energy =   0.0192
Level     0,  Iter    12:    Energy =   0.0198
Level     0,  Iter    13:    Energy =   0.0203
Level     0,  Iter    14:    Energy =   0.0208
Level     0,  Iter    15:    Energy =   0.0212
Level     0,  Iter    16:    Energy =   0.0215
Level     0,  Iter    17:    Energy =   0.0219
Level     0,  Iter    18:    Energy =   0.0222
Level     0,  Iter    19:    Energy =   0.0225
Level     0,  Iter    20:    Energy =   0.0229
Level     0,  Iter    21:    Energy =   0.0231
Level     0,  Iter    22:    Energy =   0.0235
Level     0,  Iter    23:    Energy =   0.0238
Level     0,  Iter    24:    Energy =   0.0242
Level     0,  Iter    25:    Energy =   0.0247
Level     0,  Iter    26:    Energy =   0.0251
Level     0,  Iter    27:    Energy =   0.0256
Level     0,  Iter    28:    Energy =   0.0260
Level     0,  Iter    29:    Energy =   0.0264
Level     0,  Iter    30:    Energy =   0.0268
Level     0,  Iter    31:    Energy =   0.0274
Level     0,  Iter    32:    Energy =   0.0277
Level     0,  Iter    33:    Energy =   0.0278
Level     0,  Iter    34:    Energy =   0.0281
Level     0,  Iter    35:    Energy =   0.0282
Level     0,  Iter    36:    Energy =   0.0282
Level     0,  Iter    37:    Energy =   0.0283
Level     0,  Iter    38:    Energy =   0.0283
Level     0,  Iter    39:    Energy =   0.0284
Level     0,  Iter    40:    Energy =   0.0284
Level     0,  Iter    41:    Energy =   0.0285
Level     0,  Iter    42:    Energy =   0.0286
Level     0,  Iter    43:    Energy =   0.0287
Level     0,  Iter    44:    Energy =   0.0289
Level     0,  Iter    45:    Energy =   0.0291
Level     0,  Iter    46:    Energy =   0.0293
Level     0,  Iter    47:    Energy =   0.0295
Level     0,  Iter    48:    Energy =   0.0297
Level     0,  Iter    49:    Energy =   0.0299
Level     0,  Iter    50:    Energy =   0.0302
Level     0,  Iter    51:    Energy =   0.0306
Level     0,  Iter    52:    Energy =   0.0310
Level     0,  Iter    53:    Energy =   0.0314
Level     0,  Iter    54:    Energy =   0.0317
Level     0,  Iter    55:    Energy =   0.0321
Level     0,  Iter    56:    Energy =   0.0326
Level     0,  Iter    57:    Energy =   0.0331
Level     0,  Iter    58:    Energy =   0.0334
Level     0,  Iter    59:    Energy =   0.0337
END OF LEVEL     0    DetJac Range:   0.0471  to   2.5141 
  Avg. Gradient Time  : 0.0070s  32.71% 
  Avg. Gaussian Time  : 0.0105s  48.56% 
  Avg. Iteration Time : 0.0215s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0188
Level     1,  Iter     1:    Energy =   0.0203
Level     1,  Iter     2:    Energy =   0.0216
Level     1,  Iter     3:    Energy =   0.0227
Level     1,  Iter     4:    Energy =   0.0236
Level     1,  Iter     5:    Energy =   0.0244
Level     1,  Iter     6:    Energy =   0.0249
Level     1,  Iter     7:    Energy =   0.0253
Level     1,  Iter     8:    Energy =   0.0257
Level     1,  Iter     9:    Energy =   0.0260
Level     1,  Iter    10:    Energy =   0.0262
Level     1,  Iter    11:    Energy =   0.0264
Level     1,  Iter    12:    Energy =   0.0266
Level     1,  Iter    13:    Energy =   0.0268
Level     1,  Iter    14:    Energy =   0.0270
Level     1,  Iter    15:    Energy =   0.0271
Level     1,  Iter    16:    Energy =   0.0273
Level     1,  Iter    17:    Energy =   0.0275
Level     1,  Iter    18:    Energy =   0.0276
Level     1,  Iter    19:    Energy =   0.0278
Level     1,  Iter    20:    Energy =   0.0279
Level     1,  Iter    21:    Energy =   0.0280
Level     1,  Iter    22:    Energy =   0.0282
Level     1,  Iter    23:    Energy =   0.0283
Level     1,  Iter    24:    Energy =   0.0284
Level     1,  Iter    25:    Energy =   0.0286
Level     1,  Iter    26:    Energy =   0.0287
Level     1,  Iter    27:    Energy =   0.0289
Level     1,  Iter    28:    Energy =   0.0290
Level     1,  Iter    29:    Energy =   0.0292
Level     1,  Iter    30:    Energy =   0.0293
Level     1,  Iter    31:    Energy =   0.0294
Level     1,  Iter    32:    Energy =   0.0295
Level     1,  Iter    33:    Energy =   0.0296
Level     1,  Iter    34:    Energy =   0.0297
Level     1,  Iter    35:    Energy =   0.0298
Level     1,  Iter    36:    Energy =   0.0299
Level     1,  Iter    37:    Energy =   0.0299
Level     1,  Iter    38:    Energy =   0.0300
Level     1,  Iter    39:    Energy =   0.0300
Level     1,  Iter    40:    Energy =   0.0300
Level     1,  Iter    41:    Energy =   0.0301
Level     1,  Iter    42:    Energy =   0.0301
Level     1,  Iter    43:    Energy =   0.0301
Level     1,  Iter    44:    Energy =   0.0302
Level     1,  Iter    45:    Energy =   0.0302
Level     1,  Iter    46:    Energy =   0.0303
Level     1,  Iter    47:    Energy =   0.0304
Level     1,  Iter    48:    Energy =   0.0304
Level     1,  Iter    49:    Energy =   0.0305
Level     1,  Iter    50:    Energy =   0.0305
Level     1,  Iter    51:    Energy =   0.0305
Level     1,  Iter    52:    Energy =   0.0306
Level     1,  Iter    53:    Energy =   0.0306
Level     1,  Iter    54:    Energy =   0.0306
Level     1,  Iter    55:    Energy =   0.0307
Level     1,  Iter    56:    Energy =   0.0307
Level     1,  Iter    57:    Energy =   0.0307
Level     1,  Iter    58:    Energy =   0.0308
Level     1,  Iter    59:    Energy =   0.0308
END OF LEVEL     1    DetJac Range:   0.0512  to   2.9108 
  Avg. Gradient Time  : 0.0277s  33.37% 
  Avg. Gaussian Time  : 0.0438s  52.64% 
  Avg. Iteration Time : 0.0831s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0142
Level     2,  Iter     1:    Energy =   0.0149
Level     2,  Iter     2:    Energy =   0.0155
Level     2,  Iter     3:    Energy =   0.0159
Level     2,  Iter     4:    Energy =   0.0163
Level     2,  Iter     5:    Energy =   0.0168
Level     2,  Iter     6:    Energy =   0.0171
Level     2,  Iter     7:    Energy =   0.0175
Level     2,  Iter     8:    Energy =   0.0179
Level     2,  Iter     9:    Energy =   0.0182
Level     2,  Iter    10:    Energy =   0.0186
Level     2,  Iter    11:    Energy =   0.0189
Level     2,  Iter    12:    Energy =   0.0192
Level     2,  Iter    13:    Energy =   0.0194
Level     2,  Iter    14:    Energy =   0.0197
Level     2,  Iter    15:    Energy =   0.0199
Level     2,  Iter    16:    Energy =   0.0201
Level     2,  Iter    17:    Energy =   0.0203
Level     2,  Iter    18:    Energy =   0.0205
Level     2,  Iter    19:    Energy =   0.0207
END OF LEVEL     2    DetJac Range:   0.0487  to   3.6830 
  Avg. Gradient Time  : 0.1729s  31.49% 
  Avg. Gaussian Time  : 0.3004s  54.73% 
  Avg. Iteration Time : 0.5489s 

real	0m19.959s
user	0m34.328s
sys	0m2.432s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train009/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train009/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train009/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=9 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=9 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.238571 0.242857
+ echo 'CHUNK 0.238571 0.242857 1'
CHUNK 0.238571 0.242857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.238571 0.242857 1
====================================
         PROGRESS: 0.238571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=010
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 010
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train010
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train010
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left 010 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train010 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=left
+ local tid=010
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train010
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 010 left 0
+ local tid=010
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 010 0
+ set -e
+ local tid=010
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train010/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.6
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 519.5   GNORM= 138.887
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3       -72.948      93.292       0.036
   2    5       -81.810      91.325       0.032
   3    6      -272.976     127.036       1.000
   4    7      -327.523      40.323       1.000
   5   10      -334.833      35.022       0.670
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.00652 -0.040785 0.02685 -0.742663 
-0.0683319 1.13504 -0.153514 4.58318 
0.0241751 -0.0949311 0.973248 -2.90182 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -252.927   GNORM= 450.429
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    5      -253.551      60.109       0.000
   2    8      -261.321      52.603      21.000
   3    9      -290.102      40.807       1.000
   4   12      -290.117      17.307       0.073
   5   18      -308.877      24.152      67.282
   6   20      -335.417      60.055       0.204
   7   39      -335.479      44.496       0.009
   8   41      -337.052      51.751       5.000
   9   44      -345.592      38.976       2.304
  10   48      -370.530     259.103       0.897
  11   50      -383.810      35.607       0.363
  12   53      -384.825      47.962       0.072
  13   54      -388.985      40.349       1.000
  14   57      -394.841      47.839       0.673
  15   58      -414.523      83.294       1.000
Final RAS Transform: 
0.982126 -0.0336717 0.0650744 -1.31161 
-0.0935252 1.0913 -0.114653 7.14514 
0.0447312 -0.11492 0.863444 -9.04928 
0 0 0 1 

Final RAS Transform: 
0.982126 -0.0336717 0.0650744 -1.31161 
-0.0935252 1.0913 -0.114653 7.14514 
0.0447312 -0.11492 0.863444 -9.04928 
0 0 0 1 


real	0m5.683s
user	0m9.460s
sys	0m0.572s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train010/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.431437
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0185
Level     0,  Iter     1:    Energy =   0.0204
Level     0,  Iter     2:    Energy =   0.0243
Level     0,  Iter     3:    Energy =   0.0272
Level     0,  Iter     4:    Energy =   0.0298
Level     0,  Iter     5:    Energy =   0.0322
Level     0,  Iter     6:    Energy =   0.0341
Level     0,  Iter     7:    Energy =   0.0358
Level     0,  Iter     8:    Energy =   0.0373
Level     0,  Iter     9:    Energy =   0.0386
Level     0,  Iter    10:    Energy =   0.0395
Level     0,  Iter    11:    Energy =   0.0402
Level     0,  Iter    12:    Energy =   0.0408
Level     0,  Iter    13:    Energy =   0.0414
Level     0,  Iter    14:    Energy =   0.0419
Level     0,  Iter    15:    Energy =   0.0425
Level     0,  Iter    16:    Energy =   0.0428
Level     0,  Iter    17:    Energy =   0.0431
Level     0,  Iter    18:    Energy =   0.0434
Level     0,  Iter    19:    Energy =   0.0436
Level     0,  Iter    20:    Energy =   0.0438
Level     0,  Iter    21:    Energy =   0.0440
Level     0,  Iter    22:    Energy =   0.0440
Level     0,  Iter    23:    Energy =   0.0442
Level     0,  Iter    24:    Energy =   0.0444
Level     0,  Iter    25:    Energy =   0.0445
Level     0,  Iter    26:    Energy =   0.0447
Level     0,  Iter    27:    Energy =   0.0448
Level     0,  Iter    28:    Energy =   0.0450
Level     0,  Iter    29:    Energy =   0.0450
Level     0,  Iter    30:    Energy =   0.0451
Level     0,  Iter    31:    Energy =   0.0451
Level     0,  Iter    32:    Energy =   0.0452
Level     0,  Iter    33:    Energy =   0.0452
Level     0,  Iter    34:    Energy =   0.0453
Level     0,  Iter    35:    Energy =   0.0452
Level     0,  Iter    36:    Energy =   0.0453
Level     0,  Iter    37:    Energy =   0.0453
Level     0,  Iter    38:    Energy =   0.0454
Level     0,  Iter    39:    Energy =   0.0453
Level     0,  Iter    40:    Energy =   0.0454
Level     0,  Iter    41:    Energy =   0.0453
Level     0,  Iter    42:    Energy =   0.0453
Level     0,  Iter    43:    Energy =   0.0453
Level     0,  Iter    44:    Energy =   0.0454
Level     0,  Iter    45:    Energy =   0.0454
Level     0,  Iter    46:    Energy =   0.0454
Level     0,  Iter    47:    Energy =   0.0454
Level     0,  Iter    48:    Energy =   0.0454
Level     0,  Iter    49:    Energy =   0.0454
Level     0,  Iter    50:    Energy =   0.0455
Level     0,  Iter    51:    Energy =   0.0455
Level     0,  Iter    52:    Energy =   0.0455
Level     0,  Iter    53:    Energy =   0.0455
Level     0,  Iter    54:    Energy =   0.0456
Level     0,  Iter    55:    Energy =   0.0457
Level     0,  Iter    56:    Energy =   0.0457
Level     0,  Iter    57:    Energy =   0.0457
Level     0,  Iter    58:    Energy =   0.0457
Level     0,  Iter    59:    Energy =   0.0457
END OF LEVEL     0    DetJac Range:   0.1827  to   1.9741 
  Avg. Gradient Time  : 0.0069s  32.88% 
  Avg. Gaussian Time  : 0.0101s  48.11% 
  Avg. Iteration Time : 0.0209s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0264
Level     1,  Iter     1:    Energy =   0.0277
Level     1,  Iter     2:    Energy =   0.0287
Level     1,  Iter     3:    Energy =   0.0297
Level     1,  Iter     4:    Energy =   0.0305
Level     1,  Iter     5:    Energy =   0.0313
Level     1,  Iter     6:    Energy =   0.0319
Level     1,  Iter     7:    Energy =   0.0325
Level     1,  Iter     8:    Energy =   0.0330
Level     1,  Iter     9:    Energy =   0.0334
Level     1,  Iter    10:    Energy =   0.0339
Level     1,  Iter    11:    Energy =   0.0342
Level     1,  Iter    12:    Energy =   0.0346
Level     1,  Iter    13:    Energy =   0.0348
Level     1,  Iter    14:    Energy =   0.0351
Level     1,  Iter    15:    Energy =   0.0353
Level     1,  Iter    16:    Energy =   0.0354
Level     1,  Iter    17:    Energy =   0.0356
Level     1,  Iter    18:    Energy =   0.0358
Level     1,  Iter    19:    Energy =   0.0359
Level     1,  Iter    20:    Energy =   0.0361
Level     1,  Iter    21:    Energy =   0.0362
Level     1,  Iter    22:    Energy =   0.0363
Level     1,  Iter    23:    Energy =   0.0364
Level     1,  Iter    24:    Energy =   0.0365
Level     1,  Iter    25:    Energy =   0.0366
Level     1,  Iter    26:    Energy =   0.0367
Level     1,  Iter    27:    Energy =   0.0368
Level     1,  Iter    28:    Energy =   0.0368
Level     1,  Iter    29:    Energy =   0.0369
Level     1,  Iter    30:    Energy =   0.0370
Level     1,  Iter    31:    Energy =   0.0370
Level     1,  Iter    32:    Energy =   0.0371
Level     1,  Iter    33:    Energy =   0.0372
Level     1,  Iter    34:    Energy =   0.0373
Level     1,  Iter    35:    Energy =   0.0373
Level     1,  Iter    36:    Energy =   0.0374
Level     1,  Iter    37:    Energy =   0.0374
Level     1,  Iter    38:    Energy =   0.0375
Level     1,  Iter    39:    Energy =   0.0375
Level     1,  Iter    40:    Energy =   0.0376
Level     1,  Iter    41:    Energy =   0.0377
Level     1,  Iter    42:    Energy =   0.0377
Level     1,  Iter    43:    Energy =   0.0378
Level     1,  Iter    44:    Energy =   0.0378
Level     1,  Iter    45:    Energy =   0.0379
Level     1,  Iter    46:    Energy =   0.0379
Level     1,  Iter    47:    Energy =   0.0380
Level     1,  Iter    48:    Energy =   0.0380
Level     1,  Iter    49:    Energy =   0.0381
Level     1,  Iter    50:    Energy =   0.0382
Level     1,  Iter    51:    Energy =   0.0382
Level     1,  Iter    52:    Energy =   0.0383
Level     1,  Iter    53:    Energy =   0.0383
Level     1,  Iter    54:    Energy =   0.0384
Level     1,  Iter    55:    Energy =   0.0385
Level     1,  Iter    56:    Energy =   0.0385
Level     1,  Iter    57:    Energy =   0.0386
Level     1,  Iter    58:    Energy =   0.0386
Level     1,  Iter    59:    Energy =   0.0387
END OF LEVEL     1    DetJac Range:   0.0621  to   2.4552 
  Avg. Gradient Time  : 0.0278s  33.41% 
  Avg. Gaussian Time  : 0.0437s  52.60% 
  Avg. Iteration Time : 0.0831s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0175
Level     2,  Iter     1:    Energy =   0.0182
Level     2,  Iter     2:    Energy =   0.0189
Level     2,  Iter     3:    Energy =   0.0195
Level     2,  Iter     4:    Energy =   0.0200
Level     2,  Iter     5:    Energy =   0.0205
Level     2,  Iter     6:    Energy =   0.0209
Level     2,  Iter     7:    Energy =   0.0213
Level     2,  Iter     8:    Energy =   0.0216
Level     2,  Iter     9:    Energy =   0.0220
Level     2,  Iter    10:    Energy =   0.0223
Level     2,  Iter    11:    Energy =   0.0226
Level     2,  Iter    12:    Energy =   0.0228
Level     2,  Iter    13:    Energy =   0.0231
Level     2,  Iter    14:    Energy =   0.0233
Level     2,  Iter    15:    Energy =   0.0235
Level     2,  Iter    16:    Energy =   0.0237
Level     2,  Iter    17:    Energy =   0.0238
Level     2,  Iter    18:    Energy =   0.0239
Level     2,  Iter    19:    Energy =   0.0240
END OF LEVEL     2    DetJac Range:   0.0399  to   3.0494 
  Avg. Gradient Time  : 0.1723s  31.55% 
  Avg. Gaussian Time  : 0.2993s  54.81% 
  Avg. Iteration Time : 0.5460s 

real	0m19.876s
user	0m34.084s
sys	0m2.556s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train010/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train010/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train010/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ awk -v bs=0.2 -v be=0.5 -v j=10 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
++ echo 1
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=10 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.242857 0.247143
+ echo 'CHUNK 0.242857 0.247143 1'
CHUNK 0.242857 0.247143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.242857 0.247143 1
====================================
         PROGRESS: 0.242857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=011
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 011
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train011
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train011
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left 011 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train011 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=left
+ local tid=011
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train011
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 011 left 0
+ local tid=011
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 011 0
+ set -e
+ local tid=011
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train011/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.612
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 514.595   GNORM= 114.703
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       433.064      48.158       0.009
   2    6        22.671      14.709      85.000
   3    7        -0.001       0.000       1.000
 THE MINIMIZATION TERMINATED WITHOUT DETECTING ERRORS.
Final RAS Transform: 
1.11366 0.118481 0.210554 -2.9518 
-0.106086 1.18794 -0.109321 8.61856 
-0.000996718 -0.324146 0.783746 -6.34919 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -324.099   GNORM= 130.193
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -342.737      97.500       0.008
   2    3      -377.358      89.795       1.000
   3    6      -377.785      60.760       0.399
   4    7      -415.015     145.278       1.000
   5   17      -421.606      47.039       0.077
   6   22      -422.590    1037.034       0.870
   7   33      -423.763      34.201       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.12405 0.114679 0.214525 -4.02304 
-0.107145 1.18249 -0.104685 8.09821 
0.00734409 -0.334015 0.801072 -7.30092 
0 0 0 1 

Final RAS Transform: 
1.12405 0.114679 0.214525 -4.02304 
-0.107145 1.18249 -0.104685 8.09821 
0.00734409 -0.334015 0.801072 -7.30092 
0 0 0 1 


real	0m4.811s
user	0m8.048s
sys	0m0.404s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train011/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.364416
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0203
Level     0,  Iter     1:    Energy =   0.0216
Level     0,  Iter     2:    Energy =   0.0249
Level     0,  Iter     3:    Energy =   0.0278
Level     0,  Iter     4:    Energy =   0.0301
Level     0,  Iter     5:    Energy =   0.0322
Level     0,  Iter     6:    Energy =   0.0342
Level     0,  Iter     7:    Energy =   0.0358
Level     0,  Iter     8:    Energy =   0.0370
Level     0,  Iter     9:    Energy =   0.0382
Level     0,  Iter    10:    Energy =   0.0394
Level     0,  Iter    11:    Energy =   0.0404
Level     0,  Iter    12:    Energy =   0.0412
Level     0,  Iter    13:    Energy =   0.0419
Level     0,  Iter    14:    Energy =   0.0424
Level     0,  Iter    15:    Energy =   0.0430
Level     0,  Iter    16:    Energy =   0.0435
Level     0,  Iter    17:    Energy =   0.0439
Level     0,  Iter    18:    Energy =   0.0442
Level     0,  Iter    19:    Energy =   0.0445
Level     0,  Iter    20:    Energy =   0.0446
Level     0,  Iter    21:    Energy =   0.0447
Level     0,  Iter    22:    Energy =   0.0448
Level     0,  Iter    23:    Energy =   0.0450
Level     0,  Iter    24:    Energy =   0.0451
Level     0,  Iter    25:    Energy =   0.0452
Level     0,  Iter    26:    Energy =   0.0452
Level     0,  Iter    27:    Energy =   0.0453
Level     0,  Iter    28:    Energy =   0.0455
Level     0,  Iter    29:    Energy =   0.0456
Level     0,  Iter    30:    Energy =   0.0457
Level     0,  Iter    31:    Energy =   0.0458
Level     0,  Iter    32:    Energy =   0.0459
Level     0,  Iter    33:    Energy =   0.0460
Level     0,  Iter    34:    Energy =   0.0460
Level     0,  Iter    35:    Energy =   0.0461
Level     0,  Iter    36:    Energy =   0.0461
Level     0,  Iter    37:    Energy =   0.0462
Level     0,  Iter    38:    Energy =   0.0462
Level     0,  Iter    39:    Energy =   0.0463
Level     0,  Iter    40:    Energy =   0.0464
Level     0,  Iter    41:    Energy =   0.0463
Level     0,  Iter    42:    Energy =   0.0464
Level     0,  Iter    43:    Energy =   0.0464
Level     0,  Iter    44:    Energy =   0.0465
Level     0,  Iter    45:    Energy =   0.0466
Level     0,  Iter    46:    Energy =   0.0467
Level     0,  Iter    47:    Energy =   0.0467
Level     0,  Iter    48:    Energy =   0.0468
Level     0,  Iter    49:    Energy =   0.0469
Level     0,  Iter    50:    Energy =   0.0471
Level     0,  Iter    51:    Energy =   0.0472
Level     0,  Iter    52:    Energy =   0.0473
Level     0,  Iter    53:    Energy =   0.0474
Level     0,  Iter    54:    Energy =   0.0475
Level     0,  Iter    55:    Energy =   0.0476
Level     0,  Iter    56:    Energy =   0.0477
Level     0,  Iter    57:    Energy =   0.0478
Level     0,  Iter    58:    Energy =   0.0479
Level     0,  Iter    59:    Energy =   0.0480
END OF LEVEL     0    DetJac Range:   0.2583  to   3.4879 
  Avg. Gradient Time  : 0.0068s  32.40% 
  Avg. Gaussian Time  : 0.0102s  48.61% 
  Avg. Iteration Time : 0.0211s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0274
Level     1,  Iter     1:    Energy =   0.0292
Level     1,  Iter     2:    Energy =   0.0307
Level     1,  Iter     3:    Energy =   0.0321
Level     1,  Iter     4:    Energy =   0.0334
Level     1,  Iter     5:    Energy =   0.0344
Level     1,  Iter     6:    Energy =   0.0353
Level     1,  Iter     7:    Energy =   0.0361
Level     1,  Iter     8:    Energy =   0.0368
Level     1,  Iter     9:    Energy =   0.0374
Level     1,  Iter    10:    Energy =   0.0379
Level     1,  Iter    11:    Energy =   0.0384
Level     1,  Iter    12:    Energy =   0.0388
Level     1,  Iter    13:    Energy =   0.0392
Level     1,  Iter    14:    Energy =   0.0396
Level     1,  Iter    15:    Energy =   0.0399
Level     1,  Iter    16:    Energy =   0.0402
Level     1,  Iter    17:    Energy =   0.0405
Level     1,  Iter    18:    Energy =   0.0405
Level     1,  Iter    19:    Energy =   0.0407
Level     1,  Iter    20:    Energy =   0.0408
Level     1,  Iter    21:    Energy =   0.0410
Level     1,  Iter    22:    Energy =   0.0410
Level     1,  Iter    23:    Energy =   0.0411
Level     1,  Iter    24:    Energy =   0.0410
Level     1,  Iter    25:    Energy =   0.0411
Level     1,  Iter    26:    Energy =   0.0412
Level     1,  Iter    27:    Energy =   0.0411
Level     1,  Iter    28:    Energy =   0.0410
Level     1,  Iter    29:    Energy =   0.0410
Level     1,  Iter    30:    Energy =   0.0412
Level     1,  Iter    31:    Energy =   0.0412
Level     1,  Iter    32:    Energy =   0.0411
Level     1,  Iter    33:    Energy =   0.0412
Level     1,  Iter    34:    Energy =   0.0412
Level     1,  Iter    35:    Energy =   0.0411
Level     1,  Iter    36:    Energy =   0.0409
Level     1,  Iter    37:    Energy =   0.0410
Level     1,  Iter    38:    Energy =   0.0410
Level     1,  Iter    39:    Energy =   0.0410
Level     1,  Iter    40:    Energy =   0.0409
Level     1,  Iter    41:    Energy =   0.0409
Level     1,  Iter    42:    Energy =   0.0410
Level     1,  Iter    43:    Energy =   0.0409
Level     1,  Iter    44:    Energy =   0.0408
Level     1,  Iter    45:    Energy =   0.0409
Level     1,  Iter    46:    Energy =   0.0410
Level     1,  Iter    47:    Energy =   0.0409
Level     1,  Iter    48:    Energy =   0.0408
Level     1,  Iter    49:    Energy =   0.0409
Level     1,  Iter    50:    Energy =   0.0409
Level     1,  Iter    51:    Energy =   0.0409
Level     1,  Iter    52:    Energy =   0.0408
Level     1,  Iter    53:    Energy =   0.0408
Level     1,  Iter    54:    Energy =   0.0409
Level     1,  Iter    55:    Energy =   0.0408
Level     1,  Iter    56:    Energy =   0.0407
Level     1,  Iter    57:    Energy =   0.0407
Level     1,  Iter    58:    Energy =   0.0408
Level     1,  Iter    59:    Energy =   0.0408
END OF LEVEL     1    DetJac Range:   0.0360  to   4.2433 
  Avg. Gradient Time  : 0.0278s  33.74% 
  Avg. Gaussian Time  : 0.0430s  52.32% 
  Avg. Iteration Time : 0.0823s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0177
Level     2,  Iter     1:    Energy =   0.0185
Level     2,  Iter     2:    Energy =   0.0192
Level     2,  Iter     3:    Energy =   0.0198
Level     2,  Iter     4:    Energy =   0.0205
Level     2,  Iter     5:    Energy =   0.0210
Level     2,  Iter     6:    Energy =   0.0215
Level     2,  Iter     7:    Energy =   0.0219
Level     2,  Iter     8:    Energy =   0.0223
Level     2,  Iter     9:    Energy =   0.0226
Level     2,  Iter    10:    Energy =   0.0229
Level     2,  Iter    11:    Energy =   0.0231
Level     2,  Iter    12:    Energy =   0.0234
Level     2,  Iter    13:    Energy =   0.0236
Level     2,  Iter    14:    Energy =   0.0236
Level     2,  Iter    15:    Energy =   0.0237
Level     2,  Iter    16:    Energy =   0.0238
Level     2,  Iter    17:    Energy =   0.0240
Level     2,  Iter    18:    Energy =   0.0241
Level     2,  Iter    19:    Energy =   0.0242
END OF LEVEL     2    DetJac Range:   0.0240  to   4.1218 
  Avg. Gradient Time  : 0.1737s  31.60% 
  Avg. Gaussian Time  : 0.3011s  54.78% 
  Avg. Iteration Time : 0.5497s 

real	0m19.907s
user	0m34.368s
sys	0m2.328s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train011/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train011/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train011/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=11 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=11 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.247143 0.251429
+ echo 'CHUNK 0.247143 0.251429 1'
CHUNK 0.247143 0.251429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.247143 0.251429 1
====================================
         PROGRESS: 0.247143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=012
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 012
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train012
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train012
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left 012 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train012 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=left
+ local tid=012
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train012
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 012 left 0
+ local tid=012
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 012 0
+ set -e
+ local tid=012
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train012/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.592
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 555.22   GNORM= 127.098
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3       -47.113      91.249       0.039
   2    5      -450.939     167.702       0.529
   3    7      -603.941      69.403       0.413
   4   10      -744.882     111.816       1.455
   5   18      -745.411      57.007       0.270
   6   20      -757.388      43.092       0.255
   7   25      -759.023      43.638       0.026
   8   26      -774.386      47.205       1.000
   9   28      -824.636      58.852       0.447
  10   30      -871.071     124.693       0.337
  11   32     -1183.638     200.374       5.000
  12   34     -1270.845     154.381       0.149
  13   35     -1329.293      74.772       1.000
  14   36     -1343.819      64.895       1.000
  15   37     -1367.630      39.415       1.000
  16   39     -1368.295      55.837       0.473
  17   41     -1372.853      27.809       0.160
  18   43     -1374.073      27.727       0.205
  19   45     -1376.257      46.474       0.469
  20   46     -1379.993      47.633       1.000
  21   47     -1386.234      31.911       1.000
  22   48     -1398.516      26.200       1.000
  23   49     -1405.135      31.415       1.000
  24   50     -1408.966      27.728       1.000
  25   52     -1414.960      41.869       0.493
  26   54     -1417.170      26.784       0.376
  27   55     -1419.742      30.443       1.000
  28   56     -1420.267      28.677       1.000
  29   57     -1423.547      29.793       1.000
  30   59     -1427.500      19.994       0.207
  31   60     -1431.344      17.517       1.000
  32   61     -1433.067      32.960       1.000
Final RAS Transform: 
0.744636 -0.154593 0.194708 -6.77809 
-0.395492 1.01642 -0.166683 3.20368 
0.354238 -0.222964 0.534896 -6.03368 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -697.473   GNORM= 57.8594
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -715.847      19.762       0.008
   2    4      -718.225      14.917       1.000
   3    6      -721.115      25.579       0.385
   4    7      -722.460      23.283       1.000
   5    8      -726.121      14.936       1.000
   6    9      -733.136      37.837       1.000
   7   10      -736.998      37.244       1.000
   8   11      -749.273      15.532       1.000
   9   12      -749.529      48.492       1.000
  10   13      -758.715      35.076       1.000
  11   15      -763.230      24.487       0.248
  12   16      -766.965      20.950       1.000
  13   18      -772.743      25.991       0.331
  14   19      -776.484      32.610       1.000
  15   21      -785.691      25.112       0.210
  16   22      -790.488      23.168       1.000
  17   23      -796.976      14.155       1.000
  18   25      -800.331      22.564       0.390
  19   26      -802.500      14.903       1.000
  20   29      -809.092      19.265       2.529
  21   31      -810.156      34.785       0.510
  22   32      -817.613      30.019       1.000
  23   34      -821.140      12.552       0.452
  24   35      -824.135      12.290       1.000
  25   36      -824.921      14.086       1.000
  26   37      -826.161      24.090       1.000
  27   38      -827.651      13.045       1.000
  28   39      -829.941      13.077       1.000
  29   42      -838.420      34.782       1.590
  30   44      -839.778      36.386       0.025
  31   46      -842.159      36.130       0.495
  32   48      -852.391      57.520       5.000
  33   49      -860.323      28.857       1.000
  34   50      -861.648      12.261       1.000
  35   51      -863.299      19.616       1.000
  36   53      -863.968      14.333       0.258
  37   54      -865.533      16.986       1.000
  38   55      -867.388      19.335       1.000
  39   56      -871.161      44.209       1.000
  40   57      -876.894      19.804       1.000
  41   58      -879.693      20.019       1.000
  42   59      -891.198      15.148       1.000
  43   60      -892.973      13.440       1.000
  44   61      -896.876      19.073       1.000
Final RAS Transform: 
0.498841 -0.0899993 0.0418233 -19.3567 
-0.50964 1.03903 -0.15624 0.393915 
0.188399 -0.18773 0.368892 -13.558 
0 0 0 1 

Final RAS Transform: 
0.498841 -0.0899993 0.0418233 -19.3567 
-0.50964 1.03903 -0.15624 0.393915 
0.188399 -0.18773 0.368892 -13.558 
0 0 0 1 


real	0m5.726s
user	0m9.608s
sys	0m0.548s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train012/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.368747
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0381
Level     0,  Iter     1:    Energy =   0.0403
Level     0,  Iter     2:    Energy =   0.0432
Level     0,  Iter     3:    Energy =   0.0455
Level     0,  Iter     4:    Energy =   0.0473
Level     0,  Iter     5:    Energy =   0.0488
Level     0,  Iter     6:    Energy =   0.0499
Level     0,  Iter     7:    Energy =   0.0510
Level     0,  Iter     8:    Energy =   0.0519
Level     0,  Iter     9:    Energy =   0.0528
Level     0,  Iter    10:    Energy =   0.0535
Level     0,  Iter    11:    Energy =   0.0541
Level     0,  Iter    12:    Energy =   0.0547
Level     0,  Iter    13:    Energy =   0.0552
Level     0,  Iter    14:    Energy =   0.0556
Level     0,  Iter    15:    Energy =   0.0560
Level     0,  Iter    16:    Energy =   0.0565
Level     0,  Iter    17:    Energy =   0.0570
Level     0,  Iter    18:    Energy =   0.0575
Level     0,  Iter    19:    Energy =   0.0579
Level     0,  Iter    20:    Energy =   0.0583
Level     0,  Iter    21:    Energy =   0.0586
Level     0,  Iter    22:    Energy =   0.0589
Level     0,  Iter    23:    Energy =   0.0591
Level     0,  Iter    24:    Energy =   0.0593
Level     0,  Iter    25:    Energy =   0.0594
Level     0,  Iter    26:    Energy =   0.0595
Level     0,  Iter    27:    Energy =   0.0596
Level     0,  Iter    28:    Energy =   0.0597
Level     0,  Iter    29:    Energy =   0.0598
Level     0,  Iter    30:    Energy =   0.0598
Level     0,  Iter    31:    Energy =   0.0599
Level     0,  Iter    32:    Energy =   0.0599
Level     0,  Iter    33:    Energy =   0.0600
Level     0,  Iter    34:    Energy =   0.0601
Level     0,  Iter    35:    Energy =   0.0601
Level     0,  Iter    36:    Energy =   0.0601
Level     0,  Iter    37:    Energy =   0.0602
Level     0,  Iter    38:    Energy =   0.0602
Level     0,  Iter    39:    Energy =   0.0603
Level     0,  Iter    40:    Energy =   0.0603
Level     0,  Iter    41:    Energy =   0.0603
Level     0,  Iter    42:    Energy =   0.0604
Level     0,  Iter    43:    Energy =   0.0604
Level     0,  Iter    44:    Energy =   0.0604
Level     0,  Iter    45:    Energy =   0.0604
Level     0,  Iter    46:    Energy =   0.0605
Level     0,  Iter    47:    Energy =   0.0605
Level     0,  Iter    48:    Energy =   0.0605
Level     0,  Iter    49:    Energy =   0.0605
Level     0,  Iter    50:    Energy =   0.0606
Level     0,  Iter    51:    Energy =   0.0606
Level     0,  Iter    52:    Energy =   0.0606
Level     0,  Iter    53:    Energy =   0.0607
Level     0,  Iter    54:    Energy =   0.0607
Level     0,  Iter    55:    Energy =   0.0608
Level     0,  Iter    56:    Energy =   0.0608
Level     0,  Iter    57:    Energy =   0.0608
Level     0,  Iter    58:    Energy =   0.0609
Level     0,  Iter    59:    Energy =   0.0609
END OF LEVEL     0    DetJac Range:   0.1167  to   1.8817 
  Avg. Gradient Time  : 0.0066s  32.82% 
  Avg. Gaussian Time  : 0.0096s  47.94% 
  Avg. Iteration Time : 0.0201s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0337
Level     1,  Iter     1:    Energy =   0.0345
Level     1,  Iter     2:    Energy =   0.0354
Level     1,  Iter     3:    Energy =   0.0363
Level     1,  Iter     4:    Energy =   0.0370
Level     1,  Iter     5:    Energy =   0.0375
Level     1,  Iter     6:    Energy =   0.0380
Level     1,  Iter     7:    Energy =   0.0386
Level     1,  Iter     8:    Energy =   0.0394
Level     1,  Iter     9:    Energy =   0.0402
Level     1,  Iter    10:    Energy =   0.0409
Level     1,  Iter    11:    Energy =   0.0412
Level     1,  Iter    12:    Energy =   0.0414
Level     1,  Iter    13:    Energy =   0.0418
Level     1,  Iter    14:    Energy =   0.0424
Level     1,  Iter    15:    Energy =   0.0429
Level     1,  Iter    16:    Energy =   0.0432
Level     1,  Iter    17:    Energy =   0.0437
Level     1,  Iter    18:    Energy =   0.0441
Level     1,  Iter    19:    Energy =   0.0443
Level     1,  Iter    20:    Energy =   0.0446
Level     1,  Iter    21:    Energy =   0.0449
Level     1,  Iter    22:    Energy =   0.0452
Level     1,  Iter    23:    Energy =   0.0455
Level     1,  Iter    24:    Energy =   0.0456
Level     1,  Iter    25:    Energy =   0.0458
Level     1,  Iter    26:    Energy =   0.0457
Level     1,  Iter    27:    Energy =   0.0459
Level     1,  Iter    28:    Energy =   0.0459
Level     1,  Iter    29:    Energy =   0.0461
Level     1,  Iter    30:    Energy =   0.0461
Level     1,  Iter    31:    Energy =   0.0463
Level     1,  Iter    32:    Energy =   0.0462
Level     1,  Iter    33:    Energy =   0.0465
Level     1,  Iter    34:    Energy =   0.0464
Level     1,  Iter    35:    Energy =   0.0466
Level     1,  Iter    36:    Energy =   0.0465
Level     1,  Iter    37:    Energy =   0.0467
Level     1,  Iter    38:    Energy =   0.0466
Level     1,  Iter    39:    Energy =   0.0468
Level     1,  Iter    40:    Energy =   0.0468
Level     1,  Iter    41:    Energy =   0.0470
Level     1,  Iter    42:    Energy =   0.0470
Level     1,  Iter    43:    Energy =   0.0472
Level     1,  Iter    44:    Energy =   0.0471
Level     1,  Iter    45:    Energy =   0.0473
Level     1,  Iter    46:    Energy =   0.0473
Level     1,  Iter    47:    Energy =   0.0475
Level     1,  Iter    48:    Energy =   0.0475
Level     1,  Iter    49:    Energy =   0.0477
Level     1,  Iter    50:    Energy =   0.0475
Level     1,  Iter    51:    Energy =   0.0477
Level     1,  Iter    52:    Energy =   0.0476
Level     1,  Iter    53:    Energy =   0.0477
Level     1,  Iter    54:    Energy =   0.0478
Level     1,  Iter    55:    Energy =   0.0480
Level     1,  Iter    56:    Energy =   0.0480
Level     1,  Iter    57:    Energy =   0.0482
Level     1,  Iter    58:    Energy =   0.0481
Level     1,  Iter    59:    Energy =   0.0482
END OF LEVEL     1    DetJac Range:   0.0647  to   3.0194 
  Avg. Gradient Time  : 0.0281s  33.49% 
  Avg. Gaussian Time  : 0.0440s  52.52% 
  Avg. Iteration Time : 0.0838s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0224
Level     2,  Iter     1:    Energy =   0.0231
Level     2,  Iter     2:    Energy =   0.0237
Level     2,  Iter     3:    Energy =   0.0243
Level     2,  Iter     4:    Energy =   0.0247
Level     2,  Iter     5:    Energy =   0.0251
Level     2,  Iter     6:    Energy =   0.0255
Level     2,  Iter     7:    Energy =   0.0258
Level     2,  Iter     8:    Energy =   0.0261
Level     2,  Iter     9:    Energy =   0.0264
Level     2,  Iter    10:    Energy =   0.0267
Level     2,  Iter    11:    Energy =   0.0270
Level     2,  Iter    12:    Energy =   0.0273
Level     2,  Iter    13:    Energy =   0.0275
Level     2,  Iter    14:    Energy =   0.0278
Level     2,  Iter    15:    Energy =   0.0282
Level     2,  Iter    16:    Energy =   0.0286
Level     2,  Iter    17:    Energy =   0.0289
Level     2,  Iter    18:    Energy =   0.0292
Level     2,  Iter    19:    Energy =   0.0294
END OF LEVEL     2    DetJac Range:   0.0451  to   4.0916 
  Avg. Gradient Time  : 0.1721s  31.53% 
  Avg. Gaussian Time  : 0.2992s  54.83% 
  Avg. Iteration Time : 0.5457s 

real	0m19.829s
user	0m34.312s
sys	0m2.272s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train012/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train012/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train012/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=12 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=12 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.251429 0.255714
+ echo 'CHUNK 0.251429 0.255714 1'
CHUNK 0.251429 0.255714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.251429 0.255714 1
====================================
         PROGRESS: 0.251429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=013
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 013
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train013
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train013
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left 013 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train013 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=left
+ local tid=013
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train013
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 013 left 0
+ local tid=013
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 013 0
+ set -e
+ local tid=013
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train013/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.451
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 488.927   GNORM= 119.01
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3       -52.824      55.100       0.042
   2    5      -529.506     161.582       5.000
   3    7      -603.096     117.520       0.304
   4    9      -736.217      64.675       0.256
   5   10      -768.414      36.766       1.000
   6   11      -775.887      19.742       1.000
   7   13      -777.202      24.042       0.314
   8   14      -780.204      25.104       1.000
   9   15      -794.830      30.427       1.000
  10   16      -892.971      89.672       1.000
  11   19     -1126.414     143.282       0.854
  12   20     -1186.772     108.714       1.000
  13   22     -1211.597     102.032       0.192
  14   24     -1309.238      43.452       0.159
  15   25     -1329.352      38.304       1.000
  16   26     -1344.323      44.440       1.000
  17   27     -1354.850      18.910       1.000
  18   28     -1355.961     133.636       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.933067 -0.328315 0.287601 4.13085 
-0.323302 1.20207 -0.197615 5.41542 
0.53547 0.327087 0.658755 -4.23459 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -611.006   GNORM= 38231.5
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.933067 -0.328315 0.287601 4.13085 
-0.323302 1.20207 -0.197615 5.41542 
0.53547 0.327086 0.658755 -4.23459 
0 0 0 1 

Final RAS Transform: 
0.933067 -0.328315 0.287601 4.13085 
-0.323302 1.20207 -0.197615 5.41542 
0.53547 0.327086 0.658755 -4.23459 
0 0 0 1 


real	0m3.303s
user	0m5.064s
sys	0m0.416s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train013/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.329396
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0319
Level     0,  Iter     1:    Energy =   0.0342
Level     0,  Iter     2:    Energy =   0.0375
Level     0,  Iter     3:    Energy =   0.0402
Level     0,  Iter     4:    Energy =   0.0423
Level     0,  Iter     5:    Energy =   0.0438
Level     0,  Iter     6:    Energy =   0.0451
Level     0,  Iter     7:    Energy =   0.0463
Level     0,  Iter     8:    Energy =   0.0473
Level     0,  Iter     9:    Energy =   0.0481
Level     0,  Iter    10:    Energy =   0.0489
Level     0,  Iter    11:    Energy =   0.0496
Level     0,  Iter    12:    Energy =   0.0503
Level     0,  Iter    13:    Energy =   0.0508
Level     0,  Iter    14:    Energy =   0.0512
Level     0,  Iter    15:    Energy =   0.0518
Level     0,  Iter    16:    Energy =   0.0522
Level     0,  Iter    17:    Energy =   0.0526
Level     0,  Iter    18:    Energy =   0.0532
Level     0,  Iter    19:    Energy =   0.0535
Level     0,  Iter    20:    Energy =   0.0537
Level     0,  Iter    21:    Energy =   0.0541
Level     0,  Iter    22:    Energy =   0.0544
Level     0,  Iter    23:    Energy =   0.0548
Level     0,  Iter    24:    Energy =   0.0552
Level     0,  Iter    25:    Energy =   0.0555
Level     0,  Iter    26:    Energy =   0.0560
Level     0,  Iter    27:    Energy =   0.0561
Level     0,  Iter    28:    Energy =   0.0564
Level     0,  Iter    29:    Energy =   0.0563
Level     0,  Iter    30:    Energy =   0.0568
Level     0,  Iter    31:    Energy =   0.0569
Level     0,  Iter    32:    Energy =   0.0570
Level     0,  Iter    33:    Energy =   0.0571
Level     0,  Iter    34:    Energy =   0.0573
Level     0,  Iter    35:    Energy =   0.0572
Level     0,  Iter    36:    Energy =   0.0575
Level     0,  Iter    37:    Energy =   0.0576
Level     0,  Iter    38:    Energy =   0.0579
Level     0,  Iter    39:    Energy =   0.0580
Level     0,  Iter    40:    Energy =   0.0583
Level     0,  Iter    41:    Energy =   0.0582
Level     0,  Iter    42:    Energy =   0.0584
Level     0,  Iter    43:    Energy =   0.0584
Level     0,  Iter    44:    Energy =   0.0587
Level     0,  Iter    45:    Energy =   0.0586
Level     0,  Iter    46:    Energy =   0.0589
Level     0,  Iter    47:    Energy =   0.0589
Level     0,  Iter    48:    Energy =   0.0591
Level     0,  Iter    49:    Energy =   0.0590
Level     0,  Iter    50:    Energy =   0.0594
Level     0,  Iter    51:    Energy =   0.0591
Level     0,  Iter    52:    Energy =   0.0594
Level     0,  Iter    53:    Energy =   0.0593
Level     0,  Iter    54:    Energy =   0.0595
Level     0,  Iter    55:    Energy =   0.0594
Level     0,  Iter    56:    Energy =   0.0596
Level     0,  Iter    57:    Energy =   0.0595
Level     0,  Iter    58:    Energy =   0.0597
Level     0,  Iter    59:    Energy =   0.0596
END OF LEVEL     0    DetJac Range:   0.0944  to   2.4778 
  Avg. Gradient Time  : 0.0065s  32.79% 
  Avg. Gaussian Time  : 0.0095s  47.95% 
  Avg. Iteration Time : 0.0199s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0308
Level     1,  Iter     1:    Energy =   0.0320
Level     1,  Iter     2:    Energy =   0.0332
Level     1,  Iter     3:    Energy =   0.0342
Level     1,  Iter     4:    Energy =   0.0351
Level     1,  Iter     5:    Energy =   0.0359
Level     1,  Iter     6:    Energy =   0.0361
Level     1,  Iter     7:    Energy =   0.0365
Level     1,  Iter     8:    Energy =   0.0370
Level     1,  Iter     9:    Energy =   0.0374
Level     1,  Iter    10:    Energy =   0.0374
Level     1,  Iter    11:    Energy =   0.0375
Level     1,  Iter    12:    Energy =   0.0379
Level     1,  Iter    13:    Energy =   0.0383
Level     1,  Iter    14:    Energy =   0.0386
Level     1,  Iter    15:    Energy =   0.0389
Level     1,  Iter    16:    Energy =   0.0392
Level     1,  Iter    17:    Energy =   0.0395
Level     1,  Iter    18:    Energy =   0.0396
Level     1,  Iter    19:    Energy =   0.0399
Level     1,  Iter    20:    Energy =   0.0400
Level     1,  Iter    21:    Energy =   0.0402
Level     1,  Iter    22:    Energy =   0.0403
Level     1,  Iter    23:    Energy =   0.0405
Level     1,  Iter    24:    Energy =   0.0407
Level     1,  Iter    25:    Energy =   0.0408
Level     1,  Iter    26:    Energy =   0.0410
Level     1,  Iter    27:    Energy =   0.0412
Level     1,  Iter    28:    Energy =   0.0413
Level     1,  Iter    29:    Energy =   0.0415
Level     1,  Iter    30:    Energy =   0.0416
Level     1,  Iter    31:    Energy =   0.0417
Level     1,  Iter    32:    Energy =   0.0419
Level     1,  Iter    33:    Energy =   0.0420
Level     1,  Iter    34:    Energy =   0.0421
Level     1,  Iter    35:    Energy =   0.0422
Level     1,  Iter    36:    Energy =   0.0423
Level     1,  Iter    37:    Energy =   0.0424
Level     1,  Iter    38:    Energy =   0.0425
Level     1,  Iter    39:    Energy =   0.0427
Level     1,  Iter    40:    Energy =   0.0428
Level     1,  Iter    41:    Energy =   0.0429
Level     1,  Iter    42:    Energy =   0.0431
Level     1,  Iter    43:    Energy =   0.0433
Level     1,  Iter    44:    Energy =   0.0435
Level     1,  Iter    45:    Energy =   0.0436
Level     1,  Iter    46:    Energy =   0.0438
Level     1,  Iter    47:    Energy =   0.0439
Level     1,  Iter    48:    Energy =   0.0440
Level     1,  Iter    49:    Energy =   0.0441
Level     1,  Iter    50:    Energy =   0.0442
Level     1,  Iter    51:    Energy =   0.0443
Level     1,  Iter    52:    Energy =   0.0442
Level     1,  Iter    53:    Energy =   0.0442
Level     1,  Iter    54:    Energy =   0.0442
Level     1,  Iter    55:    Energy =   0.0441
Level     1,  Iter    56:    Energy =   0.0440
Level     1,  Iter    57:    Energy =   0.0440
Level     1,  Iter    58:    Energy =   0.0439
Level     1,  Iter    59:    Energy =   0.0439
END OF LEVEL     1    DetJac Range:   0.0334  to   3.1885 
  Avg. Gradient Time  : 0.0268s  33.52% 
  Avg. Gaussian Time  : 0.0420s  52.49% 
  Avg. Iteration Time : 0.0799s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0177
Level     2,  Iter     1:    Energy =   0.0186
Level     2,  Iter     2:    Energy =   0.0194
Level     2,  Iter     3:    Energy =   0.0202
Level     2,  Iter     4:    Energy =   0.0208
Level     2,  Iter     5:    Energy =   0.0212
Level     2,  Iter     6:    Energy =   0.0217
Level     2,  Iter     7:    Energy =   0.0221
Level     2,  Iter     8:    Energy =   0.0224
Level     2,  Iter     9:    Energy =   0.0226
Level     2,  Iter    10:    Energy =   0.0228
Level     2,  Iter    11:    Energy =   0.0231
Level     2,  Iter    12:    Energy =   0.0234
Level     2,  Iter    13:    Energy =   0.0237
Level     2,  Iter    14:    Energy =   0.0238
Level     2,  Iter    15:    Energy =   0.0240
Level     2,  Iter    16:    Energy =   0.0241
Level     2,  Iter    17:    Energy =   0.0243
Level     2,  Iter    18:    Energy =   0.0243
Level     2,  Iter    19:    Energy =   0.0245
END OF LEVEL     2    DetJac Range:   0.0541  to   3.0818 
  Avg. Gradient Time  : 0.1736s  31.54% 
  Avg. Gaussian Time  : 0.3015s  54.77% 
  Avg. Iteration Time : 0.5505s 

real	0m19.695s
user	0m33.924s
sys	0m2.436s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train013/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train013/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train013/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=13 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=13 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.255714 0.26
+ echo 'CHUNK 0.255714 0.26 1'
CHUNK 0.255714 0.26 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.255714 0.26 1
====================================
         PROGRESS: 0.255714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=014
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 014
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train014
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train014
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left 014 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train014 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=left
+ local tid=014
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train014
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 014 left 0
+ local tid=014
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 014 0
+ set -e
+ local tid=014
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train014/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.596
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 465.854   GNORM= 89.2562
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    9      -132.264     107.011       0.056
   2   11      -324.870      79.135       0.423
   3   13      -339.199     110.308       5.000
   4   16      -352.613      53.291       0.229
   5   17      -450.485      17.927       1.000
   6   26      -520.637      35.739       0.827
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.957663 0.0532257 -0.0233498 -0.39082 
0.112778 0.930073 0.109767 -0.296039 
0.209093 -0.387129 1.10006 -10.868 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -200.581   GNORM= 319.468
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -250.618      56.557       0.003
   2    4      -283.597     194.222       5.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.953706 0.0550839 -0.0261818 0.0443486 
0.116984 0.926402 0.110922 -0.970438 
0.200521 -0.379817 1.08802 -9.31167 
0 0 0 1 

Final RAS Transform: 
0.953706 0.0550839 -0.0261818 0.0443486 
0.116984 0.926402 0.110922 -0.970438 
0.200521 -0.379817 1.08802 -9.31167 
0 0 0 1 


real	0m3.465s
user	0m5.376s
sys	0m0.420s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train014/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.390796
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0134
Level     0,  Iter     1:    Energy =   0.0157
Level     0,  Iter     2:    Energy =   0.0175
Level     0,  Iter     3:    Energy =   0.0193
Level     0,  Iter     4:    Energy =   0.0206
Level     0,  Iter     5:    Energy =   0.0217
Level     0,  Iter     6:    Energy =   0.0224
Level     0,  Iter     7:    Energy =   0.0231
Level     0,  Iter     8:    Energy =   0.0238
Level     0,  Iter     9:    Energy =   0.0244
Level     0,  Iter    10:    Energy =   0.0250
Level     0,  Iter    11:    Energy =   0.0254
Level     0,  Iter    12:    Energy =   0.0258
Level     0,  Iter    13:    Energy =   0.0262
Level     0,  Iter    14:    Energy =   0.0264
Level     0,  Iter    15:    Energy =   0.0267
Level     0,  Iter    16:    Energy =   0.0270
Level     0,  Iter    17:    Energy =   0.0272
Level     0,  Iter    18:    Energy =   0.0275
Level     0,  Iter    19:    Energy =   0.0276
Level     0,  Iter    20:    Energy =   0.0279
Level     0,  Iter    21:    Energy =   0.0282
Level     0,  Iter    22:    Energy =   0.0284
Level     0,  Iter    23:    Energy =   0.0287
Level     0,  Iter    24:    Energy =   0.0290
Level     0,  Iter    25:    Energy =   0.0293
Level     0,  Iter    26:    Energy =   0.0295
Level     0,  Iter    27:    Energy =   0.0298
Level     0,  Iter    28:    Energy =   0.0300
Level     0,  Iter    29:    Energy =   0.0302
Level     0,  Iter    30:    Energy =   0.0305
Level     0,  Iter    31:    Energy =   0.0308
Level     0,  Iter    32:    Energy =   0.0311
Level     0,  Iter    33:    Energy =   0.0315
Level     0,  Iter    34:    Energy =   0.0319
Level     0,  Iter    35:    Energy =   0.0322
Level     0,  Iter    36:    Energy =   0.0325
Level     0,  Iter    37:    Energy =   0.0329
Level     0,  Iter    38:    Energy =   0.0332
Level     0,  Iter    39:    Energy =   0.0336
Level     0,  Iter    40:    Energy =   0.0339
Level     0,  Iter    41:    Energy =   0.0343
Level     0,  Iter    42:    Energy =   0.0347
Level     0,  Iter    43:    Energy =   0.0351
Level     0,  Iter    44:    Energy =   0.0354
Level     0,  Iter    45:    Energy =   0.0359
Level     0,  Iter    46:    Energy =   0.0363
Level     0,  Iter    47:    Energy =   0.0367
Level     0,  Iter    48:    Energy =   0.0371
Level     0,  Iter    49:    Energy =   0.0374
Level     0,  Iter    50:    Energy =   0.0377
Level     0,  Iter    51:    Energy =   0.0380
Level     0,  Iter    52:    Energy =   0.0382
Level     0,  Iter    53:    Energy =   0.0385
Level     0,  Iter    54:    Energy =   0.0387
Level     0,  Iter    55:    Energy =   0.0391
Level     0,  Iter    56:    Energy =   0.0393
Level     0,  Iter    57:    Energy =   0.0396
Level     0,  Iter    58:    Energy =   0.0399
Level     0,  Iter    59:    Energy =   0.0403
END OF LEVEL     0    DetJac Range:   0.0365  to   2.1271 
  Avg. Gradient Time  : 0.0072s  32.83% 
  Avg. Gaussian Time  : 0.0106s  48.35% 
  Avg. Iteration Time : 0.0219s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0249
Level     1,  Iter     1:    Energy =   0.0261
Level     1,  Iter     2:    Energy =   0.0269
Level     1,  Iter     3:    Energy =   0.0277
Level     1,  Iter     4:    Energy =   0.0283
Level     1,  Iter     5:    Energy =   0.0288
Level     1,  Iter     6:    Energy =   0.0292
Level     1,  Iter     7:    Energy =   0.0296
Level     1,  Iter     8:    Energy =   0.0298
Level     1,  Iter     9:    Energy =   0.0301
Level     1,  Iter    10:    Energy =   0.0303
Level     1,  Iter    11:    Energy =   0.0305
Level     1,  Iter    12:    Energy =   0.0306
Level     1,  Iter    13:    Energy =   0.0308
Level     1,  Iter    14:    Energy =   0.0309
Level     1,  Iter    15:    Energy =   0.0311
Level     1,  Iter    16:    Energy =   0.0312
Level     1,  Iter    17:    Energy =   0.0314
Level     1,  Iter    18:    Energy =   0.0315
Level     1,  Iter    19:    Energy =   0.0317
Level     1,  Iter    20:    Energy =   0.0319
Level     1,  Iter    21:    Energy =   0.0320
Level     1,  Iter    22:    Energy =   0.0322
Level     1,  Iter    23:    Energy =   0.0323
Level     1,  Iter    24:    Energy =   0.0325
Level     1,  Iter    25:    Energy =   0.0326
Level     1,  Iter    26:    Energy =   0.0328
Level     1,  Iter    27:    Energy =   0.0329
Level     1,  Iter    28:    Energy =   0.0331
Level     1,  Iter    29:    Energy =   0.0333
Level     1,  Iter    30:    Energy =   0.0335
Level     1,  Iter    31:    Energy =   0.0336
Level     1,  Iter    32:    Energy =   0.0338
Level     1,  Iter    33:    Energy =   0.0340
Level     1,  Iter    34:    Energy =   0.0342
Level     1,  Iter    35:    Energy =   0.0343
Level     1,  Iter    36:    Energy =   0.0345
Level     1,  Iter    37:    Energy =   0.0346
Level     1,  Iter    38:    Energy =   0.0348
Level     1,  Iter    39:    Energy =   0.0349
Level     1,  Iter    40:    Energy =   0.0351
Level     1,  Iter    41:    Energy =   0.0352
Level     1,  Iter    42:    Energy =   0.0353
Level     1,  Iter    43:    Energy =   0.0354
Level     1,  Iter    44:    Energy =   0.0355
Level     1,  Iter    45:    Energy =   0.0356
Level     1,  Iter    46:    Energy =   0.0357
Level     1,  Iter    47:    Energy =   0.0358
Level     1,  Iter    48:    Energy =   0.0359
Level     1,  Iter    49:    Energy =   0.0360
Level     1,  Iter    50:    Energy =   0.0360
Level     1,  Iter    51:    Energy =   0.0361
Level     1,  Iter    52:    Energy =   0.0361
Level     1,  Iter    53:    Energy =   0.0362
Level     1,  Iter    54:    Energy =   0.0363
Level     1,  Iter    55:    Energy =   0.0363
Level     1,  Iter    56:    Energy =   0.0363
Level     1,  Iter    57:    Energy =   0.0364
Level     1,  Iter    58:    Energy =   0.0364
Level     1,  Iter    59:    Energy =   0.0365
END OF LEVEL     1    DetJac Range:   0.0089  to   1.9148 
  Avg. Gradient Time  : 0.0277s  33.58% 
  Avg. Gaussian Time  : 0.0432s  52.42% 
  Avg. Iteration Time : 0.0824s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0169
Level     2,  Iter     1:    Energy =   0.0178
Level     2,  Iter     2:    Energy =   0.0184
Level     2,  Iter     3:    Energy =   0.0189
Level     2,  Iter     4:    Energy =   0.0194
Level     2,  Iter     5:    Energy =   0.0198
Level     2,  Iter     6:    Energy =   0.0201
Level     2,  Iter     7:    Energy =   0.0204
Level     2,  Iter     8:    Energy =   0.0207
Level     2,  Iter     9:    Energy =   0.0209
Level     2,  Iter    10:    Energy =   0.0211
Level     2,  Iter    11:    Energy =   0.0213
Level     2,  Iter    12:    Energy =   0.0215
Level     2,  Iter    13:    Energy =   0.0217
Level     2,  Iter    14:    Energy =   0.0218
Level     2,  Iter    15:    Energy =   0.0220
Level     2,  Iter    16:    Energy =   0.0221
Level     2,  Iter    17:    Energy =   0.0222
Level     2,  Iter    18:    Energy =   0.0224
Level     2,  Iter    19:    Energy =   0.0225
END OF LEVEL     2    DetJac Range:   0.0076  to   1.9951 
  Avg. Gradient Time  : 0.1712s  31.37% 
  Avg. Gaussian Time  : 0.2995s  54.88% 
  Avg. Iteration Time : 0.5457s 

real	0m19.871s
user	0m34.340s
sys	0m2.308s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train014/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train014/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train014/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=14 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=14 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.26 0.264286
+ echo 'CHUNK 0.26 0.264286 1'
CHUNK 0.26 0.264286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.26 0.264286 1
====================================
         PROGRESS: 0.26               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=015
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 015
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train015
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train015
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left 015 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train015 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=left
+ local tid=015
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train015
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 015 left 0
+ local tid=015
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 015 0
+ set -e
+ local tid=015
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train015/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.524
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 728.881   GNORM= 147.389
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3       128.295      68.175       0.034
   2    5        28.376      59.199       5.000
   3   11        28.193      63.975       0.000
   4   12      -157.995      68.896       1.000
   5   13      -242.959      59.066       1.000
   6   17      -261.804     636.490       0.025
   7   25      -268.090     199.620       0.000
   8   26      -271.112      85.609       1.000
   9   28      -276.786      88.791       0.114
  10   29      -277.841      73.820       1.000
  11   30      -381.752      61.269       1.000
  12   33      -412.107      77.263       2.402
  13   35      -415.577     106.033       0.090
  14   40      -493.277      42.403       0.228
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.10657 0.0299262 0.304854 -1.70248 
0.0394221 1.42539 -0.41393 10.3682 
-0.00330236 -0.248534 1.05036 -3.16273 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -144.192   GNORM= 183.413
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -156.644     150.332       0.005
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.11144 0.0265209 0.310784 -2.37579 
0.042194 1.42241 -0.409345 9.9346 
-0.0032082 -0.248406 1.05144 -3.16127 
0 0 0 1 

Final RAS Transform: 
1.11144 0.0265209 0.310784 -2.37579 
0.042194 1.42241 -0.409345 9.9346 
-0.0032082 -0.248406 1.05144 -3.16127 
0 0 0 1 


real	0m3.505s
user	0m5.332s
sys	0m0.508s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train015/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.34517
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0120
Level     0,  Iter     1:    Energy =   0.0140
Level     0,  Iter     2:    Energy =   0.0158
Level     0,  Iter     3:    Energy =   0.0180
Level     0,  Iter     4:    Energy =   0.0197
Level     0,  Iter     5:    Energy =   0.0209
Level     0,  Iter     6:    Energy =   0.0220
Level     0,  Iter     7:    Energy =   0.0231
Level     0,  Iter     8:    Energy =   0.0242
Level     0,  Iter     9:    Energy =   0.0251
Level     0,  Iter    10:    Energy =   0.0256
Level     0,  Iter    11:    Energy =   0.0261
Level     0,  Iter    12:    Energy =   0.0265
Level     0,  Iter    13:    Energy =   0.0274
Level     0,  Iter    14:    Energy =   0.0280
Level     0,  Iter    15:    Energy =   0.0287
Level     0,  Iter    16:    Energy =   0.0292
Level     0,  Iter    17:    Energy =   0.0299
Level     0,  Iter    18:    Energy =   0.0303
Level     0,  Iter    19:    Energy =   0.0308
Level     0,  Iter    20:    Energy =   0.0312
Level     0,  Iter    21:    Energy =   0.0316
Level     0,  Iter    22:    Energy =   0.0319
Level     0,  Iter    23:    Energy =   0.0324
Level     0,  Iter    24:    Energy =   0.0322
Level     0,  Iter    25:    Energy =   0.0325
Level     0,  Iter    26:    Energy =   0.0324
Level     0,  Iter    27:    Energy =   0.0327
Level     0,  Iter    28:    Energy =   0.0325
Level     0,  Iter    29:    Energy =   0.0327
Level     0,  Iter    30:    Energy =   0.0326
Level     0,  Iter    31:    Energy =   0.0328
Level     0,  Iter    32:    Energy =   0.0326
Level     0,  Iter    33:    Energy =   0.0328
Level     0,  Iter    34:    Energy =   0.0327
Level     0,  Iter    35:    Energy =   0.0329
Level     0,  Iter    36:    Energy =   0.0328
Level     0,  Iter    37:    Energy =   0.0330
Level     0,  Iter    38:    Energy =   0.0329
Level     0,  Iter    39:    Energy =   0.0331
Level     0,  Iter    40:    Energy =   0.0329
Level     0,  Iter    41:    Energy =   0.0332
Level     0,  Iter    42:    Energy =   0.0330
Level     0,  Iter    43:    Energy =   0.0332
Level     0,  Iter    44:    Energy =   0.0331
Level     0,  Iter    45:    Energy =   0.0333
Level     0,  Iter    46:    Energy =   0.0331
Level     0,  Iter    47:    Energy =   0.0333
Level     0,  Iter    48:    Energy =   0.0332
Level     0,  Iter    49:    Energy =   0.0334
Level     0,  Iter    50:    Energy =   0.0331
Level     0,  Iter    51:    Energy =   0.0334
Level     0,  Iter    52:    Energy =   0.0332
Level     0,  Iter    53:    Energy =   0.0335
Level     0,  Iter    54:    Energy =   0.0333
Level     0,  Iter    55:    Energy =   0.0335
Level     0,  Iter    56:    Energy =   0.0334
Level     0,  Iter    57:    Energy =   0.0336
Level     0,  Iter    58:    Energy =   0.0334
Level     0,  Iter    59:    Energy =   0.0336
END OF LEVEL     0    DetJac Range:   0.2004  to   3.0453 
  Avg. Gradient Time  : 0.0064s  32.48% 
  Avg. Gaussian Time  : 0.0096s  48.25% 
  Avg. Iteration Time : 0.0198s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0161
Level     1,  Iter     1:    Energy =   0.0171
Level     1,  Iter     2:    Energy =   0.0177
Level     1,  Iter     3:    Energy =   0.0184
Level     1,  Iter     4:    Energy =   0.0190
Level     1,  Iter     5:    Energy =   0.0196
Level     1,  Iter     6:    Energy =   0.0202
Level     1,  Iter     7:    Energy =   0.0207
Level     1,  Iter     8:    Energy =   0.0211
Level     1,  Iter     9:    Energy =   0.0213
Level     1,  Iter    10:    Energy =   0.0214
Level     1,  Iter    11:    Energy =   0.0213
Level     1,  Iter    12:    Energy =   0.0217
Level     1,  Iter    13:    Energy =   0.0219
Level     1,  Iter    14:    Energy =   0.0222
Level     1,  Iter    15:    Energy =   0.0224
Level     1,  Iter    16:    Energy =   0.0226
Level     1,  Iter    17:    Energy =   0.0228
Level     1,  Iter    18:    Energy =   0.0228
Level     1,  Iter    19:    Energy =   0.0229
Level     1,  Iter    20:    Energy =   0.0231
Level     1,  Iter    21:    Energy =   0.0232
Level     1,  Iter    22:    Energy =   0.0233
Level     1,  Iter    23:    Energy =   0.0234
Level     1,  Iter    24:    Energy =   0.0235
Level     1,  Iter    25:    Energy =   0.0236
Level     1,  Iter    26:    Energy =   0.0236
Level     1,  Iter    27:    Energy =   0.0237
Level     1,  Iter    28:    Energy =   0.0237
Level     1,  Iter    29:    Energy =   0.0238
Level     1,  Iter    30:    Energy =   0.0239
Level     1,  Iter    31:    Energy =   0.0240
Level     1,  Iter    32:    Energy =   0.0240
Level     1,  Iter    33:    Energy =   0.0241
Level     1,  Iter    34:    Energy =   0.0241
Level     1,  Iter    35:    Energy =   0.0242
Level     1,  Iter    36:    Energy =   0.0242
Level     1,  Iter    37:    Energy =   0.0242
Level     1,  Iter    38:    Energy =   0.0242
Level     1,  Iter    39:    Energy =   0.0243
Level     1,  Iter    40:    Energy =   0.0243
Level     1,  Iter    41:    Energy =   0.0243
Level     1,  Iter    42:    Energy =   0.0243
Level     1,  Iter    43:    Energy =   0.0244
Level     1,  Iter    44:    Energy =   0.0244
Level     1,  Iter    45:    Energy =   0.0244
Level     1,  Iter    46:    Energy =   0.0244
Level     1,  Iter    47:    Energy =   0.0245
Level     1,  Iter    48:    Energy =   0.0244
Level     1,  Iter    49:    Energy =   0.0245
Level     1,  Iter    50:    Energy =   0.0244
Level     1,  Iter    51:    Energy =   0.0245
Level     1,  Iter    52:    Energy =   0.0244
Level     1,  Iter    53:    Energy =   0.0245
Level     1,  Iter    54:    Energy =   0.0244
Level     1,  Iter    55:    Energy =   0.0245
Level     1,  Iter    56:    Energy =   0.0245
Level     1,  Iter    57:    Energy =   0.0245
Level     1,  Iter    58:    Energy =   0.0245
Level     1,  Iter    59:    Energy =   0.0245
END OF LEVEL     1    DetJac Range:   0.0708  to   3.2611 
  Avg. Gradient Time  : 0.0270s  32.93% 
  Avg. Gaussian Time  : 0.0436s  53.22% 
  Avg. Iteration Time : 0.0818s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0095
Level     2,  Iter     1:    Energy =   0.0099
Level     2,  Iter     2:    Energy =   0.0103
Level     2,  Iter     3:    Energy =   0.0108
Level     2,  Iter     4:    Energy =   0.0113
Level     2,  Iter     5:    Energy =   0.0118
Level     2,  Iter     6:    Energy =   0.0121
Level     2,  Iter     7:    Energy =   0.0123
Level     2,  Iter     8:    Energy =   0.0126
Level     2,  Iter     9:    Energy =   0.0127
Level     2,  Iter    10:    Energy =   0.0129
Level     2,  Iter    11:    Energy =   0.0131
Level     2,  Iter    12:    Energy =   0.0132
Level     2,  Iter    13:    Energy =   0.0134
Level     2,  Iter    14:    Energy =   0.0136
Level     2,  Iter    15:    Energy =   0.0138
Level     2,  Iter    16:    Energy =   0.0138
Level     2,  Iter    17:    Energy =   0.0140
Level     2,  Iter    18:    Energy =   0.0142
Level     2,  Iter    19:    Energy =   0.0144
END OF LEVEL     2    DetJac Range:   0.0484  to   3.4029 
  Avg. Gradient Time  : 0.1745s  31.69% 
  Avg. Gaussian Time  : 0.3011s  54.68% 
  Avg. Iteration Time : 0.5507s 

real	0m19.782s
user	0m34.068s
sys	0m2.460s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train015/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train015/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train015/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=15 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=15 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.264286 0.268571
+ echo 'CHUNK 0.264286 0.268571 1'
CHUNK 0.264286 0.268571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.264286 0.268571 1
====================================
         PROGRESS: 0.264286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=016
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 016
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train016
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train016
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left 016 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train016 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=left
+ local tid=016
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train016
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 016 left 0
+ local tid=016
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 016 0
+ set -e
+ local tid=016
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train016/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.599
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 498.517   GNORM= 137.571
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3        76.808     123.091       0.036
   2    4      -103.204      83.010       1.000
   3    6      -196.675      53.640       0.342
   4    7      -331.000      64.425       1.000
   5   10      -333.221      64.453       0.004
   6   11      -389.294      47.788       1.000
   7   14      -434.006      67.517       2.044
   8   16      -500.497      36.933       0.228
   9   21      -508.233      58.386       0.173
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.931156 0.0231316 0.0745964 1.46978 
-0.157892 1.13931 -0.443482 9.79159 
0.10427 -0.292411 0.721076 -8.07333 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -235.089   GNORM= 254.157
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    5      -236.574     249.016       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.931112 0.0231575 0.0745243 1.477 
-0.157706 1.13908 -0.443159 9.7598 
0.10427 -0.292361 0.720987 -8.06652 
0 0 0 1 

Final RAS Transform: 
0.931112 0.0231575 0.0745243 1.477 
-0.157706 1.13908 -0.443159 9.7598 
0.10427 -0.292361 0.720987 -8.06652 
0 0 0 1 


real	0m3.592s
user	0m5.576s
sys	0m0.464s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train016/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.422519
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0119
Level     0,  Iter     1:    Energy =   0.0133
Level     0,  Iter     2:    Energy =   0.0150
Level     0,  Iter     3:    Energy =   0.0160
Level     0,  Iter     4:    Energy =   0.0173
Level     0,  Iter     5:    Energy =   0.0181
Level     0,  Iter     6:    Energy =   0.0187
Level     0,  Iter     7:    Energy =   0.0192
Level     0,  Iter     8:    Energy =   0.0197
Level     0,  Iter     9:    Energy =   0.0203
Level     0,  Iter    10:    Energy =   0.0208
Level     0,  Iter    11:    Energy =   0.0214
Level     0,  Iter    12:    Energy =   0.0217
Level     0,  Iter    13:    Energy =   0.0221
Level     0,  Iter    14:    Energy =   0.0227
Level     0,  Iter    15:    Energy =   0.0232
Level     0,  Iter    16:    Energy =   0.0236
Level     0,  Iter    17:    Energy =   0.0238
Level     0,  Iter    18:    Energy =   0.0241
Level     0,  Iter    19:    Energy =   0.0243
Level     0,  Iter    20:    Energy =   0.0245
Level     0,  Iter    21:    Energy =   0.0246
Level     0,  Iter    22:    Energy =   0.0248
Level     0,  Iter    23:    Energy =   0.0249
Level     0,  Iter    24:    Energy =   0.0251
Level     0,  Iter    25:    Energy =   0.0252
Level     0,  Iter    26:    Energy =   0.0253
Level     0,  Iter    27:    Energy =   0.0254
Level     0,  Iter    28:    Energy =   0.0254
Level     0,  Iter    29:    Energy =   0.0254
Level     0,  Iter    30:    Energy =   0.0255
Level     0,  Iter    31:    Energy =   0.0255
Level     0,  Iter    32:    Energy =   0.0255
Level     0,  Iter    33:    Energy =   0.0256
Level     0,  Iter    34:    Energy =   0.0257
Level     0,  Iter    35:    Energy =   0.0257
Level     0,  Iter    36:    Energy =   0.0257
Level     0,  Iter    37:    Energy =   0.0257
Level     0,  Iter    38:    Energy =   0.0258
Level     0,  Iter    39:    Energy =   0.0258
Level     0,  Iter    40:    Energy =   0.0258
Level     0,  Iter    41:    Energy =   0.0258
Level     0,  Iter    42:    Energy =   0.0258
Level     0,  Iter    43:    Energy =   0.0258
Level     0,  Iter    44:    Energy =   0.0258
Level     0,  Iter    45:    Energy =   0.0258
Level     0,  Iter    46:    Energy =   0.0258
Level     0,  Iter    47:    Energy =   0.0258
Level     0,  Iter    48:    Energy =   0.0258
Level     0,  Iter    49:    Energy =   0.0257
Level     0,  Iter    50:    Energy =   0.0258
Level     0,  Iter    51:    Energy =   0.0257
Level     0,  Iter    52:    Energy =   0.0257
Level     0,  Iter    53:    Energy =   0.0258
Level     0,  Iter    54:    Energy =   0.0257
Level     0,  Iter    55:    Energy =   0.0257
Level     0,  Iter    56:    Energy =   0.0257
Level     0,  Iter    57:    Energy =   0.0257
Level     0,  Iter    58:    Energy =   0.0258
Level     0,  Iter    59:    Energy =   0.0258
END OF LEVEL     0    DetJac Range:   0.1197  to   2.5972 
  Avg. Gradient Time  : 0.0071s  32.74% 
  Avg. Gaussian Time  : 0.0105s  48.35% 
  Avg. Iteration Time : 0.0217s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0129
Level     1,  Iter     1:    Energy =   0.0139
Level     1,  Iter     2:    Energy =   0.0147
Level     1,  Iter     3:    Energy =   0.0154
Level     1,  Iter     4:    Energy =   0.0161
Level     1,  Iter     5:    Energy =   0.0167
Level     1,  Iter     6:    Energy =   0.0173
Level     1,  Iter     7:    Energy =   0.0178
Level     1,  Iter     8:    Energy =   0.0181
Level     1,  Iter     9:    Energy =   0.0184
Level     1,  Iter    10:    Energy =   0.0187
Level     1,  Iter    11:    Energy =   0.0189
Level     1,  Iter    12:    Energy =   0.0191
Level     1,  Iter    13:    Energy =   0.0193
Level     1,  Iter    14:    Energy =   0.0195
Level     1,  Iter    15:    Energy =   0.0198
Level     1,  Iter    16:    Energy =   0.0200
Level     1,  Iter    17:    Energy =   0.0202
Level     1,  Iter    18:    Energy =   0.0204
Level     1,  Iter    19:    Energy =   0.0206
Level     1,  Iter    20:    Energy =   0.0208
Level     1,  Iter    21:    Energy =   0.0210
Level     1,  Iter    22:    Energy =   0.0212
Level     1,  Iter    23:    Energy =   0.0213
Level     1,  Iter    24:    Energy =   0.0215
Level     1,  Iter    25:    Energy =   0.0216
Level     1,  Iter    26:    Energy =   0.0217
Level     1,  Iter    27:    Energy =   0.0219
Level     1,  Iter    28:    Energy =   0.0220
Level     1,  Iter    29:    Energy =   0.0221
Level     1,  Iter    30:    Energy =   0.0222
Level     1,  Iter    31:    Energy =   0.0223
Level     1,  Iter    32:    Energy =   0.0224
Level     1,  Iter    33:    Energy =   0.0225
Level     1,  Iter    34:    Energy =   0.0226
Level     1,  Iter    35:    Energy =   0.0226
Level     1,  Iter    36:    Energy =   0.0227
Level     1,  Iter    37:    Energy =   0.0228
Level     1,  Iter    38:    Energy =   0.0229
Level     1,  Iter    39:    Energy =   0.0229
Level     1,  Iter    40:    Energy =   0.0230
Level     1,  Iter    41:    Energy =   0.0231
Level     1,  Iter    42:    Energy =   0.0231
Level     1,  Iter    43:    Energy =   0.0232
Level     1,  Iter    44:    Energy =   0.0232
Level     1,  Iter    45:    Energy =   0.0232
Level     1,  Iter    46:    Energy =   0.0233
Level     1,  Iter    47:    Energy =   0.0233
Level     1,  Iter    48:    Energy =   0.0234
Level     1,  Iter    49:    Energy =   0.0234
Level     1,  Iter    50:    Energy =   0.0234
Level     1,  Iter    51:    Energy =   0.0235
Level     1,  Iter    52:    Energy =   0.0235
Level     1,  Iter    53:    Energy =   0.0235
Level     1,  Iter    54:    Energy =   0.0235
Level     1,  Iter    55:    Energy =   0.0236
Level     1,  Iter    56:    Energy =   0.0236
Level     1,  Iter    57:    Energy =   0.0236
Level     1,  Iter    58:    Energy =   0.0237
Level     1,  Iter    59:    Energy =   0.0237
END OF LEVEL     1    DetJac Range:   0.0242  to   2.6210 
  Avg. Gradient Time  : 0.0274s  33.31% 
  Avg. Gaussian Time  : 0.0433s  52.63% 
  Avg. Iteration Time : 0.0823s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0109
Level     2,  Iter     1:    Energy =   0.0116
Level     2,  Iter     2:    Energy =   0.0123
Level     2,  Iter     3:    Energy =   0.0127
Level     2,  Iter     4:    Energy =   0.0133
Level     2,  Iter     5:    Energy =   0.0138
Level     2,  Iter     6:    Energy =   0.0143
Level     2,  Iter     7:    Energy =   0.0145
Level     2,  Iter     8:    Energy =   0.0149
Level     2,  Iter     9:    Energy =   0.0149
Level     2,  Iter    10:    Energy =   0.0152
Level     2,  Iter    11:    Energy =   0.0155
Level     2,  Iter    12:    Energy =   0.0157
Level     2,  Iter    13:    Energy =   0.0160
Level     2,  Iter    14:    Energy =   0.0162
Level     2,  Iter    15:    Energy =   0.0159
Level     2,  Iter    16:    Energy =   0.0162
Level     2,  Iter    17:    Energy =   0.0164
Level     2,  Iter    18:    Energy =   0.0165
big value: 2855.935960
big value: 17108.347836
big value: 29799.028984
Level     2,  Iter    19:    Energy =   0.0167
END OF LEVEL     2    DetJac Range:   0.0228  to   2.8686 
  Avg. Gradient Time  : 0.1706s  31.35% 
  Avg. Gaussian Time  : 0.2991s  54.97% 
  Avg. Iteration Time : 0.5442s 

real	0m19.839s
user	0m34.156s
sys	0m2.408s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train016/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train016/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train016/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=16 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=16 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.268571 0.272857
+ echo 'CHUNK 0.268571 0.272857 1'
CHUNK 0.268571 0.272857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.268571 0.272857 1
====================================
         PROGRESS: 0.268571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=017
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 017
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train017
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train017
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left 017 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train017 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=left
+ local tid=017
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train017
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 017 left 0
+ local tid=017
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 017 0
+ set -e
+ local tid=017
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train017/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.686
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 542.368   GNORM= 105.973
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3        47.680      79.911       0.047
   2    4      -334.344      95.900       1.000
   3    6      -410.363      89.155       0.210
   4    8      -634.388     133.375       0.492
   5   13      -677.360     171.799       0.155
   6   20      -696.717     138.312       0.438
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.13043 -0.069843 0.143212 -4.03822 
-0.0687103 1.12272 -0.214888 5.3838 
0.0147496 -0.154659 0.986153 -4.24915 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -336.706   GNORM= 2103.8
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -364.112     404.532       0.000
   2    5      -365.589     369.540       1.655
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.12632 -0.0665338 0.136053 -3.50716 
-0.069236 1.12287 -0.215201 5.41505 
0.011676 -0.149813 0.986139 -3.98232 
0 0 0 1 

Final RAS Transform: 
1.12632 -0.0665338 0.136053 -3.50716 
-0.069236 1.12287 -0.215201 5.41505 
0.011676 -0.149813 0.986139 -3.98232 
0 0 0 1 


real	0m3.533s
user	0m5.432s
sys	0m0.468s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train017/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.506709
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0185
Level     0,  Iter     1:    Energy =   0.0199
Level     0,  Iter     2:    Energy =   0.0226
Level     0,  Iter     3:    Energy =   0.0256
Level     0,  Iter     4:    Energy =   0.0282
Level     0,  Iter     5:    Energy =   0.0305
Level     0,  Iter     6:    Energy =   0.0325
Level     0,  Iter     7:    Energy =   0.0341
Level     0,  Iter     8:    Energy =   0.0355
Level     0,  Iter     9:    Energy =   0.0365
Level     0,  Iter    10:    Energy =   0.0374
Level     0,  Iter    11:    Energy =   0.0383
Level     0,  Iter    12:    Energy =   0.0392
Level     0,  Iter    13:    Energy =   0.0400
Level     0,  Iter    14:    Energy =   0.0408
Level     0,  Iter    15:    Energy =   0.0416
Level     0,  Iter    16:    Energy =   0.0423
Level     0,  Iter    17:    Energy =   0.0431
Level     0,  Iter    18:    Energy =   0.0437
Level     0,  Iter    19:    Energy =   0.0443
Level     0,  Iter    20:    Energy =   0.0448
Level     0,  Iter    21:    Energy =   0.0454
Level     0,  Iter    22:    Energy =   0.0458
Level     0,  Iter    23:    Energy =   0.0462
Level     0,  Iter    24:    Energy =   0.0467
Level     0,  Iter    25:    Energy =   0.0471
Level     0,  Iter    26:    Energy =   0.0473
Level     0,  Iter    27:    Energy =   0.0475
Level     0,  Iter    28:    Energy =   0.0476
Level     0,  Iter    29:    Energy =   0.0477
Level     0,  Iter    30:    Energy =   0.0478
Level     0,  Iter    31:    Energy =   0.0479
Level     0,  Iter    32:    Energy =   0.0480
Level     0,  Iter    33:    Energy =   0.0481
Level     0,  Iter    34:    Energy =   0.0481
Level     0,  Iter    35:    Energy =   0.0481
Level     0,  Iter    36:    Energy =   0.0482
Level     0,  Iter    37:    Energy =   0.0483
Level     0,  Iter    38:    Energy =   0.0484
Level     0,  Iter    39:    Energy =   0.0485
Level     0,  Iter    40:    Energy =   0.0486
Level     0,  Iter    41:    Energy =   0.0488
Level     0,  Iter    42:    Energy =   0.0490
Level     0,  Iter    43:    Energy =   0.0491
Level     0,  Iter    44:    Energy =   0.0493
Level     0,  Iter    45:    Energy =   0.0493
Level     0,  Iter    46:    Energy =   0.0494
Level     0,  Iter    47:    Energy =   0.0495
Level     0,  Iter    48:    Energy =   0.0497
Level     0,  Iter    49:    Energy =   0.0499
Level     0,  Iter    50:    Energy =   0.0501
Level     0,  Iter    51:    Energy =   0.0502
Level     0,  Iter    52:    Energy =   0.0503
Level     0,  Iter    53:    Energy =   0.0504
Level     0,  Iter    54:    Energy =   0.0505
Level     0,  Iter    55:    Energy =   0.0506
Level     0,  Iter    56:    Energy =   0.0506
Level     0,  Iter    57:    Energy =   0.0508
Level     0,  Iter    58:    Energy =   0.0511
Level     0,  Iter    59:    Energy =   0.0514
END OF LEVEL     0    DetJac Range:   0.1381  to   3.7527 
  Avg. Gradient Time  : 0.0067s  32.55% 
  Avg. Gaussian Time  : 0.0099s  48.39% 
  Avg. Iteration Time : 0.0205s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0293
Level     1,  Iter     1:    Energy =   0.0307
Level     1,  Iter     2:    Energy =   0.0322
Level     1,  Iter     3:    Energy =   0.0336
Level     1,  Iter     4:    Energy =   0.0348
Level     1,  Iter     5:    Energy =   0.0356
Level     1,  Iter     6:    Energy =   0.0363
Level     1,  Iter     7:    Energy =   0.0370
Level     1,  Iter     8:    Energy =   0.0375
Level     1,  Iter     9:    Energy =   0.0381
Level     1,  Iter    10:    Energy =   0.0386
Level     1,  Iter    11:    Energy =   0.0390
Level     1,  Iter    12:    Energy =   0.0393
Level     1,  Iter    13:    Energy =   0.0394
Level     1,  Iter    14:    Energy =   0.0395
Level     1,  Iter    15:    Energy =   0.0396
Level     1,  Iter    16:    Energy =   0.0395
Level     1,  Iter    17:    Energy =   0.0396
Level     1,  Iter    18:    Energy =   0.0396
Level     1,  Iter    19:    Energy =   0.0397
Level     1,  Iter    20:    Energy =   0.0398
Level     1,  Iter    21:    Energy =   0.0399
Level     1,  Iter    22:    Energy =   0.0400
Level     1,  Iter    23:    Energy =   0.0402
Level     1,  Iter    24:    Energy =   0.0404
Level     1,  Iter    25:    Energy =   0.0406
Level     1,  Iter    26:    Energy =   0.0407
Level     1,  Iter    27:    Energy =   0.0408
Level     1,  Iter    28:    Energy =   0.0408
Level     1,  Iter    29:    Energy =   0.0408
Level     1,  Iter    30:    Energy =   0.0409
Level     1,  Iter    31:    Energy =   0.0409
Level     1,  Iter    32:    Energy =   0.0410
Level     1,  Iter    33:    Energy =   0.0411
Level     1,  Iter    34:    Energy =   0.0413
Level     1,  Iter    35:    Energy =   0.0414
Level     1,  Iter    36:    Energy =   0.0415
Level     1,  Iter    37:    Energy =   0.0417
Level     1,  Iter    38:    Energy =   0.0418
Level     1,  Iter    39:    Energy =   0.0419
Level     1,  Iter    40:    Energy =   0.0420
Level     1,  Iter    41:    Energy =   0.0421
Level     1,  Iter    42:    Energy =   0.0422
Level     1,  Iter    43:    Energy =   0.0423
Level     1,  Iter    44:    Energy =   0.0424
Level     1,  Iter    45:    Energy =   0.0426
Level     1,  Iter    46:    Energy =   0.0427
Level     1,  Iter    47:    Energy =   0.0428
Level     1,  Iter    48:    Energy =   0.0429
Level     1,  Iter    49:    Energy =   0.0431
Level     1,  Iter    50:    Energy =   0.0432
Level     1,  Iter    51:    Energy =   0.0433
Level     1,  Iter    52:    Energy =   0.0434
Level     1,  Iter    53:    Energy =   0.0434
Level     1,  Iter    54:    Energy =   0.0435
Level     1,  Iter    55:    Energy =   0.0436
Level     1,  Iter    56:    Energy =   0.0437
Level     1,  Iter    57:    Energy =   0.0437
Level     1,  Iter    58:    Energy =   0.0438
Level     1,  Iter    59:    Energy =   0.0438
END OF LEVEL     1    DetJac Range:   0.0364  to   4.7717 
  Avg. Gradient Time  : 0.0279s  33.77% 
  Avg. Gaussian Time  : 0.0433s  52.32% 
  Avg. Iteration Time : 0.0827s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0192
Level     2,  Iter     1:    Energy =   0.0201
Level     2,  Iter     2:    Energy =   0.0207
Level     2,  Iter     3:    Energy =   0.0213
Level     2,  Iter     4:    Energy =   0.0219
Level     2,  Iter     5:    Energy =   0.0224
Level     2,  Iter     6:    Energy =   0.0230
Level     2,  Iter     7:    Energy =   0.0233
Level     2,  Iter     8:    Energy =   0.0237
Level     2,  Iter     9:    Energy =   0.0241
Level     2,  Iter    10:    Energy =   0.0239
Level     2,  Iter    11:    Energy =   0.0242
Level     2,  Iter    12:    Energy =   0.0243
Level     2,  Iter    13:    Energy =   0.0242
Level     2,  Iter    14:    Energy =   0.0242
Level     2,  Iter    15:    Energy =   0.0245
Level     2,  Iter    16:    Energy =   0.0247
Level     2,  Iter    17:    Energy =   0.0249
Level     2,  Iter    18:    Energy =   0.0250
Level     2,  Iter    19:    Energy =   0.0252
END OF LEVEL     2    DetJac Range:   0.0362  to   5.5927 
  Avg. Gradient Time  : 0.1746s  31.79% 
  Avg. Gaussian Time  : 0.3000s  54.63% 
  Avg. Iteration Time : 0.5492s 

real	0m19.856s
user	0m34.292s
sys	0m2.352s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train017/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train017/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train017/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=17 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=17 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.272857 0.277143
+ echo 'CHUNK 0.272857 0.277143 1'
CHUNK 0.272857 0.277143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.272857 0.277143 1
====================================
         PROGRESS: 0.272857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=018
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 018
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train018
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train018
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left 018 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train018 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=left
+ local tid=018
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train018
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 018 left 0
+ local tid=018
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 018 0
+ set -e
+ local tid=018
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train018/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.592
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 526.463   GNORM= 84.2865
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -255.025     126.625       0.249
   2    6      -441.147     125.945       0.266
   3    9      -446.686     396.096       0.071
   4   15      -448.090     299.332       0.002
   5   16      -521.966     212.614       1.000
   6   17      -633.365     110.395       1.000
   7   18      -681.151     153.209       1.000
   8   19      -687.738      82.642       1.000
   9   20      -713.660      78.773       1.000
  10   21      -773.678     167.235       1.000
  11   22      -812.040     140.568       1.000
  12   23      -860.690      68.667       1.000
  13   24      -885.263      69.885       1.000
  14   25      -903.953      27.975       1.000
  15   26      -936.755      73.817       1.000
  16   28     -1107.709     214.135       5.000
  17   31     -1113.738     108.013       0.020
  18   32     -1145.980     102.036       1.000
  19   34     -1182.710     103.892       0.114
  20   35     -1212.109     174.191       1.000
  21   37     -1229.413      54.719       0.140
  22   38     -1247.464      51.293       1.000
  23   43     -1261.771      47.262       0.368
  24   46     -1282.228      88.261       0.764
  25   48     -1301.835      65.359       0.189
  26   49     -1311.655      45.584       1.000
  27   52     -1314.672      38.266       0.077
  28   53     -1322.205      37.800       1.000
  29   56     -1327.378      23.397       0.715
  30   60     -1331.226      13.069       1.131
  31   61     -1333.084      47.613       1.000
Final RAS Transform: 
1.13571 -0.15602 0.267106 1.34667 
-0.429273 1.02137 -0.180042 0.751477 
0.293595 -0.18199 0.507478 -8.78807 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -615.69   GNORM= 765.635
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -631.166     161.220       0.001
   2    3      -632.798      99.933       1.000
   3    8      -633.603     283.877       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.14039 -0.15997 0.271184 0.839505 
-0.435102 1.02698 -0.184537 1.40852 
0.293333 -0.183872 0.504945 -8.77097 
0 0 0 1 

Final RAS Transform: 
1.14039 -0.15997 0.271184 0.839505 
-0.435102 1.02698 -0.184537 1.40852 
0.293333 -0.183872 0.504945 -8.77097 
0 0 0 1 


real	0m3.965s
user	0m6.128s
sys	0m0.552s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train018/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.468602
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0310
Level     0,  Iter     1:    Energy =   0.0332
Level     0,  Iter     2:    Energy =   0.0351
Level     0,  Iter     3:    Energy =   0.0367
Level     0,  Iter     4:    Energy =   0.0380
Level     0,  Iter     5:    Energy =   0.0390
Level     0,  Iter     6:    Energy =   0.0401
Level     0,  Iter     7:    Energy =   0.0410
Level     0,  Iter     8:    Energy =   0.0419
Level     0,  Iter     9:    Energy =   0.0426
Level     0,  Iter    10:    Energy =   0.0432
Level     0,  Iter    11:    Energy =   0.0437
Level     0,  Iter    12:    Energy =   0.0442
Level     0,  Iter    13:    Energy =   0.0446
Level     0,  Iter    14:    Energy =   0.0449
Level     0,  Iter    15:    Energy =   0.0452
Level     0,  Iter    16:    Energy =   0.0455
Level     0,  Iter    17:    Energy =   0.0458
Level     0,  Iter    18:    Energy =   0.0462
Level     0,  Iter    19:    Energy =   0.0464
Level     0,  Iter    20:    Energy =   0.0468
Level     0,  Iter    21:    Energy =   0.0471
Level     0,  Iter    22:    Energy =   0.0475
Level     0,  Iter    23:    Energy =   0.0479
Level     0,  Iter    24:    Energy =   0.0482
Level     0,  Iter    25:    Energy =   0.0484
Level     0,  Iter    26:    Energy =   0.0487
Level     0,  Iter    27:    Energy =   0.0490
Level     0,  Iter    28:    Energy =   0.0493
Level     0,  Iter    29:    Energy =   0.0496
Level     0,  Iter    30:    Energy =   0.0498
Level     0,  Iter    31:    Energy =   0.0501
Level     0,  Iter    32:    Energy =   0.0503
Level     0,  Iter    33:    Energy =   0.0505
Level     0,  Iter    34:    Energy =   0.0508
Level     0,  Iter    35:    Energy =   0.0510
Level     0,  Iter    36:    Energy =   0.0511
Level     0,  Iter    37:    Energy =   0.0513
Level     0,  Iter    38:    Energy =   0.0516
Level     0,  Iter    39:    Energy =   0.0518
Level     0,  Iter    40:    Energy =   0.0521
Level     0,  Iter    41:    Energy =   0.0523
Level     0,  Iter    42:    Energy =   0.0525
Level     0,  Iter    43:    Energy =   0.0527
Level     0,  Iter    44:    Energy =   0.0529
Level     0,  Iter    45:    Energy =   0.0531
Level     0,  Iter    46:    Energy =   0.0533
Level     0,  Iter    47:    Energy =   0.0535
Level     0,  Iter    48:    Energy =   0.0536
Level     0,  Iter    49:    Energy =   0.0538
Level     0,  Iter    50:    Energy =   0.0539
Level     0,  Iter    51:    Energy =   0.0541
Level     0,  Iter    52:    Energy =   0.0543
Level     0,  Iter    53:    Energy =   0.0544
Level     0,  Iter    54:    Energy =   0.0545
Level     0,  Iter    55:    Energy =   0.0546
Level     0,  Iter    56:    Energy =   0.0546
Level     0,  Iter    57:    Energy =   0.0547
Level     0,  Iter    58:    Energy =   0.0548
Level     0,  Iter    59:    Energy =   0.0549
END OF LEVEL     0    DetJac Range:   0.0865  to   2.4226 
  Avg. Gradient Time  : 0.0066s  32.72% 
  Avg. Gaussian Time  : 0.0097s  48.15% 
  Avg. Iteration Time : 0.0202s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0286
Level     1,  Iter     1:    Energy =   0.0301
Level     1,  Iter     2:    Energy =   0.0313
Level     1,  Iter     3:    Energy =   0.0323
Level     1,  Iter     4:    Energy =   0.0333
Level     1,  Iter     5:    Energy =   0.0341
Level     1,  Iter     6:    Energy =   0.0348
Level     1,  Iter     7:    Energy =   0.0354
Level     1,  Iter     8:    Energy =   0.0359
Level     1,  Iter     9:    Energy =   0.0365
Level     1,  Iter    10:    Energy =   0.0370
Level     1,  Iter    11:    Energy =   0.0374
Level     1,  Iter    12:    Energy =   0.0379
Level     1,  Iter    13:    Energy =   0.0383
Level     1,  Iter    14:    Energy =   0.0386
Level     1,  Iter    15:    Energy =   0.0389
Level     1,  Iter    16:    Energy =   0.0391
Level     1,  Iter    17:    Energy =   0.0394
Level     1,  Iter    18:    Energy =   0.0396
Level     1,  Iter    19:    Energy =   0.0398
Level     1,  Iter    20:    Energy =   0.0399
Level     1,  Iter    21:    Energy =   0.0401
Level     1,  Iter    22:    Energy =   0.0401
Level     1,  Iter    23:    Energy =   0.0402
Level     1,  Iter    24:    Energy =   0.0403
Level     1,  Iter    25:    Energy =   0.0403
Level     1,  Iter    26:    Energy =   0.0404
Level     1,  Iter    27:    Energy =   0.0405
Level     1,  Iter    28:    Energy =   0.0405
Level     1,  Iter    29:    Energy =   0.0406
Level     1,  Iter    30:    Energy =   0.0407
Level     1,  Iter    31:    Energy =   0.0407
Level     1,  Iter    32:    Energy =   0.0408
Level     1,  Iter    33:    Energy =   0.0408
Level     1,  Iter    34:    Energy =   0.0409
Level     1,  Iter    35:    Energy =   0.0409
Level     1,  Iter    36:    Energy =   0.0409
Level     1,  Iter    37:    Energy =   0.0409
Level     1,  Iter    38:    Energy =   0.0408
Level     1,  Iter    39:    Energy =   0.0408
Level     1,  Iter    40:    Energy =   0.0408
Level     1,  Iter    41:    Energy =   0.0409
Level     1,  Iter    42:    Energy =   0.0409
Level     1,  Iter    43:    Energy =   0.0409
Level     1,  Iter    44:    Energy =   0.0410
Level     1,  Iter    45:    Energy =   0.0411
Level     1,  Iter    46:    Energy =   0.0412
Level     1,  Iter    47:    Energy =   0.0413
Level     1,  Iter    48:    Energy =   0.0413
Level     1,  Iter    49:    Energy =   0.0414
Level     1,  Iter    50:    Energy =   0.0415
Level     1,  Iter    51:    Energy =   0.0415
Level     1,  Iter    52:    Energy =   0.0416
Level     1,  Iter    53:    Energy =   0.0417
Level     1,  Iter    54:    Energy =   0.0417
Level     1,  Iter    55:    Energy =   0.0418
Level     1,  Iter    56:    Energy =   0.0419
Level     1,  Iter    57:    Energy =   0.0419
Level     1,  Iter    58:    Energy =   0.0420
Level     1,  Iter    59:    Energy =   0.0420
END OF LEVEL     1    DetJac Range:   0.0388  to   2.3722 
  Avg. Gradient Time  : 0.0275s  33.31% 
  Avg. Gaussian Time  : 0.0434s  52.65% 
  Avg. Iteration Time : 0.0825s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0196
Level     2,  Iter     1:    Energy =   0.0204
Level     2,  Iter     2:    Energy =   0.0211
Level     2,  Iter     3:    Energy =   0.0216
Level     2,  Iter     4:    Energy =   0.0220
Level     2,  Iter     5:    Energy =   0.0225
Level     2,  Iter     6:    Energy =   0.0228
Level     2,  Iter     7:    Energy =   0.0231
Level     2,  Iter     8:    Energy =   0.0234
Level     2,  Iter     9:    Energy =   0.0235
Level     2,  Iter    10:    Energy =   0.0237
Level     2,  Iter    11:    Energy =   0.0238
Level     2,  Iter    12:    Energy =   0.0239
Level     2,  Iter    13:    Energy =   0.0240
Level     2,  Iter    14:    Energy =   0.0241
Level     2,  Iter    15:    Energy =   0.0241
Level     2,  Iter    16:    Energy =   0.0242
Level     2,  Iter    17:    Energy =   0.0242
Level     2,  Iter    18:    Energy =   0.0242
Level     2,  Iter    19:    Energy =   0.0242
END OF LEVEL     2    DetJac Range:   0.0357  to   2.6295 
  Avg. Gradient Time  : 0.1743s  31.73% 
  Avg. Gaussian Time  : 0.3003s  54.67% 
  Avg. Iteration Time : 0.5494s 

real	0m19.829s
user	0m34.232s
sys	0m2.352s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train018/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train018/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train018/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=18 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=18 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.277143 0.281429
+ echo 'CHUNK 0.277143 0.281429 1'
CHUNK 0.277143 0.281429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.277143 0.281429 1
====================================
         PROGRESS: 0.277143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=019
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 019
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train019
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train019
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left 019 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train019 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=left
+ local tid=019
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train019
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 019 left 0
+ local tid=019
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 019 0
+ set -e
+ local tid=019
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train019/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.687
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 560.132   GNORM= 138.865
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       460.577      99.290       0.007
   2    6      -727.194      68.387       4.252
   3    8      -795.392      61.466       0.289
   4    9      -819.571      92.973       1.000
   5   13      -831.036      67.393       0.084
   6   14      -877.522      53.802       1.000
   7   15      -943.743      76.782       1.000
   8   16     -1091.128      72.560       1.000
   9   18     -1157.047      71.351       0.406
  10   20     -1189.598      48.764       0.185
  11   22     -1203.593      41.798       0.473
  12   23     -1211.132      32.521       1.000
  13   24     -1241.114      47.460       1.000
  14   25     -1251.028      18.713       1.000
  15   26     -1252.954      32.642       1.000
  16   27     -1255.467      20.591       1.000
  17   29     -1256.395      19.450       0.344
  18   31     -1256.975      13.767       0.150
  19   32     -1257.546      13.119       1.000
  20   33     -1259.149      14.450       1.000
  21   34     -1264.110      28.518       1.000
  22   35     -1266.144      14.269       1.000
  23   36     -1268.237      27.610       1.000
  24   37     -1270.274      20.090       1.000
  25   39     -1271.119      18.833       0.407
  26   40     -1271.808      35.631       1.000
  27   43     -1280.785      55.752       0.444
  28   45     -1281.296      47.292       0.019
  29   46     -1282.633      35.136       1.000
  30   49     -1283.162      22.578       0.029
  31   50     -1285.366      18.504       1.000
  32   51     -1291.920      22.553       1.000
  33   53     -1294.707      39.925       0.083
  34   54     -1298.446      31.864       1.000
  35   55     -1300.453      27.892       1.000
  36   57     -1301.683      12.560       0.171
  37   58     -1303.666      15.727       1.000
  38   59     -1306.115      25.193       1.000
  39   60     -1307.859      30.943       1.000
  40   61     -1310.269      13.430       1.000
Final RAS Transform: 
0.862172 -0.470375 0.0298155 1.43692 
-0.302167 1.09699 -0.196967 3.50127 
0.397131 -0.247374 0.49957 -4.67236 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -620.1   GNORM= 26.5444
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -626.277      25.011       0.012
   2    5      -627.502      17.237       0.143
   3    6      -628.346       8.595       1.000
   4    7      -628.819       7.340       1.000
   5    8      -629.531      14.404       1.000
   6    9      -630.151      10.907       1.000
   7   10      -631.589       7.778       1.000
   8   11      -634.186      14.317       1.000
   9   13      -637.188      21.351       0.295
  10   15      -648.269      21.249       5.000
  11   16      -652.614      15.010       1.000
  12   18      -654.851      18.616       0.436
  13   19      -660.475      33.314       1.000
  14   22      -661.149      25.252       0.074
  15   23      -662.947      15.832       1.000
  16   24      -664.284      19.578       1.000
  17   25      -667.989      14.330       1.000
  18   26      -670.495      24.648       1.000
  19   27      -675.233      24.044       1.000
  20   29      -678.560       9.283       0.320
  21   30      -680.488       9.610       1.000
  22   31      -680.819      10.765       1.000
  23   32      -681.460      18.307       1.000
  24   33      -681.960      11.233       1.000
  25   34      -682.279       6.414       1.000
  26   35      -683.045       7.446       1.000
  27   37      -684.864       9.883       0.166
  28   39      -685.504      16.162       0.206
  29   40      -686.347       8.317       1.000
  30   41      -687.385      17.401       1.000
  31   43      -688.502      11.319       0.378
  32   44      -688.794       8.034       1.000
  33   46      -693.003      29.586       5.000
  34   48      -693.363      26.596       0.039
  35   49      -694.518      22.095       1.000
  36   51      -695.351      20.922       0.408
  37   52      -696.392      19.902       1.000
  38   53      -696.993      11.368       1.000
  39   55      -699.522      10.267       5.000
  40   56      -703.878      20.170       1.000
  41   58      -705.079      23.247       0.410
  42   59      -706.225      18.498       1.000
Final RAS Transform: 
0.87319 -0.52988 0.0264521 2.00345 
-0.208797 0.928707 -0.261167 8.56924 
0.372448 -0.270723 0.374731 -7.63403 
0 0 0 1 

Final RAS Transform: 
0.87319 -0.52988 0.0264521 2.00345 
-0.208797 0.928707 -0.261167 8.56924 
0.372448 -0.270723 0.374731 -7.63403 
0 0 0 1 


real	0m5.838s
user	0m9.644s
sys	0m0.704s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train019/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.431383
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0311
Level     0,  Iter     1:    Energy =   0.0330
Level     0,  Iter     2:    Energy =   0.0347
Level     0,  Iter     3:    Energy =   0.0365
Level     0,  Iter     4:    Energy =   0.0379
Level     0,  Iter     5:    Energy =   0.0391
Level     0,  Iter     6:    Energy =   0.0400
Level     0,  Iter     7:    Energy =   0.0410
Level     0,  Iter     8:    Energy =   0.0417
Level     0,  Iter     9:    Energy =   0.0426
Level     0,  Iter    10:    Energy =   0.0432
Level     0,  Iter    11:    Energy =   0.0437
Level     0,  Iter    12:    Energy =   0.0442
Level     0,  Iter    13:    Energy =   0.0447
Level     0,  Iter    14:    Energy =   0.0451
Level     0,  Iter    15:    Energy =   0.0455
Level     0,  Iter    16:    Energy =   0.0458
Level     0,  Iter    17:    Energy =   0.0461
Level     0,  Iter    18:    Energy =   0.0463
Level     0,  Iter    19:    Energy =   0.0466
Level     0,  Iter    20:    Energy =   0.0468
Level     0,  Iter    21:    Energy =   0.0470
Level     0,  Iter    22:    Energy =   0.0472
Level     0,  Iter    23:    Energy =   0.0474
Level     0,  Iter    24:    Energy =   0.0476
Level     0,  Iter    25:    Energy =   0.0478
Level     0,  Iter    26:    Energy =   0.0480
Level     0,  Iter    27:    Energy =   0.0482
Level     0,  Iter    28:    Energy =   0.0484
Level     0,  Iter    29:    Energy =   0.0485
Level     0,  Iter    30:    Energy =   0.0487
Level     0,  Iter    31:    Energy =   0.0488
Level     0,  Iter    32:    Energy =   0.0490
Level     0,  Iter    33:    Energy =   0.0492
Level     0,  Iter    34:    Energy =   0.0495
Level     0,  Iter    35:    Energy =   0.0497
Level     0,  Iter    36:    Energy =   0.0499
Level     0,  Iter    37:    Energy =   0.0501
Level     0,  Iter    38:    Energy =   0.0503
Level     0,  Iter    39:    Energy =   0.0506
Level     0,  Iter    40:    Energy =   0.0508
Level     0,  Iter    41:    Energy =   0.0510
Level     0,  Iter    42:    Energy =   0.0512
Level     0,  Iter    43:    Energy =   0.0514
Level     0,  Iter    44:    Energy =   0.0516
Level     0,  Iter    45:    Energy =   0.0518
Level     0,  Iter    46:    Energy =   0.0520
Level     0,  Iter    47:    Energy =   0.0522
Level     0,  Iter    48:    Energy =   0.0523
Level     0,  Iter    49:    Energy =   0.0525
Level     0,  Iter    50:    Energy =   0.0525
Level     0,  Iter    51:    Energy =   0.0527
Level     0,  Iter    52:    Energy =   0.0528
Level     0,  Iter    53:    Energy =   0.0529
Level     0,  Iter    54:    Energy =   0.0530
Level     0,  Iter    55:    Energy =   0.0530
Level     0,  Iter    56:    Energy =   0.0531
Level     0,  Iter    57:    Energy =   0.0531
Level     0,  Iter    58:    Energy =   0.0532
Level     0,  Iter    59:    Energy =   0.0532
END OF LEVEL     0    DetJac Range:   0.0730  to   2.1044 
  Avg. Gradient Time  : 0.0068s  32.68% 
  Avg. Gaussian Time  : 0.0101s  48.51% 
  Avg. Iteration Time : 0.0209s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0285
Level     1,  Iter     1:    Energy =   0.0300
Level     1,  Iter     2:    Energy =   0.0312
Level     1,  Iter     3:    Energy =   0.0322
Level     1,  Iter     4:    Energy =   0.0331
Level     1,  Iter     5:    Energy =   0.0340
Level     1,  Iter     6:    Energy =   0.0350
Level     1,  Iter     7:    Energy =   0.0357
Level     1,  Iter     8:    Energy =   0.0365
Level     1,  Iter     9:    Energy =   0.0372
Level     1,  Iter    10:    Energy =   0.0379
Level     1,  Iter    11:    Energy =   0.0386
Level     1,  Iter    12:    Energy =   0.0391
Level     1,  Iter    13:    Energy =   0.0396
Level     1,  Iter    14:    Energy =   0.0400
Level     1,  Iter    15:    Energy =   0.0403
Level     1,  Iter    16:    Energy =   0.0406
Level     1,  Iter    17:    Energy =   0.0410
Level     1,  Iter    18:    Energy =   0.0413
Level     1,  Iter    19:    Energy =   0.0416
Level     1,  Iter    20:    Energy =   0.0419
Level     1,  Iter    21:    Energy =   0.0421
Level     1,  Iter    22:    Energy =   0.0423
Level     1,  Iter    23:    Energy =   0.0425
Level     1,  Iter    24:    Energy =   0.0427
Level     1,  Iter    25:    Energy =   0.0428
Level     1,  Iter    26:    Energy =   0.0430
Level     1,  Iter    27:    Energy =   0.0431
Level     1,  Iter    28:    Energy =   0.0432
Level     1,  Iter    29:    Energy =   0.0433
Level     1,  Iter    30:    Energy =   0.0434
Level     1,  Iter    31:    Energy =   0.0434
Level     1,  Iter    32:    Energy =   0.0435
Level     1,  Iter    33:    Energy =   0.0435
Level     1,  Iter    34:    Energy =   0.0436
Level     1,  Iter    35:    Energy =   0.0436
Level     1,  Iter    36:    Energy =   0.0437
Level     1,  Iter    37:    Energy =   0.0437
Level     1,  Iter    38:    Energy =   0.0437
Level     1,  Iter    39:    Energy =   0.0438
Level     1,  Iter    40:    Energy =   0.0438
Level     1,  Iter    41:    Energy =   0.0438
Level     1,  Iter    42:    Energy =   0.0439
Level     1,  Iter    43:    Energy =   0.0439
Level     1,  Iter    44:    Energy =   0.0440
Level     1,  Iter    45:    Energy =   0.0440
Level     1,  Iter    46:    Energy =   0.0441
Level     1,  Iter    47:    Energy =   0.0441
Level     1,  Iter    48:    Energy =   0.0441
Level     1,  Iter    49:    Energy =   0.0441
Level     1,  Iter    50:    Energy =   0.0441
Level     1,  Iter    51:    Energy =   0.0440
Level     1,  Iter    52:    Energy =   0.0441
Level     1,  Iter    53:    Energy =   0.0440
Level     1,  Iter    54:    Energy =   0.0441
Level     1,  Iter    55:    Energy =   0.0441
Level     1,  Iter    56:    Energy =   0.0440
Level     1,  Iter    57:    Energy =   0.0440
Level     1,  Iter    58:    Energy =   0.0440
Level     1,  Iter    59:    Energy =   0.0440
END OF LEVEL     1    DetJac Range:   0.0472  to   2.6905 
  Avg. Gradient Time  : 0.0274s  33.25% 
  Avg. Gaussian Time  : 0.0434s  52.74% 
  Avg. Iteration Time : 0.0823s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0209
Level     2,  Iter     1:    Energy =   0.0218
Level     2,  Iter     2:    Energy =   0.0224
Level     2,  Iter     3:    Energy =   0.0229
Level     2,  Iter     4:    Energy =   0.0233
Level     2,  Iter     5:    Energy =   0.0239
Level     2,  Iter     6:    Energy =   0.0244
Level     2,  Iter     7:    Energy =   0.0248
Level     2,  Iter     8:    Energy =   0.0251
Level     2,  Iter     9:    Energy =   0.0254
Level     2,  Iter    10:    Energy =   0.0256
Level     2,  Iter    11:    Energy =   0.0259
Level     2,  Iter    12:    Energy =   0.0263
Level     2,  Iter    13:    Energy =   0.0266
Level     2,  Iter    14:    Energy =   0.0269
Level     2,  Iter    15:    Energy =   0.0273
Level     2,  Iter    16:    Energy =   0.0274
Level     2,  Iter    17:    Energy =   0.0276
Level     2,  Iter    18:    Energy =   0.0279
Level     2,  Iter    19:    Energy =   0.0281
END OF LEVEL     2    DetJac Range:   0.0191  to   2.7377 
  Avg. Gradient Time  : 0.1736s  31.63% 
  Avg. Gaussian Time  : 0.3005s  54.75% 
  Avg. Iteration Time : 0.5489s 

real	0m19.867s
user	0m34.308s
sys	0m2.336s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train019/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train019/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train019/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=19 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=19 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.281429 0.285714
+ echo 'CHUNK 0.281429 0.285714 1'
CHUNK 0.281429 0.285714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.281429 0.285714 1
====================================
         PROGRESS: 0.281429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=020
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 020
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train020
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train020
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left 020 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train020 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=left
+ local tid=020
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train020
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 020 left 0
+ local tid=020
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 020 0
+ set -e
+ local tid=020
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train020/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.49
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 715.372   GNORM= 118.142
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       590.568     108.604       0.008
   2    4       -21.720     116.292       0.418
   3    7       -49.925      18.498       2.297
   4    9      -465.104     101.387       5.000
   5   17      -466.493      97.246       0.006
   6   18      -532.840      98.519       1.000
   7   19      -566.239      52.286       1.000
   8   20      -595.127      31.186       1.000
   9   22      -598.818      20.284       0.208
  10   23      -603.103      20.213       1.000
  11   24      -606.180      97.928       1.000
  12   25      -638.583      74.959       1.000
  13   26      -737.303     135.885       1.000
  14   29      -749.067     129.617       0.026
  15   30      -777.286     164.867       1.000
  16   31      -816.259     133.748       1.000
  17   32      -823.638     112.501       1.000
  18   33      -862.766      48.490       1.000
  19   35      -873.879      62.216       0.524
  20   36      -888.131      70.683       1.000
  21   37      -893.289      46.059       1.000
  22   38      -910.810      54.580       1.000
  23   39      -947.977      85.335       1.000
  24   40      -988.908      75.247       1.000
  25   41     -1013.874      54.082       1.000
  26   42     -1020.793      40.535       1.000
  27   43     -1031.294      30.643       1.000
  28   44     -1036.339      79.647       1.000
  29   45     -1073.344      38.066       1.000
  30   46     -1109.619     102.658       1.000
  31   48     -1150.407     158.089       0.134
  32   50     -1174.163     142.152       0.431
  33   52     -1179.217     109.012       0.130
  34   53     -1195.563      74.672       1.000
  35   54     -1212.281      49.346       1.000
  36   55     -1235.689      51.387       1.000
  37   57     -1246.711      44.236       0.222
  38   58     -1254.250      24.980       1.000
  39   59     -1260.167      53.408       1.000
  40   60     -1268.364      43.115       1.000
  41   61     -1275.196      27.242       1.000
Final RAS Transform: 
0.624771 -0.0716935 -0.0940675 -5.68773 
0.111495 0.887425 0.624979 19.6098 
0.148688 -0.480475 0.425652 -3.08554 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -641.804   GNORM= 46.3637
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -652.998      32.482       0.011
   2    4      -659.008      30.954       1.000
   3    5      -675.254      55.702       1.000
   4    6      -705.730      72.380       1.000
   5    8      -718.425      55.741       0.171
   6    9      -725.020      14.979       1.000
   7   10      -726.040       9.640       1.000
   8   11      -727.152       7.765       1.000
   9   12      -729.793      18.933       1.000
  10   14      -732.141      32.026       0.384
  11   15      -735.768      19.549       1.000
  12   16      -737.987      16.309       1.000
  13   17      -738.736      15.384       1.000
  14   19      -738.974       8.402       0.387
  15   20      -739.117       5.261       1.000
  16   21      -739.273       6.695       1.000
  17   22      -740.231       5.651       1.000
  18   23      -742.605      35.074       1.000
  19   24      -743.757       7.255       1.000
  20   25      -743.922       5.275       1.000
  21   27      -744.008       4.743       0.176
  22   28      -744.171      10.456       1.000
  23   29      -744.366       8.868       1.000
  24   30      -745.115       7.417       1.000
  25   31      -746.648      14.174       1.000
  26   33      -746.801      10.641       0.174
  27   34      -747.026       4.068       1.000
  28   36      -747.108       5.409       0.334
  29   38      -747.136       7.358       0.214
  30   39      -747.194       6.449       1.000
  31   40      -747.276      12.798       1.000
  32   41      -747.507       4.374       1.000
  33   42      -747.614       3.366       1.000
  34   43      -747.811       5.739       1.000
  35   44      -747.950       5.620       1.000
  36   45      -748.149       5.733       1.000
  37   47      -748.316       6.682       0.495
  38   48      -748.488       3.900       1.000
  39   50      -748.589       9.959       0.396
  40   51      -748.705       8.262       1.000
  41   52      -749.138       5.377       1.000
  42   54      -749.508       4.191       0.483
  43   56      -749.556       3.347       0.367
  44   57      -749.624       5.457       1.000
  45   58      -749.637       6.910       1.000
  46   59      -749.771       7.218       1.000
  47   61      -749.876       4.846       0.125
Final RAS Transform: 
0.655412 -0.115594 -0.109353 -3.79477 
0.185597 1.00811 0.629888 19.2565 
0.10108 -0.451918 0.4175 -5.64565 
0 0 0 1 

Final RAS Transform: 
0.655412 -0.115594 -0.109353 -3.79477 
0.185597 1.00811 0.629888 19.2565 
0.10108 -0.451918 0.4175 -5.64565 
0 0 0 1 


real	0m5.804s
user	0m9.656s
sys	0m0.664s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train020/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.447148
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0294
Level     0,  Iter     1:    Energy =   0.0324
Level     0,  Iter     2:    Energy =   0.0356
Level     0,  Iter     3:    Energy =   0.0379
Level     0,  Iter     4:    Energy =   0.0399
Level     0,  Iter     5:    Energy =   0.0415
Level     0,  Iter     6:    Energy =   0.0427
Level     0,  Iter     7:    Energy =   0.0441
Level     0,  Iter     8:    Energy =   0.0449
Level     0,  Iter     9:    Energy =   0.0455
Level     0,  Iter    10:    Energy =   0.0461
Level     0,  Iter    11:    Energy =   0.0467
Level     0,  Iter    12:    Energy =   0.0472
Level     0,  Iter    13:    Energy =   0.0477
Level     0,  Iter    14:    Energy =   0.0482
Level     0,  Iter    15:    Energy =   0.0485
Level     0,  Iter    16:    Energy =   0.0489
Level     0,  Iter    17:    Energy =   0.0492
Level     0,  Iter    18:    Energy =   0.0494
Level     0,  Iter    19:    Energy =   0.0496
Level     0,  Iter    20:    Energy =   0.0498
Level     0,  Iter    21:    Energy =   0.0499
Level     0,  Iter    22:    Energy =   0.0500
Level     0,  Iter    23:    Energy =   0.0502
Level     0,  Iter    24:    Energy =   0.0504
Level     0,  Iter    25:    Energy =   0.0505
Level     0,  Iter    26:    Energy =   0.0508
Level     0,  Iter    27:    Energy =   0.0510
Level     0,  Iter    28:    Energy =   0.0511
Level     0,  Iter    29:    Energy =   0.0514
Level     0,  Iter    30:    Energy =   0.0517
Level     0,  Iter    31:    Energy =   0.0519
Level     0,  Iter    32:    Energy =   0.0521
Level     0,  Iter    33:    Energy =   0.0522
Level     0,  Iter    34:    Energy =   0.0523
Level     0,  Iter    35:    Energy =   0.0524
Level     0,  Iter    36:    Energy =   0.0526
Level     0,  Iter    37:    Energy =   0.0527
Level     0,  Iter    38:    Energy =   0.0528
Level     0,  Iter    39:    Energy =   0.0529
Level     0,  Iter    40:    Energy =   0.0530
Level     0,  Iter    41:    Energy =   0.0531
Level     0,  Iter    42:    Energy =   0.0532
Level     0,  Iter    43:    Energy =   0.0532
Level     0,  Iter    44:    Energy =   0.0533
Level     0,  Iter    45:    Energy =   0.0533
Level     0,  Iter    46:    Energy =   0.0533
Level     0,  Iter    47:    Energy =   0.0534
Level     0,  Iter    48:    Energy =   0.0535
Level     0,  Iter    49:    Energy =   0.0536
Level     0,  Iter    50:    Energy =   0.0537
Level     0,  Iter    51:    Energy =   0.0538
Level     0,  Iter    52:    Energy =   0.0538
Level     0,  Iter    53:    Energy =   0.0539
Level     0,  Iter    54:    Energy =   0.0540
Level     0,  Iter    55:    Energy =   0.0541
Level     0,  Iter    56:    Energy =   0.0541
Level     0,  Iter    57:    Energy =   0.0541
Level     0,  Iter    58:    Energy =   0.0541
Level     0,  Iter    59:    Energy =   0.0541
END OF LEVEL     0    DetJac Range:   0.0874  to   3.0408 
  Avg. Gradient Time  : 0.0068s  32.52% 
  Avg. Gaussian Time  : 0.0101s  48.57% 
  Avg. Iteration Time : 0.0208s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0310
Level     1,  Iter     1:    Energy =   0.0327
Level     1,  Iter     2:    Energy =   0.0342
Level     1,  Iter     3:    Energy =   0.0353
Level     1,  Iter     4:    Energy =   0.0364
Level     1,  Iter     5:    Energy =   0.0375
Level     1,  Iter     6:    Energy =   0.0386
Level     1,  Iter     7:    Energy =   0.0398
Level     1,  Iter     8:    Energy =   0.0410
Level     1,  Iter     9:    Energy =   0.0423
Level     1,  Iter    10:    Energy =   0.0433
Level     1,  Iter    11:    Energy =   0.0441
Level     1,  Iter    12:    Energy =   0.0446
Level     1,  Iter    13:    Energy =   0.0451
Level     1,  Iter    14:    Energy =   0.0456
Level     1,  Iter    15:    Energy =   0.0460
Level     1,  Iter    16:    Energy =   0.0464
Level     1,  Iter    17:    Energy =   0.0466
Level     1,  Iter    18:    Energy =   0.0469
Level     1,  Iter    19:    Energy =   0.0471
Level     1,  Iter    20:    Energy =   0.0473
Level     1,  Iter    21:    Energy =   0.0474
Level     1,  Iter    22:    Energy =   0.0475
Level     1,  Iter    23:    Energy =   0.0476
Level     1,  Iter    24:    Energy =   0.0477
Level     1,  Iter    25:    Energy =   0.0478
Level     1,  Iter    26:    Energy =   0.0479
Level     1,  Iter    27:    Energy =   0.0479
Level     1,  Iter    28:    Energy =   0.0479
Level     1,  Iter    29:    Energy =   0.0480
Level     1,  Iter    30:    Energy =   0.0480
Level     1,  Iter    31:    Energy =   0.0481
Level     1,  Iter    32:    Energy =   0.0481
Level     1,  Iter    33:    Energy =   0.0481
Level     1,  Iter    34:    Energy =   0.0482
Level     1,  Iter    35:    Energy =   0.0482
Level     1,  Iter    36:    Energy =   0.0482
Level     1,  Iter    37:    Energy =   0.0482
Level     1,  Iter    38:    Energy =   0.0483
Level     1,  Iter    39:    Energy =   0.0483
Level     1,  Iter    40:    Energy =   0.0484
Level     1,  Iter    41:    Energy =   0.0484
Level     1,  Iter    42:    Energy =   0.0485
Level     1,  Iter    43:    Energy =   0.0485
Level     1,  Iter    44:    Energy =   0.0486
Level     1,  Iter    45:    Energy =   0.0486
Level     1,  Iter    46:    Energy =   0.0486
Level     1,  Iter    47:    Energy =   0.0487
Level     1,  Iter    48:    Energy =   0.0487
Level     1,  Iter    49:    Energy =   0.0487
Level     1,  Iter    50:    Energy =   0.0488
Level     1,  Iter    51:    Energy =   0.0488
Level     1,  Iter    52:    Energy =   0.0488
Level     1,  Iter    53:    Energy =   0.0489
Level     1,  Iter    54:    Energy =   0.0489
Level     1,  Iter    55:    Energy =   0.0489
Level     1,  Iter    56:    Energy =   0.0489
Level     1,  Iter    57:    Energy =   0.0489
Level     1,  Iter    58:    Energy =   0.0489
Level     1,  Iter    59:    Energy =   0.0489
END OF LEVEL     1    DetJac Range:   0.0352  to   3.1443 
  Avg. Gradient Time  : 0.0282s  33.56% 
  Avg. Gaussian Time  : 0.0440s  52.42% 
  Avg. Iteration Time : 0.0839s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0209
Level     2,  Iter     1:    Energy =   0.0222
Level     2,  Iter     2:    Energy =   0.0234
Level     2,  Iter     3:    Energy =   0.0244
Level     2,  Iter     4:    Energy =   0.0254
Level     2,  Iter     5:    Energy =   0.0262
Level     2,  Iter     6:    Energy =   0.0270
Level     2,  Iter     7:    Energy =   0.0276
Level     2,  Iter     8:    Energy =   0.0282
Level     2,  Iter     9:    Energy =   0.0287
Level     2,  Iter    10:    Energy =   0.0291
Level     2,  Iter    11:    Energy =   0.0296
Level     2,  Iter    12:    Energy =   0.0299
Level     2,  Iter    13:    Energy =   0.0303
Level     2,  Iter    14:    Energy =   0.0305
Level     2,  Iter    15:    Energy =   0.0308
Level     2,  Iter    16:    Energy =   0.0311
Level     2,  Iter    17:    Energy =   0.0312
Level     2,  Iter    18:    Energy =   0.0314
Level     2,  Iter    19:    Energy =   0.0317
END OF LEVEL     2    DetJac Range:   0.0194  to   3.6446 
  Avg. Gradient Time  : 0.1777s  31.95% 
  Avg. Gaussian Time  : 0.3031s  54.51% 
  Avg. Iteration Time : 0.5561s 

real	0m20.187s
user	0m34.800s
sys	0m2.380s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train020/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train020/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train020/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=20 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=20 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.285714 0.29
+ echo 'CHUNK 0.285714 0.29 1'
CHUNK 0.285714 0.29 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.285714 0.29 1
====================================
         PROGRESS: 0.285714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=021
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 021
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train021
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train021
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left 021 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train021 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=left
+ local tid=021
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train021
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 021 left 0
+ local tid=021
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 021 0
+ set -e
+ local tid=021
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train021/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.598
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 510.034   GNORM= 187.336
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       321.996     152.667       0.005
   2    3       107.836     123.968       1.000
   3    4      -145.108      90.132       1.000
   4    8      -505.222      43.241       0.111
   5   13      -540.233      60.366       0.649
   6   24      -832.355      99.301       2.556
   7   34      -834.640      62.697       0.005
   8   36      -839.585      67.224       0.445
   9   39      -861.569     150.569       0.757
  10   44      -861.637     126.765       0.002
  11   45      -871.008     141.376       1.000
  12   50      -873.750      34.286       0.066
Final RAS Transform: 
1.13587 -0.0958653 0.137089 -3.02716 
-0.198626 1.2113 -0.215494 4.33653 
0.160005 -0.191118 0.973513 -5.58847 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -423.295   GNORM= 459.224
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    5      -425.285      30.828       0.002
   2    6      -425.338      43.512       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.13663 -0.100293 0.141811 -3.44356 
-0.197374 1.20521 -0.209058 3.83081 
0.15888 -0.188334 0.972283 -5.34674 
0 0 0 1 

Final RAS Transform: 
1.13663 -0.100293 0.141811 -3.44356 
-0.197374 1.20521 -0.209058 3.83081 
0.15888 -0.188334 0.972283 -5.34674 
0 0 0 1 


real	0m3.781s
user	0m5.816s
sys	0m0.552s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train021/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.390735
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0214
Level     0,  Iter     1:    Energy =   0.0228
Level     0,  Iter     2:    Energy =   0.0257
Level     0,  Iter     3:    Energy =   0.0285
Level     0,  Iter     4:    Energy =   0.0308
Level     0,  Iter     5:    Energy =   0.0328
Level     0,  Iter     6:    Energy =   0.0344
Level     0,  Iter     7:    Energy =   0.0357
Level     0,  Iter     8:    Energy =   0.0366
Level     0,  Iter     9:    Energy =   0.0374
Level     0,  Iter    10:    Energy =   0.0381
Level     0,  Iter    11:    Energy =   0.0388
Level     0,  Iter    12:    Energy =   0.0394
Level     0,  Iter    13:    Energy =   0.0400
Level     0,  Iter    14:    Energy =   0.0406
Level     0,  Iter    15:    Energy =   0.0412
Level     0,  Iter    16:    Energy =   0.0417
Level     0,  Iter    17:    Energy =   0.0421
Level     0,  Iter    18:    Energy =   0.0425
Level     0,  Iter    19:    Energy =   0.0426
Level     0,  Iter    20:    Energy =   0.0429
Level     0,  Iter    21:    Energy =   0.0431
Level     0,  Iter    22:    Energy =   0.0434
Level     0,  Iter    23:    Energy =   0.0435
Level     0,  Iter    24:    Energy =   0.0437
Level     0,  Iter    25:    Energy =   0.0439
Level     0,  Iter    26:    Energy =   0.0440
Level     0,  Iter    27:    Energy =   0.0441
Level     0,  Iter    28:    Energy =   0.0443
Level     0,  Iter    29:    Energy =   0.0444
Level     0,  Iter    30:    Energy =   0.0445
Level     0,  Iter    31:    Energy =   0.0445
Level     0,  Iter    32:    Energy =   0.0446
Level     0,  Iter    33:    Energy =   0.0445
Level     0,  Iter    34:    Energy =   0.0446
Level     0,  Iter    35:    Energy =   0.0446
Level     0,  Iter    36:    Energy =   0.0447
Level     0,  Iter    37:    Energy =   0.0447
Level     0,  Iter    38:    Energy =   0.0448
Level     0,  Iter    39:    Energy =   0.0448
Level     0,  Iter    40:    Energy =   0.0448
Level     0,  Iter    41:    Energy =   0.0449
Level     0,  Iter    42:    Energy =   0.0450
Level     0,  Iter    43:    Energy =   0.0450
Level     0,  Iter    44:    Energy =   0.0450
Level     0,  Iter    45:    Energy =   0.0450
Level     0,  Iter    46:    Energy =   0.0450
Level     0,  Iter    47:    Energy =   0.0451
Level     0,  Iter    48:    Energy =   0.0452
Level     0,  Iter    49:    Energy =   0.0452
Level     0,  Iter    50:    Energy =   0.0453
Level     0,  Iter    51:    Energy =   0.0453
Level     0,  Iter    52:    Energy =   0.0454
Level     0,  Iter    53:    Energy =   0.0454
Level     0,  Iter    54:    Energy =   0.0455
Level     0,  Iter    55:    Energy =   0.0456
Level     0,  Iter    56:    Energy =   0.0455
Level     0,  Iter    57:    Energy =   0.0456
Level     0,  Iter    58:    Energy =   0.0456
Level     0,  Iter    59:    Energy =   0.0457
END OF LEVEL     0    DetJac Range:   0.0431  to   2.5503 
  Avg. Gradient Time  : 0.0065s  32.62% 
  Avg. Gaussian Time  : 0.0096s  48.07% 
  Avg. Iteration Time : 0.0200s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0268
Level     1,  Iter     1:    Energy =   0.0280
Level     1,  Iter     2:    Energy =   0.0289
Level     1,  Iter     3:    Energy =   0.0299
Level     1,  Iter     4:    Energy =   0.0307
Level     1,  Iter     5:    Energy =   0.0312
Level     1,  Iter     6:    Energy =   0.0318
Level     1,  Iter     7:    Energy =   0.0324
Level     1,  Iter     8:    Energy =   0.0331
Level     1,  Iter     9:    Energy =   0.0338
Level     1,  Iter    10:    Energy =   0.0345
Level     1,  Iter    11:    Energy =   0.0351
Level     1,  Iter    12:    Energy =   0.0355
Level     1,  Iter    13:    Energy =   0.0359
Level     1,  Iter    14:    Energy =   0.0363
Level     1,  Iter    15:    Energy =   0.0369
Level     1,  Iter    16:    Energy =   0.0373
Level     1,  Iter    17:    Energy =   0.0377
Level     1,  Iter    18:    Energy =   0.0380
Level     1,  Iter    19:    Energy =   0.0384
Level     1,  Iter    20:    Energy =   0.0386
Level     1,  Iter    21:    Energy =   0.0388
Level     1,  Iter    22:    Energy =   0.0391
Level     1,  Iter    23:    Energy =   0.0393
Level     1,  Iter    24:    Energy =   0.0395
Level     1,  Iter    25:    Energy =   0.0397
Level     1,  Iter    26:    Energy =   0.0399
Level     1,  Iter    27:    Energy =   0.0400
Level     1,  Iter    28:    Energy =   0.0402
Level     1,  Iter    29:    Energy =   0.0403
Level     1,  Iter    30:    Energy =   0.0404
Level     1,  Iter    31:    Energy =   0.0405
Level     1,  Iter    32:    Energy =   0.0407
Level     1,  Iter    33:    Energy =   0.0407
Level     1,  Iter    34:    Energy =   0.0408
Level     1,  Iter    35:    Energy =   0.0409
Level     1,  Iter    36:    Energy =   0.0410
Level     1,  Iter    37:    Energy =   0.0411
Level     1,  Iter    38:    Energy =   0.0412
Level     1,  Iter    39:    Energy =   0.0413
Level     1,  Iter    40:    Energy =   0.0413
Level     1,  Iter    41:    Energy =   0.0414
Level     1,  Iter    42:    Energy =   0.0414
Level     1,  Iter    43:    Energy =   0.0415
Level     1,  Iter    44:    Energy =   0.0415
Level     1,  Iter    45:    Energy =   0.0416
Level     1,  Iter    46:    Energy =   0.0417
Level     1,  Iter    47:    Energy =   0.0417
Level     1,  Iter    48:    Energy =   0.0418
Level     1,  Iter    49:    Energy =   0.0418
Level     1,  Iter    50:    Energy =   0.0419
Level     1,  Iter    51:    Energy =   0.0419
Level     1,  Iter    52:    Energy =   0.0420
Level     1,  Iter    53:    Energy =   0.0420
Level     1,  Iter    54:    Energy =   0.0420
Level     1,  Iter    55:    Energy =   0.0421
Level     1,  Iter    56:    Energy =   0.0421
Level     1,  Iter    57:    Energy =   0.0422
Level     1,  Iter    58:    Energy =   0.0422
Level     1,  Iter    59:    Energy =   0.0422
END OF LEVEL     1    DetJac Range:   0.0447  to   3.3784 
  Avg. Gradient Time  : 0.0271s  33.30% 
  Avg. Gaussian Time  : 0.0429s  52.66% 
  Avg. Iteration Time : 0.0815s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0190
Level     2,  Iter     1:    Energy =   0.0200
Level     2,  Iter     2:    Energy =   0.0207
Level     2,  Iter     3:    Energy =   0.0214
Level     2,  Iter     4:    Energy =   0.0220
Level     2,  Iter     5:    Energy =   0.0225
Level     2,  Iter     6:    Energy =   0.0231
Level     2,  Iter     7:    Energy =   0.0235
Level     2,  Iter     8:    Energy =   0.0239
Level     2,  Iter     9:    Energy =   0.0242
Level     2,  Iter    10:    Energy =   0.0244
Level     2,  Iter    11:    Energy =   0.0246
Level     2,  Iter    12:    Energy =   0.0248
Level     2,  Iter    13:    Energy =   0.0250
Level     2,  Iter    14:    Energy =   0.0252
Level     2,  Iter    15:    Energy =   0.0253
Level     2,  Iter    16:    Energy =   0.0253
Level     2,  Iter    17:    Energy =   0.0253
Level     2,  Iter    18:    Energy =   0.0252
Level     2,  Iter    19:    Energy =   0.0253
END OF LEVEL     2    DetJac Range:   0.0469  to   3.4597 
  Avg. Gradient Time  : 0.1739s  31.63% 
  Avg. Gaussian Time  : 0.3010s  54.76% 
  Avg. Iteration Time : 0.5497s 

real	0m19.752s
user	0m34.000s
sys	0m2.440s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train021/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train021/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train021/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=21 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=21 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.29 0.294286
+ echo 'CHUNK 0.29 0.294286 1'
CHUNK 0.29 0.294286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.29 0.294286 1
====================================
         PROGRESS: 0.29               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=022
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 022
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train022
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train022
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left 022 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train022 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=left
+ local tid=022
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train022
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 022 left 0
+ local tid=022
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 022 0
+ set -e
+ local tid=022
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train022/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.628
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 482.067   GNORM= 83.8838
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       433.887      67.547       0.012
   2    5       169.147      28.607      21.000
   3   10       168.827      49.073       0.008
   4   11        84.138     157.646       1.000
   5   12        46.777      92.513       1.000
   6   13        -0.001       0.000       1.000
 THE MINIMIZATION TERMINATED WITHOUT DETECTING ERRORS.
Final RAS Transform: 
0.997223 -0.0164957 0.0331843 0.276374 
-0.0347527 1.07108 -0.135236 4.06231 
0.0356871 -0.118292 0.954938 -3.8885 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -32.1398   GNORM= 81.5061
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    6      -272.626     108.850       0.055
   2    7      -314.275      49.984       1.000
   3   10      -334.711      44.236       0.416
   4   11      -340.161      26.991       1.000
   5   12      -345.415      13.482       1.000
   6   15      -346.080      31.083       2.149
   7   20      -348.165      29.395       6.575
   8   21      -351.883      67.741       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.993025 -0.0146335 0.0283557 2.2648 
-0.0597217 1.10318 -0.174869 6.66119 
0.0461962 -0.135778 0.948804 -6.38218 
0 0 0 1 

Final RAS Transform: 
0.993025 -0.0146335 0.0283557 2.2648 
-0.0597217 1.10318 -0.174869 6.66119 
0.0461962 -0.135778 0.948804 -6.38218 
0 0 0 1 


real	0m4.213s
user	0m6.856s
sys	0m0.420s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train022/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.440658
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0128
Level     0,  Iter     1:    Energy =   0.0147
Level     0,  Iter     2:    Energy =   0.0180
Level     0,  Iter     3:    Energy =   0.0207
Level     0,  Iter     4:    Energy =   0.0233
Level     0,  Iter     5:    Energy =   0.0255
Level     0,  Iter     6:    Energy =   0.0275
Level     0,  Iter     7:    Energy =   0.0292
Level     0,  Iter     8:    Energy =   0.0307
Level     0,  Iter     9:    Energy =   0.0321
Level     0,  Iter    10:    Energy =   0.0334
Level     0,  Iter    11:    Energy =   0.0347
Level     0,  Iter    12:    Energy =   0.0356
Level     0,  Iter    13:    Energy =   0.0365
Level     0,  Iter    14:    Energy =   0.0373
Level     0,  Iter    15:    Energy =   0.0382
Level     0,  Iter    16:    Energy =   0.0391
Level     0,  Iter    17:    Energy =   0.0400
Level     0,  Iter    18:    Energy =   0.0409
Level     0,  Iter    19:    Energy =   0.0417
Level     0,  Iter    20:    Energy =   0.0423
Level     0,  Iter    21:    Energy =   0.0430
Level     0,  Iter    22:    Energy =   0.0434
Level     0,  Iter    23:    Energy =   0.0439
Level     0,  Iter    24:    Energy =   0.0442
Level     0,  Iter    25:    Energy =   0.0446
Level     0,  Iter    26:    Energy =   0.0448
Level     0,  Iter    27:    Energy =   0.0450
Level     0,  Iter    28:    Energy =   0.0453
Level     0,  Iter    29:    Energy =   0.0457
Level     0,  Iter    30:    Energy =   0.0460
Level     0,  Iter    31:    Energy =   0.0463
Level     0,  Iter    32:    Energy =   0.0465
Level     0,  Iter    33:    Energy =   0.0467
Level     0,  Iter    34:    Energy =   0.0469
Level     0,  Iter    35:    Energy =   0.0470
Level     0,  Iter    36:    Energy =   0.0471
Level     0,  Iter    37:    Energy =   0.0472
Level     0,  Iter    38:    Energy =   0.0474
Level     0,  Iter    39:    Energy =   0.0475
Level     0,  Iter    40:    Energy =   0.0476
Level     0,  Iter    41:    Energy =   0.0478
Level     0,  Iter    42:    Energy =   0.0479
Level     0,  Iter    43:    Energy =   0.0480
Level     0,  Iter    44:    Energy =   0.0481
Level     0,  Iter    45:    Energy =   0.0482
Level     0,  Iter    46:    Energy =   0.0482
Level     0,  Iter    47:    Energy =   0.0484
Level     0,  Iter    48:    Energy =   0.0485
Level     0,  Iter    49:    Energy =   0.0486
Level     0,  Iter    50:    Energy =   0.0488
Level     0,  Iter    51:    Energy =   0.0489
Level     0,  Iter    52:    Energy =   0.0490
Level     0,  Iter    53:    Energy =   0.0491
Level     0,  Iter    54:    Energy =   0.0491
Level     0,  Iter    55:    Energy =   0.0491
Level     0,  Iter    56:    Energy =   0.0492
Level     0,  Iter    57:    Energy =   0.0493
Level     0,  Iter    58:    Energy =   0.0493
Level     0,  Iter    59:    Energy =   0.0494
END OF LEVEL     0    DetJac Range:   0.1024  to   3.2109 
  Avg. Gradient Time  : 0.0071s  32.72% 
  Avg. Gaussian Time  : 0.0104s  48.17% 
  Avg. Iteration Time : 0.0216s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0249
Level     1,  Iter     1:    Energy =   0.0262
Level     1,  Iter     2:    Energy =   0.0273
Level     1,  Iter     3:    Energy =   0.0284
Level     1,  Iter     4:    Energy =   0.0293
Level     1,  Iter     5:    Energy =   0.0301
Level     1,  Iter     6:    Energy =   0.0307
Level     1,  Iter     7:    Energy =   0.0313
Level     1,  Iter     8:    Energy =   0.0318
Level     1,  Iter     9:    Energy =   0.0323
Level     1,  Iter    10:    Energy =   0.0327
Level     1,  Iter    11:    Energy =   0.0330
Level     1,  Iter    12:    Energy =   0.0333
Level     1,  Iter    13:    Energy =   0.0336
Level     1,  Iter    14:    Energy =   0.0339
Level     1,  Iter    15:    Energy =   0.0341
Level     1,  Iter    16:    Energy =   0.0344
Level     1,  Iter    17:    Energy =   0.0346
Level     1,  Iter    18:    Energy =   0.0348
Level     1,  Iter    19:    Energy =   0.0349
Level     1,  Iter    20:    Energy =   0.0350
Level     1,  Iter    21:    Energy =   0.0351
Level     1,  Iter    22:    Energy =   0.0352
Level     1,  Iter    23:    Energy =   0.0353
Level     1,  Iter    24:    Energy =   0.0354
Level     1,  Iter    25:    Energy =   0.0354
Level     1,  Iter    26:    Energy =   0.0355
Level     1,  Iter    27:    Energy =   0.0356
Level     1,  Iter    28:    Energy =   0.0357
Level     1,  Iter    29:    Energy =   0.0357
Level     1,  Iter    30:    Energy =   0.0358
Level     1,  Iter    31:    Energy =   0.0358
Level     1,  Iter    32:    Energy =   0.0359
Level     1,  Iter    33:    Energy =   0.0359
Level     1,  Iter    34:    Energy =   0.0360
Level     1,  Iter    35:    Energy =   0.0360
Level     1,  Iter    36:    Energy =   0.0360
Level     1,  Iter    37:    Energy =   0.0360
Level     1,  Iter    38:    Energy =   0.0360
Level     1,  Iter    39:    Energy =   0.0360
Level     1,  Iter    40:    Energy =   0.0360
Level     1,  Iter    41:    Energy =   0.0361
Level     1,  Iter    42:    Energy =   0.0361
Level     1,  Iter    43:    Energy =   0.0362
Level     1,  Iter    44:    Energy =   0.0362
Level     1,  Iter    45:    Energy =   0.0363
Level     1,  Iter    46:    Energy =   0.0363
Level     1,  Iter    47:    Energy =   0.0364
Level     1,  Iter    48:    Energy =   0.0364
Level     1,  Iter    49:    Energy =   0.0364
Level     1,  Iter    50:    Energy =   0.0364
Level     1,  Iter    51:    Energy =   0.0364
Level     1,  Iter    52:    Energy =   0.0364
Level     1,  Iter    53:    Energy =   0.0364
Level     1,  Iter    54:    Energy =   0.0364
Level     1,  Iter    55:    Energy =   0.0364
Level     1,  Iter    56:    Energy =   0.0364
Level     1,  Iter    57:    Energy =   0.0364
Level     1,  Iter    58:    Energy =   0.0364
Level     1,  Iter    59:    Energy =   0.0364
END OF LEVEL     1    DetJac Range:   0.0521  to   3.0287 
  Avg. Gradient Time  : 0.0276s  33.39% 
  Avg. Gaussian Time  : 0.0433s  52.39% 
  Avg. Iteration Time : 0.0827s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0162
Level     2,  Iter     1:    Energy =   0.0171
Level     2,  Iter     2:    Energy =   0.0178
Level     2,  Iter     3:    Energy =   0.0184
Level     2,  Iter     4:    Energy =   0.0189
Level     2,  Iter     5:    Energy =   0.0192
Level     2,  Iter     6:    Energy =   0.0196
Level     2,  Iter     7:    Energy =   0.0201
Level     2,  Iter     8:    Energy =   0.0206
Level     2,  Iter     9:    Energy =   0.0211
Level     2,  Iter    10:    Energy =   0.0215
Level     2,  Iter    11:    Energy =   0.0220
Level     2,  Iter    12:    Energy =   0.0225
Level     2,  Iter    13:    Energy =   0.0229
Level     2,  Iter    14:    Energy =   0.0232
Level     2,  Iter    15:    Energy =   0.0235
Level     2,  Iter    16:    Energy =   0.0237
Level     2,  Iter    17:    Energy =   0.0239
Level     2,  Iter    18:    Energy =   0.0241
Level     2,  Iter    19:    Energy =   0.0242
END OF LEVEL     2    DetJac Range:   0.0390  to   3.2491 
  Avg. Gradient Time  : 0.1727s  31.58% 
  Avg. Gaussian Time  : 0.2997s  54.80% 
  Avg. Iteration Time : 0.5469s 

real	0m19.957s
user	0m34.252s
sys	0m2.488s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train022/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train022/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train022/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=22 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=22 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.294286 0.298571
+ echo 'CHUNK 0.294286 0.298571 1'
CHUNK 0.294286 0.298571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.294286 0.298571 1
====================================
         PROGRESS: 0.294286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=023
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 023
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train023
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train023
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left 023 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train023 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=left
+ local tid=023
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train023
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 023 left 0
+ local tid=023
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 023 0
+ set -e
+ local tid=023
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train023/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.652
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 628.783   GNORM= 152.758
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3         6.437      39.213       0.033
   2    7      -451.575     103.226       4.314
   3    9      -509.530      59.059       0.305
   4   17      -579.217      35.087       0.098
   5   19      -581.811      31.898       0.129
   6   21      -590.583     101.144       5.000
   7   28     -1123.531      63.816       0.642
   8   32     -1138.933      43.399       0.226
   9   33     -1153.252      48.704       1.000
  10   34     -1178.476      45.112       1.000
  11   36     -1185.677      68.663       0.146
  12   38     -1189.766     618.021       0.205
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.0255 -0.181546 0.317916 -1.55139 
-0.156095 1.03431 -0.21668 4.68919 
0.449769 -0.0792 0.632622 -6.79744 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -556.101   GNORM= 102.834
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -558.034      58.812       0.010
   2    5      -570.585     135.818       0.961
   3    7      -577.253      22.248       0.101
   4   21      -578.737      34.342       1.001
   5   25      -579.398      31.291       0.521
   6   32      -580.079      37.518       0.085
   7   33      -580.767      56.296       1.000
   8   34      -586.766      56.475       1.000
   9   37      -592.189      18.017       2.187
  10   41      -595.376      32.777       0.932
  11   45      -596.425      50.244       0.045
  12   46      -602.837      47.593       1.000
  13   50      -609.866      48.479       0.564
  14   53      -619.235      78.516       1.529
  15   54      -631.937      56.934       1.000
  16   55      -640.777     109.177       1.000
  17   57      -640.854      50.149       0.058
  18   58      -641.600      19.735       1.000
  19   61      -641.888      70.114       0.770
Final RAS Transform: 
1.04031 -0.210989 0.254998 -2.48607 
-0.153635 1.09262 -0.125975 4.75103 
0.385707 -0.0909467 0.726448 -6.60219 
0 0 0 1 

Final RAS Transform: 
1.04031 -0.210989 0.254998 -2.48607 
-0.153635 1.09262 -0.125975 4.75103 
0.385707 -0.0909467 0.726448 -6.60219 
0 0 0 1 


real	0m5.806s
user	0m9.664s
sys	0m0.612s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train023/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.379878
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0294
Level     0,  Iter     1:    Energy =   0.0312
Level     0,  Iter     2:    Energy =   0.0334
Level     0,  Iter     3:    Energy =   0.0349
Level     0,  Iter     4:    Energy =   0.0361
Level     0,  Iter     5:    Energy =   0.0370
Level     0,  Iter     6:    Energy =   0.0378
Level     0,  Iter     7:    Energy =   0.0384
Level     0,  Iter     8:    Energy =   0.0390
Level     0,  Iter     9:    Energy =   0.0396
Level     0,  Iter    10:    Energy =   0.0402
Level     0,  Iter    11:    Energy =   0.0406
Level     0,  Iter    12:    Energy =   0.0410
Level     0,  Iter    13:    Energy =   0.0414
Level     0,  Iter    14:    Energy =   0.0417
Level     0,  Iter    15:    Energy =   0.0419
Level     0,  Iter    16:    Energy =   0.0421
Level     0,  Iter    17:    Energy =   0.0424
Level     0,  Iter    18:    Energy =   0.0427
Level     0,  Iter    19:    Energy =   0.0430
Level     0,  Iter    20:    Energy =   0.0433
Level     0,  Iter    21:    Energy =   0.0436
Level     0,  Iter    22:    Energy =   0.0438
Level     0,  Iter    23:    Energy =   0.0441
Level     0,  Iter    24:    Energy =   0.0445
Level     0,  Iter    25:    Energy =   0.0446
Level     0,  Iter    26:    Energy =   0.0446
Level     0,  Iter    27:    Energy =   0.0450
Level     0,  Iter    28:    Energy =   0.0453
Level     0,  Iter    29:    Energy =   0.0455
Level     0,  Iter    30:    Energy =   0.0457
Level     0,  Iter    31:    Energy =   0.0460
Level     0,  Iter    32:    Energy =   0.0462
Level     0,  Iter    33:    Energy =   0.0463
Level     0,  Iter    34:    Energy =   0.0465
Level     0,  Iter    35:    Energy =   0.0464
Level     0,  Iter    36:    Energy =   0.0466
Level     0,  Iter    37:    Energy =   0.0468
Level     0,  Iter    38:    Energy =   0.0470
Level     0,  Iter    39:    Energy =   0.0471
Level     0,  Iter    40:    Energy =   0.0472
Level     0,  Iter    41:    Energy =   0.0473
Level     0,  Iter    42:    Energy =   0.0474
Level     0,  Iter    43:    Energy =   0.0475
Level     0,  Iter    44:    Energy =   0.0476
Level     0,  Iter    45:    Energy =   0.0477
Level     0,  Iter    46:    Energy =   0.0477
Level     0,  Iter    47:    Energy =   0.0478
Level     0,  Iter    48:    Energy =   0.0478
Level     0,  Iter    49:    Energy =   0.0479
Level     0,  Iter    50:    Energy =   0.0480
Level     0,  Iter    51:    Energy =   0.0480
Level     0,  Iter    52:    Energy =   0.0481
Level     0,  Iter    53:    Energy =   0.0481
Level     0,  Iter    54:    Energy =   0.0482
Level     0,  Iter    55:    Energy =   0.0482
Level     0,  Iter    56:    Energy =   0.0483
Level     0,  Iter    57:    Energy =   0.0483
Level     0,  Iter    58:    Energy =   0.0483
Level     0,  Iter    59:    Energy =   0.0484
END OF LEVEL     0    DetJac Range:   0.1473  to   2.3640 
  Avg. Gradient Time  : 0.0067s  32.48% 
  Avg. Gaussian Time  : 0.0101s  48.84% 
  Avg. Iteration Time : 0.0207s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0280
Level     1,  Iter     1:    Energy =   0.0294
Level     1,  Iter     2:    Energy =   0.0305
Level     1,  Iter     3:    Energy =   0.0313
Level     1,  Iter     4:    Energy =   0.0319
Level     1,  Iter     5:    Energy =   0.0324
Level     1,  Iter     6:    Energy =   0.0329
Level     1,  Iter     7:    Energy =   0.0334
Level     1,  Iter     8:    Energy =   0.0338
Level     1,  Iter     9:    Energy =   0.0345
Level     1,  Iter    10:    Energy =   0.0348
Level     1,  Iter    11:    Energy =   0.0353
Level     1,  Iter    12:    Energy =   0.0357
Level     1,  Iter    13:    Energy =   0.0360
Level     1,  Iter    14:    Energy =   0.0363
Level     1,  Iter    15:    Energy =   0.0367
Level     1,  Iter    16:    Energy =   0.0372
Level     1,  Iter    17:    Energy =   0.0375
Level     1,  Iter    18:    Energy =   0.0377
Level     1,  Iter    19:    Energy =   0.0379
Level     1,  Iter    20:    Energy =   0.0381
Level     1,  Iter    21:    Energy =   0.0381
Level     1,  Iter    22:    Energy =   0.0381
Level     1,  Iter    23:    Energy =   0.0382
Level     1,  Iter    24:    Energy =   0.0383
Level     1,  Iter    25:    Energy =   0.0384
Level     1,  Iter    26:    Energy =   0.0384
Level     1,  Iter    27:    Energy =   0.0384
Level     1,  Iter    28:    Energy =   0.0385
Level     1,  Iter    29:    Energy =   0.0386
Level     1,  Iter    30:    Energy =   0.0387
Level     1,  Iter    31:    Energy =   0.0387
Level     1,  Iter    32:    Energy =   0.0388
Level     1,  Iter    33:    Energy =   0.0389
Level     1,  Iter    34:    Energy =   0.0390
Level     1,  Iter    35:    Energy =   0.0391
Level     1,  Iter    36:    Energy =   0.0391
Level     1,  Iter    37:    Energy =   0.0391
Level     1,  Iter    38:    Energy =   0.0392
Level     1,  Iter    39:    Energy =   0.0392
Level     1,  Iter    40:    Energy =   0.0392
Level     1,  Iter    41:    Energy =   0.0392
Level     1,  Iter    42:    Energy =   0.0392
Level     1,  Iter    43:    Energy =   0.0393
Level     1,  Iter    44:    Energy =   0.0393
Level     1,  Iter    45:    Energy =   0.0394
Level     1,  Iter    46:    Energy =   0.0395
Level     1,  Iter    47:    Energy =   0.0396
Level     1,  Iter    48:    Energy =   0.0397
Level     1,  Iter    49:    Energy =   0.0398
Level     1,  Iter    50:    Energy =   0.0399
Level     1,  Iter    51:    Energy =   0.0400
Level     1,  Iter    52:    Energy =   0.0401
Level     1,  Iter    53:    Energy =   0.0402
Level     1,  Iter    54:    Energy =   0.0402
Level     1,  Iter    55:    Energy =   0.0403
Level     1,  Iter    56:    Energy =   0.0403
Level     1,  Iter    57:    Energy =   0.0404
Level     1,  Iter    58:    Energy =   0.0405
Level     1,  Iter    59:    Energy =   0.0405
END OF LEVEL     1    DetJac Range:   0.0564  to   3.5674 
  Avg. Gradient Time  : 0.0287s  33.68% 
  Avg. Gaussian Time  : 0.0445s  52.32% 
  Avg. Iteration Time : 0.0851s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0181
Level     2,  Iter     1:    Energy =   0.0188
Level     2,  Iter     2:    Energy =   0.0195
Level     2,  Iter     3:    Energy =   0.0201
Level     2,  Iter     4:    Energy =   0.0209
Level     2,  Iter     5:    Energy =   0.0214
Level     2,  Iter     6:    Energy =   0.0217
Level     2,  Iter     7:    Energy =   0.0219
Level     2,  Iter     8:    Energy =   0.0220
Level     2,  Iter     9:    Energy =   0.0222
Level     2,  Iter    10:    Energy =   0.0222
Level     2,  Iter    11:    Energy =   0.0223
Level     2,  Iter    12:    Energy =   0.0224
Level     2,  Iter    13:    Energy =   0.0226
Level     2,  Iter    14:    Energy =   0.0227
Level     2,  Iter    15:    Energy =   0.0229
Level     2,  Iter    16:    Energy =   0.0231
Level     2,  Iter    17:    Energy =   0.0232
Level     2,  Iter    18:    Energy =   0.0233
Level     2,  Iter    19:    Energy =   0.0234
END OF LEVEL     2    DetJac Range:   0.0412  to   4.0590 
  Avg. Gradient Time  : 0.1725s  31.58% 
  Avg. Gaussian Time  : 0.2993s  54.79% 
  Avg. Iteration Time : 0.5463s 

real	0m19.990s
user	0m34.484s
sys	0m2.348s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train023/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train023/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train023/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=23 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=23 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.298571 0.302857
+ echo 'CHUNK 0.298571 0.302857 1'
CHUNK 0.298571 0.302857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.298571 0.302857 1
====================================
         PROGRESS: 0.298571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=024
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 024
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train024
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train024
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left 024 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train024 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=left
+ local tid=024
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train024
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 024 left 0
+ local tid=024
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 024 0
+ set -e
+ local tid=024
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train024/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.641
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 569.121   GNORM= 117.702
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3       205.383     128.701       0.042
   2    5        26.311       9.416       5.000
   3    6         0.742       0.184       1.000
   4    9         0.166       0.023      21.000
   5   10         0.026       0.000       1.000
 THE MINIMIZATION TERMINATED WITHOUT DETECTING ERRORS.
Final RAS Transform: 
1.02873 -0.127144 0.181282 -2.47186 
-0.638958 1.71862 -1.01147 31.4976 
-0.210389 -0.349701 0.410916 -5.58825 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -0.0019248   GNORM= 0
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
  THE SEARCH DIRECTION IS NOT A DESCENT DIRECTION
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 0 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.02873 -0.127144 0.181282 -2.47186 
-0.638958 1.71862 -1.01147 31.4976 
-0.210389 -0.349701 0.410916 -5.58825 
0 0 0 1 

Final RAS Transform: 
1.02873 -0.127144 0.181282 -2.47186 
-0.638958 1.71862 -1.01147 31.4976 
-0.210389 -0.349701 0.410916 -5.58825 
0 0 0 1 


real	0m1.856s
user	0m2.368s
sys	0m0.304s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train024/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.175922
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0001
Level     0,  Iter     1:    Energy =   0.0002
Level     0,  Iter     2:    Energy =   0.0006
Level     0,  Iter     3:    Energy =   0.0010
Level     0,  Iter     4:    Energy =   0.0013
Level     0,  Iter     5:    Energy =   0.0017
Level     0,  Iter     6:    Energy =   0.0021
Level     0,  Iter     7:    Energy =   0.0026
Level     0,  Iter     8:    Energy =   0.0031
Level     0,  Iter     9:    Energy =   0.0034
Level     0,  Iter    10:    Energy =   0.0039
Level     0,  Iter    11:    Energy =   0.0044
Level     0,  Iter    12:    Energy =   0.0048
Level     0,  Iter    13:    Energy =   0.0051
Level     0,  Iter    14:    Energy =   0.0053
Level     0,  Iter    15:    Energy =   0.0054
Level     0,  Iter    16:    Energy =   0.0056
Level     0,  Iter    17:    Energy =   0.0057
Level     0,  Iter    18:    Energy =   0.0057
Level     0,  Iter    19:    Energy =   0.0059
Level     0,  Iter    20:    Energy =   0.0059
Level     0,  Iter    21:    Energy =   0.0061
Level     0,  Iter    22:    Energy =   0.0061
Level     0,  Iter    23:    Energy =   0.0063
Level     0,  Iter    24:    Energy =   0.0063
Level     0,  Iter    25:    Energy =   0.0065
Level     0,  Iter    26:    Energy =   0.0066
Level     0,  Iter    27:    Energy =   0.0066
Level     0,  Iter    28:    Energy =   0.0068
Level     0,  Iter    29:    Energy =   0.0068
Level     0,  Iter    30:    Energy =   0.0069
Level     0,  Iter    31:    Energy =   0.0070
Level     0,  Iter    32:    Energy =   0.0071
Level     0,  Iter    33:    Energy =   0.0072
Level     0,  Iter    34:    Energy =   0.0072
Level     0,  Iter    35:    Energy =   0.0073
Level     0,  Iter    36:    Energy =   0.0074
Level     0,  Iter    37:    Energy =   0.0074
Level     0,  Iter    38:    Energy =   0.0073
Level     0,  Iter    39:    Energy =   0.0073
Level     0,  Iter    40:    Energy =   0.0073
Level     0,  Iter    41:    Energy =   0.0073
Level     0,  Iter    42:    Energy =   0.0073
Level     0,  Iter    43:    Energy =   0.0073
Level     0,  Iter    44:    Energy =   0.0073
Level     0,  Iter    45:    Energy =   0.0074
Level     0,  Iter    46:    Energy =   0.0074
Level     0,  Iter    47:    Energy =   0.0074
Level     0,  Iter    48:    Energy =   0.0075
Level     0,  Iter    49:    Energy =   0.0075
Level     0,  Iter    50:    Energy =   0.0076
Level     0,  Iter    51:    Energy =   0.0075
Level     0,  Iter    52:    Energy =   0.0076
Level     0,  Iter    53:    Energy =   0.0076
Level     0,  Iter    54:    Energy =   0.0077
Level     0,  Iter    55:    Energy =   0.0076
Level     0,  Iter    56:    Energy =   0.0076
Level     0,  Iter    57:    Energy =   0.0076
Level     0,  Iter    58:    Energy =   0.0076
Level     0,  Iter    59:    Energy =   0.0076
END OF LEVEL     0    DetJac Range:   0.0309  to   1.8284 
  Avg. Gradient Time  : 0.0069s  32.51% 
  Avg. Gaussian Time  : 0.0102s  48.47% 
  Avg. Iteration Time : 0.0211s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0001
Level     1,  Iter     1:    Energy =   0.0008
Level     1,  Iter     2:    Energy =   0.0012
Level     1,  Iter     3:    Energy =   0.0017
Level     1,  Iter     4:    Energy =   0.0022
Level     1,  Iter     5:    Energy =   0.0025
Level     1,  Iter     6:    Energy =   0.0027
Level     1,  Iter     7:    Energy =   0.0029
Level     1,  Iter     8:    Energy =   0.0032
Level     1,  Iter     9:    Energy =   0.0035
Level     1,  Iter    10:    Energy =   0.0036
Level     1,  Iter    11:    Energy =   0.0037
Level     1,  Iter    12:    Energy =   0.0038
Level     1,  Iter    13:    Energy =   0.0039
Level     1,  Iter    14:    Energy =   0.0041
Level     1,  Iter    15:    Energy =   0.0042
Level     1,  Iter    16:    Energy =   0.0045
Level     1,  Iter    17:    Energy =   0.0046
Level     1,  Iter    18:    Energy =   0.0047
Level     1,  Iter    19:    Energy =   0.0047
Level     1,  Iter    20:    Energy =   0.0049
Level     1,  Iter    21:    Energy =   0.0049
Level     1,  Iter    22:    Energy =   0.0050
Level     1,  Iter    23:    Energy =   0.0050
Level     1,  Iter    24:    Energy =   0.0051
Level     1,  Iter    25:    Energy =   0.0051
Level     1,  Iter    26:    Energy =   0.0052
Level     1,  Iter    27:    Energy =   0.0052
Level     1,  Iter    28:    Energy =   0.0053
Level     1,  Iter    29:    Energy =   0.0052
Level     1,  Iter    30:    Energy =   0.0053
Level     1,  Iter    31:    Energy =   0.0053
Level     1,  Iter    32:    Energy =   0.0054
Level     1,  Iter    33:    Energy =   0.0054
Level     1,  Iter    34:    Energy =   0.0055
Level     1,  Iter    35:    Energy =   0.0055
Level     1,  Iter    36:    Energy =   0.0055
Level     1,  Iter    37:    Energy =   0.0055
Level     1,  Iter    38:    Energy =   0.0056
Level     1,  Iter    39:    Energy =   0.0056
Level     1,  Iter    40:    Energy =   0.0056
Level     1,  Iter    41:    Energy =   0.0056
Level     1,  Iter    42:    Energy =   0.0057
Level     1,  Iter    43:    Energy =   0.0057
Level     1,  Iter    44:    Energy =   0.0058
Level     1,  Iter    45:    Energy =   0.0058
Level     1,  Iter    46:    Energy =   0.0058
Level     1,  Iter    47:    Energy =   0.0058
Level     1,  Iter    48:    Energy =   0.0059
Level     1,  Iter    49:    Energy =   0.0059
Level     1,  Iter    50:    Energy =   0.0060
Level     1,  Iter    51:    Energy =   0.0059
Level     1,  Iter    52:    Energy =   0.0060
Level     1,  Iter    53:    Energy =   0.0060
Level     1,  Iter    54:    Energy =   0.0061
Level     1,  Iter    55:    Energy =   0.0061
Level     1,  Iter    56:    Energy =   0.0062
Level     1,  Iter    57:    Energy =   0.0062
Level     1,  Iter    58:    Energy =   0.0062
Level     1,  Iter    59:    Energy =   0.0062
END OF LEVEL     1    DetJac Range:   0.0285  to   2.0751 
  Avg. Gradient Time  : 0.0275s  33.27% 
  Avg. Gaussian Time  : 0.0437s  52.75% 
  Avg. Iteration Time : 0.0828s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0001
Level     2,  Iter     1:    Energy =   0.0005
Level     2,  Iter     2:    Energy =   0.0008
Level     2,  Iter     3:    Energy =   0.0010
Level     2,  Iter     4:    Energy =   0.0012
Level     2,  Iter     5:    Energy =   0.0014
Level     2,  Iter     6:    Energy =   0.0015
Level     2,  Iter     7:    Energy =   0.0017
Level     2,  Iter     8:    Energy =   0.0020
Level     2,  Iter     9:    Energy =   0.0021
Level     2,  Iter    10:    Energy =   0.0024
Level     2,  Iter    11:    Energy =   0.0025
Level     2,  Iter    12:    Energy =   0.0027
Level     2,  Iter    13:    Energy =   0.0029
Level     2,  Iter    14:    Energy =   0.0030
Level     2,  Iter    15:    Energy =   0.0031
Level     2,  Iter    16:    Energy =   0.0032
Level     2,  Iter    17:    Energy =   0.0033
Level     2,  Iter    18:    Energy =   0.0034
Level     2,  Iter    19:    Energy =   0.0036
END OF LEVEL     2    DetJac Range:   0.0184  to   2.1979 
  Avg. Gradient Time  : 0.1772s  31.73% 
  Avg. Gaussian Time  : 0.3054s  54.67% 
  Avg. Iteration Time : 0.5586s 

real	0m20.005s
user	0m34.488s
sys	0m2.432s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train024/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train024/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train024/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=24 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=24 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.302857 0.307143
+ echo 'CHUNK 0.302857 0.307143 1'
CHUNK 0.302857 0.307143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.302857 0.307143 1
====================================
         PROGRESS: 0.302857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=025
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 025
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train025
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train025
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left 025 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train025 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=left
+ local tid=025
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train025
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 025 left 0
+ local tid=025
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 025 0
+ set -e
+ local tid=025
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train025/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.64
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 522.511   GNORM= 173.993
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       357.486     193.344       0.006
   2    4        -0.001       0.000       5.000
 THE MINIMIZATION TERMINATED WITHOUT DETECTING ERRORS.
Final RAS Transform: 
1.08397 -0.0611598 0.121094 -2.80034 
-0.158015 1.21613 -0.282091 7.8154 
-0.143813 0.0899962 0.591787 2.72752 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -358.143   GNORM= 70.1829
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -392.199      45.604       0.014
   2    3      -413.189      43.604       1.000
   3    4      -418.587      43.457       1.000
   4    6      -424.202      29.399       0.412
   5    7      -425.890      26.392       1.000
   6    8      -427.481      17.204       1.000
   7   10      -427.640      15.657       0.090
   8   12      -432.178      25.401       5.000
   9   14      -450.129      45.157       5.000
  10   17      -466.110      43.077       2.105
  11   18      -485.612      38.851       1.000
  12   19      -514.671       9.086       1.000
  13   23      -530.699      21.910       1.420
  14   24      -533.781      21.841       1.000
  15   27      -535.965      12.619       1.520
  16   28      -538.176      26.228       1.000
  17   31      -539.400      27.839       2.249
  18   32      -543.168      20.378       1.000
  19   33      -549.783      16.342       1.000
  20   34      -559.818      21.693       1.000
  21   37      -567.169      40.911       0.471
  22   39      -570.508      34.198       0.342
  23   40      -587.574      33.558       1.000
  24   42      -594.698      20.027       0.065
  25   44      -601.684      18.688       0.389
  26   45      -604.479      12.884       1.000
  27   46      -605.630      13.550       1.000
  28   52      -607.729      16.740       5.293
  29   53      -611.091      35.898       1.000
  30   54      -625.007      27.532       1.000
  31   58      -625.019      27.895       0.009
Final RAS Transform: 
1.36233 -0.238811 0.0370302 6.20531 
-0.12194 0.910232 -0.443388 13.9652 
-0.280716 -0.087811 0.244956 -5.32715 
0 0 0 1 

Final RAS Transform: 
1.36233 -0.238811 0.0370302 6.20531 
-0.12194 0.910232 -0.443388 13.9652 
-0.280716 -0.087811 0.244956 -5.32715 
0 0 0 1 


real	0m5.143s
user	0m8.640s
sys	0m0.448s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train025/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.468791
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0319
Level     0,  Iter     1:    Energy =   0.0335
Level     0,  Iter     2:    Energy =   0.0369
Level     0,  Iter     3:    Energy =   0.0395
Level     0,  Iter     4:    Energy =   0.0420
Level     0,  Iter     5:    Energy =   0.0439
Level     0,  Iter     6:    Energy =   0.0454
Level     0,  Iter     7:    Energy =   0.0468
Level     0,  Iter     8:    Energy =   0.0481
Level     0,  Iter     9:    Energy =   0.0494
Level     0,  Iter    10:    Energy =   0.0504
Level     0,  Iter    11:    Energy =   0.0513
Level     0,  Iter    12:    Energy =   0.0519
Level     0,  Iter    13:    Energy =   0.0525
Level     0,  Iter    14:    Energy =   0.0529
Level     0,  Iter    15:    Energy =   0.0532
Level     0,  Iter    16:    Energy =   0.0534
Level     0,  Iter    17:    Energy =   0.0537
Level     0,  Iter    18:    Energy =   0.0539
Level     0,  Iter    19:    Energy =   0.0543
Level     0,  Iter    20:    Energy =   0.0544
Level     0,  Iter    21:    Energy =   0.0548
Level     0,  Iter    22:    Energy =   0.0548
Level     0,  Iter    23:    Energy =   0.0550
Level     0,  Iter    24:    Energy =   0.0550
Level     0,  Iter    25:    Energy =   0.0551
Level     0,  Iter    26:    Energy =   0.0552
Level     0,  Iter    27:    Energy =   0.0553
Level     0,  Iter    28:    Energy =   0.0553
Level     0,  Iter    29:    Energy =   0.0554
Level     0,  Iter    30:    Energy =   0.0554
Level     0,  Iter    31:    Energy =   0.0555
Level     0,  Iter    32:    Energy =   0.0555
Level     0,  Iter    33:    Energy =   0.0556
Level     0,  Iter    34:    Energy =   0.0556
Level     0,  Iter    35:    Energy =   0.0557
Level     0,  Iter    36:    Energy =   0.0557
Level     0,  Iter    37:    Energy =   0.0557
Level     0,  Iter    38:    Energy =   0.0558
Level     0,  Iter    39:    Energy =   0.0558
Level     0,  Iter    40:    Energy =   0.0559
Level     0,  Iter    41:    Energy =   0.0559
Level     0,  Iter    42:    Energy =   0.0560
Level     0,  Iter    43:    Energy =   0.0560
Level     0,  Iter    44:    Energy =   0.0561
Level     0,  Iter    45:    Energy =   0.0561
Level     0,  Iter    46:    Energy =   0.0561
Level     0,  Iter    47:    Energy =   0.0562
Level     0,  Iter    48:    Energy =   0.0563
Level     0,  Iter    49:    Energy =   0.0563
Level     0,  Iter    50:    Energy =   0.0563
Level     0,  Iter    51:    Energy =   0.0564
Level     0,  Iter    52:    Energy =   0.0564
Level     0,  Iter    53:    Energy =   0.0565
Level     0,  Iter    54:    Energy =   0.0566
Level     0,  Iter    55:    Energy =   0.0566
Level     0,  Iter    56:    Energy =   0.0566
Level     0,  Iter    57:    Energy =   0.0567
Level     0,  Iter    58:    Energy =   0.0567
Level     0,  Iter    59:    Energy =   0.0568
END OF LEVEL     0    DetJac Range:   0.2699  to   2.6216 
  Avg. Gradient Time  : 0.0066s  32.33% 
  Avg. Gaussian Time  : 0.0099s  48.32% 
  Avg. Iteration Time : 0.0205s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0302
Level     1,  Iter     1:    Energy =   0.0321
Level     1,  Iter     2:    Energy =   0.0335
Level     1,  Iter     3:    Energy =   0.0346
Level     1,  Iter     4:    Energy =   0.0356
Level     1,  Iter     5:    Energy =   0.0364
Level     1,  Iter     6:    Energy =   0.0371
Level     1,  Iter     7:    Energy =   0.0378
Level     1,  Iter     8:    Energy =   0.0383
Level     1,  Iter     9:    Energy =   0.0388
Level     1,  Iter    10:    Energy =   0.0392
Level     1,  Iter    11:    Energy =   0.0397
Level     1,  Iter    12:    Energy =   0.0401
Level     1,  Iter    13:    Energy =   0.0403
Level     1,  Iter    14:    Energy =   0.0405
Level     1,  Iter    15:    Energy =   0.0408
Level     1,  Iter    16:    Energy =   0.0410
Level     1,  Iter    17:    Energy =   0.0411
Level     1,  Iter    18:    Energy =   0.0413
Level     1,  Iter    19:    Energy =   0.0414
Level     1,  Iter    20:    Energy =   0.0415
Level     1,  Iter    21:    Energy =   0.0416
Level     1,  Iter    22:    Energy =   0.0417
Level     1,  Iter    23:    Energy =   0.0418
Level     1,  Iter    24:    Energy =   0.0418
Level     1,  Iter    25:    Energy =   0.0419
Level     1,  Iter    26:    Energy =   0.0419
Level     1,  Iter    27:    Energy =   0.0420
Level     1,  Iter    28:    Energy =   0.0420
Level     1,  Iter    29:    Energy =   0.0420
Level     1,  Iter    30:    Energy =   0.0421
Level     1,  Iter    31:    Energy =   0.0421
Level     1,  Iter    32:    Energy =   0.0422
Level     1,  Iter    33:    Energy =   0.0421
Level     1,  Iter    34:    Energy =   0.0422
Level     1,  Iter    35:    Energy =   0.0422
Level     1,  Iter    36:    Energy =   0.0422
Level     1,  Iter    37:    Energy =   0.0422
Level     1,  Iter    38:    Energy =   0.0422
Level     1,  Iter    39:    Energy =   0.0422
Level     1,  Iter    40:    Energy =   0.0422
Level     1,  Iter    41:    Energy =   0.0422
Level     1,  Iter    42:    Energy =   0.0422
Level     1,  Iter    43:    Energy =   0.0422
Level     1,  Iter    44:    Energy =   0.0422
Level     1,  Iter    45:    Energy =   0.0422
Level     1,  Iter    46:    Energy =   0.0422
Level     1,  Iter    47:    Energy =   0.0422
Level     1,  Iter    48:    Energy =   0.0422
Level     1,  Iter    49:    Energy =   0.0422
Level     1,  Iter    50:    Energy =   0.0422
Level     1,  Iter    51:    Energy =   0.0422
Level     1,  Iter    52:    Energy =   0.0422
Level     1,  Iter    53:    Energy =   0.0422
Level     1,  Iter    54:    Energy =   0.0422
Level     1,  Iter    55:    Energy =   0.0421
Level     1,  Iter    56:    Energy =   0.0421
Level     1,  Iter    57:    Energy =   0.0421
Level     1,  Iter    58:    Energy =   0.0421
Level     1,  Iter    59:    Energy =   0.0421
END OF LEVEL     1    DetJac Range:   0.1416  to   3.2492 
  Avg. Gradient Time  : 0.0284s  33.50% 
  Avg. Gaussian Time  : 0.0444s  52.44% 
  Avg. Iteration Time : 0.0847s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0164
Level     2,  Iter     1:    Energy =   0.0170
Level     2,  Iter     2:    Energy =   0.0176
Level     2,  Iter     3:    Energy =   0.0183
Level     2,  Iter     4:    Energy =   0.0187
Level     2,  Iter     5:    Energy =   0.0192
Level     2,  Iter     6:    Energy =   0.0194
Level     2,  Iter     7:    Energy =   0.0197
Level     2,  Iter     8:    Energy =   0.0200
Level     2,  Iter     9:    Energy =   0.0203
Level     2,  Iter    10:    Energy =   0.0204
Level     2,  Iter    11:    Energy =   0.0207
Level     2,  Iter    12:    Energy =   0.0209
Level     2,  Iter    13:    Energy =   0.0209
Level     2,  Iter    14:    Energy =   0.0211
Level     2,  Iter    15:    Energy =   0.0212
Level     2,  Iter    16:    Energy =   0.0211
Level     2,  Iter    17:    Energy =   0.0211
Level     2,  Iter    18:    Energy =   0.0212
Level     2,  Iter    19:    Energy =   0.0211
END OF LEVEL     2    DetJac Range:   0.0747  to   3.2682 
  Avg. Gradient Time  : 0.1738s  31.54% 
  Avg. Gaussian Time  : 0.3021s  54.81% 
  Avg. Iteration Time : 0.5511s 

real	0m20.038s
user	0m34.544s
sys	0m2.400s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train025/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train025/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train025/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=25 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=25 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.307143 0.311429
+ echo 'CHUNK 0.307143 0.311429 1'
CHUNK 0.307143 0.311429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.307143 0.311429 1
====================================
         PROGRESS: 0.307143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=026
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 026
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train026
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train026
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left 026 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train026 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=left
+ local tid=026
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train026
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 026 left 0
+ local tid=026
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 026 0
+ set -e
+ local tid=026
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train026/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train026/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train026/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.503
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 385.512   GNORM= 126.212
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       274.671     103.894       0.008
   2    3       -64.556      83.771       1.000
   3    4      -226.788     111.121       1.000
   4    7      -629.864     301.026       2.062
   5   11      -637.373      91.231       0.011
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.971562 -0.027447 0.039112 0.0404508 
-0.203888 1.26913 -0.260801 7.57855 
0.158222 -0.224228 0.884805 -8.52652 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -257.55   GNORM= 151.632
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.971562 -0.027447 0.039112 0.0404508 
-0.203888 1.26913 -0.260801 7.57855 
0.158222 -0.224228 0.884805 -8.52652 
0 0 0 1 

Final RAS Transform: 
0.971562 -0.027447 0.039112 0.0404508 
-0.203888 1.26913 -0.260801 7.57855 
0.158222 -0.224228 0.884805 -8.52652 
0 0 0 1 


real	0m3.238s
user	0m4.888s
sys	0m0.448s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train026/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train026/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.388
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0133
Level     0,  Iter     1:    Energy =   0.0145
Level     0,  Iter     2:    Energy =   0.0157
Level     0,  Iter     3:    Energy =   0.0172
Level     0,  Iter     4:    Energy =   0.0184
Level     0,  Iter     5:    Energy =   0.0194
Level     0,  Iter     6:    Energy =   0.0202
Level     0,  Iter     7:    Energy =   0.0209
Level     0,  Iter     8:    Energy =   0.0214
Level     0,  Iter     9:    Energy =   0.0219
Level     0,  Iter    10:    Energy =   0.0225
Level     0,  Iter    11:    Energy =   0.0228
Level     0,  Iter    12:    Energy =   0.0230
Level     0,  Iter    13:    Energy =   0.0236
Level     0,  Iter    14:    Energy =   0.0241
Level     0,  Iter    15:    Energy =   0.0247
Level     0,  Iter    16:    Energy =   0.0252
Level     0,  Iter    17:    Energy =   0.0256
Level     0,  Iter    18:    Energy =   0.0258
Level     0,  Iter    19:    Energy =   0.0259
Level     0,  Iter    20:    Energy =   0.0260
Level     0,  Iter    21:    Energy =   0.0262
Level     0,  Iter    22:    Energy =   0.0264
Level     0,  Iter    23:    Energy =   0.0265
Level     0,  Iter    24:    Energy =   0.0266
Level     0,  Iter    25:    Energy =   0.0267
Level     0,  Iter    26:    Energy =   0.0268
Level     0,  Iter    27:    Energy =   0.0268
Level     0,  Iter    28:    Energy =   0.0269
Level     0,  Iter    29:    Energy =   0.0269
Level     0,  Iter    30:    Energy =   0.0269
Level     0,  Iter    31:    Energy =   0.0268
Level     0,  Iter    32:    Energy =   0.0268
Level     0,  Iter    33:    Energy =   0.0269
Level     0,  Iter    34:    Energy =   0.0270
Level     0,  Iter    35:    Energy =   0.0271
Level     0,  Iter    36:    Energy =   0.0272
Level     0,  Iter    37:    Energy =   0.0273
Level     0,  Iter    38:    Energy =   0.0274
Level     0,  Iter    39:    Energy =   0.0275
Level     0,  Iter    40:    Energy =   0.0276
Level     0,  Iter    41:    Energy =   0.0276
Level     0,  Iter    42:    Energy =   0.0276
Level     0,  Iter    43:    Energy =   0.0277
Level     0,  Iter    44:    Energy =   0.0277
Level     0,  Iter    45:    Energy =   0.0278
Level     0,  Iter    46:    Energy =   0.0278
Level     0,  Iter    47:    Energy =   0.0278
Level     0,  Iter    48:    Energy =   0.0278
Level     0,  Iter    49:    Energy =   0.0279
Level     0,  Iter    50:    Energy =   0.0278
Level     0,  Iter    51:    Energy =   0.0279
Level     0,  Iter    52:    Energy =   0.0278
Level     0,  Iter    53:    Energy =   0.0279
Level     0,  Iter    54:    Energy =   0.0278
Level     0,  Iter    55:    Energy =   0.0278
Level     0,  Iter    56:    Energy =   0.0278
Level     0,  Iter    57:    Energy =   0.0278
Level     0,  Iter    58:    Energy =   0.0278
Level     0,  Iter    59:    Energy =   0.0278
END OF LEVEL     0    DetJac Range:   0.0292  to   2.9617 
  Avg. Gradient Time  : 0.0066s  32.81% 
  Avg. Gaussian Time  : 0.0096s  47.93% 
  Avg. Iteration Time : 0.0200s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0127
Level     1,  Iter     1:    Energy =   0.0139
Level     1,  Iter     2:    Energy =   0.0152
Level     1,  Iter     3:    Energy =   0.0162
Level     1,  Iter     4:    Energy =   0.0171
Level     1,  Iter     5:    Energy =   0.0178
Level     1,  Iter     6:    Energy =   0.0184
Level     1,  Iter     7:    Energy =   0.0190
Level     1,  Iter     8:    Energy =   0.0194
Level     1,  Iter     9:    Energy =   0.0198
Level     1,  Iter    10:    Energy =   0.0200
Level     1,  Iter    11:    Energy =   0.0202
Level     1,  Iter    12:    Energy =   0.0204
Level     1,  Iter    13:    Energy =   0.0207
Level     1,  Iter    14:    Energy =   0.0211
Level     1,  Iter    15:    Energy =   0.0214
Level     1,  Iter    16:    Energy =   0.0218
Level     1,  Iter    17:    Energy =   0.0222
Level     1,  Iter    18:    Energy =   0.0225
Level     1,  Iter    19:    Energy =   0.0229
Level     1,  Iter    20:    Energy =   0.0232
Level     1,  Iter    21:    Energy =   0.0234
Level     1,  Iter    22:    Energy =   0.0235
Level     1,  Iter    23:    Energy =   0.0237
Level     1,  Iter    24:    Energy =   0.0239
Level     1,  Iter    25:    Energy =   0.0240
Level     1,  Iter    26:    Energy =   0.0241
Level     1,  Iter    27:    Energy =   0.0242
Level     1,  Iter    28:    Energy =   0.0243
Level     1,  Iter    29:    Energy =   0.0244
Level     1,  Iter    30:    Energy =   0.0244
Level     1,  Iter    31:    Energy =   0.0245
Level     1,  Iter    32:    Energy =   0.0245
Level     1,  Iter    33:    Energy =   0.0246
Level     1,  Iter    34:    Energy =   0.0246
Level     1,  Iter    35:    Energy =   0.0246
Level     1,  Iter    36:    Energy =   0.0246
Level     1,  Iter    37:    Energy =   0.0246
Level     1,  Iter    38:    Energy =   0.0246
Level     1,  Iter    39:    Energy =   0.0246
Level     1,  Iter    40:    Energy =   0.0246
Level     1,  Iter    41:    Energy =   0.0247
Level     1,  Iter    42:    Energy =   0.0247
Level     1,  Iter    43:    Energy =   0.0247
Level     1,  Iter    44:    Energy =   0.0247
Level     1,  Iter    45:    Energy =   0.0248
Level     1,  Iter    46:    Energy =   0.0248
Level     1,  Iter    47:    Energy =   0.0248
Level     1,  Iter    48:    Energy =   0.0248
Level     1,  Iter    49:    Energy =   0.0249
Level     1,  Iter    50:    Energy =   0.0249
Level     1,  Iter    51:    Energy =   0.0249
Level     1,  Iter    52:    Energy =   0.0249
Level     1,  Iter    53:    Energy =   0.0250
Level     1,  Iter    54:    Energy =   0.0249
Level     1,  Iter    55:    Energy =   0.0250
Level     1,  Iter    56:    Energy =   0.0250
Level     1,  Iter    57:    Energy =   0.0250
Level     1,  Iter    58:    Energy =   0.0250
Level     1,  Iter    59:    Energy =   0.0250
END OF LEVEL     1    DetJac Range:   0.0320  to   4.8019 
  Avg. Gradient Time  : 0.0274s  33.20% 
  Avg. Gaussian Time  : 0.0435s  52.83% 
  Avg. Iteration Time : 0.0824s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0109
Level     2,  Iter     1:    Energy =   0.0116
Level     2,  Iter     2:    Energy =   0.0121
Level     2,  Iter     3:    Energy =   0.0126
Level     2,  Iter     4:    Energy =   0.0130
Level     2,  Iter     5:    Energy =   0.0134
Level     2,  Iter     6:    Energy =   0.0138
Level     2,  Iter     7:    Energy =   0.0140
Level     2,  Iter     8:    Energy =   0.0143
Level     2,  Iter     9:    Energy =   0.0145
Level     2,  Iter    10:    Energy =   0.0147
Level     2,  Iter    11:    Energy =   0.0149
Level     2,  Iter    12:    Energy =   0.0152
Level     2,  Iter    13:    Energy =   0.0154
Level     2,  Iter    14:    Energy =   0.0157
Level     2,  Iter    15:    Energy =   0.0159
Level     2,  Iter    16:    Energy =   0.0161
Level     2,  Iter    17:    Energy =   0.0162
Level     2,  Iter    18:    Energy =   0.0164
Level     2,  Iter    19:    Energy =   0.0165
END OF LEVEL     2    DetJac Range:   0.0230  to   4.9617 
  Avg. Gradient Time  : 0.1777s  31.62% 
  Avg. Gaussian Time  : 0.3080s  54.80% 
  Avg. Iteration Time : 0.5620s 

real	0m20.071s
user	0m34.736s
sys	0m2.328s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train026/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train026/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train026/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train026/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train026/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train026/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=26 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=26 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.311429 0.315714
+ echo 'CHUNK 0.311429 0.315714 1'
CHUNK 0.311429 0.315714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.311429 0.315714 1
====================================
         PROGRESS: 0.311429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=027
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 027
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train027
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train027
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left 027 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train027 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=left
+ local tid=027
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train027
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 027 left 0
+ local tid=027
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 027 0
+ set -e
+ local tid=027
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train027/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train027/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train027/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.528
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 505.233   GNORM= 117.153
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3       238.056     151.368       0.043
   2    4     -1005.091     123.322       1.000
   3    7     -1024.239      48.063       0.036
   4    9     -1026.373      48.410       0.053
   5   11     -1067.813      61.583       5.000
   6   12     -1111.606      77.306       1.000
   7   16     -1210.253     100.273       1.079
   8   18     -1259.881     132.327       0.126
   9   19     -1324.974      67.573       1.000
  10   20     -1333.663      91.338       1.000
  11   21     -1351.880      64.351       1.000
  12   23     -1362.738      33.965       0.223
  13   24     -1373.428      74.424       1.000
  14   29     -1382.554     118.861       1.066
  15   30     -1388.930      60.906       1.000
  16   32     -1405.294      35.654       0.484
  17   33     -1406.727      49.742       1.000
  18   34     -1413.067      33.772       1.000
  19   35     -1420.783      71.987       1.000
  20   36     -1432.510      55.605       1.000
  21   37     -1457.065      57.823       1.000
  22   38     -1482.845      26.995       1.000
  23   39     -1502.690      50.364       1.000
  24   41     -1512.816      55.861       0.389
  25   43     -1512.942      45.663       0.005
  26   46     -1513.141      47.252       0.106
  27   50     -1524.119      51.318       1.302
  28   52     -1538.753      38.880       0.473
  29   54     -1539.557      37.866       0.228
  30   55     -1542.100      31.426       1.000
  31   57     -1543.697      39.624       0.179
  32   58     -1548.808      30.354       1.000
  33   59     -1556.702      37.060       1.000
  34   60     -1564.877      40.993       1.000
Final RAS Transform: 
1.32233 -0.350715 -0.0615155 5.30928 
-0.467517 0.908055 -0.385688 11.0793 
-0.0171804 -0.0173879 0.28442 -2.20763 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -735.573   GNORM= 16.9956
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    5      -740.926      26.583       0.017
   2   11      -741.040      25.411       0.001
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.32127 -0.350219 -0.0614907 5.41295 
-0.466651 0.908796 -0.382437 10.9093 
-0.0168742 -0.0167452 0.283756 -2.20623 
0 0 0 1 

Final RAS Transform: 
1.32127 -0.350219 -0.0614907 5.41295 
-0.466651 0.908796 -0.382437 10.9093 
-0.0168742 -0.0167452 0.283756 -2.20623 
0 0 0 1 


real	0m4.113s
user	0m6.372s
sys	0m0.612s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train027/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train027/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.368367
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0410
Level     0,  Iter     1:    Energy =   0.0433
Level     0,  Iter     2:    Energy =   0.0466
Level     0,  Iter     3:    Energy =   0.0491
Level     0,  Iter     4:    Energy =   0.0511
Level     0,  Iter     5:    Energy =   0.0528
Level     0,  Iter     6:    Energy =   0.0542
Level     0,  Iter     7:    Energy =   0.0554
Level     0,  Iter     8:    Energy =   0.0565
Level     0,  Iter     9:    Energy =   0.0575
Level     0,  Iter    10:    Energy =   0.0585
Level     0,  Iter    11:    Energy =   0.0594
Level     0,  Iter    12:    Energy =   0.0603
Level     0,  Iter    13:    Energy =   0.0611
Level     0,  Iter    14:    Energy =   0.0617
Level     0,  Iter    15:    Energy =   0.0624
Level     0,  Iter    16:    Energy =   0.0629
Level     0,  Iter    17:    Energy =   0.0637
Level     0,  Iter    18:    Energy =   0.0639
Level     0,  Iter    19:    Energy =   0.0646
Level     0,  Iter    20:    Energy =   0.0645
Level     0,  Iter    21:    Energy =   0.0651
Level     0,  Iter    22:    Energy =   0.0649
Level     0,  Iter    23:    Energy =   0.0655
Level     0,  Iter    24:    Energy =   0.0651
Level     0,  Iter    25:    Energy =   0.0657
Level     0,  Iter    26:    Energy =   0.0653
Level     0,  Iter    27:    Energy =   0.0660
Level     0,  Iter    28:    Energy =   0.0655
Level     0,  Iter    29:    Energy =   0.0662
Level     0,  Iter    30:    Energy =   0.0657
Level     0,  Iter    31:    Energy =   0.0664
Level     0,  Iter    32:    Energy =   0.0658
Level     0,  Iter    33:    Energy =   0.0665
Level     0,  Iter    34:    Energy =   0.0660
Level     0,  Iter    35:    Energy =   0.0666
Level     0,  Iter    36:    Energy =   0.0661
Level     0,  Iter    37:    Energy =   0.0667
Level     0,  Iter    38:    Energy =   0.0661
Level     0,  Iter    39:    Energy =   0.0667
Level     0,  Iter    40:    Energy =   0.0663
Level     0,  Iter    41:    Energy =   0.0668
Level     0,  Iter    42:    Energy =   0.0665
Level     0,  Iter    43:    Energy =   0.0669
Level     0,  Iter    44:    Energy =   0.0666
Level     0,  Iter    45:    Energy =   0.0669
Level     0,  Iter    46:    Energy =   0.0667
Level     0,  Iter    47:    Energy =   0.0671
Level     0,  Iter    48:    Energy =   0.0668
Level     0,  Iter    49:    Energy =   0.0672
Level     0,  Iter    50:    Energy =   0.0669
Level     0,  Iter    51:    Energy =   0.0672
Level     0,  Iter    52:    Energy =   0.0670
Level     0,  Iter    53:    Energy =   0.0673
Level     0,  Iter    54:    Energy =   0.0670
Level     0,  Iter    55:    Energy =   0.0673
Level     0,  Iter    56:    Energy =   0.0670
Level     0,  Iter    57:    Energy =   0.0673
Level     0,  Iter    58:    Energy =   0.0670
Level     0,  Iter    59:    Energy =   0.0673
END OF LEVEL     0    DetJac Range:   0.1333  to   2.5926 
  Avg. Gradient Time  : 0.0071s  32.73% 
  Avg. Gaussian Time  : 0.0105s  48.53% 
  Avg. Iteration Time : 0.0217s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0356
Level     1,  Iter     1:    Energy =   0.0372
Level     1,  Iter     2:    Energy =   0.0383
Level     1,  Iter     3:    Energy =   0.0390
Level     1,  Iter     4:    Energy =   0.0398
Level     1,  Iter     5:    Energy =   0.0405
Level     1,  Iter     6:    Energy =   0.0410
Level     1,  Iter     7:    Energy =   0.0413
Level     1,  Iter     8:    Energy =   0.0416
Level     1,  Iter     9:    Energy =   0.0418
Level     1,  Iter    10:    Energy =   0.0420
Level     1,  Iter    11:    Energy =   0.0426
Level     1,  Iter    12:    Energy =   0.0431
Level     1,  Iter    13:    Energy =   0.0436
Level     1,  Iter    14:    Energy =   0.0439
Level     1,  Iter    15:    Energy =   0.0443
Level     1,  Iter    16:    Energy =   0.0446
Level     1,  Iter    17:    Energy =   0.0448
Level     1,  Iter    18:    Energy =   0.0450
Level     1,  Iter    19:    Energy =   0.0451
Level     1,  Iter    20:    Energy =   0.0453
Level     1,  Iter    21:    Energy =   0.0454
Level     1,  Iter    22:    Energy =   0.0456
Level     1,  Iter    23:    Energy =   0.0457
Level     1,  Iter    24:    Energy =   0.0458
Level     1,  Iter    25:    Energy =   0.0459
Level     1,  Iter    26:    Energy =   0.0460
Level     1,  Iter    27:    Energy =   0.0460
Level     1,  Iter    28:    Energy =   0.0462
Level     1,  Iter    29:    Energy =   0.0462
Level     1,  Iter    30:    Energy =   0.0463
Level     1,  Iter    31:    Energy =   0.0464
Level     1,  Iter    32:    Energy =   0.0464
Level     1,  Iter    33:    Energy =   0.0464
Level     1,  Iter    34:    Energy =   0.0465
Level     1,  Iter    35:    Energy =   0.0465
Level     1,  Iter    36:    Energy =   0.0465
Level     1,  Iter    37:    Energy =   0.0465
Level     1,  Iter    38:    Energy =   0.0465
Level     1,  Iter    39:    Energy =   0.0466
Level     1,  Iter    40:    Energy =   0.0466
Level     1,  Iter    41:    Energy =   0.0467
Level     1,  Iter    42:    Energy =   0.0467
Level     1,  Iter    43:    Energy =   0.0467
Level     1,  Iter    44:    Energy =   0.0468
Level     1,  Iter    45:    Energy =   0.0467
Level     1,  Iter    46:    Energy =   0.0468
Level     1,  Iter    47:    Energy =   0.0467
Level     1,  Iter    48:    Energy =   0.0468
Level     1,  Iter    49:    Energy =   0.0467
Level     1,  Iter    50:    Energy =   0.0467
Level     1,  Iter    51:    Energy =   0.0467
Level     1,  Iter    52:    Energy =   0.0467
Level     1,  Iter    53:    Energy =   0.0466
Level     1,  Iter    54:    Energy =   0.0467
Level     1,  Iter    55:    Energy =   0.0467
Level     1,  Iter    56:    Energy =   0.0467
Level     1,  Iter    57:    Energy =   0.0467
Level     1,  Iter    58:    Energy =   0.0468
Level     1,  Iter    59:    Energy =   0.0468
END OF LEVEL     1    DetJac Range:   0.0433  to   4.3644 
  Avg. Gradient Time  : 0.0292s  34.13% 
  Avg. Gaussian Time  : 0.0444s  52.01% 
  Avg. Iteration Time : 0.0854s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0171
Level     2,  Iter     1:    Energy =   0.0178
Level     2,  Iter     2:    Energy =   0.0185
Level     2,  Iter     3:    Energy =   0.0194
Level     2,  Iter     4:    Energy =   0.0198
Level     2,  Iter     5:    Energy =   0.0205
Level     2,  Iter     6:    Energy =   0.0210
Level     2,  Iter     7:    Energy =   0.0214
Level     2,  Iter     8:    Energy =   0.0219
Level     2,  Iter     9:    Energy =   0.0220
Level     2,  Iter    10:    Energy =   0.0222
Level     2,  Iter    11:    Energy =   0.0225
Level     2,  Iter    12:    Energy =   0.0228
Level     2,  Iter    13:    Energy =   0.0231
Level     2,  Iter    14:    Energy =   0.0234
Level     2,  Iter    15:    Energy =   0.0237
Level     2,  Iter    16:    Energy =   0.0239
Level     2,  Iter    17:    Energy =   0.0241
Level     2,  Iter    18:    Energy =   0.0242
Level     2,  Iter    19:    Energy =   0.0244
END OF LEVEL     2    DetJac Range:   0.0321  to   4.8134 
  Avg. Gradient Time  : 0.1726s  31.43% 
  Avg. Gaussian Time  : 0.3012s  54.85% 
  Avg. Iteration Time : 0.5490s 

real	0m20.135s
user	0m34.692s
sys	0m2.436s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train027/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train027/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train027/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train027/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train027/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train027/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=27 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=27 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.315714 0.32
+ echo 'CHUNK 0.315714 0.32 1'
CHUNK 0.315714 0.32 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.315714 0.32 1
====================================
         PROGRESS: 0.315714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=028
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 028
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train028
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train028
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left 028 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train028 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=left
+ local tid=028
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train028
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 028 left 0
+ local tid=028
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 028 0
+ set -e
+ local tid=028
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train028/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train028/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train028/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.576
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 621.046   GNORM= 97.619
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -364.047      84.569       0.215
   2    6      -371.459      36.546       0.309
   3   11      -397.536      75.907       2.269
   4   13      -508.386     133.844       0.219
   5   14      -681.657     100.162       1.000
   6   17      -708.096     217.177       0.025
   7   20      -712.461      58.832       0.053
   8   23      -747.495      91.939       3.187
   9   26      -827.986      45.288       2.580
  10   28      -838.103      58.345       0.372
  11   29      -839.329      41.708       1.000
  12   30      -847.094      41.375       1.000
  13   31      -857.095      57.639       1.000
  14   32      -873.474      51.501       1.000
  15   33     -1026.262      34.570       1.000
  16   38     -1149.346      86.672       0.198
  17   41     -1150.885      83.077       0.024
  18   42     -1184.952      47.299       1.000
  19   43     -1205.042      55.408       1.000
  20   45     -1219.637      58.691       0.206
  21   47     -1223.869      60.068       0.296
  22   48     -1252.128     139.683       1.000
  23   49     -1291.326      87.732       1.000
  24   50     -1329.125      39.708       1.000
  25   51     -1337.300      41.831       1.000
  26   52     -1360.905      64.369       1.000
  27   53     -1387.167      40.128       1.000
  28   54     -1399.400     829.421       1.000
  29   58     -1403.860      57.137       0.009
  30   59     -1403.933      49.552       1.000
  31   60     -1426.808      52.963       1.000
Final RAS Transform: 
0.832094 -0.412788 -0.0672844 1.29389 
-0.458959 1.08069 -0.277077 2.32233 
0.41063 -0.254813 0.390316 -5.69485 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -730.355   GNORM= 68.6224
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -747.949      56.498       0.015
   2    3      -755.351      22.653       1.000
   3    4      -758.348      13.319       1.000
   4   10      -760.688      18.490       0.979
   5   12      -761.261      14.231       0.381
   6   17      -765.613      21.153       1.157
   7   18      -770.120      22.065       1.000
   8   20      -774.209      42.106       0.324
   9   25      -781.462      54.895       0.965
  10   31      -781.486      75.589       0.002
  11   33      -782.002      77.184       0.138
  12   39      -782.066      49.467       0.003
  13   40      -782.740      89.466       1.000
  14   46      -791.198      37.844       1.085
  15   48      -791.397      33.528       0.515
Final RAS Transform: 
0.801468 -0.436748 -0.055625 0.435097 
-0.486976 1.07762 -0.273962 2.78419 
0.388029 -0.176672 0.409556 -7.52006 
0 0 0 1 

Final RAS Transform: 
0.801468 -0.436748 -0.055625 0.435097 
-0.486976 1.07762 -0.273962 2.78419 
0.388029 -0.176672 0.409556 -7.52006 
0 0 0 1 


real	0m5.933s
user	0m9.836s
sys	0m0.720s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train028/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train028/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.416165
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0351
Level     0,  Iter     1:    Energy =   0.0373
Level     0,  Iter     2:    Energy =   0.0397
Level     0,  Iter     3:    Energy =   0.0416
Level     0,  Iter     4:    Energy =   0.0429
Level     0,  Iter     5:    Energy =   0.0438
Level     0,  Iter     6:    Energy =   0.0448
Level     0,  Iter     7:    Energy =   0.0455
Level     0,  Iter     8:    Energy =   0.0464
Level     0,  Iter     9:    Energy =   0.0472
Level     0,  Iter    10:    Energy =   0.0480
Level     0,  Iter    11:    Energy =   0.0486
Level     0,  Iter    12:    Energy =   0.0492
Level     0,  Iter    13:    Energy =   0.0497
Level     0,  Iter    14:    Energy =   0.0503
Level     0,  Iter    15:    Energy =   0.0508
Level     0,  Iter    16:    Energy =   0.0514
Level     0,  Iter    17:    Energy =   0.0519
Level     0,  Iter    18:    Energy =   0.0524
Level     0,  Iter    19:    Energy =   0.0529
Level     0,  Iter    20:    Energy =   0.0535
Level     0,  Iter    21:    Energy =   0.0539
Level     0,  Iter    22:    Energy =   0.0544
Level     0,  Iter    23:    Energy =   0.0548
Level     0,  Iter    24:    Energy =   0.0552
Level     0,  Iter    25:    Energy =   0.0555
Level     0,  Iter    26:    Energy =   0.0558
Level     0,  Iter    27:    Energy =   0.0560
Level     0,  Iter    28:    Energy =   0.0563
Level     0,  Iter    29:    Energy =   0.0564
Level     0,  Iter    30:    Energy =   0.0566
Level     0,  Iter    31:    Energy =   0.0567
Level     0,  Iter    32:    Energy =   0.0568
Level     0,  Iter    33:    Energy =   0.0568
Level     0,  Iter    34:    Energy =   0.0570
Level     0,  Iter    35:    Energy =   0.0570
Level     0,  Iter    36:    Energy =   0.0572
Level     0,  Iter    37:    Energy =   0.0572
Level     0,  Iter    38:    Energy =   0.0574
Level     0,  Iter    39:    Energy =   0.0574
Level     0,  Iter    40:    Energy =   0.0576
Level     0,  Iter    41:    Energy =   0.0575
Level     0,  Iter    42:    Energy =   0.0577
Level     0,  Iter    43:    Energy =   0.0576
Level     0,  Iter    44:    Energy =   0.0577
Level     0,  Iter    45:    Energy =   0.0578
Level     0,  Iter    46:    Energy =   0.0579
Level     0,  Iter    47:    Energy =   0.0579
Level     0,  Iter    48:    Energy =   0.0581
Level     0,  Iter    49:    Energy =   0.0580
Level     0,  Iter    50:    Energy =   0.0581
Level     0,  Iter    51:    Energy =   0.0582
Level     0,  Iter    52:    Energy =   0.0582
Level     0,  Iter    53:    Energy =   0.0583
Level     0,  Iter    54:    Energy =   0.0583
Level     0,  Iter    55:    Energy =   0.0584
Level     0,  Iter    56:    Energy =   0.0583
Level     0,  Iter    57:    Energy =   0.0584
Level     0,  Iter    58:    Energy =   0.0584
Level     0,  Iter    59:    Energy =   0.0585
END OF LEVEL     0    DetJac Range:   0.0660  to   2.2259 
  Avg. Gradient Time  : 0.0071s  32.93% 
  Avg. Gaussian Time  : 0.0105s  48.52% 
  Avg. Iteration Time : 0.0217s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0320
Level     1,  Iter     1:    Energy =   0.0334
Level     1,  Iter     2:    Energy =   0.0346
Level     1,  Iter     3:    Energy =   0.0357
Level     1,  Iter     4:    Energy =   0.0367
Level     1,  Iter     5:    Energy =   0.0375
Level     1,  Iter     6:    Energy =   0.0384
Level     1,  Iter     7:    Energy =   0.0391
Level     1,  Iter     8:    Energy =   0.0399
Level     1,  Iter     9:    Energy =   0.0406
Level     1,  Iter    10:    Energy =   0.0411
Level     1,  Iter    11:    Energy =   0.0416
Level     1,  Iter    12:    Energy =   0.0420
Level     1,  Iter    13:    Energy =   0.0423
Level     1,  Iter    14:    Energy =   0.0425
Level     1,  Iter    15:    Energy =   0.0427
Level     1,  Iter    16:    Energy =   0.0428
Level     1,  Iter    17:    Energy =   0.0430
Level     1,  Iter    18:    Energy =   0.0431
Level     1,  Iter    19:    Energy =   0.0432
Level     1,  Iter    20:    Energy =   0.0433
Level     1,  Iter    21:    Energy =   0.0435
Level     1,  Iter    22:    Energy =   0.0436
Level     1,  Iter    23:    Energy =   0.0437
Level     1,  Iter    24:    Energy =   0.0438
Level     1,  Iter    25:    Energy =   0.0439
Level     1,  Iter    26:    Energy =   0.0440
Level     1,  Iter    27:    Energy =   0.0440
Level     1,  Iter    28:    Energy =   0.0441
Level     1,  Iter    29:    Energy =   0.0441
Level     1,  Iter    30:    Energy =   0.0442
Level     1,  Iter    31:    Energy =   0.0442
Level     1,  Iter    32:    Energy =   0.0442
Level     1,  Iter    33:    Energy =   0.0442
Level     1,  Iter    34:    Energy =   0.0443
Level     1,  Iter    35:    Energy =   0.0443
Level     1,  Iter    36:    Energy =   0.0443
Level     1,  Iter    37:    Energy =   0.0443
Level     1,  Iter    38:    Energy =   0.0443
Level     1,  Iter    39:    Energy =   0.0443
Level     1,  Iter    40:    Energy =   0.0444
Level     1,  Iter    41:    Energy =   0.0444
Level     1,  Iter    42:    Energy =   0.0444
Level     1,  Iter    43:    Energy =   0.0444
Level     1,  Iter    44:    Energy =   0.0445
Level     1,  Iter    45:    Energy =   0.0445
Level     1,  Iter    46:    Energy =   0.0446
Level     1,  Iter    47:    Energy =   0.0446
Level     1,  Iter    48:    Energy =   0.0446
Level     1,  Iter    49:    Energy =   0.0446
Level     1,  Iter    50:    Energy =   0.0447
Level     1,  Iter    51:    Energy =   0.0447
Level     1,  Iter    52:    Energy =   0.0447
Level     1,  Iter    53:    Energy =   0.0447
Level     1,  Iter    54:    Energy =   0.0447
Level     1,  Iter    55:    Energy =   0.0447
Level     1,  Iter    56:    Energy =   0.0447
Level     1,  Iter    57:    Energy =   0.0448
Level     1,  Iter    58:    Energy =   0.0448
Level     1,  Iter    59:    Energy =   0.0448
END OF LEVEL     1    DetJac Range:   0.0300  to   2.3222 
  Avg. Gradient Time  : 0.0279s  33.57% 
  Avg. Gaussian Time  : 0.0436s  52.49% 
  Avg. Iteration Time : 0.0831s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0202
Level     2,  Iter     1:    Energy =   0.0211
Level     2,  Iter     2:    Energy =   0.0219
Level     2,  Iter     3:    Energy =   0.0225
Level     2,  Iter     4:    Energy =   0.0232
Level     2,  Iter     5:    Energy =   0.0238
Level     2,  Iter     6:    Energy =   0.0243
Level     2,  Iter     7:    Energy =   0.0248
Level     2,  Iter     8:    Energy =   0.0252
Level     2,  Iter     9:    Energy =   0.0255
Level     2,  Iter    10:    Energy =   0.0258
Level     2,  Iter    11:    Energy =   0.0261
Level     2,  Iter    12:    Energy =   0.0263
Level     2,  Iter    13:    Energy =   0.0266
Level     2,  Iter    14:    Energy =   0.0268
Level     2,  Iter    15:    Energy =   0.0270
Level     2,  Iter    16:    Energy =   0.0271
Level     2,  Iter    17:    Energy =   0.0273
Level     2,  Iter    18:    Energy =   0.0274
Level     2,  Iter    19:    Energy =   0.0275
END OF LEVEL     2    DetJac Range:   0.0346  to   2.7860 
  Avg. Gradient Time  : 0.1766s  31.75% 
  Avg. Gaussian Time  : 0.3044s  54.72% 
  Avg. Iteration Time : 0.5562s 

real	0m20.115s
user	0m34.616s
sys	0m2.524s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train028/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train028/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train028/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train028/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train028/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train028/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=28 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=28 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.32 0.324286
+ echo 'CHUNK 0.32 0.324286 1'
CHUNK 0.32 0.324286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.32 0.324286 1
====================================
         PROGRESS: 0.32               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=029
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 029
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train029
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train029
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left 029 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train029 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=left
+ local tid=029
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train029
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 029 left 0
+ local tid=029
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 029 0
+ set -e
+ local tid=029
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train029/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train029/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train029/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.566
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 507.873   GNORM= 97.3336
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3       114.764      90.958       0.051
   2    5        -0.001       0.000       5.000
 THE MINIMIZATION TERMINATED WITHOUT DETECTING ERRORS.
Final RAS Transform: 
1.06846 0.050238 0.0482069 -0.82332 
-0.209821 1.32572 -0.359679 10.5684 
-0.0335942 -0.123587 0.819306 -2.86817 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -58.8734   GNORM= 119.357
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1   11       -59.507      44.653       0.001
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.06828 0.0501117 0.0482289 -0.82533 
-0.209721 1.32598 -0.360046 10.6049 
-0.0335903 -0.123859 0.819726 -2.90643 
0 0 0 1 

Final RAS Transform: 
1.06828 0.0501117 0.0482289 -0.82533 
-0.209721 1.32598 -0.360046 10.6049 
-0.0335903 -0.123859 0.819726 -2.90643 
0 0 0 1 


real	0m3.531s
user	0m5.584s
sys	0m0.396s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train029/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train029/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.375685
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0082
Level     0,  Iter     1:    Energy =   0.0097
Level     0,  Iter     2:    Energy =   0.0122
Level     0,  Iter     3:    Energy =   0.0139
Level     0,  Iter     4:    Energy =   0.0155
Level     0,  Iter     5:    Energy =   0.0170
Level     0,  Iter     6:    Energy =   0.0182
Level     0,  Iter     7:    Energy =   0.0194
Level     0,  Iter     8:    Energy =   0.0206
Level     0,  Iter     9:    Energy =   0.0218
Level     0,  Iter    10:    Energy =   0.0229
Level     0,  Iter    11:    Energy =   0.0239
Level     0,  Iter    12:    Energy =   0.0249
Level     0,  Iter    13:    Energy =   0.0249
Level     0,  Iter    14:    Energy =   0.0253
Level     0,  Iter    15:    Energy =   0.0262
Level     0,  Iter    16:    Energy =   0.0270
Level     0,  Iter    17:    Energy =   0.0280
Level     0,  Iter    18:    Energy =   0.0286
Level     0,  Iter    19:    Energy =   0.0296
Level     0,  Iter    20:    Energy =   0.0298
Level     0,  Iter    21:    Energy =   0.0307
Level     0,  Iter    22:    Energy =   0.0311
Level     0,  Iter    23:    Energy =   0.0319
Level     0,  Iter    24:    Energy =   0.0321
Level     0,  Iter    25:    Energy =   0.0329
Level     0,  Iter    26:    Energy =   0.0331
Level     0,  Iter    27:    Energy =   0.0338
Level     0,  Iter    28:    Energy =   0.0337
Level     0,  Iter    29:    Energy =   0.0344
Level     0,  Iter    30:    Energy =   0.0342
Level     0,  Iter    31:    Energy =   0.0350
Level     0,  Iter    32:    Energy =   0.0346
Level     0,  Iter    33:    Energy =   0.0353
Level     0,  Iter    34:    Energy =   0.0350
Level     0,  Iter    35:    Energy =   0.0358
Level     0,  Iter    36:    Energy =   0.0354
Level     0,  Iter    37:    Energy =   0.0361
Level     0,  Iter    38:    Energy =   0.0357
Level     0,  Iter    39:    Energy =   0.0365
Level     0,  Iter    40:    Energy =   0.0361
Level     0,  Iter    41:    Energy =   0.0367
Level     0,  Iter    42:    Energy =   0.0362
Level     0,  Iter    43:    Energy =   0.0369
Level     0,  Iter    44:    Energy =   0.0364
Level     0,  Iter    45:    Energy =   0.0371
Level     0,  Iter    46:    Energy =   0.0366
Level     0,  Iter    47:    Energy =   0.0372
Level     0,  Iter    48:    Energy =   0.0367
Level     0,  Iter    49:    Energy =   0.0373
Level     0,  Iter    50:    Energy =   0.0368
Level     0,  Iter    51:    Energy =   0.0375
Level     0,  Iter    52:    Energy =   0.0368
Level     0,  Iter    53:    Energy =   0.0375
Level     0,  Iter    54:    Energy =   0.0370
Level     0,  Iter    55:    Energy =   0.0378
Level     0,  Iter    56:    Energy =   0.0372
Level     0,  Iter    57:    Energy =   0.0379
Level     0,  Iter    58:    Energy =   0.0372
Level     0,  Iter    59:    Energy =   0.0379
END OF LEVEL     0    DetJac Range:   0.1161  to   1.9764 
  Avg. Gradient Time  : 0.0069s  32.69% 
  Avg. Gaussian Time  : 0.0102s  48.21% 
  Avg. Iteration Time : 0.0211s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0205
Level     1,  Iter     1:    Energy =   0.0215
Level     1,  Iter     2:    Energy =   0.0224
Level     1,  Iter     3:    Energy =   0.0234
Level     1,  Iter     4:    Energy =   0.0243
Level     1,  Iter     5:    Energy =   0.0253
Level     1,  Iter     6:    Energy =   0.0263
Level     1,  Iter     7:    Energy =   0.0267
Level     1,  Iter     8:    Energy =   0.0275
Level     1,  Iter     9:    Energy =   0.0281
Level     1,  Iter    10:    Energy =   0.0285
Level     1,  Iter    11:    Energy =   0.0290
Level     1,  Iter    12:    Energy =   0.0295
Level     1,  Iter    13:    Energy =   0.0297
Level     1,  Iter    14:    Energy =   0.0299
Level     1,  Iter    15:    Energy =   0.0301
Level     1,  Iter    16:    Energy =   0.0303
Level     1,  Iter    17:    Energy =   0.0304
Level     1,  Iter    18:    Energy =   0.0306
Level     1,  Iter    19:    Energy =   0.0307
Level     1,  Iter    20:    Energy =   0.0308
Level     1,  Iter    21:    Energy =   0.0309
Level     1,  Iter    22:    Energy =   0.0310
Level     1,  Iter    23:    Energy =   0.0311
Level     1,  Iter    24:    Energy =   0.0312
Level     1,  Iter    25:    Energy =   0.0313
Level     1,  Iter    26:    Energy =   0.0313
Level     1,  Iter    27:    Energy =   0.0314
Level     1,  Iter    28:    Energy =   0.0314
Level     1,  Iter    29:    Energy =   0.0314
Level     1,  Iter    30:    Energy =   0.0314
Level     1,  Iter    31:    Energy =   0.0314
Level     1,  Iter    32:    Energy =   0.0314
Level     1,  Iter    33:    Energy =   0.0315
Level     1,  Iter    34:    Energy =   0.0315
Level     1,  Iter    35:    Energy =   0.0313
Level     1,  Iter    36:    Energy =   0.0313
Level     1,  Iter    37:    Energy =   0.0313
Level     1,  Iter    38:    Energy =   0.0314
Level     1,  Iter    39:    Energy =   0.0314
Level     1,  Iter    40:    Energy =   0.0315
Level     1,  Iter    41:    Energy =   0.0316
Level     1,  Iter    42:    Energy =   0.0316
Level     1,  Iter    43:    Energy =   0.0316
Level     1,  Iter    44:    Energy =   0.0315
Level     1,  Iter    45:    Energy =   0.0316
Level     1,  Iter    46:    Energy =   0.0316
Level     1,  Iter    47:    Energy =   0.0317
Level     1,  Iter    48:    Energy =   0.0317
Level     1,  Iter    49:    Energy =   0.0318
Level     1,  Iter    50:    Energy =   0.0318
Level     1,  Iter    51:    Energy =   0.0319
Level     1,  Iter    52:    Energy =   0.0319
Level     1,  Iter    53:    Energy =   0.0319
Level     1,  Iter    54:    Energy =   0.0320
Level     1,  Iter    55:    Energy =   0.0320
Level     1,  Iter    56:    Energy =   0.0321
Level     1,  Iter    57:    Energy =   0.0321
Level     1,  Iter    58:    Energy =   0.0322
Level     1,  Iter    59:    Energy =   0.0322
END OF LEVEL     1    DetJac Range:   0.0380  to   3.3576 
  Avg. Gradient Time  : 0.0289s  33.42% 
  Avg. Gaussian Time  : 0.0454s  52.54% 
  Avg. Iteration Time : 0.0864s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0139
Level     2,  Iter     1:    Energy =   0.0142
Level     2,  Iter     2:    Energy =   0.0148
Level     2,  Iter     3:    Energy =   0.0152
Level     2,  Iter     4:    Energy =   0.0155
Level     2,  Iter     5:    Energy =   0.0160
Level     2,  Iter     6:    Energy =   0.0162
Level     2,  Iter     7:    Energy =   0.0165
Level     2,  Iter     8:    Energy =   0.0167
Level     2,  Iter     9:    Energy =   0.0169
Level     2,  Iter    10:    Energy =   0.0169
Level     2,  Iter    11:    Energy =   0.0172
Level     2,  Iter    12:    Energy =   0.0175
Level     2,  Iter    13:    Energy =   0.0177
Level     2,  Iter    14:    Energy =   0.0177
Level     2,  Iter    15:    Energy =   0.0181
Level     2,  Iter    16:    Energy =   0.0181
Level     2,  Iter    17:    Energy =   0.0183
Level     2,  Iter    18:    Energy =   0.0187
Level     2,  Iter    19:    Energy =   0.0189
END OF LEVEL     2    DetJac Range:   0.0307  to   3.2234 
  Avg. Gradient Time  : 0.1817s  32.15% 
  Avg. Gaussian Time  : 0.3079s  54.47% 
  Avg. Iteration Time : 0.5653s 

real	0m20.482s
user	0m35.268s
sys	0m2.524s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train029/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train029/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train029/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train029/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train029/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train029/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=29 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=29 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.324286 0.328571
+ echo 'CHUNK 0.324286 0.328571 1'
CHUNK 0.324286 0.328571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.324286 0.328571 1
====================================
         PROGRESS: 0.324286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=030
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 030
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train030
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train030
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left 030 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train030 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=left
+ local tid=030
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train030
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 030 left 0
+ local tid=030
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 030 0
+ set -e
+ local tid=030
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train030/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train030/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train030/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.628
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 454.633   GNORM= 94.6963
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -110.743      55.911       0.053
   2    8      -661.844      40.971       1.778
   3   11      -667.812      54.182       0.152
   4   12      -672.260      92.519       1.000
   5   14      -717.198     117.196       5.000
   6   15      -787.041      97.079       1.000
   7   17      -805.803      89.482       0.220
   8   18      -872.316     163.567       1.000
   9   20      -879.659     123.113       0.396
  10   23      -881.784     110.617       0.118
  11   25      -893.170      40.932       0.469
  12   26      -902.940      50.897       1.000
  13   27      -906.641     355.452       1.000
  14   45      -907.104     234.044       0.000
Final RAS Transform: 
0.882123 0.113123 0.31919 -0.2801 
-0.298367 0.939408 -0.463436 -0.185794 
0.271885 -0.246695 0.589922 -2.96832 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -458.508   GNORM= 99.1059
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1   13      -459.565     133.961       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.882123 0.113123 0.31919 -0.280104 
-0.298367 0.939408 -0.463436 -0.185794 
0.271885 -0.246695 0.589922 -2.96833 
0 0 0 1 

Final RAS Transform: 
0.882123 0.113123 0.31919 -0.280104 
-0.298367 0.939408 -0.463436 -0.185794 
0.271885 -0.246695 0.589922 -2.96833 
0 0 0 1 


real	0m4.270s
user	0m6.712s
sys	0m0.584s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train030/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train030/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.521003
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0202
Level     0,  Iter     1:    Energy =   0.0222
Level     0,  Iter     2:    Energy =   0.0244
Level     0,  Iter     3:    Energy =   0.0264
Level     0,  Iter     4:    Energy =   0.0283
Level     0,  Iter     5:    Energy =   0.0297
Level     0,  Iter     6:    Energy =   0.0309
Level     0,  Iter     7:    Energy =   0.0322
Level     0,  Iter     8:    Energy =   0.0334
Level     0,  Iter     9:    Energy =   0.0346
Level     0,  Iter    10:    Energy =   0.0356
Level     0,  Iter    11:    Energy =   0.0366
Level     0,  Iter    12:    Energy =   0.0375
Level     0,  Iter    13:    Energy =   0.0383
Level     0,  Iter    14:    Energy =   0.0388
Level     0,  Iter    15:    Energy =   0.0395
Level     0,  Iter    16:    Energy =   0.0400
Level     0,  Iter    17:    Energy =   0.0407
Level     0,  Iter    18:    Energy =   0.0410
Level     0,  Iter    19:    Energy =   0.0415
Level     0,  Iter    20:    Energy =   0.0417
Level     0,  Iter    21:    Energy =   0.0422
Level     0,  Iter    22:    Energy =   0.0424
Level     0,  Iter    23:    Energy =   0.0428
Level     0,  Iter    24:    Energy =   0.0430
Level     0,  Iter    25:    Energy =   0.0433
Level     0,  Iter    26:    Energy =   0.0435
Level     0,  Iter    27:    Energy =   0.0439
Level     0,  Iter    28:    Energy =   0.0442
Level     0,  Iter    29:    Energy =   0.0443
Level     0,  Iter    30:    Energy =   0.0445
Level     0,  Iter    31:    Energy =   0.0448
Level     0,  Iter    32:    Energy =   0.0450
Level     0,  Iter    33:    Energy =   0.0450
Level     0,  Iter    34:    Energy =   0.0452
Level     0,  Iter    35:    Energy =   0.0457
Level     0,  Iter    36:    Energy =   0.0460
Level     0,  Iter    37:    Energy =   0.0459
Level     0,  Iter    38:    Energy =   0.0460
Level     0,  Iter    39:    Energy =   0.0463
Level     0,  Iter    40:    Energy =   0.0465
Level     0,  Iter    41:    Energy =   0.0465
Level     0,  Iter    42:    Energy =   0.0467
Level     0,  Iter    43:    Energy =   0.0469
Level     0,  Iter    44:    Energy =   0.0471
Level     0,  Iter    45:    Energy =   0.0470
Level     0,  Iter    46:    Energy =   0.0471
Level     0,  Iter    47:    Energy =   0.0474
Level     0,  Iter    48:    Energy =   0.0476
Level     0,  Iter    49:    Energy =   0.0475
Level     0,  Iter    50:    Energy =   0.0476
Level     0,  Iter    51:    Energy =   0.0479
Level     0,  Iter    52:    Energy =   0.0479
Level     0,  Iter    53:    Energy =   0.0475
Level     0,  Iter    54:    Energy =   0.0475
Level     0,  Iter    55:    Energy =   0.0477
Level     0,  Iter    56:    Energy =   0.0478
Level     0,  Iter    57:    Energy =   0.0474
Level     0,  Iter    58:    Energy =   0.0475
Level     0,  Iter    59:    Energy =   0.0477
END OF LEVEL     0    DetJac Range:   0.0722  to   3.2974 
  Avg. Gradient Time  : 0.0073s  32.67% 
  Avg. Gaussian Time  : 0.0109s  48.37% 
  Avg. Iteration Time : 0.0224s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0264
Level     1,  Iter     1:    Energy =   0.0276
Level     1,  Iter     2:    Energy =   0.0286
Level     1,  Iter     3:    Energy =   0.0294
Level     1,  Iter     4:    Energy =   0.0302
Level     1,  Iter     5:    Energy =   0.0308
Level     1,  Iter     6:    Energy =   0.0315
Level     1,  Iter     7:    Energy =   0.0323
Level     1,  Iter     8:    Energy =   0.0330
Level     1,  Iter     9:    Energy =   0.0336
Level     1,  Iter    10:    Energy =   0.0342
Level     1,  Iter    11:    Energy =   0.0346
Level     1,  Iter    12:    Energy =   0.0349
Level     1,  Iter    13:    Energy =   0.0353
Level     1,  Iter    14:    Energy =   0.0356
Level     1,  Iter    15:    Energy =   0.0359
Level     1,  Iter    16:    Energy =   0.0361
Level     1,  Iter    17:    Energy =   0.0364
Level     1,  Iter    18:    Energy =   0.0365
Level     1,  Iter    19:    Energy =   0.0367
Level     1,  Iter    20:    Energy =   0.0369
Level     1,  Iter    21:    Energy =   0.0370
Level     1,  Iter    22:    Energy =   0.0372
Level     1,  Iter    23:    Energy =   0.0373
Level     1,  Iter    24:    Energy =   0.0374
Level     1,  Iter    25:    Energy =   0.0375
Level     1,  Iter    26:    Energy =   0.0376
Level     1,  Iter    27:    Energy =   0.0376
Level     1,  Iter    28:    Energy =   0.0377
Level     1,  Iter    29:    Energy =   0.0378
Level     1,  Iter    30:    Energy =   0.0378
Level     1,  Iter    31:    Energy =   0.0379
Level     1,  Iter    32:    Energy =   0.0379
Level     1,  Iter    33:    Energy =   0.0380
Level     1,  Iter    34:    Energy =   0.0380
Level     1,  Iter    35:    Energy =   0.0381
Level     1,  Iter    36:    Energy =   0.0381
Level     1,  Iter    37:    Energy =   0.0382
Level     1,  Iter    38:    Energy =   0.0382
Level     1,  Iter    39:    Energy =   0.0382
Level     1,  Iter    40:    Energy =   0.0383
Level     1,  Iter    41:    Energy =   0.0383
Level     1,  Iter    42:    Energy =   0.0383
Level     1,  Iter    43:    Energy =   0.0384
Level     1,  Iter    44:    Energy =   0.0384
Level     1,  Iter    45:    Energy =   0.0384
Level     1,  Iter    46:    Energy =   0.0385
Level     1,  Iter    47:    Energy =   0.0385
Level     1,  Iter    48:    Energy =   0.0385
Level     1,  Iter    49:    Energy =   0.0385
Level     1,  Iter    50:    Energy =   0.0386
Level     1,  Iter    51:    Energy =   0.0386
Level     1,  Iter    52:    Energy =   0.0387
Level     1,  Iter    53:    Energy =   0.0387
Level     1,  Iter    54:    Energy =   0.0387
Level     1,  Iter    55:    Energy =   0.0388
Level     1,  Iter    56:    Energy =   0.0388
Level     1,  Iter    57:    Energy =   0.0388
Level     1,  Iter    58:    Energy =   0.0389
Level     1,  Iter    59:    Energy =   0.0389
END OF LEVEL     1    DetJac Range:   0.0122  to   3.5946 
  Avg. Gradient Time  : 0.0289s  33.58% 
  Avg. Gaussian Time  : 0.0451s  52.35% 
  Avg. Iteration Time : 0.0862s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0179
Level     2,  Iter     1:    Energy =   0.0184
Level     2,  Iter     2:    Energy =   0.0188
Level     2,  Iter     3:    Energy =   0.0191
Level     2,  Iter     4:    Energy =   0.0193
Level     2,  Iter     5:    Energy =   0.0196
Level     2,  Iter     6:    Energy =   0.0199
Level     2,  Iter     7:    Energy =   0.0202
Level     2,  Iter     8:    Energy =   0.0205
Level     2,  Iter     9:    Energy =   0.0208
Level     2,  Iter    10:    Energy =   0.0210
Level     2,  Iter    11:    Energy =   0.0214
Level     2,  Iter    12:    Energy =   0.0218
Level     2,  Iter    13:    Energy =   0.0222
Level     2,  Iter    14:    Energy =   0.0225
Level     2,  Iter    15:    Energy =   0.0228
Level     2,  Iter    16:    Energy =   0.0231
Level     2,  Iter    17:    Energy =   0.0234
Level     2,  Iter    18:    Energy =   0.0236
Level     2,  Iter    19:    Energy =   0.0238
END OF LEVEL     2    DetJac Range:   0.0090  to   3.5946 
  Avg. Gradient Time  : 0.1831s  32.28% 
  Avg. Gaussian Time  : 0.3081s  54.33% 
  Avg. Iteration Time : 0.5671s 

real	0m20.659s
user	0m35.412s
sys	0m2.588s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train030/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train030/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train030/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train030/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train030/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train030/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=30 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=30 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.328571 0.332857
+ echo 'CHUNK 0.328571 0.332857 1'
CHUNK 0.328571 0.332857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.328571 0.332857 1
====================================
         PROGRESS: 0.328571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=031
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 031
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train031
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train031
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left 031 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train031 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=left
+ local tid=031
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train031
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 031 left 0
+ local tid=031
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 031 0
+ set -e
+ local tid=031
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train031/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train031/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train031/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.586
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 492.88   GNORM= 109.968
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       396.769      87.979       0.009
   2    4      -521.053      94.638       5.000
   3    6      -559.792      33.411       0.134
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.94479 0.0632938 -0.0384557 -0.242131 
-0.188063 1.26608 -0.331788 9.56119 
0.0426647 -0.368935 0.791743 -8.51095 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -258.635   GNORM= 79.1399
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -292.291     112.235       0.013
   2    5      -295.392      47.966       0.221
   3    7      -306.848      24.092       5.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.928855 0.0677131 -0.0542234 1.74887 
-0.183507 1.25551 -0.321785 8.68898 
0.0456883 -0.373426 0.798135 -9.06999 
0 0 0 1 

Final RAS Transform: 
0.928855 0.0677131 -0.0542234 1.74887 
-0.183507 1.25551 -0.321785 8.68898 
0.0456883 -0.373426 0.798135 -9.06999 
0 0 0 1 


real	0m3.527s
user	0m5.468s
sys	0m0.452s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train031/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train031/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.448994
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0136
Level     0,  Iter     1:    Energy =   0.0151
Level     0,  Iter     2:    Energy =   0.0169
Level     0,  Iter     3:    Energy =   0.0185
Level     0,  Iter     4:    Energy =   0.0198
Level     0,  Iter     5:    Energy =   0.0208
Level     0,  Iter     6:    Energy =   0.0217
Level     0,  Iter     7:    Energy =   0.0222
Level     0,  Iter     8:    Energy =   0.0228
Level     0,  Iter     9:    Energy =   0.0233
Level     0,  Iter    10:    Energy =   0.0238
Level     0,  Iter    11:    Energy =   0.0243
Level     0,  Iter    12:    Energy =   0.0248
Level     0,  Iter    13:    Energy =   0.0252
Level     0,  Iter    14:    Energy =   0.0257
Level     0,  Iter    15:    Energy =   0.0262
Level     0,  Iter    16:    Energy =   0.0267
Level     0,  Iter    17:    Energy =   0.0272
Level     0,  Iter    18:    Energy =   0.0277
Level     0,  Iter    19:    Energy =   0.0281
Level     0,  Iter    20:    Energy =   0.0285
Level     0,  Iter    21:    Energy =   0.0288
Level     0,  Iter    22:    Energy =   0.0291
Level     0,  Iter    23:    Energy =   0.0294
Level     0,  Iter    24:    Energy =   0.0297
Level     0,  Iter    25:    Energy =   0.0300
Level     0,  Iter    26:    Energy =   0.0303
Level     0,  Iter    27:    Energy =   0.0307
Level     0,  Iter    28:    Energy =   0.0310
Level     0,  Iter    29:    Energy =   0.0315
Level     0,  Iter    30:    Energy =   0.0318
Level     0,  Iter    31:    Energy =   0.0320
Level     0,  Iter    32:    Energy =   0.0324
Level     0,  Iter    33:    Energy =   0.0328
Level     0,  Iter    34:    Energy =   0.0330
Level     0,  Iter    35:    Energy =   0.0332
Level     0,  Iter    36:    Energy =   0.0335
Level     0,  Iter    37:    Energy =   0.0338
Level     0,  Iter    38:    Energy =   0.0340
Level     0,  Iter    39:    Energy =   0.0342
Level     0,  Iter    40:    Energy =   0.0343
Level     0,  Iter    41:    Energy =   0.0345
Level     0,  Iter    42:    Energy =   0.0347
Level     0,  Iter    43:    Energy =   0.0349
Level     0,  Iter    44:    Energy =   0.0351
Level     0,  Iter    45:    Energy =   0.0353
Level     0,  Iter    46:    Energy =   0.0355
Level     0,  Iter    47:    Energy =   0.0356
Level     0,  Iter    48:    Energy =   0.0358
Level     0,  Iter    49:    Energy =   0.0360
Level     0,  Iter    50:    Energy =   0.0362
Level     0,  Iter    51:    Energy =   0.0362
Level     0,  Iter    52:    Energy =   0.0363
Level     0,  Iter    53:    Energy =   0.0365
Level     0,  Iter    54:    Energy =   0.0367
Level     0,  Iter    55:    Energy =   0.0369
Level     0,  Iter    56:    Energy =   0.0371
Level     0,  Iter    57:    Energy =   0.0373
Level     0,  Iter    58:    Energy =   0.0376
Level     0,  Iter    59:    Energy =   0.0378
END OF LEVEL     0    DetJac Range:   0.1166  to   2.3986 
  Avg. Gradient Time  : 0.0071s  32.56% 
  Avg. Gaussian Time  : 0.0105s  48.56% 
  Avg. Iteration Time : 0.0217s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0215
Level     1,  Iter     1:    Energy =   0.0225
Level     1,  Iter     2:    Energy =   0.0234
Level     1,  Iter     3:    Energy =   0.0242
Level     1,  Iter     4:    Energy =   0.0252
Level     1,  Iter     5:    Energy =   0.0259
Level     1,  Iter     6:    Energy =   0.0264
Level     1,  Iter     7:    Energy =   0.0269
Level     1,  Iter     8:    Energy =   0.0272
Level     1,  Iter     9:    Energy =   0.0276
Level     1,  Iter    10:    Energy =   0.0279
Level     1,  Iter    11:    Energy =   0.0282
Level     1,  Iter    12:    Energy =   0.0285
Level     1,  Iter    13:    Energy =   0.0288
Level     1,  Iter    14:    Energy =   0.0292
Level     1,  Iter    15:    Energy =   0.0296
Level     1,  Iter    16:    Energy =   0.0299
Level     1,  Iter    17:    Energy =   0.0302
Level     1,  Iter    18:    Energy =   0.0305
Level     1,  Iter    19:    Energy =   0.0308
Level     1,  Iter    20:    Energy =   0.0311
Level     1,  Iter    21:    Energy =   0.0313
Level     1,  Iter    22:    Energy =   0.0315
Level     1,  Iter    23:    Energy =   0.0317
Level     1,  Iter    24:    Energy =   0.0320
Level     1,  Iter    25:    Energy =   0.0321
Level     1,  Iter    26:    Energy =   0.0324
Level     1,  Iter    27:    Energy =   0.0326
Level     1,  Iter    28:    Energy =   0.0328
Level     1,  Iter    29:    Energy =   0.0330
Level     1,  Iter    30:    Energy =   0.0331
Level     1,  Iter    31:    Energy =   0.0334
Level     1,  Iter    32:    Energy =   0.0335
Level     1,  Iter    33:    Energy =   0.0335
Level     1,  Iter    34:    Energy =   0.0337
Level     1,  Iter    35:    Energy =   0.0337
Level     1,  Iter    36:    Energy =   0.0339
Level     1,  Iter    37:    Energy =   0.0340
Level     1,  Iter    38:    Energy =   0.0342
Level     1,  Iter    39:    Energy =   0.0343
Level     1,  Iter    40:    Energy =   0.0344
Level     1,  Iter    41:    Energy =   0.0345
Level     1,  Iter    42:    Energy =   0.0346
Level     1,  Iter    43:    Energy =   0.0347
Level     1,  Iter    44:    Energy =   0.0348
Level     1,  Iter    45:    Energy =   0.0348
Level     1,  Iter    46:    Energy =   0.0348
Level     1,  Iter    47:    Energy =   0.0349
Level     1,  Iter    48:    Energy =   0.0349
Level     1,  Iter    49:    Energy =   0.0350
Level     1,  Iter    50:    Energy =   0.0351
Level     1,  Iter    51:    Energy =   0.0351
Level     1,  Iter    52:    Energy =   0.0351
Level     1,  Iter    53:    Energy =   0.0351
Level     1,  Iter    54:    Energy =   0.0352
Level     1,  Iter    55:    Energy =   0.0352
Level     1,  Iter    56:    Energy =   0.0353
Level     1,  Iter    57:    Energy =   0.0353
Level     1,  Iter    58:    Energy =   0.0354
Level     1,  Iter    59:    Energy =   0.0355
END OF LEVEL     1    DetJac Range:   0.0108  to   2.9579 
  Avg. Gradient Time  : 0.0278s  33.31% 
  Avg. Gaussian Time  : 0.0440s  52.62% 
  Avg. Iteration Time : 0.0835s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0168
Level     2,  Iter     1:    Energy =   0.0174
Level     2,  Iter     2:    Energy =   0.0181
Level     2,  Iter     3:    Energy =   0.0188
Level     2,  Iter     4:    Energy =   0.0194
Level     2,  Iter     5:    Energy =   0.0200
Level     2,  Iter     6:    Energy =   0.0204
Level     2,  Iter     7:    Energy =   0.0206
Level     2,  Iter     8:    Energy =   0.0209
Level     2,  Iter     9:    Energy =   0.0211
Level     2,  Iter    10:    Energy =   0.0213
Level     2,  Iter    11:    Energy =   0.0216
Level     2,  Iter    12:    Energy =   0.0218
Level     2,  Iter    13:    Energy =   0.0220
Level     2,  Iter    14:    Energy =   0.0221
Level     2,  Iter    15:    Energy =   0.0223
Level     2,  Iter    16:    Energy =   0.0224
Level     2,  Iter    17:    Energy =   0.0225
Level     2,  Iter    18:    Energy =   0.0226
Level     2,  Iter    19:    Energy =   0.0227
END OF LEVEL     2    DetJac Range:   0.0183  to   2.6815 
  Avg. Gradient Time  : 0.1799s  31.96% 
  Avg. Gaussian Time  : 0.3067s  54.50% 
  Avg. Iteration Time : 0.5627s 

real	0m20.288s
user	0m35.012s
sys	0m2.408s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train031/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train031/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train031/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train031/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train031/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train031/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=31 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=31 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.332857 0.337143
+ echo 'CHUNK 0.332857 0.337143 1'
CHUNK 0.332857 0.337143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.332857 0.337143 1
====================================
         PROGRESS: 0.332857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=032
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 032
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train032
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train032
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left 032 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train032 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=left
+ local tid=032
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train032
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 032 left 0
+ local tid=032
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 032 0
+ set -e
+ local tid=032
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train032/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train032/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train032/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.551
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 592.038   GNORM= 159.87
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -143.671      60.648       0.031
   2    4      -254.017     100.548       1.000
   3    6      -539.897     114.513       5.000
   4    8      -562.728     101.329       0.038
   5    9      -608.556      55.236       1.000
   6   10      -659.392      49.751       1.000
   7   16      -757.049     122.804       0.349
   8   22      -763.836     111.045       0.073
   9   23      -830.707      56.379       1.000
  10   24      -927.140      61.657       1.000
  11   25      -965.153      65.225       1.000
  12   26     -1101.726     146.210       1.000
  13   28     -1149.717     134.147       0.210
  14   29     -1218.490     137.855       1.000
  15   30     -1304.306      35.641       1.000
  16   31     -1348.027      93.874       1.000
  17   32     -1372.164      88.013       1.000
  18   34     -1378.756      34.911       0.382
  19   35     -1384.035      39.031       1.000
  20   37     -1387.155      32.174       0.168
  21   38     -1391.719      50.880       1.000
  22   39     -1399.042      35.330       1.000
  23   40     -1418.321      39.994       1.000
  24   42     -1429.827      55.638       0.467
  25   43     -1450.660      84.518       1.000
  26   45     -1455.469      77.884       0.236
  27   47     -1460.556      25.953       0.439
  28   48     -1461.962      21.301       1.000
  29   50     -1463.860      29.837       0.357
  30   51     -1466.917      33.920       1.000
  31   52     -1470.443      26.445       1.000
  32   53     -1474.101      15.422       1.000
  33   54     -1477.435      49.847       1.000
  34   55     -1480.792      20.898       1.000
  35   56     -1487.462      45.191       1.000
  36   58     -1488.012      58.639       0.243
  37   59     -1493.888      35.033       1.000
  38   60     -1500.553      40.409       1.000
  39   61     -1504.465      47.271       1.000
Final RAS Transform: 
0.648326 -0.496829 0.153892 3.34061 
-0.313542 0.855108 -0.333453 2.26718 
0.0016431 -0.738087 0.220034 -6.05055 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -830.277   GNORM= 45.3444
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -835.574      23.931       0.005
   2    4      -836.682      16.590       1.000
   3    6      -837.622      10.598       0.472
   4    7      -838.188      12.565       1.000
   5    8      -843.976      18.681       1.000
   6   10      -845.193      24.128       0.316
   7   11      -846.638      17.544       1.000
   8   13      -847.997      19.433       0.396
   9   14      -849.566      14.193       1.000
  10   16      -850.349      11.059       0.284
  11   17      -850.639      19.935       1.000
  12   18      -851.496      13.867       1.000
  13   20      -853.149      20.824       0.515
  14   21      -854.155      13.635       1.000
  15   22      -856.478      17.985       1.000
  16   23      -857.703      12.043       1.000
  17   25      -857.877       7.923       0.377
  18   26      -858.177       4.284       1.000
  19   28      -858.972      12.446       5.000
  20   29      -859.976      17.835       1.000
  21   31      -860.798      11.432       0.498
  22   32      -861.501       9.103       1.000
  23   33      -861.903       8.022       1.000
  24   34      -862.661      17.533       1.000
  25   35      -863.628      17.669       1.000
  26   37      -865.460       6.217       0.268
  27   39      -865.660       9.172       0.226
  28   40      -866.247       4.320       1.000
  29   41      -866.318       9.830       1.000
  30   42      -866.549       6.873       1.000
  31   44      -866.629       3.901       0.340
  32   45      -866.671       4.204       1.000
  33   46      -866.675       6.418       1.000
  34   47      -866.708       2.332       1.000
  35   48      -866.746       1.940       1.000
  36   49      -866.775       8.517       1.000
  37   50      -866.843       2.179       1.000
  38   51      -866.858       2.496       1.000
  39   52      -866.882       5.396       1.000
  40   53      -866.900       2.885       1.000
  41   54      -866.936       1.426       1.000
  42   55      -867.000       3.492       1.000
  43   56      -867.056       8.519       1.000
  44   58      -867.098       4.371       0.480
  45   59      -867.135       5.325       1.000
  46   61      -867.231       5.322       0.251
Final RAS Transform: 
0.676899 -0.510579 0.190206 5.01648 
-0.269758 0.852702 -0.287017 4.7928 
-0.044855 -0.688943 0.212245 -8.23915 
0 0 0 1 

Final RAS Transform: 
0.676899 -0.510579 0.190206 5.01648 
-0.269758 0.852702 -0.287017 4.7928 
-0.044855 -0.688943 0.212245 -8.23915 
0 0 0 1 


real	0m6.220s
user	0m10.368s
sys	0m0.700s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train032/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train032/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.402376
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0390
Level     0,  Iter     1:    Energy =   0.0406
Level     0,  Iter     2:    Energy =   0.0432
Level     0,  Iter     3:    Energy =   0.0457
Level     0,  Iter     4:    Energy =   0.0477
Level     0,  Iter     5:    Energy =   0.0492
Level     0,  Iter     6:    Energy =   0.0503
Level     0,  Iter     7:    Energy =   0.0514
Level     0,  Iter     8:    Energy =   0.0523
Level     0,  Iter     9:    Energy =   0.0531
Level     0,  Iter    10:    Energy =   0.0539
Level     0,  Iter    11:    Energy =   0.0544
Level     0,  Iter    12:    Energy =   0.0551
Level     0,  Iter    13:    Energy =   0.0556
Level     0,  Iter    14:    Energy =   0.0559
Level     0,  Iter    15:    Energy =   0.0566
Level     0,  Iter    16:    Energy =   0.0570
Level     0,  Iter    17:    Energy =   0.0575
Level     0,  Iter    18:    Energy =   0.0579
Level     0,  Iter    19:    Energy =   0.0586
Level     0,  Iter    20:    Energy =   0.0588
Level     0,  Iter    21:    Energy =   0.0593
Level     0,  Iter    22:    Energy =   0.0593
Level     0,  Iter    23:    Energy =   0.0597
Level     0,  Iter    24:    Energy =   0.0596
Level     0,  Iter    25:    Energy =   0.0600
Level     0,  Iter    26:    Energy =   0.0600
Level     0,  Iter    27:    Energy =   0.0605
Level     0,  Iter    28:    Energy =   0.0605
Level     0,  Iter    29:    Energy =   0.0609
Level     0,  Iter    30:    Energy =   0.0607
Level     0,  Iter    31:    Energy =   0.0610
Level     0,  Iter    32:    Energy =   0.0609
Level     0,  Iter    33:    Energy =   0.0612
Level     0,  Iter    34:    Energy =   0.0611
Level     0,  Iter    35:    Energy =   0.0615
Level     0,  Iter    36:    Energy =   0.0614
Level     0,  Iter    37:    Energy =   0.0616
Level     0,  Iter    38:    Energy =   0.0615
Level     0,  Iter    39:    Energy =   0.0617
Level     0,  Iter    40:    Energy =   0.0616
Level     0,  Iter    41:    Energy =   0.0619
Level     0,  Iter    42:    Energy =   0.0617
Level     0,  Iter    43:    Energy =   0.0619
Level     0,  Iter    44:    Energy =   0.0618
Level     0,  Iter    45:    Energy =   0.0620
Level     0,  Iter    46:    Energy =   0.0619
Level     0,  Iter    47:    Energy =   0.0621
Level     0,  Iter    48:    Energy =   0.0619
Level     0,  Iter    49:    Energy =   0.0621
Level     0,  Iter    50:    Energy =   0.0619
Level     0,  Iter    51:    Energy =   0.0621
Level     0,  Iter    52:    Energy =   0.0620
Level     0,  Iter    53:    Energy =   0.0622
Level     0,  Iter    54:    Energy =   0.0620
Level     0,  Iter    55:    Energy =   0.0622
Level     0,  Iter    56:    Energy =   0.0620
Level     0,  Iter    57:    Energy =   0.0622
Level     0,  Iter    58:    Energy =   0.0620
Level     0,  Iter    59:    Energy =   0.0621
END OF LEVEL     0    DetJac Range:   0.1383  to   2.6562 
  Avg. Gradient Time  : 0.0072s  32.79% 
  Avg. Gaussian Time  : 0.0106s  48.59% 
  Avg. Iteration Time : 0.0218s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0331
Level     1,  Iter     1:    Energy =   0.0345
Level     1,  Iter     2:    Energy =   0.0357
Level     1,  Iter     3:    Energy =   0.0369
Level     1,  Iter     4:    Energy =   0.0378
Level     1,  Iter     5:    Energy =   0.0387
Level     1,  Iter     6:    Energy =   0.0393
Level     1,  Iter     7:    Energy =   0.0398
Level     1,  Iter     8:    Energy =   0.0402
Level     1,  Iter     9:    Energy =   0.0403
Level     1,  Iter    10:    Energy =   0.0407
Level     1,  Iter    11:    Energy =   0.0410
Level     1,  Iter    12:    Energy =   0.0413
Level     1,  Iter    13:    Energy =   0.0417
Level     1,  Iter    14:    Energy =   0.0420
Level     1,  Iter    15:    Energy =   0.0423
Level     1,  Iter    16:    Energy =   0.0425
Level     1,  Iter    17:    Energy =   0.0427
Level     1,  Iter    18:    Energy =   0.0428
Level     1,  Iter    19:    Energy =   0.0429
Level     1,  Iter    20:    Energy =   0.0431
Level     1,  Iter    21:    Energy =   0.0432
Level     1,  Iter    22:    Energy =   0.0431
Level     1,  Iter    23:    Energy =   0.0432
Level     1,  Iter    24:    Energy =   0.0433
Level     1,  Iter    25:    Energy =   0.0433
Level     1,  Iter    26:    Energy =   0.0434
Level     1,  Iter    27:    Energy =   0.0434
Level     1,  Iter    28:    Energy =   0.0435
Level     1,  Iter    29:    Energy =   0.0435
Level     1,  Iter    30:    Energy =   0.0434
Level     1,  Iter    31:    Energy =   0.0434
Level     1,  Iter    32:    Energy =   0.0434
Level     1,  Iter    33:    Energy =   0.0434
Level     1,  Iter    34:    Energy =   0.0434
Level     1,  Iter    35:    Energy =   0.0434
Level     1,  Iter    36:    Energy =   0.0435
Level     1,  Iter    37:    Energy =   0.0434
Level     1,  Iter    38:    Energy =   0.0435
Level     1,  Iter    39:    Energy =   0.0435
Level     1,  Iter    40:    Energy =   0.0435
Level     1,  Iter    41:    Energy =   0.0435
Level     1,  Iter    42:    Energy =   0.0435
Level     1,  Iter    43:    Energy =   0.0434
Level     1,  Iter    44:    Energy =   0.0434
Level     1,  Iter    45:    Energy =   0.0434
Level     1,  Iter    46:    Energy =   0.0434
Level     1,  Iter    47:    Energy =   0.0434
Level     1,  Iter    48:    Energy =   0.0434
Level     1,  Iter    49:    Energy =   0.0434
Level     1,  Iter    50:    Energy =   0.0434
Level     1,  Iter    51:    Energy =   0.0434
Level     1,  Iter    52:    Energy =   0.0433
Level     1,  Iter    53:    Energy =   0.0433
Level     1,  Iter    54:    Energy =   0.0433
Level     1,  Iter    55:    Energy =   0.0432
Level     1,  Iter    56:    Energy =   0.0432
Level     1,  Iter    57:    Energy =   0.0432
Level     1,  Iter    58:    Energy =   0.0431
Level     1,  Iter    59:    Energy =   0.0431
END OF LEVEL     1    DetJac Range:   0.0572  to   2.8057 
  Avg. Gradient Time  : 0.0276s  33.32% 
  Avg. Gaussian Time  : 0.0436s  52.61% 
  Avg. Iteration Time : 0.0829s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0210
Level     2,  Iter     1:    Energy =   0.0216
Level     2,  Iter     2:    Energy =   0.0221
Level     2,  Iter     3:    Energy =   0.0226
Level     2,  Iter     4:    Energy =   0.0230
Level     2,  Iter     5:    Energy =   0.0234
Level     2,  Iter     6:    Energy =   0.0236
Level     2,  Iter     7:    Energy =   0.0239
Level     2,  Iter     8:    Energy =   0.0242
Level     2,  Iter     9:    Energy =   0.0245
Level     2,  Iter    10:    Energy =   0.0247
Level     2,  Iter    11:    Energy =   0.0250
Level     2,  Iter    12:    Energy =   0.0254
Level     2,  Iter    13:    Energy =   0.0256
Level     2,  Iter    14:    Energy =   0.0259
Level     2,  Iter    15:    Energy =   0.0261
Level     2,  Iter    16:    Energy =   0.0263
Level     2,  Iter    17:    Energy =   0.0265
Level     2,  Iter    18:    Energy =   0.0267
Level     2,  Iter    19:    Energy =   0.0268
END OF LEVEL     2    DetJac Range:   0.0648  to   2.4040 
  Avg. Gradient Time  : 0.1777s  31.72% 
  Avg. Gaussian Time  : 0.3065s  54.71% 
  Avg. Iteration Time : 0.5602s 

real	0m20.300s
user	0m34.880s
sys	0m2.500s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train032/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train032/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train032/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train032/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train032/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train032/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=32 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=32 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.337143 0.341429
+ echo 'CHUNK 0.337143 0.341429 1'
CHUNK 0.337143 0.341429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.337143 0.341429 1
====================================
         PROGRESS: 0.337143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=033
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 033
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train033
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train033
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left 033 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train033 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=left
+ local tid=033
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train033
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 033 left 0
+ local tid=033
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 033 0
+ set -e
+ local tid=033
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train033/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train033/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train033/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.535
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 487.267   GNORM= 134.968
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       354.208     138.533       0.007
   2    3      -271.766     101.084       1.000
   3    7      -357.608     105.247       0.126
   4   15      -425.459     541.453       0.989
   5   19      -545.957      89.960       0.022
   6   21      -625.738     183.814       0.369
   7   26      -721.115     132.465       0.061
   8   29      -738.156     211.918       0.138
   9   30     -1014.576     102.697       1.000
  10   34     -1054.028     104.732       0.015
  11   35     -1101.295      80.124       1.000
  12   37     -1129.608      41.524       0.259
  13   40     -1131.943      41.804       0.049
  14   41     -1142.347      92.717       1.000
  15   42     -1147.018      49.264       1.000
  16   43     -1159.984      52.251       1.000
  17   44     -1166.549     138.648       1.000
  18   45     -1204.712      90.553       1.000
  19   46     -1227.108      96.244       1.000
  20   48     -1233.158      37.912       0.316
  21   49     -1251.717      29.379       1.000
  22   51     -1318.946      93.000       0.299
  23   54     -1329.489      44.841       0.035
  24   55     -1336.409      44.950       1.000
  25   56     -1348.190      70.720       1.000
  26   57     -1348.994      50.942       1.000
  27   58     -1372.549      39.506       1.000
  28   59     -1382.621      35.895       1.000
Final RAS Transform: 
1.21805 -0.142951 0.0132479 0.816296 
-0.506297 0.933092 -0.325392 10.7995 
0.0703732 -0.00782029 0.589019 6.58803 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -647.299   GNORM= 11.4334
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -658.965      44.914       0.087
   2    4      -662.313      49.201       0.107
   3    6      -666.407      35.010       0.394
   4    7      -677.579      33.560       1.000
   5    9      -682.496       8.164       0.476
   6   11      -682.685     208.408       0.214
   7   15      -682.963       8.591       0.001
   8   16      -683.060       8.834       1.000
   9   22      -683.078      20.309       0.065
  10   23      -683.181      12.594       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.21535 -0.141784 0.0195668 1.54613 
-0.504145 0.933752 -0.311545 11.035 
0.081325 -0.0109084 0.595745 4.93682 
0 0 0 1 

Final RAS Transform: 
1.21535 -0.141784 0.0195668 1.54613 
-0.504145 0.933752 -0.311545 11.035 
0.081325 -0.0109084 0.595745 4.93682 
0 0 0 1 


real	0m4.983s
user	0m7.992s
sys	0m0.680s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train033/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train033/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.477566
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0376
Level     0,  Iter     1:    Energy =   0.0398
Level     0,  Iter     2:    Energy =   0.0427
Level     0,  Iter     3:    Energy =   0.0454
Level     0,  Iter     4:    Energy =   0.0475
Level     0,  Iter     5:    Energy =   0.0493
Level     0,  Iter     6:    Energy =   0.0508
Level     0,  Iter     7:    Energy =   0.0520
Level     0,  Iter     8:    Energy =   0.0533
Level     0,  Iter     9:    Energy =   0.0544
Level     0,  Iter    10:    Energy =   0.0553
Level     0,  Iter    11:    Energy =   0.0562
Level     0,  Iter    12:    Energy =   0.0568
Level     0,  Iter    13:    Energy =   0.0574
Level     0,  Iter    14:    Energy =   0.0580
Level     0,  Iter    15:    Energy =   0.0584
Level     0,  Iter    16:    Energy =   0.0589
Level     0,  Iter    17:    Energy =   0.0592
Level     0,  Iter    18:    Energy =   0.0596
Level     0,  Iter    19:    Energy =   0.0599
Level     0,  Iter    20:    Energy =   0.0602
Level     0,  Iter    21:    Energy =   0.0603
Level     0,  Iter    22:    Energy =   0.0606
Level     0,  Iter    23:    Energy =   0.0608
Level     0,  Iter    24:    Energy =   0.0611
Level     0,  Iter    25:    Energy =   0.0612
Level     0,  Iter    26:    Energy =   0.0614
Level     0,  Iter    27:    Energy =   0.0615
Level     0,  Iter    28:    Energy =   0.0617
Level     0,  Iter    29:    Energy =   0.0618
Level     0,  Iter    30:    Energy =   0.0620
Level     0,  Iter    31:    Energy =   0.0621
Level     0,  Iter    32:    Energy =   0.0623
Level     0,  Iter    33:    Energy =   0.0624
Level     0,  Iter    34:    Energy =   0.0625
Level     0,  Iter    35:    Energy =   0.0626
Level     0,  Iter    36:    Energy =   0.0627
Level     0,  Iter    37:    Energy =   0.0628
Level     0,  Iter    38:    Energy =   0.0629
Level     0,  Iter    39:    Energy =   0.0628
Level     0,  Iter    40:    Energy =   0.0629
Level     0,  Iter    41:    Energy =   0.0628
Level     0,  Iter    42:    Energy =   0.0629
Level     0,  Iter    43:    Energy =   0.0628
Level     0,  Iter    44:    Energy =   0.0630
Level     0,  Iter    45:    Energy =   0.0629
Level     0,  Iter    46:    Energy =   0.0631
Level     0,  Iter    47:    Energy =   0.0630
Level     0,  Iter    48:    Energy =   0.0631
Level     0,  Iter    49:    Energy =   0.0631
Level     0,  Iter    50:    Energy =   0.0632
Level     0,  Iter    51:    Energy =   0.0633
Level     0,  Iter    52:    Energy =   0.0634
Level     0,  Iter    53:    Energy =   0.0633
Level     0,  Iter    54:    Energy =   0.0634
Level     0,  Iter    55:    Energy =   0.0634
Level     0,  Iter    56:    Energy =   0.0634
Level     0,  Iter    57:    Energy =   0.0634
Level     0,  Iter    58:    Energy =   0.0635
Level     0,  Iter    59:    Energy =   0.0634
END OF LEVEL     0    DetJac Range:   0.1306  to   1.7818 
  Avg. Gradient Time  : 0.0072s  32.37% 
  Avg. Gaussian Time  : 0.0108s  48.59% 
  Avg. Iteration Time : 0.0223s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0328
Level     1,  Iter     1:    Energy =   0.0345
Level     1,  Iter     2:    Energy =   0.0359
Level     1,  Iter     3:    Energy =   0.0370
Level     1,  Iter     4:    Energy =   0.0377
Level     1,  Iter     5:    Energy =   0.0381
Level     1,  Iter     6:    Energy =   0.0388
Level     1,  Iter     7:    Energy =   0.0396
Level     1,  Iter     8:    Energy =   0.0398
Level     1,  Iter     9:    Energy =   0.0402
Level     1,  Iter    10:    Energy =   0.0406
Level     1,  Iter    11:    Energy =   0.0410
Level     1,  Iter    12:    Energy =   0.0415
Level     1,  Iter    13:    Energy =   0.0420
Level     1,  Iter    14:    Energy =   0.0425
Level     1,  Iter    15:    Energy =   0.0429
Level     1,  Iter    16:    Energy =   0.0432
Level     1,  Iter    17:    Energy =   0.0435
Level     1,  Iter    18:    Energy =   0.0437
Level     1,  Iter    19:    Energy =   0.0439
Level     1,  Iter    20:    Energy =   0.0441
Level     1,  Iter    21:    Energy =   0.0442
Level     1,  Iter    22:    Energy =   0.0444
Level     1,  Iter    23:    Energy =   0.0445
Level     1,  Iter    24:    Energy =   0.0445
Level     1,  Iter    25:    Energy =   0.0446
Level     1,  Iter    26:    Energy =   0.0448
Level     1,  Iter    27:    Energy =   0.0448
Level     1,  Iter    28:    Energy =   0.0449
Level     1,  Iter    29:    Energy =   0.0450
Level     1,  Iter    30:    Energy =   0.0451
Level     1,  Iter    31:    Energy =   0.0452
Level     1,  Iter    32:    Energy =   0.0454
Level     1,  Iter    33:    Energy =   0.0455
Level     1,  Iter    34:    Energy =   0.0456
Level     1,  Iter    35:    Energy =   0.0458
Level     1,  Iter    36:    Energy =   0.0458
Level     1,  Iter    37:    Energy =   0.0458
Level     1,  Iter    38:    Energy =   0.0459
Level     1,  Iter    39:    Energy =   0.0458
Level     1,  Iter    40:    Energy =   0.0459
Level     1,  Iter    41:    Energy =   0.0459
Level     1,  Iter    42:    Energy =   0.0460
Level     1,  Iter    43:    Energy =   0.0459
Level     1,  Iter    44:    Energy =   0.0460
Level     1,  Iter    45:    Energy =   0.0459
Level     1,  Iter    46:    Energy =   0.0460
Level     1,  Iter    47:    Energy =   0.0459
Level     1,  Iter    48:    Energy =   0.0461
Level     1,  Iter    49:    Energy =   0.0459
Level     1,  Iter    50:    Energy =   0.0461
Level     1,  Iter    51:    Energy =   0.0460
Level     1,  Iter    52:    Energy =   0.0461
Level     1,  Iter    53:    Energy =   0.0460
Level     1,  Iter    54:    Energy =   0.0462
Level     1,  Iter    55:    Energy =   0.0461
Level     1,  Iter    56:    Energy =   0.0462
Level     1,  Iter    57:    Energy =   0.0461
Level     1,  Iter    58:    Energy =   0.0463
Level     1,  Iter    59:    Energy =   0.0461
END OF LEVEL     1    DetJac Range:   0.0112  to   2.5158 
  Avg. Gradient Time  : 0.0298s  33.74% 
  Avg. Gaussian Time  : 0.0461s  52.20% 
  Avg. Iteration Time : 0.0883s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0190
Level     2,  Iter     1:    Energy =   0.0196
Level     2,  Iter     2:    Energy =   0.0202
Level     2,  Iter     3:    Energy =   0.0208
Level     2,  Iter     4:    Energy =   0.0214
Level     2,  Iter     5:    Energy =   0.0219
Level     2,  Iter     6:    Energy =   0.0223
Level     2,  Iter     7:    Energy =   0.0225
Level     2,  Iter     8:    Energy =   0.0229
Level     2,  Iter     9:    Energy =   0.0233
Level     2,  Iter    10:    Energy =   0.0237
Level     2,  Iter    11:    Energy =   0.0240
Level     2,  Iter    12:    Energy =   0.0242
Level     2,  Iter    13:    Energy =   0.0244
Level     2,  Iter    14:    Energy =   0.0245
Level     2,  Iter    15:    Energy =   0.0247
Level     2,  Iter    16:    Energy =   0.0248
Level     2,  Iter    17:    Energy =   0.0250
Level     2,  Iter    18:    Energy =   0.0251
Level     2,  Iter    19:    Energy =   0.0252
END OF LEVEL     2    DetJac Range:   0.0162  to   2.8731 
  Avg. Gradient Time  : 0.1776s  31.46% 
  Avg. Gaussian Time  : 0.3099s  54.88% 
  Avg. Iteration Time : 0.5647s 

real	0m20.699s
user	0m35.392s
sys	0m2.744s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train033/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train033/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train033/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train033/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train033/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train033/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=33 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=33 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.341429 0.345714
+ echo 'CHUNK 0.341429 0.345714 1'
CHUNK 0.341429 0.345714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.341429 0.345714 1
====================================
         PROGRESS: 0.341429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=034
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 034
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train034
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train034
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left 034 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train034 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=left
+ local tid=034
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train034
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 034 left 0
+ local tid=034
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 034 0
+ set -e
+ local tid=034
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train034/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train034/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train034/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.501
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 623.619   GNORM= 95.0158
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3        44.084      97.951       0.053
   2    6        17.389      79.041       0.015
   3    7       -65.499      69.502       1.000
   4    8      -375.427      81.131       1.000
   5    9      -574.655      88.533       1.000
   6   12      -580.163      44.275       0.086
   7   13      -616.367      77.756       1.000
   8   16      -623.666      84.536       0.382
   9   17      -649.927     169.483       1.000
  10   23      -650.675      39.559       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.912565 0.0870269 -0.0306415 1.43342 
-0.142394 1.25631 -0.329221 9.11609 
0.0945648 -0.290532 0.846758 -7.73655 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -259.736   GNORM= 67949.2
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -260.908      79.478       0.000
   2    6      -261.048      89.446       5.000
   3    8      -261.918     251.931       5.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.912316 0.0868462 -0.0308355 1.43794 
-0.141845 1.25508 -0.328698 9.05043 
0.0946024 -0.290736 0.846809 -7.75275 
0 0 0 1 

Final RAS Transform: 
0.912316 0.0868462 -0.0308355 1.43794 
-0.141845 1.25508 -0.328698 9.05043 
0.0946024 -0.290736 0.846809 -7.75275 
0 0 0 1 


real	0m3.832s
user	0m6.000s
sys	0m0.468s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train034/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train034/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.052, moving = 0.379772
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0149
Level     0,  Iter     1:    Energy =   0.0164
Level     0,  Iter     2:    Energy =   0.0184
Level     0,  Iter     3:    Energy =   0.0205
Level     0,  Iter     4:    Energy =   0.0221
Level     0,  Iter     5:    Energy =   0.0229
Level     0,  Iter     6:    Energy =   0.0240
Level     0,  Iter     7:    Energy =   0.0248
Level     0,  Iter     8:    Energy =   0.0255
Level     0,  Iter     9:    Energy =   0.0261
Level     0,  Iter    10:    Energy =   0.0267
Level     0,  Iter    11:    Energy =   0.0272
Level     0,  Iter    12:    Energy =   0.0276
Level     0,  Iter    13:    Energy =   0.0280
Level     0,  Iter    14:    Energy =   0.0285
Level     0,  Iter    15:    Energy =   0.0289
Level     0,  Iter    16:    Energy =   0.0293
Level     0,  Iter    17:    Energy =   0.0297
Level     0,  Iter    18:    Energy =   0.0302
Level     0,  Iter    19:    Energy =   0.0306
Level     0,  Iter    20:    Energy =   0.0312
Level     0,  Iter    21:    Energy =   0.0317
Level     0,  Iter    22:    Energy =   0.0321
Level     0,  Iter    23:    Energy =   0.0324
Level     0,  Iter    24:    Energy =   0.0327
Level     0,  Iter    25:    Energy =   0.0329
Level     0,  Iter    26:    Energy =   0.0330
Level     0,  Iter    27:    Energy =   0.0331
Level     0,  Iter    28:    Energy =   0.0332
Level     0,  Iter    29:    Energy =   0.0334
Level     0,  Iter    30:    Energy =   0.0334
Level     0,  Iter    31:    Energy =   0.0335
Level     0,  Iter    32:    Energy =   0.0334
Level     0,  Iter    33:    Energy =   0.0335
Level     0,  Iter    34:    Energy =   0.0335
Level     0,  Iter    35:    Energy =   0.0335
Level     0,  Iter    36:    Energy =   0.0335
Level     0,  Iter    37:    Energy =   0.0336
Level     0,  Iter    38:    Energy =   0.0335
Level     0,  Iter    39:    Energy =   0.0336
Level     0,  Iter    40:    Energy =   0.0336
Level     0,  Iter    41:    Energy =   0.0336
Level     0,  Iter    42:    Energy =   0.0336
Level     0,  Iter    43:    Energy =   0.0337
Level     0,  Iter    44:    Energy =   0.0337
Level     0,  Iter    45:    Energy =   0.0338
Level     0,  Iter    46:    Energy =   0.0338
Level     0,  Iter    47:    Energy =   0.0339
Level     0,  Iter    48:    Energy =   0.0339
Level     0,  Iter    49:    Energy =   0.0339
Level     0,  Iter    50:    Energy =   0.0339
Level     0,  Iter    51:    Energy =   0.0340
Level     0,  Iter    52:    Energy =   0.0340
Level     0,  Iter    53:    Energy =   0.0341
Level     0,  Iter    54:    Energy =   0.0341
Level     0,  Iter    55:    Energy =   0.0342
Level     0,  Iter    56:    Energy =   0.0342
Level     0,  Iter    57:    Energy =   0.0342
Level     0,  Iter    58:    Energy =   0.0342
Level     0,  Iter    59:    Energy =   0.0343
END OF LEVEL     0    DetJac Range:   0.0602  to   1.9905 
  Avg. Gradient Time  : 0.0071s  33.28% 
  Avg. Gaussian Time  : 0.0103s  48.12% 
  Avg. Iteration Time : 0.0214s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0177
Level     1,  Iter     1:    Energy =   0.0185
Level     1,  Iter     2:    Energy =   0.0193
Level     1,  Iter     3:    Energy =   0.0200
Level     1,  Iter     4:    Energy =   0.0207
Level     1,  Iter     5:    Energy =   0.0214
Level     1,  Iter     6:    Energy =   0.0220
Level     1,  Iter     7:    Energy =   0.0226
Level     1,  Iter     8:    Energy =   0.0232
Level     1,  Iter     9:    Energy =   0.0237
Level     1,  Iter    10:    Energy =   0.0241
Level     1,  Iter    11:    Energy =   0.0245
Level     1,  Iter    12:    Energy =   0.0249
Level     1,  Iter    13:    Energy =   0.0252
Level     1,  Iter    14:    Energy =   0.0255
Level     1,  Iter    15:    Energy =   0.0257
Level     1,  Iter    16:    Energy =   0.0259
Level     1,  Iter    17:    Energy =   0.0261
Level     1,  Iter    18:    Energy =   0.0263
Level     1,  Iter    19:    Energy =   0.0264
Level     1,  Iter    20:    Energy =   0.0266
Level     1,  Iter    21:    Energy =   0.0267
Level     1,  Iter    22:    Energy =   0.0269
Level     1,  Iter    23:    Energy =   0.0270
Level     1,  Iter    24:    Energy =   0.0272
Level     1,  Iter    25:    Energy =   0.0273
Level     1,  Iter    26:    Energy =   0.0274
Level     1,  Iter    27:    Energy =   0.0275
Level     1,  Iter    28:    Energy =   0.0277
Level     1,  Iter    29:    Energy =   0.0278
Level     1,  Iter    30:    Energy =   0.0279
Level     1,  Iter    31:    Energy =   0.0280
Level     1,  Iter    32:    Energy =   0.0281
Level     1,  Iter    33:    Energy =   0.0282
Level     1,  Iter    34:    Energy =   0.0282
Level     1,  Iter    35:    Energy =   0.0283
Level     1,  Iter    36:    Energy =   0.0283
Level     1,  Iter    37:    Energy =   0.0284
Level     1,  Iter    38:    Energy =   0.0284
Level     1,  Iter    39:    Energy =   0.0285
Level     1,  Iter    40:    Energy =   0.0285
Level     1,  Iter    41:    Energy =   0.0285
Level     1,  Iter    42:    Energy =   0.0286
Level     1,  Iter    43:    Energy =   0.0286
Level     1,  Iter    44:    Energy =   0.0286
Level     1,  Iter    45:    Energy =   0.0287
Level     1,  Iter    46:    Energy =   0.0287
Level     1,  Iter    47:    Energy =   0.0287
Level     1,  Iter    48:    Energy =   0.0287
Level     1,  Iter    49:    Energy =   0.0287
Level     1,  Iter    50:    Energy =   0.0287
Level     1,  Iter    51:    Energy =   0.0287
Level     1,  Iter    52:    Energy =   0.0287
Level     1,  Iter    53:    Energy =   0.0287
Level     1,  Iter    54:    Energy =   0.0287
Level     1,  Iter    55:    Energy =   0.0287
Level     1,  Iter    56:    Energy =   0.0287
Level     1,  Iter    57:    Energy =   0.0287
Level     1,  Iter    58:    Energy =   0.0287
Level     1,  Iter    59:    Energy =   0.0287
END OF LEVEL     1    DetJac Range:   0.0118  to   2.0235 
  Avg. Gradient Time  : 0.0284s  33.29% 
  Avg. Gaussian Time  : 0.0446s  52.19% 
  Avg. Iteration Time : 0.0854s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0139
Level     2,  Iter     1:    Energy =   0.0141
Level     2,  Iter     2:    Energy =   0.0140
Level     2,  Iter     3:    Energy =   0.0143
Level     2,  Iter     4:    Energy =   0.0150
Level     2,  Iter     5:    Energy =   0.0156
Level     2,  Iter     6:    Energy =   0.0160
Level     2,  Iter     7:    Energy =   0.0164
Level     2,  Iter     8:    Energy =   0.0162
Level     2,  Iter     9:    Energy =   0.0165
big value: -1648.918457
big value: -1366.785179
Level     2,  Iter    10:    Energy =   0.0163
Level     2,  Iter    11:    Energy =   0.0160
Level     2,  Iter    12:    Energy =   0.0164
Level     2,  Iter    13:    Energy =   0.0167
Level     2,  Iter    14:    Energy =   0.0170
Level     2,  Iter    15:    Energy =   0.0173
Level     2,  Iter    16:    Energy =   0.0175
Level     2,  Iter    17:    Energy =   0.0177
Level     2,  Iter    18:    Energy =   0.0179
Level     2,  Iter    19:    Energy =   0.0180
END OF LEVEL     2    DetJac Range:   0.0133  to   2.1327 
  Avg. Gradient Time  : 0.1790s  31.66% 
  Avg. Gaussian Time  : 0.3099s  54.80% 
  Avg. Iteration Time : 0.5655s 

real	0m20.424s
user	0m35.040s
sys	0m2.564s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train034/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train034/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train034/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train034/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train034/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train034/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=34 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=34 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.345714 0.35
+ echo 'CHUNK 0.345714 0.35 1'
CHUNK 0.345714 0.35 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.345714 0.35 1
====================================
         PROGRESS: 0.345714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=000
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 000
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train000
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train000
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right 000 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train000 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=right
+ local tid=000
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train000
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 000 right 0
+ local tid=000
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 000 0
+ set -e
+ local tid=000
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train000/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.57
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 27.7764   GNORM= 146.694
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       -63.775      90.194       0.007
   2    4      -326.825      94.995       5.000
   3    5      -429.271      78.385       1.000
   4    6      -470.958      78.256       1.000
   5    8      -528.629      73.094       0.405
   6   10      -543.447     116.586       0.306
   7   11      -581.293      68.945       1.000
   8   12      -728.625      75.694       1.000
   9   13      -775.645     105.091       1.000
  10   14      -813.508      61.742       1.000
  11   16      -832.830      51.822       0.132
  12   18      -840.154      42.189       0.233
  13   19      -862.387      34.128       1.000
  14   21      -919.382      80.146       0.358
  15   22      -921.320      78.005       1.000
  16   23      -931.431      37.566       1.000
  17   25      -934.130      26.320       0.391
  18   26      -935.278      37.489       1.000
  19   27      -942.728      33.928       1.000
  20   28      -948.682      26.274       1.000
  21   29      -951.084      22.449       1.000
  22   31      -952.452      26.992       0.328
  23   32      -953.516      32.819       1.000
  24   33      -955.934      25.723       1.000
  25   34      -967.835      35.232       1.000
  26   35      -980.662      38.823       1.000
  27   36      -985.279      23.474       1.000
  28   37      -989.037      34.958       1.000
  29   38      -997.946      48.839       1.000
  30   39     -1008.934      26.605       1.000
  31   40     -1010.596      79.730       1.000
  32   41     -1016.835      49.179       1.000
  33   43     -1019.164      24.343       0.223
  34   44     -1020.871      26.355       1.000
  35   45     -1022.732      18.005       1.000
  36   47     -1025.715      36.209       0.279
  37   48     -1027.407      19.097       1.000
  38   49     -1030.283      18.031       1.000
  39   51     -1037.456      48.037       0.388
  40   52     -1041.783      43.121       1.000
  41   54     -1043.532      53.133       0.292
  42   55     -1048.888      10.977       1.000
  43   56     -1049.598      15.045       1.000
  44   59     -1056.996      22.824       1.395
Final RAS Transform: 
0.960997 -0.119933 -0.106879 -0.0802816 
0.288135 1.17801 0.375783 10.4972 
-0.419743 -0.4751 0.540356 -1.3935 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -577.856   GNORM= 97.8669
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -583.090      44.127       0.010
   2    5      -591.385      28.459       0.740
   3    7      -595.096      15.915       0.437
   4   12      -596.338      13.282       1.144
   5   16      -596.876      86.255       0.042
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.962092 -0.120482 -0.104261 0.118956 
0.291496 1.18148 0.372423 10.9585 
-0.416256 -0.474127 0.533712 -1.34578 
0 0 0 1 

Final RAS Transform: 
0.962092 -0.120482 -0.104261 0.118956 
0.291496 1.18148 0.372423 10.9585 
-0.416256 -0.474127 0.533712 -1.34578 
0 0 0 1 


real	0m4.549s
user	0m7.168s
sys	0m0.612s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train000/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.446012
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0273
Level     0,  Iter     1:    Energy =   0.0286
Level     0,  Iter     2:    Energy =   0.0318
Level     0,  Iter     3:    Energy =   0.0347
Level     0,  Iter     4:    Energy =   0.0369
Level     0,  Iter     5:    Energy =   0.0389
Level     0,  Iter     6:    Energy =   0.0405
Level     0,  Iter     7:    Energy =   0.0416
Level     0,  Iter     8:    Energy =   0.0426
Level     0,  Iter     9:    Energy =   0.0435
Level     0,  Iter    10:    Energy =   0.0442
Level     0,  Iter    11:    Energy =   0.0449
Level     0,  Iter    12:    Energy =   0.0453
Level     0,  Iter    13:    Energy =   0.0458
Level     0,  Iter    14:    Energy =   0.0462
Level     0,  Iter    15:    Energy =   0.0467
Level     0,  Iter    16:    Energy =   0.0470
Level     0,  Iter    17:    Energy =   0.0476
Level     0,  Iter    18:    Energy =   0.0480
Level     0,  Iter    19:    Energy =   0.0482
Level     0,  Iter    20:    Energy =   0.0485
Level     0,  Iter    21:    Energy =   0.0487
Level     0,  Iter    22:    Energy =   0.0490
Level     0,  Iter    23:    Energy =   0.0493
Level     0,  Iter    24:    Energy =   0.0495
Level     0,  Iter    25:    Energy =   0.0501
Level     0,  Iter    26:    Energy =   0.0506
Level     0,  Iter    27:    Energy =   0.0513
Level     0,  Iter    28:    Energy =   0.0516
Level     0,  Iter    29:    Energy =   0.0521
Level     0,  Iter    30:    Energy =   0.0526
Level     0,  Iter    31:    Energy =   0.0530
Level     0,  Iter    32:    Energy =   0.0535
Level     0,  Iter    33:    Energy =   0.0535
Level     0,  Iter    34:    Energy =   0.0535
Level     0,  Iter    35:    Energy =   0.0538
Level     0,  Iter    36:    Energy =   0.0538
Level     0,  Iter    37:    Energy =   0.0540
Level     0,  Iter    38:    Energy =   0.0543
Level     0,  Iter    39:    Energy =   0.0541
Level     0,  Iter    40:    Energy =   0.0540
Level     0,  Iter    41:    Energy =   0.0540
Level     0,  Iter    42:    Energy =   0.0540
Level     0,  Iter    43:    Energy =   0.0540
Level     0,  Iter    44:    Energy =   0.0541
Level     0,  Iter    45:    Energy =   0.0543
Level     0,  Iter    46:    Energy =   0.0544
Level     0,  Iter    47:    Energy =   0.0545
Level     0,  Iter    48:    Energy =   0.0544
Level     0,  Iter    49:    Energy =   0.0544
Level     0,  Iter    50:    Energy =   0.0546
Level     0,  Iter    51:    Energy =   0.0547
Level     0,  Iter    52:    Energy =   0.0548
Level     0,  Iter    53:    Energy =   0.0549
Level     0,  Iter    54:    Energy =   0.0549
Level     0,  Iter    55:    Energy =   0.0550
Level     0,  Iter    56:    Energy =   0.0548
Level     0,  Iter    57:    Energy =   0.0547
Level     0,  Iter    58:    Energy =   0.0547
Level     0,  Iter    59:    Energy =   0.0544
END OF LEVEL     0    DetJac Range:   0.1980  to   2.7143 
  Avg. Gradient Time  : 0.0075s  33.53% 
  Avg. Gaussian Time  : 0.0108s  48.37% 
  Avg. Iteration Time : 0.0223s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0309
Level     1,  Iter     1:    Energy =   0.0329
Level     1,  Iter     2:    Energy =   0.0348
Level     1,  Iter     3:    Energy =   0.0363
Level     1,  Iter     4:    Energy =   0.0377
Level     1,  Iter     5:    Energy =   0.0389
Level     1,  Iter     6:    Energy =   0.0399
Level     1,  Iter     7:    Energy =   0.0407
Level     1,  Iter     8:    Energy =   0.0415
Level     1,  Iter     9:    Energy =   0.0422
Level     1,  Iter    10:    Energy =   0.0427
Level     1,  Iter    11:    Energy =   0.0433
Level     1,  Iter    12:    Energy =   0.0437
Level     1,  Iter    13:    Energy =   0.0441
Level     1,  Iter    14:    Energy =   0.0444
Level     1,  Iter    15:    Energy =   0.0447
Level     1,  Iter    16:    Energy =   0.0449
Level     1,  Iter    17:    Energy =   0.0451
Level     1,  Iter    18:    Energy =   0.0452
Level     1,  Iter    19:    Energy =   0.0453
Level     1,  Iter    20:    Energy =   0.0454
Level     1,  Iter    21:    Energy =   0.0455
Level     1,  Iter    22:    Energy =   0.0455
Level     1,  Iter    23:    Energy =   0.0455
Level     1,  Iter    24:    Energy =   0.0456
Level     1,  Iter    25:    Energy =   0.0456
Level     1,  Iter    26:    Energy =   0.0456
Level     1,  Iter    27:    Energy =   0.0456
Level     1,  Iter    28:    Energy =   0.0456
Level     1,  Iter    29:    Energy =   0.0456
Level     1,  Iter    30:    Energy =   0.0456
Level     1,  Iter    31:    Energy =   0.0455
Level     1,  Iter    32:    Energy =   0.0455
Level     1,  Iter    33:    Energy =   0.0455
Level     1,  Iter    34:    Energy =   0.0455
Level     1,  Iter    35:    Energy =   0.0455
Level     1,  Iter    36:    Energy =   0.0455
Level     1,  Iter    37:    Energy =   0.0455
Level     1,  Iter    38:    Energy =   0.0455
Level     1,  Iter    39:    Energy =   0.0455
Level     1,  Iter    40:    Energy =   0.0455
Level     1,  Iter    41:    Energy =   0.0455
Level     1,  Iter    42:    Energy =   0.0456
Level     1,  Iter    43:    Energy =   0.0456
Level     1,  Iter    44:    Energy =   0.0457
Level     1,  Iter    45:    Energy =   0.0457
Level     1,  Iter    46:    Energy =   0.0458
Level     1,  Iter    47:    Energy =   0.0458
Level     1,  Iter    48:    Energy =   0.0459
Level     1,  Iter    49:    Energy =   0.0459
Level     1,  Iter    50:    Energy =   0.0460
Level     1,  Iter    51:    Energy =   0.0460
Level     1,  Iter    52:    Energy =   0.0461
Level     1,  Iter    53:    Energy =   0.0461
Level     1,  Iter    54:    Energy =   0.0462
Level     1,  Iter    55:    Energy =   0.0462
Level     1,  Iter    56:    Energy =   0.0463
Level     1,  Iter    57:    Energy =   0.0464
Level     1,  Iter    58:    Energy =   0.0464
Level     1,  Iter    59:    Energy =   0.0464
END OF LEVEL     1    DetJac Range:   0.1092  to   3.1151 
  Avg. Gradient Time  : 0.0289s  34.34% 
  Avg. Gaussian Time  : 0.0433s  51.38% 
  Avg. Iteration Time : 0.0842s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0204
Level     2,  Iter     1:    Energy =   0.0215
Level     2,  Iter     2:    Energy =   0.0225
Level     2,  Iter     3:    Energy =   0.0235
Level     2,  Iter     4:    Energy =   0.0242
Level     2,  Iter     5:    Energy =   0.0246
Level     2,  Iter     6:    Energy =   0.0250
Level     2,  Iter     7:    Energy =   0.0253
Level     2,  Iter     8:    Energy =   0.0252
Level     2,  Iter     9:    Energy =   0.0254
Level     2,  Iter    10:    Energy =   0.0256
Level     2,  Iter    11:    Energy =   0.0259
Level     2,  Iter    12:    Energy =   0.0261
Level     2,  Iter    13:    Energy =   0.0263
Level     2,  Iter    14:    Energy =   0.0266
Level     2,  Iter    15:    Energy =   0.0269
Level     2,  Iter    16:    Energy =   0.0271
Level     2,  Iter    17:    Energy =   0.0274
Level     2,  Iter    18:    Energy =   0.0277
Level     2,  Iter    19:    Energy =   0.0280
END OF LEVEL     2    DetJac Range:   0.0317  to   4.1612 
  Avg. Gradient Time  : 0.1852s  32.88% 
  Avg. Gaussian Time  : 0.3024s  53.67% 
  Avg. Iteration Time : 0.5634s 

real	0m20.476s
user	0m34.980s
sys	0m2.568s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train000/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train000/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train000/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=35 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=35 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.35 0.354286
+ echo 'CHUNK 0.35 0.354286 1'
CHUNK 0.35 0.354286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.35 0.354286 1
====================================
         PROGRESS: 0.35               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=001
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 001
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train001
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train001
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right 001 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train001 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=right
+ local tid=001
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train001
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 001 right 0
+ local tid=001
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 001 0
+ set -e
+ local tid=001
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train001/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.603
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -12.2223   GNORM= 151.239
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -107.109      76.954       0.007
   2    3      -167.193      86.120       1.000
   3    4      -331.811     120.958       1.000
   4    5      -369.202      48.591       1.000
   5    8      -391.756      23.795       0.585
   6    9      -433.641      51.124       1.000
   7   12      -472.669     160.628       1.343
   8   17      -473.217     116.662       0.000
   9   18      -475.770      99.982       1.000
  10   19      -486.979      71.604       1.000
  11   21      -529.382      63.337       5.000
  12   22      -557.462      77.809       1.000
  13   25      -684.413      97.317       1.456
  14   26      -700.678     143.359       1.000
  15   28      -736.965      61.999       0.306
  16   29      -775.960      96.658       1.000
  17   31      -792.070      61.810       0.311
  18   32      -803.841     120.864       1.000
  19   33      -840.344      64.454       1.000
  20   34      -861.522      37.546       1.000
  21   35      -889.880     110.092       1.000
  22   36      -924.622      40.736       1.000
  23   37      -932.556      53.563       1.000
  24   38      -938.731      32.783       1.000
  25   39      -945.758      26.882       1.000
  26   40      -953.405      37.835       1.000
  27   42      -956.814      45.178       0.247
  28   45      -993.085      66.333       2.717
  29   46     -1018.399      56.655       1.000
  30   47     -1029.594      83.657       1.000
  31   48     -1045.688      47.204       1.000
  32   50     -1059.376      63.838       0.442
  33   51     -1064.511      25.600       1.000
  34   52     -1066.887      27.028       1.000
  35   53     -1069.334      12.921       1.000
  36   55     -1070.089      13.035       0.412
  37   56     -1071.135      15.600       1.000
  38   58     -1071.603      19.384       0.164
  39   59     -1072.648      18.148       1.000
  40   60     -1074.019      12.414       1.000
Final RAS Transform: 
0.84271 0.0409603 0.0231764 -1.94825 
0.702247 1.18915 0.268109 1.65259 
-0.176119 -0.288442 0.560278 -8.72797 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -426.388   GNORM= 382.95
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    5      -427.240     509.960       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.843022 0.0413161 0.0227898 -1.90442 
0.701803 1.18862 0.268613 1.59243 
-0.176299 -0.288714 0.560627 -8.76334 
0 0 0 1 

Final RAS Transform: 
0.843022 0.0413161 0.0227898 -1.90442 
0.701803 1.18862 0.268613 1.59243 
-0.176299 -0.288714 0.560627 -8.76334 
0 0 0 1 


real	0m3.856s
user	0m5.880s
sys	0m0.556s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train001/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.51557
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0249
Level     0,  Iter     1:    Energy =   0.0275
Level     0,  Iter     2:    Energy =   0.0305
Level     0,  Iter     3:    Energy =   0.0331
Level     0,  Iter     4:    Energy =   0.0354
Level     0,  Iter     5:    Energy =   0.0374
Level     0,  Iter     6:    Energy =   0.0389
Level     0,  Iter     7:    Energy =   0.0402
Level     0,  Iter     8:    Energy =   0.0415
Level     0,  Iter     9:    Energy =   0.0427
Level     0,  Iter    10:    Energy =   0.0435
Level     0,  Iter    11:    Energy =   0.0439
Level     0,  Iter    12:    Energy =   0.0445
Level     0,  Iter    13:    Energy =   0.0448
Level     0,  Iter    14:    Energy =   0.0454
Level     0,  Iter    15:    Energy =   0.0457
Level     0,  Iter    16:    Energy =   0.0461
Level     0,  Iter    17:    Energy =   0.0464
Level     0,  Iter    18:    Energy =   0.0468
Level     0,  Iter    19:    Energy =   0.0472
Level     0,  Iter    20:    Energy =   0.0478
Level     0,  Iter    21:    Energy =   0.0482
Level     0,  Iter    22:    Energy =   0.0489
Level     0,  Iter    23:    Energy =   0.0491
Level     0,  Iter    24:    Energy =   0.0495
Level     0,  Iter    25:    Energy =   0.0497
Level     0,  Iter    26:    Energy =   0.0501
Level     0,  Iter    27:    Energy =   0.0502
Level     0,  Iter    28:    Energy =   0.0507
Level     0,  Iter    29:    Energy =   0.0508
Level     0,  Iter    30:    Energy =   0.0512
Level     0,  Iter    31:    Energy =   0.0513
Level     0,  Iter    32:    Energy =   0.0516
Level     0,  Iter    33:    Energy =   0.0515
Level     0,  Iter    34:    Energy =   0.0520
Level     0,  Iter    35:    Energy =   0.0520
Level     0,  Iter    36:    Energy =   0.0523
Level     0,  Iter    37:    Energy =   0.0523
Level     0,  Iter    38:    Energy =   0.0527
Level     0,  Iter    39:    Energy =   0.0526
Level     0,  Iter    40:    Energy =   0.0530
Level     0,  Iter    41:    Energy =   0.0529
Level     0,  Iter    42:    Energy =   0.0530
Level     0,  Iter    43:    Energy =   0.0530
Level     0,  Iter    44:    Energy =   0.0533
Level     0,  Iter    45:    Energy =   0.0532
Level     0,  Iter    46:    Energy =   0.0534
Level     0,  Iter    47:    Energy =   0.0532
Level     0,  Iter    48:    Energy =   0.0535
Level     0,  Iter    49:    Energy =   0.0534
Level     0,  Iter    50:    Energy =   0.0536
Level     0,  Iter    51:    Energy =   0.0535
Level     0,  Iter    52:    Energy =   0.0538
Level     0,  Iter    53:    Energy =   0.0537
Level     0,  Iter    54:    Energy =   0.0540
Level     0,  Iter    55:    Energy =   0.0539
Level     0,  Iter    56:    Energy =   0.0542
Level     0,  Iter    57:    Energy =   0.0542
Level     0,  Iter    58:    Energy =   0.0545
Level     0,  Iter    59:    Energy =   0.0544
END OF LEVEL     0    DetJac Range:   0.1614  to   2.2968 
  Avg. Gradient Time  : 0.0068s  32.91% 
  Avg. Gaussian Time  : 0.0102s  48.87% 
  Avg. Iteration Time : 0.0208s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0284
Level     1,  Iter     1:    Energy =   0.0307
Level     1,  Iter     2:    Energy =   0.0324
Level     1,  Iter     3:    Energy =   0.0337
Level     1,  Iter     4:    Energy =   0.0346
Level     1,  Iter     5:    Energy =   0.0353
Level     1,  Iter     6:    Energy =   0.0358
Level     1,  Iter     7:    Energy =   0.0364
Level     1,  Iter     8:    Energy =   0.0369
Level     1,  Iter     9:    Energy =   0.0372
Level     1,  Iter    10:    Energy =   0.0375
Level     1,  Iter    11:    Energy =   0.0378
Level     1,  Iter    12:    Energy =   0.0380
Level     1,  Iter    13:    Energy =   0.0383
Level     1,  Iter    14:    Energy =   0.0385
Level     1,  Iter    15:    Energy =   0.0389
Level     1,  Iter    16:    Energy =   0.0392
Level     1,  Iter    17:    Energy =   0.0396
Level     1,  Iter    18:    Energy =   0.0399
Level     1,  Iter    19:    Energy =   0.0403
Level     1,  Iter    20:    Energy =   0.0406
Level     1,  Iter    21:    Energy =   0.0410
Level     1,  Iter    22:    Energy =   0.0414
Level     1,  Iter    23:    Energy =   0.0417
Level     1,  Iter    24:    Energy =   0.0420
Level     1,  Iter    25:    Energy =   0.0422
Level     1,  Iter    26:    Energy =   0.0426
Level     1,  Iter    27:    Energy =   0.0429
Level     1,  Iter    28:    Energy =   0.0431
Level     1,  Iter    29:    Energy =   0.0434
Level     1,  Iter    30:    Energy =   0.0435
Level     1,  Iter    31:    Energy =   0.0437
Level     1,  Iter    32:    Energy =   0.0439
Level     1,  Iter    33:    Energy =   0.0441
Level     1,  Iter    34:    Energy =   0.0442
Level     1,  Iter    35:    Energy =   0.0444
Level     1,  Iter    36:    Energy =   0.0445
Level     1,  Iter    37:    Energy =   0.0447
Level     1,  Iter    38:    Energy =   0.0448
Level     1,  Iter    39:    Energy =   0.0449
Level     1,  Iter    40:    Energy =   0.0450
Level     1,  Iter    41:    Energy =   0.0450
Level     1,  Iter    42:    Energy =   0.0451
Level     1,  Iter    43:    Energy =   0.0452
Level     1,  Iter    44:    Energy =   0.0453
Level     1,  Iter    45:    Energy =   0.0454
Level     1,  Iter    46:    Energy =   0.0455
Level     1,  Iter    47:    Energy =   0.0456
Level     1,  Iter    48:    Energy =   0.0457
Level     1,  Iter    49:    Energy =   0.0458
Level     1,  Iter    50:    Energy =   0.0459
Level     1,  Iter    51:    Energy =   0.0460
Level     1,  Iter    52:    Energy =   0.0461
Level     1,  Iter    53:    Energy =   0.0461
Level     1,  Iter    54:    Energy =   0.0462
Level     1,  Iter    55:    Energy =   0.0462
Level     1,  Iter    56:    Energy =   0.0463
Level     1,  Iter    57:    Energy =   0.0463
Level     1,  Iter    58:    Energy =   0.0464
Level     1,  Iter    59:    Energy =   0.0464
END OF LEVEL     1    DetJac Range:   0.0512  to   2.8331 
  Avg. Gradient Time  : 0.0289s  34.85% 
  Avg. Gaussian Time  : 0.0424s  51.14% 
  Avg. Iteration Time : 0.0830s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0211
Level     2,  Iter     1:    Energy =   0.0219
big value: 1175.441665
Level     2,  Iter     2:    Energy =   0.0226
Level     2,  Iter     3:    Energy =   0.0222
Level     2,  Iter     4:    Energy =   0.0229
Level     2,  Iter     5:    Energy =   0.0235
Level     2,  Iter     6:    Energy =   0.0241
Level     2,  Iter     7:    Energy =   0.0246
Level     2,  Iter     8:    Energy =   0.0252
Level     2,  Iter     9:    Energy =   0.0257
Level     2,  Iter    10:    Energy =   0.0262
Level     2,  Iter    11:    Energy =   0.0266
Level     2,  Iter    12:    Energy =   0.0269
Level     2,  Iter    13:    Energy =   0.0273
Level     2,  Iter    14:    Energy =   0.0275
Level     2,  Iter    15:    Energy =   0.0276
Level     2,  Iter    16:    Energy =   0.0278
Level     2,  Iter    17:    Energy =   0.0277
Level     2,  Iter    18:    Energy =   0.0279
Level     2,  Iter    19:    Energy =   0.0281
END OF LEVEL     2    DetJac Range:   0.0542  to   3.5021 
  Avg. Gradient Time  : 0.1842s  32.74% 
  Avg. Gaussian Time  : 0.3015s  53.58% 
  Avg. Iteration Time : 0.5627s 

real	0m20.245s
user	0m34.676s
sys	0m2.484s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train001/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train001/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train001/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=36 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=36 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.354286 0.358571
+ echo 'CHUNK 0.354286 0.358571 1'
CHUNK 0.354286 0.358571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.354286 0.358571 1
====================================
         PROGRESS: 0.354286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=002
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 002
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train002
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train002
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right 002 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train002 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=right
+ local tid=002
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train002
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 002 right 0
+ local tid=002
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 002 0
+ set -e
+ local tid=002
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train002/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.569
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 1.13761   GNORM= 142.806
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -404.793      71.083       0.035
   2    4      -439.473     161.307       1.000
   3    5      -441.937     111.871       1.000
   4    6      -500.125      54.607       1.000
   5    7      -520.631      36.674       1.000
   6    8      -545.413      41.888       1.000
   7    9      -588.669      63.223       1.000
   8   10      -605.864      25.369       1.000
   9   11      -611.865      18.545       1.000
  10   13      -625.205      50.516       0.451
  11   15      -630.714      84.385       0.277
  12   16      -643.131      42.023       1.000
  13   17      -653.465      26.213       1.000
  14   18      -657.142      20.357       1.000
  15   19      -666.456      21.602       1.000
  16   20      -671.339      19.606       1.000
  17   21      -674.344      83.160       1.000
  18   22      -689.764      58.384       1.000
  19   24      -701.870      42.426       0.523
  20   25      -702.950      33.197       1.000
  21   26      -711.983      25.774       1.000
  22   27      -715.624      55.561       1.000
  23   28      -739.139      26.568       1.000
  24   29      -762.424      40.610       1.000
  25   30      -791.221      63.359       1.000
  26   31      -800.212      65.628       1.000
  27   32      -824.235      57.742       1.000
  28   33      -839.663      54.738       1.000
  29   35      -852.808      40.576       0.267
  30   36      -867.938      37.243       1.000
  31   37      -881.356      31.156       1.000
  32   38      -896.304      34.120       1.000
  33   39      -928.492      30.652       1.000
  34   41      -942.893      27.745       0.325
  35   42      -946.190      33.579       1.000
  36   43      -949.186      16.587       1.000
  37   44      -950.463      18.128       1.000
  38   46      -953.623      26.785       0.373
  39   48      -955.303      26.116       0.427
  40   49      -961.730      15.159       1.000
  41   50      -976.655      38.134       1.000
  42   51     -1010.776      64.149       1.000
  43   52     -1025.526      77.944       1.000
  44   53     -1030.715      29.555       1.000
  45   54     -1045.363      24.911       1.000
  46   55     -1048.602      37.112       1.000
  47   56     -1055.033      25.481       1.000
  48   57     -1060.102      38.063       1.000
  49   58     -1065.234      19.601       1.000
  50   59     -1066.333      20.516       1.000
  51   60     -1067.488      16.824       1.000
  52   61     -1067.949      13.051       1.000
Final RAS Transform: 
1.18212 0.120373 0.0395315 -4.01623 
0.115999 1.20225 0.157224 6.04182 
-0.463893 -0.514584 0.55651 2.35198 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -588.857   GNORM= 103.952
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -608.363      88.185       0.010
   2    3      -626.560      35.049       1.000
   3    4      -629.114      35.625       1.000
   4    5      -630.418      43.990       1.000
   5    7      -630.425      20.577       0.293
   6   13      -630.665      14.190       1.248
   7   14      -631.595      37.880       1.000
   8   15      -632.820      20.146       1.000
   9   17      -636.174      73.149       5.000
  10   18      -638.702      23.608       1.000
  11   19      -639.532      31.703       1.000
  12   20      -640.353      20.616       1.000
  13   24      -640.960      20.700       1.312
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.17207 0.11139 0.0538693 -3.76089 
0.122731 1.19376 0.165105 6.43839 
-0.444641 -0.535072 0.552299 2.92395 
0 0 0 1 

Final RAS Transform: 
1.17207 0.11139 0.0538693 -3.76089 
0.122731 1.19376 0.165105 6.43839 
-0.444641 -0.535072 0.552299 2.92395 
0 0 0 1 


real	0m5.398s
user	0m8.796s
sys	0m0.624s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train002/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.462581
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0275
Level     0,  Iter     1:    Energy =   0.0306
Level     0,  Iter     2:    Energy =   0.0333
Level     0,  Iter     3:    Energy =   0.0354
Level     0,  Iter     4:    Energy =   0.0373
Level     0,  Iter     5:    Energy =   0.0388
Level     0,  Iter     6:    Energy =   0.0401
Level     0,  Iter     7:    Energy =   0.0413
Level     0,  Iter     8:    Energy =   0.0423
Level     0,  Iter     9:    Energy =   0.0429
Level     0,  Iter    10:    Energy =   0.0435
Level     0,  Iter    11:    Energy =   0.0442
Level     0,  Iter    12:    Energy =   0.0450
Level     0,  Iter    13:    Energy =   0.0455
Level     0,  Iter    14:    Energy =   0.0461
Level     0,  Iter    15:    Energy =   0.0465
Level     0,  Iter    16:    Energy =   0.0470
Level     0,  Iter    17:    Energy =   0.0473
Level     0,  Iter    18:    Energy =   0.0476
Level     0,  Iter    19:    Energy =   0.0480
Level     0,  Iter    20:    Energy =   0.0484
Level     0,  Iter    21:    Energy =   0.0486
Level     0,  Iter    22:    Energy =   0.0490
Level     0,  Iter    23:    Energy =   0.0491
Level     0,  Iter    24:    Energy =   0.0493
Level     0,  Iter    25:    Energy =   0.0495
Level     0,  Iter    26:    Energy =   0.0495
Level     0,  Iter    27:    Energy =   0.0494
Level     0,  Iter    28:    Energy =   0.0493
Level     0,  Iter    29:    Energy =   0.0492
Level     0,  Iter    30:    Energy =   0.0492
Level     0,  Iter    31:    Energy =   0.0492
Level     0,  Iter    32:    Energy =   0.0494
Level     0,  Iter    33:    Energy =   0.0494
Level     0,  Iter    34:    Energy =   0.0494
Level     0,  Iter    35:    Energy =   0.0493
Level     0,  Iter    36:    Energy =   0.0494
Level     0,  Iter    37:    Energy =   0.0494
Level     0,  Iter    38:    Energy =   0.0495
Level     0,  Iter    39:    Energy =   0.0494
Level     0,  Iter    40:    Energy =   0.0495
Level     0,  Iter    41:    Energy =   0.0494
Level     0,  Iter    42:    Energy =   0.0495
Level     0,  Iter    43:    Energy =   0.0495
Level     0,  Iter    44:    Energy =   0.0496
Level     0,  Iter    45:    Energy =   0.0495
Level     0,  Iter    46:    Energy =   0.0496
Level     0,  Iter    47:    Energy =   0.0495
Level     0,  Iter    48:    Energy =   0.0498
Level     0,  Iter    49:    Energy =   0.0497
Level     0,  Iter    50:    Energy =   0.0498
Level     0,  Iter    51:    Energy =   0.0497
Level     0,  Iter    52:    Energy =   0.0498
Level     0,  Iter    53:    Energy =   0.0497
Level     0,  Iter    54:    Energy =   0.0498
Level     0,  Iter    55:    Energy =   0.0498
Level     0,  Iter    56:    Energy =   0.0498
Level     0,  Iter    57:    Energy =   0.0498
Level     0,  Iter    58:    Energy =   0.0498
Level     0,  Iter    59:    Energy =   0.0497
END OF LEVEL     0    DetJac Range:   0.1551  to   2.6574 
  Avg. Gradient Time  : 0.0071s  33.73% 
  Avg. Gaussian Time  : 0.0101s  48.13% 
  Avg. Iteration Time : 0.0210s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0303
Level     1,  Iter     1:    Energy =   0.0321
Level     1,  Iter     2:    Energy =   0.0337
Level     1,  Iter     3:    Energy =   0.0352
Level     1,  Iter     4:    Energy =   0.0368
Level     1,  Iter     5:    Energy =   0.0382
Level     1,  Iter     6:    Energy =   0.0394
Level     1,  Iter     7:    Energy =   0.0407
Level     1,  Iter     8:    Energy =   0.0417
Level     1,  Iter     9:    Energy =   0.0428
Level     1,  Iter    10:    Energy =   0.0437
Level     1,  Iter    11:    Energy =   0.0445
Level     1,  Iter    12:    Energy =   0.0452
Level     1,  Iter    13:    Energy =   0.0458
Level     1,  Iter    14:    Energy =   0.0464
Level     1,  Iter    15:    Energy =   0.0468
Level     1,  Iter    16:    Energy =   0.0472
Level     1,  Iter    17:    Energy =   0.0476
Level     1,  Iter    18:    Energy =   0.0479
Level     1,  Iter    19:    Energy =   0.0483
Level     1,  Iter    20:    Energy =   0.0486
Level     1,  Iter    21:    Energy =   0.0489
Level     1,  Iter    22:    Energy =   0.0492
Level     1,  Iter    23:    Energy =   0.0494
Level     1,  Iter    24:    Energy =   0.0494
Level     1,  Iter    25:    Energy =   0.0495
Level     1,  Iter    26:    Energy =   0.0495
Level     1,  Iter    27:    Energy =   0.0497
Level     1,  Iter    28:    Energy =   0.0499
Level     1,  Iter    29:    Energy =   0.0501
Level     1,  Iter    30:    Energy =   0.0503
Level     1,  Iter    31:    Energy =   0.0506
Level     1,  Iter    32:    Energy =   0.0507
Level     1,  Iter    33:    Energy =   0.0510
Level     1,  Iter    34:    Energy =   0.0512
Level     1,  Iter    35:    Energy =   0.0513
Level     1,  Iter    36:    Energy =   0.0515
Level     1,  Iter    37:    Energy =   0.0516
Level     1,  Iter    38:    Energy =   0.0518
Level     1,  Iter    39:    Energy =   0.0520
Level     1,  Iter    40:    Energy =   0.0521
Level     1,  Iter    41:    Energy =   0.0523
Level     1,  Iter    42:    Energy =   0.0524
Level     1,  Iter    43:    Energy =   0.0525
Level     1,  Iter    44:    Energy =   0.0526
Level     1,  Iter    45:    Energy =   0.0527
Level     1,  Iter    46:    Energy =   0.0528
Level     1,  Iter    47:    Energy =   0.0529
Level     1,  Iter    48:    Energy =   0.0530
Level     1,  Iter    49:    Energy =   0.0531
Level     1,  Iter    50:    Energy =   0.0531
Level     1,  Iter    51:    Energy =   0.0532
Level     1,  Iter    52:    Energy =   0.0533
Level     1,  Iter    53:    Energy =   0.0533
Level     1,  Iter    54:    Energy =   0.0534
Level     1,  Iter    55:    Energy =   0.0535
Level     1,  Iter    56:    Energy =   0.0535
Level     1,  Iter    57:    Energy =   0.0536
Level     1,  Iter    58:    Energy =   0.0536
Level     1,  Iter    59:    Energy =   0.0537
END OF LEVEL     1    DetJac Range:   0.0632  to   4.3820 
  Avg. Gradient Time  : 0.0280s  34.12% 
  Avg. Gaussian Time  : 0.0425s  51.75% 
  Avg. Iteration Time : 0.0821s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0253
Level     2,  Iter     1:    Energy =   0.0263
Level     2,  Iter     2:    Energy =   0.0273
Level     2,  Iter     3:    Energy =   0.0281
Level     2,  Iter     4:    Energy =   0.0288
Level     2,  Iter     5:    Energy =   0.0295
Level     2,  Iter     6:    Energy =   0.0302
Level     2,  Iter     7:    Energy =   0.0309
Level     2,  Iter     8:    Energy =   0.0314
Level     2,  Iter     9:    Energy =   0.0317
Level     2,  Iter    10:    Energy =   0.0319
Level     2,  Iter    11:    Energy =   0.0322
Level     2,  Iter    12:    Energy =   0.0325
Level     2,  Iter    13:    Energy =   0.0328
Level     2,  Iter    14:    Energy =   0.0330
Level     2,  Iter    15:    Energy =   0.0334
Level     2,  Iter    16:    Energy =   0.0338
Level     2,  Iter    17:    Energy =   0.0341
Level     2,  Iter    18:    Energy =   0.0345
Level     2,  Iter    19:    Energy =   0.0348
END OF LEVEL     2    DetJac Range:   0.0583  to   4.8806 
  Avg. Gradient Time  : 0.1817s  32.54% 
  Avg. Gaussian Time  : 0.3013s  53.96% 
  Avg. Iteration Time : 0.5584s 

real	0m20.221s
user	0m34.596s
sys	0m2.508s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train002/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train002/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train002/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=37 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=37 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.358571 0.362857
+ echo 'CHUNK 0.358571 0.362857 1'
CHUNK 0.358571 0.362857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.358571 0.362857 1
====================================
         PROGRESS: 0.358571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=003
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 003
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train003
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train003
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right 003 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train003 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=right
+ local tid=003
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train003
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 003 right 0
+ local tid=003
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 003 0
+ set -e
+ local tid=003
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train003/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.673
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 84.6345   GNORM= 155.528
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       -50.421     137.124       0.006
   2    3      -137.125     171.920       1.000
   3    4      -330.586     149.998       1.000
   4    6      -426.471      43.823       0.362
   5    7      -432.691      79.810       1.000
   6    8      -450.460      59.313       1.000
   7    9      -531.224     148.259       1.000
   8   10      -572.437      77.318       1.000
   9   11      -609.119      63.819       1.000
  10   13      -622.223      40.371       0.339
  11   14      -636.704      47.196       1.000
  12   16      -738.013      69.871       5.000
  13   17      -757.250      57.794       1.000
  14   18      -788.952      63.892       1.000
  15   19      -816.545      38.556       1.000
  16   21      -828.173      68.959       0.468
  17   22      -839.663      51.438       1.000
  18   23      -881.221      47.705       1.000
  19   25      -893.658      41.483       0.129
  20   26      -903.838      30.370       1.000
  21   27      -920.089      55.053       1.000
  22   28      -934.336      58.410       1.000
  23   29      -952.883      23.724       1.000
  24   30      -953.793      16.505       1.000
  25   31      -956.186      11.713       1.000
  26   32      -963.278      31.178       1.000
  27   34      -967.205      42.674       0.345
  28   35      -972.157      33.454       1.000
  29   36      -977.053      28.312       1.000
  30   37      -980.112      18.619       1.000
  31   39      -980.626      23.148       0.331
  32   40      -983.774      20.659       1.000
  33   41      -994.014      33.519       1.000
  34   43      -996.305      30.059       0.350
  35   44      -998.572      17.757       1.000
  36   45     -1001.918      20.684       1.000
  37   47     -1009.538      27.083       0.116
  38   48     -1012.701      14.382       1.000
  39   49     -1018.002      19.592       1.000
  40   51     -1018.796      17.616       0.300
  41   52     -1019.549      10.564       1.000
  42   55     -1022.632      24.614       0.716
  43   58     -1022.763      27.383       0.103
  44   59     -1023.956      11.354       1.000
  45   60     -1024.400      16.791       1.000
  46   61     -1025.349      16.758       1.000
Final RAS Transform: 
1.01663 -0.0200982 0.0427442 0.133194 
0.186728 1.21429 0.476413 11.249 
-0.420118 -0.458151 0.400556 -2.35503 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -588.411   GNORM= 53.3218
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -620.107      74.249       0.019
   2    3      -636.515      39.698       1.000
   3    4      -647.069      18.540       1.000
   4    5      -649.766      11.051       1.000
   5    6      -652.579      12.465       1.000
   6    7      -656.665      28.052       1.000
   7    9      -657.693      13.337       0.404
   8   10      -658.128       7.857       1.000
   9   11      -658.397       5.190       1.000
  10   12      -659.105       8.990       1.000
  11   13      -660.301      15.968       1.000
  12   14      -662.630      20.155       1.000
  13   16      -663.134      16.642       0.178
  14   17      -664.451      11.162       1.000
  15   18      -664.944       7.804       1.000
  16   19      -665.078       4.599       1.000
  17   20      -665.115       5.162       1.000
  18   21      -665.236       3.855       1.000
  19   23      -665.389       5.786       0.340
  20   24      -665.861       6.110       1.000
  21   25      -666.032       7.096       1.000
  22   27      -666.117       4.229       0.427
  23   28      -666.160       3.748       1.000
  24   29      -666.266       3.147       1.000
  25   30      -666.474      10.661       1.000
  26   31      -666.684       3.949       1.000
  27   32      -666.770       4.260       1.000
  28   34      -666.801       4.466       0.203
  29   35      -666.809       7.356       1.000
  30   36      -666.919       4.629       1.000
  31   37      -666.984       3.775       1.000
  32   38      -667.066       3.107       1.000
  33   40      -667.088       4.479       0.316
  34   41      -667.142       4.525       1.000
  35   42      -667.159       2.930       1.000
  36   43      -667.213       3.567       1.000
  37   45      -667.214       5.240       0.373
  38   46      -667.265       4.727       1.000
  39   48      -667.333       3.444       0.302
  40   49      -667.349       2.516       1.000
  41   50      -667.397       4.240       1.000
  42   52      -667.415       4.813       0.299
  43   53      -667.435       1.541       1.000
  44   55      -667.447       1.496       0.303
  45   56      -667.448       1.132       1.000
  46   57      -667.466       3.164       1.000
  47   58      -667.498       9.112       1.000
  48   61      -667.619       7.609       1.819
Final RAS Transform: 
1.06889 0.000971621 0.0592426 -0.490592 
0.156209 1.19209 0.479261 10.724 
-0.374547 -0.442719 0.423599 -2.11149 
0 0 0 1 

Final RAS Transform: 
1.06889 0.000971621 0.0592426 -0.490592 
0.156209 1.19209 0.479261 10.724 
-0.374547 -0.442719 0.423599 -2.11149 
0 0 0 1 


real	0m6.019s
user	0m9.888s
sys	0m0.752s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train003/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.544474
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0266
Level     0,  Iter     1:    Energy =   0.0287
Level     0,  Iter     2:    Energy =   0.0316
Level     0,  Iter     3:    Energy =   0.0342
Level     0,  Iter     4:    Energy =   0.0365
Level     0,  Iter     5:    Energy =   0.0389
Level     0,  Iter     6:    Energy =   0.0412
Level     0,  Iter     7:    Energy =   0.0435
Level     0,  Iter     8:    Energy =   0.0451
Level     0,  Iter     9:    Energy =   0.0464
Level     0,  Iter    10:    Energy =   0.0476
Level     0,  Iter    11:    Energy =   0.0482
Level     0,  Iter    12:    Energy =   0.0489
Level     0,  Iter    13:    Energy =   0.0494
Level     0,  Iter    14:    Energy =   0.0500
Level     0,  Iter    15:    Energy =   0.0503
Level     0,  Iter    16:    Energy =   0.0507
Level     0,  Iter    17:    Energy =   0.0512
Level     0,  Iter    18:    Energy =   0.0513
Level     0,  Iter    19:    Energy =   0.0517
Level     0,  Iter    20:    Energy =   0.0518
Level     0,  Iter    21:    Energy =   0.0520
Level     0,  Iter    22:    Energy =   0.0522
Level     0,  Iter    23:    Energy =   0.0524
Level     0,  Iter    24:    Energy =   0.0525
Level     0,  Iter    25:    Energy =   0.0525
Level     0,  Iter    26:    Energy =   0.0526
Level     0,  Iter    27:    Energy =   0.0527
Level     0,  Iter    28:    Energy =   0.0530
Level     0,  Iter    29:    Energy =   0.0531
Level     0,  Iter    30:    Energy =   0.0534
Level     0,  Iter    31:    Energy =   0.0535
Level     0,  Iter    32:    Energy =   0.0538
Level     0,  Iter    33:    Energy =   0.0538
Level     0,  Iter    34:    Energy =   0.0540
Level     0,  Iter    35:    Energy =   0.0539
Level     0,  Iter    36:    Energy =   0.0542
Level     0,  Iter    37:    Energy =   0.0542
Level     0,  Iter    38:    Energy =   0.0546
Level     0,  Iter    39:    Energy =   0.0545
Level     0,  Iter    40:    Energy =   0.0547
Level     0,  Iter    41:    Energy =   0.0548
Level     0,  Iter    42:    Energy =   0.0550
Level     0,  Iter    43:    Energy =   0.0552
Level     0,  Iter    44:    Energy =   0.0554
Level     0,  Iter    45:    Energy =   0.0556
Level     0,  Iter    46:    Energy =   0.0556
Level     0,  Iter    47:    Energy =   0.0555
Level     0,  Iter    48:    Energy =   0.0557
Level     0,  Iter    49:    Energy =   0.0556
Level     0,  Iter    50:    Energy =   0.0557
Level     0,  Iter    51:    Energy =   0.0557
Level     0,  Iter    52:    Energy =   0.0558
Level     0,  Iter    53:    Energy =   0.0556
Level     0,  Iter    54:    Energy =   0.0557
Level     0,  Iter    55:    Energy =   0.0558
Level     0,  Iter    56:    Energy =   0.0558
Level     0,  Iter    57:    Energy =   0.0557
Level     0,  Iter    58:    Energy =   0.0556
Level     0,  Iter    59:    Energy =   0.0556
END OF LEVEL     0    DetJac Range:   0.0947  to   3.2970 
  Avg. Gradient Time  : 0.0072s  32.72% 
  Avg. Gaussian Time  : 0.0108s  49.46% 
  Avg. Iteration Time : 0.0219s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0343
Level     1,  Iter     1:    Energy =   0.0367
Level     1,  Iter     2:    Energy =   0.0385
Level     1,  Iter     3:    Energy =   0.0402
Level     1,  Iter     4:    Energy =   0.0414
Level     1,  Iter     5:    Energy =   0.0424
Level     1,  Iter     6:    Energy =   0.0432
Level     1,  Iter     7:    Energy =   0.0439
Level     1,  Iter     8:    Energy =   0.0446
Level     1,  Iter     9:    Energy =   0.0452
Level     1,  Iter    10:    Energy =   0.0457
Level     1,  Iter    11:    Energy =   0.0462
Level     1,  Iter    12:    Energy =   0.0467
Level     1,  Iter    13:    Energy =   0.0471
Level     1,  Iter    14:    Energy =   0.0474
Level     1,  Iter    15:    Energy =   0.0478
Level     1,  Iter    16:    Energy =   0.0481
Level     1,  Iter    17:    Energy =   0.0484
Level     1,  Iter    18:    Energy =   0.0486
Level     1,  Iter    19:    Energy =   0.0488
Level     1,  Iter    20:    Energy =   0.0489
Level     1,  Iter    21:    Energy =   0.0490
Level     1,  Iter    22:    Energy =   0.0491
Level     1,  Iter    23:    Energy =   0.0493
Level     1,  Iter    24:    Energy =   0.0494
Level     1,  Iter    25:    Energy =   0.0495
Level     1,  Iter    26:    Energy =   0.0496
Level     1,  Iter    27:    Energy =   0.0497
Level     1,  Iter    28:    Energy =   0.0498
Level     1,  Iter    29:    Energy =   0.0499
Level     1,  Iter    30:    Energy =   0.0500
Level     1,  Iter    31:    Energy =   0.0502
Level     1,  Iter    32:    Energy =   0.0503
Level     1,  Iter    33:    Energy =   0.0504
Level     1,  Iter    34:    Energy =   0.0505
Level     1,  Iter    35:    Energy =   0.0506
Level     1,  Iter    36:    Energy =   0.0507
Level     1,  Iter    37:    Energy =   0.0508
Level     1,  Iter    38:    Energy =   0.0508
Level     1,  Iter    39:    Energy =   0.0509
Level     1,  Iter    40:    Energy =   0.0510
Level     1,  Iter    41:    Energy =   0.0511
Level     1,  Iter    42:    Energy =   0.0511
Level     1,  Iter    43:    Energy =   0.0512
Level     1,  Iter    44:    Energy =   0.0513
Level     1,  Iter    45:    Energy =   0.0514
Level     1,  Iter    46:    Energy =   0.0515
Level     1,  Iter    47:    Energy =   0.0516
Level     1,  Iter    48:    Energy =   0.0516
Level     1,  Iter    49:    Energy =   0.0517
Level     1,  Iter    50:    Energy =   0.0518
Level     1,  Iter    51:    Energy =   0.0518
Level     1,  Iter    52:    Energy =   0.0518
Level     1,  Iter    53:    Energy =   0.0518
Level     1,  Iter    54:    Energy =   0.0518
Level     1,  Iter    55:    Energy =   0.0518
Level     1,  Iter    56:    Energy =   0.0519
Level     1,  Iter    57:    Energy =   0.0519
Level     1,  Iter    58:    Energy =   0.0520
Level     1,  Iter    59:    Energy =   0.0521
END OF LEVEL     1    DetJac Range:   0.0364  to   4.9863 
  Avg. Gradient Time  : 0.0303s  34.97% 
  Avg. Gaussian Time  : 0.0442s  51.11% 
  Avg. Iteration Time : 0.0866s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0247
Level     2,  Iter     1:    Energy =   0.0254
Level     2,  Iter     2:    Energy =   0.0263
Level     2,  Iter     3:    Energy =   0.0269
Level     2,  Iter     4:    Energy =   0.0275
Level     2,  Iter     5:    Energy =   0.0280
Level     2,  Iter     6:    Energy =   0.0285
Level     2,  Iter     7:    Energy =   0.0292
Level     2,  Iter     8:    Energy =   0.0298
Level     2,  Iter     9:    Energy =   0.0304
Level     2,  Iter    10:    Energy =   0.0310
Level     2,  Iter    11:    Energy =   0.0314
Level     2,  Iter    12:    Energy =   0.0318
Level     2,  Iter    13:    Energy =   0.0322
Level     2,  Iter    14:    Energy =   0.0325
Level     2,  Iter    15:    Energy =   0.0327
Level     2,  Iter    16:    Energy =   0.0329
Level     2,  Iter    17:    Energy =   0.0331
Level     2,  Iter    18:    Energy =   0.0332
Level     2,  Iter    19:    Energy =   0.0333
END OF LEVEL     2    DetJac Range:   0.0378  to   4.7024 
  Avg. Gradient Time  : 0.1816s  32.66% 
  Avg. Gaussian Time  : 0.2992s  53.81% 
  Avg. Iteration Time : 0.5560s 

real	0m20.414s
user	0m35.044s
sys	0m2.456s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train003/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train003/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train003/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=38 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=38 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.362857 0.367143
+ echo 'CHUNK 0.362857 0.367143 1'
CHUNK 0.362857 0.367143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.362857 0.367143 1
====================================
         PROGRESS: 0.362857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=004
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 004
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train004
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train004
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right 004 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train004 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=right
+ local tid=004
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train004
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 004 right 0
+ local tid=004
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 004 0
+ set -e
+ local tid=004
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train004/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.532
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 13.0355   GNORM= 255.374
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -218.221     182.559       0.004
   2    3      -385.816     168.676       1.000
   3    4      -472.077      73.465       1.000
   4    6      -497.042      44.965       0.501
   5    7      -514.424      55.493       1.000
   6    8      -549.165      67.853       1.000
   7    9      -624.213     116.962       1.000
   8   10      -664.856      54.988       1.000
   9   11      -683.606      36.464       1.000
  10   13      -714.364      45.594       5.000
  11   14      -752.800      71.946       1.000
  12   16      -786.387     110.433       0.311
  13   18      -796.991      61.607       0.246
  14   19      -811.263      24.881       1.000
  15   20      -817.060      31.175       1.000
  16   23      -848.155      55.010       2.842
  17   24      -854.317     121.604       1.000
  18   25      -867.376      78.185       1.000
  19   27      -882.081      42.750       0.439
  20   28      -896.489      62.851       1.000
  21   29      -916.037      57.166       1.000
  22   31      -921.962      49.550       0.163
  23   32      -931.299      29.843       1.000
  24   33      -937.908      21.205       1.000
  25   34      -941.234      49.100       1.000
  26   35      -947.147      39.035       1.000
  27   36      -955.416      64.148       1.000
  28   37      -964.484      41.141       1.000
  29   38      -966.870      14.405       1.000
  30   39      -966.969      11.800       1.000
  31   40      -967.442      10.901       1.000
  32   41      -967.579      17.509       1.000
  33   42      -968.114       9.638       1.000
  34   44      -968.218      10.422       0.393
  35   45      -968.330       4.764       1.000
  36   47      -968.354       5.572       0.333
  37   48      -968.424       9.215       1.000
  38   49      -968.565      11.834       1.000
  39   50      -968.738       7.764       1.000
  40   51      -968.868       7.725       1.000
  41   52      -968.913       3.742       1.000
  42   53      -968.945       3.602       1.000
  43   55      -968.970       3.032       0.240
  44   56      -968.989       4.975       1.000
  45   58      -968.994       4.965       0.185
Final RAS Transform: 
1.04905 0.0284403 -0.0338915 -5.34112 
0.0279398 0.930932 0.366113 18.9684 
-0.0321631 -0.0361026 0.636007 -14.001 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -642.848   GNORM= 42.8732
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -647.666      67.270       0.023
   2    3      -663.271      27.867       1.000
   3    4      -673.618      29.615       1.000
   4    5      -702.937      68.464       1.000
   5    6      -717.124      43.128       1.000
   6    8      -719.759      14.148       0.475
   7    9      -720.790      10.049       1.000
   8   10      -721.274       9.554       1.000
   9   11      -722.325      11.823       1.000
  10   12      -725.566      15.900       1.000
  11   13      -728.752      32.169       1.000
  12   14      -732.552      18.092       1.000
  13   15      -733.762      17.558       1.000
  14   16      -734.367      10.477       1.000
  15   17      -734.634       9.321       1.000
  16   18      -735.020       6.898       1.000
  17   19      -735.467       5.392       1.000
  18   20      -736.284       8.198       1.000
  19   21      -736.371      27.247       1.000
  20   22      -737.781      13.705       1.000
  21   23      -738.604       5.411       1.000
  22   24      -738.934       5.509       1.000
  23   26      -739.017       6.580       0.229
  24   28      -739.070      11.097       0.183
  25   29      -739.210       7.652       1.000
  26   30      -739.255       6.588       1.000
  27   31      -739.331       3.896       1.000
  28   32      -739.400       5.387       1.000
  29   34      -739.685       6.194       5.000
  30   35      -739.899       4.341       1.000
  31   36      -739.949       6.948       1.000
  32   37      -740.025       3.692       1.000
  33   39      -740.052       2.531       0.520
  34   40      -740.093       3.055       1.000
  35   42      -740.126       4.338       0.464
  36   43      -740.236       3.295       1.000
  37   45      -740.302       2.736       0.328
  38   47      -740.338       4.613       0.297
  39   48      -740.366       3.086       1.000
  40   49      -740.393       2.027       1.000
  41   50      -740.407       3.118       1.000
  42   51      -740.430       2.637       1.000
  43   52      -740.453       3.587       1.000
  44   53      -740.501       3.176       1.000
  45   54      -740.534       1.333       1.000
  46   56      -740.565       2.520       0.219
  47   57      -740.578       4.384       1.000
  48   59      -740.629       3.161       0.460
  49   60      -740.738       1.855       1.000
Final RAS Transform: 
1.00311 0.0257538 -0.103894 -5.41286 
0.0404448 0.943129 0.324508 17.3798 
0.00494391 0.0401997 0.681802 -15.3757 
0 0 0 1 

Final RAS Transform: 
1.00311 0.0257538 -0.103894 -5.41286 
0.0404448 0.943129 0.324508 17.3798 
0.00494391 0.0401997 0.681802 -15.3757 
0 0 0 1 


real	0m5.963s
user	0m9.912s
sys	0m0.660s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train004/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.429737
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0249
Level     0,  Iter     1:    Energy =   0.0279
Level     0,  Iter     2:    Energy =   0.0307
Level     0,  Iter     3:    Energy =   0.0332
Level     0,  Iter     4:    Energy =   0.0356
Level     0,  Iter     5:    Energy =   0.0379
Level     0,  Iter     6:    Energy =   0.0397
Level     0,  Iter     7:    Energy =   0.0411
Level     0,  Iter     8:    Energy =   0.0427
Level     0,  Iter     9:    Energy =   0.0439
Level     0,  Iter    10:    Energy =   0.0448
Level     0,  Iter    11:    Energy =   0.0455
Level     0,  Iter    12:    Energy =   0.0463
Level     0,  Iter    13:    Energy =   0.0468
Level     0,  Iter    14:    Energy =   0.0472
Level     0,  Iter    15:    Energy =   0.0474
Level     0,  Iter    16:    Energy =   0.0476
Level     0,  Iter    17:    Energy =   0.0476
Level     0,  Iter    18:    Energy =   0.0478
Level     0,  Iter    19:    Energy =   0.0479
Level     0,  Iter    20:    Energy =   0.0480
Level     0,  Iter    21:    Energy =   0.0480
Level     0,  Iter    22:    Energy =   0.0482
Level     0,  Iter    23:    Energy =   0.0482
Level     0,  Iter    24:    Energy =   0.0485
Level     0,  Iter    25:    Energy =   0.0485
Level     0,  Iter    26:    Energy =   0.0488
Level     0,  Iter    27:    Energy =   0.0487
Level     0,  Iter    28:    Energy =   0.0490
Level     0,  Iter    29:    Energy =   0.0489
Level     0,  Iter    30:    Energy =   0.0492
Level     0,  Iter    31:    Energy =   0.0491
Level     0,  Iter    32:    Energy =   0.0493
Level     0,  Iter    33:    Energy =   0.0493
Level     0,  Iter    34:    Energy =   0.0495
Level     0,  Iter    35:    Energy =   0.0495
Level     0,  Iter    36:    Energy =   0.0496
Level     0,  Iter    37:    Energy =   0.0496
Level     0,  Iter    38:    Energy =   0.0498
Level     0,  Iter    39:    Energy =   0.0498
Level     0,  Iter    40:    Energy =   0.0498
Level     0,  Iter    41:    Energy =   0.0499
Level     0,  Iter    42:    Energy =   0.0500
Level     0,  Iter    43:    Energy =   0.0500
Level     0,  Iter    44:    Energy =   0.0501
Level     0,  Iter    45:    Energy =   0.0501
Level     0,  Iter    46:    Energy =   0.0502
Level     0,  Iter    47:    Energy =   0.0502
Level     0,  Iter    48:    Energy =   0.0503
Level     0,  Iter    49:    Energy =   0.0502
Level     0,  Iter    50:    Energy =   0.0504
Level     0,  Iter    51:    Energy =   0.0503
Level     0,  Iter    52:    Energy =   0.0505
Level     0,  Iter    53:    Energy =   0.0503
Level     0,  Iter    54:    Energy =   0.0505
Level     0,  Iter    55:    Energy =   0.0503
Level     0,  Iter    56:    Energy =   0.0506
Level     0,  Iter    57:    Energy =   0.0504
Level     0,  Iter    58:    Energy =   0.0506
Level     0,  Iter    59:    Energy =   0.0504
END OF LEVEL     0    DetJac Range:   0.1451  to   2.1817 
  Avg. Gradient Time  : 0.0070s  33.71% 
  Avg. Gaussian Time  : 0.0100s  48.10% 
  Avg. Iteration Time : 0.0208s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0354
Level     1,  Iter     1:    Energy =   0.0376
Level     1,  Iter     2:    Energy =   0.0395
Level     1,  Iter     3:    Energy =   0.0412
Level     1,  Iter     4:    Energy =   0.0429
Level     1,  Iter     5:    Energy =   0.0443
Level     1,  Iter     6:    Energy =   0.0457
Level     1,  Iter     7:    Energy =   0.0469
Level     1,  Iter     8:    Energy =   0.0481
Level     1,  Iter     9:    Energy =   0.0491
Level     1,  Iter    10:    Energy =   0.0498
Level     1,  Iter    11:    Energy =   0.0506
Level     1,  Iter    12:    Energy =   0.0512
Level     1,  Iter    13:    Energy =   0.0518
Level     1,  Iter    14:    Energy =   0.0524
Level     1,  Iter    15:    Energy =   0.0528
Level     1,  Iter    16:    Energy =   0.0531
Level     1,  Iter    17:    Energy =   0.0535
Level     1,  Iter    18:    Energy =   0.0541
Level     1,  Iter    19:    Energy =   0.0547
Level     1,  Iter    20:    Energy =   0.0553
Level     1,  Iter    21:    Energy =   0.0559
Level     1,  Iter    22:    Energy =   0.0564
Level     1,  Iter    23:    Energy =   0.0568
Level     1,  Iter    24:    Energy =   0.0571
Level     1,  Iter    25:    Energy =   0.0574
Level     1,  Iter    26:    Energy =   0.0577
Level     1,  Iter    27:    Energy =   0.0579
Level     1,  Iter    28:    Energy =   0.0582
Level     1,  Iter    29:    Energy =   0.0584
Level     1,  Iter    30:    Energy =   0.0586
Level     1,  Iter    31:    Energy =   0.0588
Level     1,  Iter    32:    Energy =   0.0589
Level     1,  Iter    33:    Energy =   0.0591
Level     1,  Iter    34:    Energy =   0.0593
Level     1,  Iter    35:    Energy =   0.0594
Level     1,  Iter    36:    Energy =   0.0596
Level     1,  Iter    37:    Energy =   0.0598
Level     1,  Iter    38:    Energy =   0.0599
Level     1,  Iter    39:    Energy =   0.0601
Level     1,  Iter    40:    Energy =   0.0602
Level     1,  Iter    41:    Energy =   0.0604
Level     1,  Iter    42:    Energy =   0.0605
Level     1,  Iter    43:    Energy =   0.0606
Level     1,  Iter    44:    Energy =   0.0608
Level     1,  Iter    45:    Energy =   0.0609
Level     1,  Iter    46:    Energy =   0.0610
Level     1,  Iter    47:    Energy =   0.0610
Level     1,  Iter    48:    Energy =   0.0610
Level     1,  Iter    49:    Energy =   0.0610
Level     1,  Iter    50:    Energy =   0.0610
Level     1,  Iter    51:    Energy =   0.0611
Level     1,  Iter    52:    Energy =   0.0611
Level     1,  Iter    53:    Energy =   0.0611
Level     1,  Iter    54:    Energy =   0.0612
Level     1,  Iter    55:    Energy =   0.0612
Level     1,  Iter    56:    Energy =   0.0612
Level     1,  Iter    57:    Energy =   0.0613
Level     1,  Iter    58:    Energy =   0.0613
Level     1,  Iter    59:    Energy =   0.0614
END OF LEVEL     1    DetJac Range:   0.0282  to   4.1521 
  Avg. Gradient Time  : 0.0280s  34.32% 
  Avg. Gaussian Time  : 0.0421s  51.66% 
  Avg. Iteration Time : 0.0816s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0301
Level     2,  Iter     1:    Energy =   0.0311
Level     2,  Iter     2:    Energy =   0.0321
Level     2,  Iter     3:    Energy =   0.0330
Level     2,  Iter     4:    Energy =   0.0339
Level     2,  Iter     5:    Energy =   0.0345
Level     2,  Iter     6:    Energy =   0.0351
Level     2,  Iter     7:    Energy =   0.0356
Level     2,  Iter     8:    Energy =   0.0360
Level     2,  Iter     9:    Energy =   0.0364
Level     2,  Iter    10:    Energy =   0.0367
Level     2,  Iter    11:    Energy =   0.0369
Level     2,  Iter    12:    Energy =   0.0372
Level     2,  Iter    13:    Energy =   0.0375
Level     2,  Iter    14:    Energy =   0.0377
Level     2,  Iter    15:    Energy =   0.0379
Level     2,  Iter    16:    Energy =   0.0381
Level     2,  Iter    17:    Energy =   0.0382
Level     2,  Iter    18:    Energy =   0.0383
Level     2,  Iter    19:    Energy =   0.0385
END OF LEVEL     2    DetJac Range:   0.0287  to   3.0464 
  Avg. Gradient Time  : 0.1816s  32.74% 
  Avg. Gaussian Time  : 0.2987s  53.87% 
  Avg. Iteration Time : 0.5545s 

real	0m20.040s
user	0m34.340s
sys	0m2.488s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train004/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train004/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train004/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=39 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=39 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.367143 0.371429
+ echo 'CHUNK 0.367143 0.371429 1'
CHUNK 0.367143 0.371429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.367143 0.371429 1
====================================
         PROGRESS: 0.367143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=005
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 005
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train005
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train005
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right 005 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train005 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=right
+ local tid=005
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train005
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 005 right 0
+ local tid=005
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 005 0
+ set -e
+ local tid=005
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train005/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.62
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 41.5466   GNORM= 172.797
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       -96.448     111.909       0.006
   2    3      -219.886     100.775       1.000
   3    4      -342.409      94.114       1.000
   4    7      -427.397      48.993       0.097
   5    8      -447.808      70.327       1.000
   6    9      -475.060      54.078       1.000
   7   10      -489.738      34.897       1.000
   8   11      -517.208      31.137       1.000
   9   12      -596.921      43.428       1.000
  10   13      -710.878      57.132       1.000
  11   14      -788.966      87.949       1.000
  12   16      -855.786      93.027       0.430
  13   17      -920.243      65.131       1.000
  14   19      -939.674      57.808       0.160
  15   21      -966.719      65.146       0.477
  16   22      -985.479      50.344       1.000
  17   23      -996.935     117.518       1.000
  18   24     -1033.959      39.695       1.000
  19   26     -1037.654      30.290       0.437
  20   27     -1040.522      46.306       1.000
  21   28     -1045.384      28.747       1.000
  22   29     -1053.866      34.533       1.000
  23   30     -1061.588      34.470       1.000
  24   31     -1077.091      17.243       1.000
  25   32     -1081.795      23.471       1.000
  26   34     -1096.924      49.638       5.000
  27   36     -1098.731      41.895       0.039
  28   37     -1103.796      29.627       1.000
  29   38     -1106.303      19.992       1.000
  30   39     -1110.569      27.626       1.000
  31   41     -1118.473      41.916       0.385
  32   42     -1127.622      32.210       1.000
  33   43     -1137.066      28.164       1.000
  34   45     -1139.099      32.741       0.261
  35   46     -1143.381      17.263       1.000
  36   49     -1157.290      38.165       2.967
  37   51     -1161.080      42.268       0.352
  38   52     -1167.510      32.596       1.000
  39   53     -1171.869      37.239       1.000
  40   55     -1176.266      74.131       0.466
  41   56     -1188.171      66.705       1.000
  42   57     -1203.261      23.240       1.000
  43   58     -1218.561      36.785       1.000
  44   59     -1233.881      59.541       1.000
  45   61     -1235.586      51.460       0.385
Final RAS Transform: 
0.722177 -0.207071 -0.367905 -2.81362 
0.447818 1.42317 0.795712 9.2639 
-0.456061 -0.525409 0.376133 -1.12141 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -742.574   GNORM= 60.9718
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    7      -745.638      19.604       0.003
   2    9      -745.858      13.242       0.309
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.722093 -0.207648 -0.367651 -2.86178 
0.446948 1.42263 0.79678 9.18257 
-0.45696 -0.525323 0.377129 -1.20284 
0 0 0 1 

Final RAS Transform: 
0.722093 -0.207648 -0.367651 -2.86178 
0.446948 1.42263 0.79678 9.18257 
-0.45696 -0.525323 0.377129 -1.20284 
0 0 0 1 


real	0m4.077s
user	0m6.220s
sys	0m0.660s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train005/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.462532
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0335
Level     0,  Iter     1:    Energy =   0.0364
Level     0,  Iter     2:    Energy =   0.0407
Level     0,  Iter     3:    Energy =   0.0450
Level     0,  Iter     4:    Energy =   0.0489
Level     0,  Iter     5:    Energy =   0.0523
Level     0,  Iter     6:    Energy =   0.0549
Level     0,  Iter     7:    Energy =   0.0559
Level     0,  Iter     8:    Energy =   0.0569
Level     0,  Iter     9:    Energy =   0.0578
Level     0,  Iter    10:    Energy =   0.0585
Level     0,  Iter    11:    Energy =   0.0594
Level     0,  Iter    12:    Energy =   0.0604
Level     0,  Iter    13:    Energy =   0.0610
Level     0,  Iter    14:    Energy =   0.0615
Level     0,  Iter    15:    Energy =   0.0620
Level     0,  Iter    16:    Energy =   0.0625
Level     0,  Iter    17:    Energy =   0.0626
Level     0,  Iter    18:    Energy =   0.0628
Level     0,  Iter    19:    Energy =   0.0629
Level     0,  Iter    20:    Energy =   0.0632
Level     0,  Iter    21:    Energy =   0.0632
Level     0,  Iter    22:    Energy =   0.0633
Level     0,  Iter    23:    Energy =   0.0633
Level     0,  Iter    24:    Energy =   0.0634
Level     0,  Iter    25:    Energy =   0.0634
Level     0,  Iter    26:    Energy =   0.0635
Level     0,  Iter    27:    Energy =   0.0635
Level     0,  Iter    28:    Energy =   0.0636
Level     0,  Iter    29:    Energy =   0.0636
Level     0,  Iter    30:    Energy =   0.0637
Level     0,  Iter    31:    Energy =   0.0637
Level     0,  Iter    32:    Energy =   0.0639
Level     0,  Iter    33:    Energy =   0.0638
Level     0,  Iter    34:    Energy =   0.0640
Level     0,  Iter    35:    Energy =   0.0640
Level     0,  Iter    36:    Energy =   0.0641
Level     0,  Iter    37:    Energy =   0.0641
Level     0,  Iter    38:    Energy =   0.0642
Level     0,  Iter    39:    Energy =   0.0642
Level     0,  Iter    40:    Energy =   0.0644
Level     0,  Iter    41:    Energy =   0.0643
Level     0,  Iter    42:    Energy =   0.0644
Level     0,  Iter    43:    Energy =   0.0644
Level     0,  Iter    44:    Energy =   0.0645
Level     0,  Iter    45:    Energy =   0.0644
Level     0,  Iter    46:    Energy =   0.0645
Level     0,  Iter    47:    Energy =   0.0645
Level     0,  Iter    48:    Energy =   0.0646
Level     0,  Iter    49:    Energy =   0.0645
Level     0,  Iter    50:    Energy =   0.0646
Level     0,  Iter    51:    Energy =   0.0646
Level     0,  Iter    52:    Energy =   0.0647
Level     0,  Iter    53:    Energy =   0.0646
Level     0,  Iter    54:    Energy =   0.0647
Level     0,  Iter    55:    Energy =   0.0647
Level     0,  Iter    56:    Energy =   0.0648
Level     0,  Iter    57:    Energy =   0.0647
Level     0,  Iter    58:    Energy =   0.0648
Level     0,  Iter    59:    Energy =   0.0647
END OF LEVEL     0    DetJac Range:   0.1305  to   2.1694 
  Avg. Gradient Time  : 0.0071s  33.84% 
  Avg. Gaussian Time  : 0.0101s  48.16% 
  Avg. Iteration Time : 0.0210s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0394
Level     1,  Iter     1:    Energy =   0.0416
Level     1,  Iter     2:    Energy =   0.0434
Level     1,  Iter     3:    Energy =   0.0449
Level     1,  Iter     4:    Energy =   0.0463
Level     1,  Iter     5:    Energy =   0.0475
Level     1,  Iter     6:    Energy =   0.0485
Level     1,  Iter     7:    Energy =   0.0495
Level     1,  Iter     8:    Energy =   0.0504
Level     1,  Iter     9:    Energy =   0.0513
Level     1,  Iter    10:    Energy =   0.0521
Level     1,  Iter    11:    Energy =   0.0528
Level     1,  Iter    12:    Energy =   0.0530
Level     1,  Iter    13:    Energy =   0.0532
Level     1,  Iter    14:    Energy =   0.0532
Level     1,  Iter    15:    Energy =   0.0534
Level     1,  Iter    16:    Energy =   0.0536
Level     1,  Iter    17:    Energy =   0.0539
Level     1,  Iter    18:    Energy =   0.0542
Level     1,  Iter    19:    Energy =   0.0548
Level     1,  Iter    20:    Energy =   0.0553
Level     1,  Iter    21:    Energy =   0.0557
Level     1,  Iter    22:    Energy =   0.0561
Level     1,  Iter    23:    Energy =   0.0564
Level     1,  Iter    24:    Energy =   0.0566
Level     1,  Iter    25:    Energy =   0.0568
Level     1,  Iter    26:    Energy =   0.0570
Level     1,  Iter    27:    Energy =   0.0572
Level     1,  Iter    28:    Energy =   0.0574
Level     1,  Iter    29:    Energy =   0.0575
Level     1,  Iter    30:    Energy =   0.0577
Level     1,  Iter    31:    Energy =   0.0578
Level     1,  Iter    32:    Energy =   0.0580
Level     1,  Iter    33:    Energy =   0.0582
Level     1,  Iter    34:    Energy =   0.0584
Level     1,  Iter    35:    Energy =   0.0585
Level     1,  Iter    36:    Energy =   0.0587
Level     1,  Iter    37:    Energy =   0.0589
Level     1,  Iter    38:    Energy =   0.0590
Level     1,  Iter    39:    Energy =   0.0592
Level     1,  Iter    40:    Energy =   0.0593
Level     1,  Iter    41:    Energy =   0.0594
Level     1,  Iter    42:    Energy =   0.0594
Level     1,  Iter    43:    Energy =   0.0594
Level     1,  Iter    44:    Energy =   0.0595
Level     1,  Iter    45:    Energy =   0.0595
Level     1,  Iter    46:    Energy =   0.0596
Level     1,  Iter    47:    Energy =   0.0597
Level     1,  Iter    48:    Energy =   0.0598
Level     1,  Iter    49:    Energy =   0.0598
Level     1,  Iter    50:    Energy =   0.0599
Level     1,  Iter    51:    Energy =   0.0600
Level     1,  Iter    52:    Energy =   0.0601
Level     1,  Iter    53:    Energy =   0.0601
Level     1,  Iter    54:    Energy =   0.0602
Level     1,  Iter    55:    Energy =   0.0603
Level     1,  Iter    56:    Energy =   0.0604
Level     1,  Iter    57:    Energy =   0.0606
Level     1,  Iter    58:    Energy =   0.0607
Level     1,  Iter    59:    Energy =   0.0608
END OF LEVEL     1    DetJac Range:   0.0570  to   4.1048 
  Avg. Gradient Time  : 0.0283s  34.39% 
  Avg. Gaussian Time  : 0.0424s  51.60% 
  Avg. Iteration Time : 0.0822s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
big value: -29483.325849
big value: -6477.710074
big value: -7054.694759
Level     2,  Iter     0:    Energy =   0.0277
Level     2,  Iter     1:    Energy =   0.0275
Level     2,  Iter     2:    Energy =   0.0288
Level     2,  Iter     3:    Energy =   0.0286
Level     2,  Iter     4:    Energy =   0.0288
Level     2,  Iter     5:    Energy =   0.0285
Level     2,  Iter     6:    Energy =   0.0292
Level     2,  Iter     7:    Energy =   0.0302
Level     2,  Iter     8:    Energy =   0.0304
Level     2,  Iter     9:    Energy =   0.0302
Level     2,  Iter    10:    Energy =   0.0298
Level     2,  Iter    11:    Energy =   0.0306
Level     2,  Iter    12:    Energy =   0.0315
big value: 12857.805185
big value: -1634.426418
big value: -21800.367243
Level     2,  Iter    13:    Energy =   0.0313
Level     2,  Iter    14:    Energy =   0.0307
Level     2,  Iter    15:    Energy =   0.0315
Level     2,  Iter    16:    Energy =   0.0309
Level     2,  Iter    17:    Energy =   0.0304
Level     2,  Iter    18:    Energy =   0.0305
Level     2,  Iter    19:    Energy =   0.0300
END OF LEVEL     2    DetJac Range:   0.0932  to   3.5802 
  Avg. Gradient Time  : 0.1776s  32.29% 
  Avg. Gaussian Time  : 0.2982s  54.22% 
  Avg. Iteration Time : 0.5500s 

real	0m19.883s
user	0m34.148s
sys	0m2.444s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train005/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train005/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train005/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ awk -v bs=0.2 -v be=0.5 -v j=40 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
++ echo 1
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=40 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.371429 0.375714
+ echo 'CHUNK 0.371429 0.375714 1'
CHUNK 0.371429 0.375714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.371429 0.375714 1
====================================
         PROGRESS: 0.371429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=006
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 006
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train006
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train006
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right 006 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train006 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=right
+ local tid=006
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train006
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 006 right 0
+ local tid=006
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 006 0
+ set -e
+ local tid=006
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train006/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.709
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 74.5013   GNORM= 166.297
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       -52.558     113.074       0.006
   2    3      -318.412     141.244       1.000
   3    4      -346.895      97.470       1.000
   4    6      -382.628     165.450       0.046
   5    7      -514.698      32.708       1.000
   6   12      -551.223      51.500       6.307
   7   16      -552.050      41.956       1.343
   8   19      -631.860      65.371       0.684
   9   23      -649.793     124.713       0.308
  10   25      -651.752      60.354       0.110
  11   29      -659.946      52.192       0.209
  12   34      -680.671      64.816       2.498
  13   37      -690.571     441.999       0.460
  14   40      -696.663      83.329       0.040
  15   44      -703.470     163.727       1.134
Final RAS Transform: 
0.929268 0.0925191 0.0252721 -2.41301 
0.254626 1.0522 -0.154655 9.70398 
-0.228602 -0.156954 1.02984 -6.24122 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -393.829   GNORM= 835.747
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -397.749     138.232       0.001
   2    7      -397.973      41.076       0.005
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.93088 0.0972837 0.0178464 -1.87361 
0.252867 1.04945 -0.147583 9.32587 
-0.227799 -0.15425 1.02537 -5.94363 
0 0 0 1 

Final RAS Transform: 
0.93088 0.0972837 0.0178464 -1.87361 
0.252867 1.04945 -0.147583 9.32587 
-0.227799 -0.15425 1.02537 -5.94363 
0 0 0 1 


real	0m3.974s
user	0m6.092s
sys	0m0.596s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train006/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.472002
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0175
Level     0,  Iter     1:    Energy =   0.0191
Level     0,  Iter     2:    Energy =   0.0204
Level     0,  Iter     3:    Energy =   0.0213
Level     0,  Iter     4:    Energy =   0.0222
Level     0,  Iter     5:    Energy =   0.0229
Level     0,  Iter     6:    Energy =   0.0235
Level     0,  Iter     7:    Energy =   0.0240
Level     0,  Iter     8:    Energy =   0.0245
Level     0,  Iter     9:    Energy =   0.0249
Level     0,  Iter    10:    Energy =   0.0254
Level     0,  Iter    11:    Energy =   0.0258
Level     0,  Iter    12:    Energy =   0.0263
Level     0,  Iter    13:    Energy =   0.0267
Level     0,  Iter    14:    Energy =   0.0272
Level     0,  Iter    15:    Energy =   0.0276
Level     0,  Iter    16:    Energy =   0.0279
Level     0,  Iter    17:    Energy =   0.0282
Level     0,  Iter    18:    Energy =   0.0285
Level     0,  Iter    19:    Energy =   0.0287
Level     0,  Iter    20:    Energy =   0.0290
Level     0,  Iter    21:    Energy =   0.0293
Level     0,  Iter    22:    Energy =   0.0295
Level     0,  Iter    23:    Energy =   0.0297
Level     0,  Iter    24:    Energy =   0.0300
Level     0,  Iter    25:    Energy =   0.0301
Level     0,  Iter    26:    Energy =   0.0303
Level     0,  Iter    27:    Energy =   0.0305
Level     0,  Iter    28:    Energy =   0.0307
Level     0,  Iter    29:    Energy =   0.0309
Level     0,  Iter    30:    Energy =   0.0311
Level     0,  Iter    31:    Energy =   0.0312
Level     0,  Iter    32:    Energy =   0.0315
Level     0,  Iter    33:    Energy =   0.0316
Level     0,  Iter    34:    Energy =   0.0319
Level     0,  Iter    35:    Energy =   0.0319
Level     0,  Iter    36:    Energy =   0.0323
Level     0,  Iter    37:    Energy =   0.0324
Level     0,  Iter    38:    Energy =   0.0327
Level     0,  Iter    39:    Energy =   0.0328
Level     0,  Iter    40:    Energy =   0.0331
Level     0,  Iter    41:    Energy =   0.0332
Level     0,  Iter    42:    Energy =   0.0334
Level     0,  Iter    43:    Energy =   0.0335
Level     0,  Iter    44:    Energy =   0.0337
Level     0,  Iter    45:    Energy =   0.0339
Level     0,  Iter    46:    Energy =   0.0341
Level     0,  Iter    47:    Energy =   0.0343
Level     0,  Iter    48:    Energy =   0.0345
Level     0,  Iter    49:    Energy =   0.0346
Level     0,  Iter    50:    Energy =   0.0349
Level     0,  Iter    51:    Energy =   0.0350
Level     0,  Iter    52:    Energy =   0.0353
Level     0,  Iter    53:    Energy =   0.0354
Level     0,  Iter    54:    Energy =   0.0358
Level     0,  Iter    55:    Energy =   0.0358
Level     0,  Iter    56:    Energy =   0.0362
Level     0,  Iter    57:    Energy =   0.0363
Level     0,  Iter    58:    Energy =   0.0366
Level     0,  Iter    59:    Energy =   0.0367
END OF LEVEL     0    DetJac Range:   0.0330  to   2.3741 
  Avg. Gradient Time  : 0.0068s  33.10% 
  Avg. Gaussian Time  : 0.0100s  48.50% 
  Avg. Iteration Time : 0.0207s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0211
Level     1,  Iter     1:    Energy =   0.0222
Level     1,  Iter     2:    Energy =   0.0234
Level     1,  Iter     3:    Energy =   0.0244
Level     1,  Iter     4:    Energy =   0.0255
Level     1,  Iter     5:    Energy =   0.0264
Level     1,  Iter     6:    Energy =   0.0272
Level     1,  Iter     7:    Energy =   0.0280
Level     1,  Iter     8:    Energy =   0.0287
Level     1,  Iter     9:    Energy =   0.0293
Level     1,  Iter    10:    Energy =   0.0299
Level     1,  Iter    11:    Energy =   0.0304
Level     1,  Iter    12:    Energy =   0.0308
Level     1,  Iter    13:    Energy =   0.0312
Level     1,  Iter    14:    Energy =   0.0316
Level     1,  Iter    15:    Energy =   0.0318
Level     1,  Iter    16:    Energy =   0.0321
Level     1,  Iter    17:    Energy =   0.0323
Level     1,  Iter    18:    Energy =   0.0325
Level     1,  Iter    19:    Energy =   0.0327
Level     1,  Iter    20:    Energy =   0.0329
Level     1,  Iter    21:    Energy =   0.0331
Level     1,  Iter    22:    Energy =   0.0333
Level     1,  Iter    23:    Energy =   0.0335
Level     1,  Iter    24:    Energy =   0.0337
Level     1,  Iter    25:    Energy =   0.0339
Level     1,  Iter    26:    Energy =   0.0340
Level     1,  Iter    27:    Energy =   0.0341
Level     1,  Iter    28:    Energy =   0.0342
Level     1,  Iter    29:    Energy =   0.0342
Level     1,  Iter    30:    Energy =   0.0342
Level     1,  Iter    31:    Energy =   0.0342
Level     1,  Iter    32:    Energy =   0.0342
Level     1,  Iter    33:    Energy =   0.0342
Level     1,  Iter    34:    Energy =   0.0342
Level     1,  Iter    35:    Energy =   0.0342
Level     1,  Iter    36:    Energy =   0.0342
Level     1,  Iter    37:    Energy =   0.0342
Level     1,  Iter    38:    Energy =   0.0343
Level     1,  Iter    39:    Energy =   0.0343
Level     1,  Iter    40:    Energy =   0.0342
Level     1,  Iter    41:    Energy =   0.0342
Level     1,  Iter    42:    Energy =   0.0342
Level     1,  Iter    43:    Energy =   0.0342
Level     1,  Iter    44:    Energy =   0.0342
Level     1,  Iter    45:    Energy =   0.0342
Level     1,  Iter    46:    Energy =   0.0342
Level     1,  Iter    47:    Energy =   0.0342
Level     1,  Iter    48:    Energy =   0.0342
Level     1,  Iter    49:    Energy =   0.0342
Level     1,  Iter    50:    Energy =   0.0342
Level     1,  Iter    51:    Energy =   0.0342
Level     1,  Iter    52:    Energy =   0.0342
Level     1,  Iter    53:    Energy =   0.0342
Level     1,  Iter    54:    Energy =   0.0342
Level     1,  Iter    55:    Energy =   0.0342
Level     1,  Iter    56:    Energy =   0.0342
Level     1,  Iter    57:    Energy =   0.0343
Level     1,  Iter    58:    Energy =   0.0343
Level     1,  Iter    59:    Energy =   0.0343
END OF LEVEL     1    DetJac Range:   0.0650  to   3.0732 
  Avg. Gradient Time  : 0.0288s  34.45% 
  Avg. Gaussian Time  : 0.0430s  51.44% 
  Avg. Iteration Time : 0.0836s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0153
Level     2,  Iter     1:    Energy =   0.0159
Level     2,  Iter     2:    Energy =   0.0165
Level     2,  Iter     3:    Energy =   0.0170
Level     2,  Iter     4:    Energy =   0.0174
Level     2,  Iter     5:    Energy =   0.0179
Level     2,  Iter     6:    Energy =   0.0183
Level     2,  Iter     7:    Energy =   0.0187
Level     2,  Iter     8:    Energy =   0.0190
Level     2,  Iter     9:    Energy =   0.0193
Level     2,  Iter    10:    Energy =   0.0196
Level     2,  Iter    11:    Energy =   0.0199
Level     2,  Iter    12:    Energy =   0.0203
Level     2,  Iter    13:    Energy =   0.0206
Level     2,  Iter    14:    Energy =   0.0209
Level     2,  Iter    15:    Energy =   0.0212
Level     2,  Iter    16:    Energy =   0.0215
Level     2,  Iter    17:    Energy =   0.0218
Level     2,  Iter    18:    Energy =   0.0220
Level     2,  Iter    19:    Energy =   0.0222
END OF LEVEL     2    DetJac Range:   0.0330  to   3.9886 
  Avg. Gradient Time  : 0.1849s  32.80% 
  Avg. Gaussian Time  : 0.3031s  53.79% 
  Avg. Iteration Time : 0.5636s 

real	0m20.277s
user	0m34.900s
sys	0m2.376s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train006/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train006/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train006/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=41 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=41 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.375714 0.38
+ echo 'CHUNK 0.375714 0.38 1'
CHUNK 0.375714 0.38 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.375714 0.38 1
====================================
         PROGRESS: 0.375714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=007
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 007
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train007
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train007
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right 007 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train007 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=right
+ local tid=007
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train007
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 007 right 0
+ local tid=007
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 007 0
+ set -e
+ local tid=007
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train007/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.552
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 13.3207   GNORM= 164.157
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -115.950     108.181       0.006
   2    3      -260.017     150.949       1.000
   3    5      -384.971      86.401       0.344
   4    7      -394.802      66.572       0.264
   5    8      -422.403      51.747       1.000
   6    9      -440.121     103.235       1.000
   7   10      -477.740      68.068       1.000
   8   11      -543.409      75.850       1.000
   9   12      -590.329      78.241       1.000
  10   13      -694.081      97.910       1.000
  11   16      -899.246     110.121       1.593
  12   19      -910.716     119.274       0.043
  13   21      -931.983     101.047       0.407
  14   22      -966.974      89.644       1.000
  15   24     -1013.211      90.419       0.174
  16   25     -1043.992      62.970       1.000
  17   26     -1061.017     119.605       1.000
  18   27     -1085.754      43.929       1.000
  19   28     -1110.808      45.953       1.000
  20   30     -1124.725      50.991       0.225
  21   31     -1128.344      17.594       1.000
  22   32     -1129.306      16.999       1.000
  23   33     -1133.291      18.926       1.000
  24   34     -1135.175      57.728       1.000
  25   35     -1141.897      19.378       1.000
  26   36     -1143.016      12.608       1.000
  27   38     -1143.491      15.137       0.282
  28   39     -1143.561      14.899       1.000
  29   40     -1143.793       7.803       1.000
  30   41     -1144.052      15.396       1.000
  31   42     -1144.283       8.007       1.000
  32   43     -1144.616      10.283       1.000
  33   44     -1145.524       8.252       1.000
  34   45     -1145.923       8.071       1.000
  35   47     -1146.160      12.841       0.062
  36   48     -1146.423       7.747       1.000
  37   50     -1146.980      18.124       5.000
  38   51     -1147.573      10.538       1.000
  39   52     -1148.247      15.503       1.000
  40   53     -1148.526      12.777       1.000
  41   54     -1148.944       8.638       1.000
  42   55     -1149.516      14.264       1.000
  43   57     -1149.751      17.062       0.182
  44   58     -1150.653      10.278       1.000
  45   60     -1150.961      12.080       0.250
  46   61     -1151.618      19.108       1.000
Final RAS Transform: 
0.861795 0.215283 0.153859 -2.8409 
0.383359 1.06417 0.49358 12.6551 
-0.16586 -0.556099 0.207377 -7.28538 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -475.655   GNORM= 52.6629
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -504.445      57.639       0.019
   2    4      -509.473      38.493       0.317
   3    5      -516.207      19.887       1.000
   4    7      -518.272      10.566       0.435
   5    8      -519.599      14.414       1.000
   6   10      -521.598      35.397       0.321
   7   11      -524.346      26.033       1.000
   8   12      -531.602      16.055       1.000
   9   13      -534.182      19.975       1.000
  10   14      -538.445      15.228       1.000
  11   15      -543.343      33.236       1.000
  12   17      -564.431      35.470       5.000
  13   20      -597.788      33.212       1.997
  14   22      -604.220      42.880       0.125
  15   24      -608.625      41.858       0.110
  16   25      -619.194      29.447       1.000
  17   26      -632.533       7.934       1.000
  18   27      -634.426       9.692       1.000
  19   28      -636.499       3.860       1.000
  20   29      -636.856      10.345       1.000
  21   32      -640.744      16.088       2.686
  22   35      -640.838       7.759       0.007
  23   36      -641.390       6.985       1.000
  24   37      -641.718       3.882       1.000
  25   39      -641.739       4.339       0.318
  26   40      -641.759       2.278       1.000
  27   41      -641.803       2.538       1.000
  28   43      -641.851       3.550       0.156
  29   44      -641.899       3.910       1.000
  30   45      -641.920       4.018       1.000
  31   46      -641.928       6.029       1.000
  32   47      -641.955       5.173       1.000
  33   48      -641.975       3.842       1.000
  34   50      -642.103       3.861       5.000
  35   51      -642.135       5.654       1.000
  36   52      -642.316       3.315       1.000
  37   53      -642.368       3.068       1.000
  38   54      -642.551       4.558       1.000
  39   56      -642.661       9.618       0.086
  40   58      -642.702       9.536       0.147
  41   60      -642.735      11.744       0.406
  42   61      -642.929      10.617       1.000
Final RAS Transform: 
0.968653 0.225955 0.100317 -7.06105 
0.38876 1.02521 0.530242 15.6391 
-0.409769 -0.694255 0.107131 -1.04795 
0 0 0 1 

Final RAS Transform: 
0.968653 0.225955 0.100317 -7.06105 
0.38876 1.02521 0.530242 15.6391 
-0.409769 -0.694255 0.107131 -1.04795 
0 0 0 1 


real	0m6.104s
user	0m10.024s
sys	0m0.756s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train007/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.43181
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0302
Level     0,  Iter     1:    Energy =   0.0335
Level     0,  Iter     2:    Energy =   0.0373
Level     0,  Iter     3:    Energy =   0.0411
Level     0,  Iter     4:    Energy =   0.0453
Level     0,  Iter     5:    Energy =   0.0486
Level     0,  Iter     6:    Energy =   0.0513
Level     0,  Iter     7:    Energy =   0.0535
Level     0,  Iter     8:    Energy =   0.0554
Level     0,  Iter     9:    Energy =   0.0570
Level     0,  Iter    10:    Energy =   0.0584
Level     0,  Iter    11:    Energy =   0.0596
Level     0,  Iter    12:    Energy =   0.0612
Level     0,  Iter    13:    Energy =   0.0627
Level     0,  Iter    14:    Energy =   0.0641
Level     0,  Iter    15:    Energy =   0.0650
Level     0,  Iter    16:    Energy =   0.0654
Level     0,  Iter    17:    Energy =   0.0659
Level     0,  Iter    18:    Energy =   0.0659
Level     0,  Iter    19:    Energy =   0.0670
Level     0,  Iter    20:    Energy =   0.0676
Level     0,  Iter    21:    Energy =   0.0680
Level     0,  Iter    22:    Energy =   0.0678
Level     0,  Iter    23:    Energy =   0.0686
Level     0,  Iter    24:    Energy =   0.0691
Level     0,  Iter    25:    Energy =   0.0696
Level     0,  Iter    26:    Energy =   0.0694
Level     0,  Iter    27:    Energy =   0.0698
Level     0,  Iter    28:    Energy =   0.0698
Level     0,  Iter    29:    Energy =   0.0702
Level     0,  Iter    30:    Energy =   0.0701
Level     0,  Iter    31:    Energy =   0.0706
Level     0,  Iter    32:    Energy =   0.0705
Level     0,  Iter    33:    Energy =   0.0710
Level     0,  Iter    34:    Energy =   0.0709
Level     0,  Iter    35:    Energy =   0.0713
Level     0,  Iter    36:    Energy =   0.0711
Level     0,  Iter    37:    Energy =   0.0716
Level     0,  Iter    38:    Energy =   0.0714
Level     0,  Iter    39:    Energy =   0.0719
Level     0,  Iter    40:    Energy =   0.0716
Level     0,  Iter    41:    Energy =   0.0720
Level     0,  Iter    42:    Energy =   0.0718
Level     0,  Iter    43:    Energy =   0.0722
Level     0,  Iter    44:    Energy =   0.0719
Level     0,  Iter    45:    Energy =   0.0723
Level     0,  Iter    46:    Energy =   0.0721
Level     0,  Iter    47:    Energy =   0.0725
Level     0,  Iter    48:    Energy =   0.0723
Level     0,  Iter    49:    Energy =   0.0727
Level     0,  Iter    50:    Energy =   0.0724
Level     0,  Iter    51:    Energy =   0.0727
Level     0,  Iter    52:    Energy =   0.0724
Level     0,  Iter    53:    Energy =   0.0726
Level     0,  Iter    54:    Energy =   0.0724
Level     0,  Iter    55:    Energy =   0.0727
Level     0,  Iter    56:    Energy =   0.0725
Level     0,  Iter    57:    Energy =   0.0727
Level     0,  Iter    58:    Energy =   0.0726
Level     0,  Iter    59:    Energy =   0.0729
END OF LEVEL     0    DetJac Range:   0.1049  to   2.4946 
  Avg. Gradient Time  : 0.0069s  33.28% 
  Avg. Gaussian Time  : 0.0100s  48.52% 
  Avg. Iteration Time : 0.0206s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0415
Level     1,  Iter     1:    Energy =   0.0432
Level     1,  Iter     2:    Energy =   0.0448
Level     1,  Iter     3:    Energy =   0.0466
Level     1,  Iter     4:    Energy =   0.0484
Level     1,  Iter     5:    Energy =   0.0501
Level     1,  Iter     6:    Energy =   0.0513
Level     1,  Iter     7:    Energy =   0.0525
Level     1,  Iter     8:    Energy =   0.0535
Level     1,  Iter     9:    Energy =   0.0542
Level     1,  Iter    10:    Energy =   0.0550
Level     1,  Iter    11:    Energy =   0.0556
Level     1,  Iter    12:    Energy =   0.0562
Level     1,  Iter    13:    Energy =   0.0567
Level     1,  Iter    14:    Energy =   0.0569
Level     1,  Iter    15:    Energy =   0.0570
Level     1,  Iter    16:    Energy =   0.0570
Level     1,  Iter    17:    Energy =   0.0571
Level     1,  Iter    18:    Energy =   0.0574
Level     1,  Iter    19:    Energy =   0.0577
Level     1,  Iter    20:    Energy =   0.0581
Level     1,  Iter    21:    Energy =   0.0584
Level     1,  Iter    22:    Energy =   0.0586
Level     1,  Iter    23:    Energy =   0.0588
Level     1,  Iter    24:    Energy =   0.0590
Level     1,  Iter    25:    Energy =   0.0591
Level     1,  Iter    26:    Energy =   0.0593
Level     1,  Iter    27:    Energy =   0.0594
Level     1,  Iter    28:    Energy =   0.0596
Level     1,  Iter    29:    Energy =   0.0598
Level     1,  Iter    30:    Energy =   0.0600
Level     1,  Iter    31:    Energy =   0.0601
Level     1,  Iter    32:    Energy =   0.0602
Level     1,  Iter    33:    Energy =   0.0603
Level     1,  Iter    34:    Energy =   0.0603
Level     1,  Iter    35:    Energy =   0.0603
Level     1,  Iter    36:    Energy =   0.0603
Level     1,  Iter    37:    Energy =   0.0604
Level     1,  Iter    38:    Energy =   0.0605
Level     1,  Iter    39:    Energy =   0.0605
Level     1,  Iter    40:    Energy =   0.0606
Level     1,  Iter    41:    Energy =   0.0606
Level     1,  Iter    42:    Energy =   0.0606
Level     1,  Iter    43:    Energy =   0.0605
Level     1,  Iter    44:    Energy =   0.0605
Level     1,  Iter    45:    Energy =   0.0605
Level     1,  Iter    46:    Energy =   0.0604
Level     1,  Iter    47:    Energy =   0.0603
Level     1,  Iter    48:    Energy =   0.0602
Level     1,  Iter    49:    Energy =   0.0602
Level     1,  Iter    50:    Energy =   0.0601
Level     1,  Iter    51:    Energy =   0.0600
Level     1,  Iter    52:    Energy =   0.0599
Level     1,  Iter    53:    Energy =   0.0598
Level     1,  Iter    54:    Energy =   0.0598
Level     1,  Iter    55:    Energy =   0.0597
Level     1,  Iter    56:    Energy =   0.0597
Level     1,  Iter    57:    Energy =   0.0596
Level     1,  Iter    58:    Energy =   0.0596
Level     1,  Iter    59:    Energy =   0.0596
END OF LEVEL     1    DetJac Range:   0.0752  to   4.3000 
  Avg. Gradient Time  : 0.0281s  34.62% 
  Avg. Gaussian Time  : 0.0417s  51.45% 
  Avg. Iteration Time : 0.0811s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
big value: 2340.193353
big value: -1550.103445
big value: 2750.563279
Level     2,  Iter     0:    Energy =   0.0271
Level     2,  Iter     1:    Energy =   0.0269
big value: 13246.014148
big value: 3643.582760
big value: 8934.454814
Level     2,  Iter     2:    Energy =   0.0279
Level     2,  Iter     3:    Energy =   0.0276
Level     2,  Iter     4:    Energy =   0.0274
Level     2,  Iter     5:    Energy =   0.0283
Level     2,  Iter     6:    Energy =   0.0290
Level     2,  Iter     7:    Energy =   0.0297
Level     2,  Iter     8:    Energy =   0.0302
Level     2,  Iter     9:    Energy =   0.0306
Level     2,  Iter    10:    Energy =   0.0310
Level     2,  Iter    11:    Energy =   0.0313
Level     2,  Iter    12:    Energy =   0.0310
Level     2,  Iter    13:    Energy =   0.0313
big value: -1210.974378
big value: -3717.269671
big value: -4575.202615
Level     2,  Iter    14:    Energy =   0.0318
Level     2,  Iter    15:    Energy =   0.0312
Level     2,  Iter    16:    Energy =   0.0309
Level     2,  Iter    17:    Energy =   0.0314
Level     2,  Iter    18:    Energy =   0.0319
Level     2,  Iter    19:    Energy =   0.0324
END OF LEVEL     2    DetJac Range:   0.0718  to   3.3437 
  Avg. Gradient Time  : 0.1817s  32.66% 
  Avg. Gaussian Time  : 0.2995s  53.84% 
  Avg. Iteration Time : 0.5562s 

real	0m19.997s
user	0m34.516s
sys	0m2.240s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train007/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train007/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train007/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=42 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=42 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.38 0.384286
+ echo 'CHUNK 0.38 0.384286 1'
CHUNK 0.38 0.384286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.38 0.384286 1
====================================
         PROGRESS: 0.38               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=008
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 008
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train008
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train008
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right 008 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train008 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=right
+ local tid=008
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train008
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 008 right 0
+ local tid=008
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 008 0
+ set -e
+ local tid=008
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train008/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.611
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 80.5242   GNORM= 227.207
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       -88.238     118.420       0.004
   2    3      -142.069     139.689       1.000
   3    5      -329.630     179.890       5.000
   4    6      -383.937      39.834       1.000
   5    7      -388.656      47.303       1.000
   6    8      -409.973      48.280       1.000
   7    9      -565.774      79.017       1.000
   8   10      -623.053     110.249       1.000
   9   11      -688.256      63.279       1.000
  10   12      -751.109      64.720       1.000
  11   14      -785.686      42.996       0.097
  12   15      -793.621      33.067       1.000
  13   16      -809.738      31.513       1.000
  14   17      -850.518      95.937       1.000
  15   18      -909.712      54.345       1.000
  16   19      -918.675      28.230       1.000
  17   20      -934.063      34.940       1.000
  18   21      -943.464      34.784       1.000
  19   22      -956.936      28.991       1.000
  20   23      -972.136      34.865       1.000
  21   24      -974.585      45.701       1.000
  22   25      -983.273      31.019       1.000
  23   26      -993.421      12.124       1.000
  24   27      -999.544      16.078       1.000
  25   29     -1000.787      14.811       0.180
  26   30     -1002.236      16.827       1.000
  27   31     -1019.912      20.461       1.000
  28   32     -1024.423      14.905       1.000
  29   34     -1032.269      35.245       0.092
  30   36     -1035.172      52.329       0.035
  31   37     -1041.436      55.260       1.000
  32   39     -1048.164      47.516       0.337
  33   40     -1054.098      23.617       1.000
  34   41     -1056.863      17.723       1.000
  35   43     -1058.021      28.878       0.290
  36   46     -1060.138      58.128       1.724
  37   48     -1064.880      54.679       0.512
  38   49     -1070.064      44.581       1.000
  39   50     -1071.641      48.162       1.000
  40   51     -1075.892      15.959       1.000
  41   52     -1077.274      14.770       1.000
  42   53     -1077.680      19.334       1.000
  43   54     -1078.214      26.753       1.000
  44   55     -1079.613      16.601       1.000
  45   56     -1080.037       7.775       1.000
  46   57     -1080.169       6.495       1.000
  47   58     -1080.460      13.567       1.000
  48   59     -1080.660      19.406       1.000
  49   60     -1081.495      21.996       1.000
  50   61     -1081.712      20.200       1.000
Final RAS Transform: 
1.04545 0.0167323 -0.00869992 -3.40385 
0.238035 1.37665 0.643275 10.5436 
-0.530739 -0.466313 0.436694 1.71885 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -539.295   GNORM= 25.6104
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -542.815      39.592       0.013
   2    6      -552.827      17.080       3.054
   3    7      -555.037      12.585       1.000
   4    8      -563.145      14.873       1.000
   5   10      -578.216      47.400       0.192
   6   11      -585.478      29.599       1.000
   7   12      -598.522      35.285       1.000
   8   13      -607.940      42.270       1.000
   9   14      -616.135      14.529       1.000
  10   16      -618.657      22.859       0.431
  11   17      -624.481      23.469       1.000
  12   18      -633.308      35.045       1.000
  13   19      -656.320      60.074       1.000
  14   20      -674.823      37.505       1.000
  15   21      -675.191      50.836       1.000
  16   24      -675.253      25.202       0.030
  17   25      -687.724      17.769       1.000
  18   28      -689.561      13.661       0.032
  19   29      -691.294      12.376       1.000
  20   31      -691.308      14.893       0.185
  21   32      -691.613      15.142       1.000
  22   34      -692.032      28.830       0.195
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.08033 -0.0813038 -0.0120266 -2.48912 
0.27922 1.42256 0.933807 17.1067 
-0.467446 -0.385416 0.489406 0.014749 
0 0 0 1 

Final RAS Transform: 
1.08033 -0.0813038 -0.0120266 -2.48912 
0.27922 1.42256 0.933807 17.1067 
-0.467446 -0.385416 0.489406 0.014749 
0 0 0 1 


real	0m5.659s
user	0m9.176s
sys	0m0.788s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train008/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.451035
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0278
Level     0,  Iter     1:    Energy =   0.0307
Level     0,  Iter     2:    Energy =   0.0355
Level     0,  Iter     3:    Energy =   0.0392
Level     0,  Iter     4:    Energy =   0.0427
Level     0,  Iter     5:    Energy =   0.0460
Level     0,  Iter     6:    Energy =   0.0485
Level     0,  Iter     7:    Energy =   0.0508
Level     0,  Iter     8:    Energy =   0.0525
Level     0,  Iter     9:    Energy =   0.0539
Level     0,  Iter    10:    Energy =   0.0550
Level     0,  Iter    11:    Energy =   0.0561
Level     0,  Iter    12:    Energy =   0.0572
Level     0,  Iter    13:    Energy =   0.0579
Level     0,  Iter    14:    Energy =   0.0584
Level     0,  Iter    15:    Energy =   0.0583
Level     0,  Iter    16:    Energy =   0.0587
Level     0,  Iter    17:    Energy =   0.0587
Level     0,  Iter    18:    Energy =   0.0589
Level     0,  Iter    19:    Energy =   0.0588
Level     0,  Iter    20:    Energy =   0.0592
Level     0,  Iter    21:    Energy =   0.0592
Level     0,  Iter    22:    Energy =   0.0594
Level     0,  Iter    23:    Energy =   0.0596
Level     0,  Iter    24:    Energy =   0.0599
Level     0,  Iter    25:    Energy =   0.0601
Level     0,  Iter    26:    Energy =   0.0603
Level     0,  Iter    27:    Energy =   0.0605
Level     0,  Iter    28:    Energy =   0.0606
Level     0,  Iter    29:    Energy =   0.0607
Level     0,  Iter    30:    Energy =   0.0607
Level     0,  Iter    31:    Energy =   0.0606
Level     0,  Iter    32:    Energy =   0.0608
Level     0,  Iter    33:    Energy =   0.0607
Level     0,  Iter    34:    Energy =   0.0608
Level     0,  Iter    35:    Energy =   0.0607
Level     0,  Iter    36:    Energy =   0.0608
Level     0,  Iter    37:    Energy =   0.0607
Level     0,  Iter    38:    Energy =   0.0609
Level     0,  Iter    39:    Energy =   0.0608
Level     0,  Iter    40:    Energy =   0.0610
Level     0,  Iter    41:    Energy =   0.0608
Level     0,  Iter    42:    Energy =   0.0610
Level     0,  Iter    43:    Energy =   0.0609
Level     0,  Iter    44:    Energy =   0.0610
Level     0,  Iter    45:    Energy =   0.0609
Level     0,  Iter    46:    Energy =   0.0610
Level     0,  Iter    47:    Energy =   0.0611
Level     0,  Iter    48:    Energy =   0.0610
Level     0,  Iter    49:    Energy =   0.0610
Level     0,  Iter    50:    Energy =   0.0609
Level     0,  Iter    51:    Energy =   0.0608
Level     0,  Iter    52:    Energy =   0.0609
Level     0,  Iter    53:    Energy =   0.0608
Level     0,  Iter    54:    Energy =   0.0609
Level     0,  Iter    55:    Energy =   0.0609
Level     0,  Iter    56:    Energy =   0.0609
Level     0,  Iter    57:    Energy =   0.0608
Level     0,  Iter    58:    Energy =   0.0608
Level     0,  Iter    59:    Energy =   0.0607
END OF LEVEL     0    DetJac Range:   0.1958  to   2.1103 
  Avg. Gradient Time  : 0.0068s  33.29% 
  Avg. Gaussian Time  : 0.0099s  48.64% 
  Avg. Iteration Time : 0.0204s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0363
Level     1,  Iter     1:    Energy =   0.0383
Level     1,  Iter     2:    Energy =   0.0402
Level     1,  Iter     3:    Energy =   0.0424
Level     1,  Iter     4:    Energy =   0.0439
Level     1,  Iter     5:    Energy =   0.0455
Level     1,  Iter     6:    Energy =   0.0469
Level     1,  Iter     7:    Energy =   0.0480
Level     1,  Iter     8:    Energy =   0.0490
Level     1,  Iter     9:    Energy =   0.0500
Level     1,  Iter    10:    Energy =   0.0509
Level     1,  Iter    11:    Energy =   0.0517
Level     1,  Iter    12:    Energy =   0.0525
Level     1,  Iter    13:    Energy =   0.0532
Level     1,  Iter    14:    Energy =   0.0537
Level     1,  Iter    15:    Energy =   0.0542
Level     1,  Iter    16:    Energy =   0.0547
Level     1,  Iter    17:    Energy =   0.0552
Level     1,  Iter    18:    Energy =   0.0557
Level     1,  Iter    19:    Energy =   0.0560
Level     1,  Iter    20:    Energy =   0.0563
Level     1,  Iter    21:    Energy =   0.0565
Level     1,  Iter    22:    Energy =   0.0568
Level     1,  Iter    23:    Energy =   0.0570
Level     1,  Iter    24:    Energy =   0.0572
Level     1,  Iter    25:    Energy =   0.0574
Level     1,  Iter    26:    Energy =   0.0576
Level     1,  Iter    27:    Energy =   0.0578
Level     1,  Iter    28:    Energy =   0.0579
Level     1,  Iter    29:    Energy =   0.0581
Level     1,  Iter    30:    Energy =   0.0582
Level     1,  Iter    31:    Energy =   0.0583
Level     1,  Iter    32:    Energy =   0.0584
Level     1,  Iter    33:    Energy =   0.0584
Level     1,  Iter    34:    Energy =   0.0585
Level     1,  Iter    35:    Energy =   0.0586
Level     1,  Iter    36:    Energy =   0.0586
Level     1,  Iter    37:    Energy =   0.0587
Level     1,  Iter    38:    Energy =   0.0588
Level     1,  Iter    39:    Energy =   0.0588
Level     1,  Iter    40:    Energy =   0.0587
Level     1,  Iter    41:    Energy =   0.0588
Level     1,  Iter    42:    Energy =   0.0588
Level     1,  Iter    43:    Energy =   0.0589
Level     1,  Iter    44:    Energy =   0.0589
Level     1,  Iter    45:    Energy =   0.0589
Level     1,  Iter    46:    Energy =   0.0590
Level     1,  Iter    47:    Energy =   0.0590
Level     1,  Iter    48:    Energy =   0.0591
Level     1,  Iter    49:    Energy =   0.0591
Level     1,  Iter    50:    Energy =   0.0592
Level     1,  Iter    51:    Energy =   0.0592
Level     1,  Iter    52:    Energy =   0.0593
Level     1,  Iter    53:    Energy =   0.0593
Level     1,  Iter    54:    Energy =   0.0593
Level     1,  Iter    55:    Energy =   0.0594
Level     1,  Iter    56:    Energy =   0.0594
Level     1,  Iter    57:    Energy =   0.0594
Level     1,  Iter    58:    Energy =   0.0595
Level     1,  Iter    59:    Energy =   0.0595
END OF LEVEL     1    DetJac Range:   0.0705  to   4.3961 
  Avg. Gradient Time  : 0.0281s  34.06% 
  Avg. Gaussian Time  : 0.0426s  51.76% 
  Avg. Iteration Time : 0.0824s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0274
big value: -3131.110404
big value: -23485.671879
big value: 18753.997746
big value: -33398.170146
big value: 2238.705997
big value: -57296.096936
Level     2,  Iter     1:    Energy =   0.0284
Level     2,  Iter     2:    Energy =   0.0280
Level     2,  Iter     3:    Energy =   0.0289
Level     2,  Iter     4:    Energy =   0.0290
Level     2,  Iter     5:    Energy =   0.0288
big value: -1003.151947
big value: -2965.178347
big value: -2491.198909
big value: 1171.028116
Level     2,  Iter     6:    Energy =   0.0301
Level     2,  Iter     7:    Energy =   0.0296
Level     2,  Iter     8:    Energy =   0.0292
Level     2,  Iter     9:    Energy =   0.0300
Level     2,  Iter    10:    Energy =   0.0312
big value: -1025.342462
Level     2,  Iter    11:    Energy =   0.0307
big value: -1313.553652
big value: -4251.134864
big value: 3355.133685
Level     2,  Iter    12:    Energy =   0.0302
big value: 7075.571557
big value: 1016.714486
Level     2,  Iter    13:    Energy =   0.0296
Level     2,  Iter    14:    Energy =   0.0291
Level     2,  Iter    15:    Energy =   0.0289
Level     2,  Iter    16:    Energy =   0.0285
big value: -1840.096502
big value: -1404.440777
Level     2,  Iter    17:    Energy =   0.0281
Level     2,  Iter    18:    Energy =   0.0276
Level     2,  Iter    19:    Energy =   0.0278
END OF LEVEL     2    DetJac Range:   0.1048  to   3.3253 
  Avg. Gradient Time  : 0.1783s  32.53% 
  Avg. Gaussian Time  : 0.2953s  53.88% 
  Avg. Iteration Time : 0.5482s 

real	0m19.838s
user	0m33.924s
sys	0m2.596s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train008/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train008/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train008/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=43 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=43 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.384286 0.388571
+ echo 'CHUNK 0.384286 0.388571 1'
CHUNK 0.384286 0.388571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.384286 0.388571 1
====================================
         PROGRESS: 0.384286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=009
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 009
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train009
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train009
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right 009 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train009 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=right
+ local tid=009
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train009
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 009 right 0
+ local tid=009
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 009 0
+ set -e
+ local tid=009
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train009/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.578
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 34.7901   GNORM= 171.36
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -102.155     133.969       0.006
   2    3      -365.509      55.371       1.000
   3    4      -412.797      81.434       1.000
   4    6      -431.702     107.598       0.319
   5    7      -485.366      85.428       1.000
   6    8      -613.945     189.080       1.000
   7    9      -725.618     148.157       1.000
   8   11      -768.196      59.424       0.301
   9   14      -838.577      56.225       2.002
  10   16      -845.138      53.213       0.135
  11   17      -863.918      30.958       1.000
  12   19      -877.914      75.339       0.418
  13   20      -906.287      64.950       1.000
  14   21      -992.601      64.761       1.000
  15   23     -1006.049      76.703       0.374
  16   24     -1046.804      64.548       1.000
  17   26     -1058.265      47.560       0.138
  18   28     -1081.579      82.356       5.000
  19   29     -1097.488      21.229       1.000
  20   30     -1104.204      17.690       1.000
  21   31     -1105.934      29.340       1.000
  22   32     -1115.395      26.567       1.000
  23   34     -1118.452      30.020       0.243
  24   35     -1123.038      21.761       1.000
  25   36     -1127.079      22.805       1.000
  26   37     -1128.469      26.215       1.000
  27   38     -1130.032      17.486       1.000
  28   39     -1132.048      29.002       1.000
  29   40     -1134.166      19.901       1.000
  30   41     -1135.181      41.810       1.000
  31   42     -1139.040      26.695       1.000
  32   43     -1145.268      22.722       1.000
  33   45     -1148.966      20.760       0.274
  34   47     -1149.638      35.019       0.089
  35   48     -1154.525      44.804       1.000
  36   49     -1161.250      35.909       1.000
  37   50     -1162.363      16.803       1.000
  38   51     -1163.897      19.440       1.000
  39   52     -1166.743      28.326       1.000
  40   53     -1169.342      13.950       1.000
  41   54     -1171.925      18.021       1.000
  42   55     -1174.162      29.076       1.000
  43   57     -1176.133      22.539       0.476
  44   58     -1178.930      24.296       1.000
  45   59     -1180.913      20.465       1.000
  46   60     -1183.023      17.436       1.000
  47   61     -1185.144      13.475       1.000
Final RAS Transform: 
1.07741 -0.0250437 -0.0640412 -2.65611 
0.196483 1.19062 0.510573 11.6441 
-0.346758 -0.487491 0.422407 -3.72366 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -614.083   GNORM= 26.8116
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -617.316      15.016       0.009
   2    4      -618.418      10.472       1.000
   3    5      -620.510       8.507       1.000
   4    7      -621.047       8.210       0.411
   5    9      -622.276      18.062       5.000
   6   10      -624.636      10.568       1.000
   7   11      -628.649      23.609       1.000
   8   12      -632.773      21.711       1.000
   9   13      -636.114      17.463       1.000
  10   14      -638.479       7.032       1.000
  11   15      -639.106      11.268       1.000
  12   17      -639.437      13.253       0.363
  13   18      -640.252       7.034       1.000
  14   19      -640.752      12.664       1.000
  15   21      -641.238      14.854       0.189
  16   23      -641.669      15.504       0.221
  17   24      -642.222       5.552       1.000
  18   25      -642.379       4.441       1.000
  19   26      -643.030      17.888       1.000
  20   27      -643.894      21.437       1.000
  21   29      -646.443      10.276       0.187
  22   30      -647.699      12.868       1.000
  23   32      -650.536      18.521       0.208
  24   34      -652.230      22.904       0.219
  25   36      -653.408      21.817       0.160
  26   37      -655.041       8.435       1.000
  27   38      -655.842      10.314       1.000
  28   39      -657.064       9.903       1.000
  29   40      -662.331      50.489       1.000
  30   41      -666.090      28.209       1.000
  31   43      -667.769      26.191       0.437
  32   45      -669.149      10.323       0.494
  33   46      -669.466       6.923       1.000
  34   50      -671.766       9.147       3.903
  35   52      -676.122       8.708       5.000
  36   53      -700.436      59.253       1.000
  37   56      -700.994      57.749       0.047
  38   57      -709.071      17.275       1.000
  39   58      -710.194       9.298       1.000
  40   59      -711.004      14.095       1.000
  41   60      -712.814      17.553       1.000
  42   61      -715.944      15.385       1.000
Final RAS Transform: 
1.07257 -0.151164 -0.238344 -5.7734 
0.320985 1.31655 0.93518 16.8862 
-0.360896 -0.503457 0.440908 -1.15603 
0 0 0 1 

Final RAS Transform: 
1.07257 -0.151164 -0.238344 -5.7734 
0.320985 1.31655 0.93518 16.8862 
-0.360896 -0.503457 0.440908 -1.15603 
0 0 0 1 


real	0m6.041s
user	0m9.972s
sys	0m0.736s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train009/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.454238
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0275
Level     0,  Iter     1:    Energy =   0.0301
Level     0,  Iter     2:    Energy =   0.0351
Level     0,  Iter     3:    Energy =   0.0388
Level     0,  Iter     4:    Energy =   0.0418
Level     0,  Iter     5:    Energy =   0.0450
Level     0,  Iter     6:    Energy =   0.0477
Level     0,  Iter     7:    Energy =   0.0498
Level     0,  Iter     8:    Energy =   0.0517
Level     0,  Iter     9:    Energy =   0.0531
Level     0,  Iter    10:    Energy =   0.0548
Level     0,  Iter    11:    Energy =   0.0557
Level     0,  Iter    12:    Energy =   0.0562
Level     0,  Iter    13:    Energy =   0.0563
Level     0,  Iter    14:    Energy =   0.0572
Level     0,  Iter    15:    Energy =   0.0571
Level     0,  Iter    16:    Energy =   0.0577
Level     0,  Iter    17:    Energy =   0.0575
Level     0,  Iter    18:    Energy =   0.0584
Level     0,  Iter    19:    Energy =   0.0581
Level     0,  Iter    20:    Energy =   0.0585
Level     0,  Iter    21:    Energy =   0.0582
Level     0,  Iter    22:    Energy =   0.0591
Level     0,  Iter    23:    Energy =   0.0588
Level     0,  Iter    24:    Energy =   0.0591
Level     0,  Iter    25:    Energy =   0.0588
Level     0,  Iter    26:    Energy =   0.0596
Level     0,  Iter    27:    Energy =   0.0593
Level     0,  Iter    28:    Energy =   0.0595
Level     0,  Iter    29:    Energy =   0.0592
Level     0,  Iter    30:    Energy =   0.0601
Level     0,  Iter    31:    Energy =   0.0598
Level     0,  Iter    32:    Energy =   0.0598
Level     0,  Iter    33:    Energy =   0.0595
Level     0,  Iter    34:    Energy =   0.0605
Level     0,  Iter    35:    Energy =   0.0603
Level     0,  Iter    36:    Energy =   0.0601
Level     0,  Iter    37:    Energy =   0.0598
Level     0,  Iter    38:    Energy =   0.0608
Level     0,  Iter    39:    Energy =   0.0605
Level     0,  Iter    40:    Energy =   0.0604
Level     0,  Iter    41:    Energy =   0.0601
Level     0,  Iter    42:    Energy =   0.0612
Level     0,  Iter    43:    Energy =   0.0611
Level     0,  Iter    44:    Energy =   0.0609
Level     0,  Iter    45:    Energy =   0.0605
Level     0,  Iter    46:    Energy =   0.0615
Level     0,  Iter    47:    Energy =   0.0612
Level     0,  Iter    48:    Energy =   0.0610
Level     0,  Iter    49:    Energy =   0.0607
Level     0,  Iter    50:    Energy =   0.0616
Level     0,  Iter    51:    Energy =   0.0612
Level     0,  Iter    52:    Energy =   0.0610
Level     0,  Iter    53:    Energy =   0.0607
Level     0,  Iter    54:    Energy =   0.0616
Level     0,  Iter    55:    Energy =   0.0614
Level     0,  Iter    56:    Energy =   0.0611
Level     0,  Iter    57:    Energy =   0.0608
Level     0,  Iter    58:    Energy =   0.0617
Level     0,  Iter    59:    Energy =   0.0613
END OF LEVEL     0    DetJac Range:   0.1856  to   1.8122 
  Avg. Gradient Time  : 0.0071s  33.44% 
  Avg. Gaussian Time  : 0.0103s  48.62% 
  Avg. Iteration Time : 0.0213s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0392
Level     1,  Iter     1:    Energy =   0.0408
Level     1,  Iter     2:    Energy =   0.0423
Level     1,  Iter     3:    Energy =   0.0438
Level     1,  Iter     4:    Energy =   0.0453
Level     1,  Iter     5:    Energy =   0.0466
Level     1,  Iter     6:    Energy =   0.0477
Level     1,  Iter     7:    Energy =   0.0485
Level     1,  Iter     8:    Energy =   0.0492
Level     1,  Iter     9:    Energy =   0.0497
Level     1,  Iter    10:    Energy =   0.0501
Level     1,  Iter    11:    Energy =   0.0505
Level     1,  Iter    12:    Energy =   0.0507
Level     1,  Iter    13:    Energy =   0.0509
Level     1,  Iter    14:    Energy =   0.0511
Level     1,  Iter    15:    Energy =   0.0514
Level     1,  Iter    16:    Energy =   0.0518
Level     1,  Iter    17:    Energy =   0.0522
Level     1,  Iter    18:    Energy =   0.0526
Level     1,  Iter    19:    Energy =   0.0530
Level     1,  Iter    20:    Energy =   0.0534
Level     1,  Iter    21:    Energy =   0.0538
Level     1,  Iter    22:    Energy =   0.0541
Level     1,  Iter    23:    Energy =   0.0543
Level     1,  Iter    24:    Energy =   0.0546
Level     1,  Iter    25:    Energy =   0.0548
Level     1,  Iter    26:    Energy =   0.0551
Level     1,  Iter    27:    Energy =   0.0553
Level     1,  Iter    28:    Energy =   0.0556
Level     1,  Iter    29:    Energy =   0.0558
Level     1,  Iter    30:    Energy =   0.0561
Level     1,  Iter    31:    Energy =   0.0563
Level     1,  Iter    32:    Energy =   0.0566
Level     1,  Iter    33:    Energy =   0.0569
Level     1,  Iter    34:    Energy =   0.0572
Level     1,  Iter    35:    Energy =   0.0574
Level     1,  Iter    36:    Energy =   0.0576
Level     1,  Iter    37:    Energy =   0.0578
Level     1,  Iter    38:    Energy =   0.0580
Level     1,  Iter    39:    Energy =   0.0582
Level     1,  Iter    40:    Energy =   0.0584
Level     1,  Iter    41:    Energy =   0.0585
Level     1,  Iter    42:    Energy =   0.0588
Level     1,  Iter    43:    Energy =   0.0590
Level     1,  Iter    44:    Energy =   0.0592
Level     1,  Iter    45:    Energy =   0.0593
Level     1,  Iter    46:    Energy =   0.0595
Level     1,  Iter    47:    Energy =   0.0597
Level     1,  Iter    48:    Energy =   0.0598
Level     1,  Iter    49:    Energy =   0.0599
Level     1,  Iter    50:    Energy =   0.0600
Level     1,  Iter    51:    Energy =   0.0601
Level     1,  Iter    52:    Energy =   0.0602
Level     1,  Iter    53:    Energy =   0.0603
Level     1,  Iter    54:    Energy =   0.0603
Level     1,  Iter    55:    Energy =   0.0604
Level     1,  Iter    56:    Energy =   0.0605
Level     1,  Iter    57:    Energy =   0.0606
Level     1,  Iter    58:    Energy =   0.0606
Level     1,  Iter    59:    Energy =   0.0607
END OF LEVEL     1    DetJac Range:   0.0927  to   3.5388 
  Avg. Gradient Time  : 0.0279s  34.11% 
  Avg. Gaussian Time  : 0.0422s  51.56% 
  Avg. Iteration Time : 0.0818s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
big value: 2591.973325
big value: 1103.624020
big value: -3407.581109
Level     2,  Iter     0:    Energy =   0.0281
big value: -2099.731260
big value: -2263.793336
Level     2,  Iter     1:    Energy =   0.0279
Level     2,  Iter     2:    Energy =   0.0277
Level     2,  Iter     3:    Energy =   0.0290
Level     2,  Iter     4:    Energy =   0.0300
Level     2,  Iter     5:    Energy =   0.0309
Level     2,  Iter     6:    Energy =   0.0316
Level     2,  Iter     7:    Energy =   0.0323
Level     2,  Iter     8:    Energy =   0.0331
Level     2,  Iter     9:    Energy =   0.0337
Level     2,  Iter    10:    Energy =   0.0341
Level     2,  Iter    11:    Energy =   0.0345
Level     2,  Iter    12:    Energy =   0.0349
Level     2,  Iter    13:    Energy =   0.0351
Level     2,  Iter    14:    Energy =   0.0354
Level     2,  Iter    15:    Energy =   0.0358
Level     2,  Iter    16:    Energy =   0.0360
Level     2,  Iter    17:    Energy =   0.0363
Level     2,  Iter    18:    Energy =   0.0364
Level     2,  Iter    19:    Energy =   0.0367
END OF LEVEL     2    DetJac Range:   0.0647  to   3.2337 
  Avg. Gradient Time  : 0.1837s  33.00% 
  Avg. Gaussian Time  : 0.2982s  53.58% 
  Avg. Iteration Time : 0.5565s 

real	0m20.071s
user	0m34.320s
sys	0m2.536s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train009/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train009/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train009/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=44 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=44 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.388571 0.392857
+ echo 'CHUNK 0.388571 0.392857 1'
CHUNK 0.388571 0.392857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.388571 0.392857 1
====================================
         PROGRESS: 0.388571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=010
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 010
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train010
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train010
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right 010 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train010 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=right
+ local tid=010
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train010
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 010 right 0
+ local tid=010
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 010 0
+ set -e
+ local tid=010
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train010/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.608
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 21.597   GNORM= 154.733
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -106.641     142.197       0.006
   2    3      -433.878     124.296       1.000
   3    4      -499.636      43.410       1.000
   4    5      -517.167      68.055       1.000
   5    6      -535.627     123.975       1.000
   6    7      -697.912      94.442       1.000
   7    8      -754.981     100.707       1.000
   8    9      -804.895      80.666       1.000
   9   10      -842.704      44.813       1.000
  10   12      -865.043      19.874       0.323
  11   14      -866.302      14.056       0.487
  12   15      -866.936      45.496       1.000
  13   16      -870.247      29.313       1.000
  14   17      -874.263      34.093       1.000
  15   18      -885.361      31.042       1.000
  16   19      -893.628      45.734       1.000
  17   23      -960.927      98.754       2.439
  18   24     -1003.041      61.613       1.000
  19   26     -1020.278      86.026       0.453
  20   27     -1040.615      33.636       1.000
  21   28     -1062.615      43.692       1.000
  22   29     -1070.222      97.492       1.000
  23   30     -1087.048      60.722       1.000
  24   31     -1099.965      54.648       1.000
  25   33     -1116.236      62.729       0.488
  26   34     -1131.910      30.592       1.000
  27   35     -1144.512      37.705       1.000
  28   36     -1155.778      25.150       1.000
  29   38     -1162.322      54.316       0.301
  30   39     -1168.315      30.794       1.000
  31   41     -1172.313      20.002       0.225
  32   43     -1173.498      27.217       0.464
  33   45     -1174.563      21.860       0.500
  34   46     -1174.870      22.662       1.000
  35   47     -1175.396      13.487       1.000
  36   48     -1175.619       6.082       1.000
  37   50     -1176.600      18.404       5.000
  38   51     -1177.340      17.793       1.000
  39   52     -1177.663       8.016       1.000
  40   53     -1177.898       6.098       1.000
  41   54     -1178.111      18.208       1.000
  42   55     -1178.717      15.797       1.000
  43   57     -1178.784       7.919       0.151
  44   58     -1178.948       4.086       1.000
  45   59     -1178.966       3.653       1.000
  46   61     -1179.002       4.882       0.480
Final RAS Transform: 
1.16587 0.152635 0.133525 -3.08428 
0.0947966 1.15768 0.267548 9.11287 
-0.490166 -0.496772 0.469163 0.813872 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -640.618   GNORM= 35.39
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -643.148      17.523       0.004
   2    7      -643.759      18.720       0.500
   3    8      -646.366      62.867       1.000
   4   11      -646.859      42.510       0.122
   5   14      -647.644      34.418       1.928
   6   15      -650.772      36.184       1.000
   7   16      -661.550      49.667       1.000
   8   18      -662.161      30.402       0.330
   9   19      -663.187      27.080       1.000
  10   20      -664.770      16.603       1.000
  11   21      -665.552       5.891       1.000
  12   22      -665.931       9.738       1.000
  13   23      -666.407       9.393       1.000
  14   24      -667.850       6.673       1.000
  15   26      -669.309      10.341       0.436
  16   27      -669.913       8.583       1.000
  17   28      -670.724       9.497       1.000
  18   30      -670.983       7.900       0.143
  19   32      -671.243       3.871       0.270
  20   33      -671.311       8.367       1.000
  21   34      -671.527       6.156       1.000
  22   37      -671.571      11.972       0.533
  23   38      -672.299      13.325       1.000
  24   40      -672.463       9.946       0.125
  25   41      -672.678       7.098       1.000
  26   42      -672.734       5.322       1.000
  27   43      -672.780      10.755       1.000
  28   44      -672.949       6.564       1.000
  29   45      -673.001       7.128       1.000
  30   46      -673.140       6.799       1.000
  31   47      -673.242      12.284       1.000
  32   48      -673.585      12.858       1.000
  33   50      -673.860       8.269       0.481
  34   52      -675.451      11.153       5.000
  35   53      -675.922       3.340       1.000
  36   55      -675.996       4.933       0.231
  37   56      -676.113       4.730       1.000
  38   58      -676.151       9.090       0.184
  39   59      -676.400       6.968       1.000
  40   60      -676.658       7.830       1.000
Final RAS Transform: 
1.16515 0.142794 0.227585 -0.874894 
0.0961553 1.13664 0.232017 8.28618 
-0.464403 -0.500515 0.426978 -0.633648 
0 0 0 1 

Final RAS Transform: 
1.16515 0.142794 0.227585 -0.874894 
0.0961553 1.13664 0.232017 8.28618 
-0.464403 -0.500515 0.426978 -0.633648 
0 0 0 1 


real	0m5.912s
user	0m9.696s
sys	0m0.768s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train010/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.44471
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0306
Level     0,  Iter     1:    Energy =   0.0321
Level     0,  Iter     2:    Energy =   0.0368
Level     0,  Iter     3:    Energy =   0.0410
Level     0,  Iter     4:    Energy =   0.0443
Level     0,  Iter     5:    Energy =   0.0473
Level     0,  Iter     6:    Energy =   0.0495
Level     0,  Iter     7:    Energy =   0.0517
Level     0,  Iter     8:    Energy =   0.0539
Level     0,  Iter     9:    Energy =   0.0555
Level     0,  Iter    10:    Energy =   0.0572
Level     0,  Iter    11:    Energy =   0.0587
Level     0,  Iter    12:    Energy =   0.0597
Level     0,  Iter    13:    Energy =   0.0606
Level     0,  Iter    14:    Energy =   0.0608
Level     0,  Iter    15:    Energy =   0.0611
Level     0,  Iter    16:    Energy =   0.0616
Level     0,  Iter    17:    Energy =   0.0617
Level     0,  Iter    18:    Energy =   0.0621
Level     0,  Iter    19:    Energy =   0.0622
Level     0,  Iter    20:    Energy =   0.0625
Level     0,  Iter    21:    Energy =   0.0625
Level     0,  Iter    22:    Energy =   0.0627
Level     0,  Iter    23:    Energy =   0.0628
Level     0,  Iter    24:    Energy =   0.0630
Level     0,  Iter    25:    Energy =   0.0631
Level     0,  Iter    26:    Energy =   0.0633
Level     0,  Iter    27:    Energy =   0.0634
Level     0,  Iter    28:    Energy =   0.0636
Level     0,  Iter    29:    Energy =   0.0638
Level     0,  Iter    30:    Energy =   0.0640
Level     0,  Iter    31:    Energy =   0.0640
Level     0,  Iter    32:    Energy =   0.0643
Level     0,  Iter    33:    Energy =   0.0643
Level     0,  Iter    34:    Energy =   0.0645
Level     0,  Iter    35:    Energy =   0.0646
Level     0,  Iter    36:    Energy =   0.0648
Level     0,  Iter    37:    Energy =   0.0648
Level     0,  Iter    38:    Energy =   0.0649
Level     0,  Iter    39:    Energy =   0.0650
Level     0,  Iter    40:    Energy =   0.0651
Level     0,  Iter    41:    Energy =   0.0651
Level     0,  Iter    42:    Energy =   0.0652
Level     0,  Iter    43:    Energy =   0.0652
Level     0,  Iter    44:    Energy =   0.0653
Level     0,  Iter    45:    Energy =   0.0653
Level     0,  Iter    46:    Energy =   0.0654
Level     0,  Iter    47:    Energy =   0.0653
Level     0,  Iter    48:    Energy =   0.0655
Level     0,  Iter    49:    Energy =   0.0656
Level     0,  Iter    50:    Energy =   0.0657
Level     0,  Iter    51:    Energy =   0.0657
Level     0,  Iter    52:    Energy =   0.0658
Level     0,  Iter    53:    Energy =   0.0657
Level     0,  Iter    54:    Energy =   0.0658
Level     0,  Iter    55:    Energy =   0.0659
Level     0,  Iter    56:    Energy =   0.0659
Level     0,  Iter    57:    Energy =   0.0660
Level     0,  Iter    58:    Energy =   0.0660
Level     0,  Iter    59:    Energy =   0.0660
END OF LEVEL     0    DetJac Range:   0.1317  to   2.5007 
  Avg. Gradient Time  : 0.0072s  33.67% 
  Avg. Gaussian Time  : 0.0103s  48.17% 
  Avg. Iteration Time : 0.0213s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0385
Level     1,  Iter     1:    Energy =   0.0404
Level     1,  Iter     2:    Energy =   0.0421
Level     1,  Iter     3:    Energy =   0.0437
Level     1,  Iter     4:    Energy =   0.0453
Level     1,  Iter     5:    Energy =   0.0468
Level     1,  Iter     6:    Energy =   0.0479
Level     1,  Iter     7:    Energy =   0.0489
Level     1,  Iter     8:    Energy =   0.0496
Level     1,  Iter     9:    Energy =   0.0501
Level     1,  Iter    10:    Energy =   0.0509
Level     1,  Iter    11:    Energy =   0.0515
Level     1,  Iter    12:    Energy =   0.0519
Level     1,  Iter    13:    Energy =   0.0524
Level     1,  Iter    14:    Energy =   0.0529
Level     1,  Iter    15:    Energy =   0.0533
Level     1,  Iter    16:    Energy =   0.0534
Level     1,  Iter    17:    Energy =   0.0534
Level     1,  Iter    18:    Energy =   0.0537
Level     1,  Iter    19:    Energy =   0.0541
Level     1,  Iter    20:    Energy =   0.0544
Level     1,  Iter    21:    Energy =   0.0547
Level     1,  Iter    22:    Energy =   0.0550
Level     1,  Iter    23:    Energy =   0.0553
Level     1,  Iter    24:    Energy =   0.0555
Level     1,  Iter    25:    Energy =   0.0557
Level     1,  Iter    26:    Energy =   0.0558
Level     1,  Iter    27:    Energy =   0.0560
Level     1,  Iter    28:    Energy =   0.0561
Level     1,  Iter    29:    Energy =   0.0562
Level     1,  Iter    30:    Energy =   0.0563
Level     1,  Iter    31:    Energy =   0.0564
Level     1,  Iter    32:    Energy =   0.0565
Level     1,  Iter    33:    Energy =   0.0566
Level     1,  Iter    34:    Energy =   0.0568
Level     1,  Iter    35:    Energy =   0.0569
Level     1,  Iter    36:    Energy =   0.0569
Level     1,  Iter    37:    Energy =   0.0570
Level     1,  Iter    38:    Energy =   0.0571
Level     1,  Iter    39:    Energy =   0.0572
Level     1,  Iter    40:    Energy =   0.0573
Level     1,  Iter    41:    Energy =   0.0574
Level     1,  Iter    42:    Energy =   0.0575
Level     1,  Iter    43:    Energy =   0.0576
Level     1,  Iter    44:    Energy =   0.0577
Level     1,  Iter    45:    Energy =   0.0577
Level     1,  Iter    46:    Energy =   0.0578
Level     1,  Iter    47:    Energy =   0.0579
Level     1,  Iter    48:    Energy =   0.0579
Level     1,  Iter    49:    Energy =   0.0580
Level     1,  Iter    50:    Energy =   0.0580
Level     1,  Iter    51:    Energy =   0.0581
Level     1,  Iter    52:    Energy =   0.0582
Level     1,  Iter    53:    Energy =   0.0582
Level     1,  Iter    54:    Energy =   0.0583
Level     1,  Iter    55:    Energy =   0.0583
Level     1,  Iter    56:    Energy =   0.0583
Level     1,  Iter    57:    Energy =   0.0583
Level     1,  Iter    58:    Energy =   0.0583
Level     1,  Iter    59:    Energy =   0.0584
END OF LEVEL     1    DetJac Range:   0.0457  to   3.9984 
  Avg. Gradient Time  : 0.0284s  34.25% 
  Avg. Gaussian Time  : 0.0428s  51.66% 
  Avg. Iteration Time : 0.0829s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0254
Level     2,  Iter     1:    Energy =   0.0264
Level     2,  Iter     2:    Energy =   0.0273
Level     2,  Iter     3:    Energy =   0.0280
Level     2,  Iter     4:    Energy =   0.0287
Level     2,  Iter     5:    Energy =   0.0294
Level     2,  Iter     6:    Energy =   0.0300
Level     2,  Iter     7:    Energy =   0.0305
Level     2,  Iter     8:    Energy =   0.0309
Level     2,  Iter     9:    Energy =   0.0315
Level     2,  Iter    10:    Energy =   0.0323
Level     2,  Iter    11:    Energy =   0.0330
Level     2,  Iter    12:    Energy =   0.0335
Level     2,  Iter    13:    Energy =   0.0339
Level     2,  Iter    14:    Energy =   0.0343
Level     2,  Iter    15:    Energy =   0.0346
Level     2,  Iter    16:    Energy =   0.0350
Level     2,  Iter    17:    Energy =   0.0351
Level     2,  Iter    18:    Energy =   0.0355
Level     2,  Iter    19:    Energy =   0.0359
END OF LEVEL     2    DetJac Range:   0.0230  to   4.7142 
  Avg. Gradient Time  : 0.1812s  32.58% 
  Avg. Gaussian Time  : 0.2987s  53.71% 
  Avg. Iteration Time : 0.5561s 

real	0m20.178s
user	0m34.636s
sys	0m2.444s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train010/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train010/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train010/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=45 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=45 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.392857 0.397143
+ echo 'CHUNK 0.392857 0.397143 1'
CHUNK 0.392857 0.397143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.392857 0.397143 1
====================================
         PROGRESS: 0.392857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=011
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 011
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train011
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train011
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right 011 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train011 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=right
+ local tid=011
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train011
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 011 right 0
+ local tid=011
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 011 0
+ set -e
+ local tid=011
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train011/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.636
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 45.3345   GNORM= 186.229
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -115.504     153.311       0.005
   2    3      -367.017      60.445       1.000
   3    4      -456.583      45.339       1.000
   4    5      -485.457     124.435       1.000
   5    6      -548.700      46.848       1.000
   6    7      -571.160     120.296       1.000
   7    8      -606.015      79.802       1.000
   8    9      -624.616      33.723       1.000
   9   10      -634.531      34.865       1.000
  10   11      -641.660      53.498       1.000
  11   12      -668.564      39.077       1.000
  12   13      -692.662      47.834       1.000
  13   14      -699.735      30.565       1.000
  14   15      -705.907      26.600       1.000
  15   16      -707.960      34.139       1.000
  16   17      -708.928      26.900       1.000
  17   18      -712.260      13.541       1.000
  18   19      -716.179      37.546       1.000
  19   23      -800.041      74.574       7.955
  20   29      -816.549     130.104       0.155
  21   31      -819.614     111.366       0.099
  22   32      -849.698      95.581       1.000
  23   33      -903.406      50.481       1.000
  24   35      -931.444      44.978       0.512
  25   37      -946.702      28.745       0.262
  26   38      -951.581      40.509       1.000
  27   39      -959.430      27.160       1.000
  28   40      -968.755      41.347       1.000
  29   41      -969.385      30.136       1.000
  30   42      -972.744      11.598       1.000
  31   43      -973.556       9.215       1.000
  32   44      -977.273      23.790       1.000
  33   45      -977.978      34.998       1.000
  34   46      -980.479      23.313       1.000
  35   47      -981.351      23.626       1.000
  36   48      -981.887      12.113       1.000
  37   49      -982.207      12.287       1.000
  38   51      -982.432      12.893       0.404
  39   53      -984.373      16.251       5.000
  40   55      -985.452      22.638       0.321
  41   56      -986.504      16.878       1.000
  42   58      -987.017      16.698       0.295
  43   59      -987.381      16.094       1.000
  44   60      -987.886       9.440       1.000
  45   61      -988.266      20.279       1.000
Final RAS Transform: 
0.893288 0.141845 0.128188 -2.23143 
0.230895 1.22833 0.482453 13.2563 
0.102667 -0.240437 0.571783 -14.252 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -441.3   GNORM= 33.237
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -458.357      26.439       0.030
   2    3      -472.957      27.176       1.000
   3    6      -482.751      41.636       0.019
   4    8      -484.335      31.432       0.232
   5   10      -494.746      12.978       5.000
   6   11      -496.954      28.048       1.000
   7   12      -498.062      37.252       1.000
   8   13      -504.237      36.329       1.000
   9   15      -509.966      27.572       0.295
  10   16      -517.853       9.514       1.000
  11   17      -525.540      13.303       1.000
  12   18      -534.694      14.024       1.000
  13   19      -536.853      29.108       1.000
  14   20      -544.225      37.068       1.000
  15   22      -550.274      17.643       0.377
  16   23      -552.812      12.088       1.000
  17   24      -553.349       7.201       1.000
  18   25      -554.097       6.590       1.000
  19   26      -554.729       7.093       1.000
  20   28      -555.035      23.159       0.113
  21   29      -556.375      10.178       1.000
  22   30      -557.601       5.332       1.000
  23   31      -558.264      23.263       1.000
  24   32      -559.719      13.878       1.000
  25   33      -560.025      11.314       1.000
  26   34      -560.272       6.405       1.000
  27   36      -560.385       5.452       0.389
  28   39      -560.738       6.100       1.971
  29   40      -561.180       7.108       1.000
  30   41      -561.930      12.562       1.000
  31   42      -562.515       7.259       1.000
  32   43      -562.788       5.937       1.000
  33   44      -563.015       9.399       1.000
  34   45      -565.181      26.501       1.000
  35   46      -567.282      20.632       1.000
  36   47      -567.702      17.662       1.000
  37   49      -569.063      14.767       0.483
  38   50      -570.379       8.987       1.000
  39   51      -571.550       9.337       1.000
  40   52      -573.903      16.042       1.000
  41   53      -576.270      18.662       1.000
  42   54      -578.558      28.700       1.000
  43   55      -580.656      12.413       1.000
  44   56      -581.938      13.880       1.000
  45   58      -584.210      16.021       0.119
  46   59      -585.691      10.497       1.000
  47   60      -589.303       8.800       1.000
  48   61      -602.134      40.587       1.000
Final RAS Transform: 
0.89332 0.0251421 0.108542 0.582428 
0.00046976 1.17823 0.606105 18.8286 
0.218362 -0.213493 0.61584 -14.0685 
0 0 0 1 

Final RAS Transform: 
0.89332 0.0251421 0.108542 0.582428 
0.00046976 1.17823 0.606105 18.8286 
0.218362 -0.213493 0.61584 -14.0685 
0 0 0 1 


real	0m6.037s
user	0m9.724s
sys	0m0.736s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train011/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.431041
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0251
Level     0,  Iter     1:    Energy =   0.0282
Level     0,  Iter     2:    Energy =   0.0308
Level     0,  Iter     3:    Energy =   0.0334
Level     0,  Iter     4:    Energy =   0.0357
Level     0,  Iter     5:    Energy =   0.0373
Level     0,  Iter     6:    Energy =   0.0390
Level     0,  Iter     7:    Energy =   0.0400
Level     0,  Iter     8:    Energy =   0.0406
Level     0,  Iter     9:    Energy =   0.0413
Level     0,  Iter    10:    Energy =   0.0418
Level     0,  Iter    11:    Energy =   0.0422
Level     0,  Iter    12:    Energy =   0.0426
Level     0,  Iter    13:    Energy =   0.0430
Level     0,  Iter    14:    Energy =   0.0430
Level     0,  Iter    15:    Energy =   0.0433
Level     0,  Iter    16:    Energy =   0.0432
Level     0,  Iter    17:    Energy =   0.0436
Level     0,  Iter    18:    Energy =   0.0435
Level     0,  Iter    19:    Energy =   0.0438
Level     0,  Iter    20:    Energy =   0.0437
Level     0,  Iter    21:    Energy =   0.0440
Level     0,  Iter    22:    Energy =   0.0439
Level     0,  Iter    23:    Energy =   0.0443
Level     0,  Iter    24:    Energy =   0.0443
Level     0,  Iter    25:    Energy =   0.0446
Level     0,  Iter    26:    Energy =   0.0444
Level     0,  Iter    27:    Energy =   0.0448
Level     0,  Iter    28:    Energy =   0.0449
Level     0,  Iter    29:    Energy =   0.0451
Level     0,  Iter    30:    Energy =   0.0449
Level     0,  Iter    31:    Energy =   0.0452
Level     0,  Iter    32:    Energy =   0.0455
Level     0,  Iter    33:    Energy =   0.0458
Level     0,  Iter    34:    Energy =   0.0460
Level     0,  Iter    35:    Energy =   0.0461
Level     0,  Iter    36:    Energy =   0.0460
Level     0,  Iter    37:    Energy =   0.0459
Level     0,  Iter    38:    Energy =   0.0458
Level     0,  Iter    39:    Energy =   0.0461
Level     0,  Iter    40:    Energy =   0.0463
Level     0,  Iter    41:    Energy =   0.0464
Level     0,  Iter    42:    Energy =   0.0462
Level     0,  Iter    43:    Energy =   0.0465
Level     0,  Iter    44:    Energy =   0.0462
Level     0,  Iter    45:    Energy =   0.0465
Level     0,  Iter    46:    Energy =   0.0462
Level     0,  Iter    47:    Energy =   0.0465
Level     0,  Iter    48:    Energy =   0.0463
Level     0,  Iter    49:    Energy =   0.0464
Level     0,  Iter    50:    Energy =   0.0463
Level     0,  Iter    51:    Energy =   0.0466
Level     0,  Iter    52:    Energy =   0.0467
Level     0,  Iter    53:    Energy =   0.0469
Level     0,  Iter    54:    Energy =   0.0466
Level     0,  Iter    55:    Energy =   0.0468
Level     0,  Iter    56:    Energy =   0.0466
Level     0,  Iter    57:    Energy =   0.0466
Level     0,  Iter    58:    Energy =   0.0465
Level     0,  Iter    59:    Energy =   0.0468
END OF LEVEL     0    DetJac Range:   0.0858  to   3.4866 
  Avg. Gradient Time  : 0.0068s  32.62% 
  Avg. Gaussian Time  : 0.0102s  48.94% 
  Avg. Iteration Time : 0.0208s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0277
Level     1,  Iter     1:    Energy =   0.0298
Level     1,  Iter     2:    Energy =   0.0317
Level     1,  Iter     3:    Energy =   0.0336
Level     1,  Iter     4:    Energy =   0.0351
Level     1,  Iter     5:    Energy =   0.0363
Level     1,  Iter     6:    Energy =   0.0373
Level     1,  Iter     7:    Energy =   0.0382
Level     1,  Iter     8:    Energy =   0.0390
Level     1,  Iter     9:    Energy =   0.0400
Level     1,  Iter    10:    Energy =   0.0411
Level     1,  Iter    11:    Energy =   0.0422
Level     1,  Iter    12:    Energy =   0.0433
Level     1,  Iter    13:    Energy =   0.0443
Level     1,  Iter    14:    Energy =   0.0451
Level     1,  Iter    15:    Energy =   0.0456
Level     1,  Iter    16:    Energy =   0.0461
Level     1,  Iter    17:    Energy =   0.0468
Level     1,  Iter    18:    Energy =   0.0474
Level     1,  Iter    19:    Energy =   0.0481
Level     1,  Iter    20:    Energy =   0.0487
Level     1,  Iter    21:    Energy =   0.0491
Level     1,  Iter    22:    Energy =   0.0495
Level     1,  Iter    23:    Energy =   0.0499
Level     1,  Iter    24:    Energy =   0.0502
Level     1,  Iter    25:    Energy =   0.0505
Level     1,  Iter    26:    Energy =   0.0507
Level     1,  Iter    27:    Energy =   0.0509
Level     1,  Iter    28:    Energy =   0.0511
Level     1,  Iter    29:    Energy =   0.0513
Level     1,  Iter    30:    Energy =   0.0515
Level     1,  Iter    31:    Energy =   0.0516
Level     1,  Iter    32:    Energy =   0.0517
Level     1,  Iter    33:    Energy =   0.0518
Level     1,  Iter    34:    Energy =   0.0520
Level     1,  Iter    35:    Energy =   0.0521
Level     1,  Iter    36:    Energy =   0.0523
Level     1,  Iter    37:    Energy =   0.0524
Level     1,  Iter    38:    Energy =   0.0525
Level     1,  Iter    39:    Energy =   0.0526
Level     1,  Iter    40:    Energy =   0.0527
Level     1,  Iter    41:    Energy =   0.0528
Level     1,  Iter    42:    Energy =   0.0529
Level     1,  Iter    43:    Energy =   0.0530
Level     1,  Iter    44:    Energy =   0.0531
Level     1,  Iter    45:    Energy =   0.0531
Level     1,  Iter    46:    Energy =   0.0532
Level     1,  Iter    47:    Energy =   0.0533
Level     1,  Iter    48:    Energy =   0.0534
Level     1,  Iter    49:    Energy =   0.0535
Level     1,  Iter    50:    Energy =   0.0536
Level     1,  Iter    51:    Energy =   0.0536
Level     1,  Iter    52:    Energy =   0.0537
Level     1,  Iter    53:    Energy =   0.0538
Level     1,  Iter    54:    Energy =   0.0539
Level     1,  Iter    55:    Energy =   0.0540
Level     1,  Iter    56:    Energy =   0.0540
Level     1,  Iter    57:    Energy =   0.0541
Level     1,  Iter    58:    Energy =   0.0542
Level     1,  Iter    59:    Energy =   0.0542
END OF LEVEL     1    DetJac Range:   0.0456  to   3.9199 
  Avg. Gradient Time  : 0.0280s  34.19% 
  Avg. Gaussian Time  : 0.0425s  51.81% 
  Avg. Iteration Time : 0.0820s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0264
Level     2,  Iter     1:    Energy =   0.0273
Level     2,  Iter     2:    Energy =   0.0281
Level     2,  Iter     3:    Energy =   0.0289
Level     2,  Iter     4:    Energy =   0.0295
Level     2,  Iter     5:    Energy =   0.0301
Level     2,  Iter     6:    Energy =   0.0307
Level     2,  Iter     7:    Energy =   0.0312
Level     2,  Iter     8:    Energy =   0.0318
Level     2,  Iter     9:    Energy =   0.0323
Level     2,  Iter    10:    Energy =   0.0327
Level     2,  Iter    11:    Energy =   0.0331
Level     2,  Iter    12:    Energy =   0.0335
Level     2,  Iter    13:    Energy =   0.0338
Level     2,  Iter    14:    Energy =   0.0342
Level     2,  Iter    15:    Energy =   0.0345
Level     2,  Iter    16:    Energy =   0.0349
Level     2,  Iter    17:    Energy =   0.0353
Level     2,  Iter    18:    Energy =   0.0357
Level     2,  Iter    19:    Energy =   0.0362
END OF LEVEL     2    DetJac Range:   0.0122  to   3.9674 
  Avg. Gradient Time  : 0.1860s  32.53% 
  Avg. Gaussian Time  : 0.3086s  53.96% 
  Avg. Iteration Time : 0.5718s 

real	0m20.394s
user	0m35.108s
sys	0m2.432s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train011/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train011/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train011/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=46 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=46 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.397143 0.401429
+ echo 'CHUNK 0.397143 0.401429 1'
CHUNK 0.397143 0.401429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.397143 0.401429 1
====================================
         PROGRESS: 0.397143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=012
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 012
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train012
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train012
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right 012 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train012 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=right
+ local tid=012
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train012
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 012 right 0
+ local tid=012
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 012 0
+ set -e
+ local tid=012
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train012/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.626
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 24.947   GNORM= 184.653
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -107.034     128.241       0.005
   2    3      -318.700      83.773       1.000
   3    4      -416.020      99.983       1.000
   4    5      -445.328      76.577       1.000
   5    8      -498.557      83.828       2.125
   6   10      -521.179      47.273       0.401
   7   12      -642.382     130.559       5.000
   8   13      -734.086      83.694       1.000
   9   15      -759.470      68.190       0.166
  10   16      -776.887      54.173       1.000
  11   17      -823.063      40.036       1.000
  12   19      -828.866      57.152       0.254
  13   20      -866.590      63.490       1.000
  14   22      -890.139      68.590       0.272
  15   23      -903.519      34.261       1.000
  16   24      -911.442      47.715       1.000
  17   25      -919.610      28.709       1.000
  18   26      -921.066      28.070       1.000
  19   27      -922.913      17.199       1.000
  20   28      -925.471      20.009       1.000
  21   29      -947.653      75.668       1.000
  22   30      -959.404     100.594       1.000
  23   31      -986.708      48.420       1.000
  24   33      -992.474      32.966       0.372
  25   35      -995.032      20.680       0.352
  26   36      -996.299      15.903       1.000
  27   38     -1001.085      17.494       0.433
  28   40     -1002.545      28.255       0.266
  29   41     -1004.548      27.480       1.000
  30   42     -1005.672      13.617       1.000
  31   43     -1006.302       8.879       1.000
  32   45     -1006.481       7.778       0.186
  33   46     -1006.498      11.991       1.000
  34   47     -1006.967       6.879       1.000
  35   48     -1008.028      20.968       1.000
  36   51     -1008.222      20.642       0.023
  37   52     -1008.707      20.787       1.000
  38   53     -1008.994       7.146       1.000
  39   55     -1009.403       6.579       5.000
  40   56     -1009.552      12.944       1.000
  41   57     -1009.776       6.850       1.000
  42   59     -1009.969      10.243       0.281
  43   60     -1010.003      17.013       1.000
  44   61     -1010.273       9.340       1.000
Final RAS Transform: 
0.777302 0.0834065 -0.292604 -1.6055 
0.330301 1.06597 0.149302 9.29357 
-0.31272 -0.24367 0.665358 -5.88529 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -486.448   GNORM= 12.3957
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -495.593      12.777       0.081
   2    5      -509.257      44.761       0.926
   3    7      -510.696      49.597       0.263
   4    8      -524.519      23.475       1.000
   5    9      -532.944      15.370       1.000
   6   10      -534.261      38.820       1.000
   7   11      -540.843      13.828       1.000
   8   12      -544.460      24.260       1.000
   9   13      -547.428      40.968       1.000
  10   15      -552.027      45.114       0.198
  11   17      -555.042      44.611       0.138
  12   18      -560.927      42.488       1.000
  13   19      -568.851      16.035       1.000
  14   20      -571.059       8.719       1.000
  15   21      -572.096      16.187       1.000
  16   22      -575.848      16.600       1.000
  17   23      -578.667      17.602       1.000
  18   25      -581.240      16.422       0.183
  19   27      -581.849      25.416       0.243
  20   28      -583.656      29.350       1.000
  21   30      -585.869      23.766       0.428
  22   31      -587.673      18.902       1.000
  23   33      -589.255      10.097       0.248
  24   34      -589.910      16.597       1.000
  25   35      -590.711      12.668       1.000
  26   37      -591.060      13.074       0.308
  27   38      -591.827      12.269       1.000
  28   40      -593.329      10.497       0.431
  29   41      -594.108      37.508       1.000
  30   42      -597.384      17.328       1.000
  31   43      -598.603      13.219       1.000
  32   44      -598.766      16.596       1.000
  33   45      -598.958       6.589       1.000
  34   46      -599.080       4.417       1.000
  35   47      -599.264       5.150       1.000
  36   48      -599.403      10.929       1.000
  37   49      -599.697       6.660       1.000
  38   50      -600.190       5.496       1.000
  39   52      -600.557       8.851       0.248
  40   54      -600.805       8.907       0.458
  41   55      -600.809       9.700       1.000
  42   56      -600.953       3.607       1.000
  43   57      -600.969       3.733       1.000
  44   58      -601.091       8.434       1.000
  45   60      -602.176       5.629       5.000
Final RAS Transform: 
0.775158 0.0943685 -0.28426 -0.319478 
0.184681 1.11599 0.130951 10.5076 
-0.232629 -0.192452 0.588594 -8.62616 
0 0 0 1 

Final RAS Transform: 
0.775158 0.0943685 -0.28426 -0.319478 
0.184681 1.11599 0.130951 10.5076 
-0.232629 -0.192452 0.588594 -8.62616 
0 0 0 1 


real	0m6.354s
user	0m10.496s
sys	0m0.772s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train012/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.417626
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0244
Level     0,  Iter     1:    Energy =   0.0251
Level     0,  Iter     2:    Energy =   0.0277
Level     0,  Iter     3:    Energy =   0.0305
Level     0,  Iter     4:    Energy =   0.0326
Level     0,  Iter     5:    Energy =   0.0343
Level     0,  Iter     6:    Energy =   0.0364
Level     0,  Iter     7:    Energy =   0.0381
Level     0,  Iter     8:    Energy =   0.0392
Level     0,  Iter     9:    Energy =   0.0402
Level     0,  Iter    10:    Energy =   0.0413
Level     0,  Iter    11:    Energy =   0.0420
Level     0,  Iter    12:    Energy =   0.0428
Level     0,  Iter    13:    Energy =   0.0436
Level     0,  Iter    14:    Energy =   0.0444
Level     0,  Iter    15:    Energy =   0.0450
Level     0,  Iter    16:    Energy =   0.0452
Level     0,  Iter    17:    Energy =   0.0454
Level     0,  Iter    18:    Energy =   0.0455
Level     0,  Iter    19:    Energy =   0.0456
Level     0,  Iter    20:    Energy =   0.0457
Level     0,  Iter    21:    Energy =   0.0458
Level     0,  Iter    22:    Energy =   0.0458
Level     0,  Iter    23:    Energy =   0.0458
Level     0,  Iter    24:    Energy =   0.0459
Level     0,  Iter    25:    Energy =   0.0459
Level     0,  Iter    26:    Energy =   0.0460
Level     0,  Iter    27:    Energy =   0.0461
Level     0,  Iter    28:    Energy =   0.0462
Level     0,  Iter    29:    Energy =   0.0462
Level     0,  Iter    30:    Energy =   0.0463
Level     0,  Iter    31:    Energy =   0.0464
Level     0,  Iter    32:    Energy =   0.0464
Level     0,  Iter    33:    Energy =   0.0464
Level     0,  Iter    34:    Energy =   0.0465
Level     0,  Iter    35:    Energy =   0.0466
Level     0,  Iter    36:    Energy =   0.0466
Level     0,  Iter    37:    Energy =   0.0467
Level     0,  Iter    38:    Energy =   0.0468
Level     0,  Iter    39:    Energy =   0.0468
Level     0,  Iter    40:    Energy =   0.0469
Level     0,  Iter    41:    Energy =   0.0469
Level     0,  Iter    42:    Energy =   0.0470
Level     0,  Iter    43:    Energy =   0.0471
Level     0,  Iter    44:    Energy =   0.0471
Level     0,  Iter    45:    Energy =   0.0472
Level     0,  Iter    46:    Energy =   0.0473
Level     0,  Iter    47:    Energy =   0.0473
Level     0,  Iter    48:    Energy =   0.0474
Level     0,  Iter    49:    Energy =   0.0475
Level     0,  Iter    50:    Energy =   0.0475
Level     0,  Iter    51:    Energy =   0.0476
Level     0,  Iter    52:    Energy =   0.0477
Level     0,  Iter    53:    Energy =   0.0478
Level     0,  Iter    54:    Energy =   0.0479
Level     0,  Iter    55:    Energy =   0.0479
Level     0,  Iter    56:    Energy =   0.0480
Level     0,  Iter    57:    Energy =   0.0480
Level     0,  Iter    58:    Energy =   0.0481
Level     0,  Iter    59:    Energy =   0.0481
END OF LEVEL     0    DetJac Range:   0.2568  to   2.5154 
  Avg. Gradient Time  : 0.0072s  33.58% 
  Avg. Gaussian Time  : 0.0103s  48.19% 
  Avg. Iteration Time : 0.0214s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0261
Level     1,  Iter     1:    Energy =   0.0278
Level     1,  Iter     2:    Energy =   0.0292
Level     1,  Iter     3:    Energy =   0.0307
Level     1,  Iter     4:    Energy =   0.0320
Level     1,  Iter     5:    Energy =   0.0331
Level     1,  Iter     6:    Energy =   0.0340
Level     1,  Iter     7:    Energy =   0.0347
Level     1,  Iter     8:    Energy =   0.0352
Level     1,  Iter     9:    Energy =   0.0357
Level     1,  Iter    10:    Energy =   0.0362
Level     1,  Iter    11:    Energy =   0.0366
Level     1,  Iter    12:    Energy =   0.0370
Level     1,  Iter    13:    Energy =   0.0374
Level     1,  Iter    14:    Energy =   0.0378
Level     1,  Iter    15:    Energy =   0.0384
Level     1,  Iter    16:    Energy =   0.0388
Level     1,  Iter    17:    Energy =   0.0392
Level     1,  Iter    18:    Energy =   0.0395
Level     1,  Iter    19:    Energy =   0.0398
Level     1,  Iter    20:    Energy =   0.0401
Level     1,  Iter    21:    Energy =   0.0404
Level     1,  Iter    22:    Energy =   0.0407
Level     1,  Iter    23:    Energy =   0.0410
Level     1,  Iter    24:    Energy =   0.0413
Level     1,  Iter    25:    Energy =   0.0415
Level     1,  Iter    26:    Energy =   0.0418
Level     1,  Iter    27:    Energy =   0.0420
Level     1,  Iter    28:    Energy =   0.0423
Level     1,  Iter    29:    Energy =   0.0426
Level     1,  Iter    30:    Energy =   0.0428
Level     1,  Iter    31:    Energy =   0.0430
Level     1,  Iter    32:    Energy =   0.0433
Level     1,  Iter    33:    Energy =   0.0435
Level     1,  Iter    34:    Energy =   0.0436
Level     1,  Iter    35:    Energy =   0.0438
Level     1,  Iter    36:    Energy =   0.0440
Level     1,  Iter    37:    Energy =   0.0441
Level     1,  Iter    38:    Energy =   0.0442
Level     1,  Iter    39:    Energy =   0.0444
Level     1,  Iter    40:    Energy =   0.0445
Level     1,  Iter    41:    Energy =   0.0446
Level     1,  Iter    42:    Energy =   0.0447
Level     1,  Iter    43:    Energy =   0.0448
Level     1,  Iter    44:    Energy =   0.0449
Level     1,  Iter    45:    Energy =   0.0450
Level     1,  Iter    46:    Energy =   0.0451
Level     1,  Iter    47:    Energy =   0.0451
Level     1,  Iter    48:    Energy =   0.0452
Level     1,  Iter    49:    Energy =   0.0452
Level     1,  Iter    50:    Energy =   0.0453
Level     1,  Iter    51:    Energy =   0.0453
Level     1,  Iter    52:    Energy =   0.0454
Level     1,  Iter    53:    Energy =   0.0454
Level     1,  Iter    54:    Energy =   0.0454
Level     1,  Iter    55:    Energy =   0.0455
Level     1,  Iter    56:    Energy =   0.0455
Level     1,  Iter    57:    Energy =   0.0455
Level     1,  Iter    58:    Energy =   0.0456
Level     1,  Iter    59:    Energy =   0.0456
END OF LEVEL     1    DetJac Range:   0.0692  to   4.1867 
  Avg. Gradient Time  : 0.0278s  34.07% 
  Avg. Gaussian Time  : 0.0422s  51.78% 
  Avg. Iteration Time : 0.0816s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0219
Level     2,  Iter     1:    Energy =   0.0228
Level     2,  Iter     2:    Energy =   0.0236
Level     2,  Iter     3:    Energy =   0.0243
Level     2,  Iter     4:    Energy =   0.0249
Level     2,  Iter     5:    Energy =   0.0254
Level     2,  Iter     6:    Energy =   0.0258
Level     2,  Iter     7:    Energy =   0.0261
Level     2,  Iter     8:    Energy =   0.0264
Level     2,  Iter     9:    Energy =   0.0267
Level     2,  Iter    10:    Energy =   0.0269
Level     2,  Iter    11:    Energy =   0.0271
Level     2,  Iter    12:    Energy =   0.0273
Level     2,  Iter    13:    Energy =   0.0274
Level     2,  Iter    14:    Energy =   0.0276
Level     2,  Iter    15:    Energy =   0.0277
Level     2,  Iter    16:    Energy =   0.0278
Level     2,  Iter    17:    Energy =   0.0279
Level     2,  Iter    18:    Energy =   0.0280
Level     2,  Iter    19:    Energy =   0.0281
END OF LEVEL     2    DetJac Range:   0.0838  to   3.5998 
  Avg. Gradient Time  : 0.1816s  32.70% 
  Avg. Gaussian Time  : 0.2991s  53.84% 
  Avg. Iteration Time : 0.5556s 

real	0m20.156s
user	0m34.636s
sys	0m2.340s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train012/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train012/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train012/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=47 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=47 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.401429 0.405714
+ echo 'CHUNK 0.401429 0.405714 1'
CHUNK 0.401429 0.405714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.401429 0.405714 1
====================================
         PROGRESS: 0.401429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=013
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 013
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train013
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train013
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right 013 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train013 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=right
+ local tid=013
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train013
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 013 right 0
+ local tid=013
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 013 0
+ set -e
+ local tid=013
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train013/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.515
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 204.948   GNORM= 130.08
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       103.148     125.028       0.008
   2    3       -66.433      33.947       1.000
   3    6      -252.547      90.896       2.295
   4    7      -337.605      90.334       1.000
   5   11      -618.166     104.473       1.468
   6   13      -683.272      66.306       0.355
   7   14      -720.728      38.541       1.000
   8   16      -742.064      51.091       0.272
   9   18      -747.328      62.177       0.374
  10   19      -769.185      48.787       1.000
  11   20      -824.643      98.324       1.000
  12   21      -882.049      63.425       1.000
  13   22      -914.536      48.781       1.000
  14   23      -930.520      45.627       1.000
  15   25      -939.286      41.685       0.111
  16   27      -943.325      49.253       0.181
  17   28      -953.218      45.794       1.000
  18   29      -967.697      52.620       1.000
  19   30      -978.778      19.788       1.000
  20   31      -983.100      17.329       1.000
  21   33      -988.711      54.432       0.239
  22   34      -993.662      39.180       1.000
  23   35     -1000.401      37.924       1.000
  24   37     -1004.652      18.782       0.493
  25   39     -1007.127      15.587       0.368
  26   40     -1008.219      23.760       1.000
  27   41     -1010.262      20.857       1.000
  28   42     -1012.276      13.508       1.000
  29   43     -1014.385      26.865       1.000
  30   44     -1015.831      25.458       1.000
  31   45     -1016.663      14.371       1.000
  32   46     -1017.247       6.632       1.000
  33   47     -1017.508       5.323       1.000
  34   48     -1017.766      33.786       1.000
  35   49     -1018.542      11.429       1.000
  36   50     -1018.803       8.446       1.000
  37   52     -1018.901       7.663       0.110
  38   53     -1018.912      13.720       1.000
  39   54     -1018.955       8.590       1.000
  40   55     -1019.040       8.699       1.000
Final RAS Transform: 
0.660263 0.359491 -0.180867 3.08408 
0.270863 1.10831 0.231877 6.61044 
-0.316302 -0.449589 0.526919 -2.72101 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -558.762   GNORM= 78.9617
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -579.339      62.901       0.013
   2    3      -593.428      27.761       1.000
   3    4      -594.670      25.908       1.000
   4    7      -596.526      12.650       0.988
   5    8      -597.367      15.751       1.000
   6    9      -602.597      60.255       1.000
   7   10      -609.766      28.489       1.000
   8   11      -616.526      36.578       1.000
   9   12      -620.941      26.929       1.000
  10   13      -626.340      20.936       1.000
  11   16      -626.404       9.683       0.009
  12   17      -626.591      11.395       1.000
  13   18      -627.416       7.579       1.000
  14   19      -627.547      24.105       1.000
  15   20      -628.141      15.970       1.000
  16   21      -629.304      85.881       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.655303 0.336465 -0.19993 2.41542 
0.301689 1.10973 0.279651 7.57137 
-0.301114 -0.435006 0.607882 -2.13873 
0 0 0 1 

Final RAS Transform: 
0.655303 0.336465 -0.19993 2.41542 
0.301689 1.10973 0.279651 7.57137 
-0.301114 -0.435006 0.607882 -2.13873 
0 0 0 1 


real	0m4.758s
user	0m7.532s
sys	0m0.648s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train013/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.381098
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0270
Level     0,  Iter     1:    Energy =   0.0289
Level     0,  Iter     2:    Energy =   0.0314
Level     0,  Iter     3:    Energy =   0.0335
Level     0,  Iter     4:    Energy =   0.0351
Level     0,  Iter     5:    Energy =   0.0366
Level     0,  Iter     6:    Energy =   0.0379
Level     0,  Iter     7:    Energy =   0.0389
Level     0,  Iter     8:    Energy =   0.0400
Level     0,  Iter     9:    Energy =   0.0410
Level     0,  Iter    10:    Energy =   0.0417
Level     0,  Iter    11:    Energy =   0.0423
Level     0,  Iter    12:    Energy =   0.0430
Level     0,  Iter    13:    Energy =   0.0433
Level     0,  Iter    14:    Energy =   0.0437
Level     0,  Iter    15:    Energy =   0.0440
Level     0,  Iter    16:    Energy =   0.0444
Level     0,  Iter    17:    Energy =   0.0448
Level     0,  Iter    18:    Energy =   0.0451
Level     0,  Iter    19:    Energy =   0.0453
Level     0,  Iter    20:    Energy =   0.0455
Level     0,  Iter    21:    Energy =   0.0457
Level     0,  Iter    22:    Energy =   0.0459
Level     0,  Iter    23:    Energy =   0.0460
Level     0,  Iter    24:    Energy =   0.0460
Level     0,  Iter    25:    Energy =   0.0461
Level     0,  Iter    26:    Energy =   0.0462
Level     0,  Iter    27:    Energy =   0.0463
Level     0,  Iter    28:    Energy =   0.0463
Level     0,  Iter    29:    Energy =   0.0464
Level     0,  Iter    30:    Energy =   0.0464
Level     0,  Iter    31:    Energy =   0.0465
Level     0,  Iter    32:    Energy =   0.0466
Level     0,  Iter    33:    Energy =   0.0466
Level     0,  Iter    34:    Energy =   0.0467
Level     0,  Iter    35:    Energy =   0.0468
Level     0,  Iter    36:    Energy =   0.0468
Level     0,  Iter    37:    Energy =   0.0469
Level     0,  Iter    38:    Energy =   0.0470
Level     0,  Iter    39:    Energy =   0.0472
Level     0,  Iter    40:    Energy =   0.0473
Level     0,  Iter    41:    Energy =   0.0475
Level     0,  Iter    42:    Energy =   0.0478
Level     0,  Iter    43:    Energy =   0.0483
Level     0,  Iter    44:    Energy =   0.0483
Level     0,  Iter    45:    Energy =   0.0486
Level     0,  Iter    46:    Energy =   0.0489
Level     0,  Iter    47:    Energy =   0.0492
Level     0,  Iter    48:    Energy =   0.0494
Level     0,  Iter    49:    Energy =   0.0495
Level     0,  Iter    50:    Energy =   0.0496
Level     0,  Iter    51:    Energy =   0.0497
Level     0,  Iter    52:    Energy =   0.0497
Level     0,  Iter    53:    Energy =   0.0498
Level     0,  Iter    54:    Energy =   0.0497
Level     0,  Iter    55:    Energy =   0.0499
Level     0,  Iter    56:    Energy =   0.0498
Level     0,  Iter    57:    Energy =   0.0499
Level     0,  Iter    58:    Energy =   0.0499
Level     0,  Iter    59:    Energy =   0.0500
END OF LEVEL     0    DetJac Range:   0.1312  to   2.3792 
  Avg. Gradient Time  : 0.0069s  33.10% 
  Avg. Gaussian Time  : 0.0101s  48.52% 
  Avg. Iteration Time : 0.0209s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0289
Level     1,  Iter     1:    Energy =   0.0310
Level     1,  Iter     2:    Energy =   0.0327
Level     1,  Iter     3:    Energy =   0.0341
Level     1,  Iter     4:    Energy =   0.0354
Level     1,  Iter     5:    Energy =   0.0366
Level     1,  Iter     6:    Energy =   0.0377
Level     1,  Iter     7:    Energy =   0.0383
Level     1,  Iter     8:    Energy =   0.0391
Level     1,  Iter     9:    Energy =   0.0398
Level     1,  Iter    10:    Energy =   0.0402
Level     1,  Iter    11:    Energy =   0.0405
Level     1,  Iter    12:    Energy =   0.0408
Level     1,  Iter    13:    Energy =   0.0410
Level     1,  Iter    14:    Energy =   0.0412
Level     1,  Iter    15:    Energy =   0.0414
Level     1,  Iter    16:    Energy =   0.0415
Level     1,  Iter    17:    Energy =   0.0416
Level     1,  Iter    18:    Energy =   0.0419
Level     1,  Iter    19:    Energy =   0.0421
Level     1,  Iter    20:    Energy =   0.0424
Level     1,  Iter    21:    Energy =   0.0428
Level     1,  Iter    22:    Energy =   0.0431
Level     1,  Iter    23:    Energy =   0.0433
Level     1,  Iter    24:    Energy =   0.0436
Level     1,  Iter    25:    Energy =   0.0438
Level     1,  Iter    26:    Energy =   0.0442
Level     1,  Iter    27:    Energy =   0.0445
Level     1,  Iter    28:    Energy =   0.0447
Level     1,  Iter    29:    Energy =   0.0450
Level     1,  Iter    30:    Energy =   0.0453
Level     1,  Iter    31:    Energy =   0.0455
Level     1,  Iter    32:    Energy =   0.0457
Level     1,  Iter    33:    Energy =   0.0459
Level     1,  Iter    34:    Energy =   0.0460
Level     1,  Iter    35:    Energy =   0.0462
Level     1,  Iter    36:    Energy =   0.0464
Level     1,  Iter    37:    Energy =   0.0465
Level     1,  Iter    38:    Energy =   0.0467
Level     1,  Iter    39:    Energy =   0.0467
Level     1,  Iter    40:    Energy =   0.0468
Level     1,  Iter    41:    Energy =   0.0469
Level     1,  Iter    42:    Energy =   0.0470
Level     1,  Iter    43:    Energy =   0.0470
Level     1,  Iter    44:    Energy =   0.0471
Level     1,  Iter    45:    Energy =   0.0472
Level     1,  Iter    46:    Energy =   0.0473
Level     1,  Iter    47:    Energy =   0.0475
Level     1,  Iter    48:    Energy =   0.0475
Level     1,  Iter    49:    Energy =   0.0476
Level     1,  Iter    50:    Energy =   0.0477
Level     1,  Iter    51:    Energy =   0.0478
Level     1,  Iter    52:    Energy =   0.0479
Level     1,  Iter    53:    Energy =   0.0479
Level     1,  Iter    54:    Energy =   0.0479
Level     1,  Iter    55:    Energy =   0.0480
Level     1,  Iter    56:    Energy =   0.0480
Level     1,  Iter    57:    Energy =   0.0480
Level     1,  Iter    58:    Energy =   0.0480
Level     1,  Iter    59:    Energy =   0.0480
END OF LEVEL     1    DetJac Range:   0.0442  to   3.9501 
  Avg. Gradient Time  : 0.0286s  34.29% 
  Avg. Gaussian Time  : 0.0431s  51.63% 
  Avg. Iteration Time : 0.0835s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0218
Level     2,  Iter     1:    Energy =   0.0224
Level     2,  Iter     2:    Energy =   0.0230
Level     2,  Iter     3:    Energy =   0.0238
Level     2,  Iter     4:    Energy =   0.0244
Level     2,  Iter     5:    Energy =   0.0249
Level     2,  Iter     6:    Energy =   0.0253
Level     2,  Iter     7:    Energy =   0.0256
Level     2,  Iter     8:    Energy =   0.0260
Level     2,  Iter     9:    Energy =   0.0263
Level     2,  Iter    10:    Energy =   0.0266
Level     2,  Iter    11:    Energy =   0.0260
Level     2,  Iter    12:    Energy =   0.0264
Level     2,  Iter    13:    Energy =   0.0268
Level     2,  Iter    14:    Energy =   0.0271
Level     2,  Iter    15:    Energy =   0.0274
Level     2,  Iter    16:    Energy =   0.0277
Level     2,  Iter    17:    Energy =   0.0280
Level     2,  Iter    18:    Energy =   0.0283
Level     2,  Iter    19:    Energy =   0.0285
END OF LEVEL     2    DetJac Range:   0.0323  to   3.7661 
  Avg. Gradient Time  : 0.1794s  32.76% 
  Avg. Gaussian Time  : 0.2939s  53.67% 
  Avg. Iteration Time : 0.5477s 

real	0m19.967s
user	0m34.360s
sys	0m2.336s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train013/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train013/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train013/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=48 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=48 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.405714 0.41
+ echo 'CHUNK 0.405714 0.41 1'
CHUNK 0.405714 0.41 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.405714 0.41 1
====================================
         PROGRESS: 0.405714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=014
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 014
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train014
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train014
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right 014 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train014 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=right
+ local tid=014
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train014
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 014 right 0
+ local tid=014
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 014 0
+ set -e
+ local tid=014
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train014/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.61
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -18.5893   GNORM= 141.342
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -124.184     118.159       0.007
   2    3      -323.120     182.001       1.000
   3    4      -406.591      73.363       1.000
   4    7      -496.809      94.185       0.426
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.936657 0.0280074 0.0311667 -1.28246 
0.109668 1.1709 -0.205072 7.20638 
-0.12286 -0.122081 1.04854 -4.94856 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -213.659   GNORM= 38.2469
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -248.666      36.113       0.026
   2    4      -321.291      59.256       0.152
   3    6      -341.792      67.780       0.231
   4   10      -370.105      34.537       0.888
   5   11      -382.686      34.351       1.000
   6   12      -387.310      23.607       1.000
   7   13      -389.441     119.134       1.000
   8   16      -390.169      83.349       0.067
   9   17      -393.419     206.716       1.000
  10   19      -393.450      40.312       0.247
  11   21      -393.958      28.861       0.328
  12   24      -394.609      18.664       0.665
  13   25      -396.573      51.715       1.000
  14   27      -401.460      87.708       0.091
  15   28      -415.565     140.377       1.000
  16   29      -421.326      49.645       1.000
  17   33      -432.342      54.689       1.061
  18   34      -438.848      40.873       1.000
  19   36      -460.577      48.622       0.470
  20   37      -473.801      38.084       1.000
  21   40      -482.734      69.592       0.449
  22   43      -482.996      50.262       0.038
  23   44      -492.407      10.463       1.000
  24   45      -493.901       8.832       1.000
  25   46      -496.586       7.753       1.000
  26   49      -512.184      28.041       2.223
  27   51      -513.608      42.736       0.198
  28   52      -520.114      43.454       1.000
  29   57      -523.804      45.593       1.078
Final RAS Transform: 
1.02754 0.0018843 -0.00647523 -1.09626 
0.168436 1.1691 -0.0765325 8.68542 
-0.365101 -0.0302788 0.965916 0.0699144 
0 0 0 1 

Final RAS Transform: 
1.02754 0.0018843 -0.00647523 -1.09626 
0.168436 1.1691 -0.0765325 8.68542 
-0.365101 -0.0302788 0.965916 0.0699144 
0 0 0 1 


real	0m5.605s
user	0m9.352s
sys	0m0.568s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train014/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.446773
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0191
Level     0,  Iter     1:    Energy =   0.0199
Level     0,  Iter     2:    Energy =   0.0214
Level     0,  Iter     3:    Energy =   0.0229
Level     0,  Iter     4:    Energy =   0.0240
Level     0,  Iter     5:    Energy =   0.0250
Level     0,  Iter     6:    Energy =   0.0258
Level     0,  Iter     7:    Energy =   0.0265
Level     0,  Iter     8:    Energy =   0.0272
Level     0,  Iter     9:    Energy =   0.0278
Level     0,  Iter    10:    Energy =   0.0283
Level     0,  Iter    11:    Energy =   0.0288
Level     0,  Iter    12:    Energy =   0.0293
Level     0,  Iter    13:    Energy =   0.0296
Level     0,  Iter    14:    Energy =   0.0300
Level     0,  Iter    15:    Energy =   0.0303
Level     0,  Iter    16:    Energy =   0.0306
Level     0,  Iter    17:    Energy =   0.0308
Level     0,  Iter    18:    Energy =   0.0312
Level     0,  Iter    19:    Energy =   0.0315
Level     0,  Iter    20:    Energy =   0.0317
Level     0,  Iter    21:    Energy =   0.0320
Level     0,  Iter    22:    Energy =   0.0322
Level     0,  Iter    23:    Energy =   0.0323
Level     0,  Iter    24:    Energy =   0.0326
Level     0,  Iter    25:    Energy =   0.0327
Level     0,  Iter    26:    Energy =   0.0329
Level     0,  Iter    27:    Energy =   0.0331
Level     0,  Iter    28:    Energy =   0.0332
Level     0,  Iter    29:    Energy =   0.0333
Level     0,  Iter    30:    Energy =   0.0334
Level     0,  Iter    31:    Energy =   0.0335
Level     0,  Iter    32:    Energy =   0.0336
Level     0,  Iter    33:    Energy =   0.0337
Level     0,  Iter    34:    Energy =   0.0338
Level     0,  Iter    35:    Energy =   0.0339
Level     0,  Iter    36:    Energy =   0.0341
Level     0,  Iter    37:    Energy =   0.0342
Level     0,  Iter    38:    Energy =   0.0344
Level     0,  Iter    39:    Energy =   0.0346
Level     0,  Iter    40:    Energy =   0.0348
Level     0,  Iter    41:    Energy =   0.0349
Level     0,  Iter    42:    Energy =   0.0351
Level     0,  Iter    43:    Energy =   0.0351
Level     0,  Iter    44:    Energy =   0.0352
Level     0,  Iter    45:    Energy =   0.0352
Level     0,  Iter    46:    Energy =   0.0353
Level     0,  Iter    47:    Energy =   0.0354
Level     0,  Iter    48:    Energy =   0.0354
Level     0,  Iter    49:    Energy =   0.0355
Level     0,  Iter    50:    Energy =   0.0356
Level     0,  Iter    51:    Energy =   0.0356
Level     0,  Iter    52:    Energy =   0.0358
Level     0,  Iter    53:    Energy =   0.0358
Level     0,  Iter    54:    Energy =   0.0360
Level     0,  Iter    55:    Energy =   0.0361
Level     0,  Iter    56:    Energy =   0.0362
Level     0,  Iter    57:    Energy =   0.0363
Level     0,  Iter    58:    Energy =   0.0364
Level     0,  Iter    59:    Energy =   0.0364
END OF LEVEL     0    DetJac Range:   0.0444  to   2.8406 
  Avg. Gradient Time  : 0.0068s  33.14% 
  Avg. Gaussian Time  : 0.0100s  48.72% 
  Avg. Iteration Time : 0.0205s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0220
Level     1,  Iter     1:    Energy =   0.0238
Level     1,  Iter     2:    Energy =   0.0251
Level     1,  Iter     3:    Energy =   0.0262
Level     1,  Iter     4:    Energy =   0.0274
Level     1,  Iter     5:    Energy =   0.0285
Level     1,  Iter     6:    Energy =   0.0294
Level     1,  Iter     7:    Energy =   0.0301
Level     1,  Iter     8:    Energy =   0.0308
Level     1,  Iter     9:    Energy =   0.0314
Level     1,  Iter    10:    Energy =   0.0321
Level     1,  Iter    11:    Energy =   0.0327
Level     1,  Iter    12:    Energy =   0.0333
Level     1,  Iter    13:    Energy =   0.0338
Level     1,  Iter    14:    Energy =   0.0342
Level     1,  Iter    15:    Energy =   0.0345
Level     1,  Iter    16:    Energy =   0.0349
Level     1,  Iter    17:    Energy =   0.0353
Level     1,  Iter    18:    Energy =   0.0357
Level     1,  Iter    19:    Energy =   0.0361
Level     1,  Iter    20:    Energy =   0.0365
Level     1,  Iter    21:    Energy =   0.0369
Level     1,  Iter    22:    Energy =   0.0373
Level     1,  Iter    23:    Energy =   0.0375
Level     1,  Iter    24:    Energy =   0.0376
Level     1,  Iter    25:    Energy =   0.0376
Level     1,  Iter    26:    Energy =   0.0376
Level     1,  Iter    27:    Energy =   0.0376
Level     1,  Iter    28:    Energy =   0.0377
Level     1,  Iter    29:    Energy =   0.0377
Level     1,  Iter    30:    Energy =   0.0378
Level     1,  Iter    31:    Energy =   0.0379
Level     1,  Iter    32:    Energy =   0.0380
Level     1,  Iter    33:    Energy =   0.0382
Level     1,  Iter    34:    Energy =   0.0384
Level     1,  Iter    35:    Energy =   0.0385
Level     1,  Iter    36:    Energy =   0.0386
Level     1,  Iter    37:    Energy =   0.0387
Level     1,  Iter    38:    Energy =   0.0388
Level     1,  Iter    39:    Energy =   0.0389
Level     1,  Iter    40:    Energy =   0.0389
Level     1,  Iter    41:    Energy =   0.0389
Level     1,  Iter    42:    Energy =   0.0390
Level     1,  Iter    43:    Energy =   0.0390
Level     1,  Iter    44:    Energy =   0.0390
Level     1,  Iter    45:    Energy =   0.0390
Level     1,  Iter    46:    Energy =   0.0390
Level     1,  Iter    47:    Energy =   0.0390
Level     1,  Iter    48:    Energy =   0.0389
Level     1,  Iter    49:    Energy =   0.0389
Level     1,  Iter    50:    Energy =   0.0388
Level     1,  Iter    51:    Energy =   0.0388
Level     1,  Iter    52:    Energy =   0.0388
Level     1,  Iter    53:    Energy =   0.0388
Level     1,  Iter    54:    Energy =   0.0387
Level     1,  Iter    55:    Energy =   0.0387
Level     1,  Iter    56:    Energy =   0.0386
Level     1,  Iter    57:    Energy =   0.0386
Level     1,  Iter    58:    Energy =   0.0385
Level     1,  Iter    59:    Energy =   0.0385
END OF LEVEL     1    DetJac Range:   0.0352  to   4.8304 
  Avg. Gradient Time  : 0.0280s  34.23% 
  Avg. Gaussian Time  : 0.0422s  51.70% 
  Avg. Iteration Time : 0.0817s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0175
Level     2,  Iter     1:    Energy =   0.0184
Level     2,  Iter     2:    Energy =   0.0193
Level     2,  Iter     3:    Energy =   0.0201
Level     2,  Iter     4:    Energy =   0.0209
Level     2,  Iter     5:    Energy =   0.0216
Level     2,  Iter     6:    Energy =   0.0222
Level     2,  Iter     7:    Energy =   0.0228
Level     2,  Iter     8:    Energy =   0.0232
Level     2,  Iter     9:    Energy =   0.0237
Level     2,  Iter    10:    Energy =   0.0240
Level     2,  Iter    11:    Energy =   0.0244
Level     2,  Iter    12:    Energy =   0.0238
Level     2,  Iter    13:    Energy =   0.0242
Level     2,  Iter    14:    Energy =   0.0245
Level     2,  Iter    15:    Energy =   0.0247
Level     2,  Iter    16:    Energy =   0.0250
Level     2,  Iter    17:    Energy =   0.0252
Level     2,  Iter    18:    Energy =   0.0253
Level     2,  Iter    19:    Energy =   0.0255
END OF LEVEL     2    DetJac Range:   0.0358  to   4.1916 
  Avg. Gradient Time  : 0.1830s  32.93% 
  Avg. Gaussian Time  : 0.2980s  53.61% 
  Avg. Iteration Time : 0.5558s 

real	0m19.988s
user	0m34.400s
sys	0m2.364s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train014/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train014/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train014/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=49 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=49 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.41 0.414286
+ echo 'CHUNK 0.41 0.414286 1'
CHUNK 0.41 0.414286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.41 0.414286 1
====================================
         PROGRESS: 0.41               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=015
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 015
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train015
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train015
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right 015 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train015 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=right
+ local tid=015
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train015
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 015 right 0
+ local tid=015
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 015 0
+ set -e
+ local tid=015
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train015/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.56
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 99.7264   GNORM= 116.646
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2         5.707     111.047       0.009
   2    3      -299.031      95.260       1.000
   3    4      -515.772      55.422       1.000
   4    6      -531.074      54.839       0.117
   5    9      -577.105      53.086       1.773
   6   10      -585.380      49.409       1.000
   7   11      -603.272      44.166       1.000
   8   12      -619.676      52.639       1.000
   9   14      -632.849      48.584       0.512
  10   15      -642.949      50.423       1.000
  11   17      -697.744      90.388       5.000
  12   21      -713.421     127.306       0.011
  13   23      -735.441      91.824       0.520
  14   24      -775.453      70.027       1.000
  15   26      -834.224     115.362       0.227
  16   28      -847.912      86.469       0.269
  17   29      -876.567      65.107       1.000
  18   31      -895.786      93.408       0.499
  19   32      -913.404      99.668       1.000
  20   33      -915.637     121.983       1.000
  21   34      -951.374      56.086       1.000
  22   35      -959.491      37.482       1.000
  23   36      -965.783      29.369       1.000
  24   37      -979.391      46.148       1.000
  25   38      -992.573      63.578       1.000
  26   39     -1009.475      54.843       1.000
  27   40     -1032.507      31.835       1.000
  28   41     -1037.176      36.609       1.000
  29   42     -1037.449      40.035       1.000
  30   43     -1046.859      43.130       1.000
  31   44     -1049.954      25.218       1.000
  32   46     -1051.253      20.792       0.407
  33   47     -1051.962      16.621       1.000
  34   48     -1052.670      13.552       1.000
  35   49     -1053.542       9.547       1.000
  36   52     -1053.590      13.509       0.057
  37   53     -1053.860       9.078       1.000
  38   54     -1054.125       7.844       1.000
  39   55     -1054.673      11.094       1.000
  40   57     -1055.118      11.101       0.217
  41   58     -1055.543      13.773       1.000
  42   60     -1056.911      21.323       0.268
  43   61     -1057.664      19.195       1.000
Final RAS Transform: 
0.899309 0.0625918 -0.36868 -8.52055 
0.511447 0.95131 0.181743 9.05108 
-0.370306 -0.234793 0.720746 -3.73099 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -504.7   GNORM= 54.4553
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -525.738      37.961       0.018
   2    3      -536.849      24.982       1.000
   3    4      -537.927      37.105       1.000
   4    5      -544.569      27.160       1.000
   5    6      -548.377      22.461       1.000
   6    7      -559.321      21.491       1.000
   7    9      -565.397      54.186       0.529
   8   10      -585.569      30.526       1.000
   9   11      -617.031      31.114       1.000
  10   13      -619.122      12.225       0.117
  11   16      -620.287      13.053       0.742
  12   20      -621.022       8.824       0.138
  13   23      -621.189       7.570       0.123
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.884742 0.0746836 -0.391981 -7.53377 
0.47176 0.957256 0.341604 12.152 
-0.329899 -0.189897 0.859165 -1.1253 
0 0 0 1 

Final RAS Transform: 
0.884742 0.0746836 -0.391981 -7.53377 
0.47176 0.957256 0.341604 12.152 
-0.329899 -0.189897 0.859165 -1.1253 
0 0 0 1 


real	0m4.952s
user	0m7.976s
sys	0m0.620s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train015/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.382193
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0265
Level     0,  Iter     1:    Energy =   0.0289
Level     0,  Iter     2:    Energy =   0.0320
Level     0,  Iter     3:    Energy =   0.0348
Level     0,  Iter     4:    Energy =   0.0374
Level     0,  Iter     5:    Energy =   0.0398
Level     0,  Iter     6:    Energy =   0.0420
Level     0,  Iter     7:    Energy =   0.0440
Level     0,  Iter     8:    Energy =   0.0454
Level     0,  Iter     9:    Energy =   0.0462
Level     0,  Iter    10:    Energy =   0.0467
Level     0,  Iter    11:    Energy =   0.0472
Level     0,  Iter    12:    Energy =   0.0469
Level     0,  Iter    13:    Energy =   0.0473
Level     0,  Iter    14:    Energy =   0.0472
Level     0,  Iter    15:    Energy =   0.0475
Level     0,  Iter    16:    Energy =   0.0474
Level     0,  Iter    17:    Energy =   0.0477
Level     0,  Iter    18:    Energy =   0.0479
Level     0,  Iter    19:    Energy =   0.0480
Level     0,  Iter    20:    Energy =   0.0479
Level     0,  Iter    21:    Energy =   0.0482
Level     0,  Iter    22:    Energy =   0.0484
Level     0,  Iter    23:    Energy =   0.0486
Level     0,  Iter    24:    Energy =   0.0488
Level     0,  Iter    25:    Energy =   0.0488
Level     0,  Iter    26:    Energy =   0.0488
Level     0,  Iter    27:    Energy =   0.0491
Level     0,  Iter    28:    Energy =   0.0492
Level     0,  Iter    29:    Energy =   0.0493
Level     0,  Iter    30:    Energy =   0.0493
Level     0,  Iter    31:    Energy =   0.0496
Level     0,  Iter    32:    Energy =   0.0496
Level     0,  Iter    33:    Energy =   0.0498
Level     0,  Iter    34:    Energy =   0.0497
Level     0,  Iter    35:    Energy =   0.0500
Level     0,  Iter    36:    Energy =   0.0500
Level     0,  Iter    37:    Energy =   0.0502
Level     0,  Iter    38:    Energy =   0.0501
Level     0,  Iter    39:    Energy =   0.0503
Level     0,  Iter    40:    Energy =   0.0504
Level     0,  Iter    41:    Energy =   0.0505
Level     0,  Iter    42:    Energy =   0.0504
Level     0,  Iter    43:    Energy =   0.0506
Level     0,  Iter    44:    Energy =   0.0506
Level     0,  Iter    45:    Energy =   0.0507
Level     0,  Iter    46:    Energy =   0.0506
Level     0,  Iter    47:    Energy =   0.0508
Level     0,  Iter    48:    Energy =   0.0509
Level     0,  Iter    49:    Energy =   0.0508
Level     0,  Iter    50:    Energy =   0.0507
Level     0,  Iter    51:    Energy =   0.0509
Level     0,  Iter    52:    Energy =   0.0511
Level     0,  Iter    53:    Energy =   0.0511
Level     0,  Iter    54:    Energy =   0.0512
Level     0,  Iter    55:    Energy =   0.0513
Level     0,  Iter    56:    Energy =   0.0514
Level     0,  Iter    57:    Energy =   0.0518
Level     0,  Iter    58:    Energy =   0.0523
Level     0,  Iter    59:    Energy =   0.0529
END OF LEVEL     0    DetJac Range:   0.0356  to   2.0887 
  Avg. Gradient Time  : 0.0073s  33.63% 
  Avg. Gaussian Time  : 0.0105s  48.30% 
  Avg. Iteration Time : 0.0217s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0327
Level     1,  Iter     1:    Energy =   0.0338
Level     1,  Iter     2:    Energy =   0.0350
Level     1,  Iter     3:    Energy =   0.0362
Level     1,  Iter     4:    Energy =   0.0374
Level     1,  Iter     5:    Energy =   0.0385
Level     1,  Iter     6:    Energy =   0.0396
Level     1,  Iter     7:    Energy =   0.0405
Level     1,  Iter     8:    Energy =   0.0411
Level     1,  Iter     9:    Energy =   0.0417
Level     1,  Iter    10:    Energy =   0.0421
Level     1,  Iter    11:    Energy =   0.0426
Level     1,  Iter    12:    Energy =   0.0432
Level     1,  Iter    13:    Energy =   0.0436
Level     1,  Iter    14:    Energy =   0.0440
Level     1,  Iter    15:    Energy =   0.0444
Level     1,  Iter    16:    Energy =   0.0447
Level     1,  Iter    17:    Energy =   0.0451
Level     1,  Iter    18:    Energy =   0.0455
Level     1,  Iter    19:    Energy =   0.0458
Level     1,  Iter    20:    Energy =   0.0461
Level     1,  Iter    21:    Energy =   0.0465
Level     1,  Iter    22:    Energy =   0.0468
Level     1,  Iter    23:    Energy =   0.0472
Level     1,  Iter    24:    Energy =   0.0475
Level     1,  Iter    25:    Energy =   0.0479
Level     1,  Iter    26:    Energy =   0.0482
Level     1,  Iter    27:    Energy =   0.0486
Level     1,  Iter    28:    Energy =   0.0489
Level     1,  Iter    29:    Energy =   0.0492
Level     1,  Iter    30:    Energy =   0.0495
Level     1,  Iter    31:    Energy =   0.0498
Level     1,  Iter    32:    Energy =   0.0501
Level     1,  Iter    33:    Energy =   0.0503
Level     1,  Iter    34:    Energy =   0.0506
Level     1,  Iter    35:    Energy =   0.0508
Level     1,  Iter    36:    Energy =   0.0510
Level     1,  Iter    37:    Energy =   0.0513
Level     1,  Iter    38:    Energy =   0.0515
Level     1,  Iter    39:    Energy =   0.0517
Level     1,  Iter    40:    Energy =   0.0507
Level     1,  Iter    41:    Energy =   0.0508
Level     1,  Iter    42:    Energy =   0.0510
Level     1,  Iter    43:    Energy =   0.0512
Level     1,  Iter    44:    Energy =   0.0514
Level     1,  Iter    45:    Energy =   0.0516
Level     1,  Iter    46:    Energy =   0.0518
Level     1,  Iter    47:    Energy =   0.0519
Level     1,  Iter    48:    Energy =   0.0521
Level     1,  Iter    49:    Energy =   0.0522
Level     1,  Iter    50:    Energy =   0.0524
Level     1,  Iter    51:    Energy =   0.0525
Level     1,  Iter    52:    Energy =   0.0527
Level     1,  Iter    53:    Energy =   0.0528
Level     1,  Iter    54:    Energy =   0.0530
Level     1,  Iter    55:    Energy =   0.0531
Level     1,  Iter    56:    Energy =   0.0532
Level     1,  Iter    57:    Energy =   0.0533
Level     1,  Iter    58:    Energy =   0.0534
Level     1,  Iter    59:    Energy =   0.0535
END OF LEVEL     1    DetJac Range:   0.0302  to   3.8060 
  Avg. Gradient Time  : 0.0287s  34.56% 
  Avg. Gaussian Time  : 0.0428s  51.51% 
  Avg. Iteration Time : 0.0831s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0246
Level     2,  Iter     1:    Energy =   0.0254
Level     2,  Iter     2:    Energy =   0.0262
Level     2,  Iter     3:    Energy =   0.0259
Level     2,  Iter     4:    Energy =   0.0260
Level     2,  Iter     5:    Energy =   0.0258
Level     2,  Iter     6:    Energy =   0.0266
Level     2,  Iter     7:    Energy =   0.0271
Level     2,  Iter     8:    Energy =   0.0272
Level     2,  Iter     9:    Energy =   0.0278
Level     2,  Iter    10:    Energy =   0.0282
Level     2,  Iter    11:    Energy =   0.0278
Level     2,  Iter    12:    Energy =   0.0282
Level     2,  Iter    13:    Energy =   0.0285
Level     2,  Iter    14:    Energy =   0.0289
Level     2,  Iter    15:    Energy =   0.0284
Level     2,  Iter    16:    Energy =   0.0280
big value: -57819.202920
big value: -22637.623364
big value: 5040.592456
Level     2,  Iter    17:    Energy =   0.0278
Level     2,  Iter    18:    Energy =   0.0272
Level     2,  Iter    19:    Energy =   0.0277
END OF LEVEL     2    DetJac Range:   0.0270  to   3.3306 
  Avg. Gradient Time  : 0.1785s  32.42% 
  Avg. Gaussian Time  : 0.2972s  53.99% 
  Avg. Iteration Time : 0.5504s 

real	0m20.099s
user	0m34.520s
sys	0m2.408s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train015/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train015/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train015/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=50 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=50 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.414286 0.418571
+ echo 'CHUNK 0.414286 0.418571 1'
CHUNK 0.414286 0.418571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.414286 0.418571 1
====================================
         PROGRESS: 0.414286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=016
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 016
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train016
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train016
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right 016 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train016 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=right
+ local tid=016
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train016
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 016 right 0
+ local tid=016
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 016 0
+ set -e
+ local tid=016
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train016/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.626
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 127.277   GNORM= 239.771
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       -70.809     184.120       0.004
   2    3      -356.323     196.174       1.000
   3    4      -397.698     123.230       1.000
   4    5      -447.520      68.534       1.000
   5    7      -468.088      61.907       0.406
   6    9      -484.873      81.709       5.000
   7   10      -506.376      58.769       1.000
   8   11      -552.443      80.805       1.000
   9   12      -578.295      93.190       1.000
  10   13      -608.365      96.356       1.000
  11   14      -629.573      44.259       1.000
  12   15      -635.413      35.307       1.000
  13   17      -652.391      29.240       5.000
  14   18      -665.442      54.896       1.000
  15   19      -696.540      59.103       1.000
  16   20      -700.182     170.587       1.000
  17   21      -776.511     134.845       1.000
  18   24      -793.894      94.409       0.024
  19   25      -854.500      59.004       1.000
  20   26      -877.425     101.483       1.000
  21   27      -904.508      40.591       1.000
  22   28      -916.881      42.018       1.000
  23   29      -934.987      82.329       1.000
  24   30      -947.206     134.954       1.000
  25   31     -1006.741      43.980       1.000
  26   32     -1010.600      32.352       1.000
  27   33     -1018.018      33.423       1.000
  28   34     -1030.782      35.184       1.000
  29   36     -1035.506      36.216       0.468
  30   38     -1043.284      40.076       0.411
  31   39     -1049.909      42.613       1.000
  32   40     -1059.534      24.431       1.000
  33   41     -1064.085      12.562       1.000
  34   42     -1067.345      18.859       1.000
  35   43     -1068.679      13.600       1.000
  36   44     -1069.258      24.128       1.000
  37   45     -1069.647       9.641       1.000
  38   46     -1069.776       6.799       1.000
  39   48     -1070.068      14.798       0.130
  40   50     -1071.793      18.914       5.000
  41   52     -1072.238      23.430       0.244
  42   53     -1073.510      20.491       1.000
  43   54     -1074.279      19.472       1.000
  44   55     -1075.604      22.841       1.000
  45   57     -1075.916      19.487       0.133
  46   58     -1076.501      17.525       1.000
  47   59     -1076.621      15.413       1.000
  48   60     -1076.713       9.402       1.000
  49   61     -1077.129       8.770       1.000
Final RAS Transform: 
0.826748 0.0536837 0.131786 -0.983686 
0.620782 1.3334 0.467197 3.9227 
-0.0116563 -0.161358 0.697478 -12.1367 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -513.29   GNORM= 41.3513
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -533.244      49.526       0.024
   2    3      -540.210      30.262       1.000
   3    4      -543.334      16.106       1.000
   4    8      -545.143      22.316       1.122
   5    9      -546.026      12.597       1.000
   6   11      -547.283      36.281       5.000
   7   14      -549.498      21.588       0.817
   8   17      -554.057      35.599       1.729
   9   18      -556.428      23.219       1.000
  10   25      -557.213      21.236       0.886
  11   27      -557.325      18.144       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.817738 0.0585677 0.146877 -1.08745 
0.626687 1.35179 0.455776 4.02712 
-0.034303 -0.145048 0.726856 -11.8232 
0 0 0 1 

Final RAS Transform: 
0.817738 0.0585677 0.146877 -1.08745 
0.626687 1.35179 0.455776 4.02712 
-0.034303 -0.145048 0.726856 -11.8232 
0 0 0 1 


real	0m5.000s
user	0m8.088s
sys	0m0.612s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train016/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.440357
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0259
Level     0,  Iter     1:    Energy =   0.0278
Level     0,  Iter     2:    Energy =   0.0310
Level     0,  Iter     3:    Energy =   0.0334
Level     0,  Iter     4:    Energy =   0.0356
Level     0,  Iter     5:    Energy =   0.0382
Level     0,  Iter     6:    Energy =   0.0403
Level     0,  Iter     7:    Energy =   0.0420
Level     0,  Iter     8:    Energy =   0.0436
Level     0,  Iter     9:    Energy =   0.0449
Level     0,  Iter    10:    Energy =   0.0459
Level     0,  Iter    11:    Energy =   0.0469
Level     0,  Iter    12:    Energy =   0.0476
Level     0,  Iter    13:    Energy =   0.0483
Level     0,  Iter    14:    Energy =   0.0487
Level     0,  Iter    15:    Energy =   0.0489
Level     0,  Iter    16:    Energy =   0.0495
Level     0,  Iter    17:    Energy =   0.0500
Level     0,  Iter    18:    Energy =   0.0506
Level     0,  Iter    19:    Energy =   0.0509
Level     0,  Iter    20:    Energy =   0.0516
Level     0,  Iter    21:    Energy =   0.0521
Level     0,  Iter    22:    Energy =   0.0525
Level     0,  Iter    23:    Energy =   0.0529
Level     0,  Iter    24:    Energy =   0.0532
Level     0,  Iter    25:    Energy =   0.0533
Level     0,  Iter    26:    Energy =   0.0537
Level     0,  Iter    27:    Energy =   0.0540
Level     0,  Iter    28:    Energy =   0.0543
Level     0,  Iter    29:    Energy =   0.0545
Level     0,  Iter    30:    Energy =   0.0549
Level     0,  Iter    31:    Energy =   0.0552
Level     0,  Iter    32:    Energy =   0.0554
Level     0,  Iter    33:    Energy =   0.0556
Level     0,  Iter    34:    Energy =   0.0560
Level     0,  Iter    35:    Energy =   0.0562
Level     0,  Iter    36:    Energy =   0.0563
Level     0,  Iter    37:    Energy =   0.0564
Level     0,  Iter    38:    Energy =   0.0565
Level     0,  Iter    39:    Energy =   0.0566
Level     0,  Iter    40:    Energy =   0.0567
Level     0,  Iter    41:    Energy =   0.0568
Level     0,  Iter    42:    Energy =   0.0568
Level     0,  Iter    43:    Energy =   0.0568
Level     0,  Iter    44:    Energy =   0.0569
Level     0,  Iter    45:    Energy =   0.0569
Level     0,  Iter    46:    Energy =   0.0570
Level     0,  Iter    47:    Energy =   0.0571
Level     0,  Iter    48:    Energy =   0.0572
Level     0,  Iter    49:    Energy =   0.0572
Level     0,  Iter    50:    Energy =   0.0573
Level     0,  Iter    51:    Energy =   0.0574
Level     0,  Iter    52:    Energy =   0.0576
Level     0,  Iter    53:    Energy =   0.0576
Level     0,  Iter    54:    Energy =   0.0577
Level     0,  Iter    55:    Energy =   0.0577
Level     0,  Iter    56:    Energy =   0.0578
Level     0,  Iter    57:    Energy =   0.0578
Level     0,  Iter    58:    Energy =   0.0579
Level     0,  Iter    59:    Energy =   0.0579
END OF LEVEL     0    DetJac Range:   0.1981  to   2.2260 
  Avg. Gradient Time  : 0.0071s  34.35% 
  Avg. Gaussian Time  : 0.0098s  47.60% 
  Avg. Iteration Time : 0.0206s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0298
Level     1,  Iter     1:    Energy =   0.0317
Level     1,  Iter     2:    Energy =   0.0332
Level     1,  Iter     3:    Energy =   0.0344
Level     1,  Iter     4:    Energy =   0.0355
Level     1,  Iter     5:    Energy =   0.0368
Level     1,  Iter     6:    Energy =   0.0379
Level     1,  Iter     7:    Energy =   0.0390
Level     1,  Iter     8:    Energy =   0.0401
Level     1,  Iter     9:    Energy =   0.0409
Level     1,  Iter    10:    Energy =   0.0415
Level     1,  Iter    11:    Energy =   0.0422
Level     1,  Iter    12:    Energy =   0.0428
Level     1,  Iter    13:    Energy =   0.0433
Level     1,  Iter    14:    Energy =   0.0438
Level     1,  Iter    15:    Energy =   0.0442
Level     1,  Iter    16:    Energy =   0.0446
Level     1,  Iter    17:    Energy =   0.0450
Level     1,  Iter    18:    Energy =   0.0453
Level     1,  Iter    19:    Energy =   0.0455
Level     1,  Iter    20:    Energy =   0.0458
Level     1,  Iter    21:    Energy =   0.0460
Level     1,  Iter    22:    Energy =   0.0461
Level     1,  Iter    23:    Energy =   0.0463
Level     1,  Iter    24:    Energy =   0.0465
Level     1,  Iter    25:    Energy =   0.0466
Level     1,  Iter    26:    Energy =   0.0467
Level     1,  Iter    27:    Energy =   0.0469
Level     1,  Iter    28:    Energy =   0.0470
Level     1,  Iter    29:    Energy =   0.0472
Level     1,  Iter    30:    Energy =   0.0473
Level     1,  Iter    31:    Energy =   0.0474
Level     1,  Iter    32:    Energy =   0.0475
Level     1,  Iter    33:    Energy =   0.0476
Level     1,  Iter    34:    Energy =   0.0477
Level     1,  Iter    35:    Energy =   0.0478
Level     1,  Iter    36:    Energy =   0.0478
Level     1,  Iter    37:    Energy =   0.0479
Level     1,  Iter    38:    Energy =   0.0479
Level     1,  Iter    39:    Energy =   0.0480
Level     1,  Iter    40:    Energy =   0.0481
Level     1,  Iter    41:    Energy =   0.0482
Level     1,  Iter    42:    Energy =   0.0482
Level     1,  Iter    43:    Energy =   0.0483
Level     1,  Iter    44:    Energy =   0.0484
Level     1,  Iter    45:    Energy =   0.0485
Level     1,  Iter    46:    Energy =   0.0485
Level     1,  Iter    47:    Energy =   0.0486
Level     1,  Iter    48:    Energy =   0.0485
Level     1,  Iter    49:    Energy =   0.0485
Level     1,  Iter    50:    Energy =   0.0485
Level     1,  Iter    51:    Energy =   0.0485
Level     1,  Iter    52:    Energy =   0.0485
Level     1,  Iter    53:    Energy =   0.0485
Level     1,  Iter    54:    Energy =   0.0485
Level     1,  Iter    55:    Energy =   0.0486
Level     1,  Iter    56:    Energy =   0.0485
Level     1,  Iter    57:    Energy =   0.0486
Level     1,  Iter    58:    Energy =   0.0485
Level     1,  Iter    59:    Energy =   0.0486
END OF LEVEL     1    DetJac Range:   0.0339  to   3.3631 
  Avg. Gradient Time  : 0.0280s  34.17% 
  Avg. Gaussian Time  : 0.0423s  51.72% 
  Avg. Iteration Time : 0.0818s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0210
Level     2,  Iter     1:    Energy =   0.0219
Level     2,  Iter     2:    Energy =   0.0226
Level     2,  Iter     3:    Energy =   0.0233
Level     2,  Iter     4:    Energy =   0.0240
Level     2,  Iter     5:    Energy =   0.0245
Level     2,  Iter     6:    Energy =   0.0250
Level     2,  Iter     7:    Energy =   0.0254
Level     2,  Iter     8:    Energy =   0.0258
Level     2,  Iter     9:    Energy =   0.0261
Level     2,  Iter    10:    Energy =   0.0265
Level     2,  Iter    11:    Energy =   0.0268
Level     2,  Iter    12:    Energy =   0.0270
Level     2,  Iter    13:    Energy =   0.0272
Level     2,  Iter    14:    Energy =   0.0275
Level     2,  Iter    15:    Energy =   0.0276
Level     2,  Iter    16:    Energy =   0.0278
Level     2,  Iter    17:    Energy =   0.0280
Level     2,  Iter    18:    Energy =   0.0281
Level     2,  Iter    19:    Energy =   0.0282
END OF LEVEL     2    DetJac Range:   0.0327  to   3.1359 
  Avg. Gradient Time  : 0.1821s  32.51% 
  Avg. Gaussian Time  : 0.3024s  54.00% 
  Avg. Iteration Time : 0.5600s 

real	0m20.048s
user	0m34.536s
sys	0m2.328s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train016/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train016/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train016/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=51 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=51 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.418571 0.422857
+ echo 'CHUNK 0.418571 0.422857 1'
CHUNK 0.418571 0.422857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.418571 0.422857 1
====================================
         PROGRESS: 0.418571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=017
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 017
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train017
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train017
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right 017 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train017 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=right
+ local tid=017
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train017
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 017 right 0
+ local tid=017
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 017 0
+ set -e
+ local tid=017
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train017/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.701
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -102.198   GNORM= 223.188
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -288.075     188.384       0.004
   2    3      -336.525     170.566       1.000
   3    4      -556.286     157.819       1.000
   4    7      -574.765      62.495       0.049
   5    8      -586.077      53.319       1.000
   6    9      -607.475     129.711       1.000
   7   10      -641.493      83.724       1.000
   8   11      -693.051      78.996       1.000
   9   12      -785.062     104.619       1.000
  10   13      -874.130      85.571       1.000
  11   14      -951.071      55.828       1.000
  12   15      -973.074      60.391       1.000
  13   16      -994.412      42.729       1.000
  14   17     -1027.189      49.668       1.000
  15   19     -1054.580     129.124       0.174
  16   20     -1065.373      79.463       1.000
  17   21     -1076.681      24.722       1.000
  18   22     -1078.106      16.259       1.000
  19   23     -1079.733      15.667       1.000
  20   24     -1081.720      51.377       1.000
  21   25     -1087.112      43.255       1.000
  22   27     -1089.251      19.619       0.475
  23   28     -1091.604      18.272       1.000
  24   29     -1093.087      18.445       1.000
  25   30     -1094.340      32.310       1.000
  26   31     -1095.914      18.098       1.000
  27   34     -1100.431      29.162       2.447
  28   36     -1101.372      13.628       0.374
  29   37     -1102.153      15.341       1.000
  30   38     -1102.256      27.549       1.000
  31   39     -1103.149      11.909       1.000
  32   40     -1103.682      22.401       1.000
  33   41     -1104.176      14.559       1.000
  34   42     -1104.741      12.161       1.000
  35   43     -1105.235      10.190       1.000
  36   45     -1105.325       5.819       0.223
  37   46     -1105.361       6.300       1.000
  38   47     -1105.418       3.583       1.000
  39   48     -1105.469       6.825       1.000
  40   49     -1105.532       9.307       1.000
  41   50     -1105.596       6.546       1.000
  42   51     -1105.665       6.394       1.000
  43   52     -1105.685       4.209       1.000
  44   53     -1105.705       3.695       1.000
  45   55     -1105.756       3.569       0.168
  46   57     -1105.786       5.408       0.346
  47   59     -1105.791       6.943       0.101
  48   61     -1105.797       6.814       0.199
Final RAS Transform: 
1.04701 0.144887 0.0724322 -3.34378 
0.115522 1.19721 0.354564 8.79456 
-0.144763 -0.304082 0.549247 -6.52765 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -662.472   GNORM= 41.0044
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -669.343      22.303       0.011
   2    4      -672.853      10.384       1.000
   3    5      -674.126      15.742       1.000
   4    6      -679.254      21.704       1.000
   5    8      -691.516      33.713       0.261
   6   10      -694.084      26.623       0.314
   7   11      -697.221      25.161       1.000
   8   13      -698.545      16.694       0.400
   9   14      -699.952      13.714       1.000
  10   15      -700.539       6.636       1.000
  11   18      -702.465      19.360       2.314
  12   19      -703.035       6.422       1.000
  13   21      -703.214       7.887       0.389
  14   22      -703.606      10.862       1.000
  15   23      -706.927      21.317       1.000
  16   24      -708.661      23.482       1.000
  17   25      -709.524      15.107       1.000
  18   26      -710.082       9.269       1.000
  19   27      -710.299       6.389       1.000
  20   28      -710.532       4.725       1.000
  21   29      -710.894      12.294       1.000
  22   30      -711.315       9.044       1.000
  23   32      -711.704      15.748       0.479
  24   34      -711.966      14.087       0.417
  25   35      -712.143       4.820       1.000
  26   36      -712.220       7.260       1.000
  27   37      -712.372       3.386       1.000
  28   38      -712.440       7.723       1.000
  29   39      -712.520       5.007       1.000
  30   40      -712.606       4.136       1.000
  31   42      -712.809       8.120       0.386
  32   43      -712.979       5.595       1.000
  33   44      -713.010       1.705       1.000
  34   45      -713.016       1.436       1.000
  35   46      -713.023       2.087       1.000
  36   47      -713.038       2.724       1.000
  37   48      -713.061       1.219       1.000
  38   49      -713.067       2.654       1.000
  39   50      -713.087       1.297       1.000
  40   52      -713.114       5.081       0.372
  41   53      -713.215       4.085       1.000
  42   55      -713.241       4.191       0.135
  43   56      -713.249       3.330       1.000
  44   57      -713.260       2.112       1.000
  45   59      -713.263       2.456       0.102
  46   60      -713.266       1.753       1.000
  47   61      -713.275       3.039       1.000
Final RAS Transform: 
1.05595 0.0883817 0.0706091 -2.08004 
0.0936264 1.16118 0.3376 9.83092 
-0.10798 -0.308122 0.530108 -8.02977 
0 0 0 1 

Final RAS Transform: 
1.05595 0.0883817 0.0706091 -2.08004 
0.0936264 1.16118 0.3376 9.83092 
-0.10798 -0.308122 0.530108 -8.02977 
0 0 0 1 


real	0m6.111s
user	0m10.036s
sys	0m0.768s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train017/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.537632
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0293
Level     0,  Iter     1:    Energy =   0.0311
Level     0,  Iter     2:    Energy =   0.0346
Level     0,  Iter     3:    Energy =   0.0379
Level     0,  Iter     4:    Energy =   0.0408
Level     0,  Iter     5:    Energy =   0.0434
Level     0,  Iter     6:    Energy =   0.0454
Level     0,  Iter     7:    Energy =   0.0470
Level     0,  Iter     8:    Energy =   0.0481
Level     0,  Iter     9:    Energy =   0.0493
Level     0,  Iter    10:    Energy =   0.0504
Level     0,  Iter    11:    Energy =   0.0510
Level     0,  Iter    12:    Energy =   0.0518
Level     0,  Iter    13:    Energy =   0.0521
Level     0,  Iter    14:    Energy =   0.0526
Level     0,  Iter    15:    Energy =   0.0531
Level     0,  Iter    16:    Energy =   0.0538
Level     0,  Iter    17:    Energy =   0.0543
Level     0,  Iter    18:    Energy =   0.0548
Level     0,  Iter    19:    Energy =   0.0552
Level     0,  Iter    20:    Energy =   0.0557
Level     0,  Iter    21:    Energy =   0.0558
Level     0,  Iter    22:    Energy =   0.0564
Level     0,  Iter    23:    Energy =   0.0565
Level     0,  Iter    24:    Energy =   0.0570
Level     0,  Iter    25:    Energy =   0.0570
Level     0,  Iter    26:    Energy =   0.0575
Level     0,  Iter    27:    Energy =   0.0575
Level     0,  Iter    28:    Energy =   0.0579
Level     0,  Iter    29:    Energy =   0.0579
Level     0,  Iter    30:    Energy =   0.0582
Level     0,  Iter    31:    Energy =   0.0583
Level     0,  Iter    32:    Energy =   0.0586
Level     0,  Iter    33:    Energy =   0.0588
Level     0,  Iter    34:    Energy =   0.0592
Level     0,  Iter    35:    Energy =   0.0595
Level     0,  Iter    36:    Energy =   0.0598
Level     0,  Iter    37:    Energy =   0.0599
Level     0,  Iter    38:    Energy =   0.0601
Level     0,  Iter    39:    Energy =   0.0602
Level     0,  Iter    40:    Energy =   0.0603
Level     0,  Iter    41:    Energy =   0.0603
Level     0,  Iter    42:    Energy =   0.0605
Level     0,  Iter    43:    Energy =   0.0607
Level     0,  Iter    44:    Energy =   0.0608
Level     0,  Iter    45:    Energy =   0.0609
Level     0,  Iter    46:    Energy =   0.0610
Level     0,  Iter    47:    Energy =   0.0610
Level     0,  Iter    48:    Energy =   0.0610
Level     0,  Iter    49:    Energy =   0.0611
Level     0,  Iter    50:    Energy =   0.0611
Level     0,  Iter    51:    Energy =   0.0612
Level     0,  Iter    52:    Energy =   0.0612
Level     0,  Iter    53:    Energy =   0.0613
Level     0,  Iter    54:    Energy =   0.0614
Level     0,  Iter    55:    Energy =   0.0614
Level     0,  Iter    56:    Energy =   0.0615
Level     0,  Iter    57:    Energy =   0.0616
Level     0,  Iter    58:    Energy =   0.0616
Level     0,  Iter    59:    Energy =   0.0615
END OF LEVEL     0    DetJac Range:   0.1489  to   4.0924 
  Avg. Gradient Time  : 0.0069s  33.47% 
  Avg. Gaussian Time  : 0.0099s  48.37% 
  Avg. Iteration Time : 0.0205s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0354
Level     1,  Iter     1:    Energy =   0.0379
Level     1,  Iter     2:    Energy =   0.0402
Level     1,  Iter     3:    Energy =   0.0421
Level     1,  Iter     4:    Energy =   0.0440
Level     1,  Iter     5:    Energy =   0.0455
Level     1,  Iter     6:    Energy =   0.0467
Level     1,  Iter     7:    Energy =   0.0477
Level     1,  Iter     8:    Energy =   0.0487
Level     1,  Iter     9:    Energy =   0.0496
Level     1,  Iter    10:    Energy =   0.0503
Level     1,  Iter    11:    Energy =   0.0508
Level     1,  Iter    12:    Energy =   0.0512
Level     1,  Iter    13:    Energy =   0.0516
Level     1,  Iter    14:    Energy =   0.0519
Level     1,  Iter    15:    Energy =   0.0521
Level     1,  Iter    16:    Energy =   0.0523
Level     1,  Iter    17:    Energy =   0.0524
Level     1,  Iter    18:    Energy =   0.0525
Level     1,  Iter    19:    Energy =   0.0527
Level     1,  Iter    20:    Energy =   0.0528
Level     1,  Iter    21:    Energy =   0.0530
Level     1,  Iter    22:    Energy =   0.0531
Level     1,  Iter    23:    Energy =   0.0532
Level     1,  Iter    24:    Energy =   0.0533
Level     1,  Iter    25:    Energy =   0.0534
Level     1,  Iter    26:    Energy =   0.0535
Level     1,  Iter    27:    Energy =   0.0535
Level     1,  Iter    28:    Energy =   0.0537
Level     1,  Iter    29:    Energy =   0.0537
Level     1,  Iter    30:    Energy =   0.0538
Level     1,  Iter    31:    Energy =   0.0539
Level     1,  Iter    32:    Energy =   0.0539
Level     1,  Iter    33:    Energy =   0.0540
Level     1,  Iter    34:    Energy =   0.0541
Level     1,  Iter    35:    Energy =   0.0542
Level     1,  Iter    36:    Energy =   0.0543
Level     1,  Iter    37:    Energy =   0.0543
Level     1,  Iter    38:    Energy =   0.0544
Level     1,  Iter    39:    Energy =   0.0545
Level     1,  Iter    40:    Energy =   0.0545
Level     1,  Iter    41:    Energy =   0.0545
Level     1,  Iter    42:    Energy =   0.0546
Level     1,  Iter    43:    Energy =   0.0547
Level     1,  Iter    44:    Energy =   0.0548
Level     1,  Iter    45:    Energy =   0.0548
Level     1,  Iter    46:    Energy =   0.0548
Level     1,  Iter    47:    Energy =   0.0548
Level     1,  Iter    48:    Energy =   0.0549
Level     1,  Iter    49:    Energy =   0.0549
Level     1,  Iter    50:    Energy =   0.0551
Level     1,  Iter    51:    Energy =   0.0551
Level     1,  Iter    52:    Energy =   0.0550
Level     1,  Iter    53:    Energy =   0.0550
Level     1,  Iter    54:    Energy =   0.0551
Level     1,  Iter    55:    Energy =   0.0551
Level     1,  Iter    56:    Energy =   0.0551
Level     1,  Iter    57:    Energy =   0.0551
Level     1,  Iter    58:    Energy =   0.0550
Level     1,  Iter    59:    Energy =   0.0550
END OF LEVEL     1    DetJac Range:   0.0396  to   4.1731 
  Avg. Gradient Time  : 0.0279s  34.07% 
  Avg. Gaussian Time  : 0.0424s  51.79% 
  Avg. Iteration Time : 0.0819s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0260
Level     2,  Iter     1:    Energy =   0.0271
Level     2,  Iter     2:    Energy =   0.0284
Level     2,  Iter     3:    Energy =   0.0295
Level     2,  Iter     4:    Energy =   0.0304
Level     2,  Iter     5:    Energy =   0.0311
Level     2,  Iter     6:    Energy =   0.0318
Level     2,  Iter     7:    Energy =   0.0323
Level     2,  Iter     8:    Energy =   0.0328
Level     2,  Iter     9:    Energy =   0.0333
Level     2,  Iter    10:    Energy =   0.0337
Level     2,  Iter    11:    Energy =   0.0341
Level     2,  Iter    12:    Energy =   0.0346
Level     2,  Iter    13:    Energy =   0.0351
Level     2,  Iter    14:    Energy =   0.0355
Level     2,  Iter    15:    Energy =   0.0358
Level     2,  Iter    16:    Energy =   0.0360
Level     2,  Iter    17:    Energy =   0.0362
Level     2,  Iter    18:    Energy =   0.0364
Level     2,  Iter    19:    Energy =   0.0366
END OF LEVEL     2    DetJac Range:   0.0343  to   5.3111 
  Avg. Gradient Time  : 0.1897s  33.27% 
  Avg. Gaussian Time  : 0.3051s  53.50% 
  Avg. Iteration Time : 0.5702s 

real	0m20.434s
user	0m34.996s
sys	0m2.476s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train017/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train017/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train017/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=52 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=52 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.422857 0.427143
+ echo 'CHUNK 0.422857 0.427143 1'
CHUNK 0.422857 0.427143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.422857 0.427143 1
====================================
         PROGRESS: 0.422857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=018
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 018
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train018
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train018
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right 018 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train018 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=right
+ local tid=018
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train018
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 018 right 0
+ local tid=018
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 018 0
+ set -e
+ local tid=018
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train018/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.632
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 33.0179   GNORM= 192.925
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -123.355     118.399       0.005
   2    3      -334.397      83.080       1.000
   3    4      -412.828     134.906       1.000
   4    5      -489.485      52.289       1.000
   5    8      -556.674      52.642       1.772
   6   11      -558.917      40.039       0.020
   7   12      -570.587      34.404       1.000
   8   13      -597.527      44.786       1.000
   9   15      -724.754      84.350       0.441
  10   16      -823.697      48.740       1.000
  11   18      -841.011      52.117       0.319
  12   19      -863.267      42.323       1.000
  13   20      -921.484      93.995       1.000
  14   21      -987.008      85.944       1.000
  15   22     -1117.767      22.301       1.000
  16   23     -1121.588      69.338       1.000
  17   24     -1131.398      16.740       1.000
  18   25     -1133.090      22.162       1.000
  19   26     -1139.609      39.137       1.000
  20   27     -1145.947      44.221       1.000
  21   28     -1156.716     102.716       1.000
  22   29     -1174.927      63.723       1.000
  23   31     -1182.379      28.058       0.284
  24   32     -1188.512      23.099       1.000
  25   33     -1190.626      55.305       1.000
  26   34     -1195.450      22.641       1.000
  27   35     -1200.938      22.524       1.000
  28   37     -1205.515      31.796       0.209
  29   38     -1206.787      37.478       1.000
  30   39     -1208.548      14.613       1.000
  31   40     -1208.870      14.431       1.000
  32   41     -1209.272      16.605       1.000
  33   42     -1210.274      20.673       1.000
  34   43     -1212.764      14.746       1.000
  35   45     -1215.813      24.462       0.216
  36   46     -1217.120      20.578       1.000
  37   47     -1218.576      15.143       1.000
  38   48     -1220.421      13.386       1.000
  39   49     -1220.851      12.008       1.000
  40   52     -1222.705      20.905       2.728
  41   54     -1223.708      28.962       0.198
  42   56     -1224.375      32.076       0.070
  43   57     -1226.613      20.171       1.000
  44   58     -1227.519      14.269       1.000
  45   59     -1228.084      13.873       1.000
  46   60     -1228.349       7.915       1.000
  47   61     -1228.577      14.670       1.000
Final RAS Transform: 
1.05889 0.0605288 -0.0262518 -4.89673 
0.1506 1.02273 0.430216 16.2902 
-0.330511 -0.331051 0.481133 -6.639 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -652.661   GNORM= 32.9287
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -657.943      26.069       0.030
   2    3      -658.154      30.313       1.000
   3    4      -661.023      16.541       1.000
   4    6      -662.373      14.291       0.514
   5    8      -669.285      29.079       5.000
   6    9      -692.188      23.394       1.000
   7   11      -695.159      14.940       0.154
   8   12      -695.970      25.050       1.000
   9   13      -703.019      20.607       1.000
  10   14      -721.595      47.794       1.000
  11   15      -742.786      58.415       1.000
  12   16      -751.356      45.423       1.000
  13   17      -759.126      18.641       1.000
  14   18      -760.097      31.668       1.000
  15   19      -765.859      29.746       1.000
  16   20      -773.624      17.855       1.000
  17   21      -780.384      15.859       1.000
  18   22      -793.068      21.196       1.000
  19   24      -798.071      24.617       0.302
  20   25      -799.552      13.273       1.000
  21   26      -800.352      15.317       1.000
  22   27      -800.821       5.808       1.000
  23   29      -800.917       5.046       0.332
  24   30      -801.146       4.453       1.000
  25   31      -803.141      26.719       1.000
  26   32      -805.616      20.886       1.000
  27   34      -806.619      23.406       0.192
  28   35      -807.324      17.437       1.000
  29   36      -807.920       6.235       1.000
  30   37      -808.386       6.979       1.000
  31   38      -809.373       9.352       1.000
  32   41      -809.580      12.540       0.026
  33   42      -810.141       6.732       1.000
  34   43      -811.104      17.771       1.000
  35   44      -812.111      14.930       1.000
  36   45      -812.382       5.839       1.000
  37   48      -812.776       4.949       1.604
  38   49      -812.831       3.561       1.000
  39   50      -812.885       4.373       1.000
  40   51      -813.091       8.938       1.000
  41   52      -813.372       7.735       1.000
  42   54      -813.519       7.333       0.065
  43   55      -813.601       6.528       1.000
  44   56      -813.822       3.883       1.000
  45   58      -813.847       3.580       0.242
  46   59      -813.869       3.251       1.000
  47   60      -813.921       6.725       1.000
  48   61      -813.973       2.445       1.000
Final RAS Transform: 
1.01939 0.0226174 -0.088129 -3.68533 
0.216149 1.10929 0.69557 18.0895 
-0.372048 -0.407987 0.315687 -7.02945 
0 0 0 1 

Final RAS Transform: 
1.01939 0.0226174 -0.088129 -3.68533 
0.216149 1.10929 0.69557 18.0895 
-0.372048 -0.407987 0.315687 -7.02945 
0 0 0 1 


real	0m6.067s
user	0m9.932s
sys	0m0.764s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train018/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.484192
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0325
Level     0,  Iter     1:    Energy =   0.0350
Level     0,  Iter     2:    Energy =   0.0378
Level     0,  Iter     3:    Energy =   0.0405
Level     0,  Iter     4:    Energy =   0.0430
Level     0,  Iter     5:    Energy =   0.0454
Level     0,  Iter     6:    Energy =   0.0474
Level     0,  Iter     7:    Energy =   0.0491
Level     0,  Iter     8:    Energy =   0.0506
Level     0,  Iter     9:    Energy =   0.0521
Level     0,  Iter    10:    Energy =   0.0533
Level     0,  Iter    11:    Energy =   0.0545
Level     0,  Iter    12:    Energy =   0.0556
Level     0,  Iter    13:    Energy =   0.0567
Level     0,  Iter    14:    Energy =   0.0577
Level     0,  Iter    15:    Energy =   0.0587
Level     0,  Iter    16:    Energy =   0.0596
Level     0,  Iter    17:    Energy =   0.0607
Level     0,  Iter    18:    Energy =   0.0615
Level     0,  Iter    19:    Energy =   0.0626
Level     0,  Iter    20:    Energy =   0.0634
Level     0,  Iter    21:    Energy =   0.0643
Level     0,  Iter    22:    Energy =   0.0650
Level     0,  Iter    23:    Energy =   0.0658
Level     0,  Iter    24:    Energy =   0.0664
Level     0,  Iter    25:    Energy =   0.0666
Level     0,  Iter    26:    Energy =   0.0672
Level     0,  Iter    27:    Energy =   0.0674
Level     0,  Iter    28:    Energy =   0.0679
Level     0,  Iter    29:    Energy =   0.0684
Level     0,  Iter    30:    Energy =   0.0688
Level     0,  Iter    31:    Energy =   0.0691
Level     0,  Iter    32:    Energy =   0.0695
Level     0,  Iter    33:    Energy =   0.0699
Level     0,  Iter    34:    Energy =   0.0705
Level     0,  Iter    35:    Energy =   0.0705
Level     0,  Iter    36:    Energy =   0.0708
Level     0,  Iter    37:    Energy =   0.0709
Level     0,  Iter    38:    Energy =   0.0711
Level     0,  Iter    39:    Energy =   0.0712
Level     0,  Iter    40:    Energy =   0.0714
Level     0,  Iter    41:    Energy =   0.0714
Level     0,  Iter    42:    Energy =   0.0715
Level     0,  Iter    43:    Energy =   0.0715
Level     0,  Iter    44:    Energy =   0.0716
Level     0,  Iter    45:    Energy =   0.0716
Level     0,  Iter    46:    Energy =   0.0716
Level     0,  Iter    47:    Energy =   0.0717
Level     0,  Iter    48:    Energy =   0.0716
Level     0,  Iter    49:    Energy =   0.0717
Level     0,  Iter    50:    Energy =   0.0716
Level     0,  Iter    51:    Energy =   0.0718
Level     0,  Iter    52:    Energy =   0.0716
Level     0,  Iter    53:    Energy =   0.0718
Level     0,  Iter    54:    Energy =   0.0716
Level     0,  Iter    55:    Energy =   0.0719
Level     0,  Iter    56:    Energy =   0.0717
Level     0,  Iter    57:    Energy =   0.0719
Level     0,  Iter    58:    Energy =   0.0716
Level     0,  Iter    59:    Energy =   0.0719
END OF LEVEL     0    DetJac Range:   0.2745  to   2.0412 
  Avg. Gradient Time  : 0.0071s  33.65% 
  Avg. Gaussian Time  : 0.0102s  48.23% 
  Avg. Iteration Time : 0.0211s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0423
Level     1,  Iter     1:    Energy =   0.0447
Level     1,  Iter     2:    Energy =   0.0466
Level     1,  Iter     3:    Energy =   0.0480
Level     1,  Iter     4:    Energy =   0.0493
Level     1,  Iter     5:    Energy =   0.0502
Level     1,  Iter     6:    Energy =   0.0508
Level     1,  Iter     7:    Energy =   0.0513
Level     1,  Iter     8:    Energy =   0.0517
Level     1,  Iter     9:    Energy =   0.0521
Level     1,  Iter    10:    Energy =   0.0525
Level     1,  Iter    11:    Energy =   0.0531
Level     1,  Iter    12:    Energy =   0.0537
Level     1,  Iter    13:    Energy =   0.0545
Level     1,  Iter    14:    Energy =   0.0552
Level     1,  Iter    15:    Energy =   0.0561
Level     1,  Iter    16:    Energy =   0.0568
Level     1,  Iter    17:    Energy =   0.0575
Level     1,  Iter    18:    Energy =   0.0581
Level     1,  Iter    19:    Energy =   0.0585
Level     1,  Iter    20:    Energy =   0.0592
Level     1,  Iter    21:    Energy =   0.0595
Level     1,  Iter    22:    Energy =   0.0599
Level     1,  Iter    23:    Energy =   0.0604
Level     1,  Iter    24:    Energy =   0.0607
Level     1,  Iter    25:    Energy =   0.0610
Level     1,  Iter    26:    Energy =   0.0612
Level     1,  Iter    27:    Energy =   0.0615
Level     1,  Iter    28:    Energy =   0.0616
Level     1,  Iter    29:    Energy =   0.0619
Level     1,  Iter    30:    Energy =   0.0622
Level     1,  Iter    31:    Energy =   0.0624
Level     1,  Iter    32:    Energy =   0.0623
Level     1,  Iter    33:    Energy =   0.0624
Level     1,  Iter    34:    Energy =   0.0624
Level     1,  Iter    35:    Energy =   0.0626
Level     1,  Iter    36:    Energy =   0.0626
Level     1,  Iter    37:    Energy =   0.0627
Level     1,  Iter    38:    Energy =   0.0627
Level     1,  Iter    39:    Energy =   0.0628
Level     1,  Iter    40:    Energy =   0.0627
Level     1,  Iter    41:    Energy =   0.0628
Level     1,  Iter    42:    Energy =   0.0628
Level     1,  Iter    43:    Energy =   0.0628
Level     1,  Iter    44:    Energy =   0.0628
Level     1,  Iter    45:    Energy =   0.0629
Level     1,  Iter    46:    Energy =   0.0629
Level     1,  Iter    47:    Energy =   0.0630
Level     1,  Iter    48:    Energy =   0.0630
Level     1,  Iter    49:    Energy =   0.0631
Level     1,  Iter    50:    Energy =   0.0631
Level     1,  Iter    51:    Energy =   0.0631
Level     1,  Iter    52:    Energy =   0.0631
Level     1,  Iter    53:    Energy =   0.0632
Level     1,  Iter    54:    Energy =   0.0632
Level     1,  Iter    55:    Energy =   0.0632
Level     1,  Iter    56:    Energy =   0.0633
Level     1,  Iter    57:    Energy =   0.0634
Level     1,  Iter    58:    Energy =   0.0634
Level     1,  Iter    59:    Energy =   0.0635
END OF LEVEL     1    DetJac Range:   0.0710  to   2.8537 
  Avg. Gradient Time  : 0.0287s  34.40% 
  Avg. Gaussian Time  : 0.0430s  51.52% 
  Avg. Iteration Time : 0.0835s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0288
Level     2,  Iter     1:    Energy =   0.0297
Level     2,  Iter     2:    Energy =   0.0306
Level     2,  Iter     3:    Energy =   0.0315
Level     2,  Iter     4:    Energy =   0.0322
Level     2,  Iter     5:    Energy =   0.0318
Level     2,  Iter     6:    Energy =   0.0324
Level     2,  Iter     7:    Energy =   0.0330
Level     2,  Iter     8:    Energy =   0.0335
Level     2,  Iter     9:    Energy =   0.0339
Level     2,  Iter    10:    Energy =   0.0342
Level     2,  Iter    11:    Energy =   0.0345
Level     2,  Iter    12:    Energy =   0.0348
Level     2,  Iter    13:    Energy =   0.0350
Level     2,  Iter    14:    Energy =   0.0352
Level     2,  Iter    15:    Energy =   0.0346
Level     2,  Iter    16:    Energy =   0.0349
Level     2,  Iter    17:    Energy =   0.0351
Level     2,  Iter    18:    Energy =   0.0353
Level     2,  Iter    19:    Energy =   0.0355
END OF LEVEL     2    DetJac Range:   0.0540  to   2.9810 
  Avg. Gradient Time  : 0.1836s  32.78% 
  Avg. Gaussian Time  : 0.3008s  53.72% 
  Avg. Iteration Time : 0.5600s 

real	0m20.241s
user	0m34.672s
sys	0m2.540s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train018/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train018/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train018/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=53 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=53 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.427143 0.431429
+ echo 'CHUNK 0.427143 0.431429 1'
CHUNK 0.427143 0.431429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.427143 0.431429 1
====================================
         PROGRESS: 0.427143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=019
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 019
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train019
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train019
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right 019 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train019 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=right
+ local tid=019
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train019
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 019 right 0
+ local tid=019
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 019 0
+ set -e
+ local tid=019
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train019/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.667
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 146.663   GNORM= 118.333
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2        36.758     106.059       0.008
   2    3      -285.352      43.025       1.000
   3    6      -397.301      41.674       1.991
   4    9      -419.940      42.912       0.043
   5   11      -482.453     117.602       5.000
   6   12      -569.837     102.668       1.000
   7   14      -660.816      45.370       0.313
   8   15      -672.880      74.131       1.000
   9   16      -696.895      32.680       1.000
  10   17      -725.812      35.536       1.000
  11   19      -737.310      98.510       0.170
  12   20      -765.162      61.091       1.000
  13   21      -793.871      47.342       1.000
  14   22      -814.735      34.983       1.000
  15   23      -823.277      63.984       1.000
  16   24      -833.434      65.586       1.000
  17   25      -847.503      42.001       1.000
  18   26      -858.595      32.430       1.000
  19   27      -866.596      41.693       1.000
  20   28      -871.848      40.464       1.000
  21   29      -878.753      26.792       1.000
  22   30      -884.893      24.798       1.000
  23   31      -887.011      48.264       1.000
  24   32      -896.547      20.336       1.000
  25   33      -898.822      41.054       1.000
  26   34      -903.891      20.360       1.000
  27   35      -909.044      39.071       1.000
  28   36      -911.702      24.761       1.000
  29   37      -913.049       9.019       1.000
  30   38      -913.761       8.704       1.000
  31   40      -914.110      20.190       0.227
  32   41      -914.697       8.058       1.000
  33   43      -916.433      18.070       5.000
  34   44      -917.815       8.699       1.000
  35   45      -921.069      15.806       1.000
  36   47      -922.051      22.868       0.114
  37   49      -922.847      19.833       0.417
  38   51      -923.042      13.888       0.216
  39   52      -923.612       7.705       1.000
  40   53      -924.230       7.660       1.000
  41   54      -924.664      29.059       1.000
  42   55      -925.985      19.547       1.000
  43   56      -926.943      13.412       1.000
  44   57      -927.396       8.858       1.000
  45   58      -927.899      18.516       1.000
  46   59      -928.808      12.050       1.000
  47   61      -929.065      12.376       0.401
Final RAS Transform: 
1.11651 0.0858647 -0.0230343 -4.28388 
-0.0140071 1.23805 0.365193 9.89408 
-0.350474 -0.401093 0.367622 -2.05097 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -579.223   GNORM= 65.8445
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -587.598      72.090       0.015
   2    3      -601.608      20.166       1.000
   3    4      -602.918      16.234       1.000
   4    5      -604.324      16.160       1.000
   5    6      -606.274      18.350       1.000
   6    7      -612.949      30.376       1.000
   7    8      -617.326      28.387       1.000
   8    9      -630.527      58.499       1.000
   9   10      -636.385      39.462       1.000
  10   11      -639.130      10.120       1.000
  11   12      -639.790       9.237       1.000
  12   13      -642.995      36.213       1.000
  13   14      -646.646      32.562       1.000
  14   16      -651.707      29.307       0.492
  15   17      -659.526      20.532       1.000
  16   18      -660.707       9.177       1.000
  17   19      -662.096      15.436       1.000
  18   21      -662.711      21.542       0.292
  19   22      -663.415       4.527       1.000
  20   24      -663.757       5.286       5.000
  21   25      -664.099       2.819       1.000
  22   26      -665.072       8.511       1.000
  23   28      -665.878       9.041       0.504
  24   29      -666.825       8.727       1.000
  25   31      -667.159       5.112       0.412
  26   33      -667.269       4.589       0.378
  27   34      -667.312       3.626       1.000
  28   35      -667.380       3.238       1.000
  29   37      -667.414       2.606       0.324
  30   39      -667.441       3.419       0.382
  31   40      -667.474       1.578       1.000
  32   41      -667.482       1.752       1.000
  33   44      -667.491       1.699       0.022
  34   45      -667.509       1.608       1.000
  35   47      -667.529       2.279       0.112
  36   49      -667.554       3.719       0.508
  37   50      -667.610       3.949       1.000
  38   51      -667.733       2.296       1.000
  39   53      -667.795       4.217       0.453
  40   54      -667.884       8.656       1.000
  41   55      -668.135       5.364       1.000
  42   56      -668.207       6.730       1.000
  43   57      -668.304       1.771       1.000
  44   59      -668.350       3.019       0.438
  45   60      -668.377       4.160       1.000
  46   61      -668.408       3.519       1.000
Final RAS Transform: 
1.11438 0.0284821 -0.0871863 -4.50679 
0.038662 1.30172 0.563444 11.9189 
-0.420913 -0.462945 0.362312 0.623986 
0 0 0 1 

Final RAS Transform: 
1.11438 0.0284821 -0.0871863 -4.50679 
0.038662 1.30172 0.563444 11.9189 
-0.420913 -0.462945 0.362312 0.623986 
0 0 0 1 


real	0m6.050s
user	0m9.928s
sys	0m0.788s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train019/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.576386
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0251
Level     0,  Iter     1:    Energy =   0.0275
Level     0,  Iter     2:    Energy =   0.0298
Level     0,  Iter     3:    Energy =   0.0323
Level     0,  Iter     4:    Energy =   0.0349
Level     0,  Iter     5:    Energy =   0.0370
Level     0,  Iter     6:    Energy =   0.0387
Level     0,  Iter     7:    Energy =   0.0402
Level     0,  Iter     8:    Energy =   0.0414
Level     0,  Iter     9:    Energy =   0.0426
Level     0,  Iter    10:    Energy =   0.0434
Level     0,  Iter    11:    Energy =   0.0442
Level     0,  Iter    12:    Energy =   0.0448
Level     0,  Iter    13:    Energy =   0.0451
Level     0,  Iter    14:    Energy =   0.0456
Level     0,  Iter    15:    Energy =   0.0458
Level     0,  Iter    16:    Energy =   0.0463
Level     0,  Iter    17:    Energy =   0.0463
Level     0,  Iter    18:    Energy =   0.0467
Level     0,  Iter    19:    Energy =   0.0466
Level     0,  Iter    20:    Energy =   0.0471
Level     0,  Iter    21:    Energy =   0.0470
Level     0,  Iter    22:    Energy =   0.0473
Level     0,  Iter    23:    Energy =   0.0471
Level     0,  Iter    24:    Energy =   0.0475
Level     0,  Iter    25:    Energy =   0.0472
Level     0,  Iter    26:    Energy =   0.0476
Level     0,  Iter    27:    Energy =   0.0473
Level     0,  Iter    28:    Energy =   0.0476
Level     0,  Iter    29:    Energy =   0.0473
Level     0,  Iter    30:    Energy =   0.0477
Level     0,  Iter    31:    Energy =   0.0474
Level     0,  Iter    32:    Energy =   0.0477
Level     0,  Iter    33:    Energy =   0.0475
Level     0,  Iter    34:    Energy =   0.0478
Level     0,  Iter    35:    Energy =   0.0476
Level     0,  Iter    36:    Energy =   0.0479
Level     0,  Iter    37:    Energy =   0.0477
Level     0,  Iter    38:    Energy =   0.0480
Level     0,  Iter    39:    Energy =   0.0477
Level     0,  Iter    40:    Energy =   0.0480
Level     0,  Iter    41:    Energy =   0.0477
Level     0,  Iter    42:    Energy =   0.0479
Level     0,  Iter    43:    Energy =   0.0476
Level     0,  Iter    44:    Energy =   0.0478
Level     0,  Iter    45:    Energy =   0.0476
Level     0,  Iter    46:    Energy =   0.0479
Level     0,  Iter    47:    Energy =   0.0475
Level     0,  Iter    48:    Energy =   0.0478
Level     0,  Iter    49:    Energy =   0.0475
Level     0,  Iter    50:    Energy =   0.0477
Level     0,  Iter    51:    Energy =   0.0474
Level     0,  Iter    52:    Energy =   0.0477
Level     0,  Iter    53:    Energy =   0.0474
Level     0,  Iter    54:    Energy =   0.0477
Level     0,  Iter    55:    Energy =   0.0475
Level     0,  Iter    56:    Energy =   0.0478
Level     0,  Iter    57:    Energy =   0.0476
Level     0,  Iter    58:    Energy =   0.0479
Level     0,  Iter    59:    Energy =   0.0477
END OF LEVEL     0    DetJac Range:   0.1127  to   2.5950 
  Avg. Gradient Time  : 0.0071s  33.46% 
  Avg. Gaussian Time  : 0.0103s  48.43% 
  Avg. Iteration Time : 0.0212s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0327
Level     1,  Iter     1:    Energy =   0.0351
Level     1,  Iter     2:    Energy =   0.0373
Level     1,  Iter     3:    Energy =   0.0392
Level     1,  Iter     4:    Energy =   0.0411
Level     1,  Iter     5:    Energy =   0.0428
Level     1,  Iter     6:    Energy =   0.0443
Level     1,  Iter     7:    Energy =   0.0454
Level     1,  Iter     8:    Energy =   0.0466
Level     1,  Iter     9:    Energy =   0.0476
Level     1,  Iter    10:    Energy =   0.0483
Level     1,  Iter    11:    Energy =   0.0491
Level     1,  Iter    12:    Energy =   0.0497
Level     1,  Iter    13:    Energy =   0.0502
Level     1,  Iter    14:    Energy =   0.0505
Level     1,  Iter    15:    Energy =   0.0507
Level     1,  Iter    16:    Energy =   0.0510
Level     1,  Iter    17:    Energy =   0.0512
Level     1,  Iter    18:    Energy =   0.0515
Level     1,  Iter    19:    Energy =   0.0517
Level     1,  Iter    20:    Energy =   0.0520
Level     1,  Iter    21:    Energy =   0.0523
Level     1,  Iter    22:    Energy =   0.0526
Level     1,  Iter    23:    Energy =   0.0529
Level     1,  Iter    24:    Energy =   0.0531
Level     1,  Iter    25:    Energy =   0.0534
Level     1,  Iter    26:    Energy =   0.0536
Level     1,  Iter    27:    Energy =   0.0538
Level     1,  Iter    28:    Energy =   0.0541
Level     1,  Iter    29:    Energy =   0.0543
Level     1,  Iter    30:    Energy =   0.0544
Level     1,  Iter    31:    Energy =   0.0546
Level     1,  Iter    32:    Energy =   0.0548
Level     1,  Iter    33:    Energy =   0.0550
Level     1,  Iter    34:    Energy =   0.0551
Level     1,  Iter    35:    Energy =   0.0552
Level     1,  Iter    36:    Energy =   0.0553
Level     1,  Iter    37:    Energy =   0.0554
Level     1,  Iter    38:    Energy =   0.0555
Level     1,  Iter    39:    Energy =   0.0556
Level     1,  Iter    40:    Energy =   0.0557
Level     1,  Iter    41:    Energy =   0.0557
Level     1,  Iter    42:    Energy =   0.0557
Level     1,  Iter    43:    Energy =   0.0557
Level     1,  Iter    44:    Energy =   0.0558
Level     1,  Iter    45:    Energy =   0.0558
Level     1,  Iter    46:    Energy =   0.0558
Level     1,  Iter    47:    Energy =   0.0559
Level     1,  Iter    48:    Energy =   0.0558
Level     1,  Iter    49:    Energy =   0.0559
Level     1,  Iter    50:    Energy =   0.0559
Level     1,  Iter    51:    Energy =   0.0559
Level     1,  Iter    52:    Energy =   0.0559
Level     1,  Iter    53:    Energy =   0.0559
Level     1,  Iter    54:    Energy =   0.0559
Level     1,  Iter    55:    Energy =   0.0559
Level     1,  Iter    56:    Energy =   0.0559
Level     1,  Iter    57:    Energy =   0.0559
Level     1,  Iter    58:    Energy =   0.0559
Level     1,  Iter    59:    Energy =   0.0559
END OF LEVEL     1    DetJac Range:   0.0208  to   3.4376 
  Avg. Gradient Time  : 0.0288s  34.36% 
  Avg. Gaussian Time  : 0.0432s  51.54% 
  Avg. Iteration Time : 0.0838s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0278
Level     2,  Iter     1:    Energy =   0.0289
Level     2,  Iter     2:    Energy =   0.0302
Level     2,  Iter     3:    Energy =   0.0312
Level     2,  Iter     4:    Energy =   0.0320
Level     2,  Iter     5:    Energy =   0.0326
Level     2,  Iter     6:    Energy =   0.0332
Level     2,  Iter     7:    Energy =   0.0336
Level     2,  Iter     8:    Energy =   0.0341
Level     2,  Iter     9:    Energy =   0.0344
Level     2,  Iter    10:    Energy =   0.0348
Level     2,  Iter    11:    Energy =   0.0352
Level     2,  Iter    12:    Energy =   0.0357
Level     2,  Iter    13:    Energy =   0.0361
Level     2,  Iter    14:    Energy =   0.0364
Level     2,  Iter    15:    Energy =   0.0367
Level     2,  Iter    16:    Energy =   0.0370
Level     2,  Iter    17:    Energy =   0.0373
Level     2,  Iter    18:    Energy =   0.0375
Level     2,  Iter    19:    Energy =   0.0377
END OF LEVEL     2    DetJac Range:   0.0181  to   3.4917 
  Avg. Gradient Time  : 0.1808s  32.49% 
  Avg. Gaussian Time  : 0.2999s  53.88% 
  Avg. Iteration Time : 0.5565s 

real	0m20.313s
user	0m34.676s
sys	0m2.508s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train019/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train019/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train019/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train019/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=54 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=54 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.431429 0.435714
+ echo 'CHUNK 0.431429 0.435714 1'
CHUNK 0.431429 0.435714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.431429 0.435714 1
====================================
         PROGRESS: 0.431429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=020
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 020
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train020
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train020
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right 020 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train020 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=right
+ local tid=020
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train020
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 020 right 0
+ local tid=020
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 020 0
+ set -e
+ local tid=020
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train020/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.538
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 44.187   GNORM= 219.656
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -120.468     129.114       0.005
   2    3      -241.675      92.838       1.000
   3    4      -309.651      71.530       1.000
   4    6      -389.106     132.221       0.470
   5    7      -398.117     111.907       1.000
   6    8      -514.265      88.622       1.000
   7   10      -558.349      67.247       0.326
   8   11      -607.435      80.433       1.000
   9   12      -660.560      50.449       1.000
  10   13      -721.235      48.118       1.000
  11   14      -748.474      40.357       1.000
  12   16      -822.176     111.932       5.000
  13   17      -877.828      99.922       1.000
  14   18      -922.768      40.381       1.000
  15   19      -940.314      34.327       1.000
  16   21      -957.990      35.056       0.258
  17   23      -971.436      47.035       0.420
  18   24      -982.235      65.682       1.000
  19   26      -994.559      37.932       0.456
  20   27      -999.774      23.160       1.000
  21   28     -1003.736      24.001       1.000
  22   30     -1008.060      29.365       0.421
  23   31     -1011.372      15.904       1.000
  24   32     -1016.762      27.983       1.000
  25   34     -1020.194      28.207       0.073
  26   35     -1023.262      53.031       1.000
  27   36     -1028.114      13.954       1.000
  28   37     -1028.961      24.494       1.000
  29   38     -1029.798      11.640       1.000
  30   39     -1030.425      20.426       1.000
  31   40     -1031.131      17.941       1.000
  32   41     -1032.264       9.705       1.000
  33   42     -1032.983      15.455       1.000
  34   43     -1033.688      16.211       1.000
  35   44     -1035.086      10.167       1.000
  36   45     -1036.414      32.137       1.000
  37   46     -1038.278      15.133       1.000
  38   47     -1038.749       6.195       1.000
  39   48     -1038.855       9.151       1.000
  40   50     -1039.022       7.318       0.432
  41   52     -1039.067       5.898       0.243
  42   54     -1039.315      12.989       0.391
  43   56     -1040.703       6.598       5.000
  44   57     -1041.394       8.358       1.000
  45   59     -1041.684      12.497       0.266
  46   60     -1042.062       4.471       1.000
  47   61     -1042.139      10.489       1.000
Final RAS Transform: 
0.970897 0.128754 0.164075 -0.32234 
-0.00935849 1.35171 0.482036 9.91991 
-0.218552 -0.364104 0.254649 -6.822 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -646.836   GNORM= 26.065
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -649.832       8.944       0.006
   2    4      -650.068      16.904       1.000
   3    5      -650.346      10.466       1.000
   4    6      -651.089      12.089       1.000
   5    7      -652.284      19.559       1.000
   6    8      -654.104      32.382       1.000
   7    9      -655.781      21.381       1.000
   8   10      -656.855      10.179       1.000
   9   11      -657.400      10.453       1.000
  10   12      -657.761      11.430       1.000
  11   14      -659.970      27.539       0.389
  12   16      -660.918      28.335       0.512
  13   17      -662.246      11.337       1.000
  14   18      -662.536       8.609       1.000
  15   19      -662.677       8.965       1.000
  16   20      -663.136       6.233       1.000
  17   22      -663.486      13.047       0.448
  18   23      -663.757      19.621       1.000
  19   24      -664.471      13.832       1.000
  20   25      -665.454      11.092       1.000
  21   26      -665.630       7.158       1.000
  22   28      -665.739       4.525       0.339
  23   29      -665.765       3.405       1.000
  24   30      -665.819       3.535       1.000
  25   31      -666.313      25.674       1.000
  26   32      -667.584      21.319       1.000
  27   33      -668.752       8.768       1.000
  28   34      -668.924       6.305       1.000
  29   36      -669.073       4.196       0.520
  30   37      -669.140       9.658       1.000
  31   38      -669.277       4.020       1.000
  32   39      -669.393       3.699       1.000
  33   40      -669.592       5.128       1.000
  34   42      -669.634       5.295       0.281
  35   43      -669.668       5.983       1.000
  36   44      -669.793       4.182       1.000
  37   45      -669.855       2.936       1.000
  38   46      -669.925       2.490       1.000
  39   47      -669.942       5.441       1.000
  40   48      -669.978       0.953       1.000
  41   49      -669.981       1.475       1.000
  42   50      -669.986       2.522       1.000
  43   51      -669.997       2.373       1.000
  44   52      -670.001       1.874       1.000
  45   53      -670.003       0.870       1.000
  46   54      -670.008       1.818       1.000
  47   55      -670.018       1.885       1.000
  48   57      -670.019       2.105       0.120
  49   58      -670.032       2.001       1.000
  50   59      -670.043       1.830       1.000
Final RAS Transform: 
1.00611 0.234492 0.199579 -2.33966 
0.0158542 1.37849 0.528973 9.74196 
-0.238707 -0.39181 0.212236 -6.91706 
0 0 0 1 

Final RAS Transform: 
1.00611 0.234492 0.199579 -2.33966 
0.0158542 1.37849 0.528973 9.74196 
-0.238707 -0.39181 0.212236 -6.91706 
0 0 0 1 


real	0m6.429s
user	0m10.548s
sys	0m0.852s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train020/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.438576
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0282
Level     0,  Iter     1:    Energy =   0.0311
Level     0,  Iter     2:    Energy =   0.0339
Level     0,  Iter     3:    Energy =   0.0359
Level     0,  Iter     4:    Energy =   0.0379
Level     0,  Iter     5:    Energy =   0.0396
Level     0,  Iter     6:    Energy =   0.0407
Level     0,  Iter     7:    Energy =   0.0418
Level     0,  Iter     8:    Energy =   0.0427
Level     0,  Iter     9:    Energy =   0.0434
Level     0,  Iter    10:    Energy =   0.0440
Level     0,  Iter    11:    Energy =   0.0446
Level     0,  Iter    12:    Energy =   0.0453
Level     0,  Iter    13:    Energy =   0.0458
Level     0,  Iter    14:    Energy =   0.0463
Level     0,  Iter    15:    Energy =   0.0466
Level     0,  Iter    16:    Energy =   0.0470
Level     0,  Iter    17:    Energy =   0.0473
Level     0,  Iter    18:    Energy =   0.0477
Level     0,  Iter    19:    Energy =   0.0478
Level     0,  Iter    20:    Energy =   0.0481
Level     0,  Iter    21:    Energy =   0.0482
Level     0,  Iter    22:    Energy =   0.0483
Level     0,  Iter    23:    Energy =   0.0483
Level     0,  Iter    24:    Energy =   0.0483
Level     0,  Iter    25:    Energy =   0.0483
Level     0,  Iter    26:    Energy =   0.0483
Level     0,  Iter    27:    Energy =   0.0483
Level     0,  Iter    28:    Energy =   0.0483
Level     0,  Iter    29:    Energy =   0.0483
Level     0,  Iter    30:    Energy =   0.0484
Level     0,  Iter    31:    Energy =   0.0484
Level     0,  Iter    32:    Energy =   0.0484
Level     0,  Iter    33:    Energy =   0.0485
Level     0,  Iter    34:    Energy =   0.0485
Level     0,  Iter    35:    Energy =   0.0485
Level     0,  Iter    36:    Energy =   0.0485
Level     0,  Iter    37:    Energy =   0.0485
Level     0,  Iter    38:    Energy =   0.0485
Level     0,  Iter    39:    Energy =   0.0486
Level     0,  Iter    40:    Energy =   0.0487
Level     0,  Iter    41:    Energy =   0.0488
Level     0,  Iter    42:    Energy =   0.0490
Level     0,  Iter    43:    Energy =   0.0491
Level     0,  Iter    44:    Energy =   0.0492
Level     0,  Iter    45:    Energy =   0.0493
Level     0,  Iter    46:    Energy =   0.0494
Level     0,  Iter    47:    Energy =   0.0494
Level     0,  Iter    48:    Energy =   0.0495
Level     0,  Iter    49:    Energy =   0.0495
Level     0,  Iter    50:    Energy =   0.0494
Level     0,  Iter    51:    Energy =   0.0495
Level     0,  Iter    52:    Energy =   0.0495
Level     0,  Iter    53:    Energy =   0.0495
Level     0,  Iter    54:    Energy =   0.0495
Level     0,  Iter    55:    Energy =   0.0495
Level     0,  Iter    56:    Energy =   0.0495
Level     0,  Iter    57:    Energy =   0.0496
Level     0,  Iter    58:    Energy =   0.0496
Level     0,  Iter    59:    Energy =   0.0496
END OF LEVEL     0    DetJac Range:   0.0361  to   2.5999 
  Avg. Gradient Time  : 0.0078s  32.63% 
  Avg. Gaussian Time  : 0.0120s  49.87% 
  Avg. Iteration Time : 0.0240s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0318
Level     1,  Iter     1:    Energy =   0.0333
Level     1,  Iter     2:    Energy =   0.0346
Level     1,  Iter     3:    Energy =   0.0356
Level     1,  Iter     4:    Energy =   0.0366
Level     1,  Iter     5:    Energy =   0.0376
Level     1,  Iter     6:    Energy =   0.0385
Level     1,  Iter     7:    Energy =   0.0394
Level     1,  Iter     8:    Energy =   0.0403
Level     1,  Iter     9:    Energy =   0.0413
Level     1,  Iter    10:    Energy =   0.0423
Level     1,  Iter    11:    Energy =   0.0431
Level     1,  Iter    12:    Energy =   0.0440
Level     1,  Iter    13:    Energy =   0.0448
Level     1,  Iter    14:    Energy =   0.0456
Level     1,  Iter    15:    Energy =   0.0462
Level     1,  Iter    16:    Energy =   0.0467
Level     1,  Iter    17:    Energy =   0.0473
Level     1,  Iter    18:    Energy =   0.0477
Level     1,  Iter    19:    Energy =   0.0481
Level     1,  Iter    20:    Energy =   0.0484
Level     1,  Iter    21:    Energy =   0.0487
Level     1,  Iter    22:    Energy =   0.0490
Level     1,  Iter    23:    Energy =   0.0493
Level     1,  Iter    24:    Energy =   0.0496
Level     1,  Iter    25:    Energy =   0.0498
Level     1,  Iter    26:    Energy =   0.0500
Level     1,  Iter    27:    Energy =   0.0502
Level     1,  Iter    28:    Energy =   0.0504
Level     1,  Iter    29:    Energy =   0.0506
Level     1,  Iter    30:    Energy =   0.0507
Level     1,  Iter    31:    Energy =   0.0509
Level     1,  Iter    32:    Energy =   0.0511
Level     1,  Iter    33:    Energy =   0.0512
Level     1,  Iter    34:    Energy =   0.0513
Level     1,  Iter    35:    Energy =   0.0514
Level     1,  Iter    36:    Energy =   0.0515
Level     1,  Iter    37:    Energy =   0.0516
Level     1,  Iter    38:    Energy =   0.0517
Level     1,  Iter    39:    Energy =   0.0517
Level     1,  Iter    40:    Energy =   0.0518
Level     1,  Iter    41:    Energy =   0.0519
Level     1,  Iter    42:    Energy =   0.0519
Level     1,  Iter    43:    Energy =   0.0520
Level     1,  Iter    44:    Energy =   0.0520
Level     1,  Iter    45:    Energy =   0.0521
Level     1,  Iter    46:    Energy =   0.0521
Level     1,  Iter    47:    Energy =   0.0522
Level     1,  Iter    48:    Energy =   0.0522
Level     1,  Iter    49:    Energy =   0.0523
Level     1,  Iter    50:    Energy =   0.0523
Level     1,  Iter    51:    Energy =   0.0523
Level     1,  Iter    52:    Energy =   0.0524
Level     1,  Iter    53:    Energy =   0.0524
Level     1,  Iter    54:    Energy =   0.0524
Level     1,  Iter    55:    Energy =   0.0525
Level     1,  Iter    56:    Energy =   0.0525
Level     1,  Iter    57:    Energy =   0.0525
Level     1,  Iter    58:    Energy =   0.0525
Level     1,  Iter    59:    Energy =   0.0526
END OF LEVEL     1    DetJac Range:   0.0255  to   3.3671 
  Avg. Gradient Time  : 0.0287s  34.20% 
  Avg. Gaussian Time  : 0.0433s  51.62% 
  Avg. Iteration Time : 0.0838s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0234
Level     2,  Iter     1:    Energy =   0.0246
Level     2,  Iter     2:    Energy =   0.0255
Level     2,  Iter     3:    Energy =   0.0265
Level     2,  Iter     4:    Energy =   0.0274
Level     2,  Iter     5:    Energy =   0.0281
Level     2,  Iter     6:    Energy =   0.0287
Level     2,  Iter     7:    Energy =   0.0292
Level     2,  Iter     8:    Energy =   0.0297
Level     2,  Iter     9:    Energy =   0.0303
Level     2,  Iter    10:    Energy =   0.0307
Level     2,  Iter    11:    Energy =   0.0311
Level     2,  Iter    12:    Energy =   0.0315
Level     2,  Iter    13:    Energy =   0.0319
Level     2,  Iter    14:    Energy =   0.0322
Level     2,  Iter    15:    Energy =   0.0326
Level     2,  Iter    16:    Energy =   0.0330
Level     2,  Iter    17:    Energy =   0.0333
Level     2,  Iter    18:    Energy =   0.0336
Level     2,  Iter    19:    Energy =   0.0340
END OF LEVEL     2    DetJac Range:   0.0117  to   4.5478 
  Avg. Gradient Time  : 0.1860s  32.99% 
  Avg. Gaussian Time  : 0.3021s  53.60% 
  Avg. Iteration Time : 0.5637s 

real	0m20.523s
user	0m34.824s
sys	0m2.820s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train020/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train020/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train020/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train020/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=55 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=55 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.435714 0.44
+ echo 'CHUNK 0.435714 0.44 1'
CHUNK 0.435714 0.44 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.435714 0.44 1
====================================
         PROGRESS: 0.435714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=021
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 021
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train021
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train021
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right 021 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train021 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=right
+ local tid=021
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train021
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 021 right 0
+ local tid=021
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 021 0
+ set -e
+ local tid=021
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train021/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.589
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -23.474   GNORM= 193.434
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -143.215     109.208       0.005
   2    3      -237.671     144.620       1.000
   3    4      -391.531     120.885       1.000
   4    6      -417.100      45.326       0.239
   5    7      -431.339     270.461       1.000
   6   10      -432.528     209.657       0.000
   7   12      -433.420     435.988       0.000
   8   23      -433.730      37.647       0.000
   9   28      -435.206      52.632       0.053
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.938004 0.00567465 0.0338437 -3.26868 
0.110925 1.20665 -0.280277 8.58169 
-0.125263 -0.110573 1.01503 -5.11912 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -214.308   GNORM= 379.964
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -214.630    3700.387       0.003
   2    5      -214.950    1283.430       0.113
   3    6      -216.206     783.375       1.000
   4   15      -216.747     262.469       0.079
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.936168 0.0028939 0.0406138 -3.70912 
0.111055 1.20741 -0.281782 8.68694 
-0.125539 -0.111109 1.0168 -5.21289 
0 0 0 1 

Final RAS Transform: 
0.936168 0.0028939 0.0406138 -3.70912 
0.111055 1.20741 -0.281782 8.68694 
-0.125539 -0.111109 1.0168 -5.21289 
0 0 0 1 


real	0m4.356s
user	0m6.888s
sys	0m0.552s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train021/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.409545
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0107
Level     0,  Iter     1:    Energy =   0.0115
Level     0,  Iter     2:    Energy =   0.0133
Level     0,  Iter     3:    Energy =   0.0151
Level     0,  Iter     4:    Energy =   0.0166
Level     0,  Iter     5:    Energy =   0.0177
Level     0,  Iter     6:    Energy =   0.0188
Level     0,  Iter     7:    Energy =   0.0198
Level     0,  Iter     8:    Energy =   0.0206
Level     0,  Iter     9:    Energy =   0.0216
Level     0,  Iter    10:    Energy =   0.0226
Level     0,  Iter    11:    Energy =   0.0239
Level     0,  Iter    12:    Energy =   0.0251
Level     0,  Iter    13:    Energy =   0.0261
Level     0,  Iter    14:    Energy =   0.0265
Level     0,  Iter    15:    Energy =   0.0271
Level     0,  Iter    16:    Energy =   0.0277
Level     0,  Iter    17:    Energy =   0.0283
Level     0,  Iter    18:    Energy =   0.0288
Level     0,  Iter    19:    Energy =   0.0292
Level     0,  Iter    20:    Energy =   0.0297
Level     0,  Iter    21:    Energy =   0.0299
Level     0,  Iter    22:    Energy =   0.0304
Level     0,  Iter    23:    Energy =   0.0308
Level     0,  Iter    24:    Energy =   0.0312
Level     0,  Iter    25:    Energy =   0.0315
Level     0,  Iter    26:    Energy =   0.0318
Level     0,  Iter    27:    Energy =   0.0321
Level     0,  Iter    28:    Energy =   0.0323
Level     0,  Iter    29:    Energy =   0.0325
Level     0,  Iter    30:    Energy =   0.0327
Level     0,  Iter    31:    Energy =   0.0331
Level     0,  Iter    32:    Energy =   0.0332
Level     0,  Iter    33:    Energy =   0.0335
Level     0,  Iter    34:    Energy =   0.0337
Level     0,  Iter    35:    Energy =   0.0338
Level     0,  Iter    36:    Energy =   0.0340
Level     0,  Iter    37:    Energy =   0.0341
Level     0,  Iter    38:    Energy =   0.0343
Level     0,  Iter    39:    Energy =   0.0344
Level     0,  Iter    40:    Energy =   0.0347
Level     0,  Iter    41:    Energy =   0.0348
Level     0,  Iter    42:    Energy =   0.0352
Level     0,  Iter    43:    Energy =   0.0352
Level     0,  Iter    44:    Energy =   0.0354
Level     0,  Iter    45:    Energy =   0.0354
Level     0,  Iter    46:    Energy =   0.0355
Level     0,  Iter    47:    Energy =   0.0355
Level     0,  Iter    48:    Energy =   0.0356
Level     0,  Iter    49:    Energy =   0.0356
Level     0,  Iter    50:    Energy =   0.0356
Level     0,  Iter    51:    Energy =   0.0356
Level     0,  Iter    52:    Energy =   0.0358
Level     0,  Iter    53:    Energy =   0.0358
Level     0,  Iter    54:    Energy =   0.0360
Level     0,  Iter    55:    Energy =   0.0359
Level     0,  Iter    56:    Energy =   0.0360
Level     0,  Iter    57:    Energy =   0.0359
Level     0,  Iter    58:    Energy =   0.0359
Level     0,  Iter    59:    Energy =   0.0360
END OF LEVEL     0    DetJac Range:   0.0413  to   2.6806 
  Avg. Gradient Time  : 0.0071s  32.53% 
  Avg. Gaussian Time  : 0.0108s  49.71% 
  Avg. Iteration Time : 0.0218s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0239
Level     1,  Iter     1:    Energy =   0.0247
Level     1,  Iter     2:    Energy =   0.0255
Level     1,  Iter     3:    Energy =   0.0264
Level     1,  Iter     4:    Energy =   0.0274
Level     1,  Iter     5:    Energy =   0.0286
Level     1,  Iter     6:    Energy =   0.0298
Level     1,  Iter     7:    Energy =   0.0309
Level     1,  Iter     8:    Energy =   0.0319
Level     1,  Iter     9:    Energy =   0.0326
Level     1,  Iter    10:    Energy =   0.0332
Level     1,  Iter    11:    Energy =   0.0338
Level     1,  Iter    12:    Energy =   0.0344
Level     1,  Iter    13:    Energy =   0.0349
Level     1,  Iter    14:    Energy =   0.0352
Level     1,  Iter    15:    Energy =   0.0355
Level     1,  Iter    16:    Energy =   0.0357
Level     1,  Iter    17:    Energy =   0.0359
Level     1,  Iter    18:    Energy =   0.0362
Level     1,  Iter    19:    Energy =   0.0363
Level     1,  Iter    20:    Energy =   0.0365
Level     1,  Iter    21:    Energy =   0.0366
Level     1,  Iter    22:    Energy =   0.0367
Level     1,  Iter    23:    Energy =   0.0368
Level     1,  Iter    24:    Energy =   0.0369
Level     1,  Iter    25:    Energy =   0.0370
Level     1,  Iter    26:    Energy =   0.0370
Level     1,  Iter    27:    Energy =   0.0369
Level     1,  Iter    28:    Energy =   0.0369
Level     1,  Iter    29:    Energy =   0.0368
Level     1,  Iter    30:    Energy =   0.0367
Level     1,  Iter    31:    Energy =   0.0366
Level     1,  Iter    32:    Energy =   0.0365
Level     1,  Iter    33:    Energy =   0.0365
Level     1,  Iter    34:    Energy =   0.0364
Level     1,  Iter    35:    Energy =   0.0363
Level     1,  Iter    36:    Energy =   0.0362
Level     1,  Iter    37:    Energy =   0.0362
Level     1,  Iter    38:    Energy =   0.0361
Level     1,  Iter    39:    Energy =   0.0361
Level     1,  Iter    40:    Energy =   0.0360
Level     1,  Iter    41:    Energy =   0.0360
Level     1,  Iter    42:    Energy =   0.0359
Level     1,  Iter    43:    Energy =   0.0358
Level     1,  Iter    44:    Energy =   0.0358
Level     1,  Iter    45:    Energy =   0.0357
Level     1,  Iter    46:    Energy =   0.0357
Level     1,  Iter    47:    Energy =   0.0356
Level     1,  Iter    48:    Energy =   0.0355
Level     1,  Iter    49:    Energy =   0.0355
Level     1,  Iter    50:    Energy =   0.0354
Level     1,  Iter    51:    Energy =   0.0353
Level     1,  Iter    52:    Energy =   0.0353
Level     1,  Iter    53:    Energy =   0.0352
Level     1,  Iter    54:    Energy =   0.0351
Level     1,  Iter    55:    Energy =   0.0351
Level     1,  Iter    56:    Energy =   0.0350
Level     1,  Iter    57:    Energy =   0.0350
Level     1,  Iter    58:    Energy =   0.0349
Level     1,  Iter    59:    Energy =   0.0349
END OF LEVEL     1    DetJac Range:   0.0106  to   2.9191 
  Avg. Gradient Time  : 0.0296s  34.77% 
  Avg. Gaussian Time  : 0.0435s  51.22% 
  Avg. Iteration Time : 0.0850s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0161
Level     2,  Iter     1:    Energy =   0.0167
Level     2,  Iter     2:    Energy =   0.0172
Level     2,  Iter     3:    Energy =   0.0179
Level     2,  Iter     4:    Energy =   0.0184
Level     2,  Iter     5:    Energy =   0.0189
Level     2,  Iter     6:    Energy =   0.0193
Level     2,  Iter     7:    Energy =   0.0196
Level     2,  Iter     8:    Energy =   0.0198
Level     2,  Iter     9:    Energy =   0.0201
Level     2,  Iter    10:    Energy =   0.0204
Level     2,  Iter    11:    Energy =   0.0206
Level     2,  Iter    12:    Energy =   0.0209
Level     2,  Iter    13:    Energy =   0.0209
Level     2,  Iter    14:    Energy =   0.0211
Level     2,  Iter    15:    Energy =   0.0212
Level     2,  Iter    16:    Energy =   0.0214
Level     2,  Iter    17:    Energy =   0.0214
Level     2,  Iter    18:    Energy =   0.0215
Level     2,  Iter    19:    Energy =   0.0216
END OF LEVEL     2    DetJac Range:   0.0071  to   3.0565 
  Avg. Gradient Time  : 0.1898s  33.13% 
  Avg. Gaussian Time  : 0.3067s  53.55% 
  Avg. Iteration Time : 0.5728s 

real	0m20.690s
user	0m35.284s
sys	0m2.612s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train021/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train021/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train021/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train021/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=56 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=56 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.44 0.444286
+ echo 'CHUNK 0.44 0.444286 1'
CHUNK 0.44 0.444286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.44 0.444286 1
====================================
         PROGRESS: 0.44               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=022
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 022
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train022
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train022
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right 022 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train022 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=right
+ local tid=022
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train022
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 022 right 0
+ local tid=022
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 022 0
+ set -e
+ local tid=022
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train022/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.651
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -94.5725   GNORM= 264.802
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -274.308     117.024       0.004
   2    3      -354.693     110.033       1.000
   3    4      -423.696     151.649       1.000
   4    5      -489.101      63.859       1.000
   5    6      -503.067      51.996       1.000
   6    7      -532.436      49.598       1.000
   7    8      -575.467     108.473       1.000
   8    9      -620.812      57.025       1.000
   9   10      -696.580      44.173       1.000
  10   11      -744.324     120.872       1.000
  11   12      -808.944      84.643       1.000
  12   13      -827.994     115.139       1.000
  13   14      -860.296     116.533       1.000
  14   16      -899.551      78.093       0.265
  15   17      -939.673      50.312       1.000
  16   18      -951.208     214.617       1.000
  17   19     -1019.674     261.639       1.000
  18   20     -1116.859      80.518       1.000
  19   22     -1180.039     102.946       0.409
  20   24     -1193.656      82.764       0.328
  21   25     -1200.361      71.952       1.000
  22   26     -1204.372      25.561       1.000
  23   27     -1205.072      28.890       1.000
  24   29     -1206.219      27.101       0.364
  25   30     -1208.025      27.573       1.000
  26   32     -1212.229      44.599       0.347
  27   33     -1215.414      31.475       1.000
  28   34     -1217.238      58.893       1.000
  29   35     -1219.677      22.073       1.000
  30   36     -1221.990       9.335       1.000
  31   37     -1222.471      22.665       1.000
  32   38     -1223.000      15.971       1.000
  33   39     -1223.551      18.058       1.000
  34   41     -1224.418      17.732       0.076
  35   43     -1225.073      18.128       0.086
  36   44     -1225.508      13.906       1.000
  37   45     -1225.955      14.752       1.000
  38   47     -1226.206       4.730       0.248
  39   48     -1226.286       5.883       1.000
  40   50     -1226.360      10.760       0.182
  41   51     -1226.531       5.973       1.000
  42   52     -1226.661       6.282       1.000
  43   53     -1226.768       6.473       1.000
  44   55     -1227.077      13.281       5.000
  45   57     -1227.260       7.555       0.305
  46   58     -1227.378       8.354       1.000
  47   59     -1227.428       7.431       1.000
  48   60     -1227.499       6.788       1.000
  49   61     -1227.563       9.313       1.000
Final RAS Transform: 
0.951664 0.0172875 -0.0390106 -3.14298 
0.0111998 1.22866 0.687087 16.7031 
0.172833 -0.277325 0.337522 -15.928 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -707.585   GNORM= 33.4463
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -714.202      29.377       0.011
   2    4      -718.828      24.221       1.000
   3    5      -741.095      40.679       1.000
   4    7      -761.034      40.764       0.379
   5    8      -762.155      40.933       1.000
   6    9      -766.092      22.230       1.000
   7   10      -769.010      26.054       1.000
   8   11      -771.658      17.742       1.000
   9   12      -774.559      21.979       1.000
  10   13      -777.385      26.404       1.000
  11   15      -781.620      44.890       0.276
  12   16      -787.808      50.200       1.000
  13   17      -803.718      22.753       1.000
  14   19      -809.218      21.529       0.486
  15   21      -810.038       9.288       0.134
  16   22      -810.361       7.929       1.000
  17   23      -810.633      19.773       1.000
  18   24      -811.502      20.775       1.000
  19   25      -814.294      26.966       1.000
  20   27      -817.391      17.196       0.476
  21   28      -818.164      15.908       1.000
  22   30      -818.823      13.692       0.304
  23   31      -819.448      12.773       1.000
  24   32      -821.549       9.194       1.000
  25   33      -823.414      14.927       1.000
  26   34      -824.724      12.931       1.000
  27   36      -825.305      10.620       0.379
  28   37      -825.453      12.842       1.000
  29   38      -826.223       7.839       1.000
  30   39      -828.021      13.373       1.000
  31   41      -828.267       6.023       0.400
  32   42      -828.320       4.269       1.000
  33   43      -828.411       7.884       1.000
  34   44      -828.512       7.861       1.000
  35   46      -828.869      12.027       0.470
  36   48      -829.508      11.254       5.000
  37   50      -829.874      14.047       0.398
  38   52      -830.098       4.894       0.337
  39   53      -830.248       4.725       1.000
  40   55      -830.325       6.198       0.111
  41   56      -830.418       8.902       1.000
  42   57      -830.469       2.903       1.000
  43   58      -830.509       4.404       1.000
  44   59      -830.590       5.297       1.000
  45   60      -830.638       6.575       1.000
  46   61      -830.761       6.324       1.000
Final RAS Transform: 
0.944264 0.0316969 0.040346 -1.474 
0.0541945 1.25749 0.779307 16.8553 
0.0567306 -0.400594 0.324842 -10.5211 
0 0 0 1 

Final RAS Transform: 
0.944264 0.0316969 0.040346 -1.474 
0.0541945 1.25749 0.779307 16.8553 
0.0567306 -0.400594 0.324842 -10.5211 
0 0 0 1 


real	0m6.131s
user	0m10.080s
sys	0m0.708s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train022/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.482789
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0324
Level     0,  Iter     1:    Energy =   0.0364
Level     0,  Iter     2:    Energy =   0.0400
Level     0,  Iter     3:    Energy =   0.0434
Level     0,  Iter     4:    Energy =   0.0463
Level     0,  Iter     5:    Energy =   0.0489
Level     0,  Iter     6:    Energy =   0.0512
Level     0,  Iter     7:    Energy =   0.0524
Level     0,  Iter     8:    Energy =   0.0532
Level     0,  Iter     9:    Energy =   0.0542
Level     0,  Iter    10:    Energy =   0.0547
Level     0,  Iter    11:    Energy =   0.0554
Level     0,  Iter    12:    Energy =   0.0558
Level     0,  Iter    13:    Energy =   0.0563
Level     0,  Iter    14:    Energy =   0.0565
Level     0,  Iter    15:    Energy =   0.0570
Level     0,  Iter    16:    Energy =   0.0573
Level     0,  Iter    17:    Energy =   0.0576
Level     0,  Iter    18:    Energy =   0.0578
Level     0,  Iter    19:    Energy =   0.0581
Level     0,  Iter    20:    Energy =   0.0583
Level     0,  Iter    21:    Energy =   0.0585
Level     0,  Iter    22:    Energy =   0.0587
Level     0,  Iter    23:    Energy =   0.0590
Level     0,  Iter    24:    Energy =   0.0591
Level     0,  Iter    25:    Energy =   0.0594
Level     0,  Iter    26:    Energy =   0.0595
Level     0,  Iter    27:    Energy =   0.0598
Level     0,  Iter    28:    Energy =   0.0599
Level     0,  Iter    29:    Energy =   0.0601
Level     0,  Iter    30:    Energy =   0.0602
Level     0,  Iter    31:    Energy =   0.0603
Level     0,  Iter    32:    Energy =   0.0605
Level     0,  Iter    33:    Energy =   0.0605
Level     0,  Iter    34:    Energy =   0.0607
Level     0,  Iter    35:    Energy =   0.0606
Level     0,  Iter    36:    Energy =   0.0609
Level     0,  Iter    37:    Energy =   0.0609
Level     0,  Iter    38:    Energy =   0.0612
Level     0,  Iter    39:    Energy =   0.0613
Level     0,  Iter    40:    Energy =   0.0614
Level     0,  Iter    41:    Energy =   0.0613
Level     0,  Iter    42:    Energy =   0.0615
Level     0,  Iter    43:    Energy =   0.0614
Level     0,  Iter    44:    Energy =   0.0615
Level     0,  Iter    45:    Energy =   0.0615
Level     0,  Iter    46:    Energy =   0.0617
Level     0,  Iter    47:    Energy =   0.0616
Level     0,  Iter    48:    Energy =   0.0618
Level     0,  Iter    49:    Energy =   0.0617
Level     0,  Iter    50:    Energy =   0.0618
Level     0,  Iter    51:    Energy =   0.0618
Level     0,  Iter    52:    Energy =   0.0619
Level     0,  Iter    53:    Energy =   0.0619
Level     0,  Iter    54:    Energy =   0.0620
Level     0,  Iter    55:    Energy =   0.0620
Level     0,  Iter    56:    Energy =   0.0621
Level     0,  Iter    57:    Energy =   0.0620
Level     0,  Iter    58:    Energy =   0.0622
Level     0,  Iter    59:    Energy =   0.0621
END OF LEVEL     0    DetJac Range:   0.0965  to   2.3951 
  Avg. Gradient Time  : 0.0072s  33.32% 
  Avg. Gaussian Time  : 0.0105s  48.47% 
  Avg. Iteration Time : 0.0216s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0364
Level     1,  Iter     1:    Energy =   0.0386
Level     1,  Iter     2:    Energy =   0.0401
Level     1,  Iter     3:    Energy =   0.0412
Level     1,  Iter     4:    Energy =   0.0423
Level     1,  Iter     5:    Energy =   0.0432
Level     1,  Iter     6:    Energy =   0.0439
Level     1,  Iter     7:    Energy =   0.0446
Level     1,  Iter     8:    Energy =   0.0453
Level     1,  Iter     9:    Energy =   0.0458
Level     1,  Iter    10:    Energy =   0.0464
Level     1,  Iter    11:    Energy =   0.0469
Level     1,  Iter    12:    Energy =   0.0473
Level     1,  Iter    13:    Energy =   0.0477
Level     1,  Iter    14:    Energy =   0.0481
Level     1,  Iter    15:    Energy =   0.0484
Level     1,  Iter    16:    Energy =   0.0488
Level     1,  Iter    17:    Energy =   0.0492
Level     1,  Iter    18:    Energy =   0.0496
Level     1,  Iter    19:    Energy =   0.0499
Level     1,  Iter    20:    Energy =   0.0503
Level     1,  Iter    21:    Energy =   0.0505
Level     1,  Iter    22:    Energy =   0.0508
Level     1,  Iter    23:    Energy =   0.0510
Level     1,  Iter    24:    Energy =   0.0513
Level     1,  Iter    25:    Energy =   0.0515
Level     1,  Iter    26:    Energy =   0.0517
Level     1,  Iter    27:    Energy =   0.0519
Level     1,  Iter    28:    Energy =   0.0520
Level     1,  Iter    29:    Energy =   0.0522
Level     1,  Iter    30:    Energy =   0.0523
Level     1,  Iter    31:    Energy =   0.0525
Level     1,  Iter    32:    Energy =   0.0526
Level     1,  Iter    33:    Energy =   0.0527
Level     1,  Iter    34:    Energy =   0.0529
Level     1,  Iter    35:    Energy =   0.0530
Level     1,  Iter    36:    Energy =   0.0531
Level     1,  Iter    37:    Energy =   0.0532
Level     1,  Iter    38:    Energy =   0.0533
Level     1,  Iter    39:    Energy =   0.0534
Level     1,  Iter    40:    Energy =   0.0534
Level     1,  Iter    41:    Energy =   0.0535
Level     1,  Iter    42:    Energy =   0.0535
Level     1,  Iter    43:    Energy =   0.0536
Level     1,  Iter    44:    Energy =   0.0536
Level     1,  Iter    45:    Energy =   0.0537
Level     1,  Iter    46:    Energy =   0.0537
Level     1,  Iter    47:    Energy =   0.0537
Level     1,  Iter    48:    Energy =   0.0538
Level     1,  Iter    49:    Energy =   0.0538
Level     1,  Iter    50:    Energy =   0.0538
Level     1,  Iter    51:    Energy =   0.0539
Level     1,  Iter    52:    Energy =   0.0539
Level     1,  Iter    53:    Energy =   0.0539
Level     1,  Iter    54:    Energy =   0.0539
Level     1,  Iter    55:    Energy =   0.0540
Level     1,  Iter    56:    Energy =   0.0540
Level     1,  Iter    57:    Energy =   0.0540
Level     1,  Iter    58:    Energy =   0.0541
Level     1,  Iter    59:    Energy =   0.0541
END OF LEVEL     1    DetJac Range:   0.0655  to   2.9739 
  Avg. Gradient Time  : 0.0287s  34.48% 
  Avg. Gaussian Time  : 0.0428s  51.42% 
  Avg. Iteration Time : 0.0833s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0263
Level     2,  Iter     1:    Energy =   0.0274
Level     2,  Iter     2:    Energy =   0.0285
Level     2,  Iter     3:    Energy =   0.0295
Level     2,  Iter     4:    Energy =   0.0304
Level     2,  Iter     5:    Energy =   0.0312
Level     2,  Iter     6:    Energy =   0.0318
Level     2,  Iter     7:    Energy =   0.0323
Level     2,  Iter     8:    Energy =   0.0328
Level     2,  Iter     9:    Energy =   0.0332
Level     2,  Iter    10:    Energy =   0.0336
Level     2,  Iter    11:    Energy =   0.0339
Level     2,  Iter    12:    Energy =   0.0343
Level     2,  Iter    13:    Energy =   0.0347
Level     2,  Iter    14:    Energy =   0.0350
Level     2,  Iter    15:    Energy =   0.0353
Level     2,  Iter    16:    Energy =   0.0356
Level     2,  Iter    17:    Energy =   0.0360
Level     2,  Iter    18:    Energy =   0.0363
Level     2,  Iter    19:    Energy =   0.0366
END OF LEVEL     2    DetJac Range:   0.0504  to   3.6928 
  Avg. Gradient Time  : 0.1944s  33.10% 
  Avg. Gaussian Time  : 0.3155s  53.73% 
  Avg. Iteration Time : 0.5872s 

real	0m20.825s
user	0m35.736s
sys	0m2.564s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train022/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train022/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train022/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train022/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=57 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=57 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.444286 0.448571
+ echo 'CHUNK 0.444286 0.448571 1'
CHUNK 0.444286 0.448571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.444286 0.448571 1
====================================
         PROGRESS: 0.444286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=023
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 023
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train023
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train023
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right 023 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train023 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=right
+ local tid=023
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train023
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 023 right 0
+ local tid=023
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 023 0
+ set -e
+ local tid=023
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train023/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.631
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 258.387   GNORM= 203.171
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       100.929     133.970       0.005
   2    3       -74.584     142.200       1.000
   3    4      -294.357     112.649       1.000
   4    5      -374.965      92.065       1.000
   5    6      -447.384     138.650       1.000
   6    7      -499.189     106.967       1.000
   7   13      -599.650      62.966       0.112
   8   14      -662.863     105.114       1.000
   9   23      -664.202     112.563       0.082
  10   25      -755.518     130.593       5.000
  11   26      -767.625      79.622       1.000
  12   27      -816.669      72.275       1.000
  13   29      -821.444     101.581       0.267
  14   30      -837.907      49.424       1.000
  15   31      -849.673      34.958       1.000
  16   34      -876.605      71.807       2.130
  17   36      -898.875      48.319       5.000
  18   37      -979.623      56.931       1.000
  19   39     -1016.897      65.705       0.266
  20   42     -1022.707     160.197       0.119
  21   47     -1027.297      34.840       0.004
  22   48     -1032.834      36.225       1.000
  23   50     -1036.079      35.542       0.056
  24   51     -1042.589     460.826       1.000
  25   55     -1044.237      77.013       0.011
  26   57     -1047.722      58.717       5.000
  27   58     -1060.495      44.576       1.000
  28   59     -1061.196      56.967       1.000
Final RAS Transform: 
0.708416 0.306427 -0.167212 3.71501 
0.301234 0.971359 0.0035987 6.45768 
-0.320782 -0.577773 0.684297 -2.58431 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -559.123   GNORM= 34.0548
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -560.255      26.622       0.001
   2    7      -563.246    2174.420       4.937
   3   11      -564.566     460.082       0.001
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.708987 0.306136 -0.167534 3.78006 
0.301165 0.973067 0.00391242 6.62715 
-0.320966 -0.578439 0.686666 -2.56249 
0 0 0 1 

Final RAS Transform: 
0.708987 0.306136 -0.167534 3.78006 
0.301165 0.973067 0.00391242 6.62715 
-0.320966 -0.578439 0.686666 -2.56249 
0 0 0 1 


real	0m4.331s
user	0m6.716s
sys	0m0.616s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train023/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.397581
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0275
Level     0,  Iter     1:    Energy =   0.0296
Level     0,  Iter     2:    Energy =   0.0330
Level     0,  Iter     3:    Energy =   0.0353
Level     0,  Iter     4:    Energy =   0.0371
Level     0,  Iter     5:    Energy =   0.0388
Level     0,  Iter     6:    Energy =   0.0403
Level     0,  Iter     7:    Energy =   0.0413
Level     0,  Iter     8:    Energy =   0.0422
Level     0,  Iter     9:    Energy =   0.0430
Level     0,  Iter    10:    Energy =   0.0440
Level     0,  Iter    11:    Energy =   0.0449
Level     0,  Iter    12:    Energy =   0.0457
Level     0,  Iter    13:    Energy =   0.0463
Level     0,  Iter    14:    Energy =   0.0470
Level     0,  Iter    15:    Energy =   0.0469
Level     0,  Iter    16:    Energy =   0.0476
Level     0,  Iter    17:    Energy =   0.0476
Level     0,  Iter    18:    Energy =   0.0483
Level     0,  Iter    19:    Energy =   0.0483
Level     0,  Iter    20:    Energy =   0.0489
Level     0,  Iter    21:    Energy =   0.0488
Level     0,  Iter    22:    Energy =   0.0495
Level     0,  Iter    23:    Energy =   0.0494
Level     0,  Iter    24:    Energy =   0.0501
Level     0,  Iter    25:    Energy =   0.0501
Level     0,  Iter    26:    Energy =   0.0508
Level     0,  Iter    27:    Energy =   0.0508
Level     0,  Iter    28:    Energy =   0.0516
Level     0,  Iter    29:    Energy =   0.0515
Level     0,  Iter    30:    Energy =   0.0522
Level     0,  Iter    31:    Energy =   0.0523
Level     0,  Iter    32:    Energy =   0.0528
Level     0,  Iter    33:    Energy =   0.0529
Level     0,  Iter    34:    Energy =   0.0535
Level     0,  Iter    35:    Energy =   0.0537
Level     0,  Iter    36:    Energy =   0.0540
Level     0,  Iter    37:    Energy =   0.0541
Level     0,  Iter    38:    Energy =   0.0543
Level     0,  Iter    39:    Energy =   0.0544
Level     0,  Iter    40:    Energy =   0.0547
Level     0,  Iter    41:    Energy =   0.0549
Level     0,  Iter    42:    Energy =   0.0550
Level     0,  Iter    43:    Energy =   0.0554
Level     0,  Iter    44:    Energy =   0.0556
Level     0,  Iter    45:    Energy =   0.0559
Level     0,  Iter    46:    Energy =   0.0561
Level     0,  Iter    47:    Energy =   0.0563
Level     0,  Iter    48:    Energy =   0.0565
Level     0,  Iter    49:    Energy =   0.0568
Level     0,  Iter    50:    Energy =   0.0569
Level     0,  Iter    51:    Energy =   0.0570
Level     0,  Iter    52:    Energy =   0.0570
Level     0,  Iter    53:    Energy =   0.0572
Level     0,  Iter    54:    Energy =   0.0572
Level     0,  Iter    55:    Energy =   0.0574
Level     0,  Iter    56:    Energy =   0.0573
Level     0,  Iter    57:    Energy =   0.0573
Level     0,  Iter    58:    Energy =   0.0574
Level     0,  Iter    59:    Energy =   0.0574
END OF LEVEL     0    DetJac Range:   0.1619  to   3.0328 
  Avg. Gradient Time  : 0.0070s  32.86% 
  Avg. Gaussian Time  : 0.0102s  48.28% 
  Avg. Iteration Time : 0.0212s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0306
Level     1,  Iter     1:    Energy =   0.0323
Level     1,  Iter     2:    Energy =   0.0338
Level     1,  Iter     3:    Energy =   0.0351
Level     1,  Iter     4:    Energy =   0.0363
Level     1,  Iter     5:    Energy =   0.0373
Level     1,  Iter     6:    Energy =   0.0381
Level     1,  Iter     7:    Energy =   0.0389
Level     1,  Iter     8:    Energy =   0.0397
Level     1,  Iter     9:    Energy =   0.0403
Level     1,  Iter    10:    Energy =   0.0409
Level     1,  Iter    11:    Energy =   0.0412
Level     1,  Iter    12:    Energy =   0.0414
Level     1,  Iter    13:    Energy =   0.0417
Level     1,  Iter    14:    Energy =   0.0419
Level     1,  Iter    15:    Energy =   0.0422
Level     1,  Iter    16:    Energy =   0.0425
Level     1,  Iter    17:    Energy =   0.0427
Level     1,  Iter    18:    Energy =   0.0429
Level     1,  Iter    19:    Energy =   0.0430
Level     1,  Iter    20:    Energy =   0.0432
Level     1,  Iter    21:    Energy =   0.0433
Level     1,  Iter    22:    Energy =   0.0434
Level     1,  Iter    23:    Energy =   0.0434
Level     1,  Iter    24:    Energy =   0.0435
Level     1,  Iter    25:    Energy =   0.0436
Level     1,  Iter    26:    Energy =   0.0437
Level     1,  Iter    27:    Energy =   0.0438
Level     1,  Iter    28:    Energy =   0.0439
Level     1,  Iter    29:    Energy =   0.0440
Level     1,  Iter    30:    Energy =   0.0441
Level     1,  Iter    31:    Energy =   0.0442
Level     1,  Iter    32:    Energy =   0.0443
Level     1,  Iter    33:    Energy =   0.0443
Level     1,  Iter    34:    Energy =   0.0444
Level     1,  Iter    35:    Energy =   0.0445
Level     1,  Iter    36:    Energy =   0.0445
Level     1,  Iter    37:    Energy =   0.0445
Level     1,  Iter    38:    Energy =   0.0444
Level     1,  Iter    39:    Energy =   0.0444
Level     1,  Iter    40:    Energy =   0.0444
Level     1,  Iter    41:    Energy =   0.0443
Level     1,  Iter    42:    Energy =   0.0442
Level     1,  Iter    43:    Energy =   0.0440
Level     1,  Iter    44:    Energy =   0.0439
Level     1,  Iter    45:    Energy =   0.0437
Level     1,  Iter    46:    Energy =   0.0435
Level     1,  Iter    47:    Energy =   0.0433
Level     1,  Iter    48:    Energy =   0.0431
Level     1,  Iter    49:    Energy =   0.0429
Level     1,  Iter    50:    Energy =   0.0427
Level     1,  Iter    51:    Energy =   0.0426
Level     1,  Iter    52:    Energy =   0.0424
Level     1,  Iter    53:    Energy =   0.0423
Level     1,  Iter    54:    Energy =   0.0421
Level     1,  Iter    55:    Energy =   0.0420
Level     1,  Iter    56:    Energy =   0.0419
Level     1,  Iter    57:    Energy =   0.0418
Level     1,  Iter    58:    Energy =   0.0417
Level     1,  Iter    59:    Energy =   0.0416
END OF LEVEL     1    DetJac Range:   0.0524  to   3.7159 
  Avg. Gradient Time  : 0.0291s  34.48% 
  Avg. Gaussian Time  : 0.0435s  51.49% 
  Avg. Iteration Time : 0.0845s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0182
Level     2,  Iter     1:    Energy =   0.0190
Level     2,  Iter     2:    Energy =   0.0198
Level     2,  Iter     3:    Energy =   0.0204
Level     2,  Iter     4:    Energy =   0.0209
Level     2,  Iter     5:    Energy =   0.0214
Level     2,  Iter     6:    Energy =   0.0218
Level     2,  Iter     7:    Energy =   0.0222
Level     2,  Iter     8:    Energy =   0.0226
Level     2,  Iter     9:    Energy =   0.0229
Level     2,  Iter    10:    Energy =   0.0232
Level     2,  Iter    11:    Energy =   0.0234
Level     2,  Iter    12:    Energy =   0.0237
Level     2,  Iter    13:    Energy =   0.0239
Level     2,  Iter    14:    Energy =   0.0240
Level     2,  Iter    15:    Energy =   0.0242
Level     2,  Iter    16:    Energy =   0.0244
Level     2,  Iter    17:    Energy =   0.0245
Level     2,  Iter    18:    Energy =   0.0247
Level     2,  Iter    19:    Energy =   0.0248
END OF LEVEL     2    DetJac Range:   0.0182  to   4.6231 
  Avg. Gradient Time  : 0.1805s  32.24% 
  Avg. Gaussian Time  : 0.3037s  54.23% 
  Avg. Iteration Time : 0.5600s 

real	0m20.360s
user	0m34.800s
sys	0m2.532s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train023/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train023/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train023/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train023/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=58 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=58 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.448571 0.452857
+ echo 'CHUNK 0.448571 0.452857 1'
CHUNK 0.448571 0.452857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.448571 0.452857 1
====================================
         PROGRESS: 0.448571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=024
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 024
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train024
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train024
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right 024 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train024 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=right
+ local tid=024
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train024
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 024 right 0
+ local tid=024
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 024 0
+ set -e
+ local tid=024
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train024/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.671
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3.14183   GNORM= 218.712
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -147.169     104.735       0.005
   2    3      -222.464     142.336       1.000
   3    5      -329.219     171.750       0.192
   4    6      -421.449     116.567       1.000
   5    8      -441.322     103.612       0.271
   6    9      -482.865      85.354       1.000
   7   10      -536.278     106.470       1.000
   8   11      -563.363      90.323       1.000
   9   12      -640.808      46.174       1.000
  10   13      -650.416      80.859       1.000
  11   14      -723.648      44.123       1.000
  12   15      -739.971      77.882       1.000
  13   16      -783.884      29.067       1.000
  14   19      -858.070      86.234       1.707
  15   20      -896.333      60.653       1.000
  16   23      -938.139      36.684       0.058
  17   25      -944.562      55.459       0.352
  18   26      -950.057      53.245       1.000
  19   28      -958.782      50.589       0.450
  20   29      -968.893      27.341       1.000
  21   30      -978.640      30.472       1.000
  22   31      -983.056      38.437       1.000
  23   33      -988.317      35.546       0.433
  24   34      -992.356      26.791       1.000
  25   35      -996.942      27.473       1.000
  26   36     -1002.376      30.035       1.000
  27   37     -1019.253      45.320       1.000
  28   38     -1023.762      58.249       1.000
  29   40     -1027.622      50.167       0.206
  30   41     -1034.231      27.586       1.000
  31   42     -1040.438      38.154       1.000
  32   43     -1047.978      41.363       1.000
  33   45     -1050.665      47.401       0.290
  34   46     -1051.679      38.062       1.000
  35   47     -1066.359      40.836       1.000
  36   48     -1071.836      34.092       1.000
  37   49     -1077.872      16.153       1.000
  38   51     -1079.270      35.318       0.398
  39   52     -1081.614      23.183       1.000
  40   53     -1083.821      15.454       1.000
  41   54     -1085.753      11.359       1.000
  42   56     -1086.933      25.857       0.502
  43   57     -1087.701      14.448       1.000
  44   58     -1088.383      14.719       1.000
  45   60     -1088.895      24.955       0.246
  46   61     -1090.397      48.159       1.000
Final RAS Transform: 
1.05938 -0.0190808 -0.0150096 -1.51543 
0.130179 1.35739 0.635908 14.0148 
-0.444998 -0.512547 0.364739 -2.49437 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -514.912   GNORM= 40.9675
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -520.115      37.567       0.007
   2    4      -524.906      35.355       1.000
   3    7      -562.490      82.987       2.799
   4    9      -569.017      69.167       0.045
   5   11      -572.344      62.874       0.463
   6   12      -583.354      42.955       1.000
   7   13      -601.929      62.770       1.000
   8   14      -610.479      63.016       1.000
   9   15      -620.074      53.118       1.000
  10   16      -625.623      23.430       1.000
  11   17      -626.791      16.208       1.000
  12   18      -629.000      19.358       1.000
  13   19      -631.631      21.415       1.000
  14   22      -656.682      16.962       2.982
  15   23      -661.347      18.477       1.000
  16   25      -663.915      20.401       0.278
  17   26      -666.410      30.577       1.000
  18   27      -668.599      16.777       1.000
  19   28      -670.006      26.352       1.000
  20   29      -671.417      13.200       1.000
  21   30      -671.869      13.457       1.000
  22   31      -672.444       6.273       1.000
  23   32      -672.616       4.596       1.000
  24   33      -673.112       7.344       1.000
  25   35      -673.452      11.121       0.414
  26   36      -673.873      10.217       1.000
  27   38      -674.498      10.481       0.358
  28   39      -674.559       5.976       1.000
  29   40      -674.623       3.768       1.000
  30   42      -674.654       2.381       0.442
  31   43      -674.693       3.028       1.000
  32   44      -674.734       4.031       1.000
  33   45      -674.775       1.789       1.000
  34   46      -674.791       1.418       1.000
  35   47      -674.819       3.665       1.000
  36   48      -674.847       2.787       1.000
  37   49      -674.862       1.824       1.000
  38   50      -674.872       3.668       1.000
  39   51      -674.884       2.468       1.000
  40   52      -674.894       1.354       1.000
  41   53      -674.896       1.319       1.000
  42   54      -674.898       1.409       1.000
  43   55      -674.899       0.690       1.000
  44   57      -674.899       0.651       0.008
  45   58      -674.902       0.391       1.000
Final RAS Transform: 
1.20012 -0.0520543 -0.00076186 -3.88466 
0.0434607 1.34514 0.640433 13.0761 
-0.421053 -0.495164 0.337997 -1.76661 
0 0 0 1 

Final RAS Transform: 
1.20012 -0.0520543 -0.00076186 -3.88466 
0.0434607 1.34514 0.640433 13.0761 
-0.421053 -0.495164 0.337997 -1.76661 
0 0 0 1 


real	0m6.363s
user	0m10.568s
sys	0m0.676s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train024/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.497451
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0270
Level     0,  Iter     1:    Energy =   0.0305
Level     0,  Iter     2:    Energy =   0.0344
Level     0,  Iter     3:    Energy =   0.0379
Level     0,  Iter     4:    Energy =   0.0411
Level     0,  Iter     5:    Energy =   0.0439
Level     0,  Iter     6:    Energy =   0.0460
Level     0,  Iter     7:    Energy =   0.0479
Level     0,  Iter     8:    Energy =   0.0494
Level     0,  Iter     9:    Energy =   0.0509
Level     0,  Iter    10:    Energy =   0.0522
Level     0,  Iter    11:    Energy =   0.0530
Level     0,  Iter    12:    Energy =   0.0539
Level     0,  Iter    13:    Energy =   0.0546
Level     0,  Iter    14:    Energy =   0.0552
Level     0,  Iter    15:    Energy =   0.0557
Level     0,  Iter    16:    Energy =   0.0564
Level     0,  Iter    17:    Energy =   0.0568
Level     0,  Iter    18:    Energy =   0.0572
Level     0,  Iter    19:    Energy =   0.0575
Level     0,  Iter    20:    Energy =   0.0578
Level     0,  Iter    21:    Energy =   0.0581
Level     0,  Iter    22:    Energy =   0.0584
Level     0,  Iter    23:    Energy =   0.0587
Level     0,  Iter    24:    Energy =   0.0588
Level     0,  Iter    25:    Energy =   0.0591
Level     0,  Iter    26:    Energy =   0.0593
Level     0,  Iter    27:    Energy =   0.0595
Level     0,  Iter    28:    Energy =   0.0598
Level     0,  Iter    29:    Energy =   0.0600
Level     0,  Iter    30:    Energy =   0.0601
Level     0,  Iter    31:    Energy =   0.0603
Level     0,  Iter    32:    Energy =   0.0604
Level     0,  Iter    33:    Energy =   0.0605
Level     0,  Iter    34:    Energy =   0.0605
Level     0,  Iter    35:    Energy =   0.0606
Level     0,  Iter    36:    Energy =   0.0606
Level     0,  Iter    37:    Energy =   0.0606
Level     0,  Iter    38:    Energy =   0.0606
Level     0,  Iter    39:    Energy =   0.0607
Level     0,  Iter    40:    Energy =   0.0607
Level     0,  Iter    41:    Energy =   0.0607
Level     0,  Iter    42:    Energy =   0.0607
Level     0,  Iter    43:    Energy =   0.0607
Level     0,  Iter    44:    Energy =   0.0606
Level     0,  Iter    45:    Energy =   0.0607
Level     0,  Iter    46:    Energy =   0.0607
Level     0,  Iter    47:    Energy =   0.0607
Level     0,  Iter    48:    Energy =   0.0607
Level     0,  Iter    49:    Energy =   0.0607
Level     0,  Iter    50:    Energy =   0.0607
Level     0,  Iter    51:    Energy =   0.0608
Level     0,  Iter    52:    Energy =   0.0608
Level     0,  Iter    53:    Energy =   0.0608
Level     0,  Iter    54:    Energy =   0.0609
Level     0,  Iter    55:    Energy =   0.0609
Level     0,  Iter    56:    Energy =   0.0610
Level     0,  Iter    57:    Energy =   0.0611
Level     0,  Iter    58:    Energy =   0.0611
Level     0,  Iter    59:    Energy =   0.0611
END OF LEVEL     0    DetJac Range:   0.0369  to   2.5628 
  Avg. Gradient Time  : 0.0072s  33.71% 
  Avg. Gaussian Time  : 0.0103s  48.52% 
  Avg. Iteration Time : 0.0213s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0355
Level     1,  Iter     1:    Energy =   0.0381
Level     1,  Iter     2:    Energy =   0.0399
Level     1,  Iter     3:    Energy =   0.0412
Level     1,  Iter     4:    Energy =   0.0424
Level     1,  Iter     5:    Energy =   0.0439
Level     1,  Iter     6:    Energy =   0.0452
Level     1,  Iter     7:    Energy =   0.0464
Level     1,  Iter     8:    Energy =   0.0476
Level     1,  Iter     9:    Energy =   0.0483
Level     1,  Iter    10:    Energy =   0.0489
Level     1,  Iter    11:    Energy =   0.0496
Level     1,  Iter    12:    Energy =   0.0501
Level     1,  Iter    13:    Energy =   0.0506
Level     1,  Iter    14:    Energy =   0.0509
Level     1,  Iter    15:    Energy =   0.0513
Level     1,  Iter    16:    Energy =   0.0516
Level     1,  Iter    17:    Energy =   0.0519
Level     1,  Iter    18:    Energy =   0.0522
Level     1,  Iter    19:    Energy =   0.0525
Level     1,  Iter    20:    Energy =   0.0528
Level     1,  Iter    21:    Energy =   0.0532
Level     1,  Iter    22:    Energy =   0.0535
Level     1,  Iter    23:    Energy =   0.0537
Level     1,  Iter    24:    Energy =   0.0540
Level     1,  Iter    25:    Energy =   0.0541
Level     1,  Iter    26:    Energy =   0.0543
Level     1,  Iter    27:    Energy =   0.0544
Level     1,  Iter    28:    Energy =   0.0546
Level     1,  Iter    29:    Energy =   0.0547
Level     1,  Iter    30:    Energy =   0.0548
Level     1,  Iter    31:    Energy =   0.0549
Level     1,  Iter    32:    Energy =   0.0550
Level     1,  Iter    33:    Energy =   0.0550
Level     1,  Iter    34:    Energy =   0.0551
Level     1,  Iter    35:    Energy =   0.0552
Level     1,  Iter    36:    Energy =   0.0554
Level     1,  Iter    37:    Energy =   0.0555
Level     1,  Iter    38:    Energy =   0.0556
Level     1,  Iter    39:    Energy =   0.0556
Level     1,  Iter    40:    Energy =   0.0556
Level     1,  Iter    41:    Energy =   0.0556
Level     1,  Iter    42:    Energy =   0.0557
Level     1,  Iter    43:    Energy =   0.0557
Level     1,  Iter    44:    Energy =   0.0557
Level     1,  Iter    45:    Energy =   0.0557
Level     1,  Iter    46:    Energy =   0.0557
Level     1,  Iter    47:    Energy =   0.0557
Level     1,  Iter    48:    Energy =   0.0557
Level     1,  Iter    49:    Energy =   0.0557
Level     1,  Iter    50:    Energy =   0.0557
Level     1,  Iter    51:    Energy =   0.0557
Level     1,  Iter    52:    Energy =   0.0556
Level     1,  Iter    53:    Energy =   0.0556
Level     1,  Iter    54:    Energy =   0.0556
Level     1,  Iter    55:    Energy =   0.0556
Level     1,  Iter    56:    Energy =   0.0556
Level     1,  Iter    57:    Energy =   0.0555
Level     1,  Iter    58:    Energy =   0.0555
Level     1,  Iter    59:    Energy =   0.0555
END OF LEVEL     1    DetJac Range:   0.0323  to   3.9230 
  Avg. Gradient Time  : 0.0291s  34.41% 
  Avg. Gaussian Time  : 0.0436s  51.53% 
  Avg. Iteration Time : 0.0846s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0266
Level     2,  Iter     1:    Energy =   0.0277
Level     2,  Iter     2:    Energy =   0.0287
Level     2,  Iter     3:    Energy =   0.0296
Level     2,  Iter     4:    Energy =   0.0304
Level     2,  Iter     5:    Energy =   0.0311
Level     2,  Iter     6:    Energy =   0.0319
Level     2,  Iter     7:    Energy =   0.0325
Level     2,  Iter     8:    Energy =   0.0330
Level     2,  Iter     9:    Energy =   0.0335
Level     2,  Iter    10:    Energy =   0.0339
Level     2,  Iter    11:    Energy =   0.0342
Level     2,  Iter    12:    Energy =   0.0345
Level     2,  Iter    13:    Energy =   0.0347
Level     2,  Iter    14:    Energy =   0.0349
Level     2,  Iter    15:    Energy =   0.0351
Level     2,  Iter    16:    Energy =   0.0353
Level     2,  Iter    17:    Energy =   0.0354
Level     2,  Iter    18:    Energy =   0.0355
Level     2,  Iter    19:    Energy =   0.0356
END OF LEVEL     2    DetJac Range:   0.0342  to   4.2977 
  Avg. Gradient Time  : 0.1876s  33.03% 
  Avg. Gaussian Time  : 0.3040s  53.53% 
  Avg. Iteration Time : 0.5679s 

real	0m20.486s
user	0m35.092s
sys	0m2.548s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train024/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train024/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train024/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train024/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=59 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=59 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.452857 0.457143
+ echo 'CHUNK 0.452857 0.457143 1'
CHUNK 0.452857 0.457143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.452857 0.457143 1
====================================
         PROGRESS: 0.452857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=025
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 025
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train025
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train025
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right 025 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train025 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=right
+ local tid=025
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train025
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 025 right 0
+ local tid=025
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 025 0
+ set -e
+ local tid=025
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train025/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.664
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 158.047   GNORM= 169.224
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -222.765      60.912       0.030
   2    4      -278.739      52.550       1.000
   3    6      -295.349      48.687       0.117
   4    7      -319.398      44.891       1.000
   5    9      -522.907      90.736       5.000
   6   10      -642.723     113.974       1.000
   7   11      -746.798      35.275       1.000
   8   13      -756.168      76.847       0.309
   9   14      -767.357      17.921       1.000
  10   16      -769.427      19.759       0.127
  11   19      -770.362      29.471       0.007
  12   20      -771.740      22.155       1.000
  13   21      -775.491      18.791       1.000
  14   22      -779.116      24.657       1.000
  15   23      -782.569      33.267       1.000
  16   25      -787.192      29.523       0.473
  17   27      -788.252      32.306       0.048
  18   28      -790.315      28.055       1.000
  19   30      -792.158      38.125       0.229
  20   31      -793.740      21.902       1.000
  21   32      -795.253      16.720       1.000
  22   33      -797.476      26.804       1.000
  23   35      -813.934      32.151       5.000
  24   37      -815.501      35.800       0.122
  25   38      -818.295      14.945       1.000
  26   40      -819.562      19.769       0.336
  27   42      -820.225      27.747       0.422
  28   43      -822.033      26.179       1.000
  29   45      -825.790      28.804       0.390
  30   46      -828.071      18.776       1.000
  31   47      -830.515      31.809       1.000
  32   48      -831.807      28.969       1.000
  33   49      -832.877      19.732       1.000
  34   50      -835.335       9.423       1.000
  35   52      -835.947       8.219       0.523
  36   53      -836.203      16.178       1.000
  37   54      -836.693       7.849       1.000
  38   55      -837.110       8.055       1.000
  39   56      -837.418       8.000       1.000
  40   58      -837.572       6.035       0.135
  41   59      -837.634       2.623       1.000
  42   60      -837.634       5.150       1.000
  43   61      -837.661       5.739       1.000
Final RAS Transform: 
0.934386 0.285697 0.149826 -6.4086 
0.167846 1.23587 0.403765 10.7 
0.00512062 -0.405679 0.187447 -13.331 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -395.064   GNORM= 75.3329
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -451.794      34.277       0.013
   2    3      -462.330      32.518       1.000
   3    4      -466.327      24.617       1.000
   4    5      -468.436      12.942       1.000
   5    6      -469.688      16.560       1.000
   6    7      -473.073      17.041       1.000
   7    8      -483.122      25.478       1.000
   8    9      -489.284      44.399       1.000
   9   10      -496.357      18.911       1.000
  10   11      -498.425      11.971       1.000
  11   12      -499.929      19.992       1.000
  12   13      -502.123      20.607       1.000
  13   16      -503.846      22.335       0.018
  14   17      -504.485      30.631       1.000
  15   18      -507.088      11.673       1.000
  16   19      -509.605      21.480       1.000
  17   20      -514.541       7.887       1.000
  18   22      -515.847      13.768       0.286
  19   23      -518.162      24.214       1.000
  20   24      -520.144      16.003       1.000
  21   25      -520.875       7.909       1.000
  22   26      -520.946       4.414       1.000
  23   27      -521.000       5.365       1.000
  24   28      -521.088       4.708       1.000
  25   29      -521.228       6.318       1.000
  26   30      -522.415      10.938       1.000
  27   31      -523.227      23.696       1.000
  28   32      -523.862      16.401       1.000
  29   33      -524.999       5.956       1.000
  30   34      -525.166       3.811       1.000
  31   35      -525.227       7.292       1.000
  32   36      -525.472       8.748       1.000
  33   37      -525.698       7.219       1.000
  34   38      -525.892       5.084       1.000
  35   39      -526.032       6.178       1.000
  36   41      -526.067       5.709       0.233
  37   42      -526.125       4.464       1.000
  38   43      -526.427       4.399       1.000
  39   45      -526.594       6.597       0.278
  40   47      -526.642       8.928       0.427
  41   48      -526.781       3.641       1.000
  42   49      -526.818       1.914       1.000
  43   50      -526.835       2.658       1.000
  44   51      -526.883       2.549       1.000
  45   52      -526.988       7.066       1.000
  46   53      -527.015       5.724       1.000
  47   54      -527.078       4.381       1.000
  48   55      -527.108       1.832       1.000
  49   56      -527.114       1.511       1.000
  50   57      -527.122       1.621       1.000
Final RAS Transform: 
0.991568 0.31826 0.14868 -9.8682 
0.271666 1.2377 0.422254 7.36887 
0.0200811 -0.408518 0.173057 -14.0002 
0 0 0 1 

Final RAS Transform: 
0.991568 0.31826 0.14868 -9.8682 
0.271666 1.2377 0.422254 7.36887 
0.0200811 -0.408518 0.173057 -14.0002 
0 0 0 1 


real	0m6.277s
user	0m10.344s
sys	0m0.764s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train025/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.516598
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0198
Level     0,  Iter     1:    Energy =   0.0229
Level     0,  Iter     2:    Energy =   0.0259
Level     0,  Iter     3:    Energy =   0.0288
Level     0,  Iter     4:    Energy =   0.0316
Level     0,  Iter     5:    Energy =   0.0342
Level     0,  Iter     6:    Energy =   0.0363
Level     0,  Iter     7:    Energy =   0.0382
Level     0,  Iter     8:    Energy =   0.0398
Level     0,  Iter     9:    Energy =   0.0411
Level     0,  Iter    10:    Energy =   0.0425
Level     0,  Iter    11:    Energy =   0.0437
Level     0,  Iter    12:    Energy =   0.0447
Level     0,  Iter    13:    Energy =   0.0454
Level     0,  Iter    14:    Energy =   0.0460
Level     0,  Iter    15:    Energy =   0.0465
Level     0,  Iter    16:    Energy =   0.0469
Level     0,  Iter    17:    Energy =   0.0474
Level     0,  Iter    18:    Energy =   0.0479
Level     0,  Iter    19:    Energy =   0.0483
Level     0,  Iter    20:    Energy =   0.0488
Level     0,  Iter    21:    Energy =   0.0492
Level     0,  Iter    22:    Energy =   0.0496
Level     0,  Iter    23:    Energy =   0.0499
Level     0,  Iter    24:    Energy =   0.0504
Level     0,  Iter    25:    Energy =   0.0506
Level     0,  Iter    26:    Energy =   0.0509
Level     0,  Iter    27:    Energy =   0.0512
Level     0,  Iter    28:    Energy =   0.0514
Level     0,  Iter    29:    Energy =   0.0518
Level     0,  Iter    30:    Energy =   0.0520
Level     0,  Iter    31:    Energy =   0.0523
Level     0,  Iter    32:    Energy =   0.0525
Level     0,  Iter    33:    Energy =   0.0529
Level     0,  Iter    34:    Energy =   0.0532
Level     0,  Iter    35:    Energy =   0.0535
Level     0,  Iter    36:    Energy =   0.0535
Level     0,  Iter    37:    Energy =   0.0535
Level     0,  Iter    38:    Energy =   0.0537
Level     0,  Iter    39:    Energy =   0.0539
Level     0,  Iter    40:    Energy =   0.0543
Level     0,  Iter    41:    Energy =   0.0544
Level     0,  Iter    42:    Energy =   0.0543
Level     0,  Iter    43:    Energy =   0.0545
Level     0,  Iter    44:    Energy =   0.0548
Level     0,  Iter    45:    Energy =   0.0549
Level     0,  Iter    46:    Energy =   0.0550
Level     0,  Iter    47:    Energy =   0.0549
Level     0,  Iter    48:    Energy =   0.0550
Level     0,  Iter    49:    Energy =   0.0553
Level     0,  Iter    50:    Energy =   0.0554
Level     0,  Iter    51:    Energy =   0.0553
Level     0,  Iter    52:    Energy =   0.0553
Level     0,  Iter    53:    Energy =   0.0552
Level     0,  Iter    54:    Energy =   0.0553
Level     0,  Iter    55:    Energy =   0.0552
Level     0,  Iter    56:    Energy =   0.0555
Level     0,  Iter    57:    Energy =   0.0552
Level     0,  Iter    58:    Energy =   0.0554
Level     0,  Iter    59:    Energy =   0.0553
END OF LEVEL     0    DetJac Range:   0.0781  to   2.5642 
  Avg. Gradient Time  : 0.0076s  33.85% 
  Avg. Gaussian Time  : 0.0108s  48.05% 
  Avg. Iteration Time : 0.0226s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0345
Level     1,  Iter     1:    Energy =   0.0368
Level     1,  Iter     2:    Energy =   0.0391
Level     1,  Iter     3:    Energy =   0.0407
Level     1,  Iter     4:    Energy =   0.0422
Level     1,  Iter     5:    Energy =   0.0438
Level     1,  Iter     6:    Energy =   0.0453
Level     1,  Iter     7:    Energy =   0.0466
Level     1,  Iter     8:    Energy =   0.0476
Level     1,  Iter     9:    Energy =   0.0485
Level     1,  Iter    10:    Energy =   0.0492
Level     1,  Iter    11:    Energy =   0.0498
Level     1,  Iter    12:    Energy =   0.0504
Level     1,  Iter    13:    Energy =   0.0508
Level     1,  Iter    14:    Energy =   0.0512
Level     1,  Iter    15:    Energy =   0.0516
Level     1,  Iter    16:    Energy =   0.0519
Level     1,  Iter    17:    Energy =   0.0522
Level     1,  Iter    18:    Energy =   0.0524
Level     1,  Iter    19:    Energy =   0.0526
Level     1,  Iter    20:    Energy =   0.0527
Level     1,  Iter    21:    Energy =   0.0529
Level     1,  Iter    22:    Energy =   0.0530
Level     1,  Iter    23:    Energy =   0.0531
Level     1,  Iter    24:    Energy =   0.0531
Level     1,  Iter    25:    Energy =   0.0532
Level     1,  Iter    26:    Energy =   0.0532
Level     1,  Iter    27:    Energy =   0.0533
Level     1,  Iter    28:    Energy =   0.0534
Level     1,  Iter    29:    Energy =   0.0534
Level     1,  Iter    30:    Energy =   0.0534
Level     1,  Iter    31:    Energy =   0.0534
Level     1,  Iter    32:    Energy =   0.0534
Level     1,  Iter    33:    Energy =   0.0534
Level     1,  Iter    34:    Energy =   0.0534
Level     1,  Iter    35:    Energy =   0.0533
Level     1,  Iter    36:    Energy =   0.0533
Level     1,  Iter    37:    Energy =   0.0533
Level     1,  Iter    38:    Energy =   0.0532
Level     1,  Iter    39:    Energy =   0.0532
Level     1,  Iter    40:    Energy =   0.0532
Level     1,  Iter    41:    Energy =   0.0531
Level     1,  Iter    42:    Energy =   0.0531
Level     1,  Iter    43:    Energy =   0.0531
Level     1,  Iter    44:    Energy =   0.0531
Level     1,  Iter    45:    Energy =   0.0531
Level     1,  Iter    46:    Energy =   0.0531
Level     1,  Iter    47:    Energy =   0.0530
Level     1,  Iter    48:    Energy =   0.0530
Level     1,  Iter    49:    Energy =   0.0530
Level     1,  Iter    50:    Energy =   0.0531
Level     1,  Iter    51:    Energy =   0.0531
Level     1,  Iter    52:    Energy =   0.0531
Level     1,  Iter    53:    Energy =   0.0531
Level     1,  Iter    54:    Energy =   0.0532
Level     1,  Iter    55:    Energy =   0.0532
Level     1,  Iter    56:    Energy =   0.0532
Level     1,  Iter    57:    Energy =   0.0533
Level     1,  Iter    58:    Energy =   0.0533
Level     1,  Iter    59:    Energy =   0.0533
END OF LEVEL     1    DetJac Range:   0.0719  to   3.8672 
  Avg. Gradient Time  : 0.0302s  34.87% 
  Avg. Gaussian Time  : 0.0442s  51.05% 
  Avg. Iteration Time : 0.0865s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0253
Level     2,  Iter     1:    Energy =   0.0262
Level     2,  Iter     2:    Energy =   0.0273
Level     2,  Iter     3:    Energy =   0.0283
Level     2,  Iter     4:    Energy =   0.0291
Level     2,  Iter     5:    Energy =   0.0299
Level     2,  Iter     6:    Energy =   0.0306
Level     2,  Iter     7:    Energy =   0.0312
Level     2,  Iter     8:    Energy =   0.0318
Level     2,  Iter     9:    Energy =   0.0322
Level     2,  Iter    10:    Energy =   0.0327
Level     2,  Iter    11:    Energy =   0.0331
Level     2,  Iter    12:    Energy =   0.0334
Level     2,  Iter    13:    Energy =   0.0337
Level     2,  Iter    14:    Energy =   0.0340
Level     2,  Iter    15:    Energy =   0.0343
Level     2,  Iter    16:    Energy =   0.0345
Level     2,  Iter    17:    Energy =   0.0346
Level     2,  Iter    18:    Energy =   0.0348
Level     2,  Iter    19:    Energy =   0.0349
END OF LEVEL     2    DetJac Range:   0.0412  to   4.0699 
  Avg. Gradient Time  : 0.1982s  33.28% 
  Avg. Gaussian Time  : 0.3194s  53.61% 
  Avg. Iteration Time : 0.5957s 

real	0m21.247s
user	0m36.332s
sys	0m2.716s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train025/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train025/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train025/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train025/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=60 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=60 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.457143 0.461429
+ echo 'CHUNK 0.457143 0.461429 1'
CHUNK 0.457143 0.461429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.457143 0.461429 1
====================================
         PROGRESS: 0.457143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=026
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 026
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train026
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train026
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right 026 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train026 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=right
+ local tid=026
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train026
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 026 right 0
+ local tid=026
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 026 0
+ set -e
+ local tid=026
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train026/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train026/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train026/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.516
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -33.1414   GNORM= 206.149
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -174.365     106.416       0.005
   2    3      -270.761     144.685       1.000
   3    5      -298.211     124.654       0.304
   4    6      -428.126      85.734       1.000
   5   10      -428.612      38.445       0.010
   6   11      -431.918      45.106       1.000
   7   12      -437.101      30.650       1.000
   8   15      -467.834      65.246       2.820
   9   17      -536.742      93.947       5.000
  10   18      -663.664     106.651       1.000
  11   20      -700.693     160.301       0.238
  12   21      -780.515      57.707       1.000
  13   23      -780.589      49.176       0.001
  14   25      -789.925      36.791       0.427
  15   27      -798.765      60.991       0.461
  16   28      -807.821      43.563       1.000
  17   29      -819.119     109.506       1.000
  18   30      -863.850      64.099       1.000
  19   31      -885.670      87.664       1.000
  20   32      -897.621      74.385       1.000
  21   34      -905.534      45.908       0.428
  22   35      -910.821      29.335       1.000
  23   37      -921.168      37.858       5.000
  24   38      -925.521      30.150       1.000
  25   39      -936.533      60.601       1.000
  26   40      -942.077      20.903       1.000
  27   41      -945.369      32.677       1.000
  28   42      -946.884      13.670       1.000
  29   43      -947.764      17.123       1.000
  30   44      -948.582      14.468       1.000
  31   46      -949.605       9.718       0.397
  32   48      -950.450      35.146       0.451
  33   49      -951.711      23.773       1.000
  34   51      -955.163      48.032       0.220
  35   53      -964.066      31.215       5.000
  36   54      -971.096      34.242       1.000
  37   55      -980.412     105.500       1.000
  38   56      -995.838     538.810       1.000
Final RAS Transform: 
0.788701 0.26768 0.169641 -4.82379 
0.697332 1.00338 0.11447 5.2096 
-0.168992 -0.148802 0.768472 -8.91695 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -414.29   GNORM= 29.4863
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1   10      -414.623      59.079       0.000
   2   17      -414.923      33.207       1.056
   3   21      -415.081      30.503       4.972
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.788702 0.267681 0.169641 -4.82371 
0.697332 1.00338 0.114471 5.20963 
-0.168992 -0.148802 0.768473 -8.91696 
0 0 0 1 

Final RAS Transform: 
0.788702 0.267681 0.169641 -4.82371 
0.697332 1.00338 0.114471 5.20963 
-0.168992 -0.148802 0.768473 -8.91696 
0 0 0 1 


real	0m5.096s
user	0m8.104s
sys	0m0.732s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train026/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train026/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.392793
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0236
Level     0,  Iter     1:    Energy =   0.0253
Level     0,  Iter     2:    Energy =   0.0273
Level     0,  Iter     3:    Energy =   0.0291
Level     0,  Iter     4:    Energy =   0.0307
Level     0,  Iter     5:    Energy =   0.0318
Level     0,  Iter     6:    Energy =   0.0326
Level     0,  Iter     7:    Energy =   0.0334
Level     0,  Iter     8:    Energy =   0.0342
Level     0,  Iter     9:    Energy =   0.0349
Level     0,  Iter    10:    Energy =   0.0356
Level     0,  Iter    11:    Energy =   0.0363
Level     0,  Iter    12:    Energy =   0.0370
Level     0,  Iter    13:    Energy =   0.0375
Level     0,  Iter    14:    Energy =   0.0380
Level     0,  Iter    15:    Energy =   0.0383
Level     0,  Iter    16:    Energy =   0.0386
Level     0,  Iter    17:    Energy =   0.0390
Level     0,  Iter    18:    Energy =   0.0396
Level     0,  Iter    19:    Energy =   0.0400
Level     0,  Iter    20:    Energy =   0.0403
Level     0,  Iter    21:    Energy =   0.0406
Level     0,  Iter    22:    Energy =   0.0408
Level     0,  Iter    23:    Energy =   0.0409
Level     0,  Iter    24:    Energy =   0.0411
Level     0,  Iter    25:    Energy =   0.0413
Level     0,  Iter    26:    Energy =   0.0414
Level     0,  Iter    27:    Energy =   0.0416
Level     0,  Iter    28:    Energy =   0.0417
Level     0,  Iter    29:    Energy =   0.0418
Level     0,  Iter    30:    Energy =   0.0419
Level     0,  Iter    31:    Energy =   0.0420
Level     0,  Iter    32:    Energy =   0.0421
Level     0,  Iter    33:    Energy =   0.0423
Level     0,  Iter    34:    Energy =   0.0423
Level     0,  Iter    35:    Energy =   0.0425
Level     0,  Iter    36:    Energy =   0.0425
Level     0,  Iter    37:    Energy =   0.0426
Level     0,  Iter    38:    Energy =   0.0427
Level     0,  Iter    39:    Energy =   0.0428
Level     0,  Iter    40:    Energy =   0.0429
Level     0,  Iter    41:    Energy =   0.0430
Level     0,  Iter    42:    Energy =   0.0432
Level     0,  Iter    43:    Energy =   0.0434
Level     0,  Iter    44:    Energy =   0.0435
Level     0,  Iter    45:    Energy =   0.0437
Level     0,  Iter    46:    Energy =   0.0439
Level     0,  Iter    47:    Energy =   0.0441
Level     0,  Iter    48:    Energy =   0.0443
Level     0,  Iter    49:    Energy =   0.0444
Level     0,  Iter    50:    Energy =   0.0445
Level     0,  Iter    51:    Energy =   0.0447
Level     0,  Iter    52:    Energy =   0.0447
Level     0,  Iter    53:    Energy =   0.0448
Level     0,  Iter    54:    Energy =   0.0449
Level     0,  Iter    55:    Energy =   0.0450
Level     0,  Iter    56:    Energy =   0.0451
Level     0,  Iter    57:    Energy =   0.0451
Level     0,  Iter    58:    Energy =   0.0452
Level     0,  Iter    59:    Energy =   0.0453
END OF LEVEL     0    DetJac Range:   0.0846  to   2.3386 
  Avg. Gradient Time  : 0.0073s  33.66% 
  Avg. Gaussian Time  : 0.0105s  48.38% 
  Avg. Iteration Time : 0.0217s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0252
Level     1,  Iter     1:    Energy =   0.0263
Level     1,  Iter     2:    Energy =   0.0274
Level     1,  Iter     3:    Energy =   0.0288
Level     1,  Iter     4:    Energy =   0.0298
Level     1,  Iter     5:    Energy =   0.0307
Level     1,  Iter     6:    Energy =   0.0315
Level     1,  Iter     7:    Energy =   0.0322
Level     1,  Iter     8:    Energy =   0.0329
Level     1,  Iter     9:    Energy =   0.0334
Level     1,  Iter    10:    Energy =   0.0339
Level     1,  Iter    11:    Energy =   0.0344
Level     1,  Iter    12:    Energy =   0.0348
Level     1,  Iter    13:    Energy =   0.0352
Level     1,  Iter    14:    Energy =   0.0356
Level     1,  Iter    15:    Energy =   0.0360
Level     1,  Iter    16:    Energy =   0.0363
Level     1,  Iter    17:    Energy =   0.0367
Level     1,  Iter    18:    Energy =   0.0370
Level     1,  Iter    19:    Energy =   0.0373
Level     1,  Iter    20:    Energy =   0.0377
Level     1,  Iter    21:    Energy =   0.0380
Level     1,  Iter    22:    Energy =   0.0384
Level     1,  Iter    23:    Energy =   0.0387
Level     1,  Iter    24:    Energy =   0.0389
Level     1,  Iter    25:    Energy =   0.0391
Level     1,  Iter    26:    Energy =   0.0393
Level     1,  Iter    27:    Energy =   0.0395
Level     1,  Iter    28:    Energy =   0.0397
Level     1,  Iter    29:    Energy =   0.0400
Level     1,  Iter    30:    Energy =   0.0402
Level     1,  Iter    31:    Energy =   0.0405
Level     1,  Iter    32:    Energy =   0.0407
Level     1,  Iter    33:    Energy =   0.0409
Level     1,  Iter    34:    Energy =   0.0411
Level     1,  Iter    35:    Energy =   0.0413
Level     1,  Iter    36:    Energy =   0.0414
Level     1,  Iter    37:    Energy =   0.0416
Level     1,  Iter    38:    Energy =   0.0417
Level     1,  Iter    39:    Energy =   0.0418
Level     1,  Iter    40:    Energy =   0.0420
Level     1,  Iter    41:    Energy =   0.0421
Level     1,  Iter    42:    Energy =   0.0422
Level     1,  Iter    43:    Energy =   0.0422
Level     1,  Iter    44:    Energy =   0.0423
Level     1,  Iter    45:    Energy =   0.0424
Level     1,  Iter    46:    Energy =   0.0425
Level     1,  Iter    47:    Energy =   0.0425
Level     1,  Iter    48:    Energy =   0.0426
Level     1,  Iter    49:    Energy =   0.0426
Level     1,  Iter    50:    Energy =   0.0427
Level     1,  Iter    51:    Energy =   0.0427
Level     1,  Iter    52:    Energy =   0.0427
Level     1,  Iter    53:    Energy =   0.0427
Level     1,  Iter    54:    Energy =   0.0428
Level     1,  Iter    55:    Energy =   0.0428
Level     1,  Iter    56:    Energy =   0.0428
Level     1,  Iter    57:    Energy =   0.0428
Level     1,  Iter    58:    Energy =   0.0429
Level     1,  Iter    59:    Energy =   0.0429
END OF LEVEL     1    DetJac Range:   0.0238  to   2.9787 
  Avg. Gradient Time  : 0.0290s  34.53% 
  Avg. Gaussian Time  : 0.0432s  51.33% 
  Avg. Iteration Time : 0.0841s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0196
big value: 1219.427083
big value: -1294.143955
big value: 1199.438160
Level     2,  Iter     1:    Energy =   0.0201
Level     2,  Iter     2:    Energy =   0.0199
Level     2,  Iter     3:    Energy =   0.0207
Level     2,  Iter     4:    Energy =   0.0214
Level     2,  Iter     5:    Energy =   0.0220
Level     2,  Iter     6:    Energy =   0.0225
Level     2,  Iter     7:    Energy =   0.0229
Level     2,  Iter     8:    Energy =   0.0225
Level     2,  Iter     9:    Energy =   0.0230
Level     2,  Iter    10:    Energy =   0.0234
Level     2,  Iter    11:    Energy =   0.0238
Level     2,  Iter    12:    Energy =   0.0236
Level     2,  Iter    13:    Energy =   0.0239
Level     2,  Iter    14:    Energy =   0.0242
Level     2,  Iter    15:    Energy =   0.0245
Level     2,  Iter    16:    Energy =   0.0248
Level     2,  Iter    17:    Energy =   0.0243
Level     2,  Iter    18:    Energy =   0.0244
Level     2,  Iter    19:    Energy =   0.0239
END OF LEVEL     2    DetJac Range:   0.0187  to   2.7919 
  Avg. Gradient Time  : 0.1831s  32.19% 
  Avg. Gaussian Time  : 0.3088s  54.28% 
  Avg. Iteration Time : 0.5689s 

real	0m20.519s
user	0m34.892s
sys	0m2.800s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train026/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train026/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train026/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train026/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train026/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train026/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=61 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=61 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.461429 0.465714
+ echo 'CHUNK 0.461429 0.465714 1'
CHUNK 0.461429 0.465714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.461429 0.465714 1
====================================
         PROGRESS: 0.461429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=027
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 027
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train027
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train027
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right 027 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train027 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=right
+ local tid=027
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train027
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 027 right 0
+ local tid=027
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 027 0
+ set -e
+ local tid=027
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train027/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train027/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train027/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.569
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 82.6973   GNORM= 168.66
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       -19.925      80.514       0.006
   2    4      -288.859      75.950       5.000
   3    5      -364.890      64.053       1.000
   4    6      -444.271      39.801       1.000
   5    8      -457.532      39.075       0.260
   6    9      -472.527      58.842       1.000
   7   10      -516.436      78.256       1.000
   8   11      -574.035      46.986       1.000
   9   12      -600.321      34.470       1.000
  10   13      -617.042      62.105       1.000
  11   14      -645.591      36.847       1.000
  12   15      -676.250     116.785       1.000
  13   16      -721.247      70.345       1.000
  14   17      -730.089      69.021       1.000
  15   18      -772.165      36.472       1.000
  16   19      -776.951      50.890       1.000
  17   20      -805.344      89.758       1.000
  18   21      -816.359      80.755       1.000
  19   22      -838.820      25.898       1.000
  20   23      -843.079      25.905       1.000
  21   24      -850.321      22.144       1.000
  22   25      -892.381      89.747       1.000
  23   26      -913.688      74.338       1.000
  24   27      -955.486      28.413       1.000
  25   28      -966.064      32.895       1.000
  26   30      -990.761      33.638       0.444
  27   31     -1017.779      60.034       1.000
  28   32     -1041.867      23.810       1.000
  29   34     -1043.248      25.117       0.415
  30   36     -1043.758      23.051       0.423
  31   37     -1045.757      16.948       1.000
  32   38     -1050.665      38.518       1.000
  33   39     -1063.636      28.270       1.000
  34   41     -1071.668      38.044       0.525
  35   43     -1074.188      30.115       0.100
  36   44     -1075.770      17.873       1.000
  37   45     -1076.619      13.775       1.000
  38   46     -1078.396      38.082       1.000
  39   47     -1080.695      19.466       1.000
  40   49     -1085.482      47.585       5.000
  41   50     -1088.515      16.592       1.000
  42   51     -1089.519      14.875       1.000
  43   53     -1091.268      35.692       0.459
  44   54     -1094.674      41.263       1.000
  45   56     -1098.279      34.512       0.251
  46   57     -1099.818      28.541       1.000
  47   58     -1100.599      11.750       1.000
  48   59     -1100.789       8.510       1.000
  49   60     -1100.982      10.037       1.000
Final RAS Transform: 
1.00307 -0.0470582 -0.00261667 0.502687 
0.34446 1.39379 0.598121 6.04849 
-0.596848 -0.569285 0.33674 3.19218 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -639.976   GNORM= 67.135
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -658.713      55.032       0.007
   2    4      -667.956      41.939       1.000
   3    5      -691.210      46.695       1.000
   4    7      -702.113      56.016       0.218
   5    8      -712.226      44.117       1.000
   6   10      -737.126      29.133       0.430
   7   11      -744.873      46.046       1.000
   8   12      -751.321      36.399       1.000
   9   13      -756.303      23.864       1.000
  10   14      -760.583      21.409       1.000
  11   15      -762.952      11.425       1.000
  12   16      -764.760      14.076       1.000
  13   17      -768.107      26.977       1.000
  14   19      -770.001      40.176       0.181
  15   20      -773.925      33.230       1.000
  16   21      -776.977      14.674       1.000
  17   22      -777.693      12.917       1.000
  18   24      -778.155       8.035       0.267
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.951097 -0.0531452 -0.0351773 2.12763 
0.369112 1.41542 0.548608 2.26591 
-0.551268 -0.566635 0.321327 2.92262 
0 0 0 1 

Final RAS Transform: 
0.951097 -0.0531452 -0.0351773 2.12763 
0.369112 1.41542 0.548608 2.26591 
-0.551268 -0.566635 0.321327 2.92262 
0 0 0 1 


real	0m5.181s
user	0m8.348s
sys	0m0.660s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train027/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train027/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.473307
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0291
Level     0,  Iter     1:    Energy =   0.0322
Level     0,  Iter     2:    Energy =   0.0358
Level     0,  Iter     3:    Energy =   0.0390
Level     0,  Iter     4:    Energy =   0.0417
Level     0,  Iter     5:    Energy =   0.0443
Level     0,  Iter     6:    Energy =   0.0455
Level     0,  Iter     7:    Energy =   0.0467
Level     0,  Iter     8:    Energy =   0.0477
Level     0,  Iter     9:    Energy =   0.0487
Level     0,  Iter    10:    Energy =   0.0494
Level     0,  Iter    11:    Energy =   0.0501
Level     0,  Iter    12:    Energy =   0.0507
Level     0,  Iter    13:    Energy =   0.0513
Level     0,  Iter    14:    Energy =   0.0517
Level     0,  Iter    15:    Energy =   0.0523
Level     0,  Iter    16:    Energy =   0.0524
Level     0,  Iter    17:    Energy =   0.0529
Level     0,  Iter    18:    Energy =   0.0530
Level     0,  Iter    19:    Energy =   0.0534
Level     0,  Iter    20:    Energy =   0.0535
Level     0,  Iter    21:    Energy =   0.0539
Level     0,  Iter    22:    Energy =   0.0539
Level     0,  Iter    23:    Energy =   0.0543
Level     0,  Iter    24:    Energy =   0.0543
Level     0,  Iter    25:    Energy =   0.0546
Level     0,  Iter    26:    Energy =   0.0546
Level     0,  Iter    27:    Energy =   0.0548
Level     0,  Iter    28:    Energy =   0.0547
Level     0,  Iter    29:    Energy =   0.0550
Level     0,  Iter    30:    Energy =   0.0549
Level     0,  Iter    31:    Energy =   0.0551
Level     0,  Iter    32:    Energy =   0.0551
Level     0,  Iter    33:    Energy =   0.0552
Level     0,  Iter    34:    Energy =   0.0552
Level     0,  Iter    35:    Energy =   0.0553
Level     0,  Iter    36:    Energy =   0.0553
Level     0,  Iter    37:    Energy =   0.0557
Level     0,  Iter    38:    Energy =   0.0557
Level     0,  Iter    39:    Energy =   0.0560
Level     0,  Iter    40:    Energy =   0.0560
Level     0,  Iter    41:    Energy =   0.0562
Level     0,  Iter    42:    Energy =   0.0562
Level     0,  Iter    43:    Energy =   0.0564
Level     0,  Iter    44:    Energy =   0.0563
Level     0,  Iter    45:    Energy =   0.0566
Level     0,  Iter    46:    Energy =   0.0564
Level     0,  Iter    47:    Energy =   0.0567
Level     0,  Iter    48:    Energy =   0.0566
Level     0,  Iter    49:    Energy =   0.0567
Level     0,  Iter    50:    Energy =   0.0566
Level     0,  Iter    51:    Energy =   0.0566
Level     0,  Iter    52:    Energy =   0.0567
Level     0,  Iter    53:    Energy =   0.0566
Level     0,  Iter    54:    Energy =   0.0568
Level     0,  Iter    55:    Energy =   0.0567
Level     0,  Iter    56:    Energy =   0.0568
Level     0,  Iter    57:    Energy =   0.0567
Level     0,  Iter    58:    Energy =   0.0569
Level     0,  Iter    59:    Energy =   0.0567
END OF LEVEL     0    DetJac Range:   0.1354  to   2.6571 
  Avg. Gradient Time  : 0.0072s  33.38% 
  Avg. Gaussian Time  : 0.0105s  48.56% 
  Avg. Iteration Time : 0.0217s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0381
Level     1,  Iter     1:    Energy =   0.0410
Level     1,  Iter     2:    Energy =   0.0431
Level     1,  Iter     3:    Energy =   0.0446
Level     1,  Iter     4:    Energy =   0.0458
Level     1,  Iter     5:    Energy =   0.0466
Level     1,  Iter     6:    Energy =   0.0473
Level     1,  Iter     7:    Energy =   0.0480
Level     1,  Iter     8:    Energy =   0.0487
Level     1,  Iter     9:    Energy =   0.0494
Level     1,  Iter    10:    Energy =   0.0498
Level     1,  Iter    11:    Energy =   0.0502
Level     1,  Iter    12:    Energy =   0.0506
Level     1,  Iter    13:    Energy =   0.0510
Level     1,  Iter    14:    Energy =   0.0513
Level     1,  Iter    15:    Energy =   0.0516
Level     1,  Iter    16:    Energy =   0.0518
Level     1,  Iter    17:    Energy =   0.0520
Level     1,  Iter    18:    Energy =   0.0522
Level     1,  Iter    19:    Energy =   0.0523
Level     1,  Iter    20:    Energy =   0.0525
Level     1,  Iter    21:    Energy =   0.0527
Level     1,  Iter    22:    Energy =   0.0529
Level     1,  Iter    23:    Energy =   0.0531
Level     1,  Iter    24:    Energy =   0.0534
Level     1,  Iter    25:    Energy =   0.0536
Level     1,  Iter    26:    Energy =   0.0538
Level     1,  Iter    27:    Energy =   0.0539
Level     1,  Iter    28:    Energy =   0.0541
Level     1,  Iter    29:    Energy =   0.0542
Level     1,  Iter    30:    Energy =   0.0544
Level     1,  Iter    31:    Energy =   0.0545
Level     1,  Iter    32:    Energy =   0.0547
Level     1,  Iter    33:    Energy =   0.0548
Level     1,  Iter    34:    Energy =   0.0550
Level     1,  Iter    35:    Energy =   0.0551
Level     1,  Iter    36:    Energy =   0.0553
Level     1,  Iter    37:    Energy =   0.0554
Level     1,  Iter    38:    Energy =   0.0555
Level     1,  Iter    39:    Energy =   0.0557
Level     1,  Iter    40:    Energy =   0.0558
Level     1,  Iter    41:    Energy =   0.0559
Level     1,  Iter    42:    Energy =   0.0560
Level     1,  Iter    43:    Energy =   0.0562
Level     1,  Iter    44:    Energy =   0.0564
Level     1,  Iter    45:    Energy =   0.0565
Level     1,  Iter    46:    Energy =   0.0565
Level     1,  Iter    47:    Energy =   0.0566
Level     1,  Iter    48:    Energy =   0.0567
Level     1,  Iter    49:    Energy =   0.0567
Level     1,  Iter    50:    Energy =   0.0568
Level     1,  Iter    51:    Energy =   0.0569
Level     1,  Iter    52:    Energy =   0.0569
Level     1,  Iter    53:    Energy =   0.0569
Level     1,  Iter    54:    Energy =   0.0570
Level     1,  Iter    55:    Energy =   0.0570
Level     1,  Iter    56:    Energy =   0.0570
Level     1,  Iter    57:    Energy =   0.0571
Level     1,  Iter    58:    Energy =   0.0571
Level     1,  Iter    59:    Energy =   0.0572
END OF LEVEL     1    DetJac Range:   0.0197  to   4.4320 
  Avg. Gradient Time  : 0.0297s  34.99% 
  Avg. Gaussian Time  : 0.0434s  51.04% 
  Avg. Iteration Time : 0.0850s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0276
Level     2,  Iter     1:    Energy =   0.0288
Level     2,  Iter     2:    Energy =   0.0300
Level     2,  Iter     3:    Energy =   0.0311
Level     2,  Iter     4:    Energy =   0.0322
Level     2,  Iter     5:    Energy =   0.0331
Level     2,  Iter     6:    Energy =   0.0340
Level     2,  Iter     7:    Energy =   0.0347
Level     2,  Iter     8:    Energy =   0.0352
Level     2,  Iter     9:    Energy =   0.0357
Level     2,  Iter    10:    Energy =   0.0361
Level     2,  Iter    11:    Energy =   0.0364
Level     2,  Iter    12:    Energy =   0.0367
Level     2,  Iter    13:    Energy =   0.0370
Level     2,  Iter    14:    Energy =   0.0373
Level     2,  Iter    15:    Energy =   0.0377
Level     2,  Iter    16:    Energy =   0.0381
Level     2,  Iter    17:    Energy =   0.0384
Level     2,  Iter    18:    Energy =   0.0388
Level     2,  Iter    19:    Energy =   0.0391
END OF LEVEL     2    DetJac Range:   0.0189  to   4.2296 
  Avg. Gradient Time  : 0.1858s  32.87% 
  Avg. Gaussian Time  : 0.3043s  53.82% 
  Avg. Iteration Time : 0.5655s 

real	0m20.497s
user	0m35.096s
sys	0m2.536s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train027/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train027/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train027/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train027/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train027/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train027/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=62 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=62 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.465714 0.47
+ echo 'CHUNK 0.465714 0.47 1'
CHUNK 0.465714 0.47 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.465714 0.47 1
====================================
         PROGRESS: 0.465714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=028
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 028
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train028
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train028
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right 028 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train028 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=right
+ local tid=028
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train028
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 028 right 0
+ local tid=028
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 028 0
+ set -e
+ local tid=028
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train028/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train028/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train028/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.59
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 114.05   GNORM= 193.27
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       -48.565     127.528       0.005
   2    3      -239.337     124.813       1.000
   3    4      -344.220     110.736       1.000
   4    5      -409.981      93.899       1.000
   5    7      -512.627      72.277       0.206
   6    9      -539.305      66.414       0.151
   7   12      -559.631      74.685       1.012
   8   13      -582.547      58.795       1.000
   9   14      -603.553      60.044       1.000
  10   15      -751.348      81.243       1.000
  11   16      -782.431      32.514       1.000
  12   17      -788.436      25.170       1.000
  13   18      -819.702      97.193       1.000
  14   19      -845.271      38.035       1.000
  15   20      -852.149      30.814       1.000
  16   22      -855.208      37.633       0.185
  17   23      -861.989      35.473       1.000
  18   24      -871.418      47.858       1.000
  19   25      -885.042      89.883       1.000
  20   26      -900.440      52.273       1.000
  21   28      -903.795      55.565       0.318
  22   29      -921.983      27.495       1.000
  23   30      -926.976      84.498       1.000
  24   31      -936.141      37.844       1.000
  25   33      -941.374      16.301       0.493
  26   34      -943.426      17.781       1.000
  27   35      -952.277      25.497       1.000
  28   37      -957.235      27.222       0.362
  29   38      -961.398      16.110       1.000
  30   39      -969.139      28.831       1.000
  31   41      -971.837      41.771       0.113
  32   42      -976.773      18.627       1.000
  33   43      -979.349      14.596       1.000
  34   44      -980.956      33.665       1.000
  35   45      -983.178      21.204       1.000
  36   46      -985.533      14.107       1.000
  37   47      -988.288      10.217       1.000
  38   49      -989.795      29.293       0.148
  39   50      -992.646      15.816       1.000
  40   52      -993.393       9.029       0.241
  41   53      -995.155      33.171       1.000
  42   54      -996.193      22.486       1.000
  43   55      -997.918      16.406       1.000
  44   56      -998.703      21.730       1.000
  45   57      -999.426      16.375       1.000
  46   58     -1000.757      14.630       1.000
  47   60     -1001.742      16.626       0.139
  48   61     -1003.309      17.921       1.000
Final RAS Transform: 
1.04427 0.204671 0.051301 -7.36026 
0.160163 1.2073 0.568654 12.966 
-0.103878 -0.425647 0.26041 -9.92843 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -547.892   GNORM= 54.2412
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -599.390      29.603       0.018
   2    4      -605.575      34.340       0.503
   3    6      -609.137      14.216       0.437
   4    8      -609.936      16.725       0.123
   5   10      -610.262      18.271       0.195
   6   11      -611.292      14.710       1.000
   7   12      -619.524      42.201       1.000
   8   13      -625.205      41.114       1.000
   9   14      -638.382      40.920       1.000
  10   16      -641.709      16.766       0.193
  11   17      -642.542      15.546       1.000
  12   19      -644.625      20.123       0.187
  13   21      -645.749      14.811       0.389
  14   22      -649.432      10.840       1.000
  15   23      -666.104      27.694       1.000
  16   24      -676.097      42.403       1.000
  17   27      -709.588      60.147       0.646
  18   29      -715.384      69.248       0.208
  19   30      -742.493      38.992       1.000
  20   32      -745.159      23.346       0.475
  21   33      -745.600      41.872       1.000
  22   35      -762.313      33.759       5.000
  23   36      -769.673      72.891       1.000
  24   37      -781.752      20.032       1.000
  25   38      -783.964      22.979       1.000
  26   40      -785.869      16.116       0.049
  27   42      -787.300      10.606       0.343
  28   43      -787.798      12.984       1.000
  29   44      -788.744      12.991       1.000
  30   46      -789.634      13.513       0.147
  31   47      -790.773      10.104       1.000
  32   49      -791.311      22.562       0.339
  33   50      -792.935      17.179       1.000
  34   51      -796.142      11.485       1.000
  35   53      -798.726      26.575       0.204
  36   54      -800.178      18.872       1.000
  37   55      -801.303       9.372       1.000
  38   56      -801.824       7.764       1.000
  39   57      -802.151       9.585       1.000
  40   58      -802.910      14.678       1.000
  41   60      -803.252       9.336       0.496
  42   61      -803.423       3.297       1.000
Final RAS Transform: 
1.02166 0.0965386 -0.0630602 -8.15122 
0.157301 1.30032 0.706769 11.2434 
0.235309 -0.313457 0.303047 -17.3915 
0 0 0 1 

Final RAS Transform: 
1.02166 0.0965386 -0.0630602 -8.15122 
0.157301 1.30032 0.706769 11.2434 
0.235309 -0.313457 0.303047 -17.3915 
0 0 0 1 


real	0m6.278s
user	0m10.392s
sys	0m0.740s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train028/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train028/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.440502
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0318
Level     0,  Iter     1:    Energy =   0.0351
Level     0,  Iter     2:    Energy =   0.0384
Level     0,  Iter     3:    Energy =   0.0411
Level     0,  Iter     4:    Energy =   0.0435
Level     0,  Iter     5:    Energy =   0.0459
Level     0,  Iter     6:    Energy =   0.0481
Level     0,  Iter     7:    Energy =   0.0501
Level     0,  Iter     8:    Energy =   0.0514
Level     0,  Iter     9:    Energy =   0.0528
Level     0,  Iter    10:    Energy =   0.0534
Level     0,  Iter    11:    Energy =   0.0544
Level     0,  Iter    12:    Energy =   0.0544
Level     0,  Iter    13:    Energy =   0.0555
Level     0,  Iter    14:    Energy =   0.0554
Level     0,  Iter    15:    Energy =   0.0560
Level     0,  Iter    16:    Energy =   0.0559
Level     0,  Iter    17:    Energy =   0.0564
Level     0,  Iter    18:    Energy =   0.0562
Level     0,  Iter    19:    Energy =   0.0567
Level     0,  Iter    20:    Energy =   0.0564
Level     0,  Iter    21:    Energy =   0.0568
Level     0,  Iter    22:    Energy =   0.0566
Level     0,  Iter    23:    Energy =   0.0570
Level     0,  Iter    24:    Energy =   0.0567
Level     0,  Iter    25:    Energy =   0.0571
Level     0,  Iter    26:    Energy =   0.0569
Level     0,  Iter    27:    Energy =   0.0572
Level     0,  Iter    28:    Energy =   0.0571
Level     0,  Iter    29:    Energy =   0.0575
Level     0,  Iter    30:    Energy =   0.0573
Level     0,  Iter    31:    Energy =   0.0576
Level     0,  Iter    32:    Energy =   0.0575
Level     0,  Iter    33:    Energy =   0.0578
Level     0,  Iter    34:    Energy =   0.0576
Level     0,  Iter    35:    Energy =   0.0580
Level     0,  Iter    36:    Energy =   0.0579
Level     0,  Iter    37:    Energy =   0.0582
Level     0,  Iter    38:    Energy =   0.0582
Level     0,  Iter    39:    Energy =   0.0584
Level     0,  Iter    40:    Energy =   0.0582
Level     0,  Iter    41:    Energy =   0.0584
Level     0,  Iter    42:    Energy =   0.0584
Level     0,  Iter    43:    Energy =   0.0586
Level     0,  Iter    44:    Energy =   0.0583
Level     0,  Iter    45:    Energy =   0.0585
Level     0,  Iter    46:    Energy =   0.0584
Level     0,  Iter    47:    Energy =   0.0586
Level     0,  Iter    48:    Energy =   0.0584
Level     0,  Iter    49:    Energy =   0.0586
Level     0,  Iter    50:    Energy =   0.0586
Level     0,  Iter    51:    Energy =   0.0587
Level     0,  Iter    52:    Energy =   0.0586
Level     0,  Iter    53:    Energy =   0.0588
Level     0,  Iter    54:    Energy =   0.0587
Level     0,  Iter    55:    Energy =   0.0589
Level     0,  Iter    56:    Energy =   0.0588
Level     0,  Iter    57:    Energy =   0.0589
Level     0,  Iter    58:    Energy =   0.0589
Level     0,  Iter    59:    Energy =   0.0590
END OF LEVEL     0    DetJac Range:   0.1402  to   2.1791 
  Avg. Gradient Time  : 0.0074s  33.47% 
  Avg. Gaussian Time  : 0.0107s  48.39% 
  Avg. Iteration Time : 0.0220s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0371
Level     1,  Iter     1:    Energy =   0.0396
Level     1,  Iter     2:    Energy =   0.0416
Level     1,  Iter     3:    Energy =   0.0436
Level     1,  Iter     4:    Energy =   0.0455
Level     1,  Iter     5:    Energy =   0.0471
Level     1,  Iter     6:    Energy =   0.0484
Level     1,  Iter     7:    Energy =   0.0495
Level     1,  Iter     8:    Energy =   0.0505
Level     1,  Iter     9:    Energy =   0.0513
Level     1,  Iter    10:    Energy =   0.0520
Level     1,  Iter    11:    Energy =   0.0527
Level     1,  Iter    12:    Energy =   0.0533
Level     1,  Iter    13:    Energy =   0.0539
Level     1,  Iter    14:    Energy =   0.0545
Level     1,  Iter    15:    Energy =   0.0551
Level     1,  Iter    16:    Energy =   0.0556
Level     1,  Iter    17:    Energy =   0.0562
Level     1,  Iter    18:    Energy =   0.0568
Level     1,  Iter    19:    Energy =   0.0572
Level     1,  Iter    20:    Energy =   0.0577
Level     1,  Iter    21:    Energy =   0.0580
Level     1,  Iter    22:    Energy =   0.0584
Level     1,  Iter    23:    Energy =   0.0586
Level     1,  Iter    24:    Energy =   0.0587
Level     1,  Iter    25:    Energy =   0.0589
Level     1,  Iter    26:    Energy =   0.0590
Level     1,  Iter    27:    Energy =   0.0591
Level     1,  Iter    28:    Energy =   0.0592
Level     1,  Iter    29:    Energy =   0.0593
Level     1,  Iter    30:    Energy =   0.0594
Level     1,  Iter    31:    Energy =   0.0594
Level     1,  Iter    32:    Energy =   0.0593
Level     1,  Iter    33:    Energy =   0.0593
Level     1,  Iter    34:    Energy =   0.0593
Level     1,  Iter    35:    Energy =   0.0593
Level     1,  Iter    36:    Energy =   0.0594
Level     1,  Iter    37:    Energy =   0.0594
Level     1,  Iter    38:    Energy =   0.0595
Level     1,  Iter    39:    Energy =   0.0595
Level     1,  Iter    40:    Energy =   0.0596
Level     1,  Iter    41:    Energy =   0.0596
Level     1,  Iter    42:    Energy =   0.0596
Level     1,  Iter    43:    Energy =   0.0596
Level     1,  Iter    44:    Energy =   0.0596
Level     1,  Iter    45:    Energy =   0.0596
Level     1,  Iter    46:    Energy =   0.0596
Level     1,  Iter    47:    Energy =   0.0595
Level     1,  Iter    48:    Energy =   0.0596
Level     1,  Iter    49:    Energy =   0.0595
Level     1,  Iter    50:    Energy =   0.0595
Level     1,  Iter    51:    Energy =   0.0595
Level     1,  Iter    52:    Energy =   0.0595
Level     1,  Iter    53:    Energy =   0.0595
Level     1,  Iter    54:    Energy =   0.0595
Level     1,  Iter    55:    Energy =   0.0595
Level     1,  Iter    56:    Energy =   0.0595
Level     1,  Iter    57:    Energy =   0.0595
Level     1,  Iter    58:    Energy =   0.0595
Level     1,  Iter    59:    Energy =   0.0595
END OF LEVEL     1    DetJac Range:   0.0697  to   3.6893 
  Avg. Gradient Time  : 0.0297s  34.91% 
  Avg. Gaussian Time  : 0.0435s  51.16% 
  Avg. Iteration Time : 0.0850s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0275
Level     2,  Iter     1:    Energy =   0.0286
Level     2,  Iter     2:    Energy =   0.0296
Level     2,  Iter     3:    Energy =   0.0304
Level     2,  Iter     4:    Energy =   0.0311
Level     2,  Iter     5:    Energy =   0.0318
Level     2,  Iter     6:    Energy =   0.0323
Level     2,  Iter     7:    Energy =   0.0328
Level     2,  Iter     8:    Energy =   0.0332
Level     2,  Iter     9:    Energy =   0.0335
Level     2,  Iter    10:    Energy =   0.0338
Level     2,  Iter    11:    Energy =   0.0340
Level     2,  Iter    12:    Energy =   0.0343
Level     2,  Iter    13:    Energy =   0.0345
Level     2,  Iter    14:    Energy =   0.0347
Level     2,  Iter    15:    Energy =   0.0348
Level     2,  Iter    16:    Energy =   0.0350
Level     2,  Iter    17:    Energy =   0.0351
Level     2,  Iter    18:    Energy =   0.0353
Level     2,  Iter    19:    Energy =   0.0354
END OF LEVEL     2    DetJac Range:   0.0311  to   3.3713 
  Avg. Gradient Time  : 0.1834s  32.56% 
  Avg. Gaussian Time  : 0.3044s  54.05% 
  Avg. Iteration Time : 0.5633s 

real	0m20.458s
user	0m35.120s
sys	0m2.452s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train028/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train028/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train028/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train028/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train028/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train028/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=63 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=63 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.47 0.474286
+ echo 'CHUNK 0.47 0.474286 1'
CHUNK 0.47 0.474286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.47 0.474286 1
====================================
         PROGRESS: 0.47               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=029
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 029
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train029
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train029
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right 029 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train029 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=right
+ local tid=029
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train029
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 029 right 0
+ local tid=029
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 029 0
+ set -e
+ local tid=029
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train029/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train029/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train029/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.552
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -43.8422   GNORM= 207.665
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -195.719     131.493       0.005
   2    3      -333.099     109.873       1.000
   3    4      -373.833     173.462       1.000
   4    5      -446.178      75.647       1.000
   5    6      -468.768      51.564       1.000
   6    8      -480.652      70.831       0.253
   7    9      -496.312      82.747       1.000
   8   10      -606.322     194.433       1.000
   9   11      -673.916     121.624       1.000
  10   12      -757.317      79.660       1.000
  11   13      -773.125      73.406       1.000
  12   14      -819.780      94.815       1.000
  13   15      -851.252      45.500       1.000
  14   16      -878.290      53.757       1.000
  15   18      -901.051      59.544       0.336
  16   19      -923.450      44.134       1.000
  17   20      -940.637      48.067       1.000
  18   21      -956.194      54.989       1.000
  19   23     -1000.367      49.796       0.290
  20   24     -1004.258      93.866       1.000
  21   25     -1081.026      45.419       1.000
  22   26     -1121.251      21.306       1.000
  23   27     -1131.068      32.637       1.000
  24   28     -1131.090      43.207       1.000
  25   29     -1135.400      23.628       1.000
  26   30     -1137.362      15.428       1.000
  27   31     -1139.690      14.324       1.000
  28   32     -1140.688      19.086       1.000
  29   33     -1142.499      11.485       1.000
  30   34     -1147.014      15.484       1.000
  31   36     -1152.640      17.769       0.174
  32   38     -1153.551      11.981       0.125
  33   39     -1154.417      16.002       1.000
  34   40     -1155.302      15.111       1.000
  35   41     -1155.424       8.894       1.000
  36   42     -1156.390      11.755       1.000
  37   44     -1157.011      12.407       0.413
  38   45     -1157.811      13.799       1.000
  39   46     -1158.646      18.434       1.000
  40   49     -1159.721      11.448       2.233
  41   50     -1160.086      14.904       1.000
  42   51     -1160.763       6.704       1.000
  43   53     -1161.219      14.232       5.000
  44   54     -1162.219      10.865       1.000
  45   56     -1162.990      12.315       0.267
  46   58     -1163.068       7.272       0.381
  47   59     -1163.260       4.707       1.000
  48   60     -1163.378       3.565       1.000
  49   61     -1163.458       4.312       1.000
Final RAS Transform: 
0.931523 0.298074 0.0597125 -8.53426 
0.429889 1.2562 0.758073 13.8534 
-0.310588 -0.601721 0.264666 -3.03087 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -598.172   GNORM= 68.3646
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -618.205      35.516       0.015
   2    3      -623.639      19.451       1.000
   3    4      -624.219      24.348       1.000
   4    5      -625.984      10.912       1.000
   5    6      -626.948      13.440       1.000
   6    9      -645.404      46.191      21.000
   7   10      -651.182      32.293       1.000
   8   11      -656.427      32.000       1.000
   9   12      -657.384     150.801       1.000
  10   17      -657.453      36.440       0.001
  11   20      -660.823      19.164       0.741
  12   21      -662.053      12.237       1.000
  13   22      -662.539      11.186       1.000
  14   23      -662.869      19.481       1.000
  15   24      -664.534      15.514       1.000
  16   26      -667.173      18.682       0.346
  17   28      -668.074      11.407       0.361
  18   29      -668.353      13.879       1.000
  19   30      -668.737       6.038       1.000
  20   31      -668.751       2.952       1.000
  21   32      -668.913       4.062       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.872587 0.346412 0.007063 -9.35992 
0.450138 1.24282 0.847033 15.8695 
-0.354544 -0.583029 0.279325 -2.92217 
0 0 0 1 

Final RAS Transform: 
0.872587 0.346412 0.007063 -9.35992 
0.450138 1.24282 0.847033 15.8695 
-0.354544 -0.583029 0.279325 -2.92217 
0 0 0 1 


real	0m5.784s
user	0m9.344s
sys	0m0.808s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train029/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train029/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.428178
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0299
Level     0,  Iter     1:    Energy =   0.0322
Level     0,  Iter     2:    Energy =   0.0363
Level     0,  Iter     3:    Energy =   0.0402
Level     0,  Iter     4:    Energy =   0.0434
Level     0,  Iter     5:    Energy =   0.0461
Level     0,  Iter     6:    Energy =   0.0483
Level     0,  Iter     7:    Energy =   0.0499
Level     0,  Iter     8:    Energy =   0.0513
Level     0,  Iter     9:    Energy =   0.0526
Level     0,  Iter    10:    Energy =   0.0540
Level     0,  Iter    11:    Energy =   0.0550
Level     0,  Iter    12:    Energy =   0.0558
Level     0,  Iter    13:    Energy =   0.0564
Level     0,  Iter    14:    Energy =   0.0569
Level     0,  Iter    15:    Energy =   0.0573
Level     0,  Iter    16:    Energy =   0.0577
Level     0,  Iter    17:    Energy =   0.0581
Level     0,  Iter    18:    Energy =   0.0585
Level     0,  Iter    19:    Energy =   0.0588
Level     0,  Iter    20:    Energy =   0.0592
Level     0,  Iter    21:    Energy =   0.0594
Level     0,  Iter    22:    Energy =   0.0595
Level     0,  Iter    23:    Energy =   0.0596
Level     0,  Iter    24:    Energy =   0.0598
Level     0,  Iter    25:    Energy =   0.0599
Level     0,  Iter    26:    Energy =   0.0601
Level     0,  Iter    27:    Energy =   0.0603
Level     0,  Iter    28:    Energy =   0.0606
Level     0,  Iter    29:    Energy =   0.0609
Level     0,  Iter    30:    Energy =   0.0611
Level     0,  Iter    31:    Energy =   0.0613
Level     0,  Iter    32:    Energy =   0.0616
Level     0,  Iter    33:    Energy =   0.0618
Level     0,  Iter    34:    Energy =   0.0620
Level     0,  Iter    35:    Energy =   0.0623
Level     0,  Iter    36:    Energy =   0.0625
Level     0,  Iter    37:    Energy =   0.0626
Level     0,  Iter    38:    Energy =   0.0628
Level     0,  Iter    39:    Energy =   0.0629
Level     0,  Iter    40:    Energy =   0.0630
Level     0,  Iter    41:    Energy =   0.0632
Level     0,  Iter    42:    Energy =   0.0634
Level     0,  Iter    43:    Energy =   0.0636
Level     0,  Iter    44:    Energy =   0.0638
Level     0,  Iter    45:    Energy =   0.0639
Level     0,  Iter    46:    Energy =   0.0640
Level     0,  Iter    47:    Energy =   0.0641
Level     0,  Iter    48:    Energy =   0.0641
Level     0,  Iter    49:    Energy =   0.0641
Level     0,  Iter    50:    Energy =   0.0641
Level     0,  Iter    51:    Energy =   0.0640
Level     0,  Iter    52:    Energy =   0.0640
Level     0,  Iter    53:    Energy =   0.0640
Level     0,  Iter    54:    Energy =   0.0639
Level     0,  Iter    55:    Energy =   0.0639
Level     0,  Iter    56:    Energy =   0.0639
Level     0,  Iter    57:    Energy =   0.0640
Level     0,  Iter    58:    Energy =   0.0640
Level     0,  Iter    59:    Energy =   0.0641
END OF LEVEL     0    DetJac Range:   0.0808  to   2.3091 
  Avg. Gradient Time  : 0.0074s  33.15% 
  Avg. Gaussian Time  : 0.0107s  48.23% 
  Avg. Iteration Time : 0.0222s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0393
Level     1,  Iter     1:    Energy =   0.0421
Level     1,  Iter     2:    Energy =   0.0445
Level     1,  Iter     3:    Energy =   0.0464
Level     1,  Iter     4:    Energy =   0.0477
Level     1,  Iter     5:    Energy =   0.0488
Level     1,  Iter     6:    Energy =   0.0499
Level     1,  Iter     7:    Energy =   0.0508
Level     1,  Iter     8:    Energy =   0.0516
Level     1,  Iter     9:    Energy =   0.0523
Level     1,  Iter    10:    Energy =   0.0530
Level     1,  Iter    11:    Energy =   0.0537
Level     1,  Iter    12:    Energy =   0.0543
Level     1,  Iter    13:    Energy =   0.0549
Level     1,  Iter    14:    Energy =   0.0554
Level     1,  Iter    15:    Energy =   0.0559
Level     1,  Iter    16:    Energy =   0.0563
Level     1,  Iter    17:    Energy =   0.0566
Level     1,  Iter    18:    Energy =   0.0569
Level     1,  Iter    19:    Energy =   0.0573
Level     1,  Iter    20:    Energy =   0.0576
Level     1,  Iter    21:    Energy =   0.0579
Level     1,  Iter    22:    Energy =   0.0581
Level     1,  Iter    23:    Energy =   0.0583
Level     1,  Iter    24:    Energy =   0.0585
Level     1,  Iter    25:    Energy =   0.0586
Level     1,  Iter    26:    Energy =   0.0587
Level     1,  Iter    27:    Energy =   0.0589
Level     1,  Iter    28:    Energy =   0.0590
Level     1,  Iter    29:    Energy =   0.0591
Level     1,  Iter    30:    Energy =   0.0592
Level     1,  Iter    31:    Energy =   0.0593
Level     1,  Iter    32:    Energy =   0.0594
Level     1,  Iter    33:    Energy =   0.0595
Level     1,  Iter    34:    Energy =   0.0595
Level     1,  Iter    35:    Energy =   0.0596
Level     1,  Iter    36:    Energy =   0.0596
Level     1,  Iter    37:    Energy =   0.0597
Level     1,  Iter    38:    Energy =   0.0597
Level     1,  Iter    39:    Energy =   0.0598
Level     1,  Iter    40:    Energy =   0.0598
Level     1,  Iter    41:    Energy =   0.0598
Level     1,  Iter    42:    Energy =   0.0599
Level     1,  Iter    43:    Energy =   0.0599
Level     1,  Iter    44:    Energy =   0.0600
Level     1,  Iter    45:    Energy =   0.0600
Level     1,  Iter    46:    Energy =   0.0601
Level     1,  Iter    47:    Energy =   0.0601
Level     1,  Iter    48:    Energy =   0.0602
Level     1,  Iter    49:    Energy =   0.0602
Level     1,  Iter    50:    Energy =   0.0602
Level     1,  Iter    51:    Energy =   0.0603
Level     1,  Iter    52:    Energy =   0.0603
Level     1,  Iter    53:    Energy =   0.0603
Level     1,  Iter    54:    Energy =   0.0604
Level     1,  Iter    55:    Energy =   0.0604
Level     1,  Iter    56:    Energy =   0.0604
Level     1,  Iter    57:    Energy =   0.0605
Level     1,  Iter    58:    Energy =   0.0605
Level     1,  Iter    59:    Energy =   0.0605
END OF LEVEL     1    DetJac Range:   0.0450  to   3.0945 
  Avg. Gradient Time  : 0.0301s  34.86% 
  Avg. Gaussian Time  : 0.0442s  51.12% 
  Avg. Iteration Time : 0.0864s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0272
Level     2,  Iter     1:    Energy =   0.0282
Level     2,  Iter     2:    Energy =   0.0292
Level     2,  Iter     3:    Energy =   0.0301
Level     2,  Iter     4:    Energy =   0.0301
Level     2,  Iter     5:    Energy =   0.0296
Level     2,  Iter     6:    Energy =   0.0303
Level     2,  Iter     7:    Energy =   0.0310
Level     2,  Iter     8:    Energy =   0.0304
Level     2,  Iter     9:    Energy =   0.0312
Level     2,  Iter    10:    Energy =   0.0319
Level     2,  Iter    11:    Energy =   0.0326
Level     2,  Iter    12:    Energy =   0.0331
Level     2,  Iter    13:    Energy =   0.0337
Level     2,  Iter    14:    Energy =   0.0341
Level     2,  Iter    15:    Energy =   0.0345
Level     2,  Iter    16:    Energy =   0.0349
Level     2,  Iter    17:    Energy =   0.0352
Level     2,  Iter    18:    Energy =   0.0355
Level     2,  Iter    19:    Energy =   0.0358
END OF LEVEL     2    DetJac Range:   0.0197  to   3.3641 
  Avg. Gradient Time  : 0.1905s  33.19% 
  Avg. Gaussian Time  : 0.3069s  53.45% 
  Avg. Iteration Time : 0.5741s 

real	0m20.768s
user	0m35.596s
sys	0m2.580s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train029/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train029/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train029/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train029/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train029/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train029/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=64 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=64 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.474286 0.478571
+ echo 'CHUNK 0.474286 0.478571 1'
CHUNK 0.474286 0.478571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.474286 0.478571 1
====================================
         PROGRESS: 0.474286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=030
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 030
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train030
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train030
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right 030 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train030 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=right
+ local tid=030
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train030
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 030 right 0
+ local tid=030
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 030 0
+ set -e
+ local tid=030
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train030/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train030/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train030/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.625
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 102.986   GNORM= 138.134
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2        -0.550      82.412       0.007
   2    4      -304.783      57.197       5.000
   3    9      -373.350      80.592       0.142
   4   11      -392.755      75.625       0.398
   5   12      -399.811      58.024       1.000
   6   13      -431.796      30.116       1.000
   7   14      -434.489      59.147       1.000
   8   15      -448.865      33.960       1.000
   9   16      -464.280      44.122       1.000
  10   18      -633.860     114.740       0.377
  11   20      -663.981      54.530       0.393
  12   21      -697.567      43.910       1.000
  13   25      -704.808      52.259       0.250
  14   26      -724.385      45.803       1.000
  15   28      -731.976      24.921       0.452
  16   29      -743.414      37.438       1.000
  17   30      -779.497      87.067       1.000
  18   31      -832.949      94.545       1.000
  19   32      -879.683      67.479       1.000
  20   33      -904.703      39.160       1.000
  21   34      -906.636      26.056       1.000
  22   36      -908.102      22.886       0.252
  23   37      -912.314      22.179       1.000
  24   39      -915.421      19.525       0.455
  25   40      -920.520      18.460       1.000
  26   42      -929.076      33.297       0.271
  27   43      -963.191      32.812       1.000
  28   45      -968.740      35.394       0.108
  29   47      -972.996      42.446       0.278
Final RAS Transform: 
0.683643 0.218512 0.0267597 -6.2724 
0.701156 0.936792 0.293887 8.99673 
-0.182423 -0.280242 0.773374 -5.47374 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -523.355   GNORM= 3108.27
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    6      -524.125     116.795       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.683615 0.218488 0.0268063 -6.27527 
0.701115 0.936752 0.293944 8.99152 
-0.182378 -0.280201 0.773308 -5.4686 
0 0 0 1 

Final RAS Transform: 
0.683615 0.218488 0.0268063 -6.27527 
0.701115 0.936752 0.293944 8.99152 
-0.182378 -0.280201 0.773308 -5.4686 
0 0 0 1 


real	0m4.247s
user	0m6.440s
sys	0m0.664s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train030/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train030/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.488917
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0251
Level     0,  Iter     1:    Energy =   0.0277
Level     0,  Iter     2:    Energy =   0.0298
Level     0,  Iter     3:    Energy =   0.0315
Level     0,  Iter     4:    Energy =   0.0331
Level     0,  Iter     5:    Energy =   0.0340
Level     0,  Iter     6:    Energy =   0.0348
Level     0,  Iter     7:    Energy =   0.0355
Level     0,  Iter     8:    Energy =   0.0360
Level     0,  Iter     9:    Energy =   0.0366
Level     0,  Iter    10:    Energy =   0.0373
Level     0,  Iter    11:    Energy =   0.0379
Level     0,  Iter    12:    Energy =   0.0387
Level     0,  Iter    13:    Energy =   0.0396
Level     0,  Iter    14:    Energy =   0.0404
Level     0,  Iter    15:    Energy =   0.0413
Level     0,  Iter    16:    Energy =   0.0419
Level     0,  Iter    17:    Energy =   0.0425
Level     0,  Iter    18:    Energy =   0.0429
Level     0,  Iter    19:    Energy =   0.0434
Level     0,  Iter    20:    Energy =   0.0438
Level     0,  Iter    21:    Energy =   0.0442
Level     0,  Iter    22:    Energy =   0.0445
Level     0,  Iter    23:    Energy =   0.0447
Level     0,  Iter    24:    Energy =   0.0448
Level     0,  Iter    25:    Energy =   0.0450
Level     0,  Iter    26:    Energy =   0.0451
Level     0,  Iter    27:    Energy =   0.0452
Level     0,  Iter    28:    Energy =   0.0453
Level     0,  Iter    29:    Energy =   0.0453
Level     0,  Iter    30:    Energy =   0.0454
Level     0,  Iter    31:    Energy =   0.0455
Level     0,  Iter    32:    Energy =   0.0455
Level     0,  Iter    33:    Energy =   0.0455
Level     0,  Iter    34:    Energy =   0.0456
Level     0,  Iter    35:    Energy =   0.0456
Level     0,  Iter    36:    Energy =   0.0456
Level     0,  Iter    37:    Energy =   0.0456
Level     0,  Iter    38:    Energy =   0.0457
Level     0,  Iter    39:    Energy =   0.0457
Level     0,  Iter    40:    Energy =   0.0457
Level     0,  Iter    41:    Energy =   0.0456
Level     0,  Iter    42:    Energy =   0.0457
Level     0,  Iter    43:    Energy =   0.0458
Level     0,  Iter    44:    Energy =   0.0458
Level     0,  Iter    45:    Energy =   0.0459
Level     0,  Iter    46:    Energy =   0.0459
Level     0,  Iter    47:    Energy =   0.0458
Level     0,  Iter    48:    Energy =   0.0459
Level     0,  Iter    49:    Energy =   0.0458
Level     0,  Iter    50:    Energy =   0.0459
Level     0,  Iter    51:    Energy =   0.0459
Level     0,  Iter    52:    Energy =   0.0459
Level     0,  Iter    53:    Energy =   0.0459
Level     0,  Iter    54:    Energy =   0.0460
Level     0,  Iter    55:    Energy =   0.0460
Level     0,  Iter    56:    Energy =   0.0460
Level     0,  Iter    57:    Energy =   0.0462
Level     0,  Iter    58:    Energy =   0.0463
Level     0,  Iter    59:    Energy =   0.0464
END OF LEVEL     0    DetJac Range:   0.1536  to   2.7541 
  Avg. Gradient Time  : 0.0074s  33.77% 
  Avg. Gaussian Time  : 0.0106s  48.15% 
  Avg. Iteration Time : 0.0220s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0247
Level     1,  Iter     1:    Energy =   0.0261
Level     1,  Iter     2:    Energy =   0.0275
Level     1,  Iter     3:    Energy =   0.0291
Level     1,  Iter     4:    Energy =   0.0305
Level     1,  Iter     5:    Energy =   0.0315
Level     1,  Iter     6:    Energy =   0.0321
Level     1,  Iter     7:    Energy =   0.0325
Level     1,  Iter     8:    Energy =   0.0329
Level     1,  Iter     9:    Energy =   0.0331
Level     1,  Iter    10:    Energy =   0.0334
Level     1,  Iter    11:    Energy =   0.0336
Level     1,  Iter    12:    Energy =   0.0338
Level     1,  Iter    13:    Energy =   0.0339
Level     1,  Iter    14:    Energy =   0.0341
Level     1,  Iter    15:    Energy =   0.0343
Level     1,  Iter    16:    Energy =   0.0345
Level     1,  Iter    17:    Energy =   0.0347
Level     1,  Iter    18:    Energy =   0.0350
Level     1,  Iter    19:    Energy =   0.0353
Level     1,  Iter    20:    Energy =   0.0356
Level     1,  Iter    21:    Energy =   0.0360
Level     1,  Iter    22:    Energy =   0.0364
Level     1,  Iter    23:    Energy =   0.0368
Level     1,  Iter    24:    Energy =   0.0372
Level     1,  Iter    25:    Energy =   0.0375
Level     1,  Iter    26:    Energy =   0.0378
Level     1,  Iter    27:    Energy =   0.0381
Level     1,  Iter    28:    Energy =   0.0383
Level     1,  Iter    29:    Energy =   0.0386
Level     1,  Iter    30:    Energy =   0.0387
Level     1,  Iter    31:    Energy =   0.0390
Level     1,  Iter    32:    Energy =   0.0391
Level     1,  Iter    33:    Energy =   0.0393
Level     1,  Iter    34:    Energy =   0.0395
Level     1,  Iter    35:    Energy =   0.0397
Level     1,  Iter    36:    Energy =   0.0399
Level     1,  Iter    37:    Energy =   0.0400
Level     1,  Iter    38:    Energy =   0.0402
Level     1,  Iter    39:    Energy =   0.0403
Level     1,  Iter    40:    Energy =   0.0405
Level     1,  Iter    41:    Energy =   0.0406
Level     1,  Iter    42:    Energy =   0.0407
Level     1,  Iter    43:    Energy =   0.0408
Level     1,  Iter    44:    Energy =   0.0409
Level     1,  Iter    45:    Energy =   0.0409
Level     1,  Iter    46:    Energy =   0.0410
Level     1,  Iter    47:    Energy =   0.0410
Level     1,  Iter    48:    Energy =   0.0410
Level     1,  Iter    49:    Energy =   0.0409
Level     1,  Iter    50:    Energy =   0.0409
Level     1,  Iter    51:    Energy =   0.0409
Level     1,  Iter    52:    Energy =   0.0409
Level     1,  Iter    53:    Energy =   0.0409
Level     1,  Iter    54:    Energy =   0.0409
Level     1,  Iter    55:    Energy =   0.0409
Level     1,  Iter    56:    Energy =   0.0409
Level     1,  Iter    57:    Energy =   0.0409
Level     1,  Iter    58:    Energy =   0.0408
Level     1,  Iter    59:    Energy =   0.0409
END OF LEVEL     1    DetJac Range:   0.0419  to   3.6605 
  Avg. Gradient Time  : 0.0303s  34.89% 
  Avg. Gaussian Time  : 0.0445s  51.12% 
  Avg. Iteration Time : 0.0870s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0193
Level     2,  Iter     1:    Energy =   0.0201
Level     2,  Iter     2:    Energy =   0.0208
Level     2,  Iter     3:    Energy =   0.0206
Level     2,  Iter     4:    Energy =   0.0213
Level     2,  Iter     5:    Energy =   0.0218
Level     2,  Iter     6:    Energy =   0.0222
Level     2,  Iter     7:    Energy =   0.0225
Level     2,  Iter     8:    Energy =   0.0229
Level     2,  Iter     9:    Energy =   0.0233
Level     2,  Iter    10:    Energy =   0.0236
Level     2,  Iter    11:    Energy =   0.0240
Level     2,  Iter    12:    Energy =   0.0242
Level     2,  Iter    13:    Energy =   0.0245
Level     2,  Iter    14:    Energy =   0.0242
Level     2,  Iter    15:    Energy =   0.0244
Level     2,  Iter    16:    Energy =   0.0247
Level     2,  Iter    17:    Energy =   0.0248
Level     2,  Iter    18:    Energy =   0.0250
Level     2,  Iter    19:    Energy =   0.0245
END OF LEVEL     2    DetJac Range:   0.0284  to   3.0176 
  Avg. Gradient Time  : 0.1869s  32.85% 
  Avg. Gaussian Time  : 0.3053s  53.65% 
  Avg. Iteration Time : 0.5690s 

real	0m20.723s
user	0m35.328s
sys	0m2.744s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train030/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train030/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train030/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train030/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train030/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train030/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=65 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=65 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.478571 0.482857
+ echo 'CHUNK 0.478571 0.482857 1'
CHUNK 0.478571 0.482857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.478571 0.482857 1
====================================
         PROGRESS: 0.478571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=031
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 031
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train031
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train031
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right 031 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train031 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=right
+ local tid=031
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train031
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 031 right 0
+ local tid=031
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 031 0
+ set -e
+ local tid=031
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train031/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train031/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train031/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.604
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 130.526   GNORM= 136.53
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2        21.933     102.393       0.007
   2    6      -277.978     102.261       3.667
   3    7      -420.450      90.338       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.931759 -0.0160258 -0.00914552 -2.94272 
0.093844 1.14804 -0.259719 7.72181 
-0.12146 -0.126213 1.03209 -3.99842 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -218.425   GNORM= 103.911
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    7      -231.233     104.695       0.026
   2   13      -236.905     251.560       1.061
   3   15      -237.693     113.072       0.004
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.938044 -0.00255439 -0.0335623 -1.10245 
0.103731 1.157 -0.277054 9.32652 
-0.122833 -0.123003 1.03093 -3.54116 
0 0 0 1 

Final RAS Transform: 
0.938044 -0.00255439 -0.0335623 -1.10245 
0.103731 1.157 -0.277054 9.32652 
-0.122833 -0.123003 1.03093 -3.54116 
0 0 0 1 


real	0m4.284s
user	0m6.744s
sys	0m0.536s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train031/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train031/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.471609
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0092
Level     0,  Iter     1:    Energy =   0.0110
Level     0,  Iter     2:    Energy =   0.0132
Level     0,  Iter     3:    Energy =   0.0150
Level     0,  Iter     4:    Energy =   0.0164
Level     0,  Iter     5:    Energy =   0.0177
Level     0,  Iter     6:    Energy =   0.0189
Level     0,  Iter     7:    Energy =   0.0200
Level     0,  Iter     8:    Energy =   0.0209
Level     0,  Iter     9:    Energy =   0.0218
Level     0,  Iter    10:    Energy =   0.0224
Level     0,  Iter    11:    Energy =   0.0229
Level     0,  Iter    12:    Energy =   0.0234
Level     0,  Iter    13:    Energy =   0.0239
Level     0,  Iter    14:    Energy =   0.0245
Level     0,  Iter    15:    Energy =   0.0251
Level     0,  Iter    16:    Energy =   0.0256
Level     0,  Iter    17:    Energy =   0.0260
Level     0,  Iter    18:    Energy =   0.0264
Level     0,  Iter    19:    Energy =   0.0268
Level     0,  Iter    20:    Energy =   0.0271
Level     0,  Iter    21:    Energy =   0.0275
Level     0,  Iter    22:    Energy =   0.0279
Level     0,  Iter    23:    Energy =   0.0282
Level     0,  Iter    24:    Energy =   0.0285
Level     0,  Iter    25:    Energy =   0.0287
Level     0,  Iter    26:    Energy =   0.0289
Level     0,  Iter    27:    Energy =   0.0292
Level     0,  Iter    28:    Energy =   0.0294
Level     0,  Iter    29:    Energy =   0.0297
Level     0,  Iter    30:    Energy =   0.0298
Level     0,  Iter    31:    Energy =   0.0301
Level     0,  Iter    32:    Energy =   0.0301
Level     0,  Iter    33:    Energy =   0.0302
Level     0,  Iter    34:    Energy =   0.0302
Level     0,  Iter    35:    Energy =   0.0304
Level     0,  Iter    36:    Energy =   0.0304
Level     0,  Iter    37:    Energy =   0.0305
Level     0,  Iter    38:    Energy =   0.0306
Level     0,  Iter    39:    Energy =   0.0307
Level     0,  Iter    40:    Energy =   0.0307
Level     0,  Iter    41:    Energy =   0.0309
Level     0,  Iter    42:    Energy =   0.0309
Level     0,  Iter    43:    Energy =   0.0310
Level     0,  Iter    44:    Energy =   0.0310
Level     0,  Iter    45:    Energy =   0.0311
Level     0,  Iter    46:    Energy =   0.0311
Level     0,  Iter    47:    Energy =   0.0311
Level     0,  Iter    48:    Energy =   0.0311
Level     0,  Iter    49:    Energy =   0.0312
Level     0,  Iter    50:    Energy =   0.0312
Level     0,  Iter    51:    Energy =   0.0313
Level     0,  Iter    52:    Energy =   0.0313
Level     0,  Iter    53:    Energy =   0.0313
Level     0,  Iter    54:    Energy =   0.0314
Level     0,  Iter    55:    Energy =   0.0314
Level     0,  Iter    56:    Energy =   0.0314
Level     0,  Iter    57:    Energy =   0.0315
Level     0,  Iter    58:    Energy =   0.0314
Level     0,  Iter    59:    Energy =   0.0315
END OF LEVEL     0    DetJac Range:   0.0380  to   2.1134 
  Avg. Gradient Time  : 0.0076s  33.72% 
  Avg. Gaussian Time  : 0.0108s  48.14% 
  Avg. Iteration Time : 0.0225s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0196
Level     1,  Iter     1:    Energy =   0.0205
Level     1,  Iter     2:    Energy =   0.0213
Level     1,  Iter     3:    Energy =   0.0221
Level     1,  Iter     4:    Energy =   0.0228
Level     1,  Iter     5:    Energy =   0.0235
Level     1,  Iter     6:    Energy =   0.0243
Level     1,  Iter     7:    Energy =   0.0250
Level     1,  Iter     8:    Energy =   0.0258
Level     1,  Iter     9:    Energy =   0.0266
Level     1,  Iter    10:    Energy =   0.0273
Level     1,  Iter    11:    Energy =   0.0279
Level     1,  Iter    12:    Energy =   0.0283
Level     1,  Iter    13:    Energy =   0.0287
Level     1,  Iter    14:    Energy =   0.0291
Level     1,  Iter    15:    Energy =   0.0294
Level     1,  Iter    16:    Energy =   0.0297
Level     1,  Iter    17:    Energy =   0.0299
Level     1,  Iter    18:    Energy =   0.0302
Level     1,  Iter    19:    Energy =   0.0305
Level     1,  Iter    20:    Energy =   0.0308
Level     1,  Iter    21:    Energy =   0.0311
Level     1,  Iter    22:    Energy =   0.0313
Level     1,  Iter    23:    Energy =   0.0316
Level     1,  Iter    24:    Energy =   0.0318
Level     1,  Iter    25:    Energy =   0.0321
Level     1,  Iter    26:    Energy =   0.0323
Level     1,  Iter    27:    Energy =   0.0325
Level     1,  Iter    28:    Energy =   0.0328
Level     1,  Iter    29:    Energy =   0.0331
Level     1,  Iter    30:    Energy =   0.0333
Level     1,  Iter    31:    Energy =   0.0335
Level     1,  Iter    32:    Energy =   0.0336
Level     1,  Iter    33:    Energy =   0.0337
Level     1,  Iter    34:    Energy =   0.0337
Level     1,  Iter    35:    Energy =   0.0337
Level     1,  Iter    36:    Energy =   0.0337
Level     1,  Iter    37:    Energy =   0.0337
Level     1,  Iter    38:    Energy =   0.0338
Level     1,  Iter    39:    Energy =   0.0338
Level     1,  Iter    40:    Energy =   0.0339
Level     1,  Iter    41:    Energy =   0.0341
Level     1,  Iter    42:    Energy =   0.0342
Level     1,  Iter    43:    Energy =   0.0342
Level     1,  Iter    44:    Energy =   0.0343
Level     1,  Iter    45:    Energy =   0.0344
Level     1,  Iter    46:    Energy =   0.0345
Level     1,  Iter    47:    Energy =   0.0346
Level     1,  Iter    48:    Energy =   0.0347
Level     1,  Iter    49:    Energy =   0.0349
Level     1,  Iter    50:    Energy =   0.0350
Level     1,  Iter    51:    Energy =   0.0351
Level     1,  Iter    52:    Energy =   0.0351
Level     1,  Iter    53:    Energy =   0.0352
Level     1,  Iter    54:    Energy =   0.0353
Level     1,  Iter    55:    Energy =   0.0353
Level     1,  Iter    56:    Energy =   0.0353
Level     1,  Iter    57:    Energy =   0.0353
Level     1,  Iter    58:    Energy =   0.0353
Level     1,  Iter    59:    Energy =   0.0353
END OF LEVEL     1    DetJac Range:   0.0198  to   3.1706 
  Avg. Gradient Time  : 0.0298s  34.83% 
  Avg. Gaussian Time  : 0.0439s  51.22% 
  Avg. Iteration Time : 0.0857s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0171
Level     2,  Iter     1:    Energy =   0.0178
Level     2,  Iter     2:    Energy =   0.0184
Level     2,  Iter     3:    Energy =   0.0189
Level     2,  Iter     4:    Energy =   0.0193
Level     2,  Iter     5:    Energy =   0.0197
Level     2,  Iter     6:    Energy =   0.0201
Level     2,  Iter     7:    Energy =   0.0204
Level     2,  Iter     8:    Energy =   0.0206
Level     2,  Iter     9:    Energy =   0.0209
Level     2,  Iter    10:    Energy =   0.0211
Level     2,  Iter    11:    Energy =   0.0213
Level     2,  Iter    12:    Energy =   0.0215
Level     2,  Iter    13:    Energy =   0.0216
Level     2,  Iter    14:    Energy =   0.0218
Level     2,  Iter    15:    Energy =   0.0219
Level     2,  Iter    16:    Energy =   0.0220
Level     2,  Iter    17:    Energy =   0.0222
Level     2,  Iter    18:    Energy =   0.0223
Level     2,  Iter    19:    Energy =   0.0224
END OF LEVEL     2    DetJac Range:   0.0130  to   3.0417 
  Avg. Gradient Time  : 0.1870s  32.98% 
  Avg. Gaussian Time  : 0.3045s  53.72% 
  Avg. Iteration Time : 0.5669s 

real	0m20.640s
user	0m35.252s
sys	0m2.656s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train031/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train031/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train031/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train031/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train031/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train031/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=66 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=66 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.482857 0.487143
+ echo 'CHUNK 0.482857 0.487143 1'
CHUNK 0.482857 0.487143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.482857 0.487143 1
====================================
         PROGRESS: 0.482857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=032
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 032
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train032
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train032
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right 032 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train032 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=right
+ local tid=032
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train032
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 032 right 0
+ local tid=032
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 032 0
+ set -e
+ local tid=032
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train032/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train032/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train032/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.572
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 200.434   GNORM= 172.895
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2        48.812     129.018       0.006
   2    3      -185.061     196.588       1.000
   3    4      -341.106     121.184       1.000
   4    6      -375.063      52.495       0.375
   5    7      -391.705      88.111       1.000
   6    8      -414.522      67.278       1.000
   7   10      -431.169      56.094       0.451
   8   11      -439.059      35.319       1.000
   9   12      -462.451      53.155       1.000
  10   13      -501.300      68.611       1.000
  11   14      -554.190      81.192       1.000
  12   16      -632.821      50.236       5.000
  13   19      -674.939      48.423       2.367
  14   21      -696.218      78.732       0.449
  15   23      -710.120      68.832       0.350
  16   24      -734.001      96.383       1.000
  17   25      -746.589      62.740       1.000
  18   26      -753.762      62.470       1.000
  19   28      -761.012      45.007       0.420
  20   29      -770.225      29.382       1.000
  21   30      -781.517      20.424       1.000
  22   31      -785.786      27.916       1.000
  23   32      -788.057     119.698       1.000
  24   33      -826.234      57.765       1.000
  25   35      -834.479      34.106       0.374
  26   36      -839.827      55.865       1.000
  27   37      -849.959      21.101       1.000
  28   38      -853.032      21.243       1.000
  29   39      -859.978      30.582       1.000
  30   44      -910.160      71.428       0.336
  31   46      -915.103      50.670       0.302
  32   48      -923.631      19.028       0.396
  33   49      -927.399      17.056       1.000
  34   50      -932.283      25.216       1.000
  35   51      -935.796      19.310       1.000
  36   52      -937.174      24.295       1.000
  37   53      -938.443      15.529       1.000
  38   54      -938.862      22.694       1.000
  39   55      -940.151      12.720       1.000
  40   56      -942.177      13.367       1.000
  41   57      -946.064      27.014       1.000
  42   58      -947.546      30.902       1.000
  43   59      -950.043      15.617       1.000
  44   60      -953.131      15.442       1.000
  45   61      -954.022      25.217       1.000
Final RAS Transform: 
1.02988 0.439252 0.232762 -9.07142 
0.140667 1.42066 0.656445 12.515 
-0.667778 -0.609408 0.251898 4.79906 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -507.144   GNORM= 40.2688
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -512.060      14.270       0.006
   2    4      -512.868      10.913       1.000
   3    5      -516.164      17.110       1.000
   4    6      -517.568      25.373       1.000
   5    7      -519.688      42.410       1.000
   6    9      -534.167      64.558       5.000
   7   10      -549.725      23.494       1.000
   8   11      -549.898       7.526       1.000
   9   12      -550.051       8.004       1.000
  10   13      -550.474       9.121       1.000
  11   15      -550.767       8.575       0.319
  12   17      -551.230       5.538       5.000
  13   19      -551.266      12.977       0.224
  14   21      -551.347      10.746       0.264
  15   23      -551.616      11.860       0.375
  16   25      -551.823       9.777       0.427
  17   26      -552.284       6.857       1.000
  18   27      -552.506       6.721       1.000
  19   29      -552.542       4.789       0.176
  20   31      -552.554       5.682       0.288
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.973459 0.45368 0.271173 -7.73488 
0.11886 1.44674 0.67547 13.2981 
-0.716546 -0.569018 0.28013 5.85916 
0 0 0 1 

Final RAS Transform: 
0.973459 0.45368 0.271173 -7.73488 
0.11886 1.44674 0.67547 13.2981 
-0.716546 -0.569018 0.28013 5.85916 
0 0 0 1 


real	0m5.905s
user	0m9.584s
sys	0m0.796s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train032/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train032/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.461699
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0245
Level     0,  Iter     1:    Energy =   0.0272
Level     0,  Iter     2:    Energy =   0.0296
Level     0,  Iter     3:    Energy =   0.0322
Level     0,  Iter     4:    Energy =   0.0341
Level     0,  Iter     5:    Energy =   0.0360
Level     0,  Iter     6:    Energy =   0.0381
Level     0,  Iter     7:    Energy =   0.0402
Level     0,  Iter     8:    Energy =   0.0423
Level     0,  Iter     9:    Energy =   0.0442
Level     0,  Iter    10:    Energy =   0.0459
Level     0,  Iter    11:    Energy =   0.0474
Level     0,  Iter    12:    Energy =   0.0488
Level     0,  Iter    13:    Energy =   0.0499
Level     0,  Iter    14:    Energy =   0.0507
Level     0,  Iter    15:    Energy =   0.0513
Level     0,  Iter    16:    Energy =   0.0518
Level     0,  Iter    17:    Energy =   0.0524
Level     0,  Iter    18:    Energy =   0.0529
Level     0,  Iter    19:    Energy =   0.0534
Level     0,  Iter    20:    Energy =   0.0540
Level     0,  Iter    21:    Energy =   0.0544
Level     0,  Iter    22:    Energy =   0.0549
Level     0,  Iter    23:    Energy =   0.0553
Level     0,  Iter    24:    Energy =   0.0557
Level     0,  Iter    25:    Energy =   0.0561
Level     0,  Iter    26:    Energy =   0.0564
Level     0,  Iter    27:    Energy =   0.0566
Level     0,  Iter    28:    Energy =   0.0568
Level     0,  Iter    29:    Energy =   0.0570
Level     0,  Iter    30:    Energy =   0.0572
Level     0,  Iter    31:    Energy =   0.0574
Level     0,  Iter    32:    Energy =   0.0576
Level     0,  Iter    33:    Energy =   0.0578
Level     0,  Iter    34:    Energy =   0.0579
Level     0,  Iter    35:    Energy =   0.0580
Level     0,  Iter    36:    Energy =   0.0581
Level     0,  Iter    37:    Energy =   0.0582
Level     0,  Iter    38:    Energy =   0.0583
Level     0,  Iter    39:    Energy =   0.0584
Level     0,  Iter    40:    Energy =   0.0585
Level     0,  Iter    41:    Energy =   0.0586
Level     0,  Iter    42:    Energy =   0.0587
Level     0,  Iter    43:    Energy =   0.0588
Level     0,  Iter    44:    Energy =   0.0588
Level     0,  Iter    45:    Energy =   0.0589
Level     0,  Iter    46:    Energy =   0.0588
Level     0,  Iter    47:    Energy =   0.0588
Level     0,  Iter    48:    Energy =   0.0588
Level     0,  Iter    49:    Energy =   0.0588
Level     0,  Iter    50:    Energy =   0.0588
Level     0,  Iter    51:    Energy =   0.0588
Level     0,  Iter    52:    Energy =   0.0589
Level     0,  Iter    53:    Energy =   0.0590
Level     0,  Iter    54:    Energy =   0.0590
Level     0,  Iter    55:    Energy =   0.0591
Level     0,  Iter    56:    Energy =   0.0592
Level     0,  Iter    57:    Energy =   0.0592
Level     0,  Iter    58:    Energy =   0.0592
Level     0,  Iter    59:    Energy =   0.0593
END OF LEVEL     0    DetJac Range:   0.0859  to   2.0686 
  Avg. Gradient Time  : 0.0076s  34.19% 
  Avg. Gaussian Time  : 0.0106s  47.67% 
  Avg. Iteration Time : 0.0223s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0354
Level     1,  Iter     1:    Energy =   0.0373
Level     1,  Iter     2:    Energy =   0.0390
Level     1,  Iter     3:    Energy =   0.0403
Level     1,  Iter     4:    Energy =   0.0413
Level     1,  Iter     5:    Energy =   0.0423
Level     1,  Iter     6:    Energy =   0.0433
Level     1,  Iter     7:    Energy =   0.0443
Level     1,  Iter     8:    Energy =   0.0452
Level     1,  Iter     9:    Energy =   0.0460
Level     1,  Iter    10:    Energy =   0.0465
Level     1,  Iter    11:    Energy =   0.0469
Level     1,  Iter    12:    Energy =   0.0473
Level     1,  Iter    13:    Energy =   0.0477
Level     1,  Iter    14:    Energy =   0.0480
Level     1,  Iter    15:    Energy =   0.0483
Level     1,  Iter    16:    Energy =   0.0485
Level     1,  Iter    17:    Energy =   0.0488
Level     1,  Iter    18:    Energy =   0.0490
Level     1,  Iter    19:    Energy =   0.0492
Level     1,  Iter    20:    Energy =   0.0494
Level     1,  Iter    21:    Energy =   0.0496
Level     1,  Iter    22:    Energy =   0.0498
Level     1,  Iter    23:    Energy =   0.0498
Level     1,  Iter    24:    Energy =   0.0499
Level     1,  Iter    25:    Energy =   0.0499
Level     1,  Iter    26:    Energy =   0.0500
Level     1,  Iter    27:    Energy =   0.0500
Level     1,  Iter    28:    Energy =   0.0501
Level     1,  Iter    29:    Energy =   0.0501
Level     1,  Iter    30:    Energy =   0.0502
Level     1,  Iter    31:    Energy =   0.0502
Level     1,  Iter    32:    Energy =   0.0503
Level     1,  Iter    33:    Energy =   0.0503
Level     1,  Iter    34:    Energy =   0.0504
Level     1,  Iter    35:    Energy =   0.0503
Level     1,  Iter    36:    Energy =   0.0503
Level     1,  Iter    37:    Energy =   0.0503
Level     1,  Iter    38:    Energy =   0.0503
Level     1,  Iter    39:    Energy =   0.0504
Level     1,  Iter    40:    Energy =   0.0504
Level     1,  Iter    41:    Energy =   0.0504
Level     1,  Iter    42:    Energy =   0.0504
Level     1,  Iter    43:    Energy =   0.0504
Level     1,  Iter    44:    Energy =   0.0504
Level     1,  Iter    45:    Energy =   0.0504
Level     1,  Iter    46:    Energy =   0.0504
Level     1,  Iter    47:    Energy =   0.0504
Level     1,  Iter    48:    Energy =   0.0505
Level     1,  Iter    49:    Energy =   0.0505
Level     1,  Iter    50:    Energy =   0.0505
Level     1,  Iter    51:    Energy =   0.0505
Level     1,  Iter    52:    Energy =   0.0505
Level     1,  Iter    53:    Energy =   0.0505
Level     1,  Iter    54:    Energy =   0.0505
Level     1,  Iter    55:    Energy =   0.0505
Level     1,  Iter    56:    Energy =   0.0505
Level     1,  Iter    57:    Energy =   0.0505
Level     1,  Iter    58:    Energy =   0.0505
Level     1,  Iter    59:    Energy =   0.0505
END OF LEVEL     1    DetJac Range:   0.0261  to   2.4892 
  Avg. Gradient Time  : 0.0305s  35.19% 
  Avg. Gaussian Time  : 0.0442s  50.92% 
  Avg. Iteration Time : 0.0868s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0223
big value: 6606.021619
Level     2,  Iter     1:    Energy =   0.0231
Level     2,  Iter     2:    Energy =   0.0228
big value: -1569.159222
Level     2,  Iter     3:    Energy =   0.0235
Level     2,  Iter     4:    Energy =   0.0232
Level     2,  Iter     5:    Energy =   0.0239
Level     2,  Iter     6:    Energy =   0.0247
big value: -1110.523734
Level     2,  Iter     7:    Energy =   0.0256
Level     2,  Iter     8:    Energy =   0.0252
Level     2,  Iter     9:    Energy =   0.0259
Level     2,  Iter    10:    Energy =   0.0266
Level     2,  Iter    11:    Energy =   0.0261
Level     2,  Iter    12:    Energy =   0.0268
Level     2,  Iter    13:    Energy =   0.0274
Level     2,  Iter    14:    Energy =   0.0270
Level     2,  Iter    15:    Energy =   0.0276
Level     2,  Iter    16:    Energy =   0.0280
Level     2,  Iter    17:    Energy =   0.0285
Level     2,  Iter    18:    Energy =   0.0288
Level     2,  Iter    19:    Energy =   0.0292
END OF LEVEL     2    DetJac Range:   0.0484  to   2.5324 
  Avg. Gradient Time  : 0.1933s  33.53% 
  Avg. Gaussian Time  : 0.3073s  53.31% 
  Avg. Iteration Time : 0.5765s 

real	0m20.906s
user	0m35.768s
sys	0m2.660s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train032/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train032/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train032/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train032/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train032/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train032/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=67 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=67 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.487143 0.491429
+ echo 'CHUNK 0.487143 0.491429 1'
CHUNK 0.487143 0.491429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.487143 0.491429 1
====================================
         PROGRESS: 0.487143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=033
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 033
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train033
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train033
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right 033 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train033 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=right
+ local tid=033
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train033
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 033 right 0
+ local tid=033
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 033 0
+ set -e
+ local tid=033
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train033/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train033/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train033/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.541
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -37.7985   GNORM= 155.239
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -144.951     120.213       0.006
   2    3      -320.707     108.472       1.000
   3    5      -367.383      53.605       0.331
   4    7      -414.333      95.286       5.000
   5    8      -479.366      73.199       1.000
   6    9      -559.208      70.871       1.000
   7   10      -582.179      25.821       1.000
   8   11      -586.613      24.292       1.000
   9   12      -599.720      56.572       1.000
  10   13      -617.822      39.148       1.000
  11   14      -624.489      27.462       1.000
  12   15      -629.182      16.817       1.000
  13   16      -633.700      19.720       1.000
  14   17      -636.971      33.116       1.000
  15   18      -654.590      30.154       1.000
  16   20      -659.583      51.659       0.113
  17   22      -666.893      28.171       0.288
  18   23      -677.994      69.923       1.000
  19   26      -678.872      94.187       0.033
  20   27      -691.672      85.580       1.000
  21   28      -721.475      56.780       1.000
  22   29      -762.432      32.733       1.000
  23   30      -775.430      22.079       1.000
  24   32      -783.438      23.294       0.470
  25   34      -786.757      37.908       0.301
  26   35      -794.288      23.916       1.000
  27   36      -797.214      17.975       1.000
  28   37      -804.672      18.869       1.000
  29   39      -813.064      33.010       0.474
  30   40      -819.049      22.583       1.000
  31   41      -822.965      14.317       1.000
  32   43      -824.681      13.919       0.482
  33   44      -825.126      27.353       1.000
  34   45      -827.303      15.964       1.000
  35   46      -830.873      19.083       1.000
  36   47      -840.317      38.212       1.000
  37   49      -842.403      43.709       0.024
  38   53      -899.381      30.640       7.571
  39   55      -904.412      18.977       0.384
  40   57      -905.855      24.899       0.299
  41   58      -915.028      24.228       1.000
  42   60      -915.552      41.974       0.198
  43   61      -918.359      37.313       1.000
Final RAS Transform: 
1.06751 0.133641 -0.175136 -9.4365 
0.220148 1.43355 0.71725 15.3635 
-0.578658 -0.226398 0.548107 0.68488 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -488.11   GNORM= 100.76
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -488.489      56.959       0.001
   2    5      -490.068      48.395       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.06775 0.133688 -0.175569 -9.38145 
0.220781 1.43421 0.716611 15.4487 
-0.578609 -0.227339 0.548658 0.619397 
0 0 0 1 

Final RAS Transform: 
1.06775 0.133688 -0.175569 -9.38145 
0.220781 1.43421 0.716611 15.4487 
-0.578609 -0.227339 0.548658 0.619397 
0 0 0 1 


real	0m4.118s
user	0m6.200s
sys	0m0.696s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train033/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train033/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.422174
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0234
Level     0,  Iter     1:    Energy =   0.0253
Level     0,  Iter     2:    Energy =   0.0276
Level     0,  Iter     3:    Energy =   0.0296
Level     0,  Iter     4:    Energy =   0.0321
Level     0,  Iter     5:    Energy =   0.0346
Level     0,  Iter     6:    Energy =   0.0368
Level     0,  Iter     7:    Energy =   0.0393
Level     0,  Iter     8:    Energy =   0.0413
Level     0,  Iter     9:    Energy =   0.0429
Level     0,  Iter    10:    Energy =   0.0446
Level     0,  Iter    11:    Energy =   0.0460
Level     0,  Iter    12:    Energy =   0.0473
Level     0,  Iter    13:    Energy =   0.0485
Level     0,  Iter    14:    Energy =   0.0492
Level     0,  Iter    15:    Energy =   0.0497
Level     0,  Iter    16:    Energy =   0.0502
Level     0,  Iter    17:    Energy =   0.0508
Level     0,  Iter    18:    Energy =   0.0514
Level     0,  Iter    19:    Energy =   0.0520
Level     0,  Iter    20:    Energy =   0.0525
Level     0,  Iter    21:    Energy =   0.0529
Level     0,  Iter    22:    Energy =   0.0535
Level     0,  Iter    23:    Energy =   0.0536
Level     0,  Iter    24:    Energy =   0.0540
Level     0,  Iter    25:    Energy =   0.0542
Level     0,  Iter    26:    Energy =   0.0546
Level     0,  Iter    27:    Energy =   0.0548
Level     0,  Iter    28:    Energy =   0.0551
Level     0,  Iter    29:    Energy =   0.0551
Level     0,  Iter    30:    Energy =   0.0553
Level     0,  Iter    31:    Energy =   0.0554
Level     0,  Iter    32:    Energy =   0.0556
Level     0,  Iter    33:    Energy =   0.0557
Level     0,  Iter    34:    Energy =   0.0559
Level     0,  Iter    35:    Energy =   0.0560
Level     0,  Iter    36:    Energy =   0.0562
Level     0,  Iter    37:    Energy =   0.0561
Level     0,  Iter    38:    Energy =   0.0564
Level     0,  Iter    39:    Energy =   0.0561
Level     0,  Iter    40:    Energy =   0.0563
Level     0,  Iter    41:    Energy =   0.0561
Level     0,  Iter    42:    Energy =   0.0563
Level     0,  Iter    43:    Energy =   0.0560
Level     0,  Iter    44:    Energy =   0.0563
Level     0,  Iter    45:    Energy =   0.0559
Level     0,  Iter    46:    Energy =   0.0562
Level     0,  Iter    47:    Energy =   0.0559
Level     0,  Iter    48:    Energy =   0.0561
Level     0,  Iter    49:    Energy =   0.0558
Level     0,  Iter    50:    Energy =   0.0560
Level     0,  Iter    51:    Energy =   0.0557
Level     0,  Iter    52:    Energy =   0.0558
Level     0,  Iter    53:    Energy =   0.0556
Level     0,  Iter    54:    Energy =   0.0556
Level     0,  Iter    55:    Energy =   0.0555
Level     0,  Iter    56:    Energy =   0.0555
Level     0,  Iter    57:    Energy =   0.0553
Level     0,  Iter    58:    Energy =   0.0554
Level     0,  Iter    59:    Energy =   0.0554
END OF LEVEL     0    DetJac Range:   0.1139  to   2.5483 
  Avg. Gradient Time  : 0.0075s  33.28% 
  Avg. Gaussian Time  : 0.0108s  48.39% 
  Avg. Iteration Time : 0.0224s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0327
Level     1,  Iter     1:    Energy =   0.0349
Level     1,  Iter     2:    Energy =   0.0369
Level     1,  Iter     3:    Energy =   0.0388
Level     1,  Iter     4:    Energy =   0.0404
Level     1,  Iter     5:    Energy =   0.0417
Level     1,  Iter     6:    Energy =   0.0428
Level     1,  Iter     7:    Energy =   0.0439
Level     1,  Iter     8:    Energy =   0.0449
Level     1,  Iter     9:    Energy =   0.0456
Level     1,  Iter    10:    Energy =   0.0463
Level     1,  Iter    11:    Energy =   0.0471
Level     1,  Iter    12:    Energy =   0.0479
Level     1,  Iter    13:    Energy =   0.0485
Level     1,  Iter    14:    Energy =   0.0492
Level     1,  Iter    15:    Energy =   0.0498
Level     1,  Iter    16:    Energy =   0.0503
Level     1,  Iter    17:    Energy =   0.0508
Level     1,  Iter    18:    Energy =   0.0512
Level     1,  Iter    19:    Energy =   0.0515
Level     1,  Iter    20:    Energy =   0.0518
Level     1,  Iter    21:    Energy =   0.0521
Level     1,  Iter    22:    Energy =   0.0523
Level     1,  Iter    23:    Energy =   0.0525
Level     1,  Iter    24:    Energy =   0.0527
Level     1,  Iter    25:    Energy =   0.0529
Level     1,  Iter    26:    Energy =   0.0530
Level     1,  Iter    27:    Energy =   0.0532
Level     1,  Iter    28:    Energy =   0.0533
Level     1,  Iter    29:    Energy =   0.0534
Level     1,  Iter    30:    Energy =   0.0536
Level     1,  Iter    31:    Energy =   0.0537
Level     1,  Iter    32:    Energy =   0.0539
Level     1,  Iter    33:    Energy =   0.0540
Level     1,  Iter    34:    Energy =   0.0541
Level     1,  Iter    35:    Energy =   0.0543
Level     1,  Iter    36:    Energy =   0.0545
Level     1,  Iter    37:    Energy =   0.0546
Level     1,  Iter    38:    Energy =   0.0548
Level     1,  Iter    39:    Energy =   0.0549
Level     1,  Iter    40:    Energy =   0.0550
Level     1,  Iter    41:    Energy =   0.0552
Level     1,  Iter    42:    Energy =   0.0553
Level     1,  Iter    43:    Energy =   0.0555
Level     1,  Iter    44:    Energy =   0.0556
Level     1,  Iter    45:    Energy =   0.0557
Level     1,  Iter    46:    Energy =   0.0558
Level     1,  Iter    47:    Energy =   0.0557
Level     1,  Iter    48:    Energy =   0.0559
Level     1,  Iter    49:    Energy =   0.0560
Level     1,  Iter    50:    Energy =   0.0561
Level     1,  Iter    51:    Energy =   0.0562
Level     1,  Iter    52:    Energy =   0.0562
Level     1,  Iter    53:    Energy =   0.0562
Level     1,  Iter    54:    Energy =   0.0562
Level     1,  Iter    55:    Energy =   0.0562
Level     1,  Iter    56:    Energy =   0.0561
Level     1,  Iter    57:    Energy =   0.0561
Level     1,  Iter    58:    Energy =   0.0561
Level     1,  Iter    59:    Energy =   0.0561
END OF LEVEL     1    DetJac Range:   0.0462  to   4.8015 
  Avg. Gradient Time  : 0.0298s  34.89% 
  Avg. Gaussian Time  : 0.0438s  51.15% 
  Avg. Iteration Time : 0.0855s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0252
Level     2,  Iter     1:    Energy =   0.0262
Level     2,  Iter     2:    Energy =   0.0271
Level     2,  Iter     3:    Energy =   0.0279
Level     2,  Iter     4:    Energy =   0.0285
Level     2,  Iter     5:    Energy =   0.0291
Level     2,  Iter     6:    Energy =   0.0297
Level     2,  Iter     7:    Energy =   0.0302
Level     2,  Iter     8:    Energy =   0.0308
Level     2,  Iter     9:    Energy =   0.0313
Level     2,  Iter    10:    Energy =   0.0318
Level     2,  Iter    11:    Energy =   0.0313
Level     2,  Iter    12:    Energy =   0.0318
Level     2,  Iter    13:    Energy =   0.0321
Level     2,  Iter    14:    Energy =   0.0325
Level     2,  Iter    15:    Energy =   0.0328
Level     2,  Iter    16:    Energy =   0.0331
Level     2,  Iter    17:    Energy =   0.0334
Level     2,  Iter    18:    Energy =   0.0337
Level     2,  Iter    19:    Energy =   0.0338
END OF LEVEL     2    DetJac Range:   0.0707  to   4.5329 
  Avg. Gradient Time  : 0.1960s  33.73% 
  Avg. Gaussian Time  : 0.3084s  53.07% 
  Avg. Iteration Time : 0.5810s 

real	0m20.979s
user	0m35.940s
sys	0m2.576s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train033/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train033/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train033/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train033/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train033/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train033/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=68 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=68 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.491429 0.495714
+ echo 'CHUNK 0.491429 0.495714 1'
CHUNK 0.491429 0.495714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.491429 0.495714 1
====================================
         PROGRESS: 0.491429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=034
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 034
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train034
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train034
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right 034 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train034 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local side=right
+ local tid=034
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train034
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 034 right 0
+ local tid=034
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 034 0
+ set -e
+ local tid=034
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train034/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train034/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train034/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.524
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 83.6164   GNORM= 170.915
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       -69.357     128.602       0.006
   2    3      -353.106      90.905       1.000
   3    4      -415.448      48.317       1.000
   4    5      -450.088      72.346       1.000
   5    6      -456.621     115.360       1.000
   6    7      -509.050      70.472       1.000
   7    9      -621.610      66.203       5.000
   8   10      -667.267      50.644       1.000
   9   12      -713.477      48.002       5.000
  10   16      -798.255     155.530       0.827
  11   17      -881.769     141.459       1.000
  12   21      -934.480     104.698       0.051
  13   22      -968.615      88.449       1.000
  14   24      -976.282      54.407       0.225
  15   26      -990.232      12.523       0.418
  16   27      -990.483       7.952       1.000
  17   28      -992.584      13.119       1.000
  18   30      -996.314      30.865       0.475
  19   32      -998.439      33.919       0.478
  20   33      -999.742      37.337       1.000
  21   34     -1004.950      47.148       1.000
  22   35     -1007.377      16.514       1.000
  23   36     -1008.752      14.419       1.000
  24   37     -1010.357      27.112       1.000
  25   38     -1012.169      29.821       1.000
  26   40     -1015.205      25.250       0.198
  27   42     -1019.383      43.648       5.000
  28   43     -1022.275      31.913       1.000
  29   44     -1023.719      20.872       1.000
  30   45     -1027.124      13.132       1.000
  31   48     -1031.661      19.614       2.465
  32   50     -1031.895      12.795       0.160
  33   51     -1032.270      18.912       1.000
  34   52     -1033.698      24.901       1.000
  35   53     -1034.320       8.695       1.000
  36   54     -1034.659       7.898       1.000
  37   56     -1034.917      18.131       0.393
  38   58     -1035.059      15.393       0.349
  39   59     -1035.325       9.553       1.000
  40   60     -1035.587       6.150       1.000
  41   61     -1035.946      17.976       1.000
Final RAS Transform: 
0.885105 0.54399 -0.172878 -8.57526 
0.25911 1.29517 0.763838 13.2406 
0.0336292 -0.572939 0.162377 -15.3428 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -486.617   GNORM= 60.2799
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -495.206      59.010       0.017
   2    3      -507.120      32.069       1.000
   3    4      -507.958      12.990       1.000
   4    5      -508.438      11.929       1.000
   5    6      -513.465      26.481       1.000
   6    8      -517.690     288.376       0.455
   7   11      -517.923      32.963       0.018
   8   12      -519.393      84.357       1.000
   9   13      -520.558      18.025       1.000
  10   14      -522.453      19.408       1.000
  11   16      -523.249      66.784       0.190
  12   18      -524.635      29.398       0.130
  13   23      -524.697      12.844       0.004
  14   25      -524.986      59.458       0.526
  15   29      -525.296      20.502       3.104
  16   31      -525.304      15.444       0.272
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.887989 0.554787 -0.181817 -8.38762 
0.263595 1.30188 0.746554 12.9188 
0.0235662 -0.556487 0.127259 -16.5229 
0 0 0 1 

Final RAS Transform: 
0.887989 0.554787 -0.181817 -8.38762 
0.263595 1.30188 0.746554 12.9188 
0.0235662 -0.556487 0.127259 -16.5229 
0 0 0 1 


real	0m5.728s
user	0m9.276s
sys	0m0.708s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train034/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train034/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.097, moving = 0.374437
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0279
Level     0,  Iter     1:    Energy =   0.0297
Level     0,  Iter     2:    Energy =   0.0339
Level     0,  Iter     3:    Energy =   0.0376
Level     0,  Iter     4:    Energy =   0.0413
Level     0,  Iter     5:    Energy =   0.0449
Level     0,  Iter     6:    Energy =   0.0475
Level     0,  Iter     7:    Energy =   0.0496
Level     0,  Iter     8:    Energy =   0.0514
Level     0,  Iter     9:    Energy =   0.0526
Level     0,  Iter    10:    Energy =   0.0537
Level     0,  Iter    11:    Energy =   0.0544
Level     0,  Iter    12:    Energy =   0.0553
Level     0,  Iter    13:    Energy =   0.0557
Level     0,  Iter    14:    Energy =   0.0563
Level     0,  Iter    15:    Energy =   0.0566
Level     0,  Iter    16:    Energy =   0.0566
Level     0,  Iter    17:    Energy =   0.0563
Level     0,  Iter    18:    Energy =   0.0564
Level     0,  Iter    19:    Energy =   0.0564
Level     0,  Iter    20:    Energy =   0.0564
Level     0,  Iter    21:    Energy =   0.0564
Level     0,  Iter    22:    Energy =   0.0565
Level     0,  Iter    23:    Energy =   0.0565
Level     0,  Iter    24:    Energy =   0.0566
Level     0,  Iter    25:    Energy =   0.0566
Level     0,  Iter    26:    Energy =   0.0567
Level     0,  Iter    27:    Energy =   0.0567
Level     0,  Iter    28:    Energy =   0.0568
Level     0,  Iter    29:    Energy =   0.0569
Level     0,  Iter    30:    Energy =   0.0570
Level     0,  Iter    31:    Energy =   0.0570
Level     0,  Iter    32:    Energy =   0.0571
Level     0,  Iter    33:    Energy =   0.0571
Level     0,  Iter    34:    Energy =   0.0572
Level     0,  Iter    35:    Energy =   0.0572
Level     0,  Iter    36:    Energy =   0.0574
Level     0,  Iter    37:    Energy =   0.0573
Level     0,  Iter    38:    Energy =   0.0574
Level     0,  Iter    39:    Energy =   0.0573
Level     0,  Iter    40:    Energy =   0.0574
Level     0,  Iter    41:    Energy =   0.0574
Level     0,  Iter    42:    Energy =   0.0574
Level     0,  Iter    43:    Energy =   0.0574
Level     0,  Iter    44:    Energy =   0.0575
Level     0,  Iter    45:    Energy =   0.0574
Level     0,  Iter    46:    Energy =   0.0575
Level     0,  Iter    47:    Energy =   0.0574
Level     0,  Iter    48:    Energy =   0.0576
Level     0,  Iter    49:    Energy =   0.0575
Level     0,  Iter    50:    Energy =   0.0576
Level     0,  Iter    51:    Energy =   0.0575
Level     0,  Iter    52:    Energy =   0.0576
Level     0,  Iter    53:    Energy =   0.0576
Level     0,  Iter    54:    Energy =   0.0577
Level     0,  Iter    55:    Energy =   0.0576
Level     0,  Iter    56:    Energy =   0.0578
Level     0,  Iter    57:    Energy =   0.0577
Level     0,  Iter    58:    Energy =   0.0578
Level     0,  Iter    59:    Energy =   0.0578
END OF LEVEL     0    DetJac Range:   0.0691  to   1.9783 
  Avg. Gradient Time  : 0.0073s  33.39% 
  Avg. Gaussian Time  : 0.0105s  48.43% 
  Avg. Iteration Time : 0.0218s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0322
Level     1,  Iter     1:    Energy =   0.0343
Level     1,  Iter     2:    Energy =   0.0363
Level     1,  Iter     3:    Energy =   0.0381
Level     1,  Iter     4:    Energy =   0.0394
Level     1,  Iter     5:    Energy =   0.0405
Level     1,  Iter     6:    Energy =   0.0414
Level     1,  Iter     7:    Energy =   0.0423
Level     1,  Iter     8:    Energy =   0.0433
Level     1,  Iter     9:    Energy =   0.0441
Level     1,  Iter    10:    Energy =   0.0449
Level     1,  Iter    11:    Energy =   0.0455
Level     1,  Iter    12:    Energy =   0.0461
Level     1,  Iter    13:    Energy =   0.0465
Level     1,  Iter    14:    Energy =   0.0468
Level     1,  Iter    15:    Energy =   0.0471
Level     1,  Iter    16:    Energy =   0.0474
Level     1,  Iter    17:    Energy =   0.0476
Level     1,  Iter    18:    Energy =   0.0479
Level     1,  Iter    19:    Energy =   0.0482
Level     1,  Iter    20:    Energy =   0.0485
Level     1,  Iter    21:    Energy =   0.0487
Level     1,  Iter    22:    Energy =   0.0489
Level     1,  Iter    23:    Energy =   0.0490
Level     1,  Iter    24:    Energy =   0.0491
Level     1,  Iter    25:    Energy =   0.0492
Level     1,  Iter    26:    Energy =   0.0494
Level     1,  Iter    27:    Energy =   0.0495
Level     1,  Iter    28:    Energy =   0.0497
Level     1,  Iter    29:    Energy =   0.0498
Level     1,  Iter    30:    Energy =   0.0500
Level     1,  Iter    31:    Energy =   0.0501
Level     1,  Iter    32:    Energy =   0.0502
Level     1,  Iter    33:    Energy =   0.0503
Level     1,  Iter    34:    Energy =   0.0504
Level     1,  Iter    35:    Energy =   0.0505
Level     1,  Iter    36:    Energy =   0.0506
Level     1,  Iter    37:    Energy =   0.0506
Level     1,  Iter    38:    Energy =   0.0507
Level     1,  Iter    39:    Energy =   0.0508
Level     1,  Iter    40:    Energy =   0.0509
Level     1,  Iter    41:    Energy =   0.0510
Level     1,  Iter    42:    Energy =   0.0511
Level     1,  Iter    43:    Energy =   0.0511
Level     1,  Iter    44:    Energy =   0.0512
Level     1,  Iter    45:    Energy =   0.0513
Level     1,  Iter    46:    Energy =   0.0514
Level     1,  Iter    47:    Energy =   0.0515
Level     1,  Iter    48:    Energy =   0.0516
Level     1,  Iter    49:    Energy =   0.0516
Level     1,  Iter    50:    Energy =   0.0517
Level     1,  Iter    51:    Energy =   0.0518
Level     1,  Iter    52:    Energy =   0.0518
Level     1,  Iter    53:    Energy =   0.0519
Level     1,  Iter    54:    Energy =   0.0520
Level     1,  Iter    55:    Energy =   0.0521
Level     1,  Iter    56:    Energy =   0.0522
Level     1,  Iter    57:    Energy =   0.0524
Level     1,  Iter    58:    Energy =   0.0525
Level     1,  Iter    59:    Energy =   0.0526
END OF LEVEL     1    DetJac Range:   0.0496  to   3.3147 
  Avg. Gradient Time  : 0.0297s  34.75% 
  Avg. Gaussian Time  : 0.0436s  51.12% 
  Avg. Iteration Time : 0.0854s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0260
Level     2,  Iter     1:    Energy =   0.0270
Level     2,  Iter     2:    Energy =   0.0282
Level     2,  Iter     3:    Energy =   0.0292
Level     2,  Iter     4:    Energy =   0.0300
Level     2,  Iter     5:    Energy =   0.0307
Level     2,  Iter     6:    Energy =   0.0313
Level     2,  Iter     7:    Energy =   0.0318
Level     2,  Iter     8:    Energy =   0.0322
Level     2,  Iter     9:    Energy =   0.0326
Level     2,  Iter    10:    Energy =   0.0329
Level     2,  Iter    11:    Energy =   0.0332
Level     2,  Iter    12:    Energy =   0.0335
Level     2,  Iter    13:    Energy =   0.0337
Level     2,  Iter    14:    Energy =   0.0340
Level     2,  Iter    15:    Energy =   0.0342
Level     2,  Iter    16:    Energy =   0.0344
Level     2,  Iter    17:    Energy =   0.0345
Level     2,  Iter    18:    Energy =   0.0347
Level     2,  Iter    19:    Energy =   0.0349
END OF LEVEL     2    DetJac Range:   0.0393  to   3.4951 
  Avg. Gradient Time  : 0.1936s  33.31% 
  Avg. Gaussian Time  : 0.3105s  53.44% 
  Avg. Iteration Time : 0.5810s 

real	0m20.890s
user	0m35.772s
sys	0m2.584s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train034/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train034/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train034/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train034/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train034/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train034/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=69 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=69 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.495714 0.5
+ echo 'CHUNK 0.495714 0.5 1'
CHUNK 0.495714 0.5 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.495714 0.5 1
====================================
         PROGRESS: 0.495714               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 2 successful
------------------------------------------------
[0m
****************************************
Starting stage 3: Initial joint label fusion
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 3: Initial joint label fusion
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ BOOTSTRAP=0
+ side=left
+ cat
Script: ashs_voting_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
Side: left
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
BOOTSTRAP: 0
+ [[ 0 -ne 1 ]]
+ ashs_label_fusion_apply 0
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ BOOTSTRAP=0
+ cat
Script: ashs_atlas_pairwise.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: left
Bootstrap: 0
+ [[ 0 -eq 1 ]]
+ TDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train025/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train026/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train027/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train028/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train029/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train030/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train031/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train032/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train033/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train034/atlas_to_native.nii.gz
+ local 'ATLASES=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train000/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train001/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train002/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train003/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train004/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train005/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train006/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train007/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train008/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train009/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train010/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train011/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train012/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train013/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train014/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train015/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train016/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train017/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train018/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train019/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train020/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train021/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train022/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train023/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train024/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train025/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train026/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train027/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train028/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train029/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train030/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train031/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train032/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train033/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train034/atlas_to_native.nii.gz'
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train026/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train027/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train028/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train029/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train030/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train031/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train032/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train033/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train034/atlas_to_native_segvote.nii.gz
+ local 'ATLSEGS=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train026/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train027/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train028/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train029/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train030/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train031/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train032/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train033/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train034/atlas_to_native_segvote.nii.gz'
+ local RESULT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/lfseg_raw_left.nii.gz
+ label_fusion 3 -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train025/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train026/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train027/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train028/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train029/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train030/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train031/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train032/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train033/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train034/atlas_to_native.nii.gz -l /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train026/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train027/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train028/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train029/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train030/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train031/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train032/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train033/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train034/atlas_to_native_segvote.nii.gz -m 'Joint[0.1,2]' -rp 3x3x1 -rs 3x3x1 -pd 0x0x2 -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_left_%03d.nii.gz -raw-posteriors tse_native_chunk_left.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/lfseg_raw_left.nii.gz
LABEL FUSION PARAMETERS:
Target image: tse_native_chunk_left.nii.gz
Output image: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/lfseg_raw_left.nii.gz
Mask image  : 
Atlas images: 
    0	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train000/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz
    1	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train001/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz
    2	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train002/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz
    3	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train003/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz
    4	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train004/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz
    5	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train005/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz
    6	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train006/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz
    7	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train007/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz
    8	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train008/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz
    9	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train009/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz
    10	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train010/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz
    11	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train011/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz
    12	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train012/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz
    13	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train013/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz
    14	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train014/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz
    15	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train015/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz
    16	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train016/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz
    17	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train017/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz
    18	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train018/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz
    19	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train019/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz
    20	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train020/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz
    21	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train021/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz
    22	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train022/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz
    23	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train023/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz
    24	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train024/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz
    25	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train025/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz
    26	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train026/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train026/atlas_to_native_segvote.nii.gz
    27	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train027/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train027/atlas_to_native_segvote.nii.gz
    28	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train028/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train028/atlas_to_native_segvote.nii.gz
    29	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train029/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train029/atlas_to_native_segvote.nii.gz
    30	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train030/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train030/atlas_to_native_segvote.nii.gz
    31	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train031/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train031/atlas_to_native_segvote.nii.gz
    32	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train032/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train032/atlas_to_native_segvote.nii.gz
    33	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train033/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train033/atlas_to_native_segvote.nii.gz
    34	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train034/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_left_train034/atlas_to_native_segvote.nii.gz
Method:     Joint
    Alpha:  0.1
    Beta:  2
Search Radius: [3, 3, 1]
Patch Radius: [3, 3, 1]
Posterior Filename Pattern: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_left_%03d.nii.gz
Outputing Raw (unnormalized) Posteriors: 1
Padding Enabled: 1
Padding Radius: [0, 0, 2]
Executing with the default number of threads: 48
Output Requested Region: [6, 6, 4], [70, 81, 29] (164430 pixels)
Computing mask based on input segmentations
  Skipping 64231 out of 164430 voxels.
.........................................................................................
VOTING 
+ [[ -n '' ]]
+ cp -a /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/lfseg_raw_left.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/lfseg_heur_left.nii.gz
+ for kind in usegray nogray
+ [[ usegray = \u\s\e\g\r\a\y ]]
+ GRAYCMD='-g tse_native_chunk_left.nii.gz'
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/lfseg_heur_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/lfseg_corr_usegray_left.nii.gz -g tse_native_chunk_left.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_left_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_corr_usegray_left_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/lfseg_heur_left.nii.gz
82:93:33
loading tse_native_chunk_left.nii.gz
imageFlag:1
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_left_%03d.nii.gz
maskFlag:0  
label #: 13
Tlabel  0
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_left_000.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 250188
tc: 1470
mean intensity : sample #  661.876:4062
center location: (50.7899,39.4344,19.7644) feature #:2037
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 0 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_left_001.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 0
tc: 1470
Tlabel  2
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_left_002.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 0
tc: 1470
Tlabel  3
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_left_003.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 0
tc: 1470
Tlabel  4
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_left_004.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 0
tc: 1470
Tlabel  5
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/left/adaboost_usegray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_left_005.nii.gz
ExceptionObject caught !

itk::ImageFileReaderException (0xfed2e0)
Location: "void itk::ImageFileReader<TOutputImage, ConvertPixelTraits>::GenerateOutputInformation() [with TOutputImage = itk::Image<float, 3u>, ConvertPixelTraits = itk::DefaultConvertPixelTraits<float>]" 
File: /mnt/build/pauly/itk320/InsightToolkit-3.20.0/Code/IO/itkImageFileReader.txx
Line: 146
Description:  Could not create IO object for file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_left_005.nii.gz
The file doesn't exist. 
Filename = /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_left_005.nii.gz



+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ BOOTSTRAP=0
+ side=right
+ cat
Script: ashs_voting_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
Side: right
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
BOOTSTRAP: 0
+ [[ 0 -ne 1 ]]
+ ashs_label_fusion_apply 0
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ BOOTSTRAP=0
+ cat
Script: ashs_atlas_pairwise.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Side: right
Bootstrap: 0
+ [[ 0 -eq 1 ]]
+ TDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train025/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train026/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train027/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train028/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train029/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train030/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train031/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train032/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train033/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train034/atlas_to_native.nii.gz
+ local 'ATLASES=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train000/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train001/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train002/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train003/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train004/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train005/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train006/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train007/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train008/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train009/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train010/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train011/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train012/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train013/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train014/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train015/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train016/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train017/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train018/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train019/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train020/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train021/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train022/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train023/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train024/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train025/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train026/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train027/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train028/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train029/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train030/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train031/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train032/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train033/atlas_to_native.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train034/atlas_to_native.nii.gz'
++ ls /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train026/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train027/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train028/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train029/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train030/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train031/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train032/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train033/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train034/atlas_to_native_segvote.nii.gz
+ local 'ATLSEGS=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train026/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train027/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train028/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train029/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train030/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train031/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train032/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train033/atlas_to_native_segvote.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train034/atlas_to_native_segvote.nii.gz'
+ local RESULT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/lfseg_raw_right.nii.gz
+ label_fusion 3 -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train000/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train001/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train002/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train003/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train004/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train005/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train006/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train007/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train008/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train009/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train010/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train011/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train012/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train013/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train014/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train015/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train016/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train017/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train018/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train019/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train020/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train021/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train022/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train023/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train024/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train025/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train026/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train027/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train028/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train029/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train030/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train031/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train032/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train033/atlas_to_native.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train034/atlas_to_native.nii.gz -l /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train026/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train027/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train028/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train029/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train030/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train031/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train032/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train033/atlas_to_native_segvote.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train034/atlas_to_native_segvote.nii.gz -m 'Joint[0.1,2]' -rp 3x3x1 -rs 3x3x1 -pd 0x0x2 -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_right_%03d.nii.gz -raw-posteriors tse_native_chunk_right.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/lfseg_raw_right.nii.gz
LABEL FUSION PARAMETERS:
Target image: tse_native_chunk_right.nii.gz
Output image: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/lfseg_raw_right.nii.gz
Mask image  : 
Atlas images: 
    0	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train000/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz
    1	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train001/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz
    2	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train002/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz
    3	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train003/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz
    4	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train004/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz
    5	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train005/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz
    6	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train006/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz
    7	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train007/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz
    8	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train008/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz
    9	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train009/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz
    10	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train010/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz
    11	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train011/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz
    12	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train012/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz
    13	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train013/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz
    14	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train014/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz
    15	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train015/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz
    16	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train016/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz
    17	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train017/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz
    18	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train018/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train018/atlas_to_native_segvote.nii.gz
    19	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train019/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train019/atlas_to_native_segvote.nii.gz
    20	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train020/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train020/atlas_to_native_segvote.nii.gz
    21	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train021/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train021/atlas_to_native_segvote.nii.gz
    22	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train022/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train022/atlas_to_native_segvote.nii.gz
    23	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train023/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train023/atlas_to_native_segvote.nii.gz
    24	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train024/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train024/atlas_to_native_segvote.nii.gz
    25	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train025/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train025/atlas_to_native_segvote.nii.gz
    26	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train026/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train026/atlas_to_native_segvote.nii.gz
    27	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train027/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train027/atlas_to_native_segvote.nii.gz
    28	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train028/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train028/atlas_to_native_segvote.nii.gz
    29	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train029/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train029/atlas_to_native_segvote.nii.gz
    30	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train030/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train030/atlas_to_native_segvote.nii.gz
    31	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train031/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train031/atlas_to_native_segvote.nii.gz
    32	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train032/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train032/atlas_to_native_segvote.nii.gz
    33	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train033/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train033/atlas_to_native_segvote.nii.gz
    34	/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train034/atlas_to_native.nii.gz | /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/tseg_right_train034/atlas_to_native_segvote.nii.gz
Method:     Joint
    Alpha:  0.1
    Beta:  2
Search Radius: [3, 3, 1]
Patch Radius: [3, 3, 1]
Posterior Filename Pattern: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_right_%03d.nii.gz
Outputing Raw (unnormalized) Posteriors: 1
Padding Enabled: 1
Padding Radius: [0, 0, 2]
Executing with the default number of threads: 48
Output Requested Region: [6, 6, 0], [77, 102, 35] (274890 pixels)
Computing mask based on input segmentations
  Skipping 137030 out of 274890 voxels.
..........................................................................................................................
VOTING 
+ [[ -n '' ]]
+ cp -a /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/lfseg_raw_right.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/lfseg_heur_right.nii.gz
+ for kind in usegray nogray
+ [[ usegray = \u\s\e\g\r\a\y ]]
+ GRAYCMD='-g tse_native_chunk_right.nii.gz'
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/lfseg_corr_usegray_right.nii.gz -g tse_native_chunk_right.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_right_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_corr_usegray_right_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/lfseg_heur_right.nii.gz
89:114:35
loading tse_native_chunk_right.nii.gz
imageFlag:1
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_right_%03d.nii.gz
maskFlag:0  
label #: 13
Tlabel  0
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_right_000.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 348235
tc: 6875
mean intensity : sample #  374.764:17837
center location: (37.0236,42.53,24.1015) feature #:2037
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 1 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_right_001.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 561
tc: 6875
center location: (43.5881,61.8039,27.2068) feature #:2037
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_right_002.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 0
tc: 6875
Tlabel  3
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_right_003.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 30
tc: 6875
center location: (49.5962,59.52,30.0549) feature #:2037
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 0 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_right_004.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 80
tc: 6875
center location: (53.4104,63,31.5044) feature #:2037
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_right_005.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 0
tc: 6875
Tlabel  6
Tlabel  7
Tlabel  8
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_right_008.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 879
tc: 6875
center location: (45.1851,55.6441,26.5041) feature #:2037
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 0 seconds.
Tlabel  9
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel9
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel9
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_right_009.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 621
tc: 6875
center location: (44.4063,37.3092,21.6732) feature #:2037
making corrections...
saving posterior map for label 9 .... 
Label 9 is processed in 1 seconds.
Tlabel  10
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel10
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel10
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_right_010.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 1123
tc: 6875
center location: (30.214,35.8536,21.0727) feature #:2037
making corrections...
saving posterior map for label 10 .... 
Label 10 is processed in 0 seconds.
Tlabel  11
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel11
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel11
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_right_011.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 2034
tc: 6875
center location: (25.0051,33.0132,22.4931) feature #:2037
making corrections...
saving posterior map for label 11 .... 
Label 11 is processed in 0 seconds.
Tlabel  12
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel12
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel12
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_right_012.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 644
tc: 6875
center location: (47.9452,43.1868,31.7249) feature #:2037
making corrections...
saving posterior map for label 12 .... 
Label 12 is processed in 0 seconds.
Tlabel  13
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-param-Tlabel13
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_usegray-AdaBoostResults-Tlabel13
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_right_013.nii.gz
NFeature: 2037
preparing data...
dilateR: 1
tc: 903
tc: 6875
center location: (36.3476,33.807,23.745) feature #:2037
making corrections...
saving posterior map for label 13 .... 
Label 13 is processed in 0 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/lfseg_corr_usegray_right.nii.gz
+ for kind in usegray nogray
+ [[ nogray = \u\s\e\g\r\a\y ]]
+ GRAYCMD=
+ sa /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/lfseg_heur_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_nogray /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/lfseg_corr_nogray_right.nii.gz -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_right_%03d.nii.gz -op /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_corr_nogray_right_%03d.nii.gz
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/lfseg_heur_right.nii.gz
89:114:35
imageFlag:0
posteriorFlag:1  /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_right_%03d.nii.gz
maskFlag:0  
label #: 13
Tlabel  0
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel0
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel0
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_right_000.nii.gz
NFeature: 1361
preparing data...
dilateR: 1
tc: 348235
tc: 6875
center location: (37.0236,42.53,24.1015) feature #:1361
making corrections...
saving posterior map for label 0 .... 
Label 0 is processed in 1 seconds.
Tlabel  1
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel1
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel1
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_right_001.nii.gz
NFeature: 1361
preparing data...
dilateR: 1
tc: 561
tc: 6875
center location: (43.5881,61.8039,27.2068) feature #:1361
making corrections...
saving posterior map for label 1 .... 
Label 1 is processed in 0 seconds.
Tlabel  2
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel2
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel2
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_right_002.nii.gz
NFeature: 1361
preparing data...
dilateR: 1
tc: 0
tc: 6875
Tlabel  3
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel3
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel3
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_right_003.nii.gz
NFeature: 1361
preparing data...
dilateR: 1
tc: 30
tc: 6875
center location: (49.5962,59.52,30.0549) feature #:1361
making corrections...
saving posterior map for label 3 .... 
Label 3 is processed in 0 seconds.
Tlabel  4
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel4
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel4
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_right_004.nii.gz
NFeature: 1361
preparing data...
dilateR: 1
tc: 80
tc: 6875
center location: (53.4104,63,31.5044) feature #:1361
making corrections...
saving posterior map for label 4 .... 
Label 4 is processed in 0 seconds.
Tlabel  5
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel5
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel5
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_right_005.nii.gz
NFeature: 1361
preparing data...
dilateR: 1
tc: 0
tc: 6875
Tlabel  6
Tlabel  7
Tlabel  8
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel8
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel8
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_right_008.nii.gz
NFeature: 1361
preparing data...
dilateR: 1
tc: 879
tc: 6875
center location: (45.1851,55.6441,26.5041) feature #:1361
making corrections...
saving posterior map for label 8 .... 
Label 8 is processed in 0 seconds.
Tlabel  9
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel9
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel9
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_right_009.nii.gz
NFeature: 1361
preparing data...
dilateR: 1
tc: 621
tc: 6875
center location: (44.4063,37.3092,21.6732) feature #:1361
making corrections...
saving posterior map for label 9 .... 
Label 9 is processed in 0 seconds.
Tlabel  10
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel10
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel10
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_right_010.nii.gz
NFeature: 1361
preparing data...
dilateR: 1
tc: 1123
tc: 6875
center location: (30.214,35.8536,21.0727) feature #:1361
making corrections...
saving posterior map for label 10 .... 
Label 10 is processed in 0 seconds.
Tlabel  11
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel11
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel11
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_right_011.nii.gz
NFeature: 1361
preparing data...
dilateR: 1
tc: 2034
tc: 6875
center location: (25.0051,33.0132,22.4931) feature #:1361
making corrections...
saving posterior map for label 11 .... 
Label 11 is processed in 0 seconds.
Tlabel  12
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel12
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel12
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_right_012.nii.gz
NFeature: 1361
preparing data...
dilateR: 1
tc: 644
tc: 6875
center location: (47.9452,43.1868,31.7249) feature #:1361
making corrections...
saving posterior map for label 12 .... 
Label 12 is processed in 1 seconds.
Tlabel  13
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_nogray-AdaBoostResults-param-Tlabel13
/home/ccn30/ENCRYPT/atlases/magdeburgatlas/adaboost/right/adaboost_nogray-AdaBoostResults-Tlabel13
# weak learners: 500
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/posterior_right_013.nii.gz
NFeature: 1361
preparing data...
dilateR: 1
tc: 903
tc: 6875
center location: (36.3476,33.807,23.745) feature #:1361
making corrections...
saving posterior map for label 13 .... 
Label 13 is processed in 0 seconds.
saving corrected segmentation to /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/lfseg_corr_nogray_right.nii.gz
+ [[ -n '' ]]
++ [[ 0 -eq 1 ]]
++ echo multiatlas
+ MALFMODE=multiatlas
+ ashs_segmentation_qc right multiatlas heur
+ local side=right
+ local malfmode=multiatlas
+ local corrmode=heur
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/lfseg_heur_right.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/lfseg_heur_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.Uln8BMof/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.Uln8BMof/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/magdeburgatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.Uln8BMof/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/lfseg_heur_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.Uln8BMof/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.Uln8BMof/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/magdeburgatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.Uln8BMof/sag_seg_%02d.png
++ ls /tmp/ashs.Uln8BMof/cor_mprage_00.png /tmp/ashs.Uln8BMof/cor_mprage_01.png /tmp/ashs.Uln8BMof/cor_mprage_02.png /tmp/ashs.Uln8BMof/cor_mprage_03.png /tmp/ashs.Uln8BMof/cor_mprage_04.png /tmp/ashs.Uln8BMof/cor_seg_00.png /tmp/ashs.Uln8BMof/cor_seg_03.png /tmp/ashs.Uln8BMof/cor_seg_06.png /tmp/ashs.Uln8BMof/cor_seg_09.png /tmp/ashs.Uln8BMof/cor_seg_12.png /tmp/ashs.Uln8BMof/cor_tse_00.png /tmp/ashs.Uln8BMof/cor_tse_01.png /tmp/ashs.Uln8BMof/cor_tse_02.png /tmp/ashs.Uln8BMof/cor_tse_03.png /tmp/ashs.Uln8BMof/cor_tse_04.png /tmp/ashs.Uln8BMof/sag_mprage_00.png /tmp/ashs.Uln8BMof/sag_mprage_01.png /tmp/ashs.Uln8BMof/sag_seg_00.png /tmp/ashs.Uln8BMof/sag_seg_03.png /tmp/ashs.Uln8BMof/sag_tse_00.png /tmp/ashs.Uln8BMof/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_mprage_00.png /tmp/ashs.Uln8BMof/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_mprage_01.png /tmp/ashs.Uln8BMof/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_mprage_02.png /tmp/ashs.Uln8BMof/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_mprage_03.png /tmp/ashs.Uln8BMof/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_mprage_04.png /tmp/ashs.Uln8BMof/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_seg_00.png /tmp/ashs.Uln8BMof/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_seg_03.png /tmp/ashs.Uln8BMof/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_seg_06.png /tmp/ashs.Uln8BMof/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_seg_09.png /tmp/ashs.Uln8BMof/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_seg_12.png /tmp/ashs.Uln8BMof/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_tse_00.png /tmp/ashs.Uln8BMof/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_tse_01.png /tmp/ashs.Uln8BMof/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_tse_02.png /tmp/ashs.Uln8BMof/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_tse_03.png /tmp/ashs.Uln8BMof/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_tse_04.png /tmp/ashs.Uln8BMof/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/sag_mprage_00.png /tmp/ashs.Uln8BMof/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/sag_mprage_01.png /tmp/ashs.Uln8BMof/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/sag_seg_00.png /tmp/ashs.Uln8BMof/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/sag_seg_03.png /tmp/ashs.Uln8BMof/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/sag_tse_00.png /tmp/ashs.Uln8BMof/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/sag_tse_01.png /tmp/ashs.Uln8BMof/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.Uln8BMof/cor_tse_00.png /tmp/ashs.Uln8BMof/cor_tse_01.png /tmp/ashs.Uln8BMof/cor_tse_02.png /tmp/ashs.Uln8BMof/cor_tse_03.png /tmp/ashs.Uln8BMof/cor_tse_04.png /tmp/ashs.Uln8BMof/sag_tse_00.png /tmp/ashs.Uln8BMof/sag_tse_01.png /tmp/ashs.Uln8BMof/cor_mprage_00.png /tmp/ashs.Uln8BMof/cor_mprage_01.png /tmp/ashs.Uln8BMof/cor_mprage_02.png /tmp/ashs.Uln8BMof/cor_mprage_03.png /tmp/ashs.Uln8BMof/cor_mprage_04.png /tmp/ashs.Uln8BMof/sag_mprage_00.png /tmp/ashs.Uln8BMof/sag_mprage_01.png /tmp/ashs.Uln8BMof/cor_seg_00.png /tmp/ashs.Uln8BMof/cor_seg_03.png /tmp/ashs.Uln8BMof/cor_seg_06.png /tmp/ashs.Uln8BMof/cor_seg_09.png /tmp/ashs.Uln8BMof/cor_seg_12.png /tmp/ashs.Uln8BMof/sag_seg_00.png /tmp/ashs.Uln8BMof/sag_seg_03.png /tmp/ashs.Uln8BMof/qa.png
+ convert /tmp/ashs.Uln8BMof/qa.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/qa
+ montage -label 25773:right /tmp/ashs.Uln8BMof/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/qa/qa_seg_multiatlas_heur_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (right,multiatlas_heur)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/qa/qa_seg_multiatlas_heur_right_qa.png
+ ashs_segmentation_qc right multiatlas corr_usegray
+ local side=right
+ local malfmode=multiatlas
+ local corrmode=corr_usegray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/lfseg_corr_usegray_right.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/lfseg_corr_usegray_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.Uln8BMof/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.Uln8BMof/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/magdeburgatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.Uln8BMof/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/lfseg_corr_usegray_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.Uln8BMof/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.Uln8BMof/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/magdeburgatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.Uln8BMof/sag_seg_%02d.png
++ ls /tmp/ashs.Uln8BMof/cor_mprage_00.png /tmp/ashs.Uln8BMof/cor_mprage_01.png /tmp/ashs.Uln8BMof/cor_mprage_02.png /tmp/ashs.Uln8BMof/cor_mprage_03.png /tmp/ashs.Uln8BMof/cor_mprage_04.png /tmp/ashs.Uln8BMof/cor_seg_00.png /tmp/ashs.Uln8BMof/cor_seg_03.png /tmp/ashs.Uln8BMof/cor_seg_06.png /tmp/ashs.Uln8BMof/cor_seg_09.png /tmp/ashs.Uln8BMof/cor_seg_12.png /tmp/ashs.Uln8BMof/cor_tse_00.png /tmp/ashs.Uln8BMof/cor_tse_01.png /tmp/ashs.Uln8BMof/cor_tse_02.png /tmp/ashs.Uln8BMof/cor_tse_03.png /tmp/ashs.Uln8BMof/cor_tse_04.png /tmp/ashs.Uln8BMof/sag_mprage_00.png /tmp/ashs.Uln8BMof/sag_mprage_01.png /tmp/ashs.Uln8BMof/sag_seg_00.png /tmp/ashs.Uln8BMof/sag_seg_03.png /tmp/ashs.Uln8BMof/sag_tse_00.png /tmp/ashs.Uln8BMof/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_mprage_00.png /tmp/ashs.Uln8BMof/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_mprage_01.png /tmp/ashs.Uln8BMof/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_mprage_02.png /tmp/ashs.Uln8BMof/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_mprage_03.png /tmp/ashs.Uln8BMof/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_mprage_04.png /tmp/ashs.Uln8BMof/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_seg_00.png /tmp/ashs.Uln8BMof/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_seg_03.png /tmp/ashs.Uln8BMof/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_seg_06.png /tmp/ashs.Uln8BMof/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_seg_09.png /tmp/ashs.Uln8BMof/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_seg_12.png /tmp/ashs.Uln8BMof/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_tse_00.png /tmp/ashs.Uln8BMof/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_tse_01.png /tmp/ashs.Uln8BMof/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_tse_02.png /tmp/ashs.Uln8BMof/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_tse_03.png /tmp/ashs.Uln8BMof/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_tse_04.png /tmp/ashs.Uln8BMof/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/sag_mprage_00.png /tmp/ashs.Uln8BMof/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/sag_mprage_01.png /tmp/ashs.Uln8BMof/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/sag_seg_00.png /tmp/ashs.Uln8BMof/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/sag_seg_03.png /tmp/ashs.Uln8BMof/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/sag_tse_00.png /tmp/ashs.Uln8BMof/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/sag_tse_01.png /tmp/ashs.Uln8BMof/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.Uln8BMof/cor_tse_00.png /tmp/ashs.Uln8BMof/cor_tse_01.png /tmp/ashs.Uln8BMof/cor_tse_02.png /tmp/ashs.Uln8BMof/cor_tse_03.png /tmp/ashs.Uln8BMof/cor_tse_04.png /tmp/ashs.Uln8BMof/sag_tse_00.png /tmp/ashs.Uln8BMof/sag_tse_01.png /tmp/ashs.Uln8BMof/cor_mprage_00.png /tmp/ashs.Uln8BMof/cor_mprage_01.png /tmp/ashs.Uln8BMof/cor_mprage_02.png /tmp/ashs.Uln8BMof/cor_mprage_03.png /tmp/ashs.Uln8BMof/cor_mprage_04.png /tmp/ashs.Uln8BMof/sag_mprage_00.png /tmp/ashs.Uln8BMof/sag_mprage_01.png /tmp/ashs.Uln8BMof/cor_seg_00.png /tmp/ashs.Uln8BMof/cor_seg_03.png /tmp/ashs.Uln8BMof/cor_seg_06.png /tmp/ashs.Uln8BMof/cor_seg_09.png /tmp/ashs.Uln8BMof/cor_seg_12.png /tmp/ashs.Uln8BMof/sag_seg_00.png /tmp/ashs.Uln8BMof/sag_seg_03.png /tmp/ashs.Uln8BMof/qa.png
+ convert /tmp/ashs.Uln8BMof/qa.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/qa
+ montage -label 25773:right /tmp/ashs.Uln8BMof/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/qa/qa_seg_multiatlas_corr_usegray_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (right,multiatlas_corr_usegray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/qa/qa_seg_multiatlas_corr_usegray_right_qa.png
+ ashs_segmentation_qc right multiatlas corr_nogray
+ local side=right
+ local malfmode=multiatlas
+ local corrmode=corr_nogray
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ local REFSPACE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz
+ local SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/lfseg_corr_nogray_right.nii.gz
+ local LABELFILE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/snap/snaplabels.txt
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/lfseg_corr_nogray_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 16.6%:16.6%:88% -oo /tmp/ashs.Uln8BMof/cor_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 16.6%:16.6%:88% -oo /tmp/ashs.Uln8BMof/cor_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/magdeburgatlas/snap/snaplabels.txt 0.5 -slice-all z 16.6%:16.6%:88% -oomc 3 /tmp/ashs.Uln8BMof/cor_seg_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/multiatlas/fusion/lfseg_corr_nogray_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/tse_native_chunk_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -as T2R -slice z 33%:33%:84% -oo /tmp/ashs.Uln8BMof/sag_tse_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/mprage.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-matrix /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/flirt_t2_to_t1/flirt_t2_to_t1.mat -slice z 33%:33%:84% -oo /tmp/ashs.Uln8BMof/sag_mprage_%02d.png -clear -push T2R -push SS -oli /home/ccn30/ENCRYPT/atlases/magdeburgatlas/snap/snaplabels.txt 0.5 -slice-all z 33%:33%:84% -oomc 3 /tmp/ashs.Uln8BMof/sag_seg_%02d.png
++ ls /tmp/ashs.Uln8BMof/cor_mprage_00.png /tmp/ashs.Uln8BMof/cor_mprage_01.png /tmp/ashs.Uln8BMof/cor_mprage_02.png /tmp/ashs.Uln8BMof/cor_mprage_03.png /tmp/ashs.Uln8BMof/cor_mprage_04.png /tmp/ashs.Uln8BMof/cor_seg_00.png /tmp/ashs.Uln8BMof/cor_seg_03.png /tmp/ashs.Uln8BMof/cor_seg_06.png /tmp/ashs.Uln8BMof/cor_seg_09.png /tmp/ashs.Uln8BMof/cor_seg_12.png /tmp/ashs.Uln8BMof/cor_tse_00.png /tmp/ashs.Uln8BMof/cor_tse_01.png /tmp/ashs.Uln8BMof/cor_tse_02.png /tmp/ashs.Uln8BMof/cor_tse_03.png /tmp/ashs.Uln8BMof/cor_tse_04.png /tmp/ashs.Uln8BMof/sag_mprage_00.png /tmp/ashs.Uln8BMof/sag_mprage_01.png /tmp/ashs.Uln8BMof/sag_seg_00.png /tmp/ashs.Uln8BMof/sag_seg_03.png /tmp/ashs.Uln8BMof/sag_tse_00.png /tmp/ashs.Uln8BMof/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_mprage_00.png /tmp/ashs.Uln8BMof/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_mprage_01.png /tmp/ashs.Uln8BMof/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_mprage_02.png /tmp/ashs.Uln8BMof/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_mprage_03.png /tmp/ashs.Uln8BMof/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_mprage_04.png /tmp/ashs.Uln8BMof/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_seg_00.png /tmp/ashs.Uln8BMof/cor_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_seg_03.png /tmp/ashs.Uln8BMof/cor_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_seg_06.png /tmp/ashs.Uln8BMof/cor_seg_06.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_seg_06.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_seg_06.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_seg_09.png /tmp/ashs.Uln8BMof/cor_seg_09.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_seg_09.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_seg_09.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_seg_12.png /tmp/ashs.Uln8BMof/cor_seg_12.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_seg_12.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_seg_12.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_tse_00.png /tmp/ashs.Uln8BMof/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_tse_01.png /tmp/ashs.Uln8BMof/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_tse_02.png /tmp/ashs.Uln8BMof/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_tse_03.png /tmp/ashs.Uln8BMof/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/cor_tse_04.png /tmp/ashs.Uln8BMof/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/sag_mprage_00.png /tmp/ashs.Uln8BMof/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/sag_mprage_01.png /tmp/ashs.Uln8BMof/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/sag_seg_00.png /tmp/ashs.Uln8BMof/sag_seg_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/sag_seg_00.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/sag_seg_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/sag_seg_03.png /tmp/ashs.Uln8BMof/sag_seg_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/sag_seg_03.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/sag_seg_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/sag_tse_00.png /tmp/ashs.Uln8BMof/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Uln8BMof/sag_tse_01.png /tmp/ashs.Uln8BMof/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Uln8BMof/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.Uln8BMof/cor_tse_00.png /tmp/ashs.Uln8BMof/cor_tse_01.png /tmp/ashs.Uln8BMof/cor_tse_02.png /tmp/ashs.Uln8BMof/cor_tse_03.png /tmp/ashs.Uln8BMof/cor_tse_04.png /tmp/ashs.Uln8BMof/sag_tse_00.png /tmp/ashs.Uln8BMof/sag_tse_01.png /tmp/ashs.Uln8BMof/cor_mprage_00.png /tmp/ashs.Uln8BMof/cor_mprage_01.png /tmp/ashs.Uln8BMof/cor_mprage_02.png /tmp/ashs.Uln8BMof/cor_mprage_03.png /tmp/ashs.Uln8BMof/cor_mprage_04.png /tmp/ashs.Uln8BMof/sag_mprage_00.png /tmp/ashs.Uln8BMof/sag_mprage_01.png /tmp/ashs.Uln8BMof/cor_seg_00.png /tmp/ashs.Uln8BMof/cor_seg_03.png /tmp/ashs.Uln8BMof/cor_seg_06.png /tmp/ashs.Uln8BMof/cor_seg_09.png /tmp/ashs.Uln8BMof/cor_seg_12.png /tmp/ashs.Uln8BMof/sag_seg_00.png /tmp/ashs.Uln8BMof/sag_seg_03.png /tmp/ashs.Uln8BMof/qa.png
+ convert /tmp/ashs.Uln8BMof/qa.png -bordercolor Black -border 1x1 /tmp/ashs.Uln8BMof/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/qa
+ montage -label 25773:right /tmp/ashs.Uln8BMof/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/qa/qa_seg_multiatlas_corr_nogray_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Segmentation QC (right,multiatlas_corr_nogray)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/original/qa/qa_seg_multiatlas_corr_nogray_right_qa.png
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.5 -v be=0.6 -v j=1 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.5 0.6'
CHUNK 0.5 0.6
+ echo 1
+ awk -v bs=0.5 -v be=0.6 -v j=1 -v n=2 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.55 0.6
+ echo 'CHUNK 0.55 0.6 1'
CHUNK 0.55 0.6 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.55 0.6 1
====================================
         PROGRESS: 0.55               
====================================
[0;31m
**************** !! ERROR !! *******************
Validity check at end of stage 3 detected 
missing files. 
(multiatlas/fusion/lfseg_corr_nogray_left.nii.gz
 and 1 other files).
************************************************
[0m


 ASHS completed for 25773 at 12:18:20, it took 0 days 0 hours 51 minutes and 40 seconds to complete 

Beginning ASHS for:  25773
INPUT: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25773/20191129_U-ID47278/mp2rage/n4mag0000_PSIR_skulled_std.nii /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25773/20191129_U-ID47278/Series_029_Highresolution_TSE_PAT2_100/n4_t2.nii
/lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/ASHS_mainfun.sh: line 66: cd: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2: No such file or directory
ASHS started at 12:18:20
ashs_main execution log
  timestamp:   Wed Oct 14 12:18:20 BST 2020
  invocation:  /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_main.sh -I 25773 -a /home/ccn30/ENCRYPT/atlases/magdeburgatlas -g /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25773/20191129_U-ID47278/mp2rage/n4mag0000_PSIR_skulled_std.nii -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25773/20191129_U-ID47278/Series_029_Highresolution_TSE_PAT2_100/n4_t2.nii -w /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
  directory:   /lustre/scratch/wbic-beta/ccn30/ENCRYPT/scripts/Segmentation/slurmoutputs
  environment:
    ASHS_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25773/20191129_U-ID47278/mp2rage/n4mag0000_PSIR_skulled_std.nii
    ASHS_ROOT=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
    ASHS_SUBJID=25773
    ASHS_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25773/20191129_U-ID47278/Series_029_Highresolution_TSE_PAT2_100/n4_t2.nii
    ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
Atlas    : /home/ccn30/ENCRYPT/atlases/magdeburgatlas
T1 Image : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25773/20191129_U-ID47278/mp2rage/n4mag0000_PSIR_skulled_std.nii
T2 Image : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25773/20191129_U-ID47278/Series_029_Highresolution_TSE_PAT2_100/n4_t2.nii
WorkDir  : /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
Not using SGE or GNU parallel
****************************************
Starting stage 1: Normalization to T1 population template
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 1: Normalization to T1 population 
template
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ cat
Script: ashs_template_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
  Skip Rigid: 
  Skip Ants: 
+ WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ TEMP_T1_FULL=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz
+ TEMP_T1_MASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template_bet_mask.nii.gz
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_AFF_T1TEMP_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.nii.gz
+ [[ /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25773/20191129_U-ID47278/mp2rage/n4mag0000_PSIR_skulled_std.nii -nt /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz ]]
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25773/20191129_U-ID47278/mp2rage/n4mag0000_PSIR_skulled_std.nii -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_MPRAGE_DENOISE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_d.nii.gz
+ echo 'ASHS_MPRAGE_DENOISE = 0'
ASHS_MPRAGE_DENOISE = 0
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_d.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ rm -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_d.nii.gz
+ [[ /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25773/20191129_U-ID47278/Series_029_Highresolution_TSE_PAT2_100/n4_t2.nii -nt /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz ]]
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/images/25773/20191129_U-ID47278/Series_029_Highresolution_TSE_PAT2_100/n4_t2.nii -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_TSE_DENOISE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_d.nii.gz
+ [[ 0 == 1 ]]
+ cp /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_d.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ rm -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_d.nii.gz
+ ashs_align_t1t2 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local OVERRIDE_MAT=
+ local OVERRIDE_MODE=
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat ]]
+ export FSLOUTPUTTYPE=NIFTI_GZ
+ FSLOUTPUTTYPE=NIFTI_GZ
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz -resample 100x100x252% -region 10x10x0% 80x80x100% -type short -o /tmp/ashs.Hszx62pZ/tse_iso.nii.gz
+ [[ -n '' ]]
+ local INIT_RIGID
+ [[ -n '' ]]
+ INIT_RIGID=-ia-identity
+ greedy -d 3 -a -dof 6 -m MI -n 100x100x10 -i /tmp/ashs.Hszx62pZ/tse_iso.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz -ia-identity -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
Executing with the default number of threads: 48
*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -3131.7   GNORM= 18.076
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -3132.875      23.126       0.055
   2    3     -3137.961       6.156       1.000
   3    4     -3138.786       4.889       1.000
   4    5     -3140.146       3.469       1.000
   5    6     -3140.304       2.321       1.000
   6    7     -3140.332       1.559       1.000
   7    8     -3140.367       0.827       1.000
   8    9     -3140.370       1.039       1.000
   9   10     -3140.380       0.518       1.000
  10   12     -3140.383       0.310       0.522
  11   14     -3140.384       0.517       0.485
  12   16     -3140.385       0.481       0.381
  13   17     -3140.386       0.199       1.000
  14   19     -3140.389       0.260       5.000
  15   21     -3140.389       0.384       0.242
  16   23     -3140.389       0.218       0.517
  17   25     -3140.389       0.181       0.313
  18   26     -3140.390       0.070       1.000
  19   28     -3140.390       0.047       0.329
  20   29     -3140.390       0.123       1.000
  21   30     -3140.390       0.153       1.000
  22   31     -3140.390       0.091       1.000
  23   32     -3140.390       0.117       1.000
  24   33     -3140.390       0.108       1.000
  25   34     -3140.390       0.070       1.000
  26   35     -3140.390       0.055       1.000
  27   38     -3140.390       0.084       1.907
  28   39     -3140.390       0.071       1.000
  29   41     -3140.390       0.039       0.253
  30   42     -3140.390       0.035       1.000
  31   43     -3140.390       0.027       1.000
  32   45     -3140.390       0.033       0.143
  33   48     -3140.390       0.040       0.031
  34   49     -3140.390       0.032       1.000
  35   50     -3140.390       0.032       1.000
  36   51     -3140.390       0.031       1.000
  37   53     -3140.390       0.027       0.085
  38   54     -3140.390       0.024       1.000
  39   56     -3140.390       0.033       0.145
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.999938 -0.00819939 0.00758379 -0.031549 
0.00813196 0.999928 0.00887942 -0.57322 
-0.00765605 -0.00881719 0.999932 0.535009 
0 0 0 1 

*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2895.41   GNORM= 83.9064
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -2929.420      43.411       0.012
   2    3     -2935.703      13.088       1.000
   3    4     -2936.732      12.341       1.000
   4    5     -2944.278      18.126       1.000
   5    6     -2946.971      10.479       1.000
   6    7     -2947.354       2.406       1.000
   7    8     -2947.401       2.274       1.000
   8    9     -2947.485       1.568       1.000
   9   10     -2947.490       1.992       1.000
  10   11     -2947.510       0.586       1.000
  11   12     -2947.512       0.274       1.000
  12   14     -2947.512       0.159       0.421
  13   15     -2947.512       0.128       1.000
  14   16     -2947.512       0.139       1.000
  15   17     -2947.512       0.096       1.000
  16   18     -2947.513       0.152       1.000
  17   19     -2947.513       0.128       1.000
  18   20     -2947.513       0.063       1.000
  19   21     -2947.513       0.036       1.000
  20   23     -2947.513       0.024       0.372
  21   24     -2947.513       0.036       1.000
  22   25     -2947.513       0.019       1.000
  23   26     -2947.513       0.022       1.000
  24   29     -2947.513       0.015       1.171
  25   31     -2947.513       0.026       0.105
  26   34     -2947.513       0.015       0.064
  27   35     -2947.513       0.025       1.000
  28   36     -2947.513       0.012       1.000
  29   38     -2947.513       0.032       5.000
  30   40     -2947.513       0.023       0.180
  31   42     -2947.513       0.012       0.277
  32   43     -2947.513       0.013       1.000
  33   46     -2947.513       0.010       0.024
  34   48     -2947.513       0.008       0.326
  35   50     -2947.513       0.010       0.514
  36   52     -2947.513       0.006       0.381
  37   55     -2947.513       0.010       1.569
  38   57     -2947.513       0.005       0.320
  39   59     -2947.513       0.005       0.204
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 6 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.999719 -0.0190402 0.014154 0.344521 
0.0189472 0.999798 0.00667807 0.167529 
-0.0142783 -0.00640801 0.999878 -0.140368 
0 0 0 1 

*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -2388.32   GNORM= 133.4
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3     -2410.456      27.160       0.002
   2    4     -2411.673      10.889       1.000
   3    5     -2412.024       8.323       1.000
   4    6     -2412.506      13.431       1.000
   5    7     -2413.580      21.100       1.000
   6    8     -2416.326      32.322       1.000
   7    9     -2417.085      43.438       1.000
   8   10     -2418.899      14.505       1.000
   9   11     -2419.176       4.341       1.000
Final RAS Transform: 
0.999631 -0.0213 0.0168349 0.351107 
0.0212632 0.999771 0.00236369 0.45066 
-0.0168813 -0.00200485 0.999855 -0.565802 
0 0 0 1 

+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.25
+ local PROGRESS=0.25
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.25'
CHUNK 0 0.2 0.25
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.25
====================================
         PROGRESS: 0               
====================================
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat ]]
+ greedy -d 3 -a -dof 6 -m NCC 2x2x2 -i /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/greedy_t1_to_template_init_rigid.mat -n 400x0x0x0 -ia-image-centers -search 400 5 5
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.06327, moving = 63.157
Rigid search -> Initial best: -473.576 0 0 0 -4.8892 4.85229 33.6425
New best: -536.309 -0.0782742 0.0199108 -0.0191854 -5.02093 -0.364755 31.3667
New best: -605.815 0.0810471 0.015444 0.120831 2.51518 2.74544 35.1733
New best: -790.546 0.0215754 -0.0110612 -0.00451291 -2.95036 -0.0412223 39.4707
New best: -1090.37 0.00395457 0.154734 -0.0127856 6.23326 -2.44052 38.7644
*************************************************
  N=6   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1090.37   GNORM= 32.8448
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -1120.434      25.000       0.030
   2    3     -1160.709      26.835       1.000
   3    4     -1163.627      23.107       1.000
   4    5     -1171.007       5.380       1.000
   5    6     -1172.115       2.176       1.000
   6    7     -1172.363       1.395       1.000
   7    8     -1172.388       0.549       1.000
   8    9     -1172.392       0.460       1.000
   9   10     -1172.394       0.403       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.992694 -0.00922729 0.120305 6.52798 
0.0022898 0.998333 0.057677 -6.16931 
-0.120637 -0.0569802 0.99106 39.5278 
0 0 0 1 

Final RAS Transform: 
0.992694 -0.00922729 0.120305 6.52798 
0.0022898 0.998333 0.057677 -6.16931 
-0.120637 -0.0569802 0.99106 39.5278 
0 0 0 1 

Final RAS Transform: 
0.992694 -0.00922729 0.120305 6.52798 
0.0022898 0.998333 0.057677 -6.16931 
-0.120637 -0.0569802 0.99106 39.5278 
0 0 0 1 

Final RAS Transform: 
0.992694 -0.00922729 0.120305 6.52798 
0.0022898 0.998333 0.057677 -6.16931 
-0.120637 -0.0569802 0.99106 39.5278 
0 0 0 1 


real	1m4.145s
user	1m32.048s
sys	0m6.764s
+ greedy -d 3 -a -m NCC 2x2x2 -i /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/greedy_t1_to_template.mat -n 400x80x40x0 -ia /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/greedy_t1_to_template_init_rigid.mat
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.06327, moving = 63.157
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -1172.4   GNORM= 55.4996
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2     -1214.838      37.740       0.018
   2    3     -1258.398      38.829       1.000
   3    4     -1293.562      39.803       1.000
   4    5     -1329.120      61.461       1.000
   5    6     -1374.928      28.439       1.000
   6    7     -1383.740       9.177       1.000
   7    8     -1384.827       4.413       1.000
   8    9     -1385.369       5.005       1.000
   9   10     -1386.234       6.550       1.000
  10   11     -1387.455      11.495       1.000
  11   13     -1387.910      10.514       0.332
  12   14     -1387.976      12.759       1.000
  13   15     -1389.766       4.370       1.000
  14   17     -1389.827       2.937       0.277
  15   18     -1389.878       6.768       1.000
  16   19     -1389.946       3.800       1.000
  17   20     -1389.971       2.753       1.000
  18   22     -1389.983       1.934       0.353
  19   23     -1390.003       2.662       1.000
  20   24     -1390.032       2.634       1.000
  21   25     -1390.068       2.753       1.000
  22   26     -1390.119       3.265       1.000
  23   27     -1390.216       7.182       1.000
  24   29     -1390.248       4.708       0.341
  25   31     -1390.259       4.704       0.128
  26   32     -1390.325      35.618       1.000
  27   37     -1390.338       4.589       0.029
  28   39     -1390.342       2.029       0.346
  29   40     -1390.345       1.967       1.000
  30   41     -1390.395       2.553       1.000
  31   42     -1390.418       2.942       1.000
  32   43     -1390.436       2.880       1.000
  33   44     -1390.485       3.224       1.000
  34   46     -1390.505       2.290       0.159
  35   47     -1390.532       1.817       1.000
  36   49     -1390.547       1.334       0.366
  37   51     -1390.553       1.645       0.455
  38   52     -1390.566       1.598       1.000
  39   54     -1390.586       1.548       0.151
  40   56     -1390.587       1.753       0.178
  41   57     -1390.590       2.118       1.000
  42   59     -1390.594       1.930       0.165
  43   61     -1390.602       1.677       0.200
  44   64     -1390.608       1.303       0.125
  45   66     -1390.610       1.000       0.080
  46   76     -1390.612       0.926       0.304
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.991243 -0.0158281 0.0905903 6.45272 
0.00197999 0.940061 0.234475 -11.3384 
-0.0840103 -0.0277272 0.971766 41.0781 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -756.621   GNORM= 31.4274
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -779.303      15.141       0.032
   2    3      -786.882       5.398       1.000
   3    4      -787.752       2.775       1.000
   4    5      -788.099       2.289       1.000
   5    6      -788.452       2.239       1.000
   6    8      -788.790       1.996       0.393
   7    9      -788.838       1.594       1.000
   8   12      -788.848       1.306       0.085
   9   13      -788.892       0.907       1.000
  10   14      -788.903       0.524       1.000
  11   15      -788.905       0.915       1.000
  12   16      -788.906       0.824       1.000
  13   19      -788.913       1.059       0.577
  14   22      -788.913       1.051       0.025
  15   23      -788.916       0.912       1.000
  16   24      -788.926       1.459       1.000
  17   25      -788.926       1.787       1.000
  18   27      -788.939       0.985       0.220
  19   29      -788.946       0.992       0.144
  20   30      -788.955       1.518       1.000
  21   31      -788.966       0.797       1.000
  22   37      -788.967       0.764       0.064
  23   38      -788.972       0.768       1.000
  24   41      -788.974       0.459       0.048
  25   42      -788.976       0.619       1.000
  26   44      -788.978       0.618       0.241
  27   46      -788.985       0.805       0.516
  28   49      -788.987       0.761       0.070
  29   50      -788.989       0.802       1.000
  30   51      -788.996       0.540       1.000
  31   52      -788.999       0.513       1.000
  32   53      -789.003       0.559       1.000
  33   54      -789.008       1.403       1.000
  34   57      -789.008       1.157       0.013
  35   58      -789.010       1.038       1.000
  36   59      -789.012       0.338       1.000
  37   61      -789.012       0.395       0.475
  38   62      -789.013       0.282       1.000
  39   63      -789.013       0.260       1.000
Final RAS Transform: 
0.981601 -0.0236834 0.102954 6.38178 
-0.00266142 0.93175 0.226559 -11.5771 
-0.0798108 -0.0440181 0.976097 40.6159 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -300.879   GNORM= 6.71779
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -302.665       8.363       0.149
   2    3      -305.079       6.091       1.000
   3    4      -309.603       7.052       1.000
   4    5      -311.181       3.741       1.000
   5    6      -311.982       2.017       1.000
   6    7      -312.753       1.650       1.000
   7    9      -312.923       3.436       0.142
   8   10      -313.189       1.465       1.000
   9   11      -313.288       1.189       1.000
  10   12      -313.468       1.397       1.000
  11   13      -313.563       2.028       1.000
  12   14      -313.753       1.981       1.000
  13   15      -313.842       1.431       1.000
  14   16      -314.006       0.383       1.000
  15   17      -314.024       0.404       1.000
  16   18      -314.027       0.834       1.000
  17   19      -314.030       1.081       1.000
  18   20      -314.058       0.912       1.000
  19   21      -314.083       0.968       1.000
  20   24      -314.118       0.982       0.890
  21   25      -314.209       0.833       1.000
  22   27      -314.223       0.769       0.246
  23   30      -314.226       0.498       0.042
  24   32      -314.237       0.508       0.394
  25   33      -314.251       0.383       1.000
  26   34      -314.257       0.488       1.000
  27   35      -314.269       0.246       1.000
  28   37      -314.269       0.424       0.118
  29   38      -314.270       0.320       1.000
  30   39      -314.270       0.703       1.000
  31   40      -314.272       0.352       1.000
  32   41      -314.273       0.296       1.000
Final RAS Transform: 
0.976278 -0.0262354 0.0999736 6.1474 
-0.00217165 0.918455 0.230175 -11.6776 
-0.083768 -0.0626734 0.95707 41.0733 
0 0 0 1 

Final RAS Transform: 
0.976278 -0.0262354 0.0999736 6.1474 
-0.00217165 0.918455 0.230175 -11.6776 
-0.083768 -0.0626734 0.95707 41.0733 
0 0 0 1 


real	2m54.183s
user	5m10.936s
sys	0m7.472s
+ greedy -d 3 -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/greedy_t1_to_template.mat -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/test_greedy_affine.nii.gz
Executing with the default number of threads: 48
+ cp -a /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/greedy_t1_to_template.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ ln -sf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/test_greedy_affine.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.nii.gz
+ c3d_affine_tool /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat -inv -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.5
+ local PROGRESS=0.5
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.5'
CHUNK 0 0.2 0.5
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.5
====================================
         PROGRESS: 0               
====================================
+ [[ -n '' ]]
+ greedy -d 3 -m NCC 2x2x2 -e 0.5 -n 60x60x20x0 -i /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz -oinv /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz -gm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template_bet_mask.nii.gz
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 1.06327, moving = 51.504
LEVEL 1 of 4
  Smoothing sigmas: [8.29941, 8.21751, 8.31298], [3.38822, 3.35478, 3.39376]
Level     0,  Iter     0:    Energy =  -0.0002
Level     0,  Iter     1:    Energy =   0.0009
Level     0,  Iter     2:    Energy =   0.0029
Level     0,  Iter     3:    Energy =   0.0050
Level     0,  Iter     4:    Energy =   0.0070
Level     0,  Iter     5:    Energy =   0.0090
Level     0,  Iter     6:    Energy =   0.0111
Level     0,  Iter     7:    Energy =   0.0130
Level     0,  Iter     8:    Energy =   0.0147
Level     0,  Iter     9:    Energy =   0.0162
Level     0,  Iter    10:    Energy =   0.0178
Level     0,  Iter    11:    Energy =   0.0194
Level     0,  Iter    12:    Energy =   0.0209
Level     0,  Iter    13:    Energy =   0.0223
Level     0,  Iter    14:    Energy =   0.0234
Level     0,  Iter    15:    Energy =   0.0243
Level     0,  Iter    16:    Energy =   0.0254
Level     0,  Iter    17:    Energy =   0.0266
Level     0,  Iter    18:    Energy =   0.0278
Level     0,  Iter    19:    Energy =   0.0290
Level     0,  Iter    20:    Energy =   0.0300
Level     0,  Iter    21:    Energy =   0.0307
Level     0,  Iter    22:    Energy =   0.0316
Level     0,  Iter    23:    Energy =   0.0322
Level     0,  Iter    24:    Energy =   0.0327
Level     0,  Iter    25:    Energy =   0.0333
Level     0,  Iter    26:    Energy =   0.0337
Level     0,  Iter    27:    Energy =   0.0342
Level     0,  Iter    28:    Energy =   0.0346
Level     0,  Iter    29:    Energy =   0.0351
Level     0,  Iter    30:    Energy =   0.0358
Level     0,  Iter    31:    Energy =   0.0366
Level     0,  Iter    32:    Energy =   0.0371
Level     0,  Iter    33:    Energy =   0.0378
Level     0,  Iter    34:    Energy =   0.0386
Level     0,  Iter    35:    Energy =   0.0393
Level     0,  Iter    36:    Energy =   0.0397
Level     0,  Iter    37:    Energy =   0.0402
Level     0,  Iter    38:    Energy =   0.0408
Level     0,  Iter    39:    Energy =   0.0412
Level     0,  Iter    40:    Energy =   0.0414
Level     0,  Iter    41:    Energy =   0.0419
Level     0,  Iter    42:    Energy =   0.0421
Level     0,  Iter    43:    Energy =   0.0425
Level     0,  Iter    44:    Energy =   0.0428
Level     0,  Iter    45:    Energy =   0.0431
Level     0,  Iter    46:    Energy =   0.0435
Level     0,  Iter    47:    Energy =   0.0437
Level     0,  Iter    48:    Energy =   0.0440
Level     0,  Iter    49:    Energy =   0.0443
Level     0,  Iter    50:    Energy =   0.0447
Level     0,  Iter    51:    Energy =   0.0449
Level     0,  Iter    52:    Energy =   0.0452
Level     0,  Iter    53:    Energy =   0.0453
Level     0,  Iter    54:    Energy =   0.0456
Level     0,  Iter    55:    Energy =   0.0458
Level     0,  Iter    56:    Energy =   0.0461
Level     0,  Iter    57:    Energy =   0.0462
Level     0,  Iter    58:    Energy =   0.0464
Level     0,  Iter    59:    Energy =   0.0466
END OF LEVEL     0    DetJac Range:   0.0306  to   2.0267 
  Avg. Gradient Time  : 0.0180s  35.82% 
  Avg. Gaussian Time  : 0.0238s  47.36% 
  Avg. Iteration Time : 0.0502s 
LEVEL 2 of 4
  Smoothing sigmas: [4.1497, 4.10875, 4.15649], [1.69411, 1.67739, 1.69688]
Level     1,  Iter     0:    Energy =   0.0191
Level     1,  Iter     1:    Energy =   0.0210
Level     1,  Iter     2:    Energy =   0.0225
Level     1,  Iter     3:    Energy =   0.0238
Level     1,  Iter     4:    Energy =   0.0247
Level     1,  Iter     5:    Energy =   0.0256
Level     1,  Iter     6:    Energy =   0.0264
Level     1,  Iter     7:    Energy =   0.0272
Level     1,  Iter     8:    Energy =   0.0278
Level     1,  Iter     9:    Energy =   0.0284
Level     1,  Iter    10:    Energy =   0.0289
Level     1,  Iter    11:    Energy =   0.0296
Level     1,  Iter    12:    Energy =   0.0301
Level     1,  Iter    13:    Energy =   0.0306
Level     1,  Iter    14:    Energy =   0.0308
Level     1,  Iter    15:    Energy =   0.0312
Level     1,  Iter    16:    Energy =   0.0317
Level     1,  Iter    17:    Energy =   0.0320
Level     1,  Iter    18:    Energy =   0.0324
Level     1,  Iter    19:    Energy =   0.0327
Level     1,  Iter    20:    Energy =   0.0330
Level     1,  Iter    21:    Energy =   0.0333
Level     1,  Iter    22:    Energy =   0.0336
Level     1,  Iter    23:    Energy =   0.0338
Level     1,  Iter    24:    Energy =   0.0341
Level     1,  Iter    25:    Energy =   0.0344
Level     1,  Iter    26:    Energy =   0.0347
Level     1,  Iter    27:    Energy =   0.0349
Level     1,  Iter    28:    Energy =   0.0351
Level     1,  Iter    29:    Energy =   0.0352
Level     1,  Iter    30:    Energy =   0.0353
Level     1,  Iter    31:    Energy =   0.0353
Level     1,  Iter    32:    Energy =   0.0352
Level     1,  Iter    33:    Energy =   0.0353
Level     1,  Iter    34:    Energy =   0.0352
Level     1,  Iter    35:    Energy =   0.0351
Level     1,  Iter    36:    Energy =   0.0352
Level     1,  Iter    37:    Energy =   0.0352
Level     1,  Iter    38:    Energy =   0.0352
Level     1,  Iter    39:    Energy =   0.0354
Level     1,  Iter    40:    Energy =   0.0354
Level     1,  Iter    41:    Energy =   0.0355
Level     1,  Iter    42:    Energy =   0.0356
Level     1,  Iter    43:    Energy =   0.0357
Level     1,  Iter    44:    Energy =   0.0358
Level     1,  Iter    45:    Energy =   0.0359
Level     1,  Iter    46:    Energy =   0.0361
Level     1,  Iter    47:    Energy =   0.0362
Level     1,  Iter    48:    Energy =   0.0364
Level     1,  Iter    49:    Energy =   0.0365
Level     1,  Iter    50:    Energy =   0.0368
Level     1,  Iter    51:    Energy =   0.0370
Level     1,  Iter    52:    Energy =   0.0372
Level     1,  Iter    53:    Energy =   0.0374
Level     1,  Iter    54:    Energy =   0.0376
Level     1,  Iter    55:    Energy =   0.0377
Level     1,  Iter    56:    Energy =   0.0378
Level     1,  Iter    57:    Energy =   0.0379
Level     1,  Iter    58:    Energy =   0.0380
Level     1,  Iter    59:    Energy =   0.0381
END OF LEVEL     1    DetJac Range:   0.0294  to   2.1007 
  Avg. Gradient Time  : 0.0966s  38.76% 
  Avg. Gaussian Time  : 0.1212s  48.63% 
  Avg. Iteration Time : 0.2491s 
LEVEL 3 of 4
  Smoothing sigmas: [2.07485, 2.06798, 2.07824], [0.847055, 0.84425, 0.84844]
Level     2,  Iter     0:    Energy =   0.0184
Level     2,  Iter     1:    Energy =   0.0199
Level     2,  Iter     2:    Energy =   0.0211
Level     2,  Iter     3:    Energy =   0.0222
Level     2,  Iter     4:    Energy =   0.0233
Level     2,  Iter     5:    Energy =   0.0241
Level     2,  Iter     6:    Energy =   0.0249
Level     2,  Iter     7:    Energy =   0.0256
Level     2,  Iter     8:    Energy =   0.0261
Level     2,  Iter     9:    Energy =   0.0267
Level     2,  Iter    10:    Energy =   0.0273
Level     2,  Iter    11:    Energy =   0.0278
Level     2,  Iter    12:    Energy =   0.0284
Level     2,  Iter    13:    Energy =   0.0288
Level     2,  Iter    14:    Energy =   0.0293
Level     2,  Iter    15:    Energy =   0.0296
Level     2,  Iter    16:    Energy =   0.0299
Level     2,  Iter    17:    Energy =   0.0302
Level     2,  Iter    18:    Energy =   0.0305
Level     2,  Iter    19:    Energy =   0.0308
END OF LEVEL     2    DetJac Range:   0.0130  to   2.8893 
  Avg. Gradient Time  : 0.6902s  37.17% 
  Avg. Gaussian Time  : 0.9760s  52.56% 
  Avg. Iteration Time : 1.8571s 
LEVEL 4 of 4
  Smoothing sigmas: [1.03743, 1.03743, 1.03912], [0.423527, 0.423527, 0.42422]

real	4m16.621s
user	7m17.144s
sys	0m18.228s
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ [[ 0 == 1 ]]
+ job_progress 0.9
+ local PROGRESS=0.9
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 0.9'
CHUNK 0 0.2 0.9
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 0.9
====================================
         PROGRESS: 0               
====================================
+ greedy -d 3 -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/reslice_mprage_to_template.nii.gz -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
Executing with the default number of threads: 48
+ greedy -d 3 -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/reslice_tse_to_template.nii.gz -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/template.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
Executing with the default number of threads: 48
+ ashs_reslice_to_template /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 /home/ccn30/ENCRYPT/atlases/magdeburgatlas
+ local ASHS_WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local ATLAS=/home/ccn30/ENCRYPT/atlases/magdeburgatlas
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ local side
+ for side in '$SIDES'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz
+ [[ -n '' ]]
+ REFSPACE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_left.nii.gz
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_left.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
Executing with the default number of threads: 48
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_left.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
Executing with the default number of threads: 48
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz -verbose -pim r -thresh 0.001% inf 1 0 -erode 0 4x4x4 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_left.nii.gz -times -type uchar -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz
Intensity range spec 1e-05 maps to 0.01129
Thresholding #1
  Mapping range [0.01129, inf] to 1
  Values outside are mapped to 0
Applying erosion to #1
  Foreground value :    0
  Ball radius      :    [4, 4, 4]
Reading #2 from /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_left.nii.gz
Adding #1 and 0
Writing #1 to file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz
  Output voxel type: uchar[h]
  Rounding off: Enabled
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz /tmp/ashs.Hszx62pZ/natmask.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
Executing with the default number of threads: 48
+ c3d /tmp/ashs.Hszx62pZ/natmask.nii.gz -thresh 0.5 inf 1 0 -trim 0x0x2vox /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz -reslice-identity -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/seg_left.nii.gz ]]
+ for side in '$SIDES'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz
+ [[ -n '' ]]
+ REFSPACE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_right.nii.gz
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_right.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
Executing with the default number of threads: 48
+ greedy -d 3 -rf /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_right.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_right.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
Executing with the default number of threads: 48
+ c3d /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz -verbose -pim r -thresh 0.001% inf 1 0 -erode 0 4x4x4 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_right.nii.gz -times -type uchar -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz
Intensity range spec 1e-05 maps to 0.012
Thresholding #1
  Mapping range [0.012, inf] to 1
  Values outside are mapped to 0
Applying erosion to #1
  Foreground value :    0
  Ball radius      :    [4, 4, 4]
Reading #2 from /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_right.nii.gz
Adding #1 and 0
Writing #1 to file /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz
  Output voxel type: uchar[h]
  Rounding off: Enabled
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz -rm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz /tmp/ashs.Hszx62pZ/natmask.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
Executing with the default number of threads: 48
+ c3d /tmp/ashs.Hszx62pZ/natmask.nii.gz -thresh 0.5 inf 1 0 -trim 0x0x2vox /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz -reslice-identity -type short -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz
+ [[ -f /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/seg_right.nii.gz ]]
+ [[ -f '' ]]
+ [[ -n '' ]]
+ for side in '$SIDES'
+ ashs_registration_qc left
+ local side=left
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz
+ local TEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_left.nii.gz
+ local TEMPSEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_left.nii.gz
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_left.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.Hszx62pZ/cor_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.Hszx62pZ/cor_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.Hszx62pZ/cor_tse_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_left.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.Hszx62pZ/sag_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.Hszx62pZ/sag_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.Hszx62pZ/sag_tse_%02d.png
++ ls /tmp/ashs.Hszx62pZ/cor_mprage_00.png /tmp/ashs.Hszx62pZ/cor_mprage_01.png /tmp/ashs.Hszx62pZ/cor_mprage_02.png /tmp/ashs.Hszx62pZ/cor_mprage_03.png /tmp/ashs.Hszx62pZ/cor_mprage_04.png /tmp/ashs.Hszx62pZ/cor_temp_00.png /tmp/ashs.Hszx62pZ/cor_temp_01.png /tmp/ashs.Hszx62pZ/cor_temp_02.png /tmp/ashs.Hszx62pZ/cor_temp_03.png /tmp/ashs.Hszx62pZ/cor_temp_04.png /tmp/ashs.Hszx62pZ/cor_tse_00.png /tmp/ashs.Hszx62pZ/cor_tse_01.png /tmp/ashs.Hszx62pZ/cor_tse_02.png /tmp/ashs.Hszx62pZ/cor_tse_03.png /tmp/ashs.Hszx62pZ/cor_tse_04.png /tmp/ashs.Hszx62pZ/sag_mprage_00.png /tmp/ashs.Hszx62pZ/sag_mprage_01.png /tmp/ashs.Hszx62pZ/sag_temp_00.png /tmp/ashs.Hszx62pZ/sag_temp_01.png /tmp/ashs.Hszx62pZ/sag_tse_00.png /tmp/ashs.Hszx62pZ/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/cor_mprage_00.png /tmp/ashs.Hszx62pZ/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/cor_mprage_01.png /tmp/ashs.Hszx62pZ/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/cor_mprage_02.png /tmp/ashs.Hszx62pZ/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/cor_mprage_03.png /tmp/ashs.Hszx62pZ/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/cor_mprage_04.png /tmp/ashs.Hszx62pZ/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/cor_temp_00.png /tmp/ashs.Hszx62pZ/cor_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/cor_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/cor_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/cor_temp_01.png /tmp/ashs.Hszx62pZ/cor_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/cor_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/cor_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/cor_temp_02.png /tmp/ashs.Hszx62pZ/cor_temp_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/cor_temp_02.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/cor_temp_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/cor_temp_03.png /tmp/ashs.Hszx62pZ/cor_temp_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/cor_temp_03.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/cor_temp_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/cor_temp_04.png /tmp/ashs.Hszx62pZ/cor_temp_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/cor_temp_04.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/cor_temp_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/cor_tse_00.png /tmp/ashs.Hszx62pZ/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/cor_tse_01.png /tmp/ashs.Hszx62pZ/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/cor_tse_02.png /tmp/ashs.Hszx62pZ/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/cor_tse_03.png /tmp/ashs.Hszx62pZ/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/cor_tse_04.png /tmp/ashs.Hszx62pZ/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/sag_mprage_00.png /tmp/ashs.Hszx62pZ/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/sag_mprage_01.png /tmp/ashs.Hszx62pZ/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/sag_temp_00.png /tmp/ashs.Hszx62pZ/sag_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/sag_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/sag_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/sag_temp_01.png /tmp/ashs.Hszx62pZ/sag_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/sag_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/sag_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/sag_tse_00.png /tmp/ashs.Hszx62pZ/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/sag_tse_01.png /tmp/ashs.Hszx62pZ/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.Hszx62pZ/cor_temp_00.png /tmp/ashs.Hszx62pZ/cor_temp_01.png /tmp/ashs.Hszx62pZ/cor_temp_02.png /tmp/ashs.Hszx62pZ/cor_temp_03.png /tmp/ashs.Hszx62pZ/cor_temp_04.png /tmp/ashs.Hszx62pZ/sag_temp_00.png /tmp/ashs.Hszx62pZ/sag_temp_01.png /tmp/ashs.Hszx62pZ/cor_mprage_00.png /tmp/ashs.Hszx62pZ/cor_mprage_01.png /tmp/ashs.Hszx62pZ/cor_mprage_02.png /tmp/ashs.Hszx62pZ/cor_mprage_03.png /tmp/ashs.Hszx62pZ/cor_mprage_04.png /tmp/ashs.Hszx62pZ/sag_mprage_00.png /tmp/ashs.Hszx62pZ/sag_mprage_01.png /tmp/ashs.Hszx62pZ/cor_tse_00.png /tmp/ashs.Hszx62pZ/cor_tse_01.png /tmp/ashs.Hszx62pZ/cor_tse_02.png /tmp/ashs.Hszx62pZ/cor_tse_03.png /tmp/ashs.Hszx62pZ/cor_tse_04.png /tmp/ashs.Hszx62pZ/sag_tse_00.png /tmp/ashs.Hszx62pZ/sag_tse_01.png /tmp/ashs.Hszx62pZ/qa.png
+ convert /tmp/ashs.Hszx62pZ/qa.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/qa
+ montage -label 25773:left /tmp/ashs.Hszx62pZ/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/qa/qa_registration_left_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Registration QC (left)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/qa/qa_registration_left_qa.png
+ for side in '$SIDES'
+ ashs_registration_qc right
+ local side=right
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz
+ local TEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_right.nii.gz
+ local TEMPSEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_right.nii.gz
+ local SLICESPEC=16.6%:16.6%:88%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_right.nii.gz -swapdim RSA -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.Hszx62pZ/cor_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.Hszx62pZ/cor_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 16.6%:16.6%:88% -oo /tmp/ashs.Hszx62pZ/cor_tse_%02d.png
+ SLICESPEC=33%:33%:84%
+ c3d -type uchar -int 0 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_meanseg_right.nii.gz -swapdim ASR -trim 40x40x0mm -resample-iso min -as SS -int 1 /home/ccn30/ENCRYPT/atlases/magdeburgatlas/template/refspace_mprage_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.Hszx62pZ/sag_temp_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.Hszx62pZ/sag_mprage_%02d.png -clear -push SS /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz -stretch 0 99.5% 0 255 -clip 0 255 -reslice-identity -slice z 33%:33%:84% -oo /tmp/ashs.Hszx62pZ/sag_tse_%02d.png
++ ls /tmp/ashs.Hszx62pZ/cor_mprage_00.png /tmp/ashs.Hszx62pZ/cor_mprage_01.png /tmp/ashs.Hszx62pZ/cor_mprage_02.png /tmp/ashs.Hszx62pZ/cor_mprage_03.png /tmp/ashs.Hszx62pZ/cor_mprage_04.png /tmp/ashs.Hszx62pZ/cor_temp_00.png /tmp/ashs.Hszx62pZ/cor_temp_01.png /tmp/ashs.Hszx62pZ/cor_temp_02.png /tmp/ashs.Hszx62pZ/cor_temp_03.png /tmp/ashs.Hszx62pZ/cor_temp_04.png /tmp/ashs.Hszx62pZ/cor_tse_00.png /tmp/ashs.Hszx62pZ/cor_tse_01.png /tmp/ashs.Hszx62pZ/cor_tse_02.png /tmp/ashs.Hszx62pZ/cor_tse_03.png /tmp/ashs.Hszx62pZ/cor_tse_04.png /tmp/ashs.Hszx62pZ/sag_mprage_00.png /tmp/ashs.Hszx62pZ/sag_mprage_01.png /tmp/ashs.Hszx62pZ/sag_temp_00.png /tmp/ashs.Hszx62pZ/sag_temp_01.png /tmp/ashs.Hszx62pZ/sag_tse_00.png /tmp/ashs.Hszx62pZ/sag_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/cor_mprage_00.png /tmp/ashs.Hszx62pZ/cor_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/cor_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/cor_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/cor_mprage_01.png /tmp/ashs.Hszx62pZ/cor_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/cor_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/cor_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/cor_mprage_02.png /tmp/ashs.Hszx62pZ/cor_mprage_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/cor_mprage_02.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/cor_mprage_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/cor_mprage_03.png /tmp/ashs.Hszx62pZ/cor_mprage_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/cor_mprage_03.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/cor_mprage_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/cor_mprage_04.png /tmp/ashs.Hszx62pZ/cor_mprage_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/cor_mprage_04.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/cor_mprage_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/cor_temp_00.png /tmp/ashs.Hszx62pZ/cor_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/cor_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/cor_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/cor_temp_01.png /tmp/ashs.Hszx62pZ/cor_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/cor_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/cor_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/cor_temp_02.png /tmp/ashs.Hszx62pZ/cor_temp_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/cor_temp_02.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/cor_temp_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/cor_temp_03.png /tmp/ashs.Hszx62pZ/cor_temp_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/cor_temp_03.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/cor_temp_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/cor_temp_04.png /tmp/ashs.Hszx62pZ/cor_temp_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/cor_temp_04.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/cor_temp_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/cor_tse_00.png /tmp/ashs.Hszx62pZ/cor_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/cor_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/cor_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/cor_tse_01.png /tmp/ashs.Hszx62pZ/cor_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/cor_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/cor_tse_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/cor_tse_02.png /tmp/ashs.Hszx62pZ/cor_tse_02.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/cor_tse_02.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/cor_tse_02.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/cor_tse_03.png /tmp/ashs.Hszx62pZ/cor_tse_03.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/cor_tse_03.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/cor_tse_03.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/cor_tse_04.png /tmp/ashs.Hszx62pZ/cor_tse_04.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/cor_tse_04.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/cor_tse_04.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/sag_mprage_00.png /tmp/ashs.Hszx62pZ/sag_mprage_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/sag_mprage_00.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/sag_mprage_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/sag_mprage_01.png /tmp/ashs.Hszx62pZ/sag_mprage_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/sag_mprage_01.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/sag_mprage_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/sag_temp_00.png /tmp/ashs.Hszx62pZ/sag_temp_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/sag_temp_00.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/sag_temp_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/sag_temp_01.png /tmp/ashs.Hszx62pZ/sag_temp_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/sag_temp_01.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/sag_temp_01.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/sag_tse_00.png /tmp/ashs.Hszx62pZ/sag_tse_00.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/sag_tse_00.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/sag_tse_00.png
+ for MYPNG in '$(ls $TMPDIR/cor_*.png $TMPDIR/sag_*.png)'
+ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh -o 0.25 -s 25 -c white /tmp/ashs.Hszx62pZ/sag_tse_01.png /tmp/ashs.Hszx62pZ/sag_tse_01.png
Missing parameters. 
Usage: 
bc inputImageFile inputSegmentationFile side PathToTrainingFiles outputSegmentationFile
side = 0 (left side) or else (right side)
/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_grid.sh: line 158: [: -eq: unary operator expected
+ convert /tmp/ashs.Hszx62pZ/sag_tse_01.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/sag_tse_01.png
+ montage -tile 7x -geometry +5+5 -mode Concatenate /tmp/ashs.Hszx62pZ/cor_temp_00.png /tmp/ashs.Hszx62pZ/cor_temp_01.png /tmp/ashs.Hszx62pZ/cor_temp_02.png /tmp/ashs.Hszx62pZ/cor_temp_03.png /tmp/ashs.Hszx62pZ/cor_temp_04.png /tmp/ashs.Hszx62pZ/sag_temp_00.png /tmp/ashs.Hszx62pZ/sag_temp_01.png /tmp/ashs.Hszx62pZ/cor_mprage_00.png /tmp/ashs.Hszx62pZ/cor_mprage_01.png /tmp/ashs.Hszx62pZ/cor_mprage_02.png /tmp/ashs.Hszx62pZ/cor_mprage_03.png /tmp/ashs.Hszx62pZ/cor_mprage_04.png /tmp/ashs.Hszx62pZ/sag_mprage_00.png /tmp/ashs.Hszx62pZ/sag_mprage_01.png /tmp/ashs.Hszx62pZ/cor_tse_00.png /tmp/ashs.Hszx62pZ/cor_tse_01.png /tmp/ashs.Hszx62pZ/cor_tse_02.png /tmp/ashs.Hszx62pZ/cor_tse_03.png /tmp/ashs.Hszx62pZ/cor_tse_04.png /tmp/ashs.Hszx62pZ/sag_tse_00.png /tmp/ashs.Hszx62pZ/sag_tse_01.png /tmp/ashs.Hszx62pZ/qa.png
+ convert /tmp/ashs.Hszx62pZ/qa.png -bordercolor Black -border 1x1 /tmp/ashs.Hszx62pZ/qa.png
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/qa
+ montage -label 25773:right /tmp/ashs.Hszx62pZ/qa.png -geometry +1+1 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/qa/qa_registration_right_qa.png
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh attach 'Registration QC (right)' /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/qa/qa_registration_right_qa.png
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.0 0.2'
CHUNK 0.0 0.2
+ echo 1
+ awk -v bs=0.0 -v be=0.2 -v j=0 -v n=1 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0 0.2
+ echo 'CHUNK 0 0.2 1'
CHUNK 0 0.2 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0 0.2 1
====================================
         PROGRESS: 0               
====================================
[0;36m
-------------------  INFO  ---------------------
Validity check at end of stage 1 successful
------------------------------------------------
[0m
****************************************
Starting stage 2: Initial ROI registration to all T2 atlases
****************************************
[0;36m
-------------------  INFO  ---------------------
Started stage 2: Initial ROI registration to 
all T2 atlases
------------------------------------------------
[0m
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=000
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 000
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train000
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train000
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left 000 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train000 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=left
+ local tid=000
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train000
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 000 left 0
+ local tid=000
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 000 0
+ set -e
+ local tid=000
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.544
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 469.686   GNORM= 113.263
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       370.438     107.521       0.009
   2    4        -0.002       0.000       5.000
 THE MINIMIZATION TERMINATED WITHOUT DETECTING ERRORS.
Final RAS Transform: 
1.11005 -0.0172993 0.0877166 -2.41625 
-0.15577 1.21102 -0.28839 8.10203 
0.0110202 -0.200498 0.841172 -4.34949 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -80.3376   GNORM= 292.716
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.11005 -0.0172991 0.0877164 -2.41623 
-0.15577 1.21103 -0.288391 8.10208 
0.0110199 -0.200498 0.841172 -4.34946 
0 0 0 1 

Final RAS Transform: 
1.11005 -0.0172991 0.0877164 -2.41623 
-0.15577 1.21103 -0.288391 8.10208 
0.0110199 -0.200498 0.841172 -4.34946 
0 0 0 1 


real	0m2.967s
user	0m4.564s
sys	0m0.320s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.390055
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0056
Level     0,  Iter     1:    Energy =   0.0071
Level     0,  Iter     2:    Energy =   0.0098
Level     0,  Iter     3:    Energy =   0.0123
Level     0,  Iter     4:    Energy =   0.0147
Level     0,  Iter     5:    Energy =   0.0169
Level     0,  Iter     6:    Energy =   0.0190
Level     0,  Iter     7:    Energy =   0.0205
Level     0,  Iter     8:    Energy =   0.0217
Level     0,  Iter     9:    Energy =   0.0227
Level     0,  Iter    10:    Energy =   0.0238
Level     0,  Iter    11:    Energy =   0.0248
Level     0,  Iter    12:    Energy =   0.0257
Level     0,  Iter    13:    Energy =   0.0267
Level     0,  Iter    14:    Energy =   0.0278
Level     0,  Iter    15:    Energy =   0.0291
Level     0,  Iter    16:    Energy =   0.0302
Level     0,  Iter    17:    Energy =   0.0313
Level     0,  Iter    18:    Energy =   0.0322
Level     0,  Iter    19:    Energy =   0.0329
Level     0,  Iter    20:    Energy =   0.0336
Level     0,  Iter    21:    Energy =   0.0342
Level     0,  Iter    22:    Energy =   0.0348
Level     0,  Iter    23:    Energy =   0.0353
Level     0,  Iter    24:    Energy =   0.0358
Level     0,  Iter    25:    Energy =   0.0363
Level     0,  Iter    26:    Energy =   0.0368
Level     0,  Iter    27:    Energy =   0.0374
Level     0,  Iter    28:    Energy =   0.0379
Level     0,  Iter    29:    Energy =   0.0384
Level     0,  Iter    30:    Energy =   0.0389
Level     0,  Iter    31:    Energy =   0.0393
Level     0,  Iter    32:    Energy =   0.0397
Level     0,  Iter    33:    Energy =   0.0400
Level     0,  Iter    34:    Energy =   0.0405
Level     0,  Iter    35:    Energy =   0.0408
Level     0,  Iter    36:    Energy =   0.0412
Level     0,  Iter    37:    Energy =   0.0416
Level     0,  Iter    38:    Energy =   0.0419
Level     0,  Iter    39:    Energy =   0.0421
Level     0,  Iter    40:    Energy =   0.0424
Level     0,  Iter    41:    Energy =   0.0427
Level     0,  Iter    42:    Energy =   0.0429
Level     0,  Iter    43:    Energy =   0.0430
Level     0,  Iter    44:    Energy =   0.0432
Level     0,  Iter    45:    Energy =   0.0434
Level     0,  Iter    46:    Energy =   0.0434
Level     0,  Iter    47:    Energy =   0.0436
Level     0,  Iter    48:    Energy =   0.0436
Level     0,  Iter    49:    Energy =   0.0437
Level     0,  Iter    50:    Energy =   0.0438
Level     0,  Iter    51:    Energy =   0.0439
Level     0,  Iter    52:    Energy =   0.0440
Level     0,  Iter    53:    Energy =   0.0441
Level     0,  Iter    54:    Energy =   0.0441
Level     0,  Iter    55:    Energy =   0.0442
Level     0,  Iter    56:    Energy =   0.0443
Level     0,  Iter    57:    Energy =   0.0444
Level     0,  Iter    58:    Energy =   0.0444
Level     0,  Iter    59:    Energy =   0.0445
END OF LEVEL     0    DetJac Range:   0.0904  to   2.3558 
  Avg. Gradient Time  : 0.0074s  32.82% 
  Avg. Gaussian Time  : 0.0109s  48.33% 
  Avg. Iteration Time : 0.0225s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0240
Level     1,  Iter     1:    Energy =   0.0255
Level     1,  Iter     2:    Energy =   0.0268
Level     1,  Iter     3:    Energy =   0.0278
Level     1,  Iter     4:    Energy =   0.0287
Level     1,  Iter     5:    Energy =   0.0293
Level     1,  Iter     6:    Energy =   0.0299
Level     1,  Iter     7:    Energy =   0.0304
Level     1,  Iter     8:    Energy =   0.0307
Level     1,  Iter     9:    Energy =   0.0311
Level     1,  Iter    10:    Energy =   0.0314
Level     1,  Iter    11:    Energy =   0.0317
Level     1,  Iter    12:    Energy =   0.0320
Level     1,  Iter    13:    Energy =   0.0324
Level     1,  Iter    14:    Energy =   0.0326
Level     1,  Iter    15:    Energy =   0.0329
Level     1,  Iter    16:    Energy =   0.0332
Level     1,  Iter    17:    Energy =   0.0334
Level     1,  Iter    18:    Energy =   0.0335
Level     1,  Iter    19:    Energy =   0.0337
Level     1,  Iter    20:    Energy =   0.0339
Level     1,  Iter    21:    Energy =   0.0341
Level     1,  Iter    22:    Energy =   0.0343
Level     1,  Iter    23:    Energy =   0.0345
Level     1,  Iter    24:    Energy =   0.0346
Level     1,  Iter    25:    Energy =   0.0347
Level     1,  Iter    26:    Energy =   0.0349
Level     1,  Iter    27:    Energy =   0.0351
Level     1,  Iter    28:    Energy =   0.0352
Level     1,  Iter    29:    Energy =   0.0353
Level     1,  Iter    30:    Energy =   0.0355
Level     1,  Iter    31:    Energy =   0.0356
Level     1,  Iter    32:    Energy =   0.0357
Level     1,  Iter    33:    Energy =   0.0358
Level     1,  Iter    34:    Energy =   0.0359
Level     1,  Iter    35:    Energy =   0.0360
Level     1,  Iter    36:    Energy =   0.0360
Level     1,  Iter    37:    Energy =   0.0361
Level     1,  Iter    38:    Energy =   0.0362
Level     1,  Iter    39:    Energy =   0.0363
Level     1,  Iter    40:    Energy =   0.0364
Level     1,  Iter    41:    Energy =   0.0364
Level     1,  Iter    42:    Energy =   0.0365
Level     1,  Iter    43:    Energy =   0.0366
Level     1,  Iter    44:    Energy =   0.0367
Level     1,  Iter    45:    Energy =   0.0367
Level     1,  Iter    46:    Energy =   0.0368
Level     1,  Iter    47:    Energy =   0.0369
Level     1,  Iter    48:    Energy =   0.0370
Level     1,  Iter    49:    Energy =   0.0371
Level     1,  Iter    50:    Energy =   0.0371
Level     1,  Iter    51:    Energy =   0.0372
Level     1,  Iter    52:    Energy =   0.0373
Level     1,  Iter    53:    Energy =   0.0374
Level     1,  Iter    54:    Energy =   0.0374
Level     1,  Iter    55:    Energy =   0.0375
Level     1,  Iter    56:    Energy =   0.0376
Level     1,  Iter    57:    Energy =   0.0377
Level     1,  Iter    58:    Energy =   0.0376
Level     1,  Iter    59:    Energy =   0.0376
END OF LEVEL     1    DetJac Range:   0.0441  to   5.2225 
  Avg. Gradient Time  : 0.0297s  33.63% 
  Avg. Gaussian Time  : 0.0462s  52.32% 
  Avg. Iteration Time : 0.0882s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0159
Level     2,  Iter     1:    Energy =   0.0166
Level     2,  Iter     2:    Energy =   0.0173
Level     2,  Iter     3:    Energy =   0.0179
Level     2,  Iter     4:    Energy =   0.0184
Level     2,  Iter     5:    Energy =   0.0185
Level     2,  Iter     6:    Energy =   0.0188
Level     2,  Iter     7:    Energy =   0.0190
Level     2,  Iter     8:    Energy =   0.0193
Level     2,  Iter     9:    Energy =   0.0196
Level     2,  Iter    10:    Energy =   0.0196
Level     2,  Iter    11:    Energy =   0.0199
Level     2,  Iter    12:    Energy =   0.0202
Level     2,  Iter    13:    Energy =   0.0204
Level     2,  Iter    14:    Energy =   0.0206
Level     2,  Iter    15:    Energy =   0.0208
Level     2,  Iter    16:    Energy =   0.0209
Level     2,  Iter    17:    Energy =   0.0211
Level     2,  Iter    18:    Energy =   0.0212
Level     2,  Iter    19:    Energy =   0.0214
END OF LEVEL     2    DetJac Range:   0.0392  to   3.9296 
  Avg. Gradient Time  : 0.1876s  32.50% 
  Avg. Gaussian Time  : 0.3122s  54.09% 
  Avg. Iteration Time : 0.5771s 

real	0m20.976s
user	0m35.756s
sys	0m2.836s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train000/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train000/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train000/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train000/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=0 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=0 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.2 0.204286
+ echo 'CHUNK 0.2 0.204286 1'
CHUNK 0.2 0.204286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.2 0.204286 1
====================================
         PROGRESS: 0.2               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=001
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 001
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train001
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train001
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left 001 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train001 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=left
+ local tid=001
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train001
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 001 left 0
+ local tid=001
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 001 0
+ set -e
+ local tid=001
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.587
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 482.64   GNORM= 125.579
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3       -65.300      53.261       0.040
   2    6      -426.739      44.416       2.256
   3    7      -527.908      50.605       1.000
   4   10      -545.611      38.794       0.141
   5   11      -557.781      35.887       1.000
   6   13      -558.091      29.064       0.133
   7   17      -619.068      56.744       3.574
   8   22      -619.956      52.408       0.061
   9   25      -621.985      42.964       1.799
  10   28      -631.974      29.089       0.667
  11   29      -639.281      33.013       1.000
  12   31      -678.989      34.158       5.000
  13   34      -692.537     441.735       0.167
  14   38      -693.474      58.077       0.019
  15   41      -694.762      58.810       1.458
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.786337 -0.153089 0.0122543 0.310503 
-0.265197 1.17821 -0.258069 6.56158 
0.177619 -0.464949 0.693411 -3.67422 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -273.887   GNORM= 35.5966
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -299.130      17.264       0.028
   2    3      -303.414      18.887       1.000
   3    7      -410.360      37.735       0.473
   4   10      -411.460      35.990       0.010
   5   14      -412.242      25.235       0.239
   6   15      -414.079      17.696       1.000
   7   16      -418.171      14.041       1.000
   8   18      -420.100      54.811       5.000
   9   19      -429.783      42.263       1.000
  10   20      -438.736      44.551       1.000
  11   21      -452.008      20.315       1.000
  12   24      -475.388      28.405       2.291
  13   26      -477.642      63.748       0.169
  14   31      -478.100      56.990       0.217
  15   32      -490.140      52.231       1.000
  16   35      -494.708      33.518       0.562
  17   36      -500.036      41.386       1.000
  18   37      -501.620      21.695       1.000
  19   39      -506.131      15.740       0.265
  20   40      -507.745      48.574       1.000
  21   41      -509.957      14.232       1.000
  22   42      -512.165       8.568       1.000
  23   43      -516.988      34.527       1.000
  24   44      -519.641      39.348       1.000
  25   45      -527.878      65.185       1.000
  26   47      -531.821      61.714       0.233
  27   48      -541.862      45.796       1.000
  28   49      -544.188      60.795       1.000
  29   50      -556.914      24.814       1.000
  30   51      -581.417      67.858       1.000
  31   53      -595.331      39.630       5.000
  32   54      -606.656      46.357       1.000
  33   57      -607.202      44.449       0.034
  34   58      -612.063      31.096       1.000
  35   59      -621.457      36.373       1.000
  36   60      -627.032      28.460       1.000
  37   61      -645.596      18.410       1.000
Final RAS Transform: 
0.548457 -0.360731 0.334414 -0.423961 
-0.483962 0.905251 -0.291376 2.32398 
0.179924 -0.521083 0.500077 -4.17804 
0 0 0 1 

Final RAS Transform: 
0.548457 -0.360731 0.334414 -0.423961 
-0.483962 0.905251 -0.291376 2.32398 
0.179924 -0.521083 0.500077 -4.17804 
0 0 0 1 


real	0m6.539s
user	0m10.724s
sys	0m0.896s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.459036
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0305
Level     0,  Iter     1:    Energy =   0.0321
Level     0,  Iter     2:    Energy =   0.0349
Level     0,  Iter     3:    Energy =   0.0371
Level     0,  Iter     4:    Energy =   0.0391
Level     0,  Iter     5:    Energy =   0.0404
Level     0,  Iter     6:    Energy =   0.0412
Level     0,  Iter     7:    Energy =   0.0418
Level     0,  Iter     8:    Energy =   0.0424
Level     0,  Iter     9:    Energy =   0.0429
Level     0,  Iter    10:    Energy =   0.0434
Level     0,  Iter    11:    Energy =   0.0438
Level     0,  Iter    12:    Energy =   0.0442
Level     0,  Iter    13:    Energy =   0.0445
Level     0,  Iter    14:    Energy =   0.0447
Level     0,  Iter    15:    Energy =   0.0450
Level     0,  Iter    16:    Energy =   0.0453
Level     0,  Iter    17:    Energy =   0.0456
Level     0,  Iter    18:    Energy =   0.0458
Level     0,  Iter    19:    Energy =   0.0460
Level     0,  Iter    20:    Energy =   0.0463
Level     0,  Iter    21:    Energy =   0.0465
Level     0,  Iter    22:    Energy =   0.0469
Level     0,  Iter    23:    Energy =   0.0473
Level     0,  Iter    24:    Energy =   0.0476
Level     0,  Iter    25:    Energy =   0.0479
Level     0,  Iter    26:    Energy =   0.0482
Level     0,  Iter    27:    Energy =   0.0485
Level     0,  Iter    28:    Energy =   0.0488
Level     0,  Iter    29:    Energy =   0.0491
Level     0,  Iter    30:    Energy =   0.0493
Level     0,  Iter    31:    Energy =   0.0496
Level     0,  Iter    32:    Energy =   0.0497
Level     0,  Iter    33:    Energy =   0.0500
Level     0,  Iter    34:    Energy =   0.0501
Level     0,  Iter    35:    Energy =   0.0503
Level     0,  Iter    36:    Energy =   0.0504
Level     0,  Iter    37:    Energy =   0.0506
Level     0,  Iter    38:    Energy =   0.0507
Level     0,  Iter    39:    Energy =   0.0510
Level     0,  Iter    40:    Energy =   0.0511
Level     0,  Iter    41:    Energy =   0.0513
Level     0,  Iter    42:    Energy =   0.0514
Level     0,  Iter    43:    Energy =   0.0517
Level     0,  Iter    44:    Energy =   0.0518
Level     0,  Iter    45:    Energy =   0.0520
Level     0,  Iter    46:    Energy =   0.0521
Level     0,  Iter    47:    Energy =   0.0523
Level     0,  Iter    48:    Energy =   0.0523
Level     0,  Iter    49:    Energy =   0.0526
Level     0,  Iter    50:    Energy =   0.0526
Level     0,  Iter    51:    Energy =   0.0530
Level     0,  Iter    52:    Energy =   0.0530
Level     0,  Iter    53:    Energy =   0.0532
Level     0,  Iter    54:    Energy =   0.0532
Level     0,  Iter    55:    Energy =   0.0534
Level     0,  Iter    56:    Energy =   0.0534
Level     0,  Iter    57:    Energy =   0.0536
Level     0,  Iter    58:    Energy =   0.0535
Level     0,  Iter    59:    Energy =   0.0537
END OF LEVEL     0    DetJac Range:   0.0357  to   2.5978 
  Avg. Gradient Time  : 0.0073s  32.62% 
  Avg. Gaussian Time  : 0.0108s  48.42% 
  Avg. Iteration Time : 0.0224s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0286
Level     1,  Iter     1:    Energy =   0.0294
Level     1,  Iter     2:    Energy =   0.0301
Level     1,  Iter     3:    Energy =   0.0309
Level     1,  Iter     4:    Energy =   0.0314
Level     1,  Iter     5:    Energy =   0.0319
Level     1,  Iter     6:    Energy =   0.0324
Level     1,  Iter     7:    Energy =   0.0329
Level     1,  Iter     8:    Energy =   0.0336
Level     1,  Iter     9:    Energy =   0.0342
Level     1,  Iter    10:    Energy =   0.0346
Level     1,  Iter    11:    Energy =   0.0350
Level     1,  Iter    12:    Energy =   0.0354
Level     1,  Iter    13:    Energy =   0.0358
Level     1,  Iter    14:    Energy =   0.0361
Level     1,  Iter    15:    Energy =   0.0364
Level     1,  Iter    16:    Energy =   0.0367
Level     1,  Iter    17:    Energy =   0.0369
Level     1,  Iter    18:    Energy =   0.0372
Level     1,  Iter    19:    Energy =   0.0375
Level     1,  Iter    20:    Energy =   0.0377
Level     1,  Iter    21:    Energy =   0.0379
Level     1,  Iter    22:    Energy =   0.0381
Level     1,  Iter    23:    Energy =   0.0384
Level     1,  Iter    24:    Energy =   0.0386
Level     1,  Iter    25:    Energy =   0.0388
Level     1,  Iter    26:    Energy =   0.0390
Level     1,  Iter    27:    Energy =   0.0392
Level     1,  Iter    28:    Energy =   0.0394
Level     1,  Iter    29:    Energy =   0.0395
Level     1,  Iter    30:    Energy =   0.0396
Level     1,  Iter    31:    Energy =   0.0396
Level     1,  Iter    32:    Energy =   0.0396
Level     1,  Iter    33:    Energy =   0.0397
Level     1,  Iter    34:    Energy =   0.0397
Level     1,  Iter    35:    Energy =   0.0398
Level     1,  Iter    36:    Energy =   0.0398
Level     1,  Iter    37:    Energy =   0.0399
Level     1,  Iter    38:    Energy =   0.0398
Level     1,  Iter    39:    Energy =   0.0399
Level     1,  Iter    40:    Energy =   0.0399
Level     1,  Iter    41:    Energy =   0.0399
Level     1,  Iter    42:    Energy =   0.0399
Level     1,  Iter    43:    Energy =   0.0398
Level     1,  Iter    44:    Energy =   0.0399
Level     1,  Iter    45:    Energy =   0.0399
Level     1,  Iter    46:    Energy =   0.0400
Level     1,  Iter    47:    Energy =   0.0398
Level     1,  Iter    48:    Energy =   0.0399
Level     1,  Iter    49:    Energy =   0.0400
Level     1,  Iter    50:    Energy =   0.0400
Level     1,  Iter    51:    Energy =   0.0400
Level     1,  Iter    52:    Energy =   0.0400
Level     1,  Iter    53:    Energy =   0.0401
Level     1,  Iter    54:    Energy =   0.0402
Level     1,  Iter    55:    Energy =   0.0403
Level     1,  Iter    56:    Energy =   0.0403
Level     1,  Iter    57:    Energy =   0.0404
Level     1,  Iter    58:    Energy =   0.0404
Level     1,  Iter    59:    Energy =   0.0404
END OF LEVEL     1    DetJac Range:   0.0667  to   2.8593 
  Avg. Gradient Time  : 0.0291s  33.75% 
  Avg. Gaussian Time  : 0.0449s  52.18% 
  Avg. Iteration Time : 0.0861s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0177
Level     2,  Iter     1:    Energy =   0.0183
Level     2,  Iter     2:    Energy =   0.0187
Level     2,  Iter     3:    Energy =   0.0191
Level     2,  Iter     4:    Energy =   0.0195
Level     2,  Iter     5:    Energy =   0.0200
Level     2,  Iter     6:    Energy =   0.0205
Level     2,  Iter     7:    Energy =   0.0209
Level     2,  Iter     8:    Energy =   0.0212
Level     2,  Iter     9:    Energy =   0.0215
Level     2,  Iter    10:    Energy =   0.0218
Level     2,  Iter    11:    Energy =   0.0221
Level     2,  Iter    12:    Energy =   0.0223
Level     2,  Iter    13:    Energy =   0.0225
Level     2,  Iter    14:    Energy =   0.0226
Level     2,  Iter    15:    Energy =   0.0228
Level     2,  Iter    16:    Energy =   0.0230
Level     2,  Iter    17:    Energy =   0.0231
Level     2,  Iter    18:    Energy =   0.0232
Level     2,  Iter    19:    Energy =   0.0233
END OF LEVEL     2    DetJac Range:   0.0628  to   2.9555 
  Avg. Gradient Time  : 0.1915s  32.81% 
  Avg. Gaussian Time  : 0.3145s  53.90% 
  Avg. Iteration Time : 0.5836s 

real	0m21.052s
user	0m36.004s
sys	0m2.728s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train001/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train001/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train001/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train001/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=1 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=1 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.204286 0.208571
+ echo 'CHUNK 0.204286 0.208571 1'
CHUNK 0.204286 0.208571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.204286 0.208571 1
====================================
         PROGRESS: 0.204286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=002
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 002
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train002
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train002
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left 002 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train002 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=left
+ local tid=002
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train002
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 002 left 0
+ local tid=002
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 002 0
+ set -e
+ local tid=002
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.573
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 576.009   GNORM= 120.445
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3       254.117      92.287       0.042
   2    4       -74.189     234.430       1.000
   3    7      -675.376     204.115       0.387
   4    9      -754.757     221.251       0.269
   5   10      -881.708     169.010       1.000
   6   13      -896.321     141.168       0.031
   7   14      -945.098     149.227       1.000
   8   15      -964.886      73.448       1.000
   9   16      -977.917      65.026       1.000
  10   17      -980.084      56.638       1.000
  11   18      -989.642      50.552       1.000
  12   19      -999.635      62.662       1.000
  13   22     -1115.340     128.494       2.726
  14   23     -1137.470      82.323       1.000
  15   24     -1161.954      31.758       1.000
  16   25     -1166.849      41.781       1.000
  17   27     -1170.517      42.073       0.041
  18   28     -1173.317      28.422       1.000
  19   29     -1187.767      59.729       1.000
  20   30     -1217.877     146.298       1.000
  21   32     -1219.468     166.553       0.216
  22   33     -1251.681      83.766       1.000
  23   34     -1271.897      26.081       1.000
  24   35     -1279.139      35.658       1.000
  25   37     -1294.013      89.975       0.450
  26   38     -1305.405      61.175       1.000
  27   40     -1307.676      48.713       0.268
  28   43     -1318.305      46.724       2.246
  29   45     -1322.364      83.347       0.200
  30   46     -1336.442     168.975       1.000
  31   47     -1357.374      88.658       1.000
  32   48     -1389.999     143.476       1.000
  33   50     -1405.249     157.136       0.063
  34   51     -1430.227      66.453       1.000
  35   52     -1440.228      82.803       1.000
  36   53     -1443.769      95.414       1.000
  37   54     -1452.835      53.843       1.000
  38   55     -1459.253      18.076       1.000
  39   56     -1460.260      31.200       1.000
  40   58     -1461.424      42.366       0.491
  41   59     -1463.171      27.719       1.000
  42   60     -1464.501      33.536       1.000
Final RAS Transform: 
0.781416 -0.170823 0.161472 -15.5995 
-0.517553 0.974319 -0.400002 7.71115 
0.16749 -0.228238 0.77035 0.519996 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -651.063   GNORM= 26.1091
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    5      -651.118      21.187       0.000
   2    8      -651.127      17.243       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.781416 -0.170821 0.161469 -15.5996 
-0.517558 0.974323 -0.400006 7.7119 
0.167486 -0.228235 0.770346 0.520193 
0 0 0 1 

Final RAS Transform: 
0.781416 -0.170821 0.161469 -15.5996 
-0.517558 0.974323 -0.400006 7.7119 
0.167486 -0.228235 0.770346 0.520193 
0 0 0 1 


real	0m4.197s
user	0m6.460s
sys	0m0.612s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.443259
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0382
Level     0,  Iter     1:    Energy =   0.0405
Level     0,  Iter     2:    Energy =   0.0432
Level     0,  Iter     3:    Energy =   0.0455
Level     0,  Iter     4:    Energy =   0.0472
Level     0,  Iter     5:    Energy =   0.0486
Level     0,  Iter     6:    Energy =   0.0499
Level     0,  Iter     7:    Energy =   0.0508
Level     0,  Iter     8:    Energy =   0.0516
Level     0,  Iter     9:    Energy =   0.0522
Level     0,  Iter    10:    Energy =   0.0527
Level     0,  Iter    11:    Energy =   0.0533
Level     0,  Iter    12:    Energy =   0.0538
Level     0,  Iter    13:    Energy =   0.0544
Level     0,  Iter    14:    Energy =   0.0547
Level     0,  Iter    15:    Energy =   0.0553
Level     0,  Iter    16:    Energy =   0.0558
Level     0,  Iter    17:    Energy =   0.0562
Level     0,  Iter    18:    Energy =   0.0564
Level     0,  Iter    19:    Energy =   0.0569
Level     0,  Iter    20:    Energy =   0.0571
Level     0,  Iter    21:    Energy =   0.0576
Level     0,  Iter    22:    Energy =   0.0579
Level     0,  Iter    23:    Energy =   0.0584
Level     0,  Iter    24:    Energy =   0.0586
Level     0,  Iter    25:    Energy =   0.0588
Level     0,  Iter    26:    Energy =   0.0591
Level     0,  Iter    27:    Energy =   0.0591
Level     0,  Iter    28:    Energy =   0.0593
Level     0,  Iter    29:    Energy =   0.0594
Level     0,  Iter    30:    Energy =   0.0595
Level     0,  Iter    31:    Energy =   0.0596
Level     0,  Iter    32:    Energy =   0.0599
Level     0,  Iter    33:    Energy =   0.0601
Level     0,  Iter    34:    Energy =   0.0602
Level     0,  Iter    35:    Energy =   0.0603
Level     0,  Iter    36:    Energy =   0.0604
Level     0,  Iter    37:    Energy =   0.0606
Level     0,  Iter    38:    Energy =   0.0607
Level     0,  Iter    39:    Energy =   0.0608
Level     0,  Iter    40:    Energy =   0.0608
Level     0,  Iter    41:    Energy =   0.0608
Level     0,  Iter    42:    Energy =   0.0609
Level     0,  Iter    43:    Energy =   0.0609
Level     0,  Iter    44:    Energy =   0.0609
Level     0,  Iter    45:    Energy =   0.0610
Level     0,  Iter    46:    Energy =   0.0611
Level     0,  Iter    47:    Energy =   0.0611
Level     0,  Iter    48:    Energy =   0.0610
Level     0,  Iter    49:    Energy =   0.0612
Level     0,  Iter    50:    Energy =   0.0611
Level     0,  Iter    51:    Energy =   0.0614
Level     0,  Iter    52:    Energy =   0.0613
Level     0,  Iter    53:    Energy =   0.0614
Level     0,  Iter    54:    Energy =   0.0614
Level     0,  Iter    55:    Energy =   0.0615
Level     0,  Iter    56:    Energy =   0.0614
Level     0,  Iter    57:    Energy =   0.0616
Level     0,  Iter    58:    Energy =   0.0615
Level     0,  Iter    59:    Energy =   0.0617
END OF LEVEL     0    DetJac Range:   0.0409  to   2.1214 
  Avg. Gradient Time  : 0.0081s  33.50% 
  Avg. Gaussian Time  : 0.0116s  47.69% 
  Avg. Iteration Time : 0.0243s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0341
Level     1,  Iter     1:    Energy =   0.0355
Level     1,  Iter     2:    Energy =   0.0368
Level     1,  Iter     3:    Energy =   0.0379
Level     1,  Iter     4:    Energy =   0.0389
Level     1,  Iter     5:    Energy =   0.0395
Level     1,  Iter     6:    Energy =   0.0402
Level     1,  Iter     7:    Energy =   0.0408
Level     1,  Iter     8:    Energy =   0.0415
Level     1,  Iter     9:    Energy =   0.0420
Level     1,  Iter    10:    Energy =   0.0425
Level     1,  Iter    11:    Energy =   0.0430
Level     1,  Iter    12:    Energy =   0.0433
Level     1,  Iter    13:    Energy =   0.0437
Level     1,  Iter    14:    Energy =   0.0440
Level     1,  Iter    15:    Energy =   0.0442
Level     1,  Iter    16:    Energy =   0.0445
Level     1,  Iter    17:    Energy =   0.0447
Level     1,  Iter    18:    Energy =   0.0448
Level     1,  Iter    19:    Energy =   0.0449
Level     1,  Iter    20:    Energy =   0.0448
Level     1,  Iter    21:    Energy =   0.0449
Level     1,  Iter    22:    Energy =   0.0450
Level     1,  Iter    23:    Energy =   0.0450
Level     1,  Iter    24:    Energy =   0.0450
Level     1,  Iter    25:    Energy =   0.0450
Level     1,  Iter    26:    Energy =   0.0450
Level     1,  Iter    27:    Energy =   0.0450
Level     1,  Iter    28:    Energy =   0.0451
Level     1,  Iter    29:    Energy =   0.0451
Level     1,  Iter    30:    Energy =   0.0451
Level     1,  Iter    31:    Energy =   0.0452
Level     1,  Iter    32:    Energy =   0.0452
Level     1,  Iter    33:    Energy =   0.0452
Level     1,  Iter    34:    Energy =   0.0453
Level     1,  Iter    35:    Energy =   0.0453
Level     1,  Iter    36:    Energy =   0.0453
Level     1,  Iter    37:    Energy =   0.0453
Level     1,  Iter    38:    Energy =   0.0453
Level     1,  Iter    39:    Energy =   0.0453
Level     1,  Iter    40:    Energy =   0.0453
Level     1,  Iter    41:    Energy =   0.0453
Level     1,  Iter    42:    Energy =   0.0454
Level     1,  Iter    43:    Energy =   0.0454
Level     1,  Iter    44:    Energy =   0.0454
Level     1,  Iter    45:    Energy =   0.0454
Level     1,  Iter    46:    Energy =   0.0454
Level     1,  Iter    47:    Energy =   0.0455
Level     1,  Iter    48:    Energy =   0.0455
Level     1,  Iter    49:    Energy =   0.0455
Level     1,  Iter    50:    Energy =   0.0456
Level     1,  Iter    51:    Energy =   0.0456
Level     1,  Iter    52:    Energy =   0.0456
Level     1,  Iter    53:    Energy =   0.0456
Level     1,  Iter    54:    Energy =   0.0455
Level     1,  Iter    55:    Energy =   0.0456
Level     1,  Iter    56:    Energy =   0.0456
Level     1,  Iter    57:    Energy =   0.0456
Level     1,  Iter    58:    Energy =   0.0456
Level     1,  Iter    59:    Energy =   0.0456
END OF LEVEL     1    DetJac Range:   0.0302  to   2.7354 
  Avg. Gradient Time  : 0.0298s  33.92% 
  Avg. Gaussian Time  : 0.0459s  52.14% 
  Avg. Iteration Time : 0.0880s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0183
Level     2,  Iter     1:    Energy =   0.0189
Level     2,  Iter     2:    Energy =   0.0195
Level     2,  Iter     3:    Energy =   0.0201
Level     2,  Iter     4:    Energy =   0.0206
Level     2,  Iter     5:    Energy =   0.0211
Level     2,  Iter     6:    Energy =   0.0215
Level     2,  Iter     7:    Energy =   0.0220
Level     2,  Iter     8:    Energy =   0.0222
Level     2,  Iter     9:    Energy =   0.0225
Level     2,  Iter    10:    Energy =   0.0226
Level     2,  Iter    11:    Energy =   0.0228
Level     2,  Iter    12:    Energy =   0.0229
Level     2,  Iter    13:    Energy =   0.0231
Level     2,  Iter    14:    Energy =   0.0233
Level     2,  Iter    15:    Energy =   0.0237
Level     2,  Iter    16:    Energy =   0.0239
Level     2,  Iter    17:    Energy =   0.0241
Level     2,  Iter    18:    Energy =   0.0243
Level     2,  Iter    19:    Energy =   0.0244
END OF LEVEL     2    DetJac Range:   0.0337  to   2.5499 
  Avg. Gradient Time  : 0.1890s  32.84% 
  Avg. Gaussian Time  : 0.3100s  53.88% 
  Avg. Iteration Time : 0.5754s 

real	0m21.121s
user	0m35.928s
sys	0m2.904s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train002/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train002/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train002/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train002/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=2 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=2 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.208571 0.212857
+ echo 'CHUNK 0.208571 0.212857 1'
CHUNK 0.208571 0.212857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.208571 0.212857 1
====================================
         PROGRESS: 0.208571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=003
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 003
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train003
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train003
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left 003 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train003 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=left
+ local tid=003
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train003
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 003 left 0
+ local tid=003
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 003 0
+ set -e
+ local tid=003
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.667
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 701.943   GNORM= 80.3948
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    5       -51.701     111.037       0.095
   2    6      -215.978      61.498       1.000
   3    8      -328.673      51.651       0.403
   4   12      -464.476      37.556       0.141
   5   16      -484.803      26.956       0.560
   6   20      -489.318      32.660       0.216
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.949509 0.0910461 0.0239801 0.868454 
-0.140653 1.32343 -0.308514 9.59896 
0.0791451 -0.262957 0.836953 -9.3347 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -193.342   GNORM= 554.99
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    7      -194.230     416.560       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.949513 0.0910437 0.0239863 0.868021 
-0.140646 1.32343 -0.308504 9.59818 
0.0791466 -0.262959 0.836954 -9.33485 
0 0 0 1 

Final RAS Transform: 
0.949513 0.0910437 0.0239863 0.868021 
-0.140646 1.32343 -0.308504 9.59818 
0.0791466 -0.262959 0.836954 -9.33485 
0 0 0 1 


real	0m3.956s
user	0m6.080s
sys	0m0.552s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.475779
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0114
Level     0,  Iter     1:    Energy =   0.0124
Level     0,  Iter     2:    Energy =   0.0142
Level     0,  Iter     3:    Energy =   0.0159
Level     0,  Iter     4:    Energy =   0.0171
Level     0,  Iter     5:    Energy =   0.0181
Level     0,  Iter     6:    Energy =   0.0190
Level     0,  Iter     7:    Energy =   0.0197
Level     0,  Iter     8:    Energy =   0.0203
Level     0,  Iter     9:    Energy =   0.0209
Level     0,  Iter    10:    Energy =   0.0216
Level     0,  Iter    11:    Energy =   0.0223
Level     0,  Iter    12:    Energy =   0.0230
Level     0,  Iter    13:    Energy =   0.0237
Level     0,  Iter    14:    Energy =   0.0245
Level     0,  Iter    15:    Energy =   0.0249
Level     0,  Iter    16:    Energy =   0.0254
Level     0,  Iter    17:    Energy =   0.0258
Level     0,  Iter    18:    Energy =   0.0261
Level     0,  Iter    19:    Energy =   0.0266
Level     0,  Iter    20:    Energy =   0.0267
Level     0,  Iter    21:    Energy =   0.0272
Level     0,  Iter    22:    Energy =   0.0273
Level     0,  Iter    23:    Energy =   0.0276
Level     0,  Iter    24:    Energy =   0.0276
Level     0,  Iter    25:    Energy =   0.0280
Level     0,  Iter    26:    Energy =   0.0282
Level     0,  Iter    27:    Energy =   0.0283
Level     0,  Iter    28:    Energy =   0.0281
Level     0,  Iter    29:    Energy =   0.0282
Level     0,  Iter    30:    Energy =   0.0282
Level     0,  Iter    31:    Energy =   0.0284
Level     0,  Iter    32:    Energy =   0.0285
Level     0,  Iter    33:    Energy =   0.0285
Level     0,  Iter    34:    Energy =   0.0286
Level     0,  Iter    35:    Energy =   0.0286
Level     0,  Iter    36:    Energy =   0.0288
Level     0,  Iter    37:    Energy =   0.0290
Level     0,  Iter    38:    Energy =   0.0294
Level     0,  Iter    39:    Energy =   0.0295
Level     0,  Iter    40:    Energy =   0.0299
Level     0,  Iter    41:    Energy =   0.0299
Level     0,  Iter    42:    Energy =   0.0301
Level     0,  Iter    43:    Energy =   0.0300
Level     0,  Iter    44:    Energy =   0.0303
Level     0,  Iter    45:    Energy =   0.0302
Level     0,  Iter    46:    Energy =   0.0303
Level     0,  Iter    47:    Energy =   0.0303
Level     0,  Iter    48:    Energy =   0.0305
Level     0,  Iter    49:    Energy =   0.0306
Level     0,  Iter    50:    Energy =   0.0309
Level     0,  Iter    51:    Energy =   0.0309
Level     0,  Iter    52:    Energy =   0.0311
Level     0,  Iter    53:    Energy =   0.0310
Level     0,  Iter    54:    Energy =   0.0312
Level     0,  Iter    55:    Energy =   0.0313
Level     0,  Iter    56:    Energy =   0.0316
Level     0,  Iter    57:    Energy =   0.0316
Level     0,  Iter    58:    Energy =   0.0319
Level     0,  Iter    59:    Energy =   0.0318
END OF LEVEL     0    DetJac Range:   0.1636  to   2.5715 
  Avg. Gradient Time  : 0.0074s  32.76% 
  Avg. Gaussian Time  : 0.0109s  48.35% 
  Avg. Iteration Time : 0.0226s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0174
Level     1,  Iter     1:    Energy =   0.0187
Level     1,  Iter     2:    Energy =   0.0196
Level     1,  Iter     3:    Energy =   0.0202
Level     1,  Iter     4:    Energy =   0.0206
Level     1,  Iter     5:    Energy =   0.0210
Level     1,  Iter     6:    Energy =   0.0213
Level     1,  Iter     7:    Energy =   0.0216
Level     1,  Iter     8:    Energy =   0.0220
Level     1,  Iter     9:    Energy =   0.0223
Level     1,  Iter    10:    Energy =   0.0226
Level     1,  Iter    11:    Energy =   0.0229
Level     1,  Iter    12:    Energy =   0.0231
Level     1,  Iter    13:    Energy =   0.0233
Level     1,  Iter    14:    Energy =   0.0235
Level     1,  Iter    15:    Energy =   0.0237
Level     1,  Iter    16:    Energy =   0.0239
Level     1,  Iter    17:    Energy =   0.0240
Level     1,  Iter    18:    Energy =   0.0242
Level     1,  Iter    19:    Energy =   0.0243
Level     1,  Iter    20:    Energy =   0.0244
Level     1,  Iter    21:    Energy =   0.0245
Level     1,  Iter    22:    Energy =   0.0246
Level     1,  Iter    23:    Energy =   0.0247
Level     1,  Iter    24:    Energy =   0.0248
Level     1,  Iter    25:    Energy =   0.0249
Level     1,  Iter    26:    Energy =   0.0250
Level     1,  Iter    27:    Energy =   0.0251
Level     1,  Iter    28:    Energy =   0.0252
Level     1,  Iter    29:    Energy =   0.0252
Level     1,  Iter    30:    Energy =   0.0253
Level     1,  Iter    31:    Energy =   0.0253
Level     1,  Iter    32:    Energy =   0.0254
Level     1,  Iter    33:    Energy =   0.0255
Level     1,  Iter    34:    Energy =   0.0255
Level     1,  Iter    35:    Energy =   0.0255
Level     1,  Iter    36:    Energy =   0.0256
Level     1,  Iter    37:    Energy =   0.0256
Level     1,  Iter    38:    Energy =   0.0256
Level     1,  Iter    39:    Energy =   0.0257
Level     1,  Iter    40:    Energy =   0.0257
Level     1,  Iter    41:    Energy =   0.0258
Level     1,  Iter    42:    Energy =   0.0258
Level     1,  Iter    43:    Energy =   0.0258
Level     1,  Iter    44:    Energy =   0.0259
Level     1,  Iter    45:    Energy =   0.0259
Level     1,  Iter    46:    Energy =   0.0259
Level     1,  Iter    47:    Energy =   0.0260
Level     1,  Iter    48:    Energy =   0.0260
Level     1,  Iter    49:    Energy =   0.0260
Level     1,  Iter    50:    Energy =   0.0260
Level     1,  Iter    51:    Energy =   0.0261
Level     1,  Iter    52:    Energy =   0.0261
Level     1,  Iter    53:    Energy =   0.0261
Level     1,  Iter    54:    Energy =   0.0261
Level     1,  Iter    55:    Energy =   0.0261
Level     1,  Iter    56:    Energy =   0.0262
Level     1,  Iter    57:    Energy =   0.0262
Level     1,  Iter    58:    Energy =   0.0262
Level     1,  Iter    59:    Energy =   0.0262
END OF LEVEL     1    DetJac Range:   0.0352  to   2.7008 
  Avg. Gradient Time  : 0.0305s  34.12% 
  Avg. Gaussian Time  : 0.0465s  51.97% 
  Avg. Iteration Time : 0.0895s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0115
Level     2,  Iter     1:    Energy =   0.0121
Level     2,  Iter     2:    Energy =   0.0127
Level     2,  Iter     3:    Energy =   0.0133
Level     2,  Iter     4:    Energy =   0.0137
Level     2,  Iter     5:    Energy =   0.0140
Level     2,  Iter     6:    Energy =   0.0143
Level     2,  Iter     7:    Energy =   0.0145
Level     2,  Iter     8:    Energy =   0.0147
Level     2,  Iter     9:    Energy =   0.0149
Level     2,  Iter    10:    Energy =   0.0150
Level     2,  Iter    11:    Energy =   0.0151
Level     2,  Iter    12:    Energy =   0.0153
Level     2,  Iter    13:    Energy =   0.0154
Level     2,  Iter    14:    Energy =   0.0155
Level     2,  Iter    15:    Energy =   0.0156
Level     2,  Iter    16:    Energy =   0.0157
Level     2,  Iter    17:    Energy =   0.0158
Level     2,  Iter    18:    Energy =   0.0159
Level     2,  Iter    19:    Energy =   0.0159
END OF LEVEL     2    DetJac Range:   0.0348  to   2.4468 
  Avg. Gradient Time  : 0.1932s  32.93% 
  Avg. Gaussian Time  : 0.3153s  53.73% 
  Avg. Iteration Time : 0.5869s 

real	0m21.279s
user	0m36.548s
sys	0m2.540s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train003/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train003/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train003/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train003/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=3 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=3 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.212857 0.217143
+ echo 'CHUNK 0.212857 0.217143 1'
CHUNK 0.212857 0.217143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.212857 0.217143 1
====================================
         PROGRESS: 0.212857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=004
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 004
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train004
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train004
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left 004 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train004 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=left
+ local tid=004
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train004
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 004 left 0
+ local tid=004
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 004 0
+ set -e
+ local tid=004
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.512
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 543.594   GNORM= 113.082
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       448.940      83.676       0.009
   2    3        42.526      52.333       1.000
   3    4       -11.164      35.889       1.000
   4    7       -12.834      44.180       0.087
   5    8       -26.990      36.687       1.000
   6    9       -38.902      38.983       1.000
   7   10       -85.466      91.596       1.000
   8   11      -110.914      92.660       1.000
   9   12      -133.267      49.419       1.000
  10   13      -136.350      51.704       1.000
  11   14      -145.614      30.994       1.000
  12   15      -154.543      28.718       1.000
  13   16      -191.983      92.901       1.000
  14   18      -203.555     102.555       0.523
  15   19      -245.838      75.782       1.000
  16   20      -284.928      97.594       1.000
  17   21      -287.581      31.627       1.000
  18   22      -296.170      29.461       1.000
  19   24      -312.034      74.800       0.287
  20   25      -320.358      85.494       1.000
  21   26      -337.281      49.866       1.000
  22   27      -366.984      61.305       1.000
  23   28      -395.915      74.291       1.000
  24   30      -414.673      79.585       0.217
  25   32      -450.763      91.306       0.339
  26   34      -481.420     105.847       0.514
  27   35      -542.686     101.565       1.000
  28   37      -620.121     114.734       0.312
  29   38      -669.700      53.882       1.000
  30   41      -721.531      83.550       2.161
  31   42      -748.717      38.002       1.000
  32   43      -771.607      63.902       1.000
  33   44      -786.426      28.894       1.000
  34   45      -794.992      47.661       1.000
  35   46      -802.945      73.694       1.000
  36   47      -813.896      83.137       1.000
  37   48      -827.713      55.286       1.000
  38   50      -863.318      57.834       0.333
  39   51      -875.428      59.141       1.000
  40   52      -890.816      46.196       1.000
  41   54      -908.483      26.723       0.137
  42   55      -914.892      62.711       1.000
  43   56      -925.659      30.502       1.000
  44   57      -935.046      67.787       1.000
  45   58      -961.663     119.346       1.000
  46   59      -979.302      80.927       1.000
  47   60     -1003.248      28.961       1.000
  48   61     -1007.912      26.010       1.000
Final RAS Transform: 
0.780452 -0.219784 -0.430904 -16.9089 
0.20715 0.988671 0.372835 25.6583 
-0.00818168 0.00986581 0.798079 6.26708 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -589.038   GNORM= 4637.88
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.780452 -0.219784 -0.430904 -16.9089 
0.20715 0.988671 0.372835 25.6583 
-0.00818168 0.00986581 0.798079 6.26708 
0 0 0 1 

Final RAS Transform: 
0.780452 -0.219784 -0.430904 -16.9089 
0.20715 0.988671 0.372835 25.6583 
-0.00818168 0.00986581 0.798079 6.26708 
0 0 0 1 


real	0m3.906s
user	0m5.876s
sys	0m0.648s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.434167
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0245
Level     0,  Iter     1:    Energy =   0.0275
Level     0,  Iter     2:    Energy =   0.0300
Level     0,  Iter     3:    Energy =   0.0320
Level     0,  Iter     4:    Energy =   0.0332
Level     0,  Iter     5:    Energy =   0.0344
Level     0,  Iter     6:    Energy =   0.0356
Level     0,  Iter     7:    Energy =   0.0368
Level     0,  Iter     8:    Energy =   0.0377
Level     0,  Iter     9:    Energy =   0.0383
Level     0,  Iter    10:    Energy =   0.0391
Level     0,  Iter    11:    Energy =   0.0395
Level     0,  Iter    12:    Energy =   0.0400
Level     0,  Iter    13:    Energy =   0.0405
Level     0,  Iter    14:    Energy =   0.0409
Level     0,  Iter    15:    Energy =   0.0412
Level     0,  Iter    16:    Energy =   0.0416
Level     0,  Iter    17:    Energy =   0.0420
Level     0,  Iter    18:    Energy =   0.0422
Level     0,  Iter    19:    Energy =   0.0425
Level     0,  Iter    20:    Energy =   0.0427
Level     0,  Iter    21:    Energy =   0.0429
Level     0,  Iter    22:    Energy =   0.0431
Level     0,  Iter    23:    Energy =   0.0433
Level     0,  Iter    24:    Energy =   0.0434
Level     0,  Iter    25:    Energy =   0.0435
Level     0,  Iter    26:    Energy =   0.0435
Level     0,  Iter    27:    Energy =   0.0437
Level     0,  Iter    28:    Energy =   0.0437
Level     0,  Iter    29:    Energy =   0.0438
Level     0,  Iter    30:    Energy =   0.0439
Level     0,  Iter    31:    Energy =   0.0440
Level     0,  Iter    32:    Energy =   0.0441
Level     0,  Iter    33:    Energy =   0.0442
Level     0,  Iter    34:    Energy =   0.0444
Level     0,  Iter    35:    Energy =   0.0445
Level     0,  Iter    36:    Energy =   0.0446
Level     0,  Iter    37:    Energy =   0.0446
Level     0,  Iter    38:    Energy =   0.0447
Level     0,  Iter    39:    Energy =   0.0447
Level     0,  Iter    40:    Energy =   0.0448
Level     0,  Iter    41:    Energy =   0.0449
Level     0,  Iter    42:    Energy =   0.0449
Level     0,  Iter    43:    Energy =   0.0449
Level     0,  Iter    44:    Energy =   0.0450
Level     0,  Iter    45:    Energy =   0.0450
Level     0,  Iter    46:    Energy =   0.0451
Level     0,  Iter    47:    Energy =   0.0451
Level     0,  Iter    48:    Energy =   0.0452
Level     0,  Iter    49:    Energy =   0.0452
Level     0,  Iter    50:    Energy =   0.0452
Level     0,  Iter    51:    Energy =   0.0452
Level     0,  Iter    52:    Energy =   0.0452
Level     0,  Iter    53:    Energy =   0.0452
Level     0,  Iter    54:    Energy =   0.0453
Level     0,  Iter    55:    Energy =   0.0453
Level     0,  Iter    56:    Energy =   0.0453
Level     0,  Iter    57:    Energy =   0.0453
Level     0,  Iter    58:    Energy =   0.0453
Level     0,  Iter    59:    Energy =   0.0453
END OF LEVEL     0    DetJac Range:   0.1866  to   2.3239 
  Avg. Gradient Time  : 0.0078s  33.14% 
  Avg. Gaussian Time  : 0.0113s  47.93% 
  Avg. Iteration Time : 0.0235s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0288
Level     1,  Iter     1:    Energy =   0.0300
Level     1,  Iter     2:    Energy =   0.0314
Level     1,  Iter     3:    Energy =   0.0326
Level     1,  Iter     4:    Energy =   0.0337
Level     1,  Iter     5:    Energy =   0.0346
Level     1,  Iter     6:    Energy =   0.0353
Level     1,  Iter     7:    Energy =   0.0359
Level     1,  Iter     8:    Energy =   0.0365
Level     1,  Iter     9:    Energy =   0.0371
Level     1,  Iter    10:    Energy =   0.0378
Level     1,  Iter    11:    Energy =   0.0384
Level     1,  Iter    12:    Energy =   0.0391
Level     1,  Iter    13:    Energy =   0.0397
Level     1,  Iter    14:    Energy =   0.0403
Level     1,  Iter    15:    Energy =   0.0409
Level     1,  Iter    16:    Energy =   0.0414
Level     1,  Iter    17:    Energy =   0.0419
Level     1,  Iter    18:    Energy =   0.0423
Level     1,  Iter    19:    Energy =   0.0426
Level     1,  Iter    20:    Energy =   0.0429
Level     1,  Iter    21:    Energy =   0.0430
Level     1,  Iter    22:    Energy =   0.0432
Level     1,  Iter    23:    Energy =   0.0431
Level     1,  Iter    24:    Energy =   0.0434
Level     1,  Iter    25:    Energy =   0.0435
Level     1,  Iter    26:    Energy =   0.0437
Level     1,  Iter    27:    Energy =   0.0436
Level     1,  Iter    28:    Energy =   0.0438
Level     1,  Iter    29:    Energy =   0.0440
Level     1,  Iter    30:    Energy =   0.0442
Level     1,  Iter    31:    Energy =   0.0440
Level     1,  Iter    32:    Energy =   0.0441
Level     1,  Iter    33:    Energy =   0.0443
Level     1,  Iter    34:    Energy =   0.0445
Level     1,  Iter    35:    Energy =   0.0446
Level     1,  Iter    36:    Energy =   0.0447
Level     1,  Iter    37:    Energy =   0.0449
Level     1,  Iter    38:    Energy =   0.0450
Level     1,  Iter    39:    Energy =   0.0449
Level     1,  Iter    40:    Energy =   0.0450
Level     1,  Iter    41:    Energy =   0.0449
Level     1,  Iter    42:    Energy =   0.0450
Level     1,  Iter    43:    Energy =   0.0451
Level     1,  Iter    44:    Energy =   0.0453
Level     1,  Iter    45:    Energy =   0.0452
Level     1,  Iter    46:    Energy =   0.0453
Level     1,  Iter    47:    Energy =   0.0454
Level     1,  Iter    48:    Energy =   0.0455
Level     1,  Iter    49:    Energy =   0.0455
Level     1,  Iter    50:    Energy =   0.0456
Level     1,  Iter    51:    Energy =   0.0456
Level     1,  Iter    52:    Energy =   0.0457
Level     1,  Iter    53:    Energy =   0.0457
Level     1,  Iter    54:    Energy =   0.0458
Level     1,  Iter    55:    Energy =   0.0457
Level     1,  Iter    56:    Energy =   0.0458
Level     1,  Iter    57:    Energy =   0.0459
Level     1,  Iter    58:    Energy =   0.0460
Level     1,  Iter    59:    Energy =   0.0459
END OF LEVEL     1    DetJac Range:   0.0390  to   3.3372 
  Avg. Gradient Time  : 0.0305s  34.10% 
  Avg. Gaussian Time  : 0.0464s  51.88% 
  Avg. Iteration Time : 0.0894s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0203
Level     2,  Iter     1:    Energy =   0.0212
Level     2,  Iter     2:    Energy =   0.0225
Level     2,  Iter     3:    Energy =   0.0225
Level     2,  Iter     4:    Energy =   0.0237
Level     2,  Iter     5:    Energy =   0.0247
Level     2,  Iter     6:    Energy =   0.0256
Level     2,  Iter     7:    Energy =   0.0259
Level     2,  Iter     8:    Energy =   0.0265
Level     2,  Iter     9:    Energy =   0.0272
Level     2,  Iter    10:    Energy =   0.0279
Level     2,  Iter    11:    Energy =   0.0286
Level     2,  Iter    12:    Energy =   0.0292
Level     2,  Iter    13:    Energy =   0.0297
Level     2,  Iter    14:    Energy =   0.0289
Level     2,  Iter    15:    Energy =   0.0295
Level     2,  Iter    16:    Energy =   0.0301
Level     2,  Iter    17:    Energy =   0.0293
Level     2,  Iter    18:    Energy =   0.0298
big value: 3937739.014138
big value: 814586.226017
big value: -429717.389776
Level     2,  Iter    19:    Energy =   0.0305
END OF LEVEL     2    DetJac Range:   0.0364  to   3.9888 
  Avg. Gradient Time  : 0.1988s  33.48% 
  Avg. Gaussian Time  : 0.3175s  53.47% 
  Avg. Iteration Time : 0.5937s 

real	0m21.542s
user	0m36.828s
sys	0m2.780s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train004/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train004/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train004/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train004/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=4 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=4 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.217143 0.221429
+ echo 'CHUNK 0.217143 0.221429 1'
CHUNK 0.217143 0.221429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.217143 0.221429 1
====================================
         PROGRESS: 0.217143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=005
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 005
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train005
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train005
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left 005 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train005 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=left
+ local tid=005
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train005
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 005 left 0
+ local tid=005
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 005 0
+ set -e
+ local tid=005
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.565
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 583.219   GNORM= 157.063
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3        24.133      98.019       0.032
   2    4       -43.511      59.465       1.000
   3    5       -69.053      53.073       1.000
   4   14      -721.530      78.498       5.081
   5   19      -763.668     327.217       0.379
   6   26      -767.308      80.918       0.001
   7   27      -774.998      78.136       1.000
   8   29      -781.829      39.659       0.413
   9   34      -823.517      98.673       2.349
  10   35      -853.672     108.002       1.000
  11   36      -916.073     236.494       1.000
  12   39      -921.600     142.674       0.037
  13   40      -937.961     185.136       1.000
  14   41     -1060.045     121.140       1.000
  15   44     -1097.510     105.534       0.043
  16   46     -1104.079      95.115       0.305
  17   47     -1113.450      79.761       1.000
  18   48     -1151.225      71.106       1.000
  19   49     -1176.518      50.940       1.000
  20   50     -1210.582      77.119       1.000
  21   52     -1220.833      39.974       0.333
  22   53     -1229.822      16.944       1.000
  23   58     -1275.820     121.303       6.658
  24   60     -1280.874     129.216       0.048
Final RAS Transform: 
1.05271 -0.311848 0.363898 5.78487 
-0.515523 1.00374 -0.0465165 3.49702 
0.272481 -0.116403 0.779624 -6.66586 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -640.566   GNORM= 85.4674
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.05271 -0.311848 0.363898 5.78487 
-0.515523 1.00374 -0.0465165 3.49702 
0.272481 -0.116403 0.779624 -6.66586 
0 0 0 1 

Final RAS Transform: 
1.05271 -0.311848 0.363898 5.78487 
-0.515523 1.00374 -0.0465165 3.49702 
0.272481 -0.116403 0.779624 -6.66586 
0 0 0 1 


real	0m3.747s
user	0m5.592s
sys	0m0.632s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.396337
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0308
Level     0,  Iter     1:    Energy =   0.0328
Level     0,  Iter     2:    Energy =   0.0350
Level     0,  Iter     3:    Energy =   0.0369
Level     0,  Iter     4:    Energy =   0.0382
Level     0,  Iter     5:    Energy =   0.0393
Level     0,  Iter     6:    Energy =   0.0403
Level     0,  Iter     7:    Energy =   0.0414
Level     0,  Iter     8:    Energy =   0.0422
Level     0,  Iter     9:    Energy =   0.0430
Level     0,  Iter    10:    Energy =   0.0437
Level     0,  Iter    11:    Energy =   0.0443
Level     0,  Iter    12:    Energy =   0.0448
Level     0,  Iter    13:    Energy =   0.0453
Level     0,  Iter    14:    Energy =   0.0457
Level     0,  Iter    15:    Energy =   0.0462
Level     0,  Iter    16:    Energy =   0.0467
Level     0,  Iter    17:    Energy =   0.0471
Level     0,  Iter    18:    Energy =   0.0476
Level     0,  Iter    19:    Energy =   0.0479
Level     0,  Iter    20:    Energy =   0.0483
Level     0,  Iter    21:    Energy =   0.0486
Level     0,  Iter    22:    Energy =   0.0490
Level     0,  Iter    23:    Energy =   0.0494
Level     0,  Iter    24:    Energy =   0.0499
Level     0,  Iter    25:    Energy =   0.0504
Level     0,  Iter    26:    Energy =   0.0507
Level     0,  Iter    27:    Energy =   0.0509
Level     0,  Iter    28:    Energy =   0.0511
Level     0,  Iter    29:    Energy =   0.0513
Level     0,  Iter    30:    Energy =   0.0515
Level     0,  Iter    31:    Energy =   0.0518
Level     0,  Iter    32:    Energy =   0.0519
Level     0,  Iter    33:    Energy =   0.0520
Level     0,  Iter    34:    Energy =   0.0521
Level     0,  Iter    35:    Energy =   0.0522
Level     0,  Iter    36:    Energy =   0.0523
Level     0,  Iter    37:    Energy =   0.0524
Level     0,  Iter    38:    Energy =   0.0525
Level     0,  Iter    39:    Energy =   0.0525
Level     0,  Iter    40:    Energy =   0.0526
Level     0,  Iter    41:    Energy =   0.0527
Level     0,  Iter    42:    Energy =   0.0528
Level     0,  Iter    43:    Energy =   0.0529
Level     0,  Iter    44:    Energy =   0.0529
Level     0,  Iter    45:    Energy =   0.0529
Level     0,  Iter    46:    Energy =   0.0530
Level     0,  Iter    47:    Energy =   0.0530
Level     0,  Iter    48:    Energy =   0.0530
Level     0,  Iter    49:    Energy =   0.0531
Level     0,  Iter    50:    Energy =   0.0532
Level     0,  Iter    51:    Energy =   0.0533
Level     0,  Iter    52:    Energy =   0.0534
Level     0,  Iter    53:    Energy =   0.0534
Level     0,  Iter    54:    Energy =   0.0535
Level     0,  Iter    55:    Energy =   0.0535
Level     0,  Iter    56:    Energy =   0.0535
Level     0,  Iter    57:    Energy =   0.0536
Level     0,  Iter    58:    Energy =   0.0536
Level     0,  Iter    59:    Energy =   0.0537
END OF LEVEL     0    DetJac Range:   0.0608  to   2.0446 
  Avg. Gradient Time  : 0.0075s  32.57% 
  Avg. Gaussian Time  : 0.0112s  48.23% 
  Avg. Iteration Time : 0.0231s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0294
Level     1,  Iter     1:    Energy =   0.0308
Level     1,  Iter     2:    Energy =   0.0320
Level     1,  Iter     3:    Energy =   0.0333
Level     1,  Iter     4:    Energy =   0.0344
Level     1,  Iter     5:    Energy =   0.0353
Level     1,  Iter     6:    Energy =   0.0360
Level     1,  Iter     7:    Energy =   0.0366
Level     1,  Iter     8:    Energy =   0.0372
Level     1,  Iter     9:    Energy =   0.0376
Level     1,  Iter    10:    Energy =   0.0381
Level     1,  Iter    11:    Energy =   0.0384
Level     1,  Iter    12:    Energy =   0.0388
Level     1,  Iter    13:    Energy =   0.0390
Level     1,  Iter    14:    Energy =   0.0393
Level     1,  Iter    15:    Energy =   0.0395
Level     1,  Iter    16:    Energy =   0.0397
Level     1,  Iter    17:    Energy =   0.0399
Level     1,  Iter    18:    Energy =   0.0401
Level     1,  Iter    19:    Energy =   0.0403
Level     1,  Iter    20:    Energy =   0.0404
Level     1,  Iter    21:    Energy =   0.0406
Level     1,  Iter    22:    Energy =   0.0407
Level     1,  Iter    23:    Energy =   0.0408
Level     1,  Iter    24:    Energy =   0.0409
Level     1,  Iter    25:    Energy =   0.0410
Level     1,  Iter    26:    Energy =   0.0411
Level     1,  Iter    27:    Energy =   0.0412
Level     1,  Iter    28:    Energy =   0.0412
Level     1,  Iter    29:    Energy =   0.0413
Level     1,  Iter    30:    Energy =   0.0414
Level     1,  Iter    31:    Energy =   0.0414
Level     1,  Iter    32:    Energy =   0.0415
Level     1,  Iter    33:    Energy =   0.0415
Level     1,  Iter    34:    Energy =   0.0416
Level     1,  Iter    35:    Energy =   0.0416
Level     1,  Iter    36:    Energy =   0.0416
Level     1,  Iter    37:    Energy =   0.0416
Level     1,  Iter    38:    Energy =   0.0416
Level     1,  Iter    39:    Energy =   0.0416
Level     1,  Iter    40:    Energy =   0.0417
Level     1,  Iter    41:    Energy =   0.0416
Level     1,  Iter    42:    Energy =   0.0416
Level     1,  Iter    43:    Energy =   0.0416
Level     1,  Iter    44:    Energy =   0.0416
Level     1,  Iter    45:    Energy =   0.0416
Level     1,  Iter    46:    Energy =   0.0416
Level     1,  Iter    47:    Energy =   0.0416
Level     1,  Iter    48:    Energy =   0.0415
Level     1,  Iter    49:    Energy =   0.0414
Level     1,  Iter    50:    Energy =   0.0413
Level     1,  Iter    51:    Energy =   0.0413
Level     1,  Iter    52:    Energy =   0.0413
Level     1,  Iter    53:    Energy =   0.0413
Level     1,  Iter    54:    Energy =   0.0413
Level     1,  Iter    55:    Energy =   0.0413
Level     1,  Iter    56:    Energy =   0.0413
Level     1,  Iter    57:    Energy =   0.0413
Level     1,  Iter    58:    Energy =   0.0412
Level     1,  Iter    59:    Energy =   0.0412
END OF LEVEL     1    DetJac Range:   0.0285  to   3.0992 
  Avg. Gradient Time  : 0.0297s  33.61% 
  Avg. Gaussian Time  : 0.0461s  52.30% 
  Avg. Iteration Time : 0.0882s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0169
Level     2,  Iter     1:    Energy =   0.0177
Level     2,  Iter     2:    Energy =   0.0185
Level     2,  Iter     3:    Energy =   0.0193
Level     2,  Iter     4:    Energy =   0.0200
Level     2,  Iter     5:    Energy =   0.0207
Level     2,  Iter     6:    Energy =   0.0213
Level     2,  Iter     7:    Energy =   0.0218
Level     2,  Iter     8:    Energy =   0.0223
Level     2,  Iter     9:    Energy =   0.0228
Level     2,  Iter    10:    Energy =   0.0231
Level     2,  Iter    11:    Energy =   0.0235
Level     2,  Iter    12:    Energy =   0.0238
Level     2,  Iter    13:    Energy =   0.0241
Level     2,  Iter    14:    Energy =   0.0243
Level     2,  Iter    15:    Energy =   0.0245
Level     2,  Iter    16:    Energy =   0.0247
Level     2,  Iter    17:    Energy =   0.0248
Level     2,  Iter    18:    Energy =   0.0250
Level     2,  Iter    19:    Energy =   0.0251
END OF LEVEL     2    DetJac Range:   0.0356  to   4.4783 
  Avg. Gradient Time  : 0.2021s  33.43% 
  Avg. Gaussian Time  : 0.3234s  53.50% 
  Avg. Iteration Time : 0.6044s 

real	0m21.571s
user	0m36.832s
sys	0m2.820s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train005/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train005/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train005/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train005/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=5 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=5 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.221429 0.225714
+ echo 'CHUNK 0.221429 0.225714 1'
CHUNK 0.221429 0.225714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.221429 0.225714 1
====================================
         PROGRESS: 0.221429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=006
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 006
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train006
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train006
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left 006 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train006 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=left
+ local tid=006
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train006
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 006 left 0
+ local tid=006
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 006 0
+ set -e
+ local tid=006
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.648
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 663.193   GNORM= 78.9752
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3       186.530      60.912       0.063
   2    4        73.203      55.845       1.000
   3    5        -0.002       0.000       1.000
 THE MINIMIZATION TERMINATED WITHOUT DETECTING ERRORS.
Final RAS Transform: 
1.22671 0.264173 0.602159 -18.4358 
0.10899 1.29318 0.198136 7.51233 
0.584491 -1.13299 1.05378 -42.7377 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -0.00392999   GNORM= 0
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
  THE SEARCH DIRECTION IS NOT A DESCENT DIRECTION
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 0 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.22671 0.264173 0.602159 -18.4358 
0.10899 1.29318 0.198136 7.51233 
0.584491 -1.13299 1.05378 -42.7377 
0 0 0 1 

Final RAS Transform: 
1.22671 0.264173 0.602159 -18.4358 
0.10899 1.29318 0.198136 7.51233 
0.584491 -1.13299 1.05378 -42.7377 
0 0 0 1 


real	0m1.864s
user	0m2.420s
sys	0m0.244s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.0471005
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0002
Level     0,  Iter     1:    Energy =   0.0004
Level     0,  Iter     2:    Energy =   0.0009
Level     0,  Iter     3:    Energy =   0.0013
Level     0,  Iter     4:    Energy =   0.0017
Level     0,  Iter     5:    Energy =   0.0021
Level     0,  Iter     6:    Energy =   0.0026
Level     0,  Iter     7:    Energy =   0.0032
Level     0,  Iter     8:    Energy =   0.0038
Level     0,  Iter     9:    Energy =   0.0042
Level     0,  Iter    10:    Energy =   0.0046
Level     0,  Iter    11:    Energy =   0.0050
Level     0,  Iter    12:    Energy =   0.0052
Level     0,  Iter    13:    Energy =   0.0055
Level     0,  Iter    14:    Energy =   0.0059
Level     0,  Iter    15:    Energy =   0.0061
Level     0,  Iter    16:    Energy =   0.0062
Level     0,  Iter    17:    Energy =   0.0064
Level     0,  Iter    18:    Energy =   0.0065
Level     0,  Iter    19:    Energy =   0.0067
Level     0,  Iter    20:    Energy =   0.0068
Level     0,  Iter    21:    Energy =   0.0068
Level     0,  Iter    22:    Energy =   0.0069
Level     0,  Iter    23:    Energy =   0.0068
Level     0,  Iter    24:    Energy =   0.0069
Level     0,  Iter    25:    Energy =   0.0069
Level     0,  Iter    26:    Energy =   0.0069
Level     0,  Iter    27:    Energy =   0.0069
Level     0,  Iter    28:    Energy =   0.0069
Level     0,  Iter    29:    Energy =   0.0069
Level     0,  Iter    30:    Energy =   0.0069
Level     0,  Iter    31:    Energy =   0.0069
Level     0,  Iter    32:    Energy =   0.0069
Level     0,  Iter    33:    Energy =   0.0070
Level     0,  Iter    34:    Energy =   0.0070
Level     0,  Iter    35:    Energy =   0.0070
Level     0,  Iter    36:    Energy =   0.0070
Level     0,  Iter    37:    Energy =   0.0070
Level     0,  Iter    38:    Energy =   0.0070
Level     0,  Iter    39:    Energy =   0.0071
Level     0,  Iter    40:    Energy =   0.0071
Level     0,  Iter    41:    Energy =   0.0071
Level     0,  Iter    42:    Energy =   0.0072
Level     0,  Iter    43:    Energy =   0.0073
Level     0,  Iter    44:    Energy =   0.0074
Level     0,  Iter    45:    Energy =   0.0075
Level     0,  Iter    46:    Energy =   0.0076
Level     0,  Iter    47:    Energy =   0.0075
Level     0,  Iter    48:    Energy =   0.0076
Level     0,  Iter    49:    Energy =   0.0076
Level     0,  Iter    50:    Energy =   0.0077
Level     0,  Iter    51:    Energy =   0.0076
Level     0,  Iter    52:    Energy =   0.0076
Level     0,  Iter    53:    Energy =   0.0076
Level     0,  Iter    54:    Energy =   0.0077
Level     0,  Iter    55:    Energy =   0.0076
Level     0,  Iter    56:    Energy =   0.0077
Level     0,  Iter    57:    Energy =   0.0076
Level     0,  Iter    58:    Energy =   0.0077
Level     0,  Iter    59:    Energy =   0.0076
END OF LEVEL     0    DetJac Range:   0.0292  to   1.9874 
  Avg. Gradient Time  : 0.0076s  32.92% 
  Avg. Gaussian Time  : 0.0110s  47.85% 
  Avg. Iteration Time : 0.0231s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0001
Level     1,  Iter     1:    Energy =   0.0008
Level     1,  Iter     2:    Energy =   0.0013
Level     1,  Iter     3:    Energy =   0.0019
Level     1,  Iter     4:    Energy =   0.0022
Level     1,  Iter     5:    Energy =   0.0026
Level     1,  Iter     6:    Energy =   0.0027
Level     1,  Iter     7:    Energy =   0.0031
Level     1,  Iter     8:    Energy =   0.0032
Level     1,  Iter     9:    Energy =   0.0034
Level     1,  Iter    10:    Energy =   0.0035
Level     1,  Iter    11:    Energy =   0.0037
Level     1,  Iter    12:    Energy =   0.0037
Level     1,  Iter    13:    Energy =   0.0040
Level     1,  Iter    14:    Energy =   0.0041
Level     1,  Iter    15:    Energy =   0.0043
Level     1,  Iter    16:    Energy =   0.0044
Level     1,  Iter    17:    Energy =   0.0045
Level     1,  Iter    18:    Energy =   0.0048
Level     1,  Iter    19:    Energy =   0.0047
Level     1,  Iter    20:    Energy =   0.0049
Level     1,  Iter    21:    Energy =   0.0051
Level     1,  Iter    22:    Energy =   0.0053
Level     1,  Iter    23:    Energy =   0.0052
Level     1,  Iter    24:    Energy =   0.0054
Level     1,  Iter    25:    Energy =   0.0056
Level     1,  Iter    26:    Energy =   0.0057
Level     1,  Iter    27:    Energy =   0.0058
Level     1,  Iter    28:    Energy =   0.0056
Level     1,  Iter    29:    Energy =   0.0058
Level     1,  Iter    30:    Energy =   0.0059
Level     1,  Iter    31:    Energy =   0.0058
Level     1,  Iter    32:    Energy =   0.0060
Level     1,  Iter    33:    Energy =   0.0058
Level     1,  Iter    34:    Energy =   0.0060
Level     1,  Iter    35:    Energy =   0.0058
Level     1,  Iter    36:    Energy =   0.0060
Level     1,  Iter    37:    Energy =   0.0058
Level     1,  Iter    38:    Energy =   0.0060
Level     1,  Iter    39:    Energy =   0.0062
Level     1,  Iter    40:    Energy =   0.0062
Level     1,  Iter    41:    Energy =   0.0060
Level     1,  Iter    42:    Energy =   0.0061
Level     1,  Iter    43:    Energy =   0.0063
Level     1,  Iter    44:    Energy =   0.0063
Level     1,  Iter    45:    Energy =   0.0065
Level     1,  Iter    46:    Energy =   0.0065
Level     1,  Iter    47:    Energy =   0.0063
Level     1,  Iter    48:    Energy =   0.0064
Level     1,  Iter    49:    Energy =   0.0062
Level     1,  Iter    50:    Energy =   0.0063
Level     1,  Iter    51:    Energy =   0.0062
Level     1,  Iter    52:    Energy =   0.0063
Level     1,  Iter    53:    Energy =   0.0063
Level     1,  Iter    54:    Energy =   0.0064
Level     1,  Iter    55:    Energy =   0.0062
Level     1,  Iter    56:    Energy =   0.0064
Level     1,  Iter    57:    Energy =   0.0065
Level     1,  Iter    58:    Energy =   0.0064
Level     1,  Iter    59:    Energy =   0.0066
END OF LEVEL     1    DetJac Range:   0.0581  to   2.1920 
  Avg. Gradient Time  : 0.0289s  33.49% 
  Avg. Gaussian Time  : 0.0453s  52.45% 
  Avg. Iteration Time : 0.0864s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0000
Level     2,  Iter     1:    Energy =   0.0007
Level     2,  Iter     2:    Energy =   0.0012
Level     2,  Iter     3:    Energy =   0.0017
Level     2,  Iter     4:    Energy =   0.0022
Level     2,  Iter     5:    Energy =   0.0025
Level     2,  Iter     6:    Energy =   0.0029
Level     2,  Iter     7:    Energy =   0.0032
Level     2,  Iter     8:    Energy =   0.0034
Level     2,  Iter     9:    Energy =   0.0036
Level     2,  Iter    10:    Energy =   0.0038
Level     2,  Iter    11:    Energy =   0.0041
Level     2,  Iter    12:    Energy =   0.0042
Level     2,  Iter    13:    Energy =   0.0043
Level     2,  Iter    14:    Energy =   0.0044
Level     2,  Iter    15:    Energy =   0.0044
Level     2,  Iter    16:    Energy =   0.0045
Level     2,  Iter    17:    Energy =   0.0044
Level     2,  Iter    18:    Energy =   0.0044
Level     2,  Iter    19:    Energy =   0.0044
END OF LEVEL     2    DetJac Range:   0.0151  to   2.3912 
  Avg. Gradient Time  : 0.1945s  32.60% 
  Avg. Gaussian Time  : 0.3225s  54.06% 
  Avg. Iteration Time : 0.5967s 

real	0m21.242s
user	0m36.348s
sys	0m2.680s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train006/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train006/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train006/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train006/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=6 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=6 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.225714 0.23
+ echo 'CHUNK 0.225714 0.23 1'
CHUNK 0.225714 0.23 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.225714 0.23 1
====================================
         PROGRESS: 0.225714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=007
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 007
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train007
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train007
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left 007 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train007 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=left
+ local tid=007
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train007
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 007 left 0
+ local tid=007
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 007 0
+ set -e
+ local tid=007
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.485
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 565.235   GNORM= 107.452
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       457.772     111.907       0.009
   2    5      -145.771      95.718       0.669
   3   10      -604.080     126.856       0.121
   4   11      -665.610      80.514       1.000
   5   15      -704.205      47.157       0.902
   6   18      -705.307      64.630       0.000
   7   19      -708.896      58.735       1.000
   8   20      -710.597      49.526       1.000
   9   23      -712.454      73.250       2.982
  10   24      -725.080      59.611       1.000
  11   26      -794.260      34.350       5.000
  12   28      -808.588      76.962       0.104
  13   32      -914.378     164.924       1.537
  14   38      -933.188      91.813       0.073
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.958508 -0.136455 0.350238 -4.2388 
-0.239477 1.04437 -0.334706 3.19352 
0.486011 -0.17381 0.752594 -1.36785 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -351.177   GNORM= 158.294
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -408.046     111.952       0.006
   2    3      -445.736      66.855       1.000
   3    6      -458.408      52.966       0.779
   4   12      -462.618      24.857       0.082
   5   15      -470.203      88.463      21.000
   6   19      -470.334      34.578       0.004
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.956423 -0.132227 0.349277 -3.81799 
-0.238473 1.05507 -0.336026 3.09487 
0.497595 -0.183612 0.756547 -3.56552 
0 0 0 1 

Final RAS Transform: 
0.956423 -0.132227 0.349277 -3.81799 
-0.238473 1.05507 -0.336026 3.09487 
0.497595 -0.183612 0.756547 -3.56552 
0 0 0 1 


real	0m5.231s
user	0m8.272s
sys	0m0.816s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.350886
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0250
Level     0,  Iter     1:    Energy =   0.0269
Level     0,  Iter     2:    Energy =   0.0294
Level     0,  Iter     3:    Energy =   0.0313
Level     0,  Iter     4:    Energy =   0.0327
Level     0,  Iter     5:    Energy =   0.0337
Level     0,  Iter     6:    Energy =   0.0346
Level     0,  Iter     7:    Energy =   0.0352
Level     0,  Iter     8:    Energy =   0.0358
Level     0,  Iter     9:    Energy =   0.0364
Level     0,  Iter    10:    Energy =   0.0372
Level     0,  Iter    11:    Energy =   0.0379
Level     0,  Iter    12:    Energy =   0.0385
Level     0,  Iter    13:    Energy =   0.0392
Level     0,  Iter    14:    Energy =   0.0398
Level     0,  Iter    15:    Energy =   0.0401
Level     0,  Iter    16:    Energy =   0.0406
Level     0,  Iter    17:    Energy =   0.0409
Level     0,  Iter    18:    Energy =   0.0414
Level     0,  Iter    19:    Energy =   0.0417
Level     0,  Iter    20:    Energy =   0.0419
Level     0,  Iter    21:    Energy =   0.0421
Level     0,  Iter    22:    Energy =   0.0423
Level     0,  Iter    23:    Energy =   0.0424
Level     0,  Iter    24:    Energy =   0.0427
Level     0,  Iter    25:    Energy =   0.0428
Level     0,  Iter    26:    Energy =   0.0429
Level     0,  Iter    27:    Energy =   0.0430
Level     0,  Iter    28:    Energy =   0.0431
Level     0,  Iter    29:    Energy =   0.0432
Level     0,  Iter    30:    Energy =   0.0432
Level     0,  Iter    31:    Energy =   0.0434
Level     0,  Iter    32:    Energy =   0.0433
Level     0,  Iter    33:    Energy =   0.0436
Level     0,  Iter    34:    Energy =   0.0434
Level     0,  Iter    35:    Energy =   0.0438
Level     0,  Iter    36:    Energy =   0.0436
Level     0,  Iter    37:    Energy =   0.0439
Level     0,  Iter    38:    Energy =   0.0437
Level     0,  Iter    39:    Energy =   0.0438
Level     0,  Iter    40:    Energy =   0.0437
Level     0,  Iter    41:    Energy =   0.0438
Level     0,  Iter    42:    Energy =   0.0438
Level     0,  Iter    43:    Energy =   0.0439
Level     0,  Iter    44:    Energy =   0.0438
Level     0,  Iter    45:    Energy =   0.0439
Level     0,  Iter    46:    Energy =   0.0438
Level     0,  Iter    47:    Energy =   0.0440
Level     0,  Iter    48:    Energy =   0.0439
Level     0,  Iter    49:    Energy =   0.0441
Level     0,  Iter    50:    Energy =   0.0440
Level     0,  Iter    51:    Energy =   0.0442
Level     0,  Iter    52:    Energy =   0.0441
Level     0,  Iter    53:    Energy =   0.0442
Level     0,  Iter    54:    Energy =   0.0442
Level     0,  Iter    55:    Energy =   0.0442
Level     0,  Iter    56:    Energy =   0.0443
Level     0,  Iter    57:    Energy =   0.0443
Level     0,  Iter    58:    Energy =   0.0444
Level     0,  Iter    59:    Energy =   0.0444
END OF LEVEL     0    DetJac Range:   0.0589  to   1.9894 
  Avg. Gradient Time  : 0.0088s  33.78% 
  Avg. Gaussian Time  : 0.0123s  47.21% 
  Avg. Iteration Time : 0.0262s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0254
Level     1,  Iter     1:    Energy =   0.0270
Level     1,  Iter     2:    Energy =   0.0282
Level     1,  Iter     3:    Energy =   0.0291
Level     1,  Iter     4:    Energy =   0.0299
Level     1,  Iter     5:    Energy =   0.0305
Level     1,  Iter     6:    Energy =   0.0311
Level     1,  Iter     7:    Energy =   0.0317
Level     1,  Iter     8:    Energy =   0.0322
Level     1,  Iter     9:    Energy =   0.0326
Level     1,  Iter    10:    Energy =   0.0330
Level     1,  Iter    11:    Energy =   0.0334
Level     1,  Iter    12:    Energy =   0.0337
Level     1,  Iter    13:    Energy =   0.0339
Level     1,  Iter    14:    Energy =   0.0344
Level     1,  Iter    15:    Energy =   0.0348
Level     1,  Iter    16:    Energy =   0.0352
Level     1,  Iter    17:    Energy =   0.0355
Level     1,  Iter    18:    Energy =   0.0358
Level     1,  Iter    19:    Energy =   0.0361
Level     1,  Iter    20:    Energy =   0.0363
Level     1,  Iter    21:    Energy =   0.0367
Level     1,  Iter    22:    Energy =   0.0369
Level     1,  Iter    23:    Energy =   0.0371
Level     1,  Iter    24:    Energy =   0.0373
Level     1,  Iter    25:    Energy =   0.0375
Level     1,  Iter    26:    Energy =   0.0377
Level     1,  Iter    27:    Energy =   0.0378
Level     1,  Iter    28:    Energy =   0.0380
Level     1,  Iter    29:    Energy =   0.0381
Level     1,  Iter    30:    Energy =   0.0382
Level     1,  Iter    31:    Energy =   0.0383
Level     1,  Iter    32:    Energy =   0.0384
Level     1,  Iter    33:    Energy =   0.0385
Level     1,  Iter    34:    Energy =   0.0386
Level     1,  Iter    35:    Energy =   0.0386
Level     1,  Iter    36:    Energy =   0.0387
Level     1,  Iter    37:    Energy =   0.0388
Level     1,  Iter    38:    Energy =   0.0388
Level     1,  Iter    39:    Energy =   0.0389
Level     1,  Iter    40:    Energy =   0.0389
Level     1,  Iter    41:    Energy =   0.0390
Level     1,  Iter    42:    Energy =   0.0390
Level     1,  Iter    43:    Energy =   0.0391
Level     1,  Iter    44:    Energy =   0.0391
Level     1,  Iter    45:    Energy =   0.0391
Level     1,  Iter    46:    Energy =   0.0392
Level     1,  Iter    47:    Energy =   0.0392
Level     1,  Iter    48:    Energy =   0.0392
Level     1,  Iter    49:    Energy =   0.0393
Level     1,  Iter    50:    Energy =   0.0393
Level     1,  Iter    51:    Energy =   0.0393
Level     1,  Iter    52:    Energy =   0.0393
Level     1,  Iter    53:    Energy =   0.0394
Level     1,  Iter    54:    Energy =   0.0394
Level     1,  Iter    55:    Energy =   0.0394
Level     1,  Iter    56:    Energy =   0.0394
Level     1,  Iter    57:    Energy =   0.0395
Level     1,  Iter    58:    Energy =   0.0395
Level     1,  Iter    59:    Energy =   0.0395
END OF LEVEL     1    DetJac Range:   0.0187  to   2.9810 
  Avg. Gradient Time  : 0.0315s  34.04% 
  Avg. Gaussian Time  : 0.0480s  51.81% 
  Avg. Iteration Time : 0.0927s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0170
Level     2,  Iter     1:    Energy =   0.0178
Level     2,  Iter     2:    Energy =   0.0185
Level     2,  Iter     3:    Energy =   0.0191
Level     2,  Iter     4:    Energy =   0.0195
Level     2,  Iter     5:    Energy =   0.0199
Level     2,  Iter     6:    Energy =   0.0202
Level     2,  Iter     7:    Energy =   0.0204
Level     2,  Iter     8:    Energy =   0.0207
Level     2,  Iter     9:    Energy =   0.0209
Level     2,  Iter    10:    Energy =   0.0211
Level     2,  Iter    11:    Energy =   0.0213
Level     2,  Iter    12:    Energy =   0.0215
Level     2,  Iter    13:    Energy =   0.0216
Level     2,  Iter    14:    Energy =   0.0218
Level     2,  Iter    15:    Energy =   0.0219
Level     2,  Iter    16:    Energy =   0.0220
Level     2,  Iter    17:    Energy =   0.0222
Level     2,  Iter    18:    Energy =   0.0223
Level     2,  Iter    19:    Energy =   0.0224
END OF LEVEL     2    DetJac Range:   0.0165  to   2.6177 
  Avg. Gradient Time  : 0.1871s  31.88% 
  Avg. Gaussian Time  : 0.3205s  54.61% 
  Avg. Iteration Time : 0.5869s 

real	0m21.789s
user	0m37.000s
sys	0m3.056s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train007/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train007/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train007/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train007/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=7 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=7 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.23 0.234286
+ echo 'CHUNK 0.23 0.234286 1'
CHUNK 0.23 0.234286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.23 0.234286 1
====================================
         PROGRESS: 0.23               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=008
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 008
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train008
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train008
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left 008 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train008 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=left
+ local tid=008
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train008
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 008 left 0
+ local tid=008
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 008 0
+ set -e
+ local tid=008
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.618
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 536.521   GNORM= 91.8968
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3        74.267      86.022       0.054
   2    5        10.925       4.941       5.000
   3    6        -1.088       2.684       1.000
   4    9        -2.148       2.310       0.056
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.99416 -0.00864514 0.0312069 -0.374562 
-0.149281 1.18371 -0.232953 7.38674 
-0.0119025 -0.141968 0.898666 -4.25694 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -91.703   GNORM= 256.627
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.994168 -0.00865866 0.0312238 -0.3762 
-0.149307 1.18375 -0.232985 7.39063 
-0.0118951 -0.141977 0.898676 -4.25842 
0 0 0 1 

Final RAS Transform: 
0.994168 -0.00865866 0.0312238 -0.3762 
-0.149307 1.18375 -0.232985 7.39063 
-0.0118951 -0.141977 0.898676 -4.25842 
0 0 0 1 


real	0m3.606s
user	0m5.444s
sys	0m0.472s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.461245
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0068
Level     0,  Iter     1:    Energy =   0.0082
Level     0,  Iter     2:    Energy =   0.0100
Level     0,  Iter     3:    Energy =   0.0130
Level     0,  Iter     4:    Energy =   0.0155
Level     0,  Iter     5:    Energy =   0.0178
Level     0,  Iter     6:    Energy =   0.0199
Level     0,  Iter     7:    Energy =   0.0215
Level     0,  Iter     8:    Energy =   0.0227
Level     0,  Iter     9:    Energy =   0.0237
Level     0,  Iter    10:    Energy =   0.0245
Level     0,  Iter    11:    Energy =   0.0254
Level     0,  Iter    12:    Energy =   0.0262
Level     0,  Iter    13:    Energy =   0.0271
Level     0,  Iter    14:    Energy =   0.0279
Level     0,  Iter    15:    Energy =   0.0288
Level     0,  Iter    16:    Energy =   0.0298
Level     0,  Iter    17:    Energy =   0.0306
Level     0,  Iter    18:    Energy =   0.0314
Level     0,  Iter    19:    Energy =   0.0323
Level     0,  Iter    20:    Energy =   0.0331
Level     0,  Iter    21:    Energy =   0.0339
Level     0,  Iter    22:    Energy =   0.0345
Level     0,  Iter    23:    Energy =   0.0351
Level     0,  Iter    24:    Energy =   0.0358
Level     0,  Iter    25:    Energy =   0.0364
Level     0,  Iter    26:    Energy =   0.0368
Level     0,  Iter    27:    Energy =   0.0372
Level     0,  Iter    28:    Energy =   0.0375
Level     0,  Iter    29:    Energy =   0.0380
Level     0,  Iter    30:    Energy =   0.0387
Level     0,  Iter    31:    Energy =   0.0392
Level     0,  Iter    32:    Energy =   0.0397
Level     0,  Iter    33:    Energy =   0.0402
Level     0,  Iter    34:    Energy =   0.0407
Level     0,  Iter    35:    Energy =   0.0411
Level     0,  Iter    36:    Energy =   0.0415
Level     0,  Iter    37:    Energy =   0.0417
Level     0,  Iter    38:    Energy =   0.0422
Level     0,  Iter    39:    Energy =   0.0424
Level     0,  Iter    40:    Energy =   0.0426
Level     0,  Iter    41:    Energy =   0.0428
Level     0,  Iter    42:    Energy =   0.0429
Level     0,  Iter    43:    Energy =   0.0432
Level     0,  Iter    44:    Energy =   0.0434
Level     0,  Iter    45:    Energy =   0.0436
Level     0,  Iter    46:    Energy =   0.0437
Level     0,  Iter    47:    Energy =   0.0439
Level     0,  Iter    48:    Energy =   0.0439
Level     0,  Iter    49:    Energy =   0.0440
Level     0,  Iter    50:    Energy =   0.0442
Level     0,  Iter    51:    Energy =   0.0442
Level     0,  Iter    52:    Energy =   0.0443
Level     0,  Iter    53:    Energy =   0.0443
Level     0,  Iter    54:    Energy =   0.0444
Level     0,  Iter    55:    Energy =   0.0444
Level     0,  Iter    56:    Energy =   0.0444
Level     0,  Iter    57:    Energy =   0.0443
Level     0,  Iter    58:    Energy =   0.0444
Level     0,  Iter    59:    Energy =   0.0444
END OF LEVEL     0    DetJac Range:   0.0515  to   2.0774 
  Avg. Gradient Time  : 0.0081s  32.60% 
  Avg. Gaussian Time  : 0.0117s  47.04% 
  Avg. Iteration Time : 0.0248s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0240
Level     1,  Iter     1:    Energy =   0.0248
Level     1,  Iter     2:    Energy =   0.0257
Level     1,  Iter     3:    Energy =   0.0268
Level     1,  Iter     4:    Energy =   0.0278
Level     1,  Iter     5:    Energy =   0.0286
Level     1,  Iter     6:    Energy =   0.0293
Level     1,  Iter     7:    Energy =   0.0299
Level     1,  Iter     8:    Energy =   0.0302
Level     1,  Iter     9:    Energy =   0.0305
Level     1,  Iter    10:    Energy =   0.0308
Level     1,  Iter    11:    Energy =   0.0312
Level     1,  Iter    12:    Energy =   0.0316
Level     1,  Iter    13:    Energy =   0.0318
Level     1,  Iter    14:    Energy =   0.0320
Level     1,  Iter    15:    Energy =   0.0322
Level     1,  Iter    16:    Energy =   0.0324
Level     1,  Iter    17:    Energy =   0.0325
Level     1,  Iter    18:    Energy =   0.0327
Level     1,  Iter    19:    Energy =   0.0329
Level     1,  Iter    20:    Energy =   0.0330
Level     1,  Iter    21:    Energy =   0.0331
Level     1,  Iter    22:    Energy =   0.0332
Level     1,  Iter    23:    Energy =   0.0334
Level     1,  Iter    24:    Energy =   0.0335
Level     1,  Iter    25:    Energy =   0.0336
Level     1,  Iter    26:    Energy =   0.0336
Level     1,  Iter    27:    Energy =   0.0337
Level     1,  Iter    28:    Energy =   0.0337
Level     1,  Iter    29:    Energy =   0.0338
Level     1,  Iter    30:    Energy =   0.0338
Level     1,  Iter    31:    Energy =   0.0338
Level     1,  Iter    32:    Energy =   0.0339
Level     1,  Iter    33:    Energy =   0.0339
Level     1,  Iter    34:    Energy =   0.0339
Level     1,  Iter    35:    Energy =   0.0339
Level     1,  Iter    36:    Energy =   0.0340
Level     1,  Iter    37:    Energy =   0.0340
Level     1,  Iter    38:    Energy =   0.0340
Level     1,  Iter    39:    Energy =   0.0340
Level     1,  Iter    40:    Energy =   0.0340
Level     1,  Iter    41:    Energy =   0.0340
Level     1,  Iter    42:    Energy =   0.0340
Level     1,  Iter    43:    Energy =   0.0341
Level     1,  Iter    44:    Energy =   0.0341
Level     1,  Iter    45:    Energy =   0.0341
Level     1,  Iter    46:    Energy =   0.0341
Level     1,  Iter    47:    Energy =   0.0341
Level     1,  Iter    48:    Energy =   0.0340
Level     1,  Iter    49:    Energy =   0.0340
Level     1,  Iter    50:    Energy =   0.0340
Level     1,  Iter    51:    Energy =   0.0340
Level     1,  Iter    52:    Energy =   0.0341
Level     1,  Iter    53:    Energy =   0.0341
Level     1,  Iter    54:    Energy =   0.0341
Level     1,  Iter    55:    Energy =   0.0341
Level     1,  Iter    56:    Energy =   0.0341
Level     1,  Iter    57:    Energy =   0.0341
Level     1,  Iter    58:    Energy =   0.0341
Level     1,  Iter    59:    Energy =   0.0341
END OF LEVEL     1    DetJac Range:   0.0664  to   2.0561 
  Avg. Gradient Time  : 0.0324s  34.11% 
  Avg. Gaussian Time  : 0.0492s  51.85% 
  Avg. Iteration Time : 0.0950s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0155
Level     2,  Iter     1:    Energy =   0.0162
Level     2,  Iter     2:    Energy =   0.0167
Level     2,  Iter     3:    Energy =   0.0173
Level     2,  Iter     4:    Energy =   0.0178
Level     2,  Iter     5:    Energy =   0.0183
Level     2,  Iter     6:    Energy =   0.0186
Level     2,  Iter     7:    Energy =   0.0189
Level     2,  Iter     8:    Energy =   0.0191
Level     2,  Iter     9:    Energy =   0.0194
Level     2,  Iter    10:    Energy =   0.0196
Level     2,  Iter    11:    Energy =   0.0198
Level     2,  Iter    12:    Energy =   0.0200
Level     2,  Iter    13:    Energy =   0.0202
Level     2,  Iter    14:    Energy =   0.0203
Level     2,  Iter    15:    Energy =   0.0205
Level     2,  Iter    16:    Energy =   0.0207
Level     2,  Iter    17:    Energy =   0.0208
Level     2,  Iter    18:    Energy =   0.0209
Level     2,  Iter    19:    Energy =   0.0211
END OF LEVEL     2    DetJac Range:   0.0654  to   2.4479 
  Avg. Gradient Time  : 0.1929s  32.87% 
  Avg. Gaussian Time  : 0.3161s  53.85% 
  Avg. Iteration Time : 0.5869s 

real	0m21.856s
user	0m37.268s
sys	0m2.872s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train008/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train008/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train008/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train008/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=8 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=8 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.234286 0.238571
+ echo 'CHUNK 0.234286 0.238571 1'
CHUNK 0.234286 0.238571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.234286 0.238571 1
====================================
         PROGRESS: 0.234286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=009
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 009
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train009
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train009
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left 009 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train009 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=left
+ local tid=009
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train009
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 009 left 0
+ local tid=009
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 009 0
+ set -e
+ local tid=009
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.584
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 650.645   GNORM= 86.1835
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3       268.859     114.179       0.058
   2    4       136.798      97.464       1.000
   3   10       -23.168      91.226       0.694
   4   12      -100.799      32.042       0.331
   5   13      -370.831      55.488       1.000
   6   17      -399.876     101.261       0.064
   7   22      -419.427     472.276       0.116
   8   29      -419.952     187.156       0.000
   9   30      -480.451     199.039       1.000
  10   33      -505.200     110.246       0.074
  11   36      -528.184     239.798       2.273
  12   38      -531.638      34.644       0.302
  13   43      -537.986      31.731       0.961
  14   49      -557.458      16.808       5.543
  15   50      -558.042      44.314       1.000
  16   52      -567.027      49.899       0.349
  17   53      -570.556      97.732       1.000
  18   54      -585.898      48.255       1.000
  19   56      -634.093      91.600       5.000
  20   57      -676.896      46.130       1.000
  21   58      -692.185      23.135       1.000
  22   61      -703.915     144.085       2.528
Final RAS Transform: 
0.80415 0.0887477 -0.46831 4.64183 
-0.0896373 0.702266 -0.137202 9.80774 
0.152763 -0.383385 0.78284 -12.888 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -325.141   GNORM= 41607.8
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    6      -325.244    2519.125       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.804127 0.0887335 -0.468345 4.64206 
-0.0897115 0.702427 -0.137167 9.81294 
0.152763 -0.38341 0.782872 -12.8868 
0 0 0 1 

Final RAS Transform: 
0.804127 0.0887335 -0.468345 4.64206 
-0.0897115 0.702427 -0.137167 9.81294 
0.152763 -0.38341 0.782872 -12.8868 
0 0 0 1 


real	0m3.962s
user	0m6.000s
sys	0m0.668s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.373577
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0168
Level     0,  Iter     1:    Energy =   0.0182
Level     0,  Iter     2:    Energy =   0.0199
Level     0,  Iter     3:    Energy =   0.0214
Level     0,  Iter     4:    Energy =   0.0229
Level     0,  Iter     5:    Energy =   0.0243
Level     0,  Iter     6:    Energy =   0.0256
Level     0,  Iter     7:    Energy =   0.0268
Level     0,  Iter     8:    Energy =   0.0277
Level     0,  Iter     9:    Energy =   0.0285
Level     0,  Iter    10:    Energy =   0.0293
Level     0,  Iter    11:    Energy =   0.0300
Level     0,  Iter    12:    Energy =   0.0306
Level     0,  Iter    13:    Energy =   0.0312
Level     0,  Iter    14:    Energy =   0.0318
Level     0,  Iter    15:    Energy =   0.0322
Level     0,  Iter    16:    Energy =   0.0327
Level     0,  Iter    17:    Energy =   0.0332
Level     0,  Iter    18:    Energy =   0.0336
Level     0,  Iter    19:    Energy =   0.0340
Level     0,  Iter    20:    Energy =   0.0344
Level     0,  Iter    21:    Energy =   0.0347
Level     0,  Iter    22:    Energy =   0.0350
Level     0,  Iter    23:    Energy =   0.0354
Level     0,  Iter    24:    Energy =   0.0357
Level     0,  Iter    25:    Energy =   0.0359
Level     0,  Iter    26:    Energy =   0.0362
Level     0,  Iter    27:    Energy =   0.0365
Level     0,  Iter    28:    Energy =   0.0368
Level     0,  Iter    29:    Energy =   0.0371
Level     0,  Iter    30:    Energy =   0.0374
Level     0,  Iter    31:    Energy =   0.0378
Level     0,  Iter    32:    Energy =   0.0380
Level     0,  Iter    33:    Energy =   0.0382
Level     0,  Iter    34:    Energy =   0.0384
Level     0,  Iter    35:    Energy =   0.0385
Level     0,  Iter    36:    Energy =   0.0387
Level     0,  Iter    37:    Energy =   0.0389
Level     0,  Iter    38:    Energy =   0.0391
Level     0,  Iter    39:    Energy =   0.0393
Level     0,  Iter    40:    Energy =   0.0395
Level     0,  Iter    41:    Energy =   0.0397
Level     0,  Iter    42:    Energy =   0.0399
Level     0,  Iter    43:    Energy =   0.0401
Level     0,  Iter    44:    Energy =   0.0402
Level     0,  Iter    45:    Energy =   0.0404
Level     0,  Iter    46:    Energy =   0.0406
Level     0,  Iter    47:    Energy =   0.0408
Level     0,  Iter    48:    Energy =   0.0411
Level     0,  Iter    49:    Energy =   0.0413
Level     0,  Iter    50:    Energy =   0.0415
Level     0,  Iter    51:    Energy =   0.0416
Level     0,  Iter    52:    Energy =   0.0418
Level     0,  Iter    53:    Energy =   0.0420
Level     0,  Iter    54:    Energy =   0.0421
Level     0,  Iter    55:    Energy =   0.0423
Level     0,  Iter    56:    Energy =   0.0424
Level     0,  Iter    57:    Energy =   0.0426
Level     0,  Iter    58:    Energy =   0.0427
Level     0,  Iter    59:    Energy =   0.0428
END OF LEVEL     0    DetJac Range:   0.0713  to   1.8723 
  Avg. Gradient Time  : 0.0080s  33.16% 
  Avg. Gaussian Time  : 0.0115s  48.01% 
  Avg. Iteration Time : 0.0240s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0229
Level     1,  Iter     1:    Energy =   0.0242
Level     1,  Iter     2:    Energy =   0.0253
Level     1,  Iter     3:    Energy =   0.0261
Level     1,  Iter     4:    Energy =   0.0267
Level     1,  Iter     5:    Energy =   0.0273
Level     1,  Iter     6:    Energy =   0.0277
Level     1,  Iter     7:    Energy =   0.0282
Level     1,  Iter     8:    Energy =   0.0286
Level     1,  Iter     9:    Energy =   0.0290
Level     1,  Iter    10:    Energy =   0.0293
Level     1,  Iter    11:    Energy =   0.0295
Level     1,  Iter    12:    Energy =   0.0297
Level     1,  Iter    13:    Energy =   0.0299
Level     1,  Iter    14:    Energy =   0.0300
Level     1,  Iter    15:    Energy =   0.0300
Level     1,  Iter    16:    Energy =   0.0301
Level     1,  Iter    17:    Energy =   0.0300
Level     1,  Iter    18:    Energy =   0.0300
Level     1,  Iter    19:    Energy =   0.0300
Level     1,  Iter    20:    Energy =   0.0299
Level     1,  Iter    21:    Energy =   0.0298
Level     1,  Iter    22:    Energy =   0.0298
Level     1,  Iter    23:    Energy =   0.0297
Level     1,  Iter    24:    Energy =   0.0297
Level     1,  Iter    25:    Energy =   0.0296
Level     1,  Iter    26:    Energy =   0.0296
Level     1,  Iter    27:    Energy =   0.0295
Level     1,  Iter    28:    Energy =   0.0295
Level     1,  Iter    29:    Energy =   0.0295
Level     1,  Iter    30:    Energy =   0.0294
Level     1,  Iter    31:    Energy =   0.0294
Level     1,  Iter    32:    Energy =   0.0294
Level     1,  Iter    33:    Energy =   0.0293
Level     1,  Iter    34:    Energy =   0.0293
Level     1,  Iter    35:    Energy =   0.0292
Level     1,  Iter    36:    Energy =   0.0292
Level     1,  Iter    37:    Energy =   0.0292
Level     1,  Iter    38:    Energy =   0.0292
Level     1,  Iter    39:    Energy =   0.0292
Level     1,  Iter    40:    Energy =   0.0292
Level     1,  Iter    41:    Energy =   0.0291
Level     1,  Iter    42:    Energy =   0.0291
Level     1,  Iter    43:    Energy =   0.0291
Level     1,  Iter    44:    Energy =   0.0291
Level     1,  Iter    45:    Energy =   0.0291
Level     1,  Iter    46:    Energy =   0.0291
Level     1,  Iter    47:    Energy =   0.0291
Level     1,  Iter    48:    Energy =   0.0291
Level     1,  Iter    49:    Energy =   0.0290
Level     1,  Iter    50:    Energy =   0.0290
Level     1,  Iter    51:    Energy =   0.0290
Level     1,  Iter    52:    Energy =   0.0290
Level     1,  Iter    53:    Energy =   0.0290
Level     1,  Iter    54:    Energy =   0.0290
Level     1,  Iter    55:    Energy =   0.0290
Level     1,  Iter    56:    Energy =   0.0289
Level     1,  Iter    57:    Energy =   0.0289
Level     1,  Iter    58:    Energy =   0.0289
Level     1,  Iter    59:    Energy =   0.0289
END OF LEVEL     1    DetJac Range:   0.1059  to   1.9805 
  Avg. Gradient Time  : 0.0292s  33.29% 
  Avg. Gaussian Time  : 0.0462s  52.61% 
  Avg. Iteration Time : 0.0878s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0130
Level     2,  Iter     1:    Energy =   0.0137
Level     2,  Iter     2:    Energy =   0.0143
Level     2,  Iter     3:    Energy =   0.0148
Level     2,  Iter     4:    Energy =   0.0152
Level     2,  Iter     5:    Energy =   0.0157
Level     2,  Iter     6:    Energy =   0.0162
Level     2,  Iter     7:    Energy =   0.0166
Level     2,  Iter     8:    Energy =   0.0171
Level     2,  Iter     9:    Energy =   0.0174
Level     2,  Iter    10:    Energy =   0.0178
Level     2,  Iter    11:    Energy =   0.0181
Level     2,  Iter    12:    Energy =   0.0184
Level     2,  Iter    13:    Energy =   0.0186
Level     2,  Iter    14:    Energy =   0.0184
Level     2,  Iter    15:    Energy =   0.0187
Level     2,  Iter    16:    Energy =   0.0189
Level     2,  Iter    17:    Energy =   0.0191
Level     2,  Iter    18:    Energy =   0.0193
Level     2,  Iter    19:    Energy =   0.0195
END OF LEVEL     2    DetJac Range:   0.0391  to   2.4754 
  Avg. Gradient Time  : 0.1909s  32.80% 
  Avg. Gaussian Time  : 0.3138s  53.90% 
  Avg. Iteration Time : 0.5822s 

real	0m21.120s
user	0m36.032s
sys	0m2.844s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train009/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train009/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train009/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train009/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=9 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=9 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.238571 0.242857
+ echo 'CHUNK 0.238571 0.242857 1'
CHUNK 0.238571 0.242857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.238571 0.242857 1
====================================
         PROGRESS: 0.238571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=010
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 010
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train010
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train010
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left 010 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train010 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=left
+ local tid=010
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train010
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 010 left 0
+ local tid=010
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 010 0
+ set -e
+ local tid=010
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ awk '{print ($1 == 0.0)}'
++ echo 0
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.6
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 558.825   GNORM= 142.162
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3       -29.416     109.893       0.035
   2    5       -46.000      80.585       5.000
   3    6      -469.045      58.375       1.000
   4   11      -546.760     144.730       0.690
   5   12      -626.768     118.714       1.000
   6   13      -796.770      59.420       1.000
   7   15      -811.139     280.868       0.177
   8   22      -811.376      50.364       0.003
   9   23      -829.997      92.510       1.000
  10   25      -895.762     198.362       5.000
  11   26      -998.635      90.428       1.000
  12   27     -1132.483      70.119       1.000
  13   29     -1172.609     161.249       0.125
  14   31     -1216.441     129.492       0.425
  15   32     -1244.482      54.024       1.000
  16   35     -1270.189      60.963       2.615
  17   37     -1278.826      50.950       0.483
  18   39     -1289.194      65.391       0.427
  19   40     -1300.394      52.636       1.000
  20   41     -1327.309      71.184       1.000
  21   42     -1337.591      25.648       1.000
  22   43     -1342.609      43.143       1.000
  23   45     -1343.718      38.498       0.115
  24   46     -1347.096      25.030       1.000
  25   47     -1353.411      24.544       1.000
  26   48     -1356.072      30.265       1.000
  27   49     -1358.356      36.818       1.000
  28   50     -1366.410      21.423       1.000
  29   51     -1374.631      20.628       1.000
  30   53     -1376.154      34.185       0.379
  31   54     -1378.081      24.613       1.000
  32   57     -1383.600      29.250       3.107
  33   59     -1384.338      34.556       0.066
  34   60     -1386.012      29.702       1.000
  35   61     -1388.392      51.088       1.000
Final RAS Transform: 
0.820877 -0.196955 0.273206 -2.0781 
-0.322576 1.0079 -0.0919423 5.97537 
0.41787 -0.199558 0.509756 -5.38877 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -637.722   GNORM= 32.8398
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -638.946      23.665       0.030
   2    5      -652.034      20.555       2.216
   3    6      -656.884      43.749       1.000
   4    7      -669.913      34.174       1.000
   5    8      -687.714      44.713       1.000
   6   10      -723.186      52.921       0.345
   7   11      -733.779      53.919       1.000
   8   13      -742.577      18.599       0.500
   9   14      -743.840      25.857       1.000
  10   15      -744.770      11.944       1.000
  11   16      -745.568      18.040       1.000
  12   17      -747.266      21.420       1.000
  13   18      -754.797      33.066       1.000
  14   20      -756.005      26.227       0.368
  15   21      -757.417      21.648       1.000
  16   23      -758.095      12.906       0.341
  17   24      -758.858       9.446       1.000
  18   25      -759.764      17.968       1.000
  19   26      -761.310      14.555       1.000
  20   27      -772.817      41.328       1.000
  21   29      -773.054      40.494       0.060
  22   30      -779.126      43.507       1.000
  23   32      -797.015      31.316       0.235
  24   34      -799.726      45.653       0.394
  25   35      -805.497      20.495       1.000
  26   36      -808.926      18.617       1.000
  27   37      -810.320      29.569       1.000
  28   38      -812.523      20.061       1.000
  29   39      -815.270      14.778       1.000
  30   40      -819.914      26.244       1.000
  31   41      -823.572      40.732       1.000
  32   42      -830.326      27.421       1.000
  33   44      -831.392      20.330       0.184
  34   45      -834.519      12.703       1.000
  35   46      -836.530      18.880       1.000
  36   47      -840.668      10.919       1.000
  37   49      -842.729      24.630       0.344
  38   50      -845.967      29.063       1.000
  39   52      -848.434      18.462       0.506
  40   53      -849.633      15.983       1.000
  41   54      -849.938       4.704       1.000
  42   56      -850.150       4.137       5.000
  43   57      -850.450       8.849       1.000
  44   58      -851.216       8.342       1.000
  45   60      -851.373       8.042       0.108
  46   61      -851.530       8.332       1.000
Final RAS Transform: 
0.715768 -0.100542 0.153044 -9.66044 
-0.268663 1.04825 -0.196855 4.07633 
0.343778 -0.165137 0.198784 -13.8196 
0 0 0 1 

Final RAS Transform: 
0.715768 -0.100542 0.153044 -9.66044 
-0.268663 1.04825 -0.196855 4.07633 
0.343778 -0.165137 0.198784 -13.8196 
0 0 0 1 


real	0m6.573s
user	0m10.832s
sys	0m0.848s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.333199
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0348
Level     0,  Iter     1:    Energy =   0.0367
Level     0,  Iter     2:    Energy =   0.0391
Level     0,  Iter     3:    Energy =   0.0410
Level     0,  Iter     4:    Energy =   0.0426
Level     0,  Iter     5:    Energy =   0.0441
Level     0,  Iter     6:    Energy =   0.0452
Level     0,  Iter     7:    Energy =   0.0459
Level     0,  Iter     8:    Energy =   0.0468
Level     0,  Iter     9:    Energy =   0.0475
Level     0,  Iter    10:    Energy =   0.0480
Level     0,  Iter    11:    Energy =   0.0487
Level     0,  Iter    12:    Energy =   0.0494
Level     0,  Iter    13:    Energy =   0.0501
Level     0,  Iter    14:    Energy =   0.0505
Level     0,  Iter    15:    Energy =   0.0512
Level     0,  Iter    16:    Energy =   0.0516
Level     0,  Iter    17:    Energy =   0.0523
Level     0,  Iter    18:    Energy =   0.0524
Level     0,  Iter    19:    Energy =   0.0529
Level     0,  Iter    20:    Energy =   0.0528
Level     0,  Iter    21:    Energy =   0.0533
Level     0,  Iter    22:    Energy =   0.0530
Level     0,  Iter    23:    Energy =   0.0532
Level     0,  Iter    24:    Energy =   0.0532
Level     0,  Iter    25:    Energy =   0.0533
Level     0,  Iter    26:    Energy =   0.0536
Level     0,  Iter    27:    Energy =   0.0537
Level     0,  Iter    28:    Energy =   0.0539
Level     0,  Iter    29:    Energy =   0.0542
Level     0,  Iter    30:    Energy =   0.0540
Level     0,  Iter    31:    Energy =   0.0542
Level     0,  Iter    32:    Energy =   0.0539
Level     0,  Iter    33:    Energy =   0.0544
Level     0,  Iter    34:    Energy =   0.0541
Level     0,  Iter    35:    Energy =   0.0543
Level     0,  Iter    36:    Energy =   0.0542
Level     0,  Iter    37:    Energy =   0.0544
Level     0,  Iter    38:    Energy =   0.0542
Level     0,  Iter    39:    Energy =   0.0544
Level     0,  Iter    40:    Energy =   0.0542
Level     0,  Iter    41:    Energy =   0.0544
Level     0,  Iter    42:    Energy =   0.0542
Level     0,  Iter    43:    Energy =   0.0544
Level     0,  Iter    44:    Energy =   0.0542
Level     0,  Iter    45:    Energy =   0.0545
Level     0,  Iter    46:    Energy =   0.0542
Level     0,  Iter    47:    Energy =   0.0545
Level     0,  Iter    48:    Energy =   0.0543
Level     0,  Iter    49:    Energy =   0.0546
Level     0,  Iter    50:    Energy =   0.0543
Level     0,  Iter    51:    Energy =   0.0545
Level     0,  Iter    52:    Energy =   0.0543
Level     0,  Iter    53:    Energy =   0.0547
Level     0,  Iter    54:    Energy =   0.0543
Level     0,  Iter    55:    Energy =   0.0546
Level     0,  Iter    56:    Energy =   0.0544
Level     0,  Iter    57:    Energy =   0.0547
Level     0,  Iter    58:    Energy =   0.0544
Level     0,  Iter    59:    Energy =   0.0546
END OF LEVEL     0    DetJac Range:   0.1921  to   2.2197 
  Avg. Gradient Time  : 0.0075s  32.94% 
  Avg. Gaussian Time  : 0.0109s  48.35% 
  Avg. Iteration Time : 0.0226s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0301
Level     1,  Iter     1:    Energy =   0.0310
Level     1,  Iter     2:    Energy =   0.0317
Level     1,  Iter     3:    Energy =   0.0329
Level     1,  Iter     4:    Energy =   0.0340
Level     1,  Iter     5:    Energy =   0.0348
Level     1,  Iter     6:    Energy =   0.0354
Level     1,  Iter     7:    Energy =   0.0360
Level     1,  Iter     8:    Energy =   0.0366
Level     1,  Iter     9:    Energy =   0.0372
Level     1,  Iter    10:    Energy =   0.0376
Level     1,  Iter    11:    Energy =   0.0381
Level     1,  Iter    12:    Energy =   0.0386
Level     1,  Iter    13:    Energy =   0.0390
Level     1,  Iter    14:    Energy =   0.0394
Level     1,  Iter    15:    Energy =   0.0398
Level     1,  Iter    16:    Energy =   0.0401
Level     1,  Iter    17:    Energy =   0.0404
Level     1,  Iter    18:    Energy =   0.0408
Level     1,  Iter    19:    Energy =   0.0412
Level     1,  Iter    20:    Energy =   0.0415
Level     1,  Iter    21:    Energy =   0.0417
Level     1,  Iter    22:    Energy =   0.0418
Level     1,  Iter    23:    Energy =   0.0420
Level     1,  Iter    24:    Energy =   0.0423
Level     1,  Iter    25:    Energy =   0.0424
Level     1,  Iter    26:    Energy =   0.0426
Level     1,  Iter    27:    Energy =   0.0428
Level     1,  Iter    28:    Energy =   0.0429
Level     1,  Iter    29:    Energy =   0.0431
Level     1,  Iter    30:    Energy =   0.0433
Level     1,  Iter    31:    Energy =   0.0433
Level     1,  Iter    32:    Energy =   0.0433
Level     1,  Iter    33:    Energy =   0.0434
Level     1,  Iter    34:    Energy =   0.0434
Level     1,  Iter    35:    Energy =   0.0434
Level     1,  Iter    36:    Energy =   0.0434
Level     1,  Iter    37:    Energy =   0.0435
Level     1,  Iter    38:    Energy =   0.0435
Level     1,  Iter    39:    Energy =   0.0435
Level     1,  Iter    40:    Energy =   0.0435
Level     1,  Iter    41:    Energy =   0.0435
Level     1,  Iter    42:    Energy =   0.0435
Level     1,  Iter    43:    Energy =   0.0436
Level     1,  Iter    44:    Energy =   0.0436
Level     1,  Iter    45:    Energy =   0.0436
Level     1,  Iter    46:    Energy =   0.0436
Level     1,  Iter    47:    Energy =   0.0436
Level     1,  Iter    48:    Energy =   0.0436
Level     1,  Iter    49:    Energy =   0.0436
Level     1,  Iter    50:    Energy =   0.0436
Level     1,  Iter    51:    Energy =   0.0436
Level     1,  Iter    52:    Energy =   0.0435
Level     1,  Iter    53:    Energy =   0.0436
Level     1,  Iter    54:    Energy =   0.0436
Level     1,  Iter    55:    Energy =   0.0436
Level     1,  Iter    56:    Energy =   0.0436
Level     1,  Iter    57:    Energy =   0.0435
Level     1,  Iter    58:    Energy =   0.0435
Level     1,  Iter    59:    Energy =   0.0434
END OF LEVEL     1    DetJac Range:   0.0943  to   2.5945 
  Avg. Gradient Time  : 0.0301s  34.20% 
  Avg. Gaussian Time  : 0.0457s  51.88% 
  Avg. Iteration Time : 0.0881s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0211
Level     2,  Iter     1:    Energy =   0.0216
Level     2,  Iter     2:    Energy =   0.0222
Level     2,  Iter     3:    Energy =   0.0226
Level     2,  Iter     4:    Energy =   0.0231
Level     2,  Iter     5:    Energy =   0.0235
Level     2,  Iter     6:    Energy =   0.0239
Level     2,  Iter     7:    Energy =   0.0244
Level     2,  Iter     8:    Energy =   0.0249
Level     2,  Iter     9:    Energy =   0.0253
Level     2,  Iter    10:    Energy =   0.0257
Level     2,  Iter    11:    Energy =   0.0261
Level     2,  Iter    12:    Energy =   0.0264
Level     2,  Iter    13:    Energy =   0.0267
Level     2,  Iter    14:    Energy =   0.0268
Level     2,  Iter    15:    Energy =   0.0270
Level     2,  Iter    16:    Energy =   0.0272
Level     2,  Iter    17:    Energy =   0.0274
Level     2,  Iter    18:    Energy =   0.0276
Level     2,  Iter    19:    Energy =   0.0277
END OF LEVEL     2    DetJac Range:   0.0758  to   4.2411 
  Avg. Gradient Time  : 0.1870s  32.30% 
  Avg. Gaussian Time  : 0.3139s  54.21% 
  Avg. Iteration Time : 0.5790s 

real	0m21.113s
user	0m35.896s
sys	0m2.828s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train010/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train010/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train010/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train010/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=10 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=10 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.242857 0.247143
+ echo 'CHUNK 0.242857 0.247143 1'
CHUNK 0.242857 0.247143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.242857 0.247143 1
====================================
         PROGRESS: 0.242857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=011
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 011
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train011
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train011
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left 011 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train011 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=left
+ local tid=011
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train011
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 011 left 0
+ local tid=011
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 011 0
+ set -e
+ local tid=011
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.612
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 544.134   GNORM= 107.562
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       466.539      59.799       0.009
   2    4      -103.703     112.643       5.000
   3    9      -360.363     144.394       1.014
   4   22      -444.974     140.527       0.131
   5   23      -618.342      84.308       1.000
   6   25      -654.121      75.172       0.149
   7   30      -670.640     890.005       0.229
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.14762 0.0693045 0.225441 -3.37317 
-0.163857 1.19955 -0.164189 9.04442 
0.0300802 -0.273991 0.808606 -6.41315 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -288.204   GNORM= 273612
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -335.038     111.233       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.14043 0.0789772 0.222775 -2.79817 
-0.162145 1.19845 -0.164409 8.90898 
0.0319227 -0.277398 0.807235 -6.582 
0 0 0 1 

Final RAS Transform: 
1.14043 0.0789772 0.222775 -2.79817 
-0.162145 1.19845 -0.164409 8.90898 
0.0319227 -0.277398 0.807235 -6.582 
0 0 0 1 


real	0m3.905s
user	0m5.920s
sys	0m0.564s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.362338
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0181
Level     0,  Iter     1:    Energy =   0.0196
Level     0,  Iter     2:    Energy =   0.0216
Level     0,  Iter     3:    Energy =   0.0240
Level     0,  Iter     4:    Energy =   0.0258
Level     0,  Iter     5:    Energy =   0.0275
Level     0,  Iter     6:    Energy =   0.0291
Level     0,  Iter     7:    Energy =   0.0304
Level     0,  Iter     8:    Energy =   0.0316
Level     0,  Iter     9:    Energy =   0.0327
Level     0,  Iter    10:    Energy =   0.0338
Level     0,  Iter    11:    Energy =   0.0347
Level     0,  Iter    12:    Energy =   0.0355
Level     0,  Iter    13:    Energy =   0.0360
Level     0,  Iter    14:    Energy =   0.0364
Level     0,  Iter    15:    Energy =   0.0367
Level     0,  Iter    16:    Energy =   0.0371
Level     0,  Iter    17:    Energy =   0.0374
Level     0,  Iter    18:    Energy =   0.0377
Level     0,  Iter    19:    Energy =   0.0379
Level     0,  Iter    20:    Energy =   0.0382
Level     0,  Iter    21:    Energy =   0.0385
Level     0,  Iter    22:    Energy =   0.0387
Level     0,  Iter    23:    Energy =   0.0389
Level     0,  Iter    24:    Energy =   0.0391
Level     0,  Iter    25:    Energy =   0.0393
Level     0,  Iter    26:    Energy =   0.0396
Level     0,  Iter    27:    Energy =   0.0398
Level     0,  Iter    28:    Energy =   0.0400
Level     0,  Iter    29:    Energy =   0.0402
Level     0,  Iter    30:    Energy =   0.0405
Level     0,  Iter    31:    Energy =   0.0408
Level     0,  Iter    32:    Energy =   0.0411
Level     0,  Iter    33:    Energy =   0.0413
Level     0,  Iter    34:    Energy =   0.0415
Level     0,  Iter    35:    Energy =   0.0418
Level     0,  Iter    36:    Energy =   0.0420
Level     0,  Iter    37:    Energy =   0.0423
Level     0,  Iter    38:    Energy =   0.0425
Level     0,  Iter    39:    Energy =   0.0427
Level     0,  Iter    40:    Energy =   0.0429
Level     0,  Iter    41:    Energy =   0.0431
Level     0,  Iter    42:    Energy =   0.0432
Level     0,  Iter    43:    Energy =   0.0436
Level     0,  Iter    44:    Energy =   0.0441
Level     0,  Iter    45:    Energy =   0.0444
Level     0,  Iter    46:    Energy =   0.0447
Level     0,  Iter    47:    Energy =   0.0451
Level     0,  Iter    48:    Energy =   0.0453
Level     0,  Iter    49:    Energy =   0.0456
Level     0,  Iter    50:    Energy =   0.0457
Level     0,  Iter    51:    Energy =   0.0460
Level     0,  Iter    52:    Energy =   0.0462
Level     0,  Iter    53:    Energy =   0.0464
Level     0,  Iter    54:    Energy =   0.0467
Level     0,  Iter    55:    Energy =   0.0468
Level     0,  Iter    56:    Energy =   0.0471
Level     0,  Iter    57:    Energy =   0.0472
Level     0,  Iter    58:    Energy =   0.0475
Level     0,  Iter    59:    Energy =   0.0476
END OF LEVEL     0    DetJac Range:   0.1607  to   3.6961 
  Avg. Gradient Time  : 0.0083s  33.52% 
  Avg. Gaussian Time  : 0.0118s  47.42% 
  Avg. Iteration Time : 0.0249s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0276
Level     1,  Iter     1:    Energy =   0.0286
Level     1,  Iter     2:    Energy =   0.0301
Level     1,  Iter     3:    Energy =   0.0313
Level     1,  Iter     4:    Energy =   0.0321
Level     1,  Iter     5:    Energy =   0.0329
Level     1,  Iter     6:    Energy =   0.0334
Level     1,  Iter     7:    Energy =   0.0338
Level     1,  Iter     8:    Energy =   0.0342
Level     1,  Iter     9:    Energy =   0.0345
Level     1,  Iter    10:    Energy =   0.0347
Level     1,  Iter    11:    Energy =   0.0349
Level     1,  Iter    12:    Energy =   0.0351
Level     1,  Iter    13:    Energy =   0.0352
Level     1,  Iter    14:    Energy =   0.0354
Level     1,  Iter    15:    Energy =   0.0355
Level     1,  Iter    16:    Energy =   0.0357
Level     1,  Iter    17:    Energy =   0.0358
Level     1,  Iter    18:    Energy =   0.0359
Level     1,  Iter    19:    Energy =   0.0360
Level     1,  Iter    20:    Energy =   0.0362
Level     1,  Iter    21:    Energy =   0.0362
Level     1,  Iter    22:    Energy =   0.0363
Level     1,  Iter    23:    Energy =   0.0365
Level     1,  Iter    24:    Energy =   0.0366
Level     1,  Iter    25:    Energy =   0.0367
Level     1,  Iter    26:    Energy =   0.0368
Level     1,  Iter    27:    Energy =   0.0369
Level     1,  Iter    28:    Energy =   0.0370
Level     1,  Iter    29:    Energy =   0.0371
Level     1,  Iter    30:    Energy =   0.0372
Level     1,  Iter    31:    Energy =   0.0373
Level     1,  Iter    32:    Energy =   0.0374
Level     1,  Iter    33:    Energy =   0.0374
Level     1,  Iter    34:    Energy =   0.0375
Level     1,  Iter    35:    Energy =   0.0376
Level     1,  Iter    36:    Energy =   0.0377
Level     1,  Iter    37:    Energy =   0.0377
Level     1,  Iter    38:    Energy =   0.0378
Level     1,  Iter    39:    Energy =   0.0379
Level     1,  Iter    40:    Energy =   0.0380
Level     1,  Iter    41:    Energy =   0.0380
Level     1,  Iter    42:    Energy =   0.0380
Level     1,  Iter    43:    Energy =   0.0381
Level     1,  Iter    44:    Energy =   0.0382
Level     1,  Iter    45:    Energy =   0.0382
Level     1,  Iter    46:    Energy =   0.0383
Level     1,  Iter    47:    Energy =   0.0383
Level     1,  Iter    48:    Energy =   0.0384
Level     1,  Iter    49:    Energy =   0.0384
Level     1,  Iter    50:    Energy =   0.0385
Level     1,  Iter    51:    Energy =   0.0385
Level     1,  Iter    52:    Energy =   0.0385
Level     1,  Iter    53:    Energy =   0.0386
Level     1,  Iter    54:    Energy =   0.0386
Level     1,  Iter    55:    Energy =   0.0386
Level     1,  Iter    56:    Energy =   0.0387
Level     1,  Iter    57:    Energy =   0.0387
Level     1,  Iter    58:    Energy =   0.0387
Level     1,  Iter    59:    Energy =   0.0388
END OF LEVEL     1    DetJac Range:   0.1183  to   3.6236 
  Avg. Gradient Time  : 0.0302s  34.09% 
  Avg. Gaussian Time  : 0.0460s  52.01% 
  Avg. Iteration Time : 0.0885s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0169
Level     2,  Iter     1:    Energy =   0.0176
Level     2,  Iter     2:    Energy =   0.0183
Level     2,  Iter     3:    Energy =   0.0191
Level     2,  Iter     4:    Energy =   0.0197
Level     2,  Iter     5:    Energy =   0.0203
Level     2,  Iter     6:    Energy =   0.0208
Level     2,  Iter     7:    Energy =   0.0211
Level     2,  Iter     8:    Energy =   0.0216
Level     2,  Iter     9:    Energy =   0.0220
Level     2,  Iter    10:    Energy =   0.0223
Level     2,  Iter    11:    Energy =   0.0226
Level     2,  Iter    12:    Energy =   0.0228
Level     2,  Iter    13:    Energy =   0.0231
Level     2,  Iter    14:    Energy =   0.0232
Level     2,  Iter    15:    Energy =   0.0234
Level     2,  Iter    16:    Energy =   0.0236
Level     2,  Iter    17:    Energy =   0.0239
Level     2,  Iter    18:    Energy =   0.0241
Level     2,  Iter    19:    Energy =   0.0242
END OF LEVEL     2    DetJac Range:   0.0297  to   4.7342 
  Avg. Gradient Time  : 0.1902s  32.15% 
  Avg. Gaussian Time  : 0.3209s  54.25% 
  Avg. Iteration Time : 0.5915s 

real	0m21.521s
user	0m36.624s
sys	0m2.812s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train011/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train011/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train011/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train011/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=11 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=11 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.247143 0.251429
+ echo 'CHUNK 0.247143 0.251429 1'
CHUNK 0.247143 0.251429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.247143 0.251429 1
====================================
         PROGRESS: 0.247143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=012
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 012
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train012
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train012
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left 012 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train012 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=left
+ local tid=012
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train012
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 012 left 0
+ local tid=012
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 012 0
+ set -e
+ local tid=012
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.592
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 597.117   GNORM= 125.782
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3       -16.231      91.886       0.040
   2    4       -26.471      68.902       1.000
   3    8      -469.300      72.469       1.047
   4   14      -714.949     131.849       0.449
   5   23      -731.173      39.241       0.037
   6   27      -732.572      38.827       0.202
   7   29      -738.868      30.948       0.271
   8   30      -745.159      40.123       1.000
   9   32      -750.248     350.383       0.467
  10   33      -786.751     160.230       1.000
  11   37      -832.305     122.958       0.977
  12   39      -836.374      89.546       0.469
  13   40      -869.356      63.864       1.000
  14   41     -1032.902     569.294       1.000
  15   43     -1193.302     186.000       0.325
  16   45     -1195.516     270.574       0.055
  17   47     -1195.876     253.133       0.268
  18   48     -1296.728     172.412       1.000
  19   49     -1352.025      75.760       1.000
  20   50     -1365.474      33.559       1.000
  21   51     -1369.358      23.674       1.000
  22   52     -1373.188      39.698       1.000
  23   53     -1377.920      32.177       1.000
  24   54     -1383.302      43.371       1.000
  25   55     -1395.417      29.713       1.000
  26   56     -1411.396      51.372       1.000
  27   58     -1418.991      26.176       0.517
  28   60     -1420.252      18.868       0.379
  29   61     -1421.394      16.461       1.000
Final RAS Transform: 
0.702148 -0.128381 0.282153 -6.93413 
-0.413724 1.0538 -0.0320292 4.29065 
0.305474 -0.228374 0.637693 -5.45558 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -706.725   GNORM= 51.3286
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -712.615      24.222       0.006
   2    4      -714.626      17.738       1.000
   3    6      -715.098      11.045       0.269
   4    8      -716.563      16.072       5.000
   5   10      -733.939      23.612       5.000
   6   12      -755.266      43.292       0.539
   7   13      -767.012      20.248       1.000
   8   15      -779.076      25.928       0.458
   9   17      -794.190      39.559       0.482
  10   19      -799.576      29.325       0.145
  11   20      -805.353      21.044       1.000
  12   23      -813.124      26.876       0.865
  13   25      -816.196      19.880       0.208
  14   26      -818.129      32.054       1.000
  15   27      -820.288      26.127       1.000
  16   29      -824.034      19.302       0.369
  17   31      -825.163      13.617       0.467
  18   32      -828.528      55.716       1.000
  19   33      -832.476      23.301       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.622353 -0.0422519 0.205806 -12.4475 
-0.453268 1.04253 0.132526 6.39221 
0.197903 -0.218125 0.745213 -7.25955 
0 0 0 1 

Final RAS Transform: 
0.622353 -0.0422519 0.205806 -12.4475 
-0.453268 1.04253 0.132526 6.39221 
0.197903 -0.218125 0.745213 -7.25955 
0 0 0 1 


real	0m6.364s
user	0m10.336s
sys	0m0.892s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.372866
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0332
Level     0,  Iter     1:    Energy =   0.0353
Level     0,  Iter     2:    Energy =   0.0377
Level     0,  Iter     3:    Energy =   0.0398
Level     0,  Iter     4:    Energy =   0.0417
Level     0,  Iter     5:    Energy =   0.0434
Level     0,  Iter     6:    Energy =   0.0446
Level     0,  Iter     7:    Energy =   0.0457
Level     0,  Iter     8:    Energy =   0.0466
Level     0,  Iter     9:    Energy =   0.0476
Level     0,  Iter    10:    Energy =   0.0485
Level     0,  Iter    11:    Energy =   0.0495
Level     0,  Iter    12:    Energy =   0.0503
Level     0,  Iter    13:    Energy =   0.0510
Level     0,  Iter    14:    Energy =   0.0517
Level     0,  Iter    15:    Energy =   0.0524
Level     0,  Iter    16:    Energy =   0.0532
Level     0,  Iter    17:    Energy =   0.0539
Level     0,  Iter    18:    Energy =   0.0544
Level     0,  Iter    19:    Energy =   0.0549
Level     0,  Iter    20:    Energy =   0.0553
Level     0,  Iter    21:    Energy =   0.0558
Level     0,  Iter    22:    Energy =   0.0561
Level     0,  Iter    23:    Energy =   0.0563
Level     0,  Iter    24:    Energy =   0.0566
Level     0,  Iter    25:    Energy =   0.0567
Level     0,  Iter    26:    Energy =   0.0569
Level     0,  Iter    27:    Energy =   0.0570
Level     0,  Iter    28:    Energy =   0.0570
Level     0,  Iter    29:    Energy =   0.0570
Level     0,  Iter    30:    Energy =   0.0570
Level     0,  Iter    31:    Energy =   0.0571
Level     0,  Iter    32:    Energy =   0.0571
Level     0,  Iter    33:    Energy =   0.0572
Level     0,  Iter    34:    Energy =   0.0572
Level     0,  Iter    35:    Energy =   0.0572
Level     0,  Iter    36:    Energy =   0.0572
Level     0,  Iter    37:    Energy =   0.0573
Level     0,  Iter    38:    Energy =   0.0573
Level     0,  Iter    39:    Energy =   0.0573
Level     0,  Iter    40:    Energy =   0.0573
Level     0,  Iter    41:    Energy =   0.0573
Level     0,  Iter    42:    Energy =   0.0573
Level     0,  Iter    43:    Energy =   0.0573
Level     0,  Iter    44:    Energy =   0.0573
Level     0,  Iter    45:    Energy =   0.0573
Level     0,  Iter    46:    Energy =   0.0573
Level     0,  Iter    47:    Energy =   0.0573
Level     0,  Iter    48:    Energy =   0.0573
Level     0,  Iter    49:    Energy =   0.0573
Level     0,  Iter    50:    Energy =   0.0573
Level     0,  Iter    51:    Energy =   0.0574
Level     0,  Iter    52:    Energy =   0.0573
Level     0,  Iter    53:    Energy =   0.0574
Level     0,  Iter    54:    Energy =   0.0574
Level     0,  Iter    55:    Energy =   0.0573
Level     0,  Iter    56:    Energy =   0.0574
Level     0,  Iter    57:    Energy =   0.0573
Level     0,  Iter    58:    Energy =   0.0574
Level     0,  Iter    59:    Energy =   0.0574
END OF LEVEL     0    DetJac Range:   0.1094  to   2.0873 
  Avg. Gradient Time  : 0.0079s  33.33% 
  Avg. Gaussian Time  : 0.0113s  47.92% 
  Avg. Iteration Time : 0.0236s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0333
Level     1,  Iter     1:    Energy =   0.0349
Level     1,  Iter     2:    Energy =   0.0360
Level     1,  Iter     3:    Energy =   0.0370
Level     1,  Iter     4:    Energy =   0.0378
Level     1,  Iter     5:    Energy =   0.0385
Level     1,  Iter     6:    Energy =   0.0390
Level     1,  Iter     7:    Energy =   0.0395
Level     1,  Iter     8:    Energy =   0.0399
Level     1,  Iter     9:    Energy =   0.0403
Level     1,  Iter    10:    Energy =   0.0407
Level     1,  Iter    11:    Energy =   0.0412
Level     1,  Iter    12:    Energy =   0.0417
Level     1,  Iter    13:    Energy =   0.0420
Level     1,  Iter    14:    Energy =   0.0423
Level     1,  Iter    15:    Energy =   0.0425
Level     1,  Iter    16:    Energy =   0.0428
Level     1,  Iter    17:    Energy =   0.0431
Level     1,  Iter    18:    Energy =   0.0433
Level     1,  Iter    19:    Energy =   0.0436
Level     1,  Iter    20:    Energy =   0.0438
Level     1,  Iter    21:    Energy =   0.0440
Level     1,  Iter    22:    Energy =   0.0442
Level     1,  Iter    23:    Energy =   0.0443
Level     1,  Iter    24:    Energy =   0.0445
Level     1,  Iter    25:    Energy =   0.0447
Level     1,  Iter    26:    Energy =   0.0449
Level     1,  Iter    27:    Energy =   0.0450
Level     1,  Iter    28:    Energy =   0.0451
Level     1,  Iter    29:    Energy =   0.0453
Level     1,  Iter    30:    Energy =   0.0454
Level     1,  Iter    31:    Energy =   0.0454
Level     1,  Iter    32:    Energy =   0.0455
Level     1,  Iter    33:    Energy =   0.0455
Level     1,  Iter    34:    Energy =   0.0456
Level     1,  Iter    35:    Energy =   0.0456
Level     1,  Iter    36:    Energy =   0.0456
Level     1,  Iter    37:    Energy =   0.0457
Level     1,  Iter    38:    Energy =   0.0457
Level     1,  Iter    39:    Energy =   0.0458
Level     1,  Iter    40:    Energy =   0.0458
Level     1,  Iter    41:    Energy =   0.0458
Level     1,  Iter    42:    Energy =   0.0459
Level     1,  Iter    43:    Energy =   0.0459
Level     1,  Iter    44:    Energy =   0.0459
Level     1,  Iter    45:    Energy =   0.0459
Level     1,  Iter    46:    Energy =   0.0460
Level     1,  Iter    47:    Energy =   0.0460
Level     1,  Iter    48:    Energy =   0.0459
Level     1,  Iter    49:    Energy =   0.0459
Level     1,  Iter    50:    Energy =   0.0459
Level     1,  Iter    51:    Energy =   0.0459
Level     1,  Iter    52:    Energy =   0.0459
Level     1,  Iter    53:    Energy =   0.0459
Level     1,  Iter    54:    Energy =   0.0459
Level     1,  Iter    55:    Energy =   0.0459
Level     1,  Iter    56:    Energy =   0.0459
Level     1,  Iter    57:    Energy =   0.0459
Level     1,  Iter    58:    Energy =   0.0459
Level     1,  Iter    59:    Energy =   0.0459
END OF LEVEL     1    DetJac Range:   0.0296  to   3.1784 
  Avg. Gradient Time  : 0.0312s  33.76% 
  Avg. Gaussian Time  : 0.0482s  52.22% 
  Avg. Iteration Time : 0.0924s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0216
Level     2,  Iter     1:    Energy =   0.0224
Level     2,  Iter     2:    Energy =   0.0230
Level     2,  Iter     3:    Energy =   0.0236
Level     2,  Iter     4:    Energy =   0.0241
Level     2,  Iter     5:    Energy =   0.0247
Level     2,  Iter     6:    Energy =   0.0251
Level     2,  Iter     7:    Energy =   0.0255
Level     2,  Iter     8:    Energy =   0.0258
Level     2,  Iter     9:    Energy =   0.0261
Level     2,  Iter    10:    Energy =   0.0263
Level     2,  Iter    11:    Energy =   0.0265
Level     2,  Iter    12:    Energy =   0.0266
Level     2,  Iter    13:    Energy =   0.0268
Level     2,  Iter    14:    Energy =   0.0269
Level     2,  Iter    15:    Energy =   0.0271
Level     2,  Iter    16:    Energy =   0.0272
Level     2,  Iter    17:    Energy =   0.0273
Level     2,  Iter    18:    Energy =   0.0274
Level     2,  Iter    19:    Energy =   0.0274
END OF LEVEL     2    DetJac Range:   0.0234  to   3.0582 
  Avg. Gradient Time  : 0.1959s  33.08% 
  Avg. Gaussian Time  : 0.3184s  53.77% 
  Avg. Iteration Time : 0.5922s 

real	0m21.741s
user	0m36.924s
sys	0m3.040s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train012/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train012/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train012/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train012/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=12 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=12 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.251429 0.255714
+ echo 'CHUNK 0.251429 0.255714 1'
CHUNK 0.251429 0.255714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.251429 0.255714 1
====================================
         PROGRESS: 0.251429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=013
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 013
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train013
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train013
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left 013 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train013 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=left
+ local tid=013
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train013
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 013 left 0
+ local tid=013
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 013 0
+ set -e
+ local tid=013
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.451
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 538.2   GNORM= 122.473
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3        -8.300      49.267       0.041
   2    5      -527.688      95.483       5.000
   3    9      -532.052     116.512       0.009
   4   10      -676.082      99.838       1.000
   5   12      -737.713      61.421       0.490
   6   14      -749.178      50.735       0.315
   7   15      -760.609      49.074       1.000
   8   16      -782.634      57.947       1.000
   9   18      -792.098      22.505       0.429
  10   21      -794.064      25.581       1.633
  11   22      -796.496      18.235       1.000
  12   23      -797.438      37.766       1.000
  13   24      -844.643      96.923       1.000
  14   25      -878.810     103.956       1.000
  15   26      -972.619      79.991       1.000
  16   28     -1121.905     168.503       0.454
  17   30     -1137.319     141.803       0.098
  18   32     -1146.779     111.416       0.131
  19   33     -1230.011      75.897       1.000
  20   35     -1244.733      48.065       0.179
  21   36     -1277.289      54.927       1.000
  22   37     -1347.547      58.274       1.000
  23   40     -1376.834      51.842       0.058
  24   42     -1383.851      43.323       0.391
  25   43     -1386.789      42.666       1.000
  26   44     -1389.686      15.850       1.000
  27   45     -1391.015      12.515       1.000
  28   46     -1391.516      28.831       1.000
  29   47     -1393.035      18.184       1.000
  30   48     -1399.340      38.978       1.000
  31   49     -1404.080      32.730       1.000
  32   50     -1408.157      27.823       1.000
  33   51     -1409.506      43.998       1.000
  34   52     -1416.084      27.615       1.000
  35   54     -1417.654      38.908       0.268
  36   55     -1419.680      23.201       1.000
  37   56     -1421.401      17.296       1.000
  38   57     -1421.772      30.331       1.000
  39   58     -1422.789      11.439       1.000
  40   59     -1423.169      10.892       1.000
  41   60     -1423.569      17.796       1.000
  42   61     -1424.369      13.701       1.000
Final RAS Transform: 
0.949547 -0.210022 0.264121 3.90281 
-0.355809 1.19282 -0.128107 5.13002 
0.4518 0.0841154 0.586196 -5.46821 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -669.336   GNORM= 45.234
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -682.508      34.453       0.010
   2    4      -684.700      11.414       1.000
   3    5      -685.202       6.767       1.000
   4    7      -685.369       8.303       0.410
   5    8      -685.568       5.865       1.000
   6    9      -686.101       7.813       1.000
   7   12      -686.553       8.372       0.043
   8   13      -688.671      17.851       1.000
   9   16      -690.258      18.313       2.409
  10   18      -691.066      12.599       0.446
  11   21      -691.306       7.825       0.365
  12   23      -691.598       6.630       0.364
  13   24      -691.721       4.913       1.000
  14   26      -691.778       5.547       0.465
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.93839 -0.213868 0.267309 4.16921 
-0.367652 1.19236 -0.113646 5.22116 
0.471106 0.0997903 0.576585 -6.1527 
0 0 0 1 

Final RAS Transform: 
0.93839 -0.213868 0.267309 4.16921 
-0.367652 1.19236 -0.113646 5.22116 
0.471106 0.0997903 0.576585 -6.1527 
0 0 0 1 


real	0m5.700s
user	0m9.188s
sys	0m0.816s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.350779
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0334
Level     0,  Iter     1:    Energy =   0.0351
Level     0,  Iter     2:    Energy =   0.0377
Level     0,  Iter     3:    Energy =   0.0400
Level     0,  Iter     4:    Energy =   0.0417
Level     0,  Iter     5:    Energy =   0.0432
Level     0,  Iter     6:    Energy =   0.0442
Level     0,  Iter     7:    Energy =   0.0451
Level     0,  Iter     8:    Energy =   0.0457
Level     0,  Iter     9:    Energy =   0.0465
Level     0,  Iter    10:    Energy =   0.0469
Level     0,  Iter    11:    Energy =   0.0477
Level     0,  Iter    12:    Energy =   0.0480
Level     0,  Iter    13:    Energy =   0.0487
Level     0,  Iter    14:    Energy =   0.0490
Level     0,  Iter    15:    Energy =   0.0496
Level     0,  Iter    16:    Energy =   0.0498
Level     0,  Iter    17:    Energy =   0.0502
Level     0,  Iter    18:    Energy =   0.0505
Level     0,  Iter    19:    Energy =   0.0509
Level     0,  Iter    20:    Energy =   0.0511
Level     0,  Iter    21:    Energy =   0.0515
Level     0,  Iter    22:    Energy =   0.0517
Level     0,  Iter    23:    Energy =   0.0519
Level     0,  Iter    24:    Energy =   0.0520
Level     0,  Iter    25:    Energy =   0.0522
Level     0,  Iter    26:    Energy =   0.0523
Level     0,  Iter    27:    Energy =   0.0525
Level     0,  Iter    28:    Energy =   0.0526
Level     0,  Iter    29:    Energy =   0.0527
Level     0,  Iter    30:    Energy =   0.0528
Level     0,  Iter    31:    Energy =   0.0530
Level     0,  Iter    32:    Energy =   0.0531
Level     0,  Iter    33:    Energy =   0.0533
Level     0,  Iter    34:    Energy =   0.0534
Level     0,  Iter    35:    Energy =   0.0535
Level     0,  Iter    36:    Energy =   0.0536
Level     0,  Iter    37:    Energy =   0.0537
Level     0,  Iter    38:    Energy =   0.0538
Level     0,  Iter    39:    Energy =   0.0538
Level     0,  Iter    40:    Energy =   0.0539
Level     0,  Iter    41:    Energy =   0.0539
Level     0,  Iter    42:    Energy =   0.0541
Level     0,  Iter    43:    Energy =   0.0541
Level     0,  Iter    44:    Energy =   0.0542
Level     0,  Iter    45:    Energy =   0.0542
Level     0,  Iter    46:    Energy =   0.0543
Level     0,  Iter    47:    Energy =   0.0543
Level     0,  Iter    48:    Energy =   0.0544
Level     0,  Iter    49:    Energy =   0.0545
Level     0,  Iter    50:    Energy =   0.0546
Level     0,  Iter    51:    Energy =   0.0545
Level     0,  Iter    52:    Energy =   0.0547
Level     0,  Iter    53:    Energy =   0.0547
Level     0,  Iter    54:    Energy =   0.0548
Level     0,  Iter    55:    Energy =   0.0547
Level     0,  Iter    56:    Energy =   0.0549
Level     0,  Iter    57:    Energy =   0.0548
Level     0,  Iter    58:    Energy =   0.0549
Level     0,  Iter    59:    Energy =   0.0549
END OF LEVEL     0    DetJac Range:   0.0737  to   2.0273 
  Avg. Gradient Time  : 0.0075s  32.89% 
  Avg. Gaussian Time  : 0.0111s  48.37% 
  Avg. Iteration Time : 0.0229s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0301
Level     1,  Iter     1:    Energy =   0.0316
Level     1,  Iter     2:    Energy =   0.0329
Level     1,  Iter     3:    Energy =   0.0339
Level     1,  Iter     4:    Energy =   0.0347
Level     1,  Iter     5:    Energy =   0.0352
Level     1,  Iter     6:    Energy =   0.0357
Level     1,  Iter     7:    Energy =   0.0360
Level     1,  Iter     8:    Energy =   0.0363
Level     1,  Iter     9:    Energy =   0.0366
Level     1,  Iter    10:    Energy =   0.0369
Level     1,  Iter    11:    Energy =   0.0373
Level     1,  Iter    12:    Energy =   0.0376
Level     1,  Iter    13:    Energy =   0.0379
Level     1,  Iter    14:    Energy =   0.0383
Level     1,  Iter    15:    Energy =   0.0386
Level     1,  Iter    16:    Energy =   0.0389
Level     1,  Iter    17:    Energy =   0.0391
Level     1,  Iter    18:    Energy =   0.0394
Level     1,  Iter    19:    Energy =   0.0396
Level     1,  Iter    20:    Energy =   0.0398
Level     1,  Iter    21:    Energy =   0.0400
Level     1,  Iter    22:    Energy =   0.0402
Level     1,  Iter    23:    Energy =   0.0404
Level     1,  Iter    24:    Energy =   0.0406
Level     1,  Iter    25:    Energy =   0.0407
Level     1,  Iter    26:    Energy =   0.0410
Level     1,  Iter    27:    Energy =   0.0411
Level     1,  Iter    28:    Energy =   0.0412
Level     1,  Iter    29:    Energy =   0.0414
Level     1,  Iter    30:    Energy =   0.0416
Level     1,  Iter    31:    Energy =   0.0418
Level     1,  Iter    32:    Energy =   0.0419
Level     1,  Iter    33:    Energy =   0.0421
Level     1,  Iter    34:    Energy =   0.0423
Level     1,  Iter    35:    Energy =   0.0424
Level     1,  Iter    36:    Energy =   0.0425
Level     1,  Iter    37:    Energy =   0.0426
Level     1,  Iter    38:    Energy =   0.0427
Level     1,  Iter    39:    Energy =   0.0428
Level     1,  Iter    40:    Energy =   0.0429
Level     1,  Iter    41:    Energy =   0.0429
Level     1,  Iter    42:    Energy =   0.0430
Level     1,  Iter    43:    Energy =   0.0432
Level     1,  Iter    44:    Energy =   0.0433
Level     1,  Iter    45:    Energy =   0.0432
Level     1,  Iter    46:    Energy =   0.0433
Level     1,  Iter    47:    Energy =   0.0433
Level     1,  Iter    48:    Energy =   0.0434
Level     1,  Iter    49:    Energy =   0.0434
Level     1,  Iter    50:    Energy =   0.0434
Level     1,  Iter    51:    Energy =   0.0435
Level     1,  Iter    52:    Energy =   0.0436
Level     1,  Iter    53:    Energy =   0.0436
Level     1,  Iter    54:    Energy =   0.0437
Level     1,  Iter    55:    Energy =   0.0438
Level     1,  Iter    56:    Energy =   0.0439
Level     1,  Iter    57:    Energy =   0.0439
Level     1,  Iter    58:    Energy =   0.0440
Level     1,  Iter    59:    Energy =   0.0440
END OF LEVEL     1    DetJac Range:   0.0476  to   2.8728 
  Avg. Gradient Time  : 0.0306s  34.08% 
  Avg. Gaussian Time  : 0.0466s  51.94% 
  Avg. Iteration Time : 0.0897s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0188
Level     2,  Iter     1:    Energy =   0.0195
Level     2,  Iter     2:    Energy =   0.0201
Level     2,  Iter     3:    Energy =   0.0206
Level     2,  Iter     4:    Energy =   0.0211
Level     2,  Iter     5:    Energy =   0.0216
Level     2,  Iter     6:    Energy =   0.0219
Level     2,  Iter     7:    Energy =   0.0222
Level     2,  Iter     8:    Energy =   0.0225
Level     2,  Iter     9:    Energy =   0.0227
Level     2,  Iter    10:    Energy =   0.0229
Level     2,  Iter    11:    Energy =   0.0230
Level     2,  Iter    12:    Energy =   0.0232
Level     2,  Iter    13:    Energy =   0.0232
Level     2,  Iter    14:    Energy =   0.0233
Level     2,  Iter    15:    Energy =   0.0234
Level     2,  Iter    16:    Energy =   0.0235
Level     2,  Iter    17:    Energy =   0.0235
Level     2,  Iter    18:    Energy =   0.0236
Level     2,  Iter    19:    Energy =   0.0237
END OF LEVEL     2    DetJac Range:   0.0428  to   2.6261 
  Avg. Gradient Time  : 0.1989s  32.99% 
  Avg. Gaussian Time  : 0.3248s  53.89% 
  Avg. Iteration Time : 0.6027s 

real	0m21.654s
user	0m37.164s
sys	0m2.736s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train013/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train013/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train013/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train013/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=13 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=13 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.255714 0.26
+ echo 'CHUNK 0.255714 0.26 1'
CHUNK 0.255714 0.26 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.255714 0.26 1
====================================
         PROGRESS: 0.255714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=014
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 014
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train014
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train014
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left 014 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train014 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=left
+ local tid=014
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train014
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 014 left 0
+ local tid=014
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 014 0
+ set -e
+ local tid=014
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.596
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 525.042   GNORM= 87.6081
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3       -38.070     202.477       0.057
   2    7      -188.172     134.408       0.031
   3    8      -252.091      69.435       1.000
   4    9      -287.416      68.879       1.000
   5   11      -330.328     112.235       0.170
   6   13      -374.629      42.152       0.348
   7   15      -379.483      32.663       0.120
   8   16      -387.070      62.960       1.000
   9   18      -447.702      84.152       5.000
  10   21      -472.780      83.339       0.061
  11   22      -488.284      55.664       1.000
  12   24      -506.866      47.349       0.375
  13   25      -565.771      72.343       1.000
  14   26      -596.507     154.693       1.000
  15   27      -644.565     117.527       1.000
  16   29      -684.611      33.538       0.457
  17   30      -690.386      38.694       1.000
  18   31      -695.100      50.864       1.000
  19   33      -702.099      20.939       0.307
  20   37      -739.150      44.979       4.860
  21   39      -769.739      48.795       0.457
  22   40      -786.243      61.151       1.000
  23   41      -808.279      46.923       1.000
  24   42      -827.041      31.159       1.000
  25   43      -851.165     142.334       1.000
  26   44      -874.013      71.383       1.000
  27   45      -892.649      44.044       1.000
  28   46      -915.134      56.959       1.000
  29   48      -925.055     102.073       0.258
  30   50      -942.054     113.486       5.000
  31   51      -998.290      42.398       1.000
  32   52     -1004.244     127.576       1.000
  33   53     -1036.164      48.967       1.000
  34   54     -1040.567      58.754       1.000
  35   55     -1052.704      43.008       1.000
  36   56     -1059.502      27.252       1.000
  37   58     -1067.507      63.909       0.470
  38   59     -1082.274      64.139       1.000
  39   60     -1096.853     107.772       1.000
  40   61     -1120.989      44.832       1.000
Final RAS Transform: 
0.529151 0.155009 0.294884 -4.7469 
0.0504593 1.19711 -0.134979 -5.86267 
0.611173 -0.174277 0.276253 -13.8187 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -559.361   GNORM= 43.0939
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -563.950      21.799       0.005
   2    4      -566.229      28.860       1.000
   3    5      -568.769      20.191       1.000
   4    7      -574.141      26.585       0.117
   5    8      -577.163      24.816       1.000
   6   11      -578.205      19.261       0.034
   7   12      -580.054      34.659       1.000
   8   13      -584.897      22.023       1.000
   9   14      -590.008      37.191       1.000
  10   15      -591.013      37.953       1.000
  11   16      -592.895      47.159       1.000
  12   17      -595.916      60.392       1.000
  13   19      -595.925      24.604       0.296
  14   21      -596.034      28.656       0.282
  15   24      -596.154      24.310       1.791
  16   25      -597.580      20.294       1.000
  17   26      -599.391      22.746       1.000
  18   28      -600.013      18.435       0.403
  19   29      -601.022      56.949       1.000
  20   33      -603.247      33.651       1.116
  21   34      -604.980      30.461       1.000
  22   37      -608.963      19.967       0.670
  23   38      -610.422      11.803       1.000
  24   39      -611.353      12.420       1.000
  25   42      -613.538      14.457       2.867
  26   44      -614.401      39.793       0.358
  27   46      -615.624      35.770       0.392
  28   47      -619.144      23.758       1.000
  29   48      -630.712     471.661       1.000
  30   52      -631.271      32.083       0.026
  31   54      -636.233      38.745       5.000
  32   55      -637.379      31.449       1.000
  33   56      -638.670      33.708       1.000
  34   59      -638.713      31.350       0.009
  35   60      -639.541      38.820       1.000
  36   61      -641.827      26.656       1.000
Final RAS Transform: 
0.537359 0.272212 0.283631 -9.22579 
0.0868054 1.28409 -0.274082 -11.3499 
0.479314 -0.128212 0.260144 -18.9846 
0 0 0 1 

Final RAS Transform: 
0.537359 0.272212 0.283631 -9.22579 
0.0868054 1.28409 -0.274082 -11.3499 
0.479314 -0.128212 0.260144 -18.9846 
0 0 0 1 


real	0m6.246s
user	0m10.156s
sys	0m0.900s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.247087
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0275
Level     0,  Iter     1:    Energy =   0.0290
Level     0,  Iter     2:    Energy =   0.0308
Level     0,  Iter     3:    Energy =   0.0322
Level     0,  Iter     4:    Energy =   0.0330
Level     0,  Iter     5:    Energy =   0.0337
Level     0,  Iter     6:    Energy =   0.0343
Level     0,  Iter     7:    Energy =   0.0348
Level     0,  Iter     8:    Energy =   0.0351
Level     0,  Iter     9:    Energy =   0.0355
Level     0,  Iter    10:    Energy =   0.0359
Level     0,  Iter    11:    Energy =   0.0363
Level     0,  Iter    12:    Energy =   0.0368
Level     0,  Iter    13:    Energy =   0.0373
Level     0,  Iter    14:    Energy =   0.0380
Level     0,  Iter    15:    Energy =   0.0386
Level     0,  Iter    16:    Energy =   0.0392
Level     0,  Iter    17:    Energy =   0.0397
Level     0,  Iter    18:    Energy =   0.0403
Level     0,  Iter    19:    Energy =   0.0408
Level     0,  Iter    20:    Energy =   0.0413
Level     0,  Iter    21:    Energy =   0.0417
Level     0,  Iter    22:    Energy =   0.0420
Level     0,  Iter    23:    Energy =   0.0425
Level     0,  Iter    24:    Energy =   0.0426
Level     0,  Iter    25:    Energy =   0.0431
Level     0,  Iter    26:    Energy =   0.0433
Level     0,  Iter    27:    Energy =   0.0436
Level     0,  Iter    28:    Energy =   0.0437
Level     0,  Iter    29:    Energy =   0.0442
Level     0,  Iter    30:    Energy =   0.0443
Level     0,  Iter    31:    Energy =   0.0446
Level     0,  Iter    32:    Energy =   0.0446
Level     0,  Iter    33:    Energy =   0.0450
Level     0,  Iter    34:    Energy =   0.0448
Level     0,  Iter    35:    Energy =   0.0451
Level     0,  Iter    36:    Energy =   0.0451
Level     0,  Iter    37:    Energy =   0.0456
Level     0,  Iter    38:    Energy =   0.0455
Level     0,  Iter    39:    Energy =   0.0458
Level     0,  Iter    40:    Energy =   0.0458
Level     0,  Iter    41:    Energy =   0.0462
Level     0,  Iter    42:    Energy =   0.0464
Level     0,  Iter    43:    Energy =   0.0466
Level     0,  Iter    44:    Energy =   0.0466
Level     0,  Iter    45:    Energy =   0.0469
Level     0,  Iter    46:    Energy =   0.0469
Level     0,  Iter    47:    Energy =   0.0471
Level     0,  Iter    48:    Energy =   0.0472
Level     0,  Iter    49:    Energy =   0.0473
Level     0,  Iter    50:    Energy =   0.0474
Level     0,  Iter    51:    Energy =   0.0475
Level     0,  Iter    52:    Energy =   0.0475
Level     0,  Iter    53:    Energy =   0.0477
Level     0,  Iter    54:    Energy =   0.0475
Level     0,  Iter    55:    Energy =   0.0478
Level     0,  Iter    56:    Energy =   0.0476
Level     0,  Iter    57:    Energy =   0.0478
Level     0,  Iter    58:    Energy =   0.0477
Level     0,  Iter    59:    Energy =   0.0478
END OF LEVEL     0    DetJac Range:   0.0507  to   2.5616 
  Avg. Gradient Time  : 0.0072s  32.94% 
  Avg. Gaussian Time  : 0.0106s  48.25% 
  Avg. Iteration Time : 0.0219s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0293
Level     1,  Iter     1:    Energy =   0.0306
Level     1,  Iter     2:    Energy =   0.0318
Level     1,  Iter     3:    Energy =   0.0328
Level     1,  Iter     4:    Energy =   0.0337
Level     1,  Iter     5:    Energy =   0.0344
Level     1,  Iter     6:    Energy =   0.0350
Level     1,  Iter     7:    Energy =   0.0355
Level     1,  Iter     8:    Energy =   0.0360
Level     1,  Iter     9:    Energy =   0.0363
Level     1,  Iter    10:    Energy =   0.0367
Level     1,  Iter    11:    Energy =   0.0371
Level     1,  Iter    12:    Energy =   0.0374
Level     1,  Iter    13:    Energy =   0.0377
Level     1,  Iter    14:    Energy =   0.0379
Level     1,  Iter    15:    Energy =   0.0381
Level     1,  Iter    16:    Energy =   0.0382
Level     1,  Iter    17:    Energy =   0.0383
Level     1,  Iter    18:    Energy =   0.0385
Level     1,  Iter    19:    Energy =   0.0386
Level     1,  Iter    20:    Energy =   0.0387
Level     1,  Iter    21:    Energy =   0.0388
Level     1,  Iter    22:    Energy =   0.0389
Level     1,  Iter    23:    Energy =   0.0389
Level     1,  Iter    24:    Energy =   0.0390
Level     1,  Iter    25:    Energy =   0.0390
Level     1,  Iter    26:    Energy =   0.0390
Level     1,  Iter    27:    Energy =   0.0391
Level     1,  Iter    28:    Energy =   0.0392
Level     1,  Iter    29:    Energy =   0.0392
Level     1,  Iter    30:    Energy =   0.0393
Level     1,  Iter    31:    Energy =   0.0393
Level     1,  Iter    32:    Energy =   0.0394
Level     1,  Iter    33:    Energy =   0.0394
Level     1,  Iter    34:    Energy =   0.0395
Level     1,  Iter    35:    Energy =   0.0395
Level     1,  Iter    36:    Energy =   0.0395
Level     1,  Iter    37:    Energy =   0.0396
Level     1,  Iter    38:    Energy =   0.0396
Level     1,  Iter    39:    Energy =   0.0396
Level     1,  Iter    40:    Energy =   0.0397
Level     1,  Iter    41:    Energy =   0.0397
Level     1,  Iter    42:    Energy =   0.0397
Level     1,  Iter    43:    Energy =   0.0397
Level     1,  Iter    44:    Energy =   0.0398
Level     1,  Iter    45:    Energy =   0.0398
Level     1,  Iter    46:    Energy =   0.0398
Level     1,  Iter    47:    Energy =   0.0398
Level     1,  Iter    48:    Energy =   0.0398
Level     1,  Iter    49:    Energy =   0.0398
Level     1,  Iter    50:    Energy =   0.0398
Level     1,  Iter    51:    Energy =   0.0398
Level     1,  Iter    52:    Energy =   0.0398
Level     1,  Iter    53:    Energy =   0.0398
Level     1,  Iter    54:    Energy =   0.0398
Level     1,  Iter    55:    Energy =   0.0398
Level     1,  Iter    56:    Energy =   0.0398
Level     1,  Iter    57:    Energy =   0.0398
Level     1,  Iter    58:    Energy =   0.0398
Level     1,  Iter    59:    Energy =   0.0398
END OF LEVEL     1    DetJac Range:   0.0434  to   3.0865 
  Avg. Gradient Time  : 0.0296s  33.77% 
  Avg. Gaussian Time  : 0.0457s  52.18% 
  Avg. Iteration Time : 0.0876s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0199
Level     2,  Iter     1:    Energy =   0.0205
Level     2,  Iter     2:    Energy =   0.0211
Level     2,  Iter     3:    Energy =   0.0216
Level     2,  Iter     4:    Energy =   0.0221
Level     2,  Iter     5:    Energy =   0.0225
Level     2,  Iter     6:    Energy =   0.0228
Level     2,  Iter     7:    Energy =   0.0232
Level     2,  Iter     8:    Energy =   0.0235
Level     2,  Iter     9:    Energy =   0.0238
Level     2,  Iter    10:    Energy =   0.0241
Level     2,  Iter    11:    Energy =   0.0243
Level     2,  Iter    12:    Energy =   0.0245
Level     2,  Iter    13:    Energy =   0.0247
Level     2,  Iter    14:    Energy =   0.0249
Level     2,  Iter    15:    Energy =   0.0250
Level     2,  Iter    16:    Energy =   0.0252
Level     2,  Iter    17:    Energy =   0.0253
Level     2,  Iter    18:    Energy =   0.0254
Level     2,  Iter    19:    Energy =   0.0255
END OF LEVEL     2    DetJac Range:   0.0392  to   2.7502 
  Avg. Gradient Time  : 0.2017s  33.61% 
  Avg. Gaussian Time  : 0.3210s  53.51% 
  Avg. Iteration Time : 0.6000s 

real	0m21.374s
user	0m36.624s
sys	0m2.796s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train014/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train014/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train014/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train014/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=14 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=14 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.26 0.264286
+ echo 'CHUNK 0.26 0.264286 1'
CHUNK 0.26 0.264286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.26 0.264286 1
====================================
         PROGRESS: 0.26               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=015
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 015
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train015
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train015
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left 015 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train015 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=left
+ local tid=015
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train015
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 015 left 0
+ local tid=015
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 015 0
+ set -e
+ local tid=015
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.524
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 782.512   GNORM= 153.337
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3       154.121      71.118       0.033
   2    4      -100.055     110.689       1.000
   3    7      -245.576     124.813       0.172
   4    8      -385.098     107.241       1.000
   5   13      -713.589      48.195       0.061
   6   15      -746.449      94.902       5.000
   7   16     -1176.750     264.327       1.000
   8   18     -1230.386     106.926       0.161
   9   19     -1301.858     101.239       1.000
  10   21     -1309.588      78.364       0.166
  11   22     -1323.613      56.315       1.000
  12   23     -1329.986      43.169       1.000
  13   24     -1332.940      25.191       1.000
  14   25     -1340.707      35.747       1.000
  15   26     -1350.967      56.284       1.000
  16   27     -1372.128      42.492       1.000
  17   28     -1377.993      33.717       1.000
  18   29     -1388.684      20.329       1.000
  19   31     -1390.951      52.990       0.149
  20   34     -1400.772      46.394       1.740
  21   35     -1408.015      25.623       1.000
  22   37     -1408.786      16.607       0.461
  23   38     -1410.268      20.259       1.000
  24   39     -1414.555      26.700       1.000
  25   41     -1416.608      31.246       0.363
  26   42     -1422.123      11.877       1.000
  27   43     -1424.999      33.712       1.000
  28   45     -1427.374      14.832       0.509
  29   46     -1428.449      16.844       1.000
  30   48     -1428.849      35.154       0.072
  31   49     -1430.150      16.413       1.000
  32   50     -1431.353      11.486       1.000
  33   51     -1433.149      31.591       1.000
  34   52     -1436.523      28.187       1.000
  35   53     -1437.815      41.685       1.000
  36   54     -1439.752      20.671       1.000
  37   56     -1440.156      14.280       0.251
Final RAS Transform: 
0.77175 -0.167741 0.393701 2.7677 
-0.524393 1.02039 -0.147737 0.461143 
0.285523 -0.156623 0.81186 -2.4479 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -621.974   GNORM= 63.8847
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -640.899      60.798       0.016
   2    3      -655.044      36.608       1.000
   3    4      -664.433      37.688       1.000
   4    5      -696.796      46.702       1.000
   5    7      -704.337      47.007       0.286
   6    8      -715.547      16.158       1.000
   7    9      -721.481      25.910       1.000
   8   11      -722.324      22.814       0.224
   9   12      -724.820      18.569       1.000
  10   13      -725.026      33.825       1.000
  11   14      -728.524      18.490       1.000
  12   15      -730.244      23.597       1.000
  13   18      -735.071      21.052       2.468
  14   19      -735.420      39.196       1.000
  15   20      -739.132      20.636       1.000
  16   21      -740.143      13.664       1.000
  17   23      -740.430      14.085       0.283
  18   24      -740.671      10.347       1.000
  19   25      -741.024      22.259       1.000
  20   26      -742.473      20.625       1.000
  21   27      -744.179      10.029       1.000
  22   28      -746.368      23.597       1.000
  23   30      -747.406      14.060       0.317
  24   31      -747.992       8.176       1.000
  25   32      -749.138       5.723       1.000
  26   35      -749.210       7.158       0.032
  27   36      -749.707       7.016       1.000
  28   38      -750.318      17.359       0.435
  29   39      -751.475       9.337       1.000
  30   40      -752.937      16.979       1.000
  31   41      -754.119      17.576       1.000
  32   42      -755.067      19.558       1.000
  33   43      -756.532      15.118       1.000
  34   45      -757.484      21.003       0.243
  35   46      -758.792      17.990       1.000
  36   49      -785.646      16.898       2.434
  37   53      -786.495      58.569       0.001
  38   54      -788.020      23.164       1.000
  39   55      -788.781      29.492       1.000
  40   56      -792.065      19.733       1.000
  41   57      -794.531      27.470       1.000
  42   58      -795.430      29.686       1.000
  43   59      -797.062      14.028       1.000
  44   60      -797.357      78.738       1.000
Final RAS Transform: 
0.731248 -0.286264 0.267205 -5.11291 
-0.556063 0.931824 -0.150149 2.36564 
0.212371 -0.0403776 0.888409 -6.55925 
0 0 0 1 

Final RAS Transform: 
0.731248 -0.286264 0.267205 -5.11291 
-0.556063 0.931824 -0.150149 2.36564 
0.212371 -0.0403776 0.888409 -6.55925 
0 0 0 1 


real	0m6.395s
user	0m10.484s
sys	0m0.868s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.406307
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0329
Level     0,  Iter     1:    Energy =   0.0349
Level     0,  Iter     2:    Energy =   0.0366
Level     0,  Iter     3:    Energy =   0.0383
Level     0,  Iter     4:    Energy =   0.0394
Level     0,  Iter     5:    Energy =   0.0403
Level     0,  Iter     6:    Energy =   0.0409
Level     0,  Iter     7:    Energy =   0.0415
Level     0,  Iter     8:    Energy =   0.0422
Level     0,  Iter     9:    Energy =   0.0427
Level     0,  Iter    10:    Energy =   0.0434
Level     0,  Iter    11:    Energy =   0.0441
Level     0,  Iter    12:    Energy =   0.0448
Level     0,  Iter    13:    Energy =   0.0455
Level     0,  Iter    14:    Energy =   0.0461
Level     0,  Iter    15:    Energy =   0.0466
Level     0,  Iter    16:    Energy =   0.0471
Level     0,  Iter    17:    Energy =   0.0475
Level     0,  Iter    18:    Energy =   0.0478
Level     0,  Iter    19:    Energy =   0.0482
Level     0,  Iter    20:    Energy =   0.0484
Level     0,  Iter    21:    Energy =   0.0487
Level     0,  Iter    22:    Energy =   0.0489
Level     0,  Iter    23:    Energy =   0.0492
Level     0,  Iter    24:    Energy =   0.0494
Level     0,  Iter    25:    Energy =   0.0497
Level     0,  Iter    26:    Energy =   0.0499
Level     0,  Iter    27:    Energy =   0.0502
Level     0,  Iter    28:    Energy =   0.0504
Level     0,  Iter    29:    Energy =   0.0506
Level     0,  Iter    30:    Energy =   0.0507
Level     0,  Iter    31:    Energy =   0.0509
Level     0,  Iter    32:    Energy =   0.0510
Level     0,  Iter    33:    Energy =   0.0511
Level     0,  Iter    34:    Energy =   0.0512
Level     0,  Iter    35:    Energy =   0.0513
Level     0,  Iter    36:    Energy =   0.0514
Level     0,  Iter    37:    Energy =   0.0516
Level     0,  Iter    38:    Energy =   0.0517
Level     0,  Iter    39:    Energy =   0.0518
Level     0,  Iter    40:    Energy =   0.0519
Level     0,  Iter    41:    Energy =   0.0520
Level     0,  Iter    42:    Energy =   0.0522
Level     0,  Iter    43:    Energy =   0.0523
Level     0,  Iter    44:    Energy =   0.0524
Level     0,  Iter    45:    Energy =   0.0526
Level     0,  Iter    46:    Energy =   0.0527
Level     0,  Iter    47:    Energy =   0.0528
Level     0,  Iter    48:    Energy =   0.0530
Level     0,  Iter    49:    Energy =   0.0531
Level     0,  Iter    50:    Energy =   0.0533
Level     0,  Iter    51:    Energy =   0.0534
Level     0,  Iter    52:    Energy =   0.0536
Level     0,  Iter    53:    Energy =   0.0538
Level     0,  Iter    54:    Energy =   0.0539
Level     0,  Iter    55:    Energy =   0.0540
Level     0,  Iter    56:    Energy =   0.0541
Level     0,  Iter    57:    Energy =   0.0543
Level     0,  Iter    58:    Energy =   0.0544
Level     0,  Iter    59:    Energy =   0.0546
END OF LEVEL     0    DetJac Range:   0.0344  to   2.0981 
  Avg. Gradient Time  : 0.0076s  33.06% 
  Avg. Gaussian Time  : 0.0110s  48.15% 
  Avg. Iteration Time : 0.0229s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0311
Level     1,  Iter     1:    Energy =   0.0322
Level     1,  Iter     2:    Energy =   0.0332
Level     1,  Iter     3:    Energy =   0.0339
Level     1,  Iter     4:    Energy =   0.0345
Level     1,  Iter     5:    Energy =   0.0349
Level     1,  Iter     6:    Energy =   0.0353
Level     1,  Iter     7:    Energy =   0.0358
Level     1,  Iter     8:    Energy =   0.0363
Level     1,  Iter     9:    Energy =   0.0367
Level     1,  Iter    10:    Energy =   0.0372
Level     1,  Iter    11:    Energy =   0.0378
Level     1,  Iter    12:    Energy =   0.0385
Level     1,  Iter    13:    Energy =   0.0390
Level     1,  Iter    14:    Energy =   0.0395
Level     1,  Iter    15:    Energy =   0.0398
Level     1,  Iter    16:    Energy =   0.0402
Level     1,  Iter    17:    Energy =   0.0406
Level     1,  Iter    18:    Energy =   0.0409
Level     1,  Iter    19:    Energy =   0.0412
Level     1,  Iter    20:    Energy =   0.0414
Level     1,  Iter    21:    Energy =   0.0417
Level     1,  Iter    22:    Energy =   0.0419
Level     1,  Iter    23:    Energy =   0.0421
Level     1,  Iter    24:    Energy =   0.0422
Level     1,  Iter    25:    Energy =   0.0424
Level     1,  Iter    26:    Energy =   0.0425
Level     1,  Iter    27:    Energy =   0.0427
Level     1,  Iter    28:    Energy =   0.0428
Level     1,  Iter    29:    Energy =   0.0430
Level     1,  Iter    30:    Energy =   0.0431
Level     1,  Iter    31:    Energy =   0.0433
Level     1,  Iter    32:    Energy =   0.0434
Level     1,  Iter    33:    Energy =   0.0435
Level     1,  Iter    34:    Energy =   0.0436
Level     1,  Iter    35:    Energy =   0.0437
Level     1,  Iter    36:    Energy =   0.0438
Level     1,  Iter    37:    Energy =   0.0439
Level     1,  Iter    38:    Energy =   0.0440
Level     1,  Iter    39:    Energy =   0.0440
Level     1,  Iter    40:    Energy =   0.0441
Level     1,  Iter    41:    Energy =   0.0441
Level     1,  Iter    42:    Energy =   0.0442
Level     1,  Iter    43:    Energy =   0.0442
Level     1,  Iter    44:    Energy =   0.0443
Level     1,  Iter    45:    Energy =   0.0444
Level     1,  Iter    46:    Energy =   0.0444
Level     1,  Iter    47:    Energy =   0.0445
Level     1,  Iter    48:    Energy =   0.0445
Level     1,  Iter    49:    Energy =   0.0445
Level     1,  Iter    50:    Energy =   0.0445
Level     1,  Iter    51:    Energy =   0.0446
Level     1,  Iter    52:    Energy =   0.0446
Level     1,  Iter    53:    Energy =   0.0446
Level     1,  Iter    54:    Energy =   0.0446
Level     1,  Iter    55:    Energy =   0.0446
Level     1,  Iter    56:    Energy =   0.0445
Level     1,  Iter    57:    Energy =   0.0445
Level     1,  Iter    58:    Energy =   0.0445
Level     1,  Iter    59:    Energy =   0.0445
END OF LEVEL     1    DetJac Range:   0.0464  to   2.4248 
  Avg. Gradient Time  : 0.0308s  34.25% 
  Avg. Gaussian Time  : 0.0466s  51.80% 
  Avg. Iteration Time : 0.0900s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0212
Level     2,  Iter     1:    Energy =   0.0219
Level     2,  Iter     2:    Energy =   0.0225
Level     2,  Iter     3:    Energy =   0.0230
Level     2,  Iter     4:    Energy =   0.0235
Level     2,  Iter     5:    Energy =   0.0240
Level     2,  Iter     6:    Energy =   0.0243
Level     2,  Iter     7:    Energy =   0.0247
Level     2,  Iter     8:    Energy =   0.0250
Level     2,  Iter     9:    Energy =   0.0254
Level     2,  Iter    10:    Energy =   0.0257
Level     2,  Iter    11:    Energy =   0.0260
Level     2,  Iter    12:    Energy =   0.0262
Level     2,  Iter    13:    Energy =   0.0265
Level     2,  Iter    14:    Energy =   0.0266
Level     2,  Iter    15:    Energy =   0.0268
Level     2,  Iter    16:    Energy =   0.0269
Level     2,  Iter    17:    Energy =   0.0270
Level     2,  Iter    18:    Energy =   0.0271
Level     2,  Iter    19:    Energy =   0.0272
END OF LEVEL     2    DetJac Range:   0.0456  to   3.1455 
  Avg. Gradient Time  : 0.1927s  32.79% 
  Avg. Gaussian Time  : 0.3170s  53.94% 
  Avg. Iteration Time : 0.5877s 

real	0m21.318s
user	0m36.620s
sys	0m2.668s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train015/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train015/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train015/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train015/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=15 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=15 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.264286 0.268571
+ echo 'CHUNK 0.264286 0.268571 1'
CHUNK 0.264286 0.268571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.264286 0.268571 1
====================================
         PROGRESS: 0.264286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=016
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 016
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train016
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train016
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left 016 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train016 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=left
+ local tid=016
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train016
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 016 left 0
+ local tid=016
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 016 0
+ set -e
+ local tid=016
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.599
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 535.497   GNORM= 138.428
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3       142.534     137.510       0.036
   2    4       -14.620     122.798       1.000
   3    5      -352.599      78.733       1.000
   4    8      -414.686      63.389       0.075
   5   12      -443.687     107.266       0.375
   6   15      -509.128      77.557       0.925
   7   17      -527.085     207.223       0.085
   8   20      -537.621     115.061       0.079
   9   25      -537.857      36.128       0.003
  10   26      -543.009      41.213       1.000
  11   27      -564.416      62.802       1.000
  12   29      -694.100      89.997       5.000
  13   31      -741.856     115.150       0.477
  14   33      -841.782     148.627       0.372
  15   34      -950.566     110.149       1.000
  16   38     -1081.637     120.903       0.047
  17   40     -1112.632     101.739       0.106
  18   41     -1148.724     140.603       1.000
  19   42     -1195.739     104.751       1.000
  20   43     -1298.997     136.975       1.000
  21   44     -1333.648      45.924       1.000
  22   45     -1354.982      59.627       1.000
  23   46     -1417.983      44.327       1.000
  24   47     -1432.639     386.298       1.000
  25   53     -1433.897     104.645       0.001
  26   54     -1456.026      44.855       1.000
  27   55     -1460.564      80.851       1.000
  28   56     -1468.464      34.835       1.000
  29   59     -1470.294      25.095       1.000
  30   60     -1472.627      50.616       1.000
  31   61     -1477.663      31.430       1.000
Final RAS Transform: 
0.612035 -0.603819 0.445691 4.47246 
-0.781009 0.566538 -0.537591 2.45392 
-0.036831 -0.903034 0.120378 -5.72632 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -730.39   GNORM= 174.491
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -753.466      98.206       0.006
   2    3      -758.754     142.827       1.000
   3    9      -759.272      42.777       0.028
   4   15      -762.436      38.535       5.064
   5   16      -767.218     117.201       1.000
   6   18      -775.078      36.728       0.202
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.608055 -0.607703 0.447345 4.52703 
-0.783621 0.557704 -0.532503 2.41613 
-0.0290554 -0.903264 0.125658 -6.62621 
0 0 0 1 

Final RAS Transform: 
0.608055 -0.607703 0.447345 4.52703 
-0.783621 0.557704 -0.532503 2.41613 
-0.0290554 -0.903264 0.125658 -6.62621 
0 0 0 1 


real	0m4.994s
user	0m7.816s
sys	0m0.816s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.301863
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0353
Level     0,  Iter     1:    Energy =   0.0374
Level     0,  Iter     2:    Energy =   0.0400
Level     0,  Iter     3:    Energy =   0.0423
Level     0,  Iter     4:    Energy =   0.0439
Level     0,  Iter     5:    Energy =   0.0450
Level     0,  Iter     6:    Energy =   0.0459
Level     0,  Iter     7:    Energy =   0.0464
Level     0,  Iter     8:    Energy =   0.0470
Level     0,  Iter     9:    Energy =   0.0476
Level     0,  Iter    10:    Energy =   0.0484
Level     0,  Iter    11:    Energy =   0.0494
Level     0,  Iter    12:    Energy =   0.0501
Level     0,  Iter    13:    Energy =   0.0509
Level     0,  Iter    14:    Energy =   0.0513
Level     0,  Iter    15:    Energy =   0.0516
Level     0,  Iter    16:    Energy =   0.0519
Level     0,  Iter    17:    Energy =   0.0523
Level     0,  Iter    18:    Energy =   0.0525
Level     0,  Iter    19:    Energy =   0.0527
Level     0,  Iter    20:    Energy =   0.0528
Level     0,  Iter    21:    Energy =   0.0530
Level     0,  Iter    22:    Energy =   0.0532
Level     0,  Iter    23:    Energy =   0.0534
Level     0,  Iter    24:    Energy =   0.0535
Level     0,  Iter    25:    Energy =   0.0537
Level     0,  Iter    26:    Energy =   0.0539
Level     0,  Iter    27:    Energy =   0.0542
Level     0,  Iter    28:    Energy =   0.0545
Level     0,  Iter    29:    Energy =   0.0547
Level     0,  Iter    30:    Energy =   0.0549
Level     0,  Iter    31:    Energy =   0.0551
Level     0,  Iter    32:    Energy =   0.0553
Level     0,  Iter    33:    Energy =   0.0555
Level     0,  Iter    34:    Energy =   0.0557
Level     0,  Iter    35:    Energy =   0.0560
Level     0,  Iter    36:    Energy =   0.0561
Level     0,  Iter    37:    Energy =   0.0564
Level     0,  Iter    38:    Energy =   0.0566
Level     0,  Iter    39:    Energy =   0.0569
Level     0,  Iter    40:    Energy =   0.0571
Level     0,  Iter    41:    Energy =   0.0573
Level     0,  Iter    42:    Energy =   0.0575
Level     0,  Iter    43:    Energy =   0.0576
Level     0,  Iter    44:    Energy =   0.0579
Level     0,  Iter    45:    Energy =   0.0579
Level     0,  Iter    46:    Energy =   0.0582
Level     0,  Iter    47:    Energy =   0.0583
Level     0,  Iter    48:    Energy =   0.0585
Level     0,  Iter    49:    Energy =   0.0586
Level     0,  Iter    50:    Energy =   0.0589
Level     0,  Iter    51:    Energy =   0.0589
Level     0,  Iter    52:    Energy =   0.0592
Level     0,  Iter    53:    Energy =   0.0590
Level     0,  Iter    54:    Energy =   0.0592
Level     0,  Iter    55:    Energy =   0.0591
Level     0,  Iter    56:    Energy =   0.0592
Level     0,  Iter    57:    Energy =   0.0591
Level     0,  Iter    58:    Energy =   0.0592
Level     0,  Iter    59:    Energy =   0.0592
END OF LEVEL     0    DetJac Range:   0.0430  to   2.3836 
  Avg. Gradient Time  : 0.0079s  33.09% 
  Avg. Gaussian Time  : 0.0115s  48.09% 
  Avg. Iteration Time : 0.0240s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0330
Level     1,  Iter     1:    Energy =   0.0342
Level     1,  Iter     2:    Energy =   0.0356
Level     1,  Iter     3:    Energy =   0.0363
Level     1,  Iter     4:    Energy =   0.0371
Level     1,  Iter     5:    Energy =   0.0378
Level     1,  Iter     6:    Energy =   0.0384
Level     1,  Iter     7:    Energy =   0.0389
Level     1,  Iter     8:    Energy =   0.0393
Level     1,  Iter     9:    Energy =   0.0396
Level     1,  Iter    10:    Energy =   0.0398
Level     1,  Iter    11:    Energy =   0.0400
Level     1,  Iter    12:    Energy =   0.0402
Level     1,  Iter    13:    Energy =   0.0403
Level     1,  Iter    14:    Energy =   0.0403
Level     1,  Iter    15:    Energy =   0.0404
Level     1,  Iter    16:    Energy =   0.0405
Level     1,  Iter    17:    Energy =   0.0405
Level     1,  Iter    18:    Energy =   0.0405
Level     1,  Iter    19:    Energy =   0.0405
Level     1,  Iter    20:    Energy =   0.0405
Level     1,  Iter    21:    Energy =   0.0405
Level     1,  Iter    22:    Energy =   0.0405
Level     1,  Iter    23:    Energy =   0.0405
Level     1,  Iter    24:    Energy =   0.0406
Level     1,  Iter    25:    Energy =   0.0406
Level     1,  Iter    26:    Energy =   0.0406
Level     1,  Iter    27:    Energy =   0.0406
Level     1,  Iter    28:    Energy =   0.0405
Level     1,  Iter    29:    Energy =   0.0405
Level     1,  Iter    30:    Energy =   0.0405
Level     1,  Iter    31:    Energy =   0.0405
Level     1,  Iter    32:    Energy =   0.0404
Level     1,  Iter    33:    Energy =   0.0404
Level     1,  Iter    34:    Energy =   0.0404
Level     1,  Iter    35:    Energy =   0.0404
Level     1,  Iter    36:    Energy =   0.0404
Level     1,  Iter    37:    Energy =   0.0403
Level     1,  Iter    38:    Energy =   0.0403
Level     1,  Iter    39:    Energy =   0.0403
Level     1,  Iter    40:    Energy =   0.0403
Level     1,  Iter    41:    Energy =   0.0403
Level     1,  Iter    42:    Energy =   0.0403
Level     1,  Iter    43:    Energy =   0.0402
Level     1,  Iter    44:    Energy =   0.0402
Level     1,  Iter    45:    Energy =   0.0401
Level     1,  Iter    46:    Energy =   0.0401
Level     1,  Iter    47:    Energy =   0.0401
Level     1,  Iter    48:    Energy =   0.0401
Level     1,  Iter    49:    Energy =   0.0401
Level     1,  Iter    50:    Energy =   0.0401
Level     1,  Iter    51:    Energy =   0.0401
Level     1,  Iter    52:    Energy =   0.0401
Level     1,  Iter    53:    Energy =   0.0401
Level     1,  Iter    54:    Energy =   0.0401
Level     1,  Iter    55:    Energy =   0.0401
Level     1,  Iter    56:    Energy =   0.0401
Level     1,  Iter    57:    Energy =   0.0402
Level     1,  Iter    58:    Energy =   0.0402
Level     1,  Iter    59:    Energy =   0.0402
END OF LEVEL     1    DetJac Range:   0.0658  to   1.9584 
  Avg. Gradient Time  : 0.0319s  34.33% 
  Avg. Gaussian Time  : 0.0482s  51.83% 
  Avg. Iteration Time : 0.0929s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0170
Level     2,  Iter     1:    Energy =   0.0178
Level     2,  Iter     2:    Energy =   0.0185
Level     2,  Iter     3:    Energy =   0.0191
Level     2,  Iter     4:    Energy =   0.0196
Level     2,  Iter     5:    Energy =   0.0202
Level     2,  Iter     6:    Energy =   0.0207
Level     2,  Iter     7:    Energy =   0.0212
Level     2,  Iter     8:    Energy =   0.0216
Level     2,  Iter     9:    Energy =   0.0220
Level     2,  Iter    10:    Energy =   0.0224
Level     2,  Iter    11:    Energy =   0.0227
Level     2,  Iter    12:    Energy =   0.0231
Level     2,  Iter    13:    Energy =   0.0234
Level     2,  Iter    14:    Energy =   0.0236
Level     2,  Iter    15:    Energy =   0.0238
Level     2,  Iter    16:    Energy =   0.0240
Level     2,  Iter    17:    Energy =   0.0242
Level     2,  Iter    18:    Energy =   0.0243
Level     2,  Iter    19:    Energy =   0.0244
END OF LEVEL     2    DetJac Range:   0.0342  to   2.4730 
  Avg. Gradient Time  : 0.1903s  31.92% 
  Avg. Gaussian Time  : 0.3256s  54.62% 
  Avg. Iteration Time : 0.5961s 

real	0m21.855s
user	0m37.240s
sys	0m3.040s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train016/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train016/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train016/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train016/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=16 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=16 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.268571 0.272857
+ echo 'CHUNK 0.268571 0.272857 1'
CHUNK 0.268571 0.272857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.268571 0.272857 1
====================================
         PROGRESS: 0.268571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=017
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 017
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train017
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train017
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left 017 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train017 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=left
+ local tid=017
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train017
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 017 left 0
+ local tid=017
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 017 0
+ set -e
+ local tid=017
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.686
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 575.495   GNORM= 107.244
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3        82.814      70.123       0.047
   2    4      -384.825      66.752       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.05153 -0.020598 0.0482352 -2.78884 
-0.220053 1.2347 -0.321069 8.91902 
0.0310829 -0.177991 0.988418 -5.09789 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -94.1442   GNORM= 194.155
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       -99.145      22.908       0.005
   2    6      -202.083     405.528      85.000
   3   14      -261.477      94.604       0.095
   4   25      -282.222     174.348       1.002
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.06293 -0.0487225 0.0756297 -5.8329 
-0.213404 1.22151 -0.290171 7.42521 
-0.0188232 -0.128553 0.967936 4.47618 
0 0 0 1 

Final RAS Transform: 
1.06293 -0.0487225 0.0756297 -5.8329 
-0.213404 1.22151 -0.290171 7.42521 
-0.0188232 -0.128553 0.967936 4.47618 
0 0 0 1 


real	0m4.853s
user	0m7.760s
sys	0m0.572s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.509397
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0152
Level     0,  Iter     1:    Energy =   0.0168
Level     0,  Iter     2:    Energy =   0.0197
Level     0,  Iter     3:    Energy =   0.0221
Level     0,  Iter     4:    Energy =   0.0246
Level     0,  Iter     5:    Energy =   0.0267
Level     0,  Iter     6:    Energy =   0.0287
Level     0,  Iter     7:    Energy =   0.0305
Level     0,  Iter     8:    Energy =   0.0320
Level     0,  Iter     9:    Energy =   0.0333
Level     0,  Iter    10:    Energy =   0.0344
Level     0,  Iter    11:    Energy =   0.0354
Level     0,  Iter    12:    Energy =   0.0363
Level     0,  Iter    13:    Energy =   0.0372
Level     0,  Iter    14:    Energy =   0.0380
Level     0,  Iter    15:    Energy =   0.0387
Level     0,  Iter    16:    Energy =   0.0396
Level     0,  Iter    17:    Energy =   0.0402
Level     0,  Iter    18:    Energy =   0.0408
Level     0,  Iter    19:    Energy =   0.0414
Level     0,  Iter    20:    Energy =   0.0420
Level     0,  Iter    21:    Energy =   0.0427
Level     0,  Iter    22:    Energy =   0.0435
Level     0,  Iter    23:    Energy =   0.0443
Level     0,  Iter    24:    Energy =   0.0452
Level     0,  Iter    25:    Energy =   0.0460
Level     0,  Iter    26:    Energy =   0.0469
Level     0,  Iter    27:    Energy =   0.0476
Level     0,  Iter    28:    Energy =   0.0483
Level     0,  Iter    29:    Energy =   0.0488
Level     0,  Iter    30:    Energy =   0.0495
Level     0,  Iter    31:    Energy =   0.0499
Level     0,  Iter    32:    Energy =   0.0503
Level     0,  Iter    33:    Energy =   0.0506
Level     0,  Iter    34:    Energy =   0.0509
Level     0,  Iter    35:    Energy =   0.0511
Level     0,  Iter    36:    Energy =   0.0515
Level     0,  Iter    37:    Energy =   0.0517
Level     0,  Iter    38:    Energy =   0.0520
Level     0,  Iter    39:    Energy =   0.0523
Level     0,  Iter    40:    Energy =   0.0525
Level     0,  Iter    41:    Energy =   0.0528
Level     0,  Iter    42:    Energy =   0.0530
Level     0,  Iter    43:    Energy =   0.0532
Level     0,  Iter    44:    Energy =   0.0533
Level     0,  Iter    45:    Energy =   0.0534
Level     0,  Iter    46:    Energy =   0.0535
Level     0,  Iter    47:    Energy =   0.0536
Level     0,  Iter    48:    Energy =   0.0537
Level     0,  Iter    49:    Energy =   0.0538
Level     0,  Iter    50:    Energy =   0.0538
Level     0,  Iter    51:    Energy =   0.0538
Level     0,  Iter    52:    Energy =   0.0538
Level     0,  Iter    53:    Energy =   0.0538
Level     0,  Iter    54:    Energy =   0.0538
Level     0,  Iter    55:    Energy =   0.0538
Level     0,  Iter    56:    Energy =   0.0538
Level     0,  Iter    57:    Energy =   0.0538
Level     0,  Iter    58:    Energy =   0.0539
Level     0,  Iter    59:    Energy =   0.0540
END OF LEVEL     0    DetJac Range:   0.0371  to   2.7672 
  Avg. Gradient Time  : 0.0077s  33.24% 
  Avg. Gaussian Time  : 0.0111s  48.10% 
  Avg. Iteration Time : 0.0230s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0306
Level     1,  Iter     1:    Energy =   0.0323
Level     1,  Iter     2:    Energy =   0.0338
Level     1,  Iter     3:    Energy =   0.0348
Level     1,  Iter     4:    Energy =   0.0357
Level     1,  Iter     5:    Energy =   0.0360
Level     1,  Iter     6:    Energy =   0.0363
Level     1,  Iter     7:    Energy =   0.0368
Level     1,  Iter     8:    Energy =   0.0373
Level     1,  Iter     9:    Energy =   0.0377
Level     1,  Iter    10:    Energy =   0.0380
Level     1,  Iter    11:    Energy =   0.0384
Level     1,  Iter    12:    Energy =   0.0387
Level     1,  Iter    13:    Energy =   0.0390
Level     1,  Iter    14:    Energy =   0.0392
Level     1,  Iter    15:    Energy =   0.0395
Level     1,  Iter    16:    Energy =   0.0397
Level     1,  Iter    17:    Energy =   0.0399
Level     1,  Iter    18:    Energy =   0.0401
Level     1,  Iter    19:    Energy =   0.0403
Level     1,  Iter    20:    Energy =   0.0405
Level     1,  Iter    21:    Energy =   0.0406
Level     1,  Iter    22:    Energy =   0.0407
Level     1,  Iter    23:    Energy =   0.0409
Level     1,  Iter    24:    Energy =   0.0410
Level     1,  Iter    25:    Energy =   0.0411
Level     1,  Iter    26:    Energy =   0.0412
Level     1,  Iter    27:    Energy =   0.0413
Level     1,  Iter    28:    Energy =   0.0415
Level     1,  Iter    29:    Energy =   0.0416
Level     1,  Iter    30:    Energy =   0.0417
Level     1,  Iter    31:    Energy =   0.0418
Level     1,  Iter    32:    Energy =   0.0419
Level     1,  Iter    33:    Energy =   0.0420
Level     1,  Iter    34:    Energy =   0.0421
Level     1,  Iter    35:    Energy =   0.0422
Level     1,  Iter    36:    Energy =   0.0422
Level     1,  Iter    37:    Energy =   0.0423
Level     1,  Iter    38:    Energy =   0.0423
Level     1,  Iter    39:    Energy =   0.0423
Level     1,  Iter    40:    Energy =   0.0422
Level     1,  Iter    41:    Energy =   0.0422
Level     1,  Iter    42:    Energy =   0.0422
Level     1,  Iter    43:    Energy =   0.0421
Level     1,  Iter    44:    Energy =   0.0421
Level     1,  Iter    45:    Energy =   0.0421
Level     1,  Iter    46:    Energy =   0.0421
Level     1,  Iter    47:    Energy =   0.0421
Level     1,  Iter    48:    Energy =   0.0422
Level     1,  Iter    49:    Energy =   0.0422
Level     1,  Iter    50:    Energy =   0.0422
Level     1,  Iter    51:    Energy =   0.0423
Level     1,  Iter    52:    Energy =   0.0424
Level     1,  Iter    53:    Energy =   0.0424
Level     1,  Iter    54:    Energy =   0.0425
Level     1,  Iter    55:    Energy =   0.0426
Level     1,  Iter    56:    Energy =   0.0427
Level     1,  Iter    57:    Energy =   0.0428
Level     1,  Iter    58:    Energy =   0.0429
Level     1,  Iter    59:    Energy =   0.0429
END OF LEVEL     1    DetJac Range:   0.0161  to   3.5534 
  Avg. Gradient Time  : 0.0295s  33.69% 
  Avg. Gaussian Time  : 0.0459s  52.34% 
  Avg. Iteration Time : 0.0876s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0177
Level     2,  Iter     1:    Energy =   0.0184
Level     2,  Iter     2:    Energy =   0.0190
Level     2,  Iter     3:    Energy =   0.0195
Level     2,  Iter     4:    Energy =   0.0201
Level     2,  Iter     5:    Energy =   0.0206
Level     2,  Iter     6:    Energy =   0.0210
Level     2,  Iter     7:    Energy =   0.0215
Level     2,  Iter     8:    Energy =   0.0218
Level     2,  Iter     9:    Energy =   0.0220
Level     2,  Iter    10:    Energy =   0.0223
Level     2,  Iter    11:    Energy =   0.0225
Level     2,  Iter    12:    Energy =   0.0227
Level     2,  Iter    13:    Energy =   0.0230
Level     2,  Iter    14:    Energy =   0.0232
Level     2,  Iter    15:    Energy =   0.0234
Level     2,  Iter    16:    Energy =   0.0234
Level     2,  Iter    17:    Energy =   0.0235
Level     2,  Iter    18:    Energy =   0.0235
Level     2,  Iter    19:    Energy =   0.0235
END OF LEVEL     2    DetJac Range:   0.0072  to   3.4972 
  Avg. Gradient Time  : 0.1836s  31.96% 
  Avg. Gaussian Time  : 0.3140s  54.65% 
  Avg. Iteration Time : 0.5746s 

real	0m20.918s
user	0m35.640s
sys	0m2.812s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train017/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train017/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train017/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train017/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=17 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=17 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.272857 0.277143
+ echo 'CHUNK 0.272857 0.277143 1'
CHUNK 0.272857 0.277143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.272857 0.277143 1
====================================
         PROGRESS: 0.272857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=018
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 018
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train018
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train018
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left 018 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train018 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=left
+ local tid=018
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train018
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 018 left 0
+ local tid=018
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 018 0
+ set -e
+ local tid=018
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.592
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 577.537   GNORM= 86.3574
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -233.513      96.499       0.243
   2    5      -370.243     271.684       1.000
   3    9      -582.896     282.181       0.191
   4   11      -640.242     105.134       0.184
   5   12      -673.434     104.803       1.000
   6   13      -737.004      80.790       1.000
   7   16      -768.353      45.551       0.419
   8   19      -785.990      55.448       2.288
   9   22      -792.923      62.826       0.972
  10   25      -793.495      65.424       0.002
  11   26      -807.911      96.858       1.000
  12   29      -824.611      57.016       2.543
  13   31      -878.373      43.017       5.000
  14   32     -1028.636     173.377       1.000
  15   33     -1098.864     137.483       1.000
  16   34     -1158.089      84.759       1.000
  17   38     -1175.744     169.812       1.140
  18   39     -1227.768      73.393       1.000
  19   40     -1231.651      82.306       1.000
  20   41     -1249.817      33.323       1.000
  21   43     -1257.325      32.014       0.412
  22   49     -1259.997      36.869       0.334
Final RAS Transform: 
1.13711 -0.0466703 0.284133 0.482387 
-0.34488 0.926839 -0.333658 1.8474 
0.26374 -0.125875 0.491446 -11.5112 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -592.029   GNORM= 87.2776
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -600.824      37.021       0.011
   2    4      -623.010      65.586       5.000
   3    7      -658.350      24.644       2.286
   4    9      -659.381      15.995       0.148
   5   13      -659.756      16.171       1.396
   6   14      -661.915      11.852       1.000
   7   15      -666.488      50.211       1.000
   8   16      -673.764      10.910       1.000
   9   17      -675.084      33.137       1.000
  10   18      -678.329      39.924       1.000
  11   19      -682.303      34.701       1.000
  12   20      -683.771      18.458       1.000
  13   22      -684.038      14.825       0.286
  14   25      -686.675      14.548       1.597
  15   27      -688.592      11.347       0.086
  16   33      -690.766      10.655       0.257
  17   36      -690.897      10.076       0.000
  18   38      -691.838      24.200       5.000
  19   39      -693.392       8.681       1.000
  20   41      -693.459      45.089       5.000
  21   42      -699.108      34.319       1.000
  22   43      -701.949      20.145       1.000
  23   46      -704.924      14.733       0.760
  24   49      -714.316      46.681       2.180
  25   50      -721.166      70.540       1.000
  26   53      -722.182      28.721       0.078
  27   54      -722.853      25.206       1.000
  28   55      -724.285       7.327       1.000
  29   56      -724.383      14.608       1.000
  30   57      -724.873      10.650       1.000
  31   58      -725.207      17.260       1.000
  32   60      -725.861      21.848       0.365
  33   61      -726.421      21.662       1.000
Final RAS Transform: 
1.04065 -0.102016 0.29195 2.66458 
-0.451667 0.962034 -0.294723 0.661131 
0.313569 -0.214518 0.434703 -8.8474 
0 0 0 1 

Final RAS Transform: 
1.04065 -0.102016 0.29195 2.66458 
-0.451667 0.962034 -0.294723 0.661131 
0.313569 -0.214518 0.434703 -8.8474 
0 0 0 1 


real	0m6.381s
user	0m10.532s
sys	0m0.836s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.516003
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0305
Level     0,  Iter     1:    Energy =   0.0326
Level     0,  Iter     2:    Energy =   0.0345
Level     0,  Iter     3:    Energy =   0.0365
Level     0,  Iter     4:    Energy =   0.0385
Level     0,  Iter     5:    Energy =   0.0402
Level     0,  Iter     6:    Energy =   0.0415
Level     0,  Iter     7:    Energy =   0.0428
Level     0,  Iter     8:    Energy =   0.0438
Level     0,  Iter     9:    Energy =   0.0447
Level     0,  Iter    10:    Energy =   0.0455
Level     0,  Iter    11:    Energy =   0.0460
Level     0,  Iter    12:    Energy =   0.0464
Level     0,  Iter    13:    Energy =   0.0469
Level     0,  Iter    14:    Energy =   0.0473
Level     0,  Iter    15:    Energy =   0.0477
Level     0,  Iter    16:    Energy =   0.0481
Level     0,  Iter    17:    Energy =   0.0484
Level     0,  Iter    18:    Energy =   0.0487
Level     0,  Iter    19:    Energy =   0.0491
Level     0,  Iter    20:    Energy =   0.0494
Level     0,  Iter    21:    Energy =   0.0498
Level     0,  Iter    22:    Energy =   0.0501
Level     0,  Iter    23:    Energy =   0.0504
Level     0,  Iter    24:    Energy =   0.0506
Level     0,  Iter    25:    Energy =   0.0509
Level     0,  Iter    26:    Energy =   0.0511
Level     0,  Iter    27:    Energy =   0.0513
Level     0,  Iter    28:    Energy =   0.0515
Level     0,  Iter    29:    Energy =   0.0518
Level     0,  Iter    30:    Energy =   0.0520
Level     0,  Iter    31:    Energy =   0.0523
Level     0,  Iter    32:    Energy =   0.0525
Level     0,  Iter    33:    Energy =   0.0528
Level     0,  Iter    34:    Energy =   0.0530
Level     0,  Iter    35:    Energy =   0.0532
Level     0,  Iter    36:    Energy =   0.0534
Level     0,  Iter    37:    Energy =   0.0536
Level     0,  Iter    38:    Energy =   0.0538
Level     0,  Iter    39:    Energy =   0.0539
Level     0,  Iter    40:    Energy =   0.0541
Level     0,  Iter    41:    Energy =   0.0542
Level     0,  Iter    42:    Energy =   0.0543
Level     0,  Iter    43:    Energy =   0.0543
Level     0,  Iter    44:    Energy =   0.0544
Level     0,  Iter    45:    Energy =   0.0545
Level     0,  Iter    46:    Energy =   0.0547
Level     0,  Iter    47:    Energy =   0.0548
Level     0,  Iter    48:    Energy =   0.0549
Level     0,  Iter    49:    Energy =   0.0549
Level     0,  Iter    50:    Energy =   0.0550
Level     0,  Iter    51:    Energy =   0.0551
Level     0,  Iter    52:    Energy =   0.0552
Level     0,  Iter    53:    Energy =   0.0553
Level     0,  Iter    54:    Energy =   0.0554
Level     0,  Iter    55:    Energy =   0.0555
Level     0,  Iter    56:    Energy =   0.0556
Level     0,  Iter    57:    Energy =   0.0556
Level     0,  Iter    58:    Energy =   0.0557
Level     0,  Iter    59:    Energy =   0.0558
END OF LEVEL     0    DetJac Range:   0.1541  to   1.9909 
  Avg. Gradient Time  : 0.0075s  32.94% 
  Avg. Gaussian Time  : 0.0109s  48.12% 
  Avg. Iteration Time : 0.0227s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0303
Level     1,  Iter     1:    Energy =   0.0317
Level     1,  Iter     2:    Energy =   0.0327
Level     1,  Iter     3:    Energy =   0.0338
Level     1,  Iter     4:    Energy =   0.0348
Level     1,  Iter     5:    Energy =   0.0357
Level     1,  Iter     6:    Energy =   0.0364
Level     1,  Iter     7:    Energy =   0.0370
Level     1,  Iter     8:    Energy =   0.0376
Level     1,  Iter     9:    Energy =   0.0381
Level     1,  Iter    10:    Energy =   0.0387
Level     1,  Iter    11:    Energy =   0.0391
Level     1,  Iter    12:    Energy =   0.0395
Level     1,  Iter    13:    Energy =   0.0398
Level     1,  Iter    14:    Energy =   0.0401
Level     1,  Iter    15:    Energy =   0.0403
Level     1,  Iter    16:    Energy =   0.0406
Level     1,  Iter    17:    Energy =   0.0407
Level     1,  Iter    18:    Energy =   0.0408
Level     1,  Iter    19:    Energy =   0.0409
Level     1,  Iter    20:    Energy =   0.0410
Level     1,  Iter    21:    Energy =   0.0411
Level     1,  Iter    22:    Energy =   0.0411
Level     1,  Iter    23:    Energy =   0.0412
Level     1,  Iter    24:    Energy =   0.0412
Level     1,  Iter    25:    Energy =   0.0412
Level     1,  Iter    26:    Energy =   0.0412
Level     1,  Iter    27:    Energy =   0.0412
Level     1,  Iter    28:    Energy =   0.0413
Level     1,  Iter    29:    Energy =   0.0413
Level     1,  Iter    30:    Energy =   0.0413
Level     1,  Iter    31:    Energy =   0.0413
Level     1,  Iter    32:    Energy =   0.0413
Level     1,  Iter    33:    Energy =   0.0414
Level     1,  Iter    34:    Energy =   0.0414
Level     1,  Iter    35:    Energy =   0.0414
Level     1,  Iter    36:    Energy =   0.0414
Level     1,  Iter    37:    Energy =   0.0414
Level     1,  Iter    38:    Energy =   0.0414
Level     1,  Iter    39:    Energy =   0.0414
Level     1,  Iter    40:    Energy =   0.0413
Level     1,  Iter    41:    Energy =   0.0413
Level     1,  Iter    42:    Energy =   0.0413
Level     1,  Iter    43:    Energy =   0.0413
Level     1,  Iter    44:    Energy =   0.0412
Level     1,  Iter    45:    Energy =   0.0412
Level     1,  Iter    46:    Energy =   0.0412
Level     1,  Iter    47:    Energy =   0.0412
Level     1,  Iter    48:    Energy =   0.0412
Level     1,  Iter    49:    Energy =   0.0412
Level     1,  Iter    50:    Energy =   0.0412
Level     1,  Iter    51:    Energy =   0.0412
Level     1,  Iter    52:    Energy =   0.0412
Level     1,  Iter    53:    Energy =   0.0412
Level     1,  Iter    54:    Energy =   0.0412
Level     1,  Iter    55:    Energy =   0.0412
Level     1,  Iter    56:    Energy =   0.0412
Level     1,  Iter    57:    Energy =   0.0412
Level     1,  Iter    58:    Energy =   0.0412
Level     1,  Iter    59:    Energy =   0.0412
END OF LEVEL     1    DetJac Range:   0.0898  to   2.5576 
  Avg. Gradient Time  : 0.0305s  33.88% 
  Avg. Gaussian Time  : 0.0469s  52.07% 
  Avg. Iteration Time : 0.0901s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0197
Level     2,  Iter     1:    Energy =   0.0203
Level     2,  Iter     2:    Energy =   0.0208
Level     2,  Iter     3:    Energy =   0.0213
Level     2,  Iter     4:    Energy =   0.0218
Level     2,  Iter     5:    Energy =   0.0224
Level     2,  Iter     6:    Energy =   0.0229
Level     2,  Iter     7:    Energy =   0.0234
Level     2,  Iter     8:    Energy =   0.0239
Level     2,  Iter     9:    Energy =   0.0242
Level     2,  Iter    10:    Energy =   0.0246
Level     2,  Iter    11:    Energy =   0.0249
Level     2,  Iter    12:    Energy =   0.0252
Level     2,  Iter    13:    Energy =   0.0255
Level     2,  Iter    14:    Energy =   0.0257
Level     2,  Iter    15:    Energy =   0.0260
Level     2,  Iter    16:    Energy =   0.0262
Level     2,  Iter    17:    Energy =   0.0264
Level     2,  Iter    18:    Energy =   0.0265
Level     2,  Iter    19:    Energy =   0.0266
END OF LEVEL     2    DetJac Range:   0.0501  to   3.5720 
  Avg. Gradient Time  : 0.1833s  32.14% 
  Avg. Gaussian Time  : 0.3101s  54.35% 
  Avg. Iteration Time : 0.5705s 

real	0m20.950s
user	0m35.692s
sys	0m2.864s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train018/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train018/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train018/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train018/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=18 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=18 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.277143 0.281429
+ echo 'CHUNK 0.277143 0.281429 1'
CHUNK 0.277143 0.281429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.277143 0.281429 1
====================================
         PROGRESS: 0.277143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=019
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 019
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train019
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train019
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left 019 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train019 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=left
+ local tid=019
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train019
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 019 left 0
+ local tid=019
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 019 0
+ set -e
+ local tid=019
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.687
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 618.859   GNORM= 137.92
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       515.215     100.805       0.007
   2    5        -0.005       0.046      21.000
   3    6        -0.006       0.038       1.000
   4    7        -0.009       0.010       1.000
   5    8        -0.010       0.007       1.000
   6   16        -0.025       0.016       7.630
   7   22        -0.422       0.408       0.865
   8   25        -0.422       0.412       0.000
   9   27        -0.511       0.202       5.000
  10   28        -0.555       0.218       1.000
  11   30        -0.556       0.244       0.186
  12   32        -0.578       0.085       0.511
  13   34        -0.581       0.062       0.499
  14   35        -0.583       0.122       1.000
  15   36        -0.592       0.089       1.000
  16   39        -0.628       0.355       1.878
  17   40        -0.636       0.132       1.000
  18   41        -0.645       0.116       1.000
  19   44        -0.645       0.089       0.089
  20   45        -0.645       0.085       1.000
  21   46        -0.647       0.106       1.000
  22   47        -0.649       0.210       1.000
  23   48        -0.651       0.173       1.000
  24   49        -0.652       0.151       1.000
  25   52        -0.663       0.083       2.155
  26   53        -0.673       0.123       1.000
  27   54        -0.681       0.165       1.000
  28   55        -0.685       0.056       1.000
  29   57        -0.686       0.076       0.235
  30   59        -0.686       0.092       0.396
  31   61        -0.686       0.082       0.347
Final RAS Transform: 
0.985124 -0.133381 0.0717057 -2.05711 
-0.145607 1.24245 -0.3478 7.84081 
0.100222 -0.278112 0.930439 -7.49918 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -144.801   GNORM= 304.671
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.985106 -0.133331 0.0716395 -2.05096 
-0.145755 1.24273 -0.348169 7.87415 
0.10012 -0.278018 0.93032 -7.48551 
0 0 0 1 

Final RAS Transform: 
0.985106 -0.133331 0.0716395 -2.05096 
-0.145755 1.24273 -0.348169 7.87415 
0.10012 -0.278018 0.93032 -7.48551 
0 0 0 1 


real	0m3.746s
user	0m5.580s
sys	0m0.632s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.461318
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0076
Level     0,  Iter     1:    Energy =   0.0094
Level     0,  Iter     2:    Energy =   0.0113
Level     0,  Iter     3:    Energy =   0.0131
Level     0,  Iter     4:    Energy =   0.0149
Level     0,  Iter     5:    Energy =   0.0163
Level     0,  Iter     6:    Energy =   0.0175
Level     0,  Iter     7:    Energy =   0.0182
Level     0,  Iter     8:    Energy =   0.0190
Level     0,  Iter     9:    Energy =   0.0200
Level     0,  Iter    10:    Energy =   0.0209
Level     0,  Iter    11:    Energy =   0.0218
Level     0,  Iter    12:    Energy =   0.0225
Level     0,  Iter    13:    Energy =   0.0230
Level     0,  Iter    14:    Energy =   0.0234
Level     0,  Iter    15:    Energy =   0.0236
Level     0,  Iter    16:    Energy =   0.0238
Level     0,  Iter    17:    Energy =   0.0242
Level     0,  Iter    18:    Energy =   0.0245
Level     0,  Iter    19:    Energy =   0.0247
Level     0,  Iter    20:    Energy =   0.0252
Level     0,  Iter    21:    Energy =   0.0257
Level     0,  Iter    22:    Energy =   0.0261
Level     0,  Iter    23:    Energy =   0.0265
Level     0,  Iter    24:    Energy =   0.0268
Level     0,  Iter    25:    Energy =   0.0271
Level     0,  Iter    26:    Energy =   0.0274
Level     0,  Iter    27:    Energy =   0.0277
Level     0,  Iter    28:    Energy =   0.0280
Level     0,  Iter    29:    Energy =   0.0285
Level     0,  Iter    30:    Energy =   0.0289
Level     0,  Iter    31:    Energy =   0.0293
Level     0,  Iter    32:    Energy =   0.0298
Level     0,  Iter    33:    Energy =   0.0302
Level     0,  Iter    34:    Energy =   0.0305
Level     0,  Iter    35:    Energy =   0.0308
Level     0,  Iter    36:    Energy =   0.0312
Level     0,  Iter    37:    Energy =   0.0315
Level     0,  Iter    38:    Energy =   0.0319
Level     0,  Iter    39:    Energy =   0.0322
Level     0,  Iter    40:    Energy =   0.0326
Level     0,  Iter    41:    Energy =   0.0329
Level     0,  Iter    42:    Energy =   0.0331
Level     0,  Iter    43:    Energy =   0.0334
Level     0,  Iter    44:    Energy =   0.0336
Level     0,  Iter    45:    Energy =   0.0339
Level     0,  Iter    46:    Energy =   0.0342
Level     0,  Iter    47:    Energy =   0.0344
Level     0,  Iter    48:    Energy =   0.0347
Level     0,  Iter    49:    Energy =   0.0350
Level     0,  Iter    50:    Energy =   0.0352
Level     0,  Iter    51:    Energy =   0.0354
Level     0,  Iter    52:    Energy =   0.0356
Level     0,  Iter    53:    Energy =   0.0358
Level     0,  Iter    54:    Energy =   0.0360
Level     0,  Iter    55:    Energy =   0.0362
Level     0,  Iter    56:    Energy =   0.0364
Level     0,  Iter    57:    Energy =   0.0366
Level     0,  Iter    58:    Energy =   0.0367
Level     0,  Iter    59:    Energy =   0.0368
END OF LEVEL     0    DetJac Range:   0.0143  to   2.0190 
  Avg. Gradient Time  : 0.0077s  32.93% 
  Avg. Gaussian Time  : 0.0112s  48.26% 
  Avg. Iteration Time : 0.0233s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0196
Level     1,  Iter     1:    Energy =   0.0205
Level     1,  Iter     2:    Energy =   0.0212
Level     1,  Iter     3:    Energy =   0.0217
Level     1,  Iter     4:    Energy =   0.0222
Level     1,  Iter     5:    Energy =   0.0227
Level     1,  Iter     6:    Energy =   0.0231
Level     1,  Iter     7:    Energy =   0.0235
Level     1,  Iter     8:    Energy =   0.0240
Level     1,  Iter     9:    Energy =   0.0245
Level     1,  Iter    10:    Energy =   0.0249
Level     1,  Iter    11:    Energy =   0.0253
Level     1,  Iter    12:    Energy =   0.0256
Level     1,  Iter    13:    Energy =   0.0259
Level     1,  Iter    14:    Energy =   0.0262
Level     1,  Iter    15:    Energy =   0.0265
Level     1,  Iter    16:    Energy =   0.0268
Level     1,  Iter    17:    Energy =   0.0272
Level     1,  Iter    18:    Energy =   0.0276
Level     1,  Iter    19:    Energy =   0.0280
Level     1,  Iter    20:    Energy =   0.0284
Level     1,  Iter    21:    Energy =   0.0287
Level     1,  Iter    22:    Energy =   0.0290
Level     1,  Iter    23:    Energy =   0.0293
Level     1,  Iter    24:    Energy =   0.0294
Level     1,  Iter    25:    Energy =   0.0296
Level     1,  Iter    26:    Energy =   0.0297
Level     1,  Iter    27:    Energy =   0.0299
Level     1,  Iter    28:    Energy =   0.0300
Level     1,  Iter    29:    Energy =   0.0302
Level     1,  Iter    30:    Energy =   0.0303
Level     1,  Iter    31:    Energy =   0.0304
Level     1,  Iter    32:    Energy =   0.0305
Level     1,  Iter    33:    Energy =   0.0305
Level     1,  Iter    34:    Energy =   0.0306
Level     1,  Iter    35:    Energy =   0.0306
Level     1,  Iter    36:    Energy =   0.0307
Level     1,  Iter    37:    Energy =   0.0307
Level     1,  Iter    38:    Energy =   0.0309
Level     1,  Iter    39:    Energy =   0.0309
Level     1,  Iter    40:    Energy =   0.0310
Level     1,  Iter    41:    Energy =   0.0310
Level     1,  Iter    42:    Energy =   0.0311
Level     1,  Iter    43:    Energy =   0.0311
Level     1,  Iter    44:    Energy =   0.0312
Level     1,  Iter    45:    Energy =   0.0311
Level     1,  Iter    46:    Energy =   0.0312
Level     1,  Iter    47:    Energy =   0.0312
Level     1,  Iter    48:    Energy =   0.0313
Level     1,  Iter    49:    Energy =   0.0312
Level     1,  Iter    50:    Energy =   0.0313
Level     1,  Iter    51:    Energy =   0.0313
Level     1,  Iter    52:    Energy =   0.0314
Level     1,  Iter    53:    Energy =   0.0313
Level     1,  Iter    54:    Energy =   0.0314
Level     1,  Iter    55:    Energy =   0.0313
Level     1,  Iter    56:    Energy =   0.0314
Level     1,  Iter    57:    Energy =   0.0314
Level     1,  Iter    58:    Energy =   0.0315
Level     1,  Iter    59:    Energy =   0.0314
END OF LEVEL     1    DetJac Range:   0.0299  to   2.4508 
  Avg. Gradient Time  : 0.0294s  33.64% 
  Avg. Gaussian Time  : 0.0458s  52.30% 
  Avg. Iteration Time : 0.0875s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0141
Level     2,  Iter     1:    Energy =   0.0148
Level     2,  Iter     2:    Energy =   0.0155
Level     2,  Iter     3:    Energy =   0.0161
Level     2,  Iter     4:    Energy =   0.0166
Level     2,  Iter     5:    Energy =   0.0171
Level     2,  Iter     6:    Energy =   0.0175
Level     2,  Iter     7:    Energy =   0.0178
Level     2,  Iter     8:    Energy =   0.0181
Level     2,  Iter     9:    Energy =   0.0184
Level     2,  Iter    10:    Energy =   0.0186
Level     2,  Iter    11:    Energy =   0.0189
Level     2,  Iter    12:    Energy =   0.0191
Level     2,  Iter    13:    Energy =   0.0192
Level     2,  Iter    14:    Energy =   0.0194
Level     2,  Iter    15:    Energy =   0.0196
Level     2,  Iter    16:    Energy =   0.0197
Level     2,  Iter    17:    Energy =   0.0198
Level     2,  Iter    18:    Energy =   0.0199
Level     2,  Iter    19:    Energy =   0.0200
END OF LEVEL     2    DetJac Range:   0.0305  to   2.4241 
  Avg. Gradient Time  : 0.1870s  32.25% 
  Avg. Gaussian Time  : 0.3153s  54.39% 
  Avg. Iteration Time : 0.5797s 

real	0m21.023s
user	0m35.748s
sys	0m2.944s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train019/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train019/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train019/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train019/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train019/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=19 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=19 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.281429 0.285714
+ echo 'CHUNK 0.281429 0.285714 1'
CHUNK 0.281429 0.285714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.281429 0.285714 1
====================================
         PROGRESS: 0.281429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=020
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 020
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train020
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train020
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left 020 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train020 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=left
+ local tid=020
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train020
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 020 left 0
+ local tid=020
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 020 0
+ set -e
+ local tid=020
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.49
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 774.169   GNORM= 112.896
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -161.586      85.868       0.186
   2    7      -278.618      56.659       0.057
   3   12      -302.096      50.329       0.595
   4   14      -333.167      32.663       0.170
   5   15      -369.216     182.231       1.000
   6   18      -385.899     184.796       0.060
   7   20      -409.658     188.547       0.314
   8   21      -439.187    1470.721       1.000
   9   23      -454.160     124.826       0.267
  10   26      -633.238      67.208       0.064
  11   30      -965.206     176.490       7.189
  12   32      -979.765     550.507       0.063
  13   34      -979.852     215.035       0.159
  14   35     -1025.472     260.199       1.000
  15   37     -1040.900     236.075       0.098
  16   42     -1043.401     249.510       0.016
  17   43     -1086.427     253.360       1.000
  18   44     -1219.834      82.460       1.000
  19   45     -1244.038      63.895       1.000
  20   47     -1255.603      53.634       0.230
  21   48     -1268.562      50.656       1.000
  22   49     -1281.577      36.860       1.000
  23   51     -1309.248      70.201       0.515
  24   52     -1334.185      75.002       1.000
  25   53     -1362.277      90.252       1.000
  26   55     -1369.478      31.520       0.235
  27   56     -1371.870      32.069       1.000
Final RAS Transform: 
1.15506 -0.126938 -0.066769 -1.41974 
-0.486797 0.849647 -0.372966 12.3247 
0.0271838 0.154914 0.788417 5.93354 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -637.006   GNORM= 38.5959
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -650.760      56.782       0.026
   2    3      -656.526      10.094       1.000
   3    9      -656.553      13.729       1.253
   4   10      -657.238       8.014       1.000
   5   13      -657.670      10.203       0.731
   6   16      -658.006      17.438       2.138
   7   20      -658.154       8.279       0.386
   8   29      -658.510      21.366      21.267
   9   30      -662.078      30.041       1.000
  10   31      -667.231       9.929       1.000
  11   32      -669.824      11.722       1.000
  12   33      -672.129      41.326       1.000
  13   34      -672.923      11.991       1.000
  14   36      -672.978       9.238       0.035
  15   42      -673.077      25.718       0.031
  16   43      -673.243      24.208       1.000
  17   44      -673.379       5.318       1.000
  18   60      -673.408       6.013       0.008
Final RAS Transform: 
1.16309 -0.143139 -0.0559995 0.588297 
-0.474938 0.891419 -0.314716 12.6782 
0.0436031 0.227133 0.82289 5.20499 
0 0 0 1 

Final RAS Transform: 
1.16309 -0.143139 -0.0559995 0.588297 
-0.474938 0.891419 -0.314716 12.6782 
0.0436031 0.227133 0.82289 5.20499 
0 0 0 1 


real	0m6.312s
user	0m10.352s
sys	0m0.840s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.379884
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0359
Level     0,  Iter     1:    Energy =   0.0378
Level     0,  Iter     2:    Energy =   0.0405
Level     0,  Iter     3:    Energy =   0.0424
Level     0,  Iter     4:    Energy =   0.0440
Level     0,  Iter     5:    Energy =   0.0455
Level     0,  Iter     6:    Energy =   0.0467
Level     0,  Iter     7:    Energy =   0.0478
Level     0,  Iter     8:    Energy =   0.0487
Level     0,  Iter     9:    Energy =   0.0495
Level     0,  Iter    10:    Energy =   0.0503
Level     0,  Iter    11:    Energy =   0.0510
Level     0,  Iter    12:    Energy =   0.0516
Level     0,  Iter    13:    Energy =   0.0523
Level     0,  Iter    14:    Energy =   0.0529
Level     0,  Iter    15:    Energy =   0.0535
Level     0,  Iter    16:    Energy =   0.0542
Level     0,  Iter    17:    Energy =   0.0547
Level     0,  Iter    18:    Energy =   0.0551
Level     0,  Iter    19:    Energy =   0.0555
Level     0,  Iter    20:    Energy =   0.0559
Level     0,  Iter    21:    Energy =   0.0564
Level     0,  Iter    22:    Energy =   0.0567
Level     0,  Iter    23:    Energy =   0.0569
Level     0,  Iter    24:    Energy =   0.0571
Level     0,  Iter    25:    Energy =   0.0572
Level     0,  Iter    26:    Energy =   0.0573
Level     0,  Iter    27:    Energy =   0.0576
Level     0,  Iter    28:    Energy =   0.0575
Level     0,  Iter    29:    Energy =   0.0577
Level     0,  Iter    30:    Energy =   0.0576
Level     0,  Iter    31:    Energy =   0.0578
Level     0,  Iter    32:    Energy =   0.0576
Level     0,  Iter    33:    Energy =   0.0577
Level     0,  Iter    34:    Energy =   0.0577
Level     0,  Iter    35:    Energy =   0.0578
Level     0,  Iter    36:    Energy =   0.0578
Level     0,  Iter    37:    Energy =   0.0579
Level     0,  Iter    38:    Energy =   0.0579
Level     0,  Iter    39:    Energy =   0.0581
Level     0,  Iter    40:    Energy =   0.0581
Level     0,  Iter    41:    Energy =   0.0581
Level     0,  Iter    42:    Energy =   0.0582
Level     0,  Iter    43:    Energy =   0.0582
Level     0,  Iter    44:    Energy =   0.0582
Level     0,  Iter    45:    Energy =   0.0582
Level     0,  Iter    46:    Energy =   0.0583
Level     0,  Iter    47:    Energy =   0.0583
Level     0,  Iter    48:    Energy =   0.0584
Level     0,  Iter    49:    Energy =   0.0584
Level     0,  Iter    50:    Energy =   0.0584
Level     0,  Iter    51:    Energy =   0.0585
Level     0,  Iter    52:    Energy =   0.0584
Level     0,  Iter    53:    Energy =   0.0585
Level     0,  Iter    54:    Energy =   0.0584
Level     0,  Iter    55:    Energy =   0.0586
Level     0,  Iter    56:    Energy =   0.0584
Level     0,  Iter    57:    Energy =   0.0586
Level     0,  Iter    58:    Energy =   0.0585
Level     0,  Iter    59:    Energy =   0.0586
END OF LEVEL     0    DetJac Range:   0.0998  to   2.5701 
  Avg. Gradient Time  : 0.0077s  32.84% 
  Avg. Gaussian Time  : 0.0113s  48.45% 
  Avg. Iteration Time : 0.0233s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0317
Level     1,  Iter     1:    Energy =   0.0327
Level     1,  Iter     2:    Energy =   0.0337
Level     1,  Iter     3:    Energy =   0.0347
Level     1,  Iter     4:    Energy =   0.0355
Level     1,  Iter     5:    Energy =   0.0361
Level     1,  Iter     6:    Energy =   0.0364
Level     1,  Iter     7:    Energy =   0.0368
Level     1,  Iter     8:    Energy =   0.0372
Level     1,  Iter     9:    Energy =   0.0376
Level     1,  Iter    10:    Energy =   0.0379
Level     1,  Iter    11:    Energy =   0.0383
Level     1,  Iter    12:    Energy =   0.0385
Level     1,  Iter    13:    Energy =   0.0388
Level     1,  Iter    14:    Energy =   0.0390
Level     1,  Iter    15:    Energy =   0.0392
Level     1,  Iter    16:    Energy =   0.0395
Level     1,  Iter    17:    Energy =   0.0397
Level     1,  Iter    18:    Energy =   0.0399
Level     1,  Iter    19:    Energy =   0.0400
Level     1,  Iter    20:    Energy =   0.0402
Level     1,  Iter    21:    Energy =   0.0404
Level     1,  Iter    22:    Energy =   0.0406
Level     1,  Iter    23:    Energy =   0.0408
Level     1,  Iter    24:    Energy =   0.0411
Level     1,  Iter    25:    Energy =   0.0413
Level     1,  Iter    26:    Energy =   0.0415
Level     1,  Iter    27:    Energy =   0.0417
Level     1,  Iter    28:    Energy =   0.0419
Level     1,  Iter    29:    Energy =   0.0421
Level     1,  Iter    30:    Energy =   0.0422
Level     1,  Iter    31:    Energy =   0.0423
Level     1,  Iter    32:    Energy =   0.0424
Level     1,  Iter    33:    Energy =   0.0425
Level     1,  Iter    34:    Energy =   0.0426
Level     1,  Iter    35:    Energy =   0.0428
Level     1,  Iter    36:    Energy =   0.0429
Level     1,  Iter    37:    Energy =   0.0430
Level     1,  Iter    38:    Energy =   0.0431
Level     1,  Iter    39:    Energy =   0.0432
Level     1,  Iter    40:    Energy =   0.0434
Level     1,  Iter    41:    Energy =   0.0435
Level     1,  Iter    42:    Energy =   0.0436
Level     1,  Iter    43:    Energy =   0.0436
Level     1,  Iter    44:    Energy =   0.0437
Level     1,  Iter    45:    Energy =   0.0438
Level     1,  Iter    46:    Energy =   0.0438
Level     1,  Iter    47:    Energy =   0.0439
Level     1,  Iter    48:    Energy =   0.0440
Level     1,  Iter    49:    Energy =   0.0440
Level     1,  Iter    50:    Energy =   0.0441
Level     1,  Iter    51:    Energy =   0.0441
Level     1,  Iter    52:    Energy =   0.0442
Level     1,  Iter    53:    Energy =   0.0442
Level     1,  Iter    54:    Energy =   0.0442
Level     1,  Iter    55:    Energy =   0.0442
Level     1,  Iter    56:    Energy =   0.0443
Level     1,  Iter    57:    Energy =   0.0443
Level     1,  Iter    58:    Energy =   0.0443
Level     1,  Iter    59:    Energy =   0.0443
END OF LEVEL     1    DetJac Range:   0.0475  to   3.3070 
  Avg. Gradient Time  : 0.0301s  34.05% 
  Avg. Gaussian Time  : 0.0460s  51.93% 
  Avg. Iteration Time : 0.0885s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0183
Level     2,  Iter     1:    Energy =   0.0190
Level     2,  Iter     2:    Energy =   0.0196
Level     2,  Iter     3:    Energy =   0.0202
Level     2,  Iter     4:    Energy =   0.0207
Level     2,  Iter     5:    Energy =   0.0212
Level     2,  Iter     6:    Energy =   0.0218
Level     2,  Iter     7:    Energy =   0.0221
Level     2,  Iter     8:    Energy =   0.0225
Level     2,  Iter     9:    Energy =   0.0228
Level     2,  Iter    10:    Energy =   0.0232
Level     2,  Iter    11:    Energy =   0.0234
Level     2,  Iter    12:    Energy =   0.0236
Level     2,  Iter    13:    Energy =   0.0239
Level     2,  Iter    14:    Energy =   0.0242
Level     2,  Iter    15:    Energy =   0.0244
Level     2,  Iter    16:    Energy =   0.0245
Level     2,  Iter    17:    Energy =   0.0245
Level     2,  Iter    18:    Energy =   0.0246
Level     2,  Iter    19:    Energy =   0.0247
END OF LEVEL     2    DetJac Range:   0.0441  to   3.6191 
  Avg. Gradient Time  : 0.1858s  32.18% 
  Avg. Gaussian Time  : 0.3138s  54.34% 
  Avg. Iteration Time : 0.5775s 

real	0m21.083s
user	0m35.988s
sys	0m2.832s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train020/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train020/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train020/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train020/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train020/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=20 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=20 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.285714 0.29
+ echo 'CHUNK 0.285714 0.29 1'
CHUNK 0.285714 0.29 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.285714 0.29 1
====================================
         PROGRESS: 0.285714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=021
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 021
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train021
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train021
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left 021 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train021 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=left
+ local tid=021
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train021
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 021 left 0
+ local tid=021
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 021 0
+ set -e
+ local tid=021
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.598
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 546.865   GNORM= 193.138
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       357.086     152.924       0.005
   2    3       212.201     159.331       1.000
   3    4       -30.829     119.711       1.000
   4    6      -187.030     102.268       0.246
   5    9      -351.630      93.829       1.932
   6   12      -352.086      67.013       0.056
   7   13      -428.147      75.359       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.913116 0.0237715 -0.0675279 1.89628 
-0.141242 1.19711 -0.196032 6.26713 
0.0686621 -0.168212 0.998023 -5.39906 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -272.782   GNORM= 27.7964
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.913119 0.0237683 -0.0675367 1.8963 
-0.141229 1.19712 -0.196054 6.26829 
0.0686621 -0.168233 0.998047 -5.39952 
0 0 0 1 

Final RAS Transform: 
0.913119 0.0237683 -0.0675367 1.8963 
-0.141229 1.19712 -0.196054 6.26829 
0.0686621 -0.168233 0.998047 -5.39952 
0 0 0 1 


real	0m3.427s
user	0m5.172s
sys	0m0.480s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.458196
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0127
Level     0,  Iter     1:    Energy =   0.0138
Level     0,  Iter     2:    Energy =   0.0156
Level     0,  Iter     3:    Energy =   0.0176
Level     0,  Iter     4:    Energy =   0.0194
Level     0,  Iter     5:    Energy =   0.0210
Level     0,  Iter     6:    Energy =   0.0225
Level     0,  Iter     7:    Energy =   0.0237
Level     0,  Iter     8:    Energy =   0.0247
Level     0,  Iter     9:    Energy =   0.0257
Level     0,  Iter    10:    Energy =   0.0264
Level     0,  Iter    11:    Energy =   0.0272
Level     0,  Iter    12:    Energy =   0.0279
Level     0,  Iter    13:    Energy =   0.0284
Level     0,  Iter    14:    Energy =   0.0290
Level     0,  Iter    15:    Energy =   0.0295
Level     0,  Iter    16:    Energy =   0.0300
Level     0,  Iter    17:    Energy =   0.0304
Level     0,  Iter    18:    Energy =   0.0307
Level     0,  Iter    19:    Energy =   0.0309
Level     0,  Iter    20:    Energy =   0.0311
Level     0,  Iter    21:    Energy =   0.0313
Level     0,  Iter    22:    Energy =   0.0315
Level     0,  Iter    23:    Energy =   0.0317
Level     0,  Iter    24:    Energy =   0.0317
Level     0,  Iter    25:    Energy =   0.0318
Level     0,  Iter    26:    Energy =   0.0317
Level     0,  Iter    27:    Energy =   0.0317
Level     0,  Iter    28:    Energy =   0.0317
Level     0,  Iter    29:    Energy =   0.0317
Level     0,  Iter    30:    Energy =   0.0319
Level     0,  Iter    31:    Energy =   0.0320
Level     0,  Iter    32:    Energy =   0.0322
Level     0,  Iter    33:    Energy =   0.0324
Level     0,  Iter    34:    Energy =   0.0326
Level     0,  Iter    35:    Energy =   0.0328
Level     0,  Iter    36:    Energy =   0.0329
Level     0,  Iter    37:    Energy =   0.0334
Level     0,  Iter    38:    Energy =   0.0341
Level     0,  Iter    39:    Energy =   0.0344
Level     0,  Iter    40:    Energy =   0.0346
Level     0,  Iter    41:    Energy =   0.0347
Level     0,  Iter    42:    Energy =   0.0348
Level     0,  Iter    43:    Energy =   0.0349
Level     0,  Iter    44:    Energy =   0.0350
Level     0,  Iter    45:    Energy =   0.0350
Level     0,  Iter    46:    Energy =   0.0350
Level     0,  Iter    47:    Energy =   0.0351
Level     0,  Iter    48:    Energy =   0.0352
Level     0,  Iter    49:    Energy =   0.0352
Level     0,  Iter    50:    Energy =   0.0353
Level     0,  Iter    51:    Energy =   0.0355
Level     0,  Iter    52:    Energy =   0.0357
Level     0,  Iter    53:    Energy =   0.0360
Level     0,  Iter    54:    Energy =   0.0364
Level     0,  Iter    55:    Energy =   0.0366
Level     0,  Iter    56:    Energy =   0.0368
Level     0,  Iter    57:    Energy =   0.0370
Level     0,  Iter    58:    Energy =   0.0372
Level     0,  Iter    59:    Energy =   0.0374
END OF LEVEL     0    DetJac Range:   0.0385  to   3.5314 
  Avg. Gradient Time  : 0.0078s  33.28% 
  Avg. Gaussian Time  : 0.0113s  48.23% 
  Avg. Iteration Time : 0.0234s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0202
Level     1,  Iter     1:    Energy =   0.0211
Level     1,  Iter     2:    Energy =   0.0218
Level     1,  Iter     3:    Energy =   0.0224
Level     1,  Iter     4:    Energy =   0.0235
Level     1,  Iter     5:    Energy =   0.0245
Level     1,  Iter     6:    Energy =   0.0253
Level     1,  Iter     7:    Energy =   0.0259
Level     1,  Iter     8:    Energy =   0.0265
Level     1,  Iter     9:    Energy =   0.0269
Level     1,  Iter    10:    Energy =   0.0272
Level     1,  Iter    11:    Energy =   0.0274
Level     1,  Iter    12:    Energy =   0.0277
Level     1,  Iter    13:    Energy =   0.0280
Level     1,  Iter    14:    Energy =   0.0284
Level     1,  Iter    15:    Energy =   0.0288
Level     1,  Iter    16:    Energy =   0.0291
Level     1,  Iter    17:    Energy =   0.0294
Level     1,  Iter    18:    Energy =   0.0296
Level     1,  Iter    19:    Energy =   0.0298
Level     1,  Iter    20:    Energy =   0.0299
Level     1,  Iter    21:    Energy =   0.0301
Level     1,  Iter    22:    Energy =   0.0301
Level     1,  Iter    23:    Energy =   0.0303
Level     1,  Iter    24:    Energy =   0.0304
Level     1,  Iter    25:    Energy =   0.0305
Level     1,  Iter    26:    Energy =   0.0305
Level     1,  Iter    27:    Energy =   0.0306
Level     1,  Iter    28:    Energy =   0.0307
Level     1,  Iter    29:    Energy =   0.0308
Level     1,  Iter    30:    Energy =   0.0308
Level     1,  Iter    31:    Energy =   0.0308
Level     1,  Iter    32:    Energy =   0.0308
Level     1,  Iter    33:    Energy =   0.0308
Level     1,  Iter    34:    Energy =   0.0308
Level     1,  Iter    35:    Energy =   0.0309
Level     1,  Iter    36:    Energy =   0.0309
Level     1,  Iter    37:    Energy =   0.0310
Level     1,  Iter    38:    Energy =   0.0310
Level     1,  Iter    39:    Energy =   0.0311
Level     1,  Iter    40:    Energy =   0.0312
Level     1,  Iter    41:    Energy =   0.0313
Level     1,  Iter    42:    Energy =   0.0314
Level     1,  Iter    43:    Energy =   0.0314
Level     1,  Iter    44:    Energy =   0.0315
Level     1,  Iter    45:    Energy =   0.0316
Level     1,  Iter    46:    Energy =   0.0316
Level     1,  Iter    47:    Energy =   0.0317
Level     1,  Iter    48:    Energy =   0.0318
Level     1,  Iter    49:    Energy =   0.0318
Level     1,  Iter    50:    Energy =   0.0319
Level     1,  Iter    51:    Energy =   0.0320
Level     1,  Iter    52:    Energy =   0.0320
Level     1,  Iter    53:    Energy =   0.0321
Level     1,  Iter    54:    Energy =   0.0321
Level     1,  Iter    55:    Energy =   0.0322
Level     1,  Iter    56:    Energy =   0.0322
Level     1,  Iter    57:    Energy =   0.0323
Level     1,  Iter    58:    Energy =   0.0323
Level     1,  Iter    59:    Energy =   0.0323
END OF LEVEL     1    DetJac Range:   0.0300  to   2.9824 
  Avg. Gradient Time  : 0.0291s  33.46% 
  Avg. Gaussian Time  : 0.0456s  52.41% 
  Avg. Iteration Time : 0.0870s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0149
Level     2,  Iter     1:    Energy =   0.0157
Level     2,  Iter     2:    Energy =   0.0163
Level     2,  Iter     3:    Energy =   0.0169
Level     2,  Iter     4:    Energy =   0.0174
Level     2,  Iter     5:    Energy =   0.0178
Level     2,  Iter     6:    Energy =   0.0183
Level     2,  Iter     7:    Energy =   0.0187
Level     2,  Iter     8:    Energy =   0.0190
Level     2,  Iter     9:    Energy =   0.0194
Level     2,  Iter    10:    Energy =   0.0197
Level     2,  Iter    11:    Energy =   0.0200
Level     2,  Iter    12:    Energy =   0.0203
Level     2,  Iter    13:    Energy =   0.0205
Level     2,  Iter    14:    Energy =   0.0207
Level     2,  Iter    15:    Energy =   0.0209
Level     2,  Iter    16:    Energy =   0.0211
Level     2,  Iter    17:    Energy =   0.0212
Level     2,  Iter    18:    Energy =   0.0214
Level     2,  Iter    19:    Energy =   0.0216
END OF LEVEL     2    DetJac Range:   0.0150  to   3.4952 
  Avg. Gradient Time  : 0.1947s  33.03% 
  Avg. Gaussian Time  : 0.3166s  53.72% 
  Avg. Iteration Time : 0.5893s 

real	0m21.271s
user	0m36.400s
sys	0m2.748s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train021/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train021/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train021/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train021/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train021/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=21 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=21 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.29 0.294286
+ echo 'CHUNK 0.29 0.294286 1'
CHUNK 0.29 0.294286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.29 0.294286 1
====================================
         PROGRESS: 0.29               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=022
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 022
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train022
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train022
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left 022 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train022 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=left
+ local tid=022
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train022
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 022 left 0
+ local tid=022
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 022 0
+ set -e
+ local tid=022
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.628
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 510.268   GNORM= 78.0631
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       463.218      64.562       0.013
   2    7      -692.976      92.175      10.870
   3    9      -731.075      66.082       0.228
   4   10      -810.047     129.047       1.000
   5   11      -824.332     113.630       1.000
   6   12      -862.182      68.779       1.000
   7   13      -895.733      45.645       1.000
   8   16      -966.500     151.966       2.118
   9   17     -1035.192     160.911       1.000
  10   19     -1073.721      91.866       0.212
  11   20     -1076.239     120.186       1.000
  12   21     -1107.512      70.011       1.000
  13   22     -1120.056      72.838       1.000
  14   23     -1131.938      59.564       1.000
  15   24     -1149.151      46.752       1.000
  16   25     -1170.878      45.884       1.000
  17   26     -1186.905      64.701       1.000
  18   27     -1201.957      41.090       1.000
  19   28     -1206.784      42.828       1.000
  20   29     -1212.215      38.161       1.000
  21   30     -1216.752      27.715       1.000
  22   31     -1221.092      26.168       1.000
  23   32     -1249.671     101.781       1.000
  24   34     -1266.641     148.167       0.073
  25   35     -1286.496     181.178       1.000
  26   36     -1324.317     157.302       1.000
  27   38     -1357.214      43.365       0.281
  28   39     -1367.816      44.235       1.000
  29   40     -1387.148      36.400       1.000
  30   41     -1403.061      38.788       1.000
  31   43     -1415.573      44.067       0.412
  32   44     -1426.257      31.271       1.000
  33   47     -1444.512      42.548       1.839
  34   49     -1449.103      43.617       0.184
  35   51     -1453.539      67.628       0.325
  36   52     -1472.492      31.513       1.000
  37   54     -1477.790      59.559       0.099
  38   55     -1487.911      54.377       1.000
  39   57     -1497.206      44.939       0.447
  40   58     -1501.785      52.330       1.000
  41   59     -1505.650      33.840       1.000
  42   60     -1508.784      41.095       1.000
  43   61     -1510.784      17.803       1.000
Final RAS Transform: 
0.818581 -0.234525 0.181257 -1.3225 
-0.157652 1.02956 -0.273772 6.8323 
0.761503 -0.249197 0.272825 -2.8549 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -767.046   GNORM= 20.5041
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -769.186      23.892       0.007
   2    5      -770.032      25.835       0.190
   3    6      -774.394      26.768       1.000
   4    9      -775.530      33.208       0.033
   5   10      -777.570      38.466       1.000
   6   12      -778.167      14.500       0.271
   7   14      -778.331      11.570       0.488
   8   15      -779.241      27.155       1.000
   9   16      -779.519      16.010       1.000
  10   17      -781.559      31.217       1.000
  11   18      -784.721      42.839       1.000
  12   19      -789.256      36.513       1.000
  13   20      -792.145      39.128       1.000
  14   22      -792.245      41.411       0.074
  15   25      -819.631      74.925       2.871
  16   27      -820.815     161.369       0.088
  17   28      -823.984      49.719       1.000
  18   29      -824.995      23.204       1.000
  19   30      -827.029      28.495       1.000
  20   31      -829.278      46.597       1.000
  21   36      -833.103      20.975       0.999
  22   38      -835.009      40.788       0.356
  23   41      -835.503      25.624       0.013
  24   43      -839.302      32.772       5.000
  25   44      -847.822      27.710       1.000
  26   46      -848.854      29.581       0.023
  27   47      -851.012      21.346       1.000
  28   51      -854.174      38.495       0.664
  29   52      -857.479      21.596       1.000
  30   53      -860.534      41.077       1.000
  31   57      -862.343      12.575       1.460
  32   59      -863.495      10.029       0.493
  33   61      -863.802      14.018       0.307
Final RAS Transform: 
0.771478 -0.243296 0.0992265 -4.64671 
-0.134271 0.945981 -0.206539 9.09469 
0.665905 -0.329357 0.274336 -5.1157 
0 0 0 1 

Final RAS Transform: 
0.771478 -0.243296 0.0992265 -4.64671 
-0.134271 0.945981 -0.206539 9.09469 
0.665905 -0.329357 0.274336 -5.1157 
0 0 0 1 


real	0m6.640s
user	0m10.864s
sys	0m0.852s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.402156
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0382
Level     0,  Iter     1:    Energy =   0.0403
Level     0,  Iter     2:    Energy =   0.0428
Level     0,  Iter     3:    Energy =   0.0446
Level     0,  Iter     4:    Energy =   0.0463
Level     0,  Iter     5:    Energy =   0.0480
Level     0,  Iter     6:    Energy =   0.0493
Level     0,  Iter     7:    Energy =   0.0504
Level     0,  Iter     8:    Energy =   0.0510
Level     0,  Iter     9:    Energy =   0.0516
Level     0,  Iter    10:    Energy =   0.0519
Level     0,  Iter    11:    Energy =   0.0523
Level     0,  Iter    12:    Energy =   0.0525
Level     0,  Iter    13:    Energy =   0.0530
Level     0,  Iter    14:    Energy =   0.0533
Level     0,  Iter    15:    Energy =   0.0539
Level     0,  Iter    16:    Energy =   0.0541
Level     0,  Iter    17:    Energy =   0.0547
Level     0,  Iter    18:    Energy =   0.0548
Level     0,  Iter    19:    Energy =   0.0552
Level     0,  Iter    20:    Energy =   0.0553
Level     0,  Iter    21:    Energy =   0.0556
Level     0,  Iter    22:    Energy =   0.0558
Level     0,  Iter    23:    Energy =   0.0561
Level     0,  Iter    24:    Energy =   0.0563
Level     0,  Iter    25:    Energy =   0.0566
Level     0,  Iter    26:    Energy =   0.0565
Level     0,  Iter    27:    Energy =   0.0570
Level     0,  Iter    28:    Energy =   0.0567
Level     0,  Iter    29:    Energy =   0.0572
Level     0,  Iter    30:    Energy =   0.0569
Level     0,  Iter    31:    Energy =   0.0574
Level     0,  Iter    32:    Energy =   0.0571
Level     0,  Iter    33:    Energy =   0.0575
Level     0,  Iter    34:    Energy =   0.0572
Level     0,  Iter    35:    Energy =   0.0575
Level     0,  Iter    36:    Energy =   0.0573
Level     0,  Iter    37:    Energy =   0.0576
Level     0,  Iter    38:    Energy =   0.0574
Level     0,  Iter    39:    Energy =   0.0576
Level     0,  Iter    40:    Energy =   0.0574
Level     0,  Iter    41:    Energy =   0.0576
Level     0,  Iter    42:    Energy =   0.0574
Level     0,  Iter    43:    Energy =   0.0576
Level     0,  Iter    44:    Energy =   0.0574
Level     0,  Iter    45:    Energy =   0.0578
Level     0,  Iter    46:    Energy =   0.0575
Level     0,  Iter    47:    Energy =   0.0578
Level     0,  Iter    48:    Energy =   0.0576
Level     0,  Iter    49:    Energy =   0.0580
Level     0,  Iter    50:    Energy =   0.0578
Level     0,  Iter    51:    Energy =   0.0581
Level     0,  Iter    52:    Energy =   0.0579
Level     0,  Iter    53:    Energy =   0.0582
Level     0,  Iter    54:    Energy =   0.0579
Level     0,  Iter    55:    Energy =   0.0583
Level     0,  Iter    56:    Energy =   0.0580
Level     0,  Iter    57:    Energy =   0.0583
Level     0,  Iter    58:    Energy =   0.0580
Level     0,  Iter    59:    Energy =   0.0584
END OF LEVEL     0    DetJac Range:   0.1093  to   2.5060 
  Avg. Gradient Time  : 0.0076s  33.05% 
  Avg. Gaussian Time  : 0.0110s  48.09% 
  Avg. Iteration Time : 0.0228s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0338
Level     1,  Iter     1:    Energy =   0.0356
Level     1,  Iter     2:    Energy =   0.0372
Level     1,  Iter     3:    Energy =   0.0382
Level     1,  Iter     4:    Energy =   0.0389
Level     1,  Iter     5:    Energy =   0.0395
Level     1,  Iter     6:    Energy =   0.0401
Level     1,  Iter     7:    Energy =   0.0405
Level     1,  Iter     8:    Energy =   0.0410
Level     1,  Iter     9:    Energy =   0.0413
Level     1,  Iter    10:    Energy =   0.0417
Level     1,  Iter    11:    Energy =   0.0420
Level     1,  Iter    12:    Energy =   0.0423
Level     1,  Iter    13:    Energy =   0.0426
Level     1,  Iter    14:    Energy =   0.0428
Level     1,  Iter    15:    Energy =   0.0430
Level     1,  Iter    16:    Energy =   0.0432
Level     1,  Iter    17:    Energy =   0.0434
Level     1,  Iter    18:    Energy =   0.0435
Level     1,  Iter    19:    Energy =   0.0437
Level     1,  Iter    20:    Energy =   0.0438
Level     1,  Iter    21:    Energy =   0.0439
Level     1,  Iter    22:    Energy =   0.0440
Level     1,  Iter    23:    Energy =   0.0441
Level     1,  Iter    24:    Energy =   0.0441
Level     1,  Iter    25:    Energy =   0.0442
Level     1,  Iter    26:    Energy =   0.0442
Level     1,  Iter    27:    Energy =   0.0443
Level     1,  Iter    28:    Energy =   0.0443
Level     1,  Iter    29:    Energy =   0.0443
Level     1,  Iter    30:    Energy =   0.0444
Level     1,  Iter    31:    Energy =   0.0444
Level     1,  Iter    32:    Energy =   0.0444
Level     1,  Iter    33:    Energy =   0.0445
Level     1,  Iter    34:    Energy =   0.0445
Level     1,  Iter    35:    Energy =   0.0445
Level     1,  Iter    36:    Energy =   0.0445
Level     1,  Iter    37:    Energy =   0.0445
Level     1,  Iter    38:    Energy =   0.0445
Level     1,  Iter    39:    Energy =   0.0446
Level     1,  Iter    40:    Energy =   0.0446
Level     1,  Iter    41:    Energy =   0.0446
Level     1,  Iter    42:    Energy =   0.0446
Level     1,  Iter    43:    Energy =   0.0446
Level     1,  Iter    44:    Energy =   0.0447
Level     1,  Iter    45:    Energy =   0.0447
Level     1,  Iter    46:    Energy =   0.0447
Level     1,  Iter    47:    Energy =   0.0447
Level     1,  Iter    48:    Energy =   0.0447
Level     1,  Iter    49:    Energy =   0.0447
Level     1,  Iter    50:    Energy =   0.0447
Level     1,  Iter    51:    Energy =   0.0447
Level     1,  Iter    52:    Energy =   0.0447
Level     1,  Iter    53:    Energy =   0.0447
Level     1,  Iter    54:    Energy =   0.0447
Level     1,  Iter    55:    Energy =   0.0447
Level     1,  Iter    56:    Energy =   0.0447
Level     1,  Iter    57:    Energy =   0.0448
Level     1,  Iter    58:    Energy =   0.0448
Level     1,  Iter    59:    Energy =   0.0448
END OF LEVEL     1    DetJac Range:   0.0213  to   2.8932 
  Avg. Gradient Time  : 0.0297s  33.87% 
  Avg. Gaussian Time  : 0.0456s  52.10% 
  Avg. Iteration Time : 0.0876s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0218
Level     2,  Iter     1:    Energy =   0.0222
Level     2,  Iter     2:    Energy =   0.0225
Level     2,  Iter     3:    Energy =   0.0229
Level     2,  Iter     4:    Energy =   0.0232
Level     2,  Iter     5:    Energy =   0.0236
Level     2,  Iter     6:    Energy =   0.0239
Level     2,  Iter     7:    Energy =   0.0243
Level     2,  Iter     8:    Energy =   0.0247
Level     2,  Iter     9:    Energy =   0.0250
Level     2,  Iter    10:    Energy =   0.0254
Level     2,  Iter    11:    Energy =   0.0257
Level     2,  Iter    12:    Energy =   0.0261
Level     2,  Iter    13:    Energy =   0.0263
Level     2,  Iter    14:    Energy =   0.0265
Level     2,  Iter    15:    Energy =   0.0266
Level     2,  Iter    16:    Energy =   0.0267
Level     2,  Iter    17:    Energy =   0.0268
Level     2,  Iter    18:    Energy =   0.0271
Level     2,  Iter    19:    Energy =   0.0273
END OF LEVEL     2    DetJac Range:   0.0187  to   2.6822 
  Avg. Gradient Time  : 0.1936s  32.60% 
  Avg. Gaussian Time  : 0.3214s  54.13% 
  Avg. Iteration Time : 0.5938s 

real	0m21.403s
user	0m36.496s
sys	0m2.832s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train022/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train022/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train022/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train022/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train022/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=22 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=22 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.294286 0.298571
+ echo 'CHUNK 0.294286 0.298571 1'
CHUNK 0.294286 0.298571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.294286 0.298571 1
====================================
         PROGRESS: 0.294286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=023
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 023
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train023
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train023
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left 023 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train023 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=left
+ local tid=023
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train023
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 023 left 0
+ local tid=023
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 023 0
+ set -e
+ local tid=023
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.652
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 674.465   GNORM= 156.416
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3        39.199      37.180       0.032
   2    4         1.434      70.610       1.000
   3    8      -371.144      46.721       2.204
   4   12      -453.153     167.042       0.146
   5   14      -458.990      44.393       0.091
   6   15      -462.425      66.376       1.000
   7   17      -500.093      70.586       0.127
   8   19      -512.618      53.546       5.000
   9   20      -574.484     186.608       1.000
  10   22      -597.965     111.390       0.242
  11   24      -604.518      96.090       0.350
  12   31      -729.370     484.015       6.904
  13   37      -730.720     634.396       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.21652 0.0125555 -0.0097336 -3.32998 
-0.094521 0.941995 -0.55032 1.55872 
0.156326 -0.482796 0.83842 -3.66912 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -263.041   GNORM= 2400.02
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    5      -263.322     532.863       0.000
   2    6      -264.119     133.596       1.000
   3   15      -264.229     387.672       0.028
   4   18      -264.254      30.030       2.533
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.21668 0.0123423 -0.00929449 -3.35688 
-0.0943519 0.941788 -0.549789 1.52135 
0.15619 -0.482537 0.838259 -3.64853 
0 0 0 1 

Final RAS Transform: 
1.21668 0.0123423 -0.00929449 -3.35688 
-0.0943519 0.941788 -0.549789 1.52135 
0.15619 -0.482537 0.838259 -3.64853 
0 0 0 1 


real	0m4.779s
user	0m7.508s
sys	0m0.712s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.429143
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0183
Level     0,  Iter     1:    Energy =   0.0206
Level     0,  Iter     2:    Energy =   0.0233
Level     0,  Iter     3:    Energy =   0.0263
Level     0,  Iter     4:    Energy =   0.0285
Level     0,  Iter     5:    Energy =   0.0304
Level     0,  Iter     6:    Energy =   0.0317
Level     0,  Iter     7:    Energy =   0.0327
Level     0,  Iter     8:    Energy =   0.0338
Level     0,  Iter     9:    Energy =   0.0347
Level     0,  Iter    10:    Energy =   0.0357
Level     0,  Iter    11:    Energy =   0.0367
Level     0,  Iter    12:    Energy =   0.0377
Level     0,  Iter    13:    Energy =   0.0385
Level     0,  Iter    14:    Energy =   0.0394
Level     0,  Iter    15:    Energy =   0.0403
Level     0,  Iter    16:    Energy =   0.0412
Level     0,  Iter    17:    Energy =   0.0419
Level     0,  Iter    18:    Energy =   0.0427
Level     0,  Iter    19:    Energy =   0.0432
Level     0,  Iter    20:    Energy =   0.0436
Level     0,  Iter    21:    Energy =   0.0439
Level     0,  Iter    22:    Energy =   0.0442
Level     0,  Iter    23:    Energy =   0.0444
Level     0,  Iter    24:    Energy =   0.0447
Level     0,  Iter    25:    Energy =   0.0449
Level     0,  Iter    26:    Energy =   0.0451
Level     0,  Iter    27:    Energy =   0.0452
Level     0,  Iter    28:    Energy =   0.0454
Level     0,  Iter    29:    Energy =   0.0455
Level     0,  Iter    30:    Energy =   0.0457
Level     0,  Iter    31:    Energy =   0.0459
Level     0,  Iter    32:    Energy =   0.0460
Level     0,  Iter    33:    Energy =   0.0461
Level     0,  Iter    34:    Energy =   0.0463
Level     0,  Iter    35:    Energy =   0.0464
Level     0,  Iter    36:    Energy =   0.0465
Level     0,  Iter    37:    Energy =   0.0466
Level     0,  Iter    38:    Energy =   0.0467
Level     0,  Iter    39:    Energy =   0.0468
Level     0,  Iter    40:    Energy =   0.0469
Level     0,  Iter    41:    Energy =   0.0469
Level     0,  Iter    42:    Energy =   0.0470
Level     0,  Iter    43:    Energy =   0.0471
Level     0,  Iter    44:    Energy =   0.0473
Level     0,  Iter    45:    Energy =   0.0474
Level     0,  Iter    46:    Energy =   0.0475
Level     0,  Iter    47:    Energy =   0.0477
Level     0,  Iter    48:    Energy =   0.0478
Level     0,  Iter    49:    Energy =   0.0480
Level     0,  Iter    50:    Energy =   0.0481
Level     0,  Iter    51:    Energy =   0.0482
Level     0,  Iter    52:    Energy =   0.0484
Level     0,  Iter    53:    Energy =   0.0485
Level     0,  Iter    54:    Energy =   0.0485
Level     0,  Iter    55:    Energy =   0.0486
Level     0,  Iter    56:    Energy =   0.0487
Level     0,  Iter    57:    Energy =   0.0487
Level     0,  Iter    58:    Energy =   0.0488
Level     0,  Iter    59:    Energy =   0.0489
END OF LEVEL     0    DetJac Range:   0.1270  to   2.2227 
  Avg. Gradient Time  : 0.0073s  32.96% 
  Avg. Gaussian Time  : 0.0106s  48.18% 
  Avg. Iteration Time : 0.0221s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0254
Level     1,  Iter     1:    Energy =   0.0270
Level     1,  Iter     2:    Energy =   0.0283
Level     1,  Iter     3:    Energy =   0.0294
Level     1,  Iter     4:    Energy =   0.0301
Level     1,  Iter     5:    Energy =   0.0307
Level     1,  Iter     6:    Energy =   0.0312
Level     1,  Iter     7:    Energy =   0.0317
Level     1,  Iter     8:    Energy =   0.0321
Level     1,  Iter     9:    Energy =   0.0324
Level     1,  Iter    10:    Energy =   0.0328
Level     1,  Iter    11:    Energy =   0.0330
Level     1,  Iter    12:    Energy =   0.0333
Level     1,  Iter    13:    Energy =   0.0335
Level     1,  Iter    14:    Energy =   0.0337
Level     1,  Iter    15:    Energy =   0.0339
Level     1,  Iter    16:    Energy =   0.0341
Level     1,  Iter    17:    Energy =   0.0342
Level     1,  Iter    18:    Energy =   0.0342
Level     1,  Iter    19:    Energy =   0.0343
Level     1,  Iter    20:    Energy =   0.0343
Level     1,  Iter    21:    Energy =   0.0343
Level     1,  Iter    22:    Energy =   0.0344
Level     1,  Iter    23:    Energy =   0.0343
Level     1,  Iter    24:    Energy =   0.0343
Level     1,  Iter    25:    Energy =   0.0343
Level     1,  Iter    26:    Energy =   0.0343
Level     1,  Iter    27:    Energy =   0.0343
Level     1,  Iter    28:    Energy =   0.0343
Level     1,  Iter    29:    Energy =   0.0343
Level     1,  Iter    30:    Energy =   0.0343
Level     1,  Iter    31:    Energy =   0.0344
Level     1,  Iter    32:    Energy =   0.0344
Level     1,  Iter    33:    Energy =   0.0344
Level     1,  Iter    34:    Energy =   0.0345
Level     1,  Iter    35:    Energy =   0.0345
Level     1,  Iter    36:    Energy =   0.0346
Level     1,  Iter    37:    Energy =   0.0346
Level     1,  Iter    38:    Energy =   0.0347
Level     1,  Iter    39:    Energy =   0.0347
Level     1,  Iter    40:    Energy =   0.0348
Level     1,  Iter    41:    Energy =   0.0348
Level     1,  Iter    42:    Energy =   0.0348
Level     1,  Iter    43:    Energy =   0.0349
Level     1,  Iter    44:    Energy =   0.0349
Level     1,  Iter    45:    Energy =   0.0349
Level     1,  Iter    46:    Energy =   0.0350
Level     1,  Iter    47:    Energy =   0.0350
Level     1,  Iter    48:    Energy =   0.0350
Level     1,  Iter    49:    Energy =   0.0351
Level     1,  Iter    50:    Energy =   0.0351
Level     1,  Iter    51:    Energy =   0.0351
Level     1,  Iter    52:    Energy =   0.0351
Level     1,  Iter    53:    Energy =   0.0351
Level     1,  Iter    54:    Energy =   0.0351
Level     1,  Iter    55:    Energy =   0.0351
Level     1,  Iter    56:    Energy =   0.0351
Level     1,  Iter    57:    Energy =   0.0351
Level     1,  Iter    58:    Energy =   0.0351
Level     1,  Iter    59:    Energy =   0.0351
END OF LEVEL     1    DetJac Range:   0.0845  to   2.9876 
  Avg. Gradient Time  : 0.0297s  33.60% 
  Avg. Gaussian Time  : 0.0462s  52.31% 
  Avg. Iteration Time : 0.0883s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0152
Level     2,  Iter     1:    Energy =   0.0158
Level     2,  Iter     2:    Energy =   0.0166
Level     2,  Iter     3:    Energy =   0.0172
Level     2,  Iter     4:    Energy =   0.0177
Level     2,  Iter     5:    Energy =   0.0180
Level     2,  Iter     6:    Energy =   0.0183
Level     2,  Iter     7:    Energy =   0.0183
Level     2,  Iter     8:    Energy =   0.0186
Level     2,  Iter     9:    Energy =   0.0188
Level     2,  Iter    10:    Energy =   0.0191
Level     2,  Iter    11:    Energy =   0.0193
Level     2,  Iter    12:    Energy =   0.0195
Level     2,  Iter    13:    Energy =   0.0196
Level     2,  Iter    14:    Energy =   0.0198
Level     2,  Iter    15:    Energy =   0.0200
Level     2,  Iter    16:    Energy =   0.0201
Level     2,  Iter    17:    Energy =   0.0202
Level     2,  Iter    18:    Energy =   0.0203
Level     2,  Iter    19:    Energy =   0.0204
END OF LEVEL     2    DetJac Range:   0.0631  to   3.1003 
  Avg. Gradient Time  : 0.1913s  32.44% 
  Avg. Gaussian Time  : 0.3203s  54.30% 
  Avg. Iteration Time : 0.5899s 

real	0m21.207s
user	0m36.356s
sys	0m2.716s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train023/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train023/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train023/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train023/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train023/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=23 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=23 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.298571 0.302857
+ echo 'CHUNK 0.298571 0.302857 1'
CHUNK 0.298571 0.302857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.298571 0.302857 1
====================================
         PROGRESS: 0.298571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=024
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 024
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train024
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train024
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left 024 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train024 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=left
+ local tid=024
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train024
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 024 left 0
+ local tid=024
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 024 0
+ set -e
+ local tid=024
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.641
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 591.399   GNORM= 123.259
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       475.199     116.210       0.008
   2    4        -0.002       0.000       5.000
 THE MINIMIZATION TERMINATED WITHOUT DETECTING ERRORS.
Final RAS Transform: 
0.880149 -0.0794756 0.0922333 -0.669777 
-0.741914 1.63775 -1.12423 33.2095 
-0.513567 -0.198193 0.0451867 1.2646 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -0.00392999   GNORM= 0
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
  THE SEARCH DIRECTION IS NOT A DESCENT DIRECTION
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 0 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.880149 -0.0794756 0.0922333 -0.669777 
-0.741914 1.63775 -1.12423 33.2095 
-0.513567 -0.198193 0.0451867 1.2646 
0 0 0 1 

Final RAS Transform: 
0.880149 -0.0794756 0.0922333 -0.669777 
-0.741914 1.63775 -1.12423 33.2095 
-0.513567 -0.198193 0.0451867 1.2646 
0 0 0 1 


real	0m1.843s
user	0m2.308s
sys	0m0.268s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.128286
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0002
Level     0,  Iter     1:    Energy =   0.0004
Level     0,  Iter     2:    Energy =   0.0009
Level     0,  Iter     3:    Energy =   0.0013
Level     0,  Iter     4:    Energy =   0.0017
Level     0,  Iter     5:    Energy =   0.0020
Level     0,  Iter     6:    Energy =   0.0026
Level     0,  Iter     7:    Energy =   0.0033
Level     0,  Iter     8:    Energy =   0.0038
Level     0,  Iter     9:    Energy =   0.0042
Level     0,  Iter    10:    Energy =   0.0047
Level     0,  Iter    11:    Energy =   0.0052
Level     0,  Iter    12:    Energy =   0.0056
Level     0,  Iter    13:    Energy =   0.0058
Level     0,  Iter    14:    Energy =   0.0060
Level     0,  Iter    15:    Energy =   0.0062
Level     0,  Iter    16:    Energy =   0.0064
Level     0,  Iter    17:    Energy =   0.0065
Level     0,  Iter    18:    Energy =   0.0068
Level     0,  Iter    19:    Energy =   0.0068
Level     0,  Iter    20:    Energy =   0.0069
Level     0,  Iter    21:    Energy =   0.0070
Level     0,  Iter    22:    Energy =   0.0071
Level     0,  Iter    23:    Energy =   0.0072
Level     0,  Iter    24:    Energy =   0.0072
Level     0,  Iter    25:    Energy =   0.0070
Level     0,  Iter    26:    Energy =   0.0070
Level     0,  Iter    27:    Energy =   0.0070
Level     0,  Iter    28:    Energy =   0.0070
Level     0,  Iter    29:    Energy =   0.0071
Level     0,  Iter    30:    Energy =   0.0071
Level     0,  Iter    31:    Energy =   0.0071
Level     0,  Iter    32:    Energy =   0.0071
Level     0,  Iter    33:    Energy =   0.0072
Level     0,  Iter    34:    Energy =   0.0073
Level     0,  Iter    35:    Energy =   0.0073
Level     0,  Iter    36:    Energy =   0.0074
Level     0,  Iter    37:    Energy =   0.0075
Level     0,  Iter    38:    Energy =   0.0076
Level     0,  Iter    39:    Energy =   0.0077
Level     0,  Iter    40:    Energy =   0.0077
Level     0,  Iter    41:    Energy =   0.0076
Level     0,  Iter    42:    Energy =   0.0076
Level     0,  Iter    43:    Energy =   0.0076
Level     0,  Iter    44:    Energy =   0.0076
Level     0,  Iter    45:    Energy =   0.0076
Level     0,  Iter    46:    Energy =   0.0076
Level     0,  Iter    47:    Energy =   0.0076
Level     0,  Iter    48:    Energy =   0.0076
Level     0,  Iter    49:    Energy =   0.0076
Level     0,  Iter    50:    Energy =   0.0076
Level     0,  Iter    51:    Energy =   0.0077
Level     0,  Iter    52:    Energy =   0.0076
Level     0,  Iter    53:    Energy =   0.0077
Level     0,  Iter    54:    Energy =   0.0077
Level     0,  Iter    55:    Energy =   0.0077
Level     0,  Iter    56:    Energy =   0.0077
Level     0,  Iter    57:    Energy =   0.0077
Level     0,  Iter    58:    Energy =   0.0077
Level     0,  Iter    59:    Energy =   0.0077
END OF LEVEL     0    DetJac Range:   0.0274  to   2.0818 
  Avg. Gradient Time  : 0.0073s  33.08% 
  Avg. Gaussian Time  : 0.0105s  47.95% 
  Avg. Iteration Time : 0.0220s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0001
Level     1,  Iter     1:    Energy =   0.0007
Level     1,  Iter     2:    Energy =   0.0013
Level     1,  Iter     3:    Energy =   0.0019
Level     1,  Iter     4:    Energy =   0.0023
Level     1,  Iter     5:    Energy =   0.0025
Level     1,  Iter     6:    Energy =   0.0029
Level     1,  Iter     7:    Energy =   0.0030
Level     1,  Iter     8:    Energy =   0.0034
Level     1,  Iter     9:    Energy =   0.0035
Level     1,  Iter    10:    Energy =   0.0037
Level     1,  Iter    11:    Energy =   0.0038
Level     1,  Iter    12:    Energy =   0.0040
Level     1,  Iter    13:    Energy =   0.0042
Level     1,  Iter    14:    Energy =   0.0042
Level     1,  Iter    15:    Energy =   0.0045
Level     1,  Iter    16:    Energy =   0.0047
Level     1,  Iter    17:    Energy =   0.0048
Level     1,  Iter    18:    Energy =   0.0050
Level     1,  Iter    19:    Energy =   0.0051
Level     1,  Iter    20:    Energy =   0.0052
Level     1,  Iter    21:    Energy =   0.0054
Level     1,  Iter    22:    Energy =   0.0052
Level     1,  Iter    23:    Energy =   0.0054
Level     1,  Iter    24:    Energy =   0.0057
Level     1,  Iter    25:    Energy =   0.0058
Level     1,  Iter    26:    Energy =   0.0059
Level     1,  Iter    27:    Energy =   0.0057
Level     1,  Iter    28:    Energy =   0.0059
Level     1,  Iter    29:    Energy =   0.0060
Level     1,  Iter    30:    Energy =   0.0059
Level     1,  Iter    31:    Energy =   0.0060
Level     1,  Iter    32:    Energy =   0.0058
Level     1,  Iter    33:    Energy =   0.0060
Level     1,  Iter    34:    Energy =   0.0061
Level     1,  Iter    35:    Energy =   0.0060
Level     1,  Iter    36:    Energy =   0.0061
Level     1,  Iter    37:    Energy =   0.0059
Level     1,  Iter    38:    Energy =   0.0061
Level     1,  Iter    39:    Energy =   0.0062
Level     1,  Iter    40:    Energy =   0.0061
Level     1,  Iter    41:    Energy =   0.0062
Level     1,  Iter    42:    Energy =   0.0060
Level     1,  Iter    43:    Energy =   0.0062
Level     1,  Iter    44:    Energy =   0.0063
Level     1,  Iter    45:    Energy =   0.0062
Level     1,  Iter    46:    Energy =   0.0064
Level     1,  Iter    47:    Energy =   0.0062
Level     1,  Iter    48:    Energy =   0.0064
Level     1,  Iter    49:    Energy =   0.0062
Level     1,  Iter    50:    Energy =   0.0064
Level     1,  Iter    51:    Energy =   0.0062
Level     1,  Iter    52:    Energy =   0.0064
Level     1,  Iter    53:    Energy =   0.0062
Level     1,  Iter    54:    Energy =   0.0065
Level     1,  Iter    55:    Energy =   0.0063
Level     1,  Iter    56:    Energy =   0.0065
Level     1,  Iter    57:    Energy =   0.0063
Level     1,  Iter    58:    Energy =   0.0065
Level     1,  Iter    59:    Energy =   0.0063
END OF LEVEL     1    DetJac Range:   0.0505  to   2.3913 
  Avg. Gradient Time  : 0.0291s  33.64% 
  Avg. Gaussian Time  : 0.0452s  52.26% 
  Avg. Iteration Time : 0.0865s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0000
Level     2,  Iter     1:    Energy =   0.0006
Level     2,  Iter     2:    Energy =   0.0011
Level     2,  Iter     3:    Energy =   0.0016
Level     2,  Iter     4:    Energy =   0.0019
Level     2,  Iter     5:    Energy =   0.0023
Level     2,  Iter     6:    Energy =   0.0026
Level     2,  Iter     7:    Energy =   0.0029
Level     2,  Iter     8:    Energy =   0.0033
Level     2,  Iter     9:    Energy =   0.0036
Level     2,  Iter    10:    Energy =   0.0038
Level     2,  Iter    11:    Energy =   0.0040
Level     2,  Iter    12:    Energy =   0.0041
Level     2,  Iter    13:    Energy =   0.0042
Level     2,  Iter    14:    Energy =   0.0043
Level     2,  Iter    15:    Energy =   0.0043
Level     2,  Iter    16:    Energy =   0.0044
Level     2,  Iter    17:    Energy =   0.0044
Level     2,  Iter    18:    Energy =   0.0044
Level     2,  Iter    19:    Energy =   0.0045
END OF LEVEL     2    DetJac Range:   0.0211  to   2.5055 
  Avg. Gradient Time  : 0.1945s  32.80% 
  Avg. Gaussian Time  : 0.3202s  53.98% 
  Avg. Iteration Time : 0.5931s 

real	0m21.043s
user	0m36.224s
sys	0m2.664s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train024/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train024/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train024/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train024/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train024/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=24 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=24 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.302857 0.307143
+ echo 'CHUNK 0.302857 0.307143 1'
CHUNK 0.302857 0.307143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.302857 0.307143 1
====================================
         PROGRESS: 0.302857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=025
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 025
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train025
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train025
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left 025 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train025 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=left
+ local tid=025
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train025
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 025 left 0
+ local tid=025
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 025 0
+ set -e
+ local tid=025
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.64
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 553.34   GNORM= 181.866
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       382.807     191.952       0.005
   2    4        -0.002       0.000       5.000
 THE MINIMIZATION TERMINATED WITHOUT DETECTING ERRORS.
Final RAS Transform: 
1.08151 -0.0664733 0.113973 -2.70061 
-0.141169 1.1942 -0.250436 6.95775 
-0.135322 0.0895379 0.632473 2.63815 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -163.811   GNORM= 77.3651
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -244.009      77.700       0.013
   2    5      -325.402      43.547       0.091
   3    6      -358.650      49.376       1.000
   4    7      -402.662      39.509       1.000
   5    8      -422.817      30.214       1.000
   6   11      -427.573      25.500       0.062
   7   13      -445.697      20.263       0.280
   8   18      -452.596      30.934       2.417
   9   19      -465.074      23.489       1.000
  10   20      -484.585      18.551       1.000
  11   22      -489.919      25.228       0.089
  12   25      -499.224      58.257       0.776
  13   28      -507.340      31.086       0.126
  14   29      -509.445      54.775       1.000
  15   30      -524.227      51.904       1.000
  16   31      -540.878      43.070       1.000
  17   32      -552.038      10.852       1.000
  18   34      -556.858      72.101       5.000
  19   38      -556.871      21.988       0.003
  20   39      -557.701       8.846       1.000
  21   40      -558.268       6.843       1.000
  22   45      -558.606      20.263       1.446
  23   46      -560.056      15.877       1.000
  24   47      -563.879      10.762       1.000
  25   49      -565.940      40.828       0.363
  26   53      -570.981      35.292       0.460
  27   55      -572.174      47.341       0.098
  28   56      -588.356      30.453       1.000
  29   58      -590.860      74.423       0.329
  30   59      -600.164      17.171       1.000
  31   60      -602.274      37.055       1.000
Final RAS Transform: 
1.34784 -0.282523 0.033932 6.62989 
-0.207327 0.854901 -0.51368 12.7706 
-0.203679 -0.0278081 0.359019 -4.13581 
0 0 0 1 

Final RAS Transform: 
1.34784 -0.282523 0.033932 6.62989 
-0.207327 0.854901 -0.51368 12.7706 
-0.203679 -0.0278081 0.359019 -4.13581 
0 0 0 1 


real	0m5.385s
user	0m9.052s
sys	0m0.476s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.483837
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0304
Level     0,  Iter     1:    Energy =   0.0320
Level     0,  Iter     2:    Energy =   0.0357
Level     0,  Iter     3:    Energy =   0.0390
Level     0,  Iter     4:    Energy =   0.0414
Level     0,  Iter     5:    Energy =   0.0434
Level     0,  Iter     6:    Energy =   0.0452
Level     0,  Iter     7:    Energy =   0.0467
Level     0,  Iter     8:    Energy =   0.0480
Level     0,  Iter     9:    Energy =   0.0491
Level     0,  Iter    10:    Energy =   0.0500
Level     0,  Iter    11:    Energy =   0.0509
Level     0,  Iter    12:    Energy =   0.0517
Level     0,  Iter    13:    Energy =   0.0525
Level     0,  Iter    14:    Energy =   0.0532
Level     0,  Iter    15:    Energy =   0.0541
Level     0,  Iter    16:    Energy =   0.0550
Level     0,  Iter    17:    Energy =   0.0557
Level     0,  Iter    18:    Energy =   0.0562
Level     0,  Iter    19:    Energy =   0.0567
Level     0,  Iter    20:    Energy =   0.0569
Level     0,  Iter    21:    Energy =   0.0572
Level     0,  Iter    22:    Energy =   0.0574
Level     0,  Iter    23:    Energy =   0.0576
Level     0,  Iter    24:    Energy =   0.0578
Level     0,  Iter    25:    Energy =   0.0580
Level     0,  Iter    26:    Energy =   0.0582
Level     0,  Iter    27:    Energy =   0.0584
Level     0,  Iter    28:    Energy =   0.0587
Level     0,  Iter    29:    Energy =   0.0590
Level     0,  Iter    30:    Energy =   0.0594
Level     0,  Iter    31:    Energy =   0.0595
Level     0,  Iter    32:    Energy =   0.0598
Level     0,  Iter    33:    Energy =   0.0598
Level     0,  Iter    34:    Energy =   0.0600
Level     0,  Iter    35:    Energy =   0.0599
Level     0,  Iter    36:    Energy =   0.0602
Level     0,  Iter    37:    Energy =   0.0602
Level     0,  Iter    38:    Energy =   0.0604
Level     0,  Iter    39:    Energy =   0.0604
Level     0,  Iter    40:    Energy =   0.0605
Level     0,  Iter    41:    Energy =   0.0605
Level     0,  Iter    42:    Energy =   0.0606
Level     0,  Iter    43:    Energy =   0.0606
Level     0,  Iter    44:    Energy =   0.0607
Level     0,  Iter    45:    Energy =   0.0606
Level     0,  Iter    46:    Energy =   0.0608
Level     0,  Iter    47:    Energy =   0.0607
Level     0,  Iter    48:    Energy =   0.0609
Level     0,  Iter    49:    Energy =   0.0608
Level     0,  Iter    50:    Energy =   0.0609
Level     0,  Iter    51:    Energy =   0.0609
Level     0,  Iter    52:    Energy =   0.0610
Level     0,  Iter    53:    Energy =   0.0610
Level     0,  Iter    54:    Energy =   0.0611
Level     0,  Iter    55:    Energy =   0.0611
Level     0,  Iter    56:    Energy =   0.0612
Level     0,  Iter    57:    Energy =   0.0612
Level     0,  Iter    58:    Energy =   0.0613
Level     0,  Iter    59:    Energy =   0.0613
END OF LEVEL     0    DetJac Range:   0.3203  to   2.4475 
  Avg. Gradient Time  : 0.0074s  33.12% 
  Avg. Gaussian Time  : 0.0108s  48.11% 
  Avg. Iteration Time : 0.0225s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0317
Level     1,  Iter     1:    Energy =   0.0331
Level     1,  Iter     2:    Energy =   0.0344
Level     1,  Iter     3:    Energy =   0.0354
Level     1,  Iter     4:    Energy =   0.0363
Level     1,  Iter     5:    Energy =   0.0370
Level     1,  Iter     6:    Energy =   0.0376
Level     1,  Iter     7:    Energy =   0.0381
Level     1,  Iter     8:    Energy =   0.0387
Level     1,  Iter     9:    Energy =   0.0393
Level     1,  Iter    10:    Energy =   0.0399
Level     1,  Iter    11:    Energy =   0.0404
Level     1,  Iter    12:    Energy =   0.0409
Level     1,  Iter    13:    Energy =   0.0413
Level     1,  Iter    14:    Energy =   0.0416
Level     1,  Iter    15:    Energy =   0.0420
Level     1,  Iter    16:    Energy =   0.0423
Level     1,  Iter    17:    Energy =   0.0426
Level     1,  Iter    18:    Energy =   0.0429
Level     1,  Iter    19:    Energy =   0.0432
Level     1,  Iter    20:    Energy =   0.0435
Level     1,  Iter    21:    Energy =   0.0437
Level     1,  Iter    22:    Energy =   0.0439
Level     1,  Iter    23:    Energy =   0.0440
Level     1,  Iter    24:    Energy =   0.0441
Level     1,  Iter    25:    Energy =   0.0442
Level     1,  Iter    26:    Energy =   0.0444
Level     1,  Iter    27:    Energy =   0.0446
Level     1,  Iter    28:    Energy =   0.0447
Level     1,  Iter    29:    Energy =   0.0448
Level     1,  Iter    30:    Energy =   0.0449
Level     1,  Iter    31:    Energy =   0.0450
Level     1,  Iter    32:    Energy =   0.0451
Level     1,  Iter    33:    Energy =   0.0452
Level     1,  Iter    34:    Energy =   0.0453
Level     1,  Iter    35:    Energy =   0.0455
Level     1,  Iter    36:    Energy =   0.0456
Level     1,  Iter    37:    Energy =   0.0456
Level     1,  Iter    38:    Energy =   0.0457
Level     1,  Iter    39:    Energy =   0.0456
Level     1,  Iter    40:    Energy =   0.0457
Level     1,  Iter    41:    Energy =   0.0458
Level     1,  Iter    42:    Energy =   0.0459
Level     1,  Iter    43:    Energy =   0.0459
Level     1,  Iter    44:    Energy =   0.0460
Level     1,  Iter    45:    Energy =   0.0460
Level     1,  Iter    46:    Energy =   0.0461
Level     1,  Iter    47:    Energy =   0.0461
Level     1,  Iter    48:    Energy =   0.0462
Level     1,  Iter    49:    Energy =   0.0463
Level     1,  Iter    50:    Energy =   0.0464
Level     1,  Iter    51:    Energy =   0.0463
Level     1,  Iter    52:    Energy =   0.0464
Level     1,  Iter    53:    Energy =   0.0463
Level     1,  Iter    54:    Energy =   0.0462
Level     1,  Iter    55:    Energy =   0.0461
Level     1,  Iter    56:    Energy =   0.0458
Level     1,  Iter    57:    Energy =   0.0458
Level     1,  Iter    58:    Energy =   0.0457
Level     1,  Iter    59:    Energy =   0.0456
END OF LEVEL     1    DetJac Range:   0.0629  to   3.4701 
  Avg. Gradient Time  : 0.0296s  33.69% 
  Avg. Gaussian Time  : 0.0458s  52.18% 
  Avg. Iteration Time : 0.0878s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0179
Level     2,  Iter     1:    Energy =   0.0184
Level     2,  Iter     2:    Energy =   0.0189
Level     2,  Iter     3:    Energy =   0.0193
Level     2,  Iter     4:    Energy =   0.0197
Level     2,  Iter     5:    Energy =   0.0201
Level     2,  Iter     6:    Energy =   0.0206
Level     2,  Iter     7:    Energy =   0.0210
Level     2,  Iter     8:    Energy =   0.0214
Level     2,  Iter     9:    Energy =   0.0218
Level     2,  Iter    10:    Energy =   0.0223
Level     2,  Iter    11:    Energy =   0.0225
Level     2,  Iter    12:    Energy =   0.0227
Level     2,  Iter    13:    Energy =   0.0229
Level     2,  Iter    14:    Energy =   0.0231
Level     2,  Iter    15:    Energy =   0.0233
Level     2,  Iter    16:    Energy =   0.0235
Level     2,  Iter    17:    Energy =   0.0237
Level     2,  Iter    18:    Energy =   0.0239
Level     2,  Iter    19:    Energy =   0.0241
END OF LEVEL     2    DetJac Range:   0.0486  to   3.3383 
  Avg. Gradient Time  : 0.1850s  32.14% 
  Avg. Gaussian Time  : 0.3137s  54.49% 
  Avg. Iteration Time : 0.5756s 

real	0m20.914s
user	0m35.816s
sys	0m2.752s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train025/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train025/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train025/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train025/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train025/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=25 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=25 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.307143 0.311429
+ echo 'CHUNK 0.307143 0.311429 1'
CHUNK 0.307143 0.311429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.307143 0.311429 1
====================================
         PROGRESS: 0.307143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=026
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 026
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train026
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train026
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left 026 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train026 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=left
+ local tid=026
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train026
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 026 left 0
+ local tid=026
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 026 0
+ set -e
+ local tid=026
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train026/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train026/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train026/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.503
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 410.36   GNORM= 123.015
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       301.309      98.386       0.008
   2    3        -6.440      88.907       1.000
   3    9      -130.469      20.340       1.026
   4   11      -200.347      42.874       5.000
   5   19      -526.922     148.176       0.613
   6   22      -528.457     207.989       0.012
   7   24      -654.527     226.390       0.494
   8   25      -799.450      84.031       1.000
   9   26      -825.443      79.833       1.000
  10   27      -843.141      47.563       1.000
  11   28      -899.657      30.488       1.000
  12   29      -972.313     203.993       1.000
  13   30     -1030.950     123.261       1.000
  14   31     -1304.422      35.069       1.000
  15   33     -1305.841      42.098       0.064
  16   35     -1321.191      59.860       5.000
  17   36     -1348.213      92.231       1.000
  18   37     -1387.663      59.095       1.000
  19   39     -1390.556      57.926       0.317
  20   43     -1395.255      41.622       0.087
  21   44     -1399.495     118.429       1.000
  22   45     -1424.927      66.992       1.000
  23   46     -1434.248     135.907       1.000
  24   47     -1445.675      66.770       1.000
  25   48     -1449.039      48.421       1.000
  26   50     -1450.672      62.046       0.174
  27   54     -1457.535      40.859       1.262
  28   55     -1462.934      37.845       1.000
  29   56     -1475.998      99.588       1.000
  30   58     -1485.600      58.177       0.517
  31   61     -1489.307      57.908       1.677
Final RAS Transform: 
1.19845 -0.131657 -0.106393 -3.05869 
-0.502509 0.936302 -0.397246 9.42324 
0.0279689 0.0945977 0.44185 1.26871 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -675.099   GNORM= 40.7557
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    5      -677.964      24.357       0.035
   2    7      -682.039      17.909       0.265
   3    9      -682.091      11.246       0.286
   4   14      -682.124       6.844       0.048
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.20254 -0.135959 -0.10652 -3.32351 
-0.507872 0.943828 -0.385802 9.12727 
0.0341724 0.0813032 0.437135 0.514245 
0 0 0 1 

Final RAS Transform: 
1.20254 -0.135959 -0.10652 -3.32351 
-0.507872 0.943828 -0.385802 9.12727 
0.0341724 0.0813032 0.437135 0.514245 
0 0 0 1 


real	0m4.659s
user	0m7.268s
sys	0m0.696s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train026/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train026/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.402459
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0382
Level     0,  Iter     1:    Energy =   0.0405
Level     0,  Iter     2:    Energy =   0.0438
Level     0,  Iter     3:    Energy =   0.0467
Level     0,  Iter     4:    Energy =   0.0487
Level     0,  Iter     5:    Energy =   0.0505
Level     0,  Iter     6:    Energy =   0.0520
Level     0,  Iter     7:    Energy =   0.0534
Level     0,  Iter     8:    Energy =   0.0545
Level     0,  Iter     9:    Energy =   0.0555
Level     0,  Iter    10:    Energy =   0.0566
Level     0,  Iter    11:    Energy =   0.0574
Level     0,  Iter    12:    Energy =   0.0582
Level     0,  Iter    13:    Energy =   0.0590
Level     0,  Iter    14:    Energy =   0.0596
Level     0,  Iter    15:    Energy =   0.0600
Level     0,  Iter    16:    Energy =   0.0606
Level     0,  Iter    17:    Energy =   0.0607
Level     0,  Iter    18:    Energy =   0.0614
Level     0,  Iter    19:    Energy =   0.0615
Level     0,  Iter    20:    Energy =   0.0621
Level     0,  Iter    21:    Energy =   0.0620
Level     0,  Iter    22:    Energy =   0.0627
Level     0,  Iter    23:    Energy =   0.0624
Level     0,  Iter    24:    Energy =   0.0631
Level     0,  Iter    25:    Energy =   0.0628
Level     0,  Iter    26:    Energy =   0.0633
Level     0,  Iter    27:    Energy =   0.0632
Level     0,  Iter    28:    Energy =   0.0636
Level     0,  Iter    29:    Energy =   0.0634
Level     0,  Iter    30:    Energy =   0.0638
Level     0,  Iter    31:    Energy =   0.0637
Level     0,  Iter    32:    Energy =   0.0640
Level     0,  Iter    33:    Energy =   0.0639
Level     0,  Iter    34:    Energy =   0.0641
Level     0,  Iter    35:    Energy =   0.0640
Level     0,  Iter    36:    Energy =   0.0641
Level     0,  Iter    37:    Energy =   0.0642
Level     0,  Iter    38:    Energy =   0.0644
Level     0,  Iter    39:    Energy =   0.0643
Level     0,  Iter    40:    Energy =   0.0645
Level     0,  Iter    41:    Energy =   0.0645
Level     0,  Iter    42:    Energy =   0.0647
Level     0,  Iter    43:    Energy =   0.0646
Level     0,  Iter    44:    Energy =   0.0648
Level     0,  Iter    45:    Energy =   0.0646
Level     0,  Iter    46:    Energy =   0.0649
Level     0,  Iter    47:    Energy =   0.0646
Level     0,  Iter    48:    Energy =   0.0649
Level     0,  Iter    49:    Energy =   0.0646
Level     0,  Iter    50:    Energy =   0.0650
Level     0,  Iter    51:    Energy =   0.0647
Level     0,  Iter    52:    Energy =   0.0651
Level     0,  Iter    53:    Energy =   0.0646
Level     0,  Iter    54:    Energy =   0.0651
Level     0,  Iter    55:    Energy =   0.0646
Level     0,  Iter    56:    Energy =   0.0652
Level     0,  Iter    57:    Energy =   0.0647
Level     0,  Iter    58:    Energy =   0.0653
Level     0,  Iter    59:    Energy =   0.0647
END OF LEVEL     0    DetJac Range:   0.1556  to   2.1860 
  Avg. Gradient Time  : 0.0078s  33.07% 
  Avg. Gaussian Time  : 0.0113s  48.14% 
  Avg. Iteration Time : 0.0235s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0341
Level     1,  Iter     1:    Energy =   0.0359
Level     1,  Iter     2:    Energy =   0.0374
Level     1,  Iter     3:    Energy =   0.0383
Level     1,  Iter     4:    Energy =   0.0389
Level     1,  Iter     5:    Energy =   0.0397
Level     1,  Iter     6:    Energy =   0.0400
Level     1,  Iter     7:    Energy =   0.0405
Level     1,  Iter     8:    Energy =   0.0411
Level     1,  Iter     9:    Energy =   0.0417
Level     1,  Iter    10:    Energy =   0.0422
Level     1,  Iter    11:    Energy =   0.0426
Level     1,  Iter    12:    Energy =   0.0429
Level     1,  Iter    13:    Energy =   0.0432
Level     1,  Iter    14:    Energy =   0.0434
Level     1,  Iter    15:    Energy =   0.0436
Level     1,  Iter    16:    Energy =   0.0438
Level     1,  Iter    17:    Energy =   0.0440
Level     1,  Iter    18:    Energy =   0.0441
Level     1,  Iter    19:    Energy =   0.0442
Level     1,  Iter    20:    Energy =   0.0444
Level     1,  Iter    21:    Energy =   0.0445
Level     1,  Iter    22:    Energy =   0.0446
Level     1,  Iter    23:    Energy =   0.0446
Level     1,  Iter    24:    Energy =   0.0447
Level     1,  Iter    25:    Energy =   0.0448
Level     1,  Iter    26:    Energy =   0.0448
Level     1,  Iter    27:    Energy =   0.0449
Level     1,  Iter    28:    Energy =   0.0450
Level     1,  Iter    29:    Energy =   0.0450
Level     1,  Iter    30:    Energy =   0.0450
Level     1,  Iter    31:    Energy =   0.0451
Level     1,  Iter    32:    Energy =   0.0451
Level     1,  Iter    33:    Energy =   0.0451
Level     1,  Iter    34:    Energy =   0.0451
Level     1,  Iter    35:    Energy =   0.0451
Level     1,  Iter    36:    Energy =   0.0451
Level     1,  Iter    37:    Energy =   0.0452
Level     1,  Iter    38:    Energy =   0.0452
Level     1,  Iter    39:    Energy =   0.0452
Level     1,  Iter    40:    Energy =   0.0452
Level     1,  Iter    41:    Energy =   0.0452
Level     1,  Iter    42:    Energy =   0.0452
Level     1,  Iter    43:    Energy =   0.0452
Level     1,  Iter    44:    Energy =   0.0452
Level     1,  Iter    45:    Energy =   0.0452
Level     1,  Iter    46:    Energy =   0.0452
Level     1,  Iter    47:    Energy =   0.0452
Level     1,  Iter    48:    Energy =   0.0452
Level     1,  Iter    49:    Energy =   0.0452
Level     1,  Iter    50:    Energy =   0.0452
Level     1,  Iter    51:    Energy =   0.0452
Level     1,  Iter    52:    Energy =   0.0452
Level     1,  Iter    53:    Energy =   0.0452
Level     1,  Iter    54:    Energy =   0.0452
Level     1,  Iter    55:    Energy =   0.0452
Level     1,  Iter    56:    Energy =   0.0452
Level     1,  Iter    57:    Energy =   0.0452
Level     1,  Iter    58:    Energy =   0.0452
Level     1,  Iter    59:    Energy =   0.0452
END OF LEVEL     1    DetJac Range:   0.0785  to   3.1932 
  Avg. Gradient Time  : 0.0315s  34.33% 
  Avg. Gaussian Time  : 0.0474s  51.75% 
  Avg. Iteration Time : 0.0917s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0176
Level     2,  Iter     1:    Energy =   0.0184
Level     2,  Iter     2:    Energy =   0.0191
Level     2,  Iter     3:    Energy =   0.0197
Level     2,  Iter     4:    Energy =   0.0202
Level     2,  Iter     5:    Energy =   0.0207
Level     2,  Iter     6:    Energy =   0.0212
Level     2,  Iter     7:    Energy =   0.0217
Level     2,  Iter     8:    Energy =   0.0217
Level     2,  Iter     9:    Energy =   0.0220
Level     2,  Iter    10:    Energy =   0.0225
Level     2,  Iter    11:    Energy =   0.0229
Level     2,  Iter    12:    Energy =   0.0232
Level     2,  Iter    13:    Energy =   0.0234
Level     2,  Iter    14:    Energy =   0.0236
Level     2,  Iter    15:    Energy =   0.0238
Level     2,  Iter    16:    Energy =   0.0240
Level     2,  Iter    17:    Energy =   0.0242
Level     2,  Iter    18:    Energy =   0.0243
Level     2,  Iter    19:    Energy =   0.0243
END OF LEVEL     2    DetJac Range:   0.0286  to   3.5571 
  Avg. Gradient Time  : 0.1901s  32.40% 
  Avg. Gaussian Time  : 0.3183s  54.26% 
  Avg. Iteration Time : 0.5865s 

real	0m21.476s
user	0m36.560s
sys	0m2.968s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train026/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train026/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train026/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train026/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train026/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train026/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train026/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=26 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=26 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.311429 0.315714
+ echo 'CHUNK 0.311429 0.315714 1'
CHUNK 0.311429 0.315714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.311429 0.315714 1
====================================
         PROGRESS: 0.311429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=027
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 027
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train027
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train027
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left 027 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train027 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=left
+ local tid=027
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train027
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 027 left 0
+ local tid=027
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 027 0
+ set -e
+ local tid=027
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train027/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train027/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train027/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.528
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 535.779   GNORM= 124.068
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       401.141     119.760       0.008
   2    3      -308.159     240.106       1.000
   3    4      -406.977     258.166       1.000
   4    7      -597.384     165.833       0.100
   5    8      -775.287     129.949       1.000
   6   10      -922.233     110.323       0.374
   7   12      -994.191      74.298       0.475
   8   14     -1020.004     152.788       0.292
   9   15     -1090.270     219.243       1.000
  10   16     -1191.246      86.083       1.000
  11   17     -1218.287      59.889       1.000
  12   19     -1238.708      40.260       0.502
  13   22     -1249.947      92.658       2.223
  14   23     -1265.926      61.984       1.000
  15   24     -1273.466      31.016       1.000
  16   25     -1284.160      88.940       1.000
  17   26     -1295.148      52.434       1.000
  18   27     -1338.665     110.443       1.000
  19   29     -1364.071      72.249       0.422
  20   31     -1369.381      37.228       0.106
  21   32     -1377.092      48.658       1.000
  22   34     -1380.875      32.575       0.269
  23   35     -1383.153      16.687       1.000
  24   36     -1386.533      25.832       1.000
  25   37     -1389.570      40.740       1.000
  26   38     -1392.579      47.884       1.000
  27   39     -1404.264      48.721       1.000
  28   41     -1420.173     127.506       0.369
  29   42     -1436.960      72.148       1.000
  30   44     -1453.124     100.012       0.095
  31   46     -1459.330      88.814       0.356
  32   47     -1465.429      76.427       1.000
  33   48     -1467.975      19.835       1.000
  34   49     -1470.789      22.788       1.000
  35   52     -1489.319      52.537       1.201
  36   54     -1490.116      26.888       0.024
  37   55     -1493.667      41.576       1.000
  38   57     -1495.633      21.731       0.152
  39   58     -1498.681      20.648       1.000
  40   61     -1506.138      31.577       2.117
Final RAS Transform: 
1.34593 -0.202998 0.175344 8.8185 
-0.474052 0.914824 -0.334061 11.8399 
-0.0952754 -0.0827606 0.271009 -2.82496 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -722.527   GNORM= 89.5104
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -728.337      31.691       0.001
   2    5      -737.970      40.210       5.000
   3    9      -740.703      30.231       0.276
   4   10      -741.661      25.990       1.000
   5   11      -743.634      14.865       1.000
   6   15      -744.009      26.782       1.197
   7   17      -744.931      33.170       0.261
   8   19      -745.407      28.108       0.077
   9   22      -746.799      21.384       0.542
  10   23      -754.530      23.507       1.000
  11   24      -763.674      34.004       1.000
  12   26      -773.575      49.980       0.496
  13   29      -776.555      35.394       0.643
  14   30      -779.690      17.786       1.000
  15   33      -779.726      19.754       0.004
  16   34      -780.936      22.524       1.000
  17   36      -781.424      31.225       0.307
  18   38      -782.455      49.988       0.277
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.3692 -0.205603 0.149966 9.03031 
-0.447889 0.965595 -0.301853 11.5242 
-0.0652351 -0.0728486 0.214621 -3.84998 
0 0 0 1 

Final RAS Transform: 
1.3692 -0.205603 0.149966 9.03031 
-0.447889 0.965595 -0.301853 11.5242 
-0.0652351 -0.0728486 0.214621 -3.84998 
0 0 0 1 


real	0m6.163s
user	0m10.080s
sys	0m0.848s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train027/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train027/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.3536
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0409
Level     0,  Iter     1:    Energy =   0.0430
Level     0,  Iter     2:    Energy =   0.0463
Level     0,  Iter     3:    Energy =   0.0487
Level     0,  Iter     4:    Energy =   0.0505
Level     0,  Iter     5:    Energy =   0.0522
Level     0,  Iter     6:    Energy =   0.0537
Level     0,  Iter     7:    Energy =   0.0548
Level     0,  Iter     8:    Energy =   0.0558
Level     0,  Iter     9:    Energy =   0.0567
Level     0,  Iter    10:    Energy =   0.0576
Level     0,  Iter    11:    Energy =   0.0583
Level     0,  Iter    12:    Energy =   0.0591
Level     0,  Iter    13:    Energy =   0.0597
Level     0,  Iter    14:    Energy =   0.0606
Level     0,  Iter    15:    Energy =   0.0609
Level     0,  Iter    16:    Energy =   0.0617
Level     0,  Iter    17:    Energy =   0.0618
Level     0,  Iter    18:    Energy =   0.0625
Level     0,  Iter    19:    Energy =   0.0622
Level     0,  Iter    20:    Energy =   0.0629
Level     0,  Iter    21:    Energy =   0.0625
Level     0,  Iter    22:    Energy =   0.0632
Level     0,  Iter    23:    Energy =   0.0627
Level     0,  Iter    24:    Energy =   0.0634
Level     0,  Iter    25:    Energy =   0.0631
Level     0,  Iter    26:    Energy =   0.0637
Level     0,  Iter    27:    Energy =   0.0632
Level     0,  Iter    28:    Energy =   0.0638
Level     0,  Iter    29:    Energy =   0.0634
Level     0,  Iter    30:    Energy =   0.0640
Level     0,  Iter    31:    Energy =   0.0634
Level     0,  Iter    32:    Energy =   0.0640
Level     0,  Iter    33:    Energy =   0.0636
Level     0,  Iter    34:    Energy =   0.0642
Level     0,  Iter    35:    Energy =   0.0638
Level     0,  Iter    36:    Energy =   0.0644
Level     0,  Iter    37:    Energy =   0.0640
Level     0,  Iter    38:    Energy =   0.0646
Level     0,  Iter    39:    Energy =   0.0643
Level     0,  Iter    40:    Energy =   0.0650
Level     0,  Iter    41:    Energy =   0.0646
Level     0,  Iter    42:    Energy =   0.0653
Level     0,  Iter    43:    Energy =   0.0649
Level     0,  Iter    44:    Energy =   0.0656
Level     0,  Iter    45:    Energy =   0.0650
Level     0,  Iter    46:    Energy =   0.0657
Level     0,  Iter    47:    Energy =   0.0651
Level     0,  Iter    48:    Energy =   0.0658
Level     0,  Iter    49:    Energy =   0.0652
Level     0,  Iter    50:    Energy =   0.0658
Level     0,  Iter    51:    Energy =   0.0653
Level     0,  Iter    52:    Energy =   0.0659
Level     0,  Iter    53:    Energy =   0.0654
Level     0,  Iter    54:    Energy =   0.0659
Level     0,  Iter    55:    Energy =   0.0655
Level     0,  Iter    56:    Energy =   0.0660
Level     0,  Iter    57:    Energy =   0.0655
Level     0,  Iter    58:    Energy =   0.0661
Level     0,  Iter    59:    Energy =   0.0656
END OF LEVEL     0    DetJac Range:   0.1556  to   2.9863 
  Avg. Gradient Time  : 0.0081s  33.42% 
  Avg. Gaussian Time  : 0.0116s  47.71% 
  Avg. Iteration Time : 0.0243s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0344
Level     1,  Iter     1:    Energy =   0.0361
Level     1,  Iter     2:    Energy =   0.0369
Level     1,  Iter     3:    Energy =   0.0375
Level     1,  Iter     4:    Energy =   0.0380
Level     1,  Iter     5:    Energy =   0.0388
Level     1,  Iter     6:    Energy =   0.0395
Level     1,  Iter     7:    Energy =   0.0400
Level     1,  Iter     8:    Energy =   0.0404
Level     1,  Iter     9:    Energy =   0.0408
Level     1,  Iter    10:    Energy =   0.0412
Level     1,  Iter    11:    Energy =   0.0414
Level     1,  Iter    12:    Energy =   0.0417
Level     1,  Iter    13:    Energy =   0.0420
Level     1,  Iter    14:    Energy =   0.0422
Level     1,  Iter    15:    Energy =   0.0424
Level     1,  Iter    16:    Energy =   0.0426
Level     1,  Iter    17:    Energy =   0.0427
Level     1,  Iter    18:    Energy =   0.0428
Level     1,  Iter    19:    Energy =   0.0430
Level     1,  Iter    20:    Energy =   0.0431
Level     1,  Iter    21:    Energy =   0.0432
Level     1,  Iter    22:    Energy =   0.0432
Level     1,  Iter    23:    Energy =   0.0433
Level     1,  Iter    24:    Energy =   0.0434
Level     1,  Iter    25:    Energy =   0.0434
Level     1,  Iter    26:    Energy =   0.0434
Level     1,  Iter    27:    Energy =   0.0435
Level     1,  Iter    28:    Energy =   0.0435
Level     1,  Iter    29:    Energy =   0.0434
Level     1,  Iter    30:    Energy =   0.0434
Level     1,  Iter    31:    Energy =   0.0434
Level     1,  Iter    32:    Energy =   0.0434
Level     1,  Iter    33:    Energy =   0.0434
Level     1,  Iter    34:    Energy =   0.0433
Level     1,  Iter    35:    Energy =   0.0433
Level     1,  Iter    36:    Energy =   0.0433
Level     1,  Iter    37:    Energy =   0.0433
Level     1,  Iter    38:    Energy =   0.0433
Level     1,  Iter    39:    Energy =   0.0433
Level     1,  Iter    40:    Energy =   0.0433
Level     1,  Iter    41:    Energy =   0.0433
Level     1,  Iter    42:    Energy =   0.0433
Level     1,  Iter    43:    Energy =   0.0434
Level     1,  Iter    44:    Energy =   0.0434
Level     1,  Iter    45:    Energy =   0.0434
Level     1,  Iter    46:    Energy =   0.0435
Level     1,  Iter    47:    Energy =   0.0435
Level     1,  Iter    48:    Energy =   0.0435
Level     1,  Iter    49:    Energy =   0.0435
Level     1,  Iter    50:    Energy =   0.0435
Level     1,  Iter    51:    Energy =   0.0435
Level     1,  Iter    52:    Energy =   0.0436
Level     1,  Iter    53:    Energy =   0.0436
Level     1,  Iter    54:    Energy =   0.0436
Level     1,  Iter    55:    Energy =   0.0436
Level     1,  Iter    56:    Energy =   0.0436
Level     1,  Iter    57:    Energy =   0.0436
Level     1,  Iter    58:    Energy =   0.0436
Level     1,  Iter    59:    Energy =   0.0436
END OF LEVEL     1    DetJac Range:   0.0537  to   4.9437 
  Avg. Gradient Time  : 0.0327s  34.48% 
  Avg. Gaussian Time  : 0.0492s  51.79% 
  Avg. Iteration Time : 0.0950s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0160
Level     2,  Iter     1:    Energy =   0.0166
Level     2,  Iter     2:    Energy =   0.0172
Level     2,  Iter     3:    Energy =   0.0176
Level     2,  Iter     4:    Energy =   0.0183
Level     2,  Iter     5:    Energy =   0.0187
Level     2,  Iter     6:    Energy =   0.0192
Level     2,  Iter     7:    Energy =   0.0194
Level     2,  Iter     8:    Energy =   0.0199
Level     2,  Iter     9:    Energy =   0.0202
Level     2,  Iter    10:    Energy =   0.0205
Level     2,  Iter    11:    Energy =   0.0208
Level     2,  Iter    12:    Energy =   0.0210
Level     2,  Iter    13:    Energy =   0.0212
Level     2,  Iter    14:    Energy =   0.0214
Level     2,  Iter    15:    Energy =   0.0217
Level     2,  Iter    16:    Energy =   0.0219
Level     2,  Iter    17:    Energy =   0.0219
Level     2,  Iter    18:    Energy =   0.0219
Level     2,  Iter    19:    Energy =   0.0220
END OF LEVEL     2    DetJac Range:   0.0440  to   5.2157 
  Avg. Gradient Time  : 0.1930s  33.05% 
  Avg. Gaussian Time  : 0.3142s  53.80% 
  Avg. Iteration Time : 0.5840s 

real	0m21.635s
user	0m36.912s
sys	0m2.904s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train027/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train027/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train027/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train027/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train027/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train027/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train027/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=27 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=27 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.315714 0.32
+ echo 'CHUNK 0.315714 0.32 1'
CHUNK 0.315714 0.32 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.315714 0.32 1
====================================
         PROGRESS: 0.315714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=028
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 028
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train028
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train028
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left 028 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train028 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=left
+ local tid=028
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train028
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 028 left 0
+ local tid=028
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 028 0
+ set -e
+ local tid=028
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train028/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train028/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ awk '{print ($1 == 0.0)}'
++ echo 0
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train028/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.576
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 686.985   GNORM= 100.472
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    5        -0.002       0.000       0.846
 THE MINIMIZATION TERMINATED WITHOUT DETECTING ERRORS.
Final RAS Transform: 
0.802585 0.0579705 -0.181622 5.58396 
-0.162096 1.23799 -0.326385 9.35088 
-0.0214737 -0.307515 0.787198 -3.43155 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -72.5786   GNORM= 119.91
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -139.336     111.834       0.042
   2   11      -142.152      98.976       0.005
   3   14      -169.678      49.823       2.333
   4   24      -190.822      44.545       1.000
   5   28      -191.757      82.598       0.003
   6   34      -191.917     402.327       0.218
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.81409 0.0475861 -0.155854 3.25547 
-0.202587 1.27237 -0.366796 13.1091 
-0.0129488 -0.315777 0.794305 -4.08059 
0 0 0 1 

Final RAS Transform: 
0.81409 0.0475861 -0.155854 3.25547 
-0.202587 1.27237 -0.366796 13.1091 
-0.0129488 -0.315777 0.794305 -4.08059 
0 0 0 1 


real	0m5.207s
user	0m8.496s
sys	0m0.568s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train028/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train028/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.403233
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0092
Level     0,  Iter     1:    Energy =   0.0108
Level     0,  Iter     2:    Energy =   0.0125
Level     0,  Iter     3:    Energy =   0.0144
Level     0,  Iter     4:    Energy =   0.0157
Level     0,  Iter     5:    Energy =   0.0168
Level     0,  Iter     6:    Energy =   0.0179
Level     0,  Iter     7:    Energy =   0.0185
Level     0,  Iter     8:    Energy =   0.0191
Level     0,  Iter     9:    Energy =   0.0197
Level     0,  Iter    10:    Energy =   0.0204
Level     0,  Iter    11:    Energy =   0.0209
Level     0,  Iter    12:    Energy =   0.0213
Level     0,  Iter    13:    Energy =   0.0217
Level     0,  Iter    14:    Energy =   0.0220
Level     0,  Iter    15:    Energy =   0.0222
Level     0,  Iter    16:    Energy =   0.0224
Level     0,  Iter    17:    Energy =   0.0226
Level     0,  Iter    18:    Energy =   0.0225
Level     0,  Iter    19:    Energy =   0.0226
Level     0,  Iter    20:    Energy =   0.0228
Level     0,  Iter    21:    Energy =   0.0230
Level     0,  Iter    22:    Energy =   0.0231
Level     0,  Iter    23:    Energy =   0.0233
Level     0,  Iter    24:    Energy =   0.0234
Level     0,  Iter    25:    Energy =   0.0236
Level     0,  Iter    26:    Energy =   0.0237
Level     0,  Iter    27:    Energy =   0.0237
Level     0,  Iter    28:    Energy =   0.0238
Level     0,  Iter    29:    Energy =   0.0239
Level     0,  Iter    30:    Energy =   0.0239
Level     0,  Iter    31:    Energy =   0.0240
Level     0,  Iter    32:    Energy =   0.0241
Level     0,  Iter    33:    Energy =   0.0241
Level     0,  Iter    34:    Energy =   0.0242
Level     0,  Iter    35:    Energy =   0.0242
Level     0,  Iter    36:    Energy =   0.0243
Level     0,  Iter    37:    Energy =   0.0244
Level     0,  Iter    38:    Energy =   0.0245
Level     0,  Iter    39:    Energy =   0.0245
Level     0,  Iter    40:    Energy =   0.0247
Level     0,  Iter    41:    Energy =   0.0249
Level     0,  Iter    42:    Energy =   0.0250
Level     0,  Iter    43:    Energy =   0.0252
Level     0,  Iter    44:    Energy =   0.0254
Level     0,  Iter    45:    Energy =   0.0255
Level     0,  Iter    46:    Energy =   0.0257
Level     0,  Iter    47:    Energy =   0.0258
Level     0,  Iter    48:    Energy =   0.0260
Level     0,  Iter    49:    Energy =   0.0262
Level     0,  Iter    50:    Energy =   0.0263
Level     0,  Iter    51:    Energy =   0.0264
Level     0,  Iter    52:    Energy =   0.0265
Level     0,  Iter    53:    Energy =   0.0267
Level     0,  Iter    54:    Energy =   0.0267
Level     0,  Iter    55:    Energy =   0.0269
Level     0,  Iter    56:    Energy =   0.0271
Level     0,  Iter    57:    Energy =   0.0272
Level     0,  Iter    58:    Energy =   0.0273
Level     0,  Iter    59:    Energy =   0.0274
END OF LEVEL     0    DetJac Range:   0.0201  to   2.4611 
  Avg. Gradient Time  : 0.0078s  33.02% 
  Avg. Gaussian Time  : 0.0113s  48.16% 
  Avg. Iteration Time : 0.0235s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0142
Level     1,  Iter     1:    Energy =   0.0150
Level     1,  Iter     2:    Energy =   0.0157
Level     1,  Iter     3:    Energy =   0.0163
Level     1,  Iter     4:    Energy =   0.0169
Level     1,  Iter     5:    Energy =   0.0174
Level     1,  Iter     6:    Energy =   0.0179
Level     1,  Iter     7:    Energy =   0.0182
Level     1,  Iter     8:    Energy =   0.0185
Level     1,  Iter     9:    Energy =   0.0188
Level     1,  Iter    10:    Energy =   0.0192
Level     1,  Iter    11:    Energy =   0.0197
Level     1,  Iter    12:    Energy =   0.0203
Level     1,  Iter    13:    Energy =   0.0209
Level     1,  Iter    14:    Energy =   0.0214
Level     1,  Iter    15:    Energy =   0.0218
Level     1,  Iter    16:    Energy =   0.0222
Level     1,  Iter    17:    Energy =   0.0226
Level     1,  Iter    18:    Energy =   0.0229
Level     1,  Iter    19:    Energy =   0.0233
Level     1,  Iter    20:    Energy =   0.0235
Level     1,  Iter    21:    Energy =   0.0237
Level     1,  Iter    22:    Energy =   0.0240
Level     1,  Iter    23:    Energy =   0.0241
Level     1,  Iter    24:    Energy =   0.0243
Level     1,  Iter    25:    Energy =   0.0245
Level     1,  Iter    26:    Energy =   0.0247
Level     1,  Iter    27:    Energy =   0.0248
Level     1,  Iter    28:    Energy =   0.0250
Level     1,  Iter    29:    Energy =   0.0251
Level     1,  Iter    30:    Energy =   0.0253
Level     1,  Iter    31:    Energy =   0.0253
Level     1,  Iter    32:    Energy =   0.0254
Level     1,  Iter    33:    Energy =   0.0255
Level     1,  Iter    34:    Energy =   0.0255
Level     1,  Iter    35:    Energy =   0.0256
Level     1,  Iter    36:    Energy =   0.0256
Level     1,  Iter    37:    Energy =   0.0256
Level     1,  Iter    38:    Energy =   0.0256
Level     1,  Iter    39:    Energy =   0.0257
Level     1,  Iter    40:    Energy =   0.0257
Level     1,  Iter    41:    Energy =   0.0257
Level     1,  Iter    42:    Energy =   0.0258
Level     1,  Iter    43:    Energy =   0.0258
Level     1,  Iter    44:    Energy =   0.0258
Level     1,  Iter    45:    Energy =   0.0259
Level     1,  Iter    46:    Energy =   0.0259
Level     1,  Iter    47:    Energy =   0.0259
Level     1,  Iter    48:    Energy =   0.0260
Level     1,  Iter    49:    Energy =   0.0260
Level     1,  Iter    50:    Energy =   0.0260
Level     1,  Iter    51:    Energy =   0.0261
Level     1,  Iter    52:    Energy =   0.0261
Level     1,  Iter    53:    Energy =   0.0262
Level     1,  Iter    54:    Energy =   0.0262
Level     1,  Iter    55:    Energy =   0.0262
Level     1,  Iter    56:    Energy =   0.0262
Level     1,  Iter    57:    Energy =   0.0262
Level     1,  Iter    58:    Energy =   0.0262
Level     1,  Iter    59:    Energy =   0.0263
END OF LEVEL     1    DetJac Range:   0.0398  to   3.0734 
  Avg. Gradient Time  : 0.0301s  34.04% 
  Avg. Gaussian Time  : 0.0460s  51.92% 
  Avg. Iteration Time : 0.0885s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0128
Level     2,  Iter     1:    Energy =   0.0134
Level     2,  Iter     2:    Energy =   0.0139
Level     2,  Iter     3:    Energy =   0.0145
Level     2,  Iter     4:    Energy =   0.0151
Level     2,  Iter     5:    Energy =   0.0156
Level     2,  Iter     6:    Energy =   0.0159
Level     2,  Iter     7:    Energy =   0.0161
Level     2,  Iter     8:    Energy =   0.0164
Level     2,  Iter     9:    Energy =   0.0166
Level     2,  Iter    10:    Energy =   0.0168
Level     2,  Iter    11:    Energy =   0.0170
Level     2,  Iter    12:    Energy =   0.0172
Level     2,  Iter    13:    Energy =   0.0174
Level     2,  Iter    14:    Energy =   0.0175
Level     2,  Iter    15:    Energy =   0.0176
Level     2,  Iter    16:    Energy =   0.0178
Level     2,  Iter    17:    Energy =   0.0179
Level     2,  Iter    18:    Energy =   0.0180
Level     2,  Iter    19:    Energy =   0.0181
END OF LEVEL     2    DetJac Range:   0.0214  to   3.4782 
  Avg. Gradient Time  : 0.1928s  32.69% 
  Avg. Gaussian Time  : 0.3188s  54.04% 
  Avg. Iteration Time : 0.5900s 

real	0m21.322s
user	0m36.572s
sys	0m2.708s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train028/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train028/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train028/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train028/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train028/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train028/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train028/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=28 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=28 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.32 0.324286
+ echo 'CHUNK 0.32 0.324286 1'
CHUNK 0.32 0.324286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.32 0.324286 1
====================================
         PROGRESS: 0.32               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=029
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 029
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train029
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train029
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left 029 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train029 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=left
+ local tid=029
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train029
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 029 left 0
+ local tid=029
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 029 0
+ set -e
+ local tid=029
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train029/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train029/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train029/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.566
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 552.045   GNORM= 100.215
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3       159.784     104.978       0.050
   2    4      -296.246      53.585       1.000
   3    6      -413.086      75.971       0.365
   4    8      -536.868      89.576       0.071
   5    9      -612.340     133.193       1.000
   6   10      -732.851     138.510       1.000
   7   12     -1031.912      58.706       0.500
   8   13     -1062.291     153.884       1.000
   9   15     -1067.552      56.266       0.071
  10   16     -1068.296      39.103       1.000
  11   17     -1083.877      37.786       1.000
  12   19     -1122.669      58.620       0.237
  13   20     -1129.001     135.368       1.000
  14   21     -1163.593      91.990       1.000
  15   23     -1188.179      61.910       0.100
  16   24     -1232.536      32.537       1.000
  17   25     -1256.613      89.779       1.000
  18   28     -1259.301      98.097       0.027
  19   29     -1270.791      49.534       1.000
  20   30     -1309.895      78.721       1.000
  21   31     -1320.761     102.599       1.000
  22   32     -1370.594      78.956       1.000
  23   34     -1396.572      63.555       0.230
  24   35     -1399.889      68.569       1.000
  25   36     -1415.830      84.939       1.000
  26   37     -1421.599      24.871       1.000
  27   38     -1425.851      27.566       1.000
  28   40     -1428.364      25.681       0.229
  29   43     -1429.233      16.533       0.090
  30   46     -1429.315       9.207       0.049
  31   47     -1429.785      11.528       1.000
  32   48     -1430.664      14.330       1.000
  33   51     -1431.708      16.031       0.720
  34   52     -1432.276      12.055       1.000
  35   53     -1436.869      58.499       1.000
  36   54     -1440.117      46.919       1.000
  37   55     -1445.689      28.785       1.000
  38   56     -1450.296      27.774       1.000
  39   57     -1451.692      18.882       1.000
  40   58     -1452.378      11.012       1.000
  41   59     -1454.384      17.772       1.000
  42   61     -1455.479      50.261       0.344
Final RAS Transform: 
1.37497 -0.376588 0.0689295 10.2075 
-0.492344 1.35469 0.0481316 7.76159 
-0.079654 0.0637214 0.438499 -1.07255 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -687.266   GNORM= 37.332
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -687.323      44.498       0.027
   2    3      -702.164      38.552       1.000
   3    6      -705.525      25.481       0.042
   4    7      -705.552      26.366       1.000
   5    8      -708.376      26.588       1.000
   6   10      -708.427      17.395       0.152
   7   11      -709.413      14.514       1.000
   8   13      -710.763      14.188       0.243
   9   14      -711.696      18.690       1.000
  10   15      -715.807      21.996       1.000
  11   16      -731.875      28.107       1.000
  12   18      -746.985      35.430       0.183
  13   19      -750.287      20.974       1.000
  14   20      -752.205      17.374       1.000
  15   21      -753.926      35.205       1.000
  16   22      -755.717      24.617       1.000
  17   23      -756.311      10.266       1.000
  18   24      -756.486       4.328       1.000
  19   25      -756.569       6.270       1.000
  20   26      -756.923       8.823       1.000
  21   27      -758.033       9.973       1.000
  22   31      -758.945      28.168       0.484
  23   32      -760.926      18.797       1.000
  24   33      -762.180      19.289       1.000
  25   34      -765.414      11.866       1.000
  26   35      -765.933      13.144       1.000
  27   37      -766.123      15.773       0.107
  28   39      -766.358      10.678       0.289
  29   41      -766.483      15.610       0.272
  30   42      -766.902       7.636       1.000
  31   43      -767.140       5.502       1.000
  32   44      -767.194       6.221       1.000
  33   45      -767.212       4.742       1.000
  34   49      -767.222       5.246       0.181
  35   53      -767.287       3.760       0.281
  36   54      -767.396       4.467       1.000
  37   57      -767.468      13.138       1.831
  38   58      -767.696       8.174       1.000
  39   59      -767.814       5.552       1.000
  40   61      -767.995       6.810       0.146
Final RAS Transform: 
1.42528 -0.352528 0.0551453 11.7011 
-0.535294 1.2599 0.0441284 8.5524 
-0.185294 0.178925 0.408993 -6.89172 
0 0 0 1 

Final RAS Transform: 
1.42528 -0.352528 0.0551453 11.7011 
-0.535294 1.2599 0.0441284 8.5524 
-0.185294 0.178925 0.408993 -6.89172 
0 0 0 1 


real	0m6.652s
user	0m10.888s
sys	0m0.956s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train029/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train029/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.39714
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0376
Level     0,  Iter     1:    Energy =   0.0400
Level     0,  Iter     2:    Energy =   0.0440
Level     0,  Iter     3:    Energy =   0.0470
Level     0,  Iter     4:    Energy =   0.0494
Level     0,  Iter     5:    Energy =   0.0516
Level     0,  Iter     6:    Energy =   0.0531
Level     0,  Iter     7:    Energy =   0.0544
Level     0,  Iter     8:    Energy =   0.0557
Level     0,  Iter     9:    Energy =   0.0567
Level     0,  Iter    10:    Energy =   0.0579
Level     0,  Iter    11:    Energy =   0.0587
Level     0,  Iter    12:    Energy =   0.0592
Level     0,  Iter    13:    Energy =   0.0589
Level     0,  Iter    14:    Energy =   0.0595
Level     0,  Iter    15:    Energy =   0.0591
Level     0,  Iter    16:    Energy =   0.0598
Level     0,  Iter    17:    Energy =   0.0593
Level     0,  Iter    18:    Energy =   0.0600
Level     0,  Iter    19:    Energy =   0.0595
Level     0,  Iter    20:    Energy =   0.0601
Level     0,  Iter    21:    Energy =   0.0597
Level     0,  Iter    22:    Energy =   0.0604
Level     0,  Iter    23:    Energy =   0.0600
Level     0,  Iter    24:    Energy =   0.0607
Level     0,  Iter    25:    Energy =   0.0602
Level     0,  Iter    26:    Energy =   0.0609
Level     0,  Iter    27:    Energy =   0.0604
Level     0,  Iter    28:    Energy =   0.0611
Level     0,  Iter    29:    Energy =   0.0607
Level     0,  Iter    30:    Energy =   0.0613
Level     0,  Iter    31:    Energy =   0.0608
Level     0,  Iter    32:    Energy =   0.0614
Level     0,  Iter    33:    Energy =   0.0609
Level     0,  Iter    34:    Energy =   0.0615
Level     0,  Iter    35:    Energy =   0.0610
Level     0,  Iter    36:    Energy =   0.0616
Level     0,  Iter    37:    Energy =   0.0612
Level     0,  Iter    38:    Energy =   0.0617
Level     0,  Iter    39:    Energy =   0.0612
Level     0,  Iter    40:    Energy =   0.0617
Level     0,  Iter    41:    Energy =   0.0613
Level     0,  Iter    42:    Energy =   0.0619
Level     0,  Iter    43:    Energy =   0.0614
Level     0,  Iter    44:    Energy =   0.0620
Level     0,  Iter    45:    Energy =   0.0614
Level     0,  Iter    46:    Energy =   0.0620
Level     0,  Iter    47:    Energy =   0.0614
Level     0,  Iter    48:    Energy =   0.0620
Level     0,  Iter    49:    Energy =   0.0615
Level     0,  Iter    50:    Energy =   0.0621
Level     0,  Iter    51:    Energy =   0.0615
Level     0,  Iter    52:    Energy =   0.0622
Level     0,  Iter    53:    Energy =   0.0616
Level     0,  Iter    54:    Energy =   0.0622
Level     0,  Iter    55:    Energy =   0.0616
Level     0,  Iter    56:    Energy =   0.0623
Level     0,  Iter    57:    Energy =   0.0617
Level     0,  Iter    58:    Energy =   0.0624
Level     0,  Iter    59:    Energy =   0.0618
END OF LEVEL     0    DetJac Range:   0.2206  to   2.4622 
  Avg. Gradient Time  : 0.0078s  33.20% 
  Avg. Gaussian Time  : 0.0113s  47.93% 
  Avg. Iteration Time : 0.0235s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0325
Level     1,  Iter     1:    Energy =   0.0342
Level     1,  Iter     2:    Energy =   0.0353
Level     1,  Iter     3:    Energy =   0.0364
Level     1,  Iter     4:    Energy =   0.0373
Level     1,  Iter     5:    Energy =   0.0380
Level     1,  Iter     6:    Energy =   0.0386
Level     1,  Iter     7:    Energy =   0.0389
Level     1,  Iter     8:    Energy =   0.0395
Level     1,  Iter     9:    Energy =   0.0398
Level     1,  Iter    10:    Energy =   0.0403
Level     1,  Iter    11:    Energy =   0.0403
Level     1,  Iter    12:    Energy =   0.0403
Level     1,  Iter    13:    Energy =   0.0403
Level     1,  Iter    14:    Energy =   0.0404
Level     1,  Iter    15:    Energy =   0.0404
Level     1,  Iter    16:    Energy =   0.0406
Level     1,  Iter    17:    Energy =   0.0406
Level     1,  Iter    18:    Energy =   0.0409
Level     1,  Iter    19:    Energy =   0.0408
Level     1,  Iter    20:    Energy =   0.0408
Level     1,  Iter    21:    Energy =   0.0408
Level     1,  Iter    22:    Energy =   0.0408
Level     1,  Iter    23:    Energy =   0.0408
Level     1,  Iter    24:    Energy =   0.0408
Level     1,  Iter    25:    Energy =   0.0408
Level     1,  Iter    26:    Energy =   0.0408
Level     1,  Iter    27:    Energy =   0.0411
Level     1,  Iter    28:    Energy =   0.0409
Level     1,  Iter    29:    Energy =   0.0409
Level     1,  Iter    30:    Energy =   0.0409
Level     1,  Iter    31:    Energy =   0.0410
Level     1,  Iter    32:    Energy =   0.0412
Level     1,  Iter    33:    Energy =   0.0413
Level     1,  Iter    34:    Energy =   0.0415
Level     1,  Iter    35:    Energy =   0.0417
Level     1,  Iter    36:    Energy =   0.0418
Level     1,  Iter    37:    Energy =   0.0419
Level     1,  Iter    38:    Energy =   0.0419
Level     1,  Iter    39:    Energy =   0.0420
Level     1,  Iter    40:    Energy =   0.0421
Level     1,  Iter    41:    Energy =   0.0419
Level     1,  Iter    42:    Energy =   0.0420
Level     1,  Iter    43:    Energy =   0.0421
Level     1,  Iter    44:    Energy =   0.0422
Level     1,  Iter    45:    Energy =   0.0421
Level     1,  Iter    46:    Energy =   0.0422
Level     1,  Iter    47:    Energy =   0.0422
Level     1,  Iter    48:    Energy =   0.0423
Level     1,  Iter    49:    Energy =   0.0422
Level     1,  Iter    50:    Energy =   0.0422
Level     1,  Iter    51:    Energy =   0.0423
Level     1,  Iter    52:    Energy =   0.0424
Level     1,  Iter    53:    Energy =   0.0423
Level     1,  Iter    54:    Energy =   0.0423
Level     1,  Iter    55:    Energy =   0.0424
Level     1,  Iter    56:    Energy =   0.0425
Level     1,  Iter    57:    Energy =   0.0424
Level     1,  Iter    58:    Energy =   0.0424
Level     1,  Iter    59:    Energy =   0.0424
END OF LEVEL     1    DetJac Range:   0.1119  to   3.0275 
  Avg. Gradient Time  : 0.0300s  34.09% 
  Avg. Gaussian Time  : 0.0457s  51.92% 
  Avg. Iteration Time : 0.0881s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0160
Level     2,  Iter     1:    Energy =   0.0171
Level     2,  Iter     2:    Energy =   0.0177
Level     2,  Iter     3:    Energy =   0.0181
Level     2,  Iter     4:    Energy =   0.0187
Level     2,  Iter     5:    Energy =   0.0191
Level     2,  Iter     6:    Energy =   0.0194
Level     2,  Iter     7:    Energy =   0.0199
Level     2,  Iter     8:    Energy =   0.0202
Level     2,  Iter     9:    Energy =   0.0204
Level     2,  Iter    10:    Energy =   0.0206
Level     2,  Iter    11:    Energy =   0.0209
Level     2,  Iter    12:    Energy =   0.0211
Level     2,  Iter    13:    Energy =   0.0213
Level     2,  Iter    14:    Energy =   0.0214
Level     2,  Iter    15:    Energy =   0.0216
Level     2,  Iter    16:    Energy =   0.0218
Level     2,  Iter    17:    Energy =   0.0220
Level     2,  Iter    18:    Energy =   0.0222
Level     2,  Iter    19:    Energy =   0.0223
END OF LEVEL     2    DetJac Range:   0.0373  to   3.3932 
  Avg. Gradient Time  : 0.1891s  32.46% 
  Avg. Gaussian Time  : 0.3162s  54.27% 
  Avg. Iteration Time : 0.5825s 

real	0m21.168s
user	0m36.292s
sys	0m2.724s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train029/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train029/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train029/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train029/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train029/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train029/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train029/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=29 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=29 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.324286 0.328571
+ echo 'CHUNK 0.324286 0.328571 1'
CHUNK 0.324286 0.328571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.324286 0.328571 1
====================================
         PROGRESS: 0.324286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=030
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 030
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train030
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train030
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left 030 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train030 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=left
+ local tid=030
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train030
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 030 left 0
+ local tid=030
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 030 0
+ set -e
+ local tid=030
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train030/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train030/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train030/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.628
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 511.231   GNORM= 96.636
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3       -55.233      77.399       0.052
   2    5      -158.189      52.945       5.000
   3    8      -216.679      78.724       2.281
   4    9      -358.898     137.062       1.000
   5   13      -374.746      66.494       0.188
   6   14      -558.912      82.225       1.000
   7   18      -565.833      79.132       0.115
   8   20      -585.031     163.659       0.436
   9   24      -656.403      68.015       0.571
  10   25      -673.879      39.829       1.000
  11   26      -681.925      76.031       1.000
  12   27      -705.275      63.875       1.000
  13   30      -710.735     145.684       0.438
  14   31      -765.901      67.828       1.000
  15   32      -820.907     102.823       1.000
  16   33      -898.761     204.495       1.000
  17   36     -1106.110     163.858       1.494
  18   38     -1121.945     148.671       0.094
  19   39     -1233.226      84.312       1.000
  20   40     -1264.104      71.232       1.000
  21   41     -1286.450      60.044       1.000
  22   42     -1312.004      52.633       1.000
  23   44     -1333.649      51.202       0.220
  24   46     -1345.032      21.432       0.301
  25   48     -1346.650      32.141       0.392
  26   49     -1347.920      26.112       1.000
  27   52     -1351.241      17.528       2.311
  28   53     -1351.305      50.585       1.000
  29   54     -1355.037      12.867       1.000
  30   55     -1356.912      13.282       1.000
  31   56     -1359.270      17.623       1.000
  32   57     -1360.943       8.763       1.000
  33   59     -1361.494       6.812       0.519
  34   61     -1361.677      19.145       0.415
Final RAS Transform: 
0.808563 0.0072853 -0.0531976 0.0351769 
-0.641142 0.852696 0.0154803 2.58301 
0.408026 -0.180387 0.566045 -4.93683 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -736.598   GNORM= 56.076
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -755.220      19.717       0.009
   2    4      -755.634      21.364       1.000
   3    5      -756.785      12.224       1.000
   4    6      -757.686      14.321       1.000
   5    8      -758.147      18.050       0.114
   6    9      -759.050      14.379       1.000
   7   10      -761.141      20.548       1.000
   8   13      -764.912      17.468       2.970
   9   14      -765.742      21.275       1.000
  10   15      -768.326      19.914       1.000
  11   16      -768.797      11.506       1.000
  12   17      -769.918      13.067       1.000
  13   18      -771.984      20.473       1.000
  14   19      -774.613      21.467       1.000
  15   21      -776.596      27.127       0.125
  16   22      -779.662      20.303       1.000
  17   24      -781.071       9.971       0.470
  18   25      -781.434      20.605       1.000
  19   26      -781.689      16.571       1.000
  20   27      -781.928       6.315       1.000
  21   28      -782.097       5.672       1.000
  22   29      -782.709       9.999       1.000
  23   30      -783.344       9.237       1.000
  24   32      -783.753       7.599       0.419
  25   34      -783.961      14.979       0.335
  26   35      -784.595      24.313       1.000
  27   37      -785.408      32.444       0.072
  28   38      -785.805      25.619       1.000
  29   40      -786.440      25.876       0.425
  30   41      -787.288       5.363       1.000
  31   42      -787.402       4.927       1.000
  32   44      -787.443       4.578       0.112
  33   46      -787.454       4.789       0.287
  34   47      -787.467       6.711       1.000
  35   48      -787.587       7.177       1.000
  36   49      -787.977       4.188       1.000
  37   50      -788.295      20.513       1.000
  38   51      -788.748       9.792       1.000
  39   52      -788.852      10.710       1.000
  40   53      -788.957       8.924       1.000
  41   55      -789.041       3.415       0.241
  42   56      -789.064       5.714       1.000
  43   58      -789.095       4.414       0.500
  44   60      -789.437      16.699       5.000
  45   61      -789.644      21.284       1.000
Final RAS Transform: 
0.816768 0.0493363 -0.0949802 -1.25437 
-0.634151 0.816064 0.0647911 4.17684 
0.356683 -0.208089 0.530061 -7.44035 
0 0 0 1 

Final RAS Transform: 
0.816768 0.0493363 -0.0949802 -1.25437 
-0.634151 0.816064 0.0647911 4.17684 
0.356683 -0.208089 0.530061 -7.44035 
0 0 0 1 


real	0m6.327s
user	0m10.432s
sys	0m0.816s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train030/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train030/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.521374
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0341
Level     0,  Iter     1:    Energy =   0.0364
Level     0,  Iter     2:    Energy =   0.0392
Level     0,  Iter     3:    Energy =   0.0421
Level     0,  Iter     4:    Energy =   0.0445
Level     0,  Iter     5:    Energy =   0.0461
Level     0,  Iter     6:    Energy =   0.0474
Level     0,  Iter     7:    Energy =   0.0484
Level     0,  Iter     8:    Energy =   0.0493
Level     0,  Iter     9:    Energy =   0.0502
Level     0,  Iter    10:    Energy =   0.0513
Level     0,  Iter    11:    Energy =   0.0522
Level     0,  Iter    12:    Energy =   0.0531
Level     0,  Iter    13:    Energy =   0.0535
Level     0,  Iter    14:    Energy =   0.0541
Level     0,  Iter    15:    Energy =   0.0544
Level     0,  Iter    16:    Energy =   0.0547
Level     0,  Iter    17:    Energy =   0.0550
Level     0,  Iter    18:    Energy =   0.0553
Level     0,  Iter    19:    Energy =   0.0557
Level     0,  Iter    20:    Energy =   0.0558
Level     0,  Iter    21:    Energy =   0.0562
Level     0,  Iter    22:    Energy =   0.0559
Level     0,  Iter    23:    Energy =   0.0564
Level     0,  Iter    24:    Energy =   0.0562
Level     0,  Iter    25:    Energy =   0.0566
Level     0,  Iter    26:    Energy =   0.0563
Level     0,  Iter    27:    Energy =   0.0567
Level     0,  Iter    28:    Energy =   0.0565
Level     0,  Iter    29:    Energy =   0.0569
Level     0,  Iter    30:    Energy =   0.0566
Level     0,  Iter    31:    Energy =   0.0571
Level     0,  Iter    32:    Energy =   0.0567
Level     0,  Iter    33:    Energy =   0.0572
Level     0,  Iter    34:    Energy =   0.0568
Level     0,  Iter    35:    Energy =   0.0573
Level     0,  Iter    36:    Energy =   0.0570
Level     0,  Iter    37:    Energy =   0.0574
Level     0,  Iter    38:    Energy =   0.0571
Level     0,  Iter    39:    Energy =   0.0575
Level     0,  Iter    40:    Energy =   0.0572
Level     0,  Iter    41:    Energy =   0.0576
Level     0,  Iter    42:    Energy =   0.0574
Level     0,  Iter    43:    Energy =   0.0578
Level     0,  Iter    44:    Energy =   0.0573
Level     0,  Iter    45:    Energy =   0.0579
Level     0,  Iter    46:    Energy =   0.0575
Level     0,  Iter    47:    Energy =   0.0581
Level     0,  Iter    48:    Energy =   0.0576
Level     0,  Iter    49:    Energy =   0.0580
Level     0,  Iter    50:    Energy =   0.0578
Level     0,  Iter    51:    Energy =   0.0582
Level     0,  Iter    52:    Energy =   0.0580
Level     0,  Iter    53:    Energy =   0.0584
Level     0,  Iter    54:    Energy =   0.0579
Level     0,  Iter    55:    Energy =   0.0584
Level     0,  Iter    56:    Energy =   0.0580
Level     0,  Iter    57:    Energy =   0.0584
Level     0,  Iter    58:    Energy =   0.0579
Level     0,  Iter    59:    Energy =   0.0584
END OF LEVEL     0    DetJac Range:   0.1927  to   2.0382 
  Avg. Gradient Time  : 0.0076s  32.67% 
  Avg. Gaussian Time  : 0.0112s  48.34% 
  Avg. Iteration Time : 0.0232s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0323
Level     1,  Iter     1:    Energy =   0.0333
Level     1,  Iter     2:    Energy =   0.0342
Level     1,  Iter     3:    Energy =   0.0350
Level     1,  Iter     4:    Energy =   0.0357
Level     1,  Iter     5:    Energy =   0.0363
Level     1,  Iter     6:    Energy =   0.0370
Level     1,  Iter     7:    Energy =   0.0377
Level     1,  Iter     8:    Energy =   0.0383
Level     1,  Iter     9:    Energy =   0.0389
Level     1,  Iter    10:    Energy =   0.0396
Level     1,  Iter    11:    Energy =   0.0402
Level     1,  Iter    12:    Energy =   0.0407
Level     1,  Iter    13:    Energy =   0.0411
Level     1,  Iter    14:    Energy =   0.0414
Level     1,  Iter    15:    Energy =   0.0417
Level     1,  Iter    16:    Energy =   0.0420
Level     1,  Iter    17:    Energy =   0.0422
Level     1,  Iter    18:    Energy =   0.0423
Level     1,  Iter    19:    Energy =   0.0425
Level     1,  Iter    20:    Energy =   0.0426
Level     1,  Iter    21:    Energy =   0.0427
Level     1,  Iter    22:    Energy =   0.0427
Level     1,  Iter    23:    Energy =   0.0427
Level     1,  Iter    24:    Energy =   0.0427
Level     1,  Iter    25:    Energy =   0.0427
Level     1,  Iter    26:    Energy =   0.0427
Level     1,  Iter    27:    Energy =   0.0427
Level     1,  Iter    28:    Energy =   0.0427
Level     1,  Iter    29:    Energy =   0.0427
Level     1,  Iter    30:    Energy =   0.0427
Level     1,  Iter    31:    Energy =   0.0427
Level     1,  Iter    32:    Energy =   0.0427
Level     1,  Iter    33:    Energy =   0.0427
Level     1,  Iter    34:    Energy =   0.0427
Level     1,  Iter    35:    Energy =   0.0427
Level     1,  Iter    36:    Energy =   0.0427
Level     1,  Iter    37:    Energy =   0.0427
Level     1,  Iter    38:    Energy =   0.0427
Level     1,  Iter    39:    Energy =   0.0427
Level     1,  Iter    40:    Energy =   0.0427
Level     1,  Iter    41:    Energy =   0.0427
Level     1,  Iter    42:    Energy =   0.0426
Level     1,  Iter    43:    Energy =   0.0426
Level     1,  Iter    44:    Energy =   0.0426
Level     1,  Iter    45:    Energy =   0.0425
Level     1,  Iter    46:    Energy =   0.0425
Level     1,  Iter    47:    Energy =   0.0425
Level     1,  Iter    48:    Energy =   0.0425
Level     1,  Iter    49:    Energy =   0.0425
Level     1,  Iter    50:    Energy =   0.0425
Level     1,  Iter    51:    Energy =   0.0425
Level     1,  Iter    52:    Energy =   0.0424
Level     1,  Iter    53:    Energy =   0.0424
Level     1,  Iter    54:    Energy =   0.0423
Level     1,  Iter    55:    Energy =   0.0423
Level     1,  Iter    56:    Energy =   0.0423
Level     1,  Iter    57:    Energy =   0.0422
Level     1,  Iter    58:    Energy =   0.0422
Level     1,  Iter    59:    Energy =   0.0422
END OF LEVEL     1    DetJac Range:   0.0952  to   3.0303 
  Avg. Gradient Time  : 0.0303s  33.79% 
  Avg. Gaussian Time  : 0.0468s  52.09% 
  Avg. Iteration Time : 0.0898s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0200
Level     2,  Iter     1:    Energy =   0.0209
Level     2,  Iter     2:    Energy =   0.0217
Level     2,  Iter     3:    Energy =   0.0223
Level     2,  Iter     4:    Energy =   0.0229
Level     2,  Iter     5:    Energy =   0.0233
Level     2,  Iter     6:    Energy =   0.0237
Level     2,  Iter     7:    Energy =   0.0240
Level     2,  Iter     8:    Energy =   0.0243
Level     2,  Iter     9:    Energy =   0.0246
Level     2,  Iter    10:    Energy =   0.0249
Level     2,  Iter    11:    Energy =   0.0252
Level     2,  Iter    12:    Energy =   0.0254
Level     2,  Iter    13:    Energy =   0.0256
Level     2,  Iter    14:    Energy =   0.0258
Level     2,  Iter    15:    Energy =   0.0259
Level     2,  Iter    16:    Energy =   0.0261
Level     2,  Iter    17:    Energy =   0.0262
Level     2,  Iter    18:    Energy =   0.0263
Level     2,  Iter    19:    Energy =   0.0265
END OF LEVEL     2    DetJac Range:   0.0508  to   2.4524 
  Avg. Gradient Time  : 0.1909s  32.44% 
  Avg. Gaussian Time  : 0.3183s  54.10% 
  Avg. Iteration Time : 0.5885s 

real	0m21.408s
user	0m36.504s
sys	0m2.900s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train030/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train030/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train030/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train030/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train030/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train030/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train030/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ awk -v bs=0.2 -v be=0.5 -v j=30 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
++ echo 1
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=30 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.328571 0.332857
+ echo 'CHUNK 0.328571 0.332857 1'
CHUNK 0.328571 0.332857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.328571 0.332857 1
====================================
         PROGRESS: 0.328571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=031
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 031
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train031
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train031
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left 031 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train031 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=left
+ local tid=031
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train031
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 031 left 0
+ local tid=031
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 031 0
+ set -e
+ local tid=031
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train031/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train031/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train031/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.586
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 540.327   GNORM= 106.576
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       441.578      96.976       0.009
   2    3      -195.661      40.504       1.000
   3    6      -564.351      41.309       2.906
   4    7      -654.161      53.794       1.000
   5   12      -788.980     111.018       0.228
   6   15      -802.533      50.648       0.401
   7   16      -870.847    1057.497       1.000
   8   22      -877.295      67.562       0.001
   9   23      -957.526      92.071       1.000
  10   25     -1013.059      63.135       0.342
  11   26     -1027.832      51.389       1.000
  12   27     -1034.460      58.374       1.000
  13   29     -1039.210      47.272       0.201
  14   32     -1040.336      48.079       0.026
  15   33     -1050.863      45.085       1.000
  16   34     -1068.669      66.458       1.000
  17   35     -1080.675      62.459       1.000
  18   36     -1090.930      53.844       1.000
  19   37     -1108.713      26.256       1.000
  20   38     -1112.891      62.971       1.000
  21   39     -1120.013      20.777       1.000
  22   40     -1122.526      10.925       1.000
  23   41     -1125.997      12.959       1.000
  24   43     -1128.678      38.798       0.365
  25   44     -1133.183      31.772       1.000
  26   46     -1138.067      24.851       0.370
  27   47     -1141.238      15.292       1.000
  28   48     -1141.519      13.963       1.000
  29   49     -1143.619      30.953       1.000
  30   50     -1145.309      42.108       1.000
  31   51     -1153.368      49.428       1.000
  32   54     -1155.054      46.848       0.023
  33   55     -1157.387      22.648       1.000
  34   57     -1167.484      20.108       5.000
  35   59     -1169.311      19.453       0.096
  36   60     -1171.306      33.607       1.000
  37   61     -1174.059      30.728       1.000
Final RAS Transform: 
0.774327 0.0942784 0.113778 -0.927159 
-0.552949 1.10504 -0.0949081 2.12156 
0.367751 -0.300103 0.572811 -3.63717 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -615.49   GNORM= 21.7942
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -617.139      17.766       0.009
   2    5      -622.297      10.114       5.000
   3    6      -623.536      20.441       1.000
   4    7      -627.301      17.863       1.000
   5    8      -632.010      16.029       1.000
   6    9      -641.989      24.285       1.000
   7   11      -648.824      34.362       0.255
   8   12      -651.956      35.442       1.000
   9   13      -656.001      14.868       1.000
  10   16      -661.926      19.459       2.339
  11   18      -662.719      20.286       0.180
  12   19      -664.567      21.534       1.000
  13   20      -666.913       9.741       1.000
  14   21      -668.397      12.941       1.000
  15   22      -672.858      20.161       1.000
  16   25      -686.318      54.105       1.298
  17   27      -691.980      70.339       0.216
  18   28      -697.807      50.504       1.000
  19   29      -702.232      46.433       1.000
  20   30      -707.122      21.379       1.000
  21   31      -709.897      11.108       1.000
  22   32      -710.518      10.526       1.000
  23   34      -710.962      10.373       0.435
  24   35      -711.681      19.383       1.000
  25   36      -712.860      23.132       1.000
  26   37      -715.602      15.261       1.000
  27   38      -715.944      16.154       1.000
  28   39      -717.109       6.124       1.000
  29   40      -718.012      13.383       1.000
  30   41      -718.255      14.501       1.000
  31   42      -719.019      11.817       1.000
  32   44      -719.188       7.607       0.483
  33   45      -719.341       5.845       1.000
  34   46      -719.537      11.762       1.000
  35   47      -719.727      11.082       1.000
  36   49      -719.853       9.678       0.149
  37   50      -720.065       3.023       1.000
  38   51      -720.108       2.952       1.000
  39   53      -720.278       5.568       5.000
  40   54      -720.685       9.331       1.000
  41   56      -720.849       6.934       0.462
  42   58      -720.873       4.743       0.391
  43   59      -720.945       2.043       1.000
  44   60      -720.970       3.667       1.000
  45   61      -721.030       4.340       1.000
Final RAS Transform: 
0.806378 0.107186 -0.0711194 -3.38773 
-0.588731 1.09085 -0.0682685 -0.143037 
0.305109 -0.428442 0.442321 -6.53961 
0 0 0 1 

Final RAS Transform: 
0.806378 0.107186 -0.0711194 -3.38773 
-0.588731 1.09085 -0.0682685 -0.143037 
0.305109 -0.428442 0.442321 -6.53961 
0 0 0 1 


real	0m6.353s
user	0m10.384s
sys	0m0.892s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train031/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train031/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.488392
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0282
Level     0,  Iter     1:    Energy =   0.0304
Level     0,  Iter     2:    Energy =   0.0327
Level     0,  Iter     3:    Energy =   0.0345
Level     0,  Iter     4:    Energy =   0.0360
Level     0,  Iter     5:    Energy =   0.0374
Level     0,  Iter     6:    Energy =   0.0387
Level     0,  Iter     7:    Energy =   0.0400
Level     0,  Iter     8:    Energy =   0.0413
Level     0,  Iter     9:    Energy =   0.0423
Level     0,  Iter    10:    Energy =   0.0432
Level     0,  Iter    11:    Energy =   0.0440
Level     0,  Iter    12:    Energy =   0.0446
Level     0,  Iter    13:    Energy =   0.0452
Level     0,  Iter    14:    Energy =   0.0460
Level     0,  Iter    15:    Energy =   0.0464
Level     0,  Iter    16:    Energy =   0.0469
Level     0,  Iter    17:    Energy =   0.0474
Level     0,  Iter    18:    Energy =   0.0479
Level     0,  Iter    19:    Energy =   0.0483
Level     0,  Iter    20:    Energy =   0.0484
Level     0,  Iter    21:    Energy =   0.0487
Level     0,  Iter    22:    Energy =   0.0489
Level     0,  Iter    23:    Energy =   0.0492
Level     0,  Iter    24:    Energy =   0.0492
Level     0,  Iter    25:    Energy =   0.0496
Level     0,  Iter    26:    Energy =   0.0495
Level     0,  Iter    27:    Energy =   0.0498
Level     0,  Iter    28:    Energy =   0.0498
Level     0,  Iter    29:    Energy =   0.0502
Level     0,  Iter    30:    Energy =   0.0501
Level     0,  Iter    31:    Energy =   0.0504
Level     0,  Iter    32:    Energy =   0.0503
Level     0,  Iter    33:    Energy =   0.0506
Level     0,  Iter    34:    Energy =   0.0506
Level     0,  Iter    35:    Energy =   0.0508
Level     0,  Iter    36:    Energy =   0.0507
Level     0,  Iter    37:    Energy =   0.0509
Level     0,  Iter    38:    Energy =   0.0508
Level     0,  Iter    39:    Energy =   0.0510
Level     0,  Iter    40:    Energy =   0.0508
Level     0,  Iter    41:    Energy =   0.0511
Level     0,  Iter    42:    Energy =   0.0509
Level     0,  Iter    43:    Energy =   0.0512
Level     0,  Iter    44:    Energy =   0.0511
Level     0,  Iter    45:    Energy =   0.0513
Level     0,  Iter    46:    Energy =   0.0512
Level     0,  Iter    47:    Energy =   0.0516
Level     0,  Iter    48:    Energy =   0.0515
Level     0,  Iter    49:    Energy =   0.0516
Level     0,  Iter    50:    Energy =   0.0515
Level     0,  Iter    51:    Energy =   0.0517
Level     0,  Iter    52:    Energy =   0.0516
Level     0,  Iter    53:    Energy =   0.0518
Level     0,  Iter    54:    Energy =   0.0517
Level     0,  Iter    55:    Energy =   0.0518
Level     0,  Iter    56:    Energy =   0.0517
Level     0,  Iter    57:    Energy =   0.0519
Level     0,  Iter    58:    Energy =   0.0518
Level     0,  Iter    59:    Energy =   0.0518
END OF LEVEL     0    DetJac Range:   0.1673  to   3.1493 
  Avg. Gradient Time  : 0.0073s  32.87% 
  Avg. Gaussian Time  : 0.0107s  48.08% 
  Avg. Iteration Time : 0.0223s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0306
Level     1,  Iter     1:    Energy =   0.0323
Level     1,  Iter     2:    Energy =   0.0337
Level     1,  Iter     3:    Energy =   0.0348
Level     1,  Iter     4:    Energy =   0.0356
Level     1,  Iter     5:    Energy =   0.0364
Level     1,  Iter     6:    Energy =   0.0369
Level     1,  Iter     7:    Energy =   0.0373
Level     1,  Iter     8:    Energy =   0.0376
Level     1,  Iter     9:    Energy =   0.0379
Level     1,  Iter    10:    Energy =   0.0383
Level     1,  Iter    11:    Energy =   0.0387
Level     1,  Iter    12:    Energy =   0.0391
Level     1,  Iter    13:    Energy =   0.0396
Level     1,  Iter    14:    Energy =   0.0400
Level     1,  Iter    15:    Energy =   0.0404
Level     1,  Iter    16:    Energy =   0.0407
Level     1,  Iter    17:    Energy =   0.0411
Level     1,  Iter    18:    Energy =   0.0413
Level     1,  Iter    19:    Energy =   0.0416
Level     1,  Iter    20:    Energy =   0.0418
Level     1,  Iter    21:    Energy =   0.0420
Level     1,  Iter    22:    Energy =   0.0422
Level     1,  Iter    23:    Energy =   0.0423
Level     1,  Iter    24:    Energy =   0.0424
Level     1,  Iter    25:    Energy =   0.0426
Level     1,  Iter    26:    Energy =   0.0428
Level     1,  Iter    27:    Energy =   0.0428
Level     1,  Iter    28:    Energy =   0.0429
Level     1,  Iter    29:    Energy =   0.0429
Level     1,  Iter    30:    Energy =   0.0430
Level     1,  Iter    31:    Energy =   0.0430
Level     1,  Iter    32:    Energy =   0.0431
Level     1,  Iter    33:    Energy =   0.0431
Level     1,  Iter    34:    Energy =   0.0432
Level     1,  Iter    35:    Energy =   0.0433
Level     1,  Iter    36:    Energy =   0.0433
Level     1,  Iter    37:    Energy =   0.0433
Level     1,  Iter    38:    Energy =   0.0432
Level     1,  Iter    39:    Energy =   0.0432
Level     1,  Iter    40:    Energy =   0.0433
Level     1,  Iter    41:    Energy =   0.0433
Level     1,  Iter    42:    Energy =   0.0433
Level     1,  Iter    43:    Energy =   0.0433
Level     1,  Iter    44:    Energy =   0.0434
Level     1,  Iter    45:    Energy =   0.0433
Level     1,  Iter    46:    Energy =   0.0434
Level     1,  Iter    47:    Energy =   0.0434
Level     1,  Iter    48:    Energy =   0.0435
Level     1,  Iter    49:    Energy =   0.0435
Level     1,  Iter    50:    Energy =   0.0436
Level     1,  Iter    51:    Energy =   0.0437
Level     1,  Iter    52:    Energy =   0.0438
Level     1,  Iter    53:    Energy =   0.0438
Level     1,  Iter    54:    Energy =   0.0438
Level     1,  Iter    55:    Energy =   0.0438
Level     1,  Iter    56:    Energy =   0.0438
Level     1,  Iter    57:    Energy =   0.0438
Level     1,  Iter    58:    Energy =   0.0438
Level     1,  Iter    59:    Energy =   0.0439
END OF LEVEL     1    DetJac Range:   0.0463  to   3.8057 
  Avg. Gradient Time  : 0.0304s  33.88% 
  Avg. Gaussian Time  : 0.0468s  52.13% 
  Avg. Iteration Time : 0.0897s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0204
Level     2,  Iter     1:    Energy =   0.0212
Level     2,  Iter     2:    Energy =   0.0221
Level     2,  Iter     3:    Energy =   0.0228
Level     2,  Iter     4:    Energy =   0.0234
Level     2,  Iter     5:    Energy =   0.0238
Level     2,  Iter     6:    Energy =   0.0242
Level     2,  Iter     7:    Energy =   0.0244
Level     2,  Iter     8:    Energy =   0.0247
Level     2,  Iter     9:    Energy =   0.0251
Level     2,  Iter    10:    Energy =   0.0254
Level     2,  Iter    11:    Energy =   0.0256
Level     2,  Iter    12:    Energy =   0.0258
Level     2,  Iter    13:    Energy =   0.0260
Level     2,  Iter    14:    Energy =   0.0262
Level     2,  Iter    15:    Energy =   0.0263
Level     2,  Iter    16:    Energy =   0.0265
Level     2,  Iter    17:    Energy =   0.0265
Level     2,  Iter    18:    Energy =   0.0266
Level     2,  Iter    19:    Energy =   0.0267
END OF LEVEL     2    DetJac Range:   0.0279  to   3.6577 
  Avg. Gradient Time  : 0.1920s  32.78% 
  Avg. Gaussian Time  : 0.3162s  53.98% 
  Avg. Iteration Time : 0.5858s 

real	0m21.250s
user	0m36.312s
sys	0m2.808s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train031/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train031/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train031/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train031/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train031/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train031/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train031/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=31 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=31 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.332857 0.337143
+ echo 'CHUNK 0.332857 0.337143 1'
CHUNK 0.332857 0.337143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.332857 0.337143 1
====================================
         PROGRESS: 0.332857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=032
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 032
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train032
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train032
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left 032 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train032 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=left
+ local tid=032
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train032
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 032 left 0
+ local tid=032
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 032 0
+ set -e
+ local tid=032
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train032/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train032/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train032/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.551
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 642.634   GNORM= 160.079
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -122.567      98.080       0.031
   2   10      -476.275      57.164       1.131
   3   11      -486.844     239.556       1.000
   4   15      -493.068      99.115       0.009
   5   16      -495.191     738.762       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.727924 0.0546216 -0.291607 6.39404 
-0.115762 1.07835 -0.101397 2.50874 
0.19883 -0.331622 1.03203 -10.226 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -228.804   GNORM= 80.3715
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -256.787      14.541       0.012
   2    6      -257.730      15.755       1.445
   3    7      -258.476      50.603       1.000
   4    8      -268.250      98.723       1.000
   5   13      -275.537      75.844       0.003
   6   14      -284.319      54.500       1.000
   7   17      -325.364     103.913       2.354
   8   19      -326.345      98.012       0.108
   9   25      -330.144      53.138       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.781621 0.119971 -0.238344 -7.35446 
-0.193708 0.575643 -0.274546 5.44961 
0.21577 -0.349876 1.02163 -11.5849 
0 0 0 1 

Final RAS Transform: 
0.781621 0.119971 -0.238344 -7.35446 
-0.193708 0.575643 -0.274546 5.44961 
0.21577 -0.349876 1.02163 -11.5849 
0 0 0 1 


real	0m4.990s
user	0m8.028s
sys	0m0.648s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train032/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train032/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.323063
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0137
Level     0,  Iter     1:    Energy =   0.0154
Level     0,  Iter     2:    Energy =   0.0168
Level     0,  Iter     3:    Energy =   0.0184
Level     0,  Iter     4:    Energy =   0.0198
Level     0,  Iter     5:    Energy =   0.0210
Level     0,  Iter     6:    Energy =   0.0221
Level     0,  Iter     7:    Energy =   0.0232
Level     0,  Iter     8:    Energy =   0.0243
Level     0,  Iter     9:    Energy =   0.0250
Level     0,  Iter    10:    Energy =   0.0258
Level     0,  Iter    11:    Energy =   0.0266
Level     0,  Iter    12:    Energy =   0.0270
Level     0,  Iter    13:    Energy =   0.0274
Level     0,  Iter    14:    Energy =   0.0280
Level     0,  Iter    15:    Energy =   0.0286
Level     0,  Iter    16:    Energy =   0.0293
Level     0,  Iter    17:    Energy =   0.0299
Level     0,  Iter    18:    Energy =   0.0304
Level     0,  Iter    19:    Energy =   0.0308
Level     0,  Iter    20:    Energy =   0.0313
Level     0,  Iter    21:    Energy =   0.0320
Level     0,  Iter    22:    Energy =   0.0327
Level     0,  Iter    23:    Energy =   0.0333
Level     0,  Iter    24:    Energy =   0.0337
Level     0,  Iter    25:    Energy =   0.0341
Level     0,  Iter    26:    Energy =   0.0345
Level     0,  Iter    27:    Energy =   0.0349
Level     0,  Iter    28:    Energy =   0.0353
Level     0,  Iter    29:    Energy =   0.0356
Level     0,  Iter    30:    Energy =   0.0358
Level     0,  Iter    31:    Energy =   0.0361
Level     0,  Iter    32:    Energy =   0.0363
Level     0,  Iter    33:    Energy =   0.0366
Level     0,  Iter    34:    Energy =   0.0367
Level     0,  Iter    35:    Energy =   0.0369
Level     0,  Iter    36:    Energy =   0.0371
Level     0,  Iter    37:    Energy =   0.0371
Level     0,  Iter    38:    Energy =   0.0372
Level     0,  Iter    39:    Energy =   0.0373
Level     0,  Iter    40:    Energy =   0.0375
Level     0,  Iter    41:    Energy =   0.0377
Level     0,  Iter    42:    Energy =   0.0378
Level     0,  Iter    43:    Energy =   0.0379
Level     0,  Iter    44:    Energy =   0.0380
Level     0,  Iter    45:    Energy =   0.0380
Level     0,  Iter    46:    Energy =   0.0381
Level     0,  Iter    47:    Energy =   0.0381
Level     0,  Iter    48:    Energy =   0.0382
Level     0,  Iter    49:    Energy =   0.0383
Level     0,  Iter    50:    Energy =   0.0383
Level     0,  Iter    51:    Energy =   0.0384
Level     0,  Iter    52:    Energy =   0.0385
Level     0,  Iter    53:    Energy =   0.0386
Level     0,  Iter    54:    Energy =   0.0386
Level     0,  Iter    55:    Energy =   0.0387
Level     0,  Iter    56:    Energy =   0.0387
Level     0,  Iter    57:    Energy =   0.0388
Level     0,  Iter    58:    Energy =   0.0388
Level     0,  Iter    59:    Energy =   0.0388
END OF LEVEL     0    DetJac Range:   0.0536  to   1.8948 
  Avg. Gradient Time  : 0.0081s  33.46% 
  Avg. Gaussian Time  : 0.0116s  47.74% 
  Avg. Iteration Time : 0.0242s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0216
Level     1,  Iter     1:    Energy =   0.0225
Level     1,  Iter     2:    Energy =   0.0232
Level     1,  Iter     3:    Energy =   0.0239
Level     1,  Iter     4:    Energy =   0.0246
Level     1,  Iter     5:    Energy =   0.0250
Level     1,  Iter     6:    Energy =   0.0254
Level     1,  Iter     7:    Energy =   0.0257
Level     1,  Iter     8:    Energy =   0.0259
Level     1,  Iter     9:    Energy =   0.0261
Level     1,  Iter    10:    Energy =   0.0263
Level     1,  Iter    11:    Energy =   0.0264
Level     1,  Iter    12:    Energy =   0.0266
Level     1,  Iter    13:    Energy =   0.0267
Level     1,  Iter    14:    Energy =   0.0268
Level     1,  Iter    15:    Energy =   0.0269
Level     1,  Iter    16:    Energy =   0.0270
Level     1,  Iter    17:    Energy =   0.0271
Level     1,  Iter    18:    Energy =   0.0271
Level     1,  Iter    19:    Energy =   0.0272
Level     1,  Iter    20:    Energy =   0.0273
Level     1,  Iter    21:    Energy =   0.0273
Level     1,  Iter    22:    Energy =   0.0274
Level     1,  Iter    23:    Energy =   0.0274
Level     1,  Iter    24:    Energy =   0.0274
Level     1,  Iter    25:    Energy =   0.0275
Level     1,  Iter    26:    Energy =   0.0275
Level     1,  Iter    27:    Energy =   0.0275
Level     1,  Iter    28:    Energy =   0.0275
Level     1,  Iter    29:    Energy =   0.0276
Level     1,  Iter    30:    Energy =   0.0276
Level     1,  Iter    31:    Energy =   0.0276
Level     1,  Iter    32:    Energy =   0.0276
Level     1,  Iter    33:    Energy =   0.0276
Level     1,  Iter    34:    Energy =   0.0276
Level     1,  Iter    35:    Energy =   0.0277
Level     1,  Iter    36:    Energy =   0.0277
Level     1,  Iter    37:    Energy =   0.0277
Level     1,  Iter    38:    Energy =   0.0277
Level     1,  Iter    39:    Energy =   0.0277
Level     1,  Iter    40:    Energy =   0.0278
Level     1,  Iter    41:    Energy =   0.0278
Level     1,  Iter    42:    Energy =   0.0278
Level     1,  Iter    43:    Energy =   0.0278
Level     1,  Iter    44:    Energy =   0.0279
Level     1,  Iter    45:    Energy =   0.0279
Level     1,  Iter    46:    Energy =   0.0279
Level     1,  Iter    47:    Energy =   0.0280
Level     1,  Iter    48:    Energy =   0.0280
Level     1,  Iter    49:    Energy =   0.0280
Level     1,  Iter    50:    Energy =   0.0280
Level     1,  Iter    51:    Energy =   0.0281
Level     1,  Iter    52:    Energy =   0.0281
Level     1,  Iter    53:    Energy =   0.0281
Level     1,  Iter    54:    Energy =   0.0281
Level     1,  Iter    55:    Energy =   0.0281
Level     1,  Iter    56:    Energy =   0.0281
Level     1,  Iter    57:    Energy =   0.0281
Level     1,  Iter    58:    Energy =   0.0282
Level     1,  Iter    59:    Energy =   0.0282
END OF LEVEL     1    DetJac Range:   0.0352  to   1.9854 
  Avg. Gradient Time  : 0.0315s  34.15% 
  Avg. Gaussian Time  : 0.0479s  51.82% 
  Avg. Iteration Time : 0.0924s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0119
Level     2,  Iter     1:    Energy =   0.0123
Level     2,  Iter     2:    Energy =   0.0127
Level     2,  Iter     3:    Energy =   0.0131
Level     2,  Iter     4:    Energy =   0.0134
Level     2,  Iter     5:    Energy =   0.0137
Level     2,  Iter     6:    Energy =   0.0141
Level     2,  Iter     7:    Energy =   0.0144
Level     2,  Iter     8:    Energy =   0.0147
Level     2,  Iter     9:    Energy =   0.0150
Level     2,  Iter    10:    Energy =   0.0153
Level     2,  Iter    11:    Energy =   0.0156
Level     2,  Iter    12:    Energy =   0.0159
Level     2,  Iter    13:    Energy =   0.0161
Level     2,  Iter    14:    Energy =   0.0163
Level     2,  Iter    15:    Energy =   0.0165
Level     2,  Iter    16:    Energy =   0.0166
Level     2,  Iter    17:    Energy =   0.0168
Level     2,  Iter    18:    Energy =   0.0170
Level     2,  Iter    19:    Energy =   0.0171
END OF LEVEL     2    DetJac Range:   0.0335  to   2.4734 
  Avg. Gradient Time  : 0.1836s  31.84% 
  Avg. Gaussian Time  : 0.3155s  54.71% 
  Avg. Iteration Time : 0.5767s 

real	0m21.343s
user	0m36.108s
sys	0m3.128s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train032/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train032/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train032/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train032/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train032/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train032/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train032/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=32 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=32 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.337143 0.341429
+ echo 'CHUNK 0.337143 0.341429 1'
CHUNK 0.337143 0.341429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.337143 0.341429 1
====================================
         PROGRESS: 0.337143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=033
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 033
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train033
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train033
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left 033 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train033 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=left
+ local tid=033
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train033
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 033 left 0
+ local tid=033
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 033 0
+ set -e
+ local tid=033
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train033/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train033/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train033/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.535
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 514.482   GNORM= 135.812
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       380.920     139.108       0.007
   2    3      -389.805      89.497       1.000
   3    5      -423.222     109.256       0.162
   4    6      -758.654     129.772       1.000
   5    7      -939.383      37.010       1.000
   6    8      -962.806      79.806       1.000
   7    9     -1003.061      62.591       1.000
   8   11     -1046.631      47.741       0.409
   9   13     -1074.223      35.657       0.087
  10   14     -1081.930      31.030       1.000
  11   15     -1111.515      49.453       1.000
  12   16     -1137.958     140.341       1.000
  13   17     -1195.064     130.537       1.000
  14   19     -1270.108     136.204       0.448
  15   22     -1275.970      97.166       0.025
  16   23     -1298.177     107.136       1.000
  17   25     -1298.835      34.567       0.349
  18   26     -1304.637     143.381       1.000
  19   27     -1311.043      57.339       1.000
  20   31     -1311.258      78.148       0.000
  21   33     -1311.818      66.426       0.051
  22   34     -1314.379      95.110       1.000
  23   39     -1314.487      49.274       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.839297 -0.418986 0.339433 -4.85814 
-0.588866 0.789394 -0.382272 10.201 
-0.146084 -0.722046 0.804992 6.87554 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -576.923   GNORM= 4013.11
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -583.908     112.188       0.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.839308 -0.419005 0.33947 -4.86096 
-0.588885 0.789437 -0.382297 10.2052 
-0.146105 -0.722002 0.804936 6.88102 
0 0 0 1 

Final RAS Transform: 
0.839308 -0.419005 0.33947 -4.86096 
-0.588885 0.789437 -0.382297 10.2052 
-0.146105 -0.722002 0.804936 6.88102 
0 0 0 1 


real	0m4.116s
user	0m6.320s
sys	0m0.608s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train033/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train033/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.502598
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0309
Level     0,  Iter     1:    Energy =   0.0335
Level     0,  Iter     2:    Energy =   0.0368
Level     0,  Iter     3:    Energy =   0.0392
Level     0,  Iter     4:    Energy =   0.0411
Level     0,  Iter     5:    Energy =   0.0426
Level     0,  Iter     6:    Energy =   0.0439
Level     0,  Iter     7:    Energy =   0.0451
Level     0,  Iter     8:    Energy =   0.0462
Level     0,  Iter     9:    Energy =   0.0474
Level     0,  Iter    10:    Energy =   0.0484
Level     0,  Iter    11:    Energy =   0.0493
Level     0,  Iter    12:    Energy =   0.0504
Level     0,  Iter    13:    Energy =   0.0516
Level     0,  Iter    14:    Energy =   0.0524
Level     0,  Iter    15:    Energy =   0.0531
Level     0,  Iter    16:    Energy =   0.0540
Level     0,  Iter    17:    Energy =   0.0548
Level     0,  Iter    18:    Energy =   0.0558
Level     0,  Iter    19:    Energy =   0.0567
Level     0,  Iter    20:    Energy =   0.0576
Level     0,  Iter    21:    Energy =   0.0584
Level     0,  Iter    22:    Energy =   0.0595
Level     0,  Iter    23:    Energy =   0.0601
Level     0,  Iter    24:    Energy =   0.0610
Level     0,  Iter    25:    Energy =   0.0614
Level     0,  Iter    26:    Energy =   0.0622
Level     0,  Iter    27:    Energy =   0.0625
Level     0,  Iter    28:    Energy =   0.0632
Level     0,  Iter    29:    Energy =   0.0632
Level     0,  Iter    30:    Energy =   0.0638
Level     0,  Iter    31:    Energy =   0.0640
Level     0,  Iter    32:    Energy =   0.0644
Level     0,  Iter    33:    Energy =   0.0644
Level     0,  Iter    34:    Energy =   0.0647
Level     0,  Iter    35:    Energy =   0.0646
Level     0,  Iter    36:    Energy =   0.0650
Level     0,  Iter    37:    Energy =   0.0648
Level     0,  Iter    38:    Energy =   0.0651
Level     0,  Iter    39:    Energy =   0.0649
Level     0,  Iter    40:    Energy =   0.0653
Level     0,  Iter    41:    Energy =   0.0651
Level     0,  Iter    42:    Energy =   0.0655
Level     0,  Iter    43:    Energy =   0.0653
Level     0,  Iter    44:    Energy =   0.0657
Level     0,  Iter    45:    Energy =   0.0655
Level     0,  Iter    46:    Energy =   0.0658
Level     0,  Iter    47:    Energy =   0.0657
Level     0,  Iter    48:    Energy =   0.0660
Level     0,  Iter    49:    Energy =   0.0658
Level     0,  Iter    50:    Energy =   0.0661
Level     0,  Iter    51:    Energy =   0.0660
Level     0,  Iter    52:    Energy =   0.0662
Level     0,  Iter    53:    Energy =   0.0661
Level     0,  Iter    54:    Energy =   0.0663
Level     0,  Iter    55:    Energy =   0.0662
Level     0,  Iter    56:    Energy =   0.0664
Level     0,  Iter    57:    Energy =   0.0663
Level     0,  Iter    58:    Energy =   0.0665
Level     0,  Iter    59:    Energy =   0.0664
END OF LEVEL     0    DetJac Range:   0.0558  to   2.6802 
  Avg. Gradient Time  : 0.0080s  32.74% 
  Avg. Gaussian Time  : 0.0116s  47.34% 
  Avg. Iteration Time : 0.0245s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0364
Level     1,  Iter     1:    Energy =   0.0378
Level     1,  Iter     2:    Energy =   0.0390
Level     1,  Iter     3:    Energy =   0.0401
Level     1,  Iter     4:    Energy =   0.0410
Level     1,  Iter     5:    Energy =   0.0417
Level     1,  Iter     6:    Energy =   0.0422
Level     1,  Iter     7:    Energy =   0.0426
Level     1,  Iter     8:    Energy =   0.0431
Level     1,  Iter     9:    Energy =   0.0435
Level     1,  Iter    10:    Energy =   0.0440
Level     1,  Iter    11:    Energy =   0.0442
Level     1,  Iter    12:    Energy =   0.0445
Level     1,  Iter    13:    Energy =   0.0450
Level     1,  Iter    14:    Energy =   0.0452
Level     1,  Iter    15:    Energy =   0.0455
Level     1,  Iter    16:    Energy =   0.0458
Level     1,  Iter    17:    Energy =   0.0459
Level     1,  Iter    18:    Energy =   0.0462
Level     1,  Iter    19:    Energy =   0.0464
Level     1,  Iter    20:    Energy =   0.0467
Level     1,  Iter    21:    Energy =   0.0468
Level     1,  Iter    22:    Energy =   0.0471
Level     1,  Iter    23:    Energy =   0.0471
Level     1,  Iter    24:    Energy =   0.0473
Level     1,  Iter    25:    Energy =   0.0476
Level     1,  Iter    26:    Energy =   0.0476
Level     1,  Iter    27:    Energy =   0.0478
Level     1,  Iter    28:    Energy =   0.0477
Level     1,  Iter    29:    Energy =   0.0479
Level     1,  Iter    30:    Energy =   0.0482
Level     1,  Iter    31:    Energy =   0.0482
Level     1,  Iter    32:    Energy =   0.0484
Level     1,  Iter    33:    Energy =   0.0483
Level     1,  Iter    34:    Energy =   0.0484
Level     1,  Iter    35:    Energy =   0.0486
Level     1,  Iter    36:    Energy =   0.0486
Level     1,  Iter    37:    Energy =   0.0488
Level     1,  Iter    38:    Energy =   0.0486
Level     1,  Iter    39:    Energy =   0.0487
Level     1,  Iter    40:    Energy =   0.0488
Level     1,  Iter    41:    Energy =   0.0488
Level     1,  Iter    42:    Energy =   0.0487
Level     1,  Iter    43:    Energy =   0.0488
Level     1,  Iter    44:    Energy =   0.0486
Level     1,  Iter    45:    Energy =   0.0486
Level     1,  Iter    46:    Energy =   0.0486
Level     1,  Iter    47:    Energy =   0.0485
Level     1,  Iter    48:    Energy =   0.0484
Level     1,  Iter    49:    Energy =   0.0484
Level     1,  Iter    50:    Energy =   0.0484
Level     1,  Iter    51:    Energy =   0.0484
Level     1,  Iter    52:    Energy =   0.0483
Level     1,  Iter    53:    Energy =   0.0482
Level     1,  Iter    54:    Energy =   0.0482
Level     1,  Iter    55:    Energy =   0.0482
Level     1,  Iter    56:    Energy =   0.0482
Level     1,  Iter    57:    Energy =   0.0481
Level     1,  Iter    58:    Energy =   0.0481
Level     1,  Iter    59:    Energy =   0.0481
END OF LEVEL     1    DetJac Range:   0.0733  to   2.5481 
  Avg. Gradient Time  : 0.0320s  34.50% 
  Avg. Gaussian Time  : 0.0478s  51.56% 
  Avg. Iteration Time : 0.0927s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0221
Level     2,  Iter     1:    Energy =   0.0229
Level     2,  Iter     2:    Energy =   0.0237
Level     2,  Iter     3:    Energy =   0.0243
Level     2,  Iter     4:    Energy =   0.0248
Level     2,  Iter     5:    Energy =   0.0253
Level     2,  Iter     6:    Energy =   0.0258
Level     2,  Iter     7:    Energy =   0.0262
Level     2,  Iter     8:    Energy =   0.0265
Level     2,  Iter     9:    Energy =   0.0268
Level     2,  Iter    10:    Energy =   0.0270
Level     2,  Iter    11:    Energy =   0.0272
Level     2,  Iter    12:    Energy =   0.0274
Level     2,  Iter    13:    Energy =   0.0276
Level     2,  Iter    14:    Energy =   0.0277
Level     2,  Iter    15:    Energy =   0.0278
Level     2,  Iter    16:    Energy =   0.0279
Level     2,  Iter    17:    Energy =   0.0279
Level     2,  Iter    18:    Energy =   0.0280
Level     2,  Iter    19:    Energy =   0.0281
END OF LEVEL     2    DetJac Range:   0.0561  to   2.4657 
  Avg. Gradient Time  : 0.1920s  32.65% 
  Avg. Gaussian Time  : 0.3175s  53.99% 
  Avg. Iteration Time : 0.5880s 

real	0m21.643s
user	0m36.852s
sys	0m2.936s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train033/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train033/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train033/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train033/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train033/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train033/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train033/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=33 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=33 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.341429 0.345714
+ echo 'CHUNK 0.341429 0.345714 1'
CHUNK 0.341429 0.345714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.341429 0.345714 1
====================================
         PROGRESS: 0.341429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=left
+ tid=034
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: left
Training subject: 034
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train034
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train034
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left 034 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train034 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=left
+ local tid=034
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train034
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 left
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=left
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_left.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz
+ ashs_atlas_side_vars 034 left 0
+ local tid=034
+ local side=left
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 034 0
+ set -e
+ local tid=034
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_left_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/mprage_to_chunktemp_left.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_left_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_native_chunk_left.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_native_chunk_left_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train034/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train034/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_left.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train034/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.501
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 662.518   GNORM= 93.6629
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3       122.570      80.339       0.053
   2    5         0.004       0.762       5.000
   3    6        -0.097       0.449       1.000
   4    9        -0.401       0.426       2.985
   5   11        -0.425       0.407       0.151
   6   12        -0.449       0.286       1.000
   7   13        -0.460       0.193       1.000
   8   14        -0.463       0.095       1.000
   9   15        -0.464       0.112       1.000
  10   17        -0.473       0.185       5.000
  11   19        -0.560       0.359       5.000
  12   22        -0.625       0.396       0.299
  13   26        -0.638       0.340       0.132
  14   27        -0.647       0.194       1.000
  15   28        -0.656       0.114       1.000
  16   29        -0.663       0.072       1.000
  17   30        -0.671       0.142       1.000
  18   31        -0.679       0.095       1.000
  19   32        -0.680       0.249       1.000
  20   33        -0.687       0.149       1.000
  21   34        -0.691       0.151       1.000
  22   35        -0.694       0.039       1.000
  23   36        -0.695       0.090       1.000
  24   39        -0.700       0.101       2.146
  25   41        -0.700       0.118       0.157
  26   42        -0.704       0.067       1.000
  27   43        -0.706       0.061       1.000
  28   44        -0.708       0.102       1.000
  29   45        -0.712       0.135       1.000
  30   46        -0.736       0.256       1.000
  31   47        -0.743       0.169       1.000
  32   48        -0.757       0.124       1.000
  33   50        -0.762       0.075       0.278
  34   51        -0.764       0.049       1.000
  35   52        -0.765       0.046       1.000
  36   53        -0.769       0.048       1.000
  37   54        -0.774       0.064       1.000
  38   55        -0.775       0.051       1.000
  39   57        -0.776       0.112       0.159
  40   59        -0.777       0.027       0.336
  41   60        -0.777       0.027       1.000
  42   61        -0.777       0.026       1.000
Final RAS Transform: 
1.03333 -0.0654871 0.0697645 -2.38587 
-0.111102 1.25091 -0.256708 8.16274 
0.0694156 -0.293012 0.938512 -6.65519 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -90.239   GNORM= 17695.4
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       -98.263    2943.842       0.000
   2    4      -100.002    2208.672       0.333
   3    7      -100.367     102.228       0.001
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.03332 -0.0659854 0.0708292 -2.44222 
-0.113685 1.25454 -0.258433 8.54266 
0.0662072 -0.28614 0.933756 -5.96216 
0 0 0 1 

Final RAS Transform: 
1.03332 -0.0659854 0.0708292 -2.44222 
-0.113685 1.25454 -0.258433 8.54266 
0.0662072 -0.28614 0.933756 -5.96216 
0 0 0 1 


real	0m4.263s
user	0m6.616s
sys	0m0.592s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train034/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_left.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_to_chunktemp_left.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train034/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.742, moving = 0.352785
LEVEL 1 of 3
  Smoothing sigmas: [3.20659, 3.18383, 3.1973], [1.30909, 1.29979, 1.30529]
Level     0,  Iter     0:    Energy =   0.0059
Level     0,  Iter     1:    Energy =   0.0073
Level     0,  Iter     2:    Energy =   0.0099
Level     0,  Iter     3:    Energy =   0.0119
Level     0,  Iter     4:    Energy =   0.0136
Level     0,  Iter     5:    Energy =   0.0153
Level     0,  Iter     6:    Energy =   0.0169
Level     0,  Iter     7:    Energy =   0.0184
Level     0,  Iter     8:    Energy =   0.0199
Level     0,  Iter     9:    Energy =   0.0211
Level     0,  Iter    10:    Energy =   0.0221
Level     0,  Iter    11:    Energy =   0.0228
Level     0,  Iter    12:    Energy =   0.0237
Level     0,  Iter    13:    Energy =   0.0246
Level     0,  Iter    14:    Energy =   0.0254
Level     0,  Iter    15:    Energy =   0.0261
Level     0,  Iter    16:    Energy =   0.0267
Level     0,  Iter    17:    Energy =   0.0273
Level     0,  Iter    18:    Energy =   0.0279
Level     0,  Iter    19:    Energy =   0.0284
Level     0,  Iter    20:    Energy =   0.0291
Level     0,  Iter    21:    Energy =   0.0297
Level     0,  Iter    22:    Energy =   0.0303
Level     0,  Iter    23:    Energy =   0.0309
Level     0,  Iter    24:    Energy =   0.0314
Level     0,  Iter    25:    Energy =   0.0319
Level     0,  Iter    26:    Energy =   0.0325
Level     0,  Iter    27:    Energy =   0.0331
Level     0,  Iter    28:    Energy =   0.0337
Level     0,  Iter    29:    Energy =   0.0342
Level     0,  Iter    30:    Energy =   0.0346
Level     0,  Iter    31:    Energy =   0.0350
Level     0,  Iter    32:    Energy =   0.0355
Level     0,  Iter    33:    Energy =   0.0358
Level     0,  Iter    34:    Energy =   0.0362
Level     0,  Iter    35:    Energy =   0.0365
Level     0,  Iter    36:    Energy =   0.0369
Level     0,  Iter    37:    Energy =   0.0373
Level     0,  Iter    38:    Energy =   0.0377
Level     0,  Iter    39:    Energy =   0.0381
Level     0,  Iter    40:    Energy =   0.0385
Level     0,  Iter    41:    Energy =   0.0389
Level     0,  Iter    42:    Energy =   0.0394
Level     0,  Iter    43:    Energy =   0.0396
Level     0,  Iter    44:    Energy =   0.0400
Level     0,  Iter    45:    Energy =   0.0401
Level     0,  Iter    46:    Energy =   0.0404
Level     0,  Iter    47:    Energy =   0.0406
Level     0,  Iter    48:    Energy =   0.0408
Level     0,  Iter    49:    Energy =   0.0410
Level     0,  Iter    50:    Energy =   0.0412
Level     0,  Iter    51:    Energy =   0.0413
Level     0,  Iter    52:    Energy =   0.0415
Level     0,  Iter    53:    Energy =   0.0415
Level     0,  Iter    54:    Energy =   0.0417
Level     0,  Iter    55:    Energy =   0.0418
Level     0,  Iter    56:    Energy =   0.0419
Level     0,  Iter    57:    Energy =   0.0420
Level     0,  Iter    58:    Energy =   0.0421
Level     0,  Iter    59:    Energy =   0.0421
END OF LEVEL     0    DetJac Range:   0.0720  to   3.3787 
  Avg. Gradient Time  : 0.0080s  33.19% 
  Avg. Gaussian Time  : 0.0116s  47.74% 
  Avg. Iteration Time : 0.0242s 
LEVEL 2 of 3
  Smoothing sigmas: [1.6033, 1.61984, 1.59865], [0.654543, 0.661297, 0.652646]
Level     1,  Iter     0:    Energy =   0.0228
Level     1,  Iter     1:    Energy =   0.0241
Level     1,  Iter     2:    Energy =   0.0251
Level     1,  Iter     3:    Energy =   0.0261
Level     1,  Iter     4:    Energy =   0.0268
Level     1,  Iter     5:    Energy =   0.0274
Level     1,  Iter     6:    Energy =   0.0280
Level     1,  Iter     7:    Energy =   0.0285
Level     1,  Iter     8:    Energy =   0.0289
Level     1,  Iter     9:    Energy =   0.0294
Level     1,  Iter    10:    Energy =   0.0299
Level     1,  Iter    11:    Energy =   0.0303
Level     1,  Iter    12:    Energy =   0.0307
Level     1,  Iter    13:    Energy =   0.0311
Level     1,  Iter    14:    Energy =   0.0314
Level     1,  Iter    15:    Energy =   0.0317
Level     1,  Iter    16:    Energy =   0.0319
Level     1,  Iter    17:    Energy =   0.0321
Level     1,  Iter    18:    Energy =   0.0324
Level     1,  Iter    19:    Energy =   0.0326
Level     1,  Iter    20:    Energy =   0.0327
Level     1,  Iter    21:    Energy =   0.0329
Level     1,  Iter    22:    Energy =   0.0330
Level     1,  Iter    23:    Energy =   0.0331
Level     1,  Iter    24:    Energy =   0.0333
Level     1,  Iter    25:    Energy =   0.0334
Level     1,  Iter    26:    Energy =   0.0334
Level     1,  Iter    27:    Energy =   0.0335
Level     1,  Iter    28:    Energy =   0.0336
Level     1,  Iter    29:    Energy =   0.0337
Level     1,  Iter    30:    Energy =   0.0337
Level     1,  Iter    31:    Energy =   0.0338
Level     1,  Iter    32:    Energy =   0.0338
Level     1,  Iter    33:    Energy =   0.0339
Level     1,  Iter    34:    Energy =   0.0340
Level     1,  Iter    35:    Energy =   0.0340
Level     1,  Iter    36:    Energy =   0.0341
Level     1,  Iter    37:    Energy =   0.0341
Level     1,  Iter    38:    Energy =   0.0342
Level     1,  Iter    39:    Energy =   0.0342
Level     1,  Iter    40:    Energy =   0.0343
Level     1,  Iter    41:    Energy =   0.0343
Level     1,  Iter    42:    Energy =   0.0343
Level     1,  Iter    43:    Energy =   0.0344
Level     1,  Iter    44:    Energy =   0.0344
Level     1,  Iter    45:    Energy =   0.0344
Level     1,  Iter    46:    Energy =   0.0345
Level     1,  Iter    47:    Energy =   0.0345
Level     1,  Iter    48:    Energy =   0.0345
Level     1,  Iter    49:    Energy =   0.0345
Level     1,  Iter    50:    Energy =   0.0345
Level     1,  Iter    51:    Energy =   0.0346
Level     1,  Iter    52:    Energy =   0.0346
Level     1,  Iter    53:    Energy =   0.0346
Level     1,  Iter    54:    Energy =   0.0346
Level     1,  Iter    55:    Energy =   0.0347
Level     1,  Iter    56:    Energy =   0.0347
Level     1,  Iter    57:    Energy =   0.0347
Level     1,  Iter    58:    Energy =   0.0347
Level     1,  Iter    59:    Energy =   0.0348
END OF LEVEL     1    DetJac Range:   0.0235  to   4.2198 
  Avg. Gradient Time  : 0.0312s  34.13% 
  Avg. Gaussian Time  : 0.0474s  51.79% 
  Avg. Iteration Time : 0.0915s 
LEVEL 3 of 3
  Smoothing sigmas: [0.807767, 0.80992, 0.807085], [0.329769, 0.330649, 0.329491]
Level     2,  Iter     0:    Energy =   0.0153
Level     2,  Iter     1:    Energy =   0.0160
Level     2,  Iter     2:    Energy =   0.0165
Level     2,  Iter     3:    Energy =   0.0171
Level     2,  Iter     4:    Energy =   0.0176
Level     2,  Iter     5:    Energy =   0.0181
Level     2,  Iter     6:    Energy =   0.0185
Level     2,  Iter     7:    Energy =   0.0189
Level     2,  Iter     8:    Energy =   0.0193
Level     2,  Iter     9:    Energy =   0.0196
Level     2,  Iter    10:    Energy =   0.0199
Level     2,  Iter    11:    Energy =   0.0201
Level     2,  Iter    12:    Energy =   0.0203
Level     2,  Iter    13:    Energy =   0.0205
Level     2,  Iter    14:    Energy =   0.0207
Level     2,  Iter    15:    Energy =   0.0209
Level     2,  Iter    16:    Energy =   0.0210
Level     2,  Iter    17:    Energy =   0.0212
Level     2,  Iter    18:    Energy =   0.0213
Level     2,  Iter    19:    Energy =   0.0214
END OF LEVEL     2    DetJac Range:   0.0312  to   3.7387 
  Avg. Gradient Time  : 0.2020s  33.40% 
  Avg. Gaussian Time  : 0.3235s  53.47% 
  Avg. Iteration Time : 0.6049s 

real	0m21.907s
user	0m37.296s
sys	0m3.020s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train034/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train034/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_left.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train034/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/tse_native_chunk_left_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train034/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train034/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_left_train034/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/greedy_t1_to_template_left_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train034/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=34 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=34 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.345714 0.35
+ echo 'CHUNK 0.345714 0.35 1'
CHUNK 0.345714 0.35 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.345714 0.35 1
====================================
         PROGRESS: 0.345714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=000
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 000
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train000
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train000
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right 000 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train000 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=right
+ local tid=000
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train000
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 000 right 0
+ local tid=000
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 000 0
+ set -e
+ local tid=000
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.783, moving = 0.57
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 106.382   GNORM= 150.271
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2         8.572      95.752       0.007
   2    4      -237.839      98.638       5.000
   3    5      -387.797      73.967       1.000
   4    6      -436.440      62.320       1.000
   5    8      -490.821      73.395       0.213
   6    9      -507.061     165.759       1.000
   7   10      -558.911      67.554       1.000
   8   12      -638.946     137.234       5.000
   9   13      -743.822     110.506       1.000
  10   16      -770.111      50.088       0.026
  11   17      -781.543      52.062       1.000
  12   19      -793.993      89.688       0.178
  13   20      -810.511      81.570       1.000
  14   21      -871.544      77.805       1.000
  15   23      -893.032      50.328       0.314
  16   24      -912.272      55.980       1.000
  17   25      -917.950      24.325       1.000
  18   26      -922.585      51.342       1.000
  19   27      -926.378      27.497       1.000
  20   28      -928.279      16.383       1.000
  21   30      -933.580      32.407       5.000
  22   31      -937.516      49.316       1.000
  23   32      -944.501      19.625       1.000
  24   33      -950.462      36.837       1.000
  25   35      -953.801      31.421       0.443
  26   36      -956.148      15.243       1.000
  27   37      -959.100      15.070       1.000
  28   39      -960.737      32.901       0.291
  29   41      -961.240      38.804       0.305
  30   42      -962.899      28.097       1.000
  31   43      -965.413      17.647       1.000
  32   44      -966.034      42.561       1.000
  33   45      -967.153      21.314       1.000
  34   46      -968.513      15.486       1.000
  35   49      -972.445      37.127       2.085
  36   50      -974.211      46.791       1.000
  37   51      -985.028      49.423       1.000
  38   53      -988.186      49.426       0.262
  39   54      -996.393      25.079       1.000
  40   55     -1001.754      33.486       1.000
  41   56     -1007.801      27.087       1.000
  42   58     -1013.946      32.543       0.305
  43   59     -1015.893      45.153       1.000
  44   60     -1018.761      16.323       1.000
  45   61     -1020.183      10.707       1.000
Final RAS Transform: 
0.985985 -0.0841451 -0.0847218 -0.63433 
0.260066 1.15014 0.353018 10.6082 
-0.379849 -0.463993 0.536661 -2.09181 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -545.063   GNORM= 48.8917
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -561.007      68.825       0.020
   2    3      -576.672      23.860       1.000
   3    4      -578.938      23.413       1.000
   4    5      -581.178      13.809       1.000
   5    6      -581.895       9.567       1.000
   6    7      -585.048      18.029       1.000
   7    9      -587.120      23.782       0.402
   8   10      -589.450      21.987       1.000
   9   11      -590.206      11.556       1.000
  10   14      -591.231       8.532       2.138
  11   15      -591.905      19.249       1.000
  12   16      -592.513       9.362       1.000
  13   17      -594.066      15.609       1.000
  14   18      -595.715      14.259       1.000
  15   20      -596.364       7.732       0.248
  16   21      -597.151       7.535       1.000
  17   23      -597.434      11.324       0.458
  18   24      -597.750      14.075       1.000
  19   25      -598.296       9.670       1.000
  20   26      -598.436       6.590       1.000
  21   27      -598.720       9.643       1.000
  22   29      -598.859       9.309       0.451
  23   30      -599.156       9.427       1.000
  24   32      -599.181       4.560       0.144
  25   33      -599.240       6.507       1.000
  26   35      -599.338       6.125       0.239
  27   36      -599.381       8.014       1.000
  28   37      -599.625       7.871       1.000
  29   38      -599.770       6.818       1.000
  30   41      -599.803       3.969       1.588
  31   44      -599.849       1.973       1.947
  32   45      -599.893       4.425       1.000
  33   46      -599.952       2.439       1.000
  34   47      -600.021       2.800       1.000
  35   50      -600.081       3.656       0.042
  36   53      -600.136       4.953       0.952
  37   54      -600.823     183.337       1.000
Final RAS Transform: 
0.962802 -0.104264 -0.0910528 0.191122 
0.297737 1.1966 0.388391 10.9786 
-0.374009 -0.453379 0.535541 -2.46902 
0 0 0 1 

Final RAS Transform: 
0.962802 -0.104264 -0.0910528 0.191122 
0.297737 1.1966 0.388391 10.9786 
-0.374009 -0.453379 0.535541 -2.46902 
0 0 0 1 


real	0m6.501s
user	0m10.680s
sys	0m0.780s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.783, moving = 0.445062
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0264
Level     0,  Iter     1:    Energy =   0.0277
Level     0,  Iter     2:    Energy =   0.0301
Level     0,  Iter     3:    Energy =   0.0329
Level     0,  Iter     4:    Energy =   0.0353
Level     0,  Iter     5:    Energy =   0.0374
Level     0,  Iter     6:    Energy =   0.0390
Level     0,  Iter     7:    Energy =   0.0401
Level     0,  Iter     8:    Energy =   0.0410
Level     0,  Iter     9:    Energy =   0.0420
Level     0,  Iter    10:    Energy =   0.0428
Level     0,  Iter    11:    Energy =   0.0434
Level     0,  Iter    12:    Energy =   0.0440
Level     0,  Iter    13:    Energy =   0.0444
Level     0,  Iter    14:    Energy =   0.0448
Level     0,  Iter    15:    Energy =   0.0453
Level     0,  Iter    16:    Energy =   0.0456
Level     0,  Iter    17:    Energy =   0.0459
Level     0,  Iter    18:    Energy =   0.0463
Level     0,  Iter    19:    Energy =   0.0466
Level     0,  Iter    20:    Energy =   0.0471
Level     0,  Iter    21:    Energy =   0.0473
Level     0,  Iter    22:    Energy =   0.0477
Level     0,  Iter    23:    Energy =   0.0478
Level     0,  Iter    24:    Energy =   0.0480
Level     0,  Iter    25:    Energy =   0.0482
Level     0,  Iter    26:    Energy =   0.0485
Level     0,  Iter    27:    Energy =   0.0484
Level     0,  Iter    28:    Energy =   0.0485
Level     0,  Iter    29:    Energy =   0.0485
Level     0,  Iter    30:    Energy =   0.0487
Level     0,  Iter    31:    Energy =   0.0489
Level     0,  Iter    32:    Energy =   0.0492
Level     0,  Iter    33:    Energy =   0.0493
Level     0,  Iter    34:    Energy =   0.0496
Level     0,  Iter    35:    Energy =   0.0498
Level     0,  Iter    36:    Energy =   0.0502
Level     0,  Iter    37:    Energy =   0.0506
Level     0,  Iter    38:    Energy =   0.0510
Level     0,  Iter    39:    Energy =   0.0511
Level     0,  Iter    40:    Energy =   0.0516
Level     0,  Iter    41:    Energy =   0.0517
Level     0,  Iter    42:    Energy =   0.0519
Level     0,  Iter    43:    Energy =   0.0519
Level     0,  Iter    44:    Energy =   0.0522
Level     0,  Iter    45:    Energy =   0.0521
Level     0,  Iter    46:    Energy =   0.0524
Level     0,  Iter    47:    Energy =   0.0524
Level     0,  Iter    48:    Energy =   0.0525
Level     0,  Iter    49:    Energy =   0.0526
Level     0,  Iter    50:    Energy =   0.0527
Level     0,  Iter    51:    Energy =   0.0528
Level     0,  Iter    52:    Energy =   0.0528
Level     0,  Iter    53:    Energy =   0.0527
Level     0,  Iter    54:    Energy =   0.0527
Level     0,  Iter    55:    Energy =   0.0527
Level     0,  Iter    56:    Energy =   0.0528
Level     0,  Iter    57:    Energy =   0.0528
Level     0,  Iter    58:    Energy =   0.0529
Level     0,  Iter    59:    Energy =   0.0531
END OF LEVEL     0    DetJac Range:   0.1889  to   2.4719 
  Avg. Gradient Time  : 0.0078s  32.95% 
  Avg. Gaussian Time  : 0.0115s  48.13% 
  Avg. Iteration Time : 0.0238s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0320
Level     1,  Iter     1:    Energy =   0.0344
Level     1,  Iter     2:    Energy =   0.0365
Level     1,  Iter     3:    Energy =   0.0380
Level     1,  Iter     4:    Energy =   0.0393
Level     1,  Iter     5:    Energy =   0.0403
Level     1,  Iter     6:    Energy =   0.0411
Level     1,  Iter     7:    Energy =   0.0418
Level     1,  Iter     8:    Energy =   0.0424
Level     1,  Iter     9:    Energy =   0.0428
Level     1,  Iter    10:    Energy =   0.0432
Level     1,  Iter    11:    Energy =   0.0435
Level     1,  Iter    12:    Energy =   0.0437
Level     1,  Iter    13:    Energy =   0.0440
Level     1,  Iter    14:    Energy =   0.0442
Level     1,  Iter    15:    Energy =   0.0444
Level     1,  Iter    16:    Energy =   0.0447
Level     1,  Iter    17:    Energy =   0.0449
Level     1,  Iter    18:    Energy =   0.0450
Level     1,  Iter    19:    Energy =   0.0452
Level     1,  Iter    20:    Energy =   0.0453
Level     1,  Iter    21:    Energy =   0.0455
Level     1,  Iter    22:    Energy =   0.0456
Level     1,  Iter    23:    Energy =   0.0457
Level     1,  Iter    24:    Energy =   0.0458
Level     1,  Iter    25:    Energy =   0.0459
Level     1,  Iter    26:    Energy =   0.0460
Level     1,  Iter    27:    Energy =   0.0461
Level     1,  Iter    28:    Energy =   0.0462
Level     1,  Iter    29:    Energy =   0.0464
Level     1,  Iter    30:    Energy =   0.0465
Level     1,  Iter    31:    Energy =   0.0466
Level     1,  Iter    32:    Energy =   0.0467
Level     1,  Iter    33:    Energy =   0.0468
Level     1,  Iter    34:    Energy =   0.0469
Level     1,  Iter    35:    Energy =   0.0470
Level     1,  Iter    36:    Energy =   0.0471
Level     1,  Iter    37:    Energy =   0.0471
Level     1,  Iter    38:    Energy =   0.0472
Level     1,  Iter    39:    Energy =   0.0473
Level     1,  Iter    40:    Energy =   0.0474
Level     1,  Iter    41:    Energy =   0.0475
Level     1,  Iter    42:    Energy =   0.0476
Level     1,  Iter    43:    Energy =   0.0476
Level     1,  Iter    44:    Energy =   0.0477
Level     1,  Iter    45:    Energy =   0.0478
Level     1,  Iter    46:    Energy =   0.0479
Level     1,  Iter    47:    Energy =   0.0479
Level     1,  Iter    48:    Energy =   0.0480
Level     1,  Iter    49:    Energy =   0.0481
Level     1,  Iter    50:    Energy =   0.0482
Level     1,  Iter    51:    Energy =   0.0483
Level     1,  Iter    52:    Energy =   0.0484
Level     1,  Iter    53:    Energy =   0.0485
Level     1,  Iter    54:    Energy =   0.0485
Level     1,  Iter    55:    Energy =   0.0486
Level     1,  Iter    56:    Energy =   0.0486
Level     1,  Iter    57:    Energy =   0.0486
Level     1,  Iter    58:    Energy =   0.0486
Level     1,  Iter    59:    Energy =   0.0486
END OF LEVEL     1    DetJac Range:   0.0833  to   2.9869 
  Avg. Gradient Time  : 0.0301s  34.58% 
  Avg. Gaussian Time  : 0.0446s  51.30% 
  Avg. Iteration Time : 0.0869s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0215
Level     2,  Iter     1:    Energy =   0.0225
Level     2,  Iter     2:    Energy =   0.0235
Level     2,  Iter     3:    Energy =   0.0244
Level     2,  Iter     4:    Energy =   0.0252
Level     2,  Iter     5:    Energy =   0.0259
Level     2,  Iter     6:    Energy =   0.0265
Level     2,  Iter     7:    Energy =   0.0270
Level     2,  Iter     8:    Energy =   0.0274
Level     2,  Iter     9:    Energy =   0.0279
Level     2,  Iter    10:    Energy =   0.0282
Level     2,  Iter    11:    Energy =   0.0285
Level     2,  Iter    12:    Energy =   0.0288
Level     2,  Iter    13:    Energy =   0.0290
Level     2,  Iter    14:    Energy =   0.0292
Level     2,  Iter    15:    Energy =   0.0294
Level     2,  Iter    16:    Energy =   0.0295
Level     2,  Iter    17:    Energy =   0.0296
Level     2,  Iter    18:    Energy =   0.0297
Level     2,  Iter    19:    Energy =   0.0297
END OF LEVEL     2    DetJac Range:   0.0337  to   3.3817 
  Avg. Gradient Time  : 0.1952s  32.75% 
  Avg. Gaussian Time  : 0.3199s  53.69% 
  Avg. Iteration Time : 0.5959s 

real	0m21.460s
user	0m36.524s
sys	0m2.768s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train000/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train000/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train000/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train000/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train000/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=35 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=35 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.35 0.354286
+ echo 'CHUNK 0.35 0.354286 1'
CHUNK 0.35 0.354286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.35 0.354286 1
====================================
         PROGRESS: 0.35               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=001
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 001
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train001
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train001
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right 001 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train001 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=right
+ local tid=001
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train001
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 001 right 0
+ local tid=001
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 001 0
+ set -e
+ local tid=001
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.783, moving = 0.603
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 53.2872   GNORM= 154.384
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       -49.871      78.196       0.006
   2    3      -124.973      85.508       1.000
   3    4      -256.135      81.966       1.000
   4    5      -360.687      45.695       1.000
   5    6      -379.077      52.375       1.000
   6    9      -449.656     135.645       1.459
   7   11      -458.372     131.484       0.070
   8   12      -499.679     126.649       1.000
   9   14      -527.820      70.338       0.277
  10   16      -543.609      80.193       0.326
  11   17      -570.834      45.045       1.000
  12   18      -595.175      59.217       1.000
  13   19      -634.796      54.599       1.000
  14   20      -833.769      71.423       1.000
  15   22      -968.373     109.776       0.477
  16   24      -986.202      82.316       0.160
  17   25     -1012.624      67.303       1.000
  18   26     -1030.586      25.968       1.000
  19   27     -1037.532      23.137       1.000
  20   28     -1044.182      45.294       1.000
  21   29     -1061.306      55.426       1.000
  22   30     -1089.352      54.630       1.000
  23   32     -1099.979      56.348       0.189
  24   33     -1113.431      54.943       1.000
  25   34     -1121.277      31.285       1.000
  26   35     -1123.519      34.222       1.000
  27   36     -1126.940      30.935       1.000
  28   38     -1130.761      23.639       0.354
  29   39     -1133.925      29.563       1.000
  30   40     -1140.675      26.409       1.000
  31   42     -1150.735      33.458       0.496
  32   43     -1155.179      31.740       1.000
  33   44     -1158.585      24.414       1.000
  34   45     -1159.738      14.964       1.000
  35   47     -1159.836      31.343       0.213
  36   48     -1163.176      24.640       1.000
  37   49     -1164.848      28.514       1.000
  38   50     -1166.696      22.925       1.000
  39   52     -1168.644       7.979       0.386
  40   53     -1169.730      14.994       1.000
  41   56     -1172.237      28.572       2.523
  42   58     -1173.215      22.790       0.256
  43   60     -1173.692      20.853       0.483
  44   61     -1175.037      10.363       1.000
Final RAS Transform: 
0.643375 0.204033 0.055366 -3.28712 
0.494323 1.16462 0.669542 14.4584 
-0.29044 -0.485858 0.276284 -5.71133 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -636.964   GNORM= 41.6565
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -644.201      11.683       0.007
   2    4      -644.879       9.819       1.000
   3    6      -645.201      10.992       0.262
   4    7      -645.427       7.740       1.000
   5    8      -645.519      15.568       1.000
   6    9      -645.948      11.897       1.000
   7   10      -647.026       6.911       1.000
   8   12      -647.705      18.986       5.000
   9   13      -648.920      27.929       1.000
  10   16      -648.999      12.681       0.087
  11   17      -649.391      10.426       1.000
  12   19      -649.611       7.288       0.109
  13   20      -649.871       5.081       1.000
  14   22      -649.958       4.800       0.296
  15   23      -650.085       4.710       1.000
  16   24      -650.240       7.390       1.000
  17   25      -650.540      11.173       1.000
  18   28      -650.982       5.971       0.246
  19   30      -651.333       9.446       0.482
  20   31      -651.692       3.965       1.000
  21   32      -651.871       8.302       1.000
  22   33      -651.961       7.737       1.000
  23   34      -652.202       6.887       1.000
  24   36      -652.437       7.256       0.197
  25   37      -652.638       5.477       1.000
  26   38      -652.684       3.399       1.000
  27   39      -652.853       5.032       1.000
  28   40      -652.965       6.713       1.000
  29   41      -652.968      13.364       1.000
  30   44      -653.144       6.035       2.305
Final RAS Transform: 
0.625581 0.2241 0.083276 -2.40531 
0.509167 1.14173 0.652468 14.6446 
-0.296882 -0.496381 0.271853 -5.29069 
0 0 0 1 

Final RAS Transform: 
0.625581 0.2241 0.083276 -2.40531 
0.509167 1.14173 0.652468 14.6446 
-0.296882 -0.496381 0.271853 -5.29069 
0 0 0 1 


real	0m6.833s
user	0m11.240s
sys	0m0.864s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.783, moving = 0.517695
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0313
Level     0,  Iter     1:    Energy =   0.0345
Level     0,  Iter     2:    Energy =   0.0397
Level     0,  Iter     3:    Energy =   0.0435
Level     0,  Iter     4:    Energy =   0.0466
Level     0,  Iter     5:    Energy =   0.0498
Level     0,  Iter     6:    Energy =   0.0525
Level     0,  Iter     7:    Energy =   0.0546
Level     0,  Iter     8:    Energy =   0.0565
Level     0,  Iter     9:    Energy =   0.0580
Level     0,  Iter    10:    Energy =   0.0592
Level     0,  Iter    11:    Energy =   0.0603
Level     0,  Iter    12:    Energy =   0.0610
Level     0,  Iter    13:    Energy =   0.0616
Level     0,  Iter    14:    Energy =   0.0622
Level     0,  Iter    15:    Energy =   0.0627
Level     0,  Iter    16:    Energy =   0.0632
Level     0,  Iter    17:    Energy =   0.0637
Level     0,  Iter    18:    Energy =   0.0642
Level     0,  Iter    19:    Energy =   0.0646
Level     0,  Iter    20:    Energy =   0.0646
Level     0,  Iter    21:    Energy =   0.0649
Level     0,  Iter    22:    Energy =   0.0649
Level     0,  Iter    23:    Energy =   0.0651
Level     0,  Iter    24:    Energy =   0.0650
Level     0,  Iter    25:    Energy =   0.0652
Level     0,  Iter    26:    Energy =   0.0652
Level     0,  Iter    27:    Energy =   0.0655
Level     0,  Iter    28:    Energy =   0.0655
Level     0,  Iter    29:    Energy =   0.0658
Level     0,  Iter    30:    Energy =   0.0658
Level     0,  Iter    31:    Energy =   0.0660
Level     0,  Iter    32:    Energy =   0.0661
Level     0,  Iter    33:    Energy =   0.0664
Level     0,  Iter    34:    Energy =   0.0663
Level     0,  Iter    35:    Energy =   0.0664
Level     0,  Iter    36:    Energy =   0.0664
Level     0,  Iter    37:    Energy =   0.0666
Level     0,  Iter    38:    Energy =   0.0666
Level     0,  Iter    39:    Energy =   0.0667
Level     0,  Iter    40:    Energy =   0.0668
Level     0,  Iter    41:    Energy =   0.0668
Level     0,  Iter    42:    Energy =   0.0670
Level     0,  Iter    43:    Energy =   0.0672
Level     0,  Iter    44:    Energy =   0.0671
Level     0,  Iter    45:    Energy =   0.0672
Level     0,  Iter    46:    Energy =   0.0674
Level     0,  Iter    47:    Energy =   0.0674
Level     0,  Iter    48:    Energy =   0.0673
Level     0,  Iter    49:    Energy =   0.0673
Level     0,  Iter    50:    Energy =   0.0675
Level     0,  Iter    51:    Energy =   0.0675
Level     0,  Iter    52:    Energy =   0.0676
Level     0,  Iter    53:    Energy =   0.0675
Level     0,  Iter    54:    Energy =   0.0675
Level     0,  Iter    55:    Energy =   0.0675
Level     0,  Iter    56:    Energy =   0.0676
Level     0,  Iter    57:    Energy =   0.0677
Level     0,  Iter    58:    Energy =   0.0677
Level     0,  Iter    59:    Energy =   0.0676
END OF LEVEL     0    DetJac Range:   0.0595  to   2.9739 
  Avg. Gradient Time  : 0.0076s  33.72% 
  Avg. Gaussian Time  : 0.0109s  48.02% 
  Avg. Iteration Time : 0.0226s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0376
Level     1,  Iter     1:    Energy =   0.0387
Level     1,  Iter     2:    Energy =   0.0397
Level     1,  Iter     3:    Energy =   0.0406
Level     1,  Iter     4:    Energy =   0.0416
Level     1,  Iter     5:    Energy =   0.0424
Level     1,  Iter     6:    Energy =   0.0433
Level     1,  Iter     7:    Energy =   0.0443
Level     1,  Iter     8:    Energy =   0.0449
Level     1,  Iter     9:    Energy =   0.0455
Level     1,  Iter    10:    Energy =   0.0465
Level     1,  Iter    11:    Energy =   0.0474
Level     1,  Iter    12:    Energy =   0.0483
Level     1,  Iter    13:    Energy =   0.0491
Level     1,  Iter    14:    Energy =   0.0498
Level     1,  Iter    15:    Energy =   0.0502
Level     1,  Iter    16:    Energy =   0.0507
Level     1,  Iter    17:    Energy =   0.0511
Level     1,  Iter    18:    Energy =   0.0515
Level     1,  Iter    19:    Energy =   0.0519
Level     1,  Iter    20:    Energy =   0.0522
Level     1,  Iter    21:    Energy =   0.0526
Level     1,  Iter    22:    Energy =   0.0529
Level     1,  Iter    23:    Energy =   0.0532
Level     1,  Iter    24:    Energy =   0.0535
Level     1,  Iter    25:    Energy =   0.0538
Level     1,  Iter    26:    Energy =   0.0541
Level     1,  Iter    27:    Energy =   0.0544
Level     1,  Iter    28:    Energy =   0.0546
Level     1,  Iter    29:    Energy =   0.0548
Level     1,  Iter    30:    Energy =   0.0550
Level     1,  Iter    31:    Energy =   0.0552
Level     1,  Iter    32:    Energy =   0.0554
Level     1,  Iter    33:    Energy =   0.0556
Level     1,  Iter    34:    Energy =   0.0557
Level     1,  Iter    35:    Energy =   0.0559
Level     1,  Iter    36:    Energy =   0.0560
Level     1,  Iter    37:    Energy =   0.0562
Level     1,  Iter    38:    Energy =   0.0563
Level     1,  Iter    39:    Energy =   0.0564
Level     1,  Iter    40:    Energy =   0.0566
Level     1,  Iter    41:    Energy =   0.0567
Level     1,  Iter    42:    Energy =   0.0567
Level     1,  Iter    43:    Energy =   0.0568
Level     1,  Iter    44:    Energy =   0.0569
Level     1,  Iter    45:    Energy =   0.0569
Level     1,  Iter    46:    Energy =   0.0570
Level     1,  Iter    47:    Energy =   0.0570
Level     1,  Iter    48:    Energy =   0.0571
Level     1,  Iter    49:    Energy =   0.0571
Level     1,  Iter    50:    Energy =   0.0571
Level     1,  Iter    51:    Energy =   0.0571
Level     1,  Iter    52:    Energy =   0.0571
Level     1,  Iter    53:    Energy =   0.0571
Level     1,  Iter    54:    Energy =   0.0571
Level     1,  Iter    55:    Energy =   0.0571
Level     1,  Iter    56:    Energy =   0.0572
Level     1,  Iter    57:    Energy =   0.0572
Level     1,  Iter    58:    Energy =   0.0572
Level     1,  Iter    59:    Energy =   0.0573
END OF LEVEL     1    DetJac Range:   0.0404  to   3.7293 
  Avg. Gradient Time  : 0.0308s  35.09% 
  Avg. Gaussian Time  : 0.0447s  50.90% 
  Avg. Iteration Time : 0.0878s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
big value: 7910.624197
big value: -22114.922949
Level     2,  Iter     0:    Energy =   0.0262
Level     2,  Iter     1:    Energy =   0.0260
Level     2,  Iter     2:    Energy =   0.0265
Level     2,  Iter     3:    Energy =   0.0269
Level     2,  Iter     4:    Energy =   0.0273
Level     2,  Iter     5:    Energy =   0.0277
Level     2,  Iter     6:    Energy =   0.0281
Level     2,  Iter     7:    Energy =   0.0284
big value: 23574.128595
big value: -58364.601581
big value: 360511.120227
Level     2,  Iter     8:    Energy =   0.0282
Level     2,  Iter     9:    Energy =   0.0277
Level     2,  Iter    10:    Energy =   0.0281
Level     2,  Iter    11:    Energy =   0.0285
Level     2,  Iter    12:    Energy =   0.0289
big value: 1071.238117
big value: 2746.935381
Level     2,  Iter    13:    Energy =   0.0293
Level     2,  Iter    14:    Energy =   0.0287
Level     2,  Iter    15:    Energy =   0.0284
Level     2,  Iter    16:    Energy =   0.0281
Level     2,  Iter    17:    Energy =   0.0279
Level     2,  Iter    18:    Energy =   0.0284
Level     2,  Iter    19:    Energy =   0.0289
END OF LEVEL     2    DetJac Range:   0.0458  to   3.1287 
  Avg. Gradient Time  : 0.2011s  34.01% 
  Avg. Gaussian Time  : 0.3126s  52.88% 
  Avg. Iteration Time : 0.5911s 

real	0m21.309s
user	0m36.324s
sys	0m2.796s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train001/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train001/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train001/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train001/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train001/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=36 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=36 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.354286 0.358571
+ echo 'CHUNK 0.354286 0.358571 1'
CHUNK 0.354286 0.358571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.354286 0.358571 1
====================================
         PROGRESS: 0.354286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=002
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 002
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train002
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train002
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right 002 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train002 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=right
+ local tid=002
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train002
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 002 right 0
+ local tid=002
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 002 0
+ set -e
+ local tid=002
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.783, moving = 0.569
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 56.8521   GNORM= 136.653
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -341.805      83.211       0.037
   2    5      -359.216      75.845       0.285
   3    6      -387.083      55.245       1.000
   4    7      -433.693      37.791       1.000
   5    8      -468.621     106.223       1.000
   6    9      -526.542      39.427       1.000
   7   10      -533.972      31.989       1.000
   8   11      -542.538      39.468       1.000
   9   12      -567.249      76.895       1.000
  10   13      -589.724      57.168       1.000
  11   15      -605.886      35.084       0.492
  12   16      -613.083      22.855       1.000
  13   18      -614.746      45.733       0.448
  14   19      -617.801      27.924       1.000
  15   20      -619.896      17.324       1.000
  16   22      -620.322      12.340       0.180
  17   23      -622.561      15.629       1.000
  18   25      -626.903      28.331       0.387
  19   26      -627.270      65.707       1.000
  20   27      -631.540      42.277       1.000
  21   28      -636.249      37.049       1.000
  22   30      -647.546      31.051       5.000
  23   32      -663.573      51.294       0.160
  24   34      -677.740      68.620       0.288
  25   35      -694.319     100.190       1.000
  26   36      -705.815      31.741       1.000
  27   37      -715.533      44.617       1.000
  28   39      -732.897      60.072       0.085
  29   42      -791.841     117.593       0.594
  30   43      -794.818      78.130       1.000
  31   44      -842.067      92.739       1.000
  32   46      -887.767     119.104       0.330
  33   47      -914.837     122.326       1.000
  34   49      -935.464      74.579       0.381
  35   50      -943.213      38.294       1.000
  36   51      -945.731      32.259       1.000
  37   52      -949.781      35.303       1.000
  38   53      -963.270      48.459       1.000
  39   54      -971.143      41.264       1.000
  40   55      -973.602      30.928       1.000
  41   56      -975.571      28.062       1.000
  42   57      -976.203      17.713       1.000
  43   58      -976.916      19.894       1.000
  44   60      -977.284      20.065       0.083
  45   61      -977.692      45.471       1.000
Final RAS Transform: 
1.00802 -0.0862111 0.0726529 -1.72021 
0.172962 0.99923 0.111328 6.03944 
0.311578 -0.182708 0.395566 -20.1068 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -503.381   GNORM= 64.1118
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -512.798      17.982       0.004
   2    4      -514.173      18.770       1.000
   3    5      -517.493      33.624       1.000
   4    6      -529.466      44.010       1.000
   5    8      -535.531      52.492       0.256
   6   10      -536.129      63.361       0.095
   7   11      -541.658      34.000       1.000
   8   12      -546.840      21.127       1.000
   9   13      -554.101      41.554       1.000
  10   14      -559.841      71.265       1.000
  11   15      -571.791      86.031       1.000
  12   16      -576.702      33.996       1.000
  13   17      -586.674      27.087       1.000
  14   18      -589.416      13.183       1.000
  15   19      -591.640      10.337       1.000
  16   21      -595.170      17.139       0.428
  17   22      -597.647      16.976       1.000
  18   23      -599.429      19.837       1.000
  19   24      -600.736      21.266       1.000
  20   25      -603.798      16.532       1.000
  21   26      -611.872      17.516       1.000
  22   27      -617.809      31.252       1.000
  23   28      -620.806      17.768       1.000
  24   29      -622.733      20.986       1.000
  25   31      -623.421      12.967       0.316
  26   32      -623.783      10.920       1.000
  27   33      -624.028      29.769       1.000
  28   34      -625.780      12.107       1.000
  29   35      -626.614      11.859       1.000
  30   36      -628.862      31.778       1.000
  31   37      -629.282      36.030       1.000
  32   38      -632.994      17.012       1.000
  33   39      -633.628      16.576       1.000
  34   40      -634.089      14.185       1.000
  35   42      -635.811      18.396       5.000
  36   43      -637.382      21.259       1.000
  37   44      -638.790      26.228       1.000
  38   45      -641.558      27.021       1.000
  39   46      -645.710      13.865       1.000
  40   47      -649.062      22.487       1.000
  41   49      -649.676      15.022       0.422
  42   50      -650.366      14.210       1.000
  43   51      -650.763      15.800       1.000
  44   52      -652.101      13.287       1.000
  45   53      -654.256      14.740       1.000
  46   54      -655.763      16.584       1.000
  47   55      -656.705       6.826       1.000
  48   56      -656.899       4.000       1.000
  49   57      -656.970       7.342       1.000
  50   58      -657.109       4.362       1.000
  51   59      -657.322      16.143       1.000
  52   60      -657.791      12.162       1.000
Final RAS Transform: 
0.933034 -0.04217 0.143546 1.34675 
0.27776 1.07453 0.227312 2.24209 
0.328674 -0.0947962 0.47866 -19.2935 
0 0 0 1 

Final RAS Transform: 
0.933034 -0.04217 0.143546 1.34675 
0.27776 1.07453 0.227312 2.24209 
0.328674 -0.0947962 0.47866 -19.2935 
0 0 0 1 


real	0m6.740s
user	0m11.056s
sys	0m0.824s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.783, moving = 0.501577
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0247
Level     0,  Iter     1:    Energy =   0.0282
Level     0,  Iter     2:    Energy =   0.0313
Level     0,  Iter     3:    Energy =   0.0340
Level     0,  Iter     4:    Energy =   0.0363
Level     0,  Iter     5:    Energy =   0.0386
Level     0,  Iter     6:    Energy =   0.0403
Level     0,  Iter     7:    Energy =   0.0417
Level     0,  Iter     8:    Energy =   0.0428
Level     0,  Iter     9:    Energy =   0.0436
Level     0,  Iter    10:    Energy =   0.0445
Level     0,  Iter    11:    Energy =   0.0453
Level     0,  Iter    12:    Energy =   0.0460
Level     0,  Iter    13:    Energy =   0.0466
Level     0,  Iter    14:    Energy =   0.0473
Level     0,  Iter    15:    Energy =   0.0479
Level     0,  Iter    16:    Energy =   0.0485
Level     0,  Iter    17:    Energy =   0.0489
Level     0,  Iter    18:    Energy =   0.0493
Level     0,  Iter    19:    Energy =   0.0497
Level     0,  Iter    20:    Energy =   0.0501
Level     0,  Iter    21:    Energy =   0.0504
Level     0,  Iter    22:    Energy =   0.0508
Level     0,  Iter    23:    Energy =   0.0510
Level     0,  Iter    24:    Energy =   0.0512
Level     0,  Iter    25:    Energy =   0.0514
Level     0,  Iter    26:    Energy =   0.0516
Level     0,  Iter    27:    Energy =   0.0518
Level     0,  Iter    28:    Energy =   0.0520
Level     0,  Iter    29:    Energy =   0.0521
Level     0,  Iter    30:    Energy =   0.0523
Level     0,  Iter    31:    Energy =   0.0525
Level     0,  Iter    32:    Energy =   0.0526
Level     0,  Iter    33:    Energy =   0.0528
Level     0,  Iter    34:    Energy =   0.0529
Level     0,  Iter    35:    Energy =   0.0531
Level     0,  Iter    36:    Energy =   0.0532
Level     0,  Iter    37:    Energy =   0.0533
Level     0,  Iter    38:    Energy =   0.0535
Level     0,  Iter    39:    Energy =   0.0536
Level     0,  Iter    40:    Energy =   0.0537
Level     0,  Iter    41:    Energy =   0.0538
Level     0,  Iter    42:    Energy =   0.0539
Level     0,  Iter    43:    Energy =   0.0540
Level     0,  Iter    44:    Energy =   0.0542
Level     0,  Iter    45:    Energy =   0.0543
Level     0,  Iter    46:    Energy =   0.0545
Level     0,  Iter    47:    Energy =   0.0546
Level     0,  Iter    48:    Energy =   0.0547
Level     0,  Iter    49:    Energy =   0.0549
Level     0,  Iter    50:    Energy =   0.0550
Level     0,  Iter    51:    Energy =   0.0551
Level     0,  Iter    52:    Energy =   0.0553
Level     0,  Iter    53:    Energy =   0.0554
Level     0,  Iter    54:    Energy =   0.0556
Level     0,  Iter    55:    Energy =   0.0556
Level     0,  Iter    56:    Energy =   0.0557
Level     0,  Iter    57:    Energy =   0.0558
Level     0,  Iter    58:    Energy =   0.0559
Level     0,  Iter    59:    Energy =   0.0559
END OF LEVEL     0    DetJac Range:   0.0332  to   2.8584 
  Avg. Gradient Time  : 0.0080s  33.83% 
  Avg. Gaussian Time  : 0.0113s  47.89% 
  Avg. Iteration Time : 0.0237s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0340
Level     1,  Iter     1:    Energy =   0.0363
Level     1,  Iter     2:    Energy =   0.0385
Level     1,  Iter     3:    Energy =   0.0403
Level     1,  Iter     4:    Energy =   0.0416
Level     1,  Iter     5:    Energy =   0.0426
Level     1,  Iter     6:    Energy =   0.0436
Level     1,  Iter     7:    Energy =   0.0445
Level     1,  Iter     8:    Energy =   0.0455
Level     1,  Iter     9:    Energy =   0.0465
Level     1,  Iter    10:    Energy =   0.0475
Level     1,  Iter    11:    Energy =   0.0485
Level     1,  Iter    12:    Energy =   0.0494
Level     1,  Iter    13:    Energy =   0.0503
Level     1,  Iter    14:    Energy =   0.0510
Level     1,  Iter    15:    Energy =   0.0518
Level     1,  Iter    16:    Energy =   0.0525
Level     1,  Iter    17:    Energy =   0.0530
Level     1,  Iter    18:    Energy =   0.0534
Level     1,  Iter    19:    Energy =   0.0537
Level     1,  Iter    20:    Energy =   0.0540
Level     1,  Iter    21:    Energy =   0.0542
Level     1,  Iter    22:    Energy =   0.0544
Level     1,  Iter    23:    Energy =   0.0546
Level     1,  Iter    24:    Energy =   0.0548
Level     1,  Iter    25:    Energy =   0.0550
Level     1,  Iter    26:    Energy =   0.0551
Level     1,  Iter    27:    Energy =   0.0551
Level     1,  Iter    28:    Energy =   0.0552
Level     1,  Iter    29:    Energy =   0.0552
Level     1,  Iter    30:    Energy =   0.0552
Level     1,  Iter    31:    Energy =   0.0553
Level     1,  Iter    32:    Energy =   0.0553
Level     1,  Iter    33:    Energy =   0.0553
Level     1,  Iter    34:    Energy =   0.0554
Level     1,  Iter    35:    Energy =   0.0554
Level     1,  Iter    36:    Energy =   0.0554
Level     1,  Iter    37:    Energy =   0.0555
Level     1,  Iter    38:    Energy =   0.0555
Level     1,  Iter    39:    Energy =   0.0556
Level     1,  Iter    40:    Energy =   0.0556
Level     1,  Iter    41:    Energy =   0.0557
Level     1,  Iter    42:    Energy =   0.0558
Level     1,  Iter    43:    Energy =   0.0559
Level     1,  Iter    44:    Energy =   0.0559
Level     1,  Iter    45:    Energy =   0.0560
Level     1,  Iter    46:    Energy =   0.0561
Level     1,  Iter    47:    Energy =   0.0562
Level     1,  Iter    48:    Energy =   0.0562
Level     1,  Iter    49:    Energy =   0.0563
Level     1,  Iter    50:    Energy =   0.0563
Level     1,  Iter    51:    Energy =   0.0562
Level     1,  Iter    52:    Energy =   0.0561
Level     1,  Iter    53:    Energy =   0.0560
Level     1,  Iter    54:    Energy =   0.0559
Level     1,  Iter    55:    Energy =   0.0558
Level     1,  Iter    56:    Energy =   0.0557
Level     1,  Iter    57:    Energy =   0.0556
Level     1,  Iter    58:    Energy =   0.0556
Level     1,  Iter    59:    Energy =   0.0556
END OF LEVEL     1    DetJac Range:   0.0188  to   2.9468 
  Avg. Gradient Time  : 0.0322s  35.26% 
  Avg. Gaussian Time  : 0.0463s  50.68% 
  Avg. Iteration Time : 0.0913s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0254
Level     2,  Iter     1:    Energy =   0.0264
Level     2,  Iter     2:    Energy =   0.0273
Level     2,  Iter     3:    Energy =   0.0279
Level     2,  Iter     4:    Energy =   0.0285
Level     2,  Iter     5:    Energy =   0.0290
Level     2,  Iter     6:    Energy =   0.0295
Level     2,  Iter     7:    Energy =   0.0299
Level     2,  Iter     8:    Energy =   0.0303
Level     2,  Iter     9:    Energy =   0.0307
Level     2,  Iter    10:    Energy =   0.0311
Level     2,  Iter    11:    Energy =   0.0315
Level     2,  Iter    12:    Energy =   0.0318
Level     2,  Iter    13:    Energy =   0.0322
Level     2,  Iter    14:    Energy =   0.0326
Level     2,  Iter    15:    Energy =   0.0328
Level     2,  Iter    16:    Energy =   0.0330
Level     2,  Iter    17:    Energy =   0.0332
Level     2,  Iter    18:    Energy =   0.0334
Level     2,  Iter    19:    Energy =   0.0336
END OF LEVEL     2    DetJac Range:   0.0225  to   2.7648 
  Avg. Gradient Time  : 0.2015s  33.73% 
  Avg. Gaussian Time  : 0.3179s  53.21% 
  Avg. Iteration Time : 0.5975s 

real	0m21.809s
user	0m37.084s
sys	0m2.876s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train002/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train002/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train002/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train002/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train002/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ awk -v bs=0.2 -v be=0.5 -v j=37 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
++ echo 1
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=37 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.358571 0.362857
+ echo 'CHUNK 0.358571 0.362857 1'
CHUNK 0.358571 0.362857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.358571 0.362857 1
====================================
         PROGRESS: 0.358571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=003
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 003
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train003
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train003
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right 003 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train003 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=right
+ local tid=003
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train003
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 003 right 0
+ local tid=003
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 003 0
+ set -e
+ local tid=003
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.783, moving = 0.673
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 154.677   GNORM= 161.034
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2        15.562     142.556       0.006
   2    3       -60.709     134.118       1.000
   3    4      -236.751     160.573       1.000
   4    6      -312.328      81.821       0.277
   5    7      -370.289      82.687       1.000
   6    9      -408.063      78.872       0.198
   7   11      -419.098      74.057       0.254
   8   12      -440.340      51.947       1.000
   9   13      -472.913      71.333       1.000
  10   14      -555.988      84.431       1.000
  11   15      -653.705      43.769       1.000
  12   16      -673.239     119.391       1.000
  13   17      -711.789      28.014       1.000
  14   18      -718.462      37.612       1.000
  15   20      -736.640      34.212       0.251
  16   22      -742.184      32.403       0.183
  17   23      -756.130      42.881       1.000
  18   24      -805.391      40.599       1.000
  19   26      -836.963      41.117       0.484
  20   27      -848.560      32.033       1.000
  21   28      -855.163      37.940       1.000
  22   29      -880.043      70.840       1.000
  23   30      -900.806      49.620       1.000
  24   31      -911.953      38.318       1.000
  25   32      -915.314      46.890       1.000
  26   33      -926.827      33.731       1.000
  27   34      -934.448      33.913       1.000
  28   35      -939.628      18.622       1.000
  29   36      -942.546      16.845       1.000
  30   37      -954.211      22.009       1.000
  31   40      -956.335      25.296       0.039
  32   41      -960.944      19.651       1.000
  33   42      -969.802      39.965       1.000
  34   44      -978.617      45.782       0.469
  35   45      -982.770      25.796       1.000
  36   48      -986.087      20.764       1.976
  37   49      -986.495      32.398       1.000
  38   50      -990.713      30.740       1.000
  39   51      -994.226      30.928       1.000
  40   52      -996.958      23.211       1.000
  41   53      -999.433      12.905       1.000
  42   54     -1001.658      14.444       1.000
  43   56     -1003.367      18.861       0.400
  44   57     -1004.223      18.116       1.000
  45   58     -1005.212      25.154       1.000
  46   59     -1005.743      10.470       1.000
  47   60     -1005.772       7.673       1.000
  48   61     -1005.874       8.093       1.000
Final RAS Transform: 
1.04446 0.0280072 0.0550897 -1.10069 
0.233044 1.30657 0.537795 9.92777 
-0.442538 -0.498582 0.382129 -1.48977 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -566.314   GNORM= 23.2779
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -589.729      57.157       0.043
   2    3      -599.377      43.937       1.000
   3    4      -606.176      38.322       1.000
   4    5      -608.931      16.249       1.000
   5    6      -610.213       9.979       1.000
   6    8      -610.338      14.519       0.235
   7    9      -610.627      11.236       1.000
   8   10      -611.252       8.793       1.000
   9   11      -612.682      22.228       1.000
  10   12      -613.756      24.205       1.000
  11   13      -616.071      17.010       1.000
  12   14      -616.500      19.240       1.000
  13   15      -619.032       7.659       1.000
  14   17      -619.309       9.663       0.472
  15   18      -619.884      10.104       1.000
  16   19      -621.444      32.817       1.000
  17   20      -626.431      23.683       1.000
  18   22      -629.638      13.830       0.512
  19   23      -630.384       8.614       1.000
  20   25      -630.616      13.612       0.051
  21   26      -631.226      14.126       1.000
  22   27      -632.163      23.506       1.000
  23   28      -634.677      21.522       1.000
  24   29      -639.144      19.085       1.000
  25   30      -640.543      17.124       1.000
  26   31      -641.260      13.467       1.000
  27   33      -642.587      15.044       0.453
  28   34      -643.627      13.717       1.000
  29   35      -645.704      18.472       1.000
  30   36      -646.426       6.159       1.000
  31   37      -646.846       6.541       1.000
  32   38      -647.121       5.554       1.000
  33   39      -647.141       9.902       1.000
  34   40      -647.305       6.434       1.000
  35   41      -647.559       3.314       1.000
  36   42      -647.809       5.881       1.000
  37   43      -648.028       3.921       1.000
  38   45      -648.190       3.488       0.465
  39   47      -648.210       4.390       0.146
  40   48      -648.210       5.841       1.000
  41   49      -648.221       3.171       1.000
  42   50      -648.248       2.468       1.000
  43   52      -648.249       2.347       0.276
  44   53      -648.259       1.832       1.000
  45   54      -648.305       1.671       1.000
  46   56      -648.411       4.656       0.501
  47   58      -648.428       4.080       0.464
  48   59      -648.453       3.581       1.000
  49   60      -648.456       1.528       1.000
  50   61      -648.471       1.395       1.000
Final RAS Transform: 
1.06394 -0.000511606 0.0582616 -0.379894 
0.159536 1.19625 0.482155 10.6158 
-0.375146 -0.444704 0.422548 -2.05621 
0 0 0 1 

Final RAS Transform: 
1.06394 -0.000511606 0.0582616 -0.379894 
0.159536 1.19625 0.482155 10.6158 
-0.375146 -0.444704 0.422548 -2.05621 
0 0 0 1 


real	0m6.810s
user	0m11.032s
sys	0m0.956s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.783, moving = 0.545472
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0254
Level     0,  Iter     1:    Energy =   0.0274
Level     0,  Iter     2:    Energy =   0.0302
Level     0,  Iter     3:    Energy =   0.0328
Level     0,  Iter     4:    Energy =   0.0350
Level     0,  Iter     5:    Energy =   0.0373
Level     0,  Iter     6:    Energy =   0.0395
Level     0,  Iter     7:    Energy =   0.0410
Level     0,  Iter     8:    Energy =   0.0426
Level     0,  Iter     9:    Energy =   0.0438
Level     0,  Iter    10:    Energy =   0.0449
Level     0,  Iter    11:    Energy =   0.0458
Level     0,  Iter    12:    Energy =   0.0466
Level     0,  Iter    13:    Energy =   0.0470
Level     0,  Iter    14:    Energy =   0.0475
Level     0,  Iter    15:    Energy =   0.0479
Level     0,  Iter    16:    Energy =   0.0484
Level     0,  Iter    17:    Energy =   0.0486
Level     0,  Iter    18:    Energy =   0.0491
Level     0,  Iter    19:    Energy =   0.0492
Level     0,  Iter    20:    Energy =   0.0495
Level     0,  Iter    21:    Energy =   0.0497
Level     0,  Iter    22:    Energy =   0.0498
Level     0,  Iter    23:    Energy =   0.0500
Level     0,  Iter    24:    Energy =   0.0501
Level     0,  Iter    25:    Energy =   0.0502
Level     0,  Iter    26:    Energy =   0.0504
Level     0,  Iter    27:    Energy =   0.0504
Level     0,  Iter    28:    Energy =   0.0506
Level     0,  Iter    29:    Energy =   0.0506
Level     0,  Iter    30:    Energy =   0.0508
Level     0,  Iter    31:    Energy =   0.0507
Level     0,  Iter    32:    Energy =   0.0510
Level     0,  Iter    33:    Energy =   0.0510
Level     0,  Iter    34:    Energy =   0.0512
Level     0,  Iter    35:    Energy =   0.0510
Level     0,  Iter    36:    Energy =   0.0513
Level     0,  Iter    37:    Energy =   0.0513
Level     0,  Iter    38:    Energy =   0.0514
Level     0,  Iter    39:    Energy =   0.0516
Level     0,  Iter    40:    Energy =   0.0518
Level     0,  Iter    41:    Energy =   0.0520
Level     0,  Iter    42:    Energy =   0.0520
Level     0,  Iter    43:    Energy =   0.0521
Level     0,  Iter    44:    Energy =   0.0521
Level     0,  Iter    45:    Energy =   0.0521
Level     0,  Iter    46:    Energy =   0.0519
Level     0,  Iter    47:    Energy =   0.0518
Level     0,  Iter    48:    Energy =   0.0518
Level     0,  Iter    49:    Energy =   0.0519
Level     0,  Iter    50:    Energy =   0.0519
Level     0,  Iter    51:    Energy =   0.0521
Level     0,  Iter    52:    Energy =   0.0520
Level     0,  Iter    53:    Energy =   0.0522
Level     0,  Iter    54:    Energy =   0.0523
Level     0,  Iter    55:    Energy =   0.0524
Level     0,  Iter    56:    Energy =   0.0522
Level     0,  Iter    57:    Energy =   0.0522
Level     0,  Iter    58:    Energy =   0.0522
Level     0,  Iter    59:    Energy =   0.0524
END OF LEVEL     0    DetJac Range:   0.0778  to   3.2583 
  Avg. Gradient Time  : 0.0082s  33.97% 
  Avg. Gaussian Time  : 0.0115s  47.74% 
  Avg. Iteration Time : 0.0241s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0330
Level     1,  Iter     1:    Energy =   0.0347
Level     1,  Iter     2:    Energy =   0.0365
Level     1,  Iter     3:    Energy =   0.0383
Level     1,  Iter     4:    Energy =   0.0396
Level     1,  Iter     5:    Energy =   0.0407
Level     1,  Iter     6:    Energy =   0.0417
Level     1,  Iter     7:    Energy =   0.0425
Level     1,  Iter     8:    Energy =   0.0432
Level     1,  Iter     9:    Energy =   0.0438
Level     1,  Iter    10:    Energy =   0.0444
Level     1,  Iter    11:    Energy =   0.0449
Level     1,  Iter    12:    Energy =   0.0454
Level     1,  Iter    13:    Energy =   0.0457
Level     1,  Iter    14:    Energy =   0.0460
Level     1,  Iter    15:    Energy =   0.0463
Level     1,  Iter    16:    Energy =   0.0466
Level     1,  Iter    17:    Energy =   0.0469
Level     1,  Iter    18:    Energy =   0.0471
Level     1,  Iter    19:    Energy =   0.0473
Level     1,  Iter    20:    Energy =   0.0475
Level     1,  Iter    21:    Energy =   0.0477
Level     1,  Iter    22:    Energy =   0.0479
Level     1,  Iter    23:    Energy =   0.0480
Level     1,  Iter    24:    Energy =   0.0480
Level     1,  Iter    25:    Energy =   0.0481
Level     1,  Iter    26:    Energy =   0.0481
Level     1,  Iter    27:    Energy =   0.0482
Level     1,  Iter    28:    Energy =   0.0482
Level     1,  Iter    29:    Energy =   0.0483
Level     1,  Iter    30:    Energy =   0.0484
Level     1,  Iter    31:    Energy =   0.0485
Level     1,  Iter    32:    Energy =   0.0486
Level     1,  Iter    33:    Energy =   0.0487
Level     1,  Iter    34:    Energy =   0.0488
Level     1,  Iter    35:    Energy =   0.0489
Level     1,  Iter    36:    Energy =   0.0489
Level     1,  Iter    37:    Energy =   0.0491
Level     1,  Iter    38:    Energy =   0.0491
Level     1,  Iter    39:    Energy =   0.0493
Level     1,  Iter    40:    Energy =   0.0493
Level     1,  Iter    41:    Energy =   0.0494
Level     1,  Iter    42:    Energy =   0.0495
Level     1,  Iter    43:    Energy =   0.0496
Level     1,  Iter    44:    Energy =   0.0496
Level     1,  Iter    45:    Energy =   0.0497
Level     1,  Iter    46:    Energy =   0.0498
Level     1,  Iter    47:    Energy =   0.0499
Level     1,  Iter    48:    Energy =   0.0499
Level     1,  Iter    49:    Energy =   0.0500
Level     1,  Iter    50:    Energy =   0.0500
Level     1,  Iter    51:    Energy =   0.0500
Level     1,  Iter    52:    Energy =   0.0501
Level     1,  Iter    53:    Energy =   0.0500
Level     1,  Iter    54:    Energy =   0.0500
Level     1,  Iter    55:    Energy =   0.0500
Level     1,  Iter    56:    Energy =   0.0500
Level     1,  Iter    57:    Energy =   0.0500
Level     1,  Iter    58:    Energy =   0.0500
Level     1,  Iter    59:    Energy =   0.0501
END OF LEVEL     1    DetJac Range:   0.0343  to   4.7106 
  Avg. Gradient Time  : 0.0314s  34.85% 
  Avg. Gaussian Time  : 0.0460s  51.00% 
  Avg. Iteration Time : 0.0902s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0240
Level     2,  Iter     1:    Energy =   0.0249
Level     2,  Iter     2:    Energy =   0.0257
Level     2,  Iter     3:    Energy =   0.0263
Level     2,  Iter     4:    Energy =   0.0269
Level     2,  Iter     5:    Energy =   0.0273
Level     2,  Iter     6:    Energy =   0.0277
Level     2,  Iter     7:    Energy =   0.0280
Level     2,  Iter     8:    Energy =   0.0283
Level     2,  Iter     9:    Energy =   0.0286
Level     2,  Iter    10:    Energy =   0.0288
Level     2,  Iter    11:    Energy =   0.0291
Level     2,  Iter    12:    Energy =   0.0294
Level     2,  Iter    13:    Energy =   0.0297
Level     2,  Iter    14:    Energy =   0.0300
Level     2,  Iter    15:    Energy =   0.0303
Level     2,  Iter    16:    Energy =   0.0305
Level     2,  Iter    17:    Energy =   0.0307
Level     2,  Iter    18:    Energy =   0.0309
Level     2,  Iter    19:    Energy =   0.0311
END OF LEVEL     2    DetJac Range:   0.0333  to   4.1922 
  Avg. Gradient Time  : 0.2060s  34.16% 
  Avg. Gaussian Time  : 0.3183s  52.78% 
  Avg. Iteration Time : 0.6030s 

real	0m21.819s
user	0m36.788s
sys	0m3.260s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train003/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train003/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train003/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train003/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train003/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=38 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=38 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.362857 0.367143
+ echo 'CHUNK 0.362857 0.367143 1'
CHUNK 0.362857 0.367143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.362857 0.367143 1
====================================
         PROGRESS: 0.362857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=004
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 004
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train004
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train004
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right 004 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train004 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=right
+ local tid=004
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train004
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 004 right 0
+ local tid=004
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 004 0
+ set -e
+ local tid=004
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.783, moving = 0.532
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 58.7825   GNORM= 250.12
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -168.174     174.569       0.004
   2    3      -338.518     164.185       1.000
   3    4      -414.479      61.898       1.000
   4    5      -449.340      53.163       1.000
   5    7      -457.329      46.586       0.167
   6    9      -530.267      54.611       5.000
   7   10      -619.098      73.153       1.000
   8   12      -635.681      54.039       0.450
   9   13      -646.244      41.281       1.000
  10   14      -657.054     107.907       1.000
  11   15      -678.198      65.719       1.000
  12   16      -701.936      95.528       1.000
  13   17      -711.199      63.757       1.000
  14   18      -726.353      32.774       1.000
  15   19      -734.174      28.029       1.000
  16   20      -735.852      42.557       1.000
  17   21      -740.440      23.061       1.000
  18   22      -746.292      19.037       1.000
  19   23      -760.229      56.419       1.000
  20   24      -795.629     155.435       1.000
  21   26      -808.950     199.305       0.112
  22   27      -850.313     284.315       1.000
  23   28      -888.537     108.106       1.000
  24   30      -930.111     105.233       0.395
  25   31      -952.169      46.636       1.000
  26   32      -961.742      40.361       1.000
  27   33      -975.396      46.507       1.000
  28   34     -1019.548      43.614       1.000
  29   36     -1029.736      52.720       0.109
  30   37     -1037.439      48.119       1.000
  31   38     -1041.338      40.277       1.000
  32   39     -1043.441      37.662       1.000
  33   40     -1050.347      48.287       1.000
  34   41     -1052.436      69.512       1.000
  35   42     -1063.499      34.148       1.000
  36   43     -1069.643      28.848       1.000
  37   44     -1077.022      64.277       1.000
  38   45     -1082.657      46.504       1.000
  39   46     -1089.072      71.610       1.000
  40   47     -1094.472      51.249       1.000
  41   48     -1096.659      21.030       1.000
  42   49     -1097.332      30.784       1.000
  43   50     -1098.308      14.342       1.000
  44   52     -1099.382      16.791       0.400
  45   53     -1100.965      12.569       1.000
  46   54     -1102.357      22.512       1.000
  47   55     -1103.691      10.416       1.000
  48   57     -1103.967      15.165       0.488
  49   58     -1104.226       7.126       1.000
  50   59     -1104.889      12.020       1.000
  51   60     -1105.246      17.816       1.000
  52   61     -1105.931      11.078       1.000
Final RAS Transform: 
0.990283 -0.0935344 -0.0498322 -3.66338 
0.0297927 0.947739 0.445003 18.4945 
0.297745 -0.0810429 0.466602 -21.9797 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -717.621   GNORM= 66.117
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -723.484      21.053       0.002
   2    4      -724.893      20.420       1.000
   3    5      -728.423      42.420       1.000
   4    6      -735.389      51.558       1.000
   5    8      -743.481     118.058       0.313
   6    9      -758.022      86.745       1.000
   7   10      -775.339      18.252       1.000
   8   11      -776.304       8.167       1.000
   9   12      -776.677       8.790       1.000
  10   13      -777.907      57.843       1.000
  11   14      -780.403      34.840       1.000
  12   16      -782.352      15.633       0.525
  13   17      -784.003      17.640       1.000
  14   19      -785.756      15.557       0.409
  15   20      -786.361       7.086       1.000
  16   21      -786.832      10.365       1.000
  17   22      -787.516      14.637       1.000
  18   24      -788.097      29.043       0.268
  19   25      -789.222      12.073       1.000
  20   26      -789.745      10.092       1.000
  21   28      -789.994       9.006       0.356
  22   29      -790.185       4.362       1.000
  23   30      -790.335       6.706       1.000
  24   31      -790.643       6.773       1.000
  25   33      -790.981       9.464       0.305
  26   34      -791.347       7.916       1.000
  27   35      -791.556      10.480       1.000
  28   36      -791.740      10.656       1.000
  29   38      -792.301       8.138       0.362
  30   40      -792.639      17.515       5.000
  31   42      -792.809       4.781       0.407
  32   43      -792.823       2.815       1.000
  33   44      -792.878       3.495       1.000
  34   45      -792.918       5.508       1.000
  35   46      -793.055       7.474       1.000
  36   48      -793.290       6.755       0.254
  37   49      -793.369       9.052       1.000
  38   50      -793.456       7.567       1.000
  39   52      -793.511       4.398       0.277
  40   53      -793.546       3.631       1.000
  41   55      -793.561       2.995       0.124
  42   56      -793.568       2.198       1.000
  43   57      -793.575       1.445       1.000
  44   58      -793.579       1.947       1.000
  45   59      -793.592       1.863       1.000
  46   61      -793.599       1.073       0.153
Final RAS Transform: 
0.988875 -0.0650734 0.0156836 -2.57484 
0.0382072 1.01239 0.51688 17.8412 
0.329459 -0.0815855 0.53398 -21.0739 
0 0 0 1 

Final RAS Transform: 
0.988875 -0.0650734 0.0156836 -2.57484 
0.0382072 1.01239 0.51688 17.8412 
0.329459 -0.0815855 0.53398 -21.0739 
0 0 0 1 


real	0m6.493s
user	0m10.608s
sys	0m0.856s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.783, moving = 0.440624
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0306
Level     0,  Iter     1:    Energy =   0.0342
Level     0,  Iter     2:    Energy =   0.0371
Level     0,  Iter     3:    Energy =   0.0401
Level     0,  Iter     4:    Energy =   0.0430
Level     0,  Iter     5:    Energy =   0.0454
Level     0,  Iter     6:    Energy =   0.0470
Level     0,  Iter     7:    Energy =   0.0486
Level     0,  Iter     8:    Energy =   0.0489
Level     0,  Iter     9:    Energy =   0.0497
Level     0,  Iter    10:    Energy =   0.0496
Level     0,  Iter    11:    Energy =   0.0502
Level     0,  Iter    12:    Energy =   0.0500
Level     0,  Iter    13:    Energy =   0.0506
Level     0,  Iter    14:    Energy =   0.0504
Level     0,  Iter    15:    Energy =   0.0509
Level     0,  Iter    16:    Energy =   0.0506
Level     0,  Iter    17:    Energy =   0.0511
Level     0,  Iter    18:    Energy =   0.0508
Level     0,  Iter    19:    Energy =   0.0513
Level     0,  Iter    20:    Energy =   0.0510
Level     0,  Iter    21:    Energy =   0.0515
Level     0,  Iter    22:    Energy =   0.0512
Level     0,  Iter    23:    Energy =   0.0517
Level     0,  Iter    24:    Energy =   0.0514
Level     0,  Iter    25:    Energy =   0.0519
Level     0,  Iter    26:    Energy =   0.0515
Level     0,  Iter    27:    Energy =   0.0520
Level     0,  Iter    28:    Energy =   0.0516
Level     0,  Iter    29:    Energy =   0.0521
Level     0,  Iter    30:    Energy =   0.0518
Level     0,  Iter    31:    Energy =   0.0522
Level     0,  Iter    32:    Energy =   0.0519
Level     0,  Iter    33:    Energy =   0.0523
Level     0,  Iter    34:    Energy =   0.0520
Level     0,  Iter    35:    Energy =   0.0524
Level     0,  Iter    36:    Energy =   0.0521
Level     0,  Iter    37:    Energy =   0.0525
Level     0,  Iter    38:    Energy =   0.0522
Level     0,  Iter    39:    Energy =   0.0526
Level     0,  Iter    40:    Energy =   0.0522
Level     0,  Iter    41:    Energy =   0.0527
Level     0,  Iter    42:    Energy =   0.0523
Level     0,  Iter    43:    Energy =   0.0527
Level     0,  Iter    44:    Energy =   0.0524
Level     0,  Iter    45:    Energy =   0.0528
Level     0,  Iter    46:    Energy =   0.0524
Level     0,  Iter    47:    Energy =   0.0528
Level     0,  Iter    48:    Energy =   0.0524
Level     0,  Iter    49:    Energy =   0.0529
Level     0,  Iter    50:    Energy =   0.0525
Level     0,  Iter    51:    Energy =   0.0529
Level     0,  Iter    52:    Energy =   0.0525
Level     0,  Iter    53:    Energy =   0.0529
Level     0,  Iter    54:    Energy =   0.0525
Level     0,  Iter    55:    Energy =   0.0529
Level     0,  Iter    56:    Energy =   0.0526
Level     0,  Iter    57:    Energy =   0.0530
Level     0,  Iter    58:    Energy =   0.0526
Level     0,  Iter    59:    Energy =   0.0530
END OF LEVEL     0    DetJac Range:   0.2513  to   1.6884 
  Avg. Gradient Time  : 0.0079s  33.62% 
  Avg. Gaussian Time  : 0.0114s  48.34% 
  Avg. Iteration Time : 0.0235s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0357
Level     1,  Iter     1:    Energy =   0.0383
Level     1,  Iter     2:    Energy =   0.0405
Level     1,  Iter     3:    Energy =   0.0425
Level     1,  Iter     4:    Energy =   0.0446
Level     1,  Iter     5:    Energy =   0.0466
Level     1,  Iter     6:    Energy =   0.0483
Level     1,  Iter     7:    Energy =   0.0499
Level     1,  Iter     8:    Energy =   0.0512
Level     1,  Iter     9:    Energy =   0.0523
Level     1,  Iter    10:    Energy =   0.0533
Level     1,  Iter    11:    Energy =   0.0541
Level     1,  Iter    12:    Energy =   0.0548
Level     1,  Iter    13:    Energy =   0.0555
Level     1,  Iter    14:    Energy =   0.0560
Level     1,  Iter    15:    Energy =   0.0565
Level     1,  Iter    16:    Energy =   0.0569
Level     1,  Iter    17:    Energy =   0.0573
Level     1,  Iter    18:    Energy =   0.0577
Level     1,  Iter    19:    Energy =   0.0580
Level     1,  Iter    20:    Energy =   0.0583
Level     1,  Iter    21:    Energy =   0.0585
Level     1,  Iter    22:    Energy =   0.0588
Level     1,  Iter    23:    Energy =   0.0590
Level     1,  Iter    24:    Energy =   0.0592
Level     1,  Iter    25:    Energy =   0.0594
Level     1,  Iter    26:    Energy =   0.0596
Level     1,  Iter    27:    Energy =   0.0598
Level     1,  Iter    28:    Energy =   0.0600
Level     1,  Iter    29:    Energy =   0.0602
Level     1,  Iter    30:    Energy =   0.0604
Level     1,  Iter    31:    Energy =   0.0605
Level     1,  Iter    32:    Energy =   0.0607
Level     1,  Iter    33:    Energy =   0.0609
Level     1,  Iter    34:    Energy =   0.0611
Level     1,  Iter    35:    Energy =   0.0612
Level     1,  Iter    36:    Energy =   0.0614
Level     1,  Iter    37:    Energy =   0.0615
Level     1,  Iter    38:    Energy =   0.0616
Level     1,  Iter    39:    Energy =   0.0617
Level     1,  Iter    40:    Energy =   0.0618
Level     1,  Iter    41:    Energy =   0.0620
Level     1,  Iter    42:    Energy =   0.0621
Level     1,  Iter    43:    Energy =   0.0622
Level     1,  Iter    44:    Energy =   0.0623
Level     1,  Iter    45:    Energy =   0.0624
Level     1,  Iter    46:    Energy =   0.0625
Level     1,  Iter    47:    Energy =   0.0626
Level     1,  Iter    48:    Energy =   0.0627
Level     1,  Iter    49:    Energy =   0.0627
Level     1,  Iter    50:    Energy =   0.0628
Level     1,  Iter    51:    Energy =   0.0629
Level     1,  Iter    52:    Energy =   0.0630
Level     1,  Iter    53:    Energy =   0.0631
Level     1,  Iter    54:    Energy =   0.0631
Level     1,  Iter    55:    Energy =   0.0632
Level     1,  Iter    56:    Energy =   0.0633
Level     1,  Iter    57:    Energy =   0.0634
Level     1,  Iter    58:    Energy =   0.0635
Level     1,  Iter    59:    Energy =   0.0635
END OF LEVEL     1    DetJac Range:   0.0792  to   3.2967 
  Avg. Gradient Time  : 0.0315s  35.23% 
  Avg. Gaussian Time  : 0.0454s  50.80% 
  Avg. Iteration Time : 0.0894s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0304
Level     2,  Iter     1:    Energy =   0.0317
Level     2,  Iter     2:    Energy =   0.0327
Level     2,  Iter     3:    Energy =   0.0338
Level     2,  Iter     4:    Energy =   0.0349
Level     2,  Iter     5:    Energy =   0.0359
Level     2,  Iter     6:    Energy =   0.0367
Level     2,  Iter     7:    Energy =   0.0374
Level     2,  Iter     8:    Energy =   0.0381
Level     2,  Iter     9:    Energy =   0.0387
Level     2,  Iter    10:    Energy =   0.0394
Level     2,  Iter    11:    Energy =   0.0401
Level     2,  Iter    12:    Energy =   0.0408
Level     2,  Iter    13:    Energy =   0.0416
Level     2,  Iter    14:    Energy =   0.0423
Level     2,  Iter    15:    Energy =   0.0428
Level     2,  Iter    16:    Energy =   0.0432
Level     2,  Iter    17:    Energy =   0.0435
Level     2,  Iter    18:    Energy =   0.0438
Level     2,  Iter    19:    Energy =   0.0441
END OF LEVEL     2    DetJac Range:   0.0498  to   4.2468 
  Avg. Gradient Time  : 0.2018s  33.84% 
  Avg. Gaussian Time  : 0.3163s  53.04% 
  Avg. Iteration Time : 0.5963s 

real	0m21.602s
user	0m36.772s
sys	0m2.856s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train004/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train004/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train004/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train004/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train004/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=39 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=39 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.367143 0.371429
+ echo 'CHUNK 0.367143 0.371429 1'
CHUNK 0.367143 0.371429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.367143 0.371429 1
====================================
         PROGRESS: 0.367143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=005
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 005
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train005
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train005
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right 005 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train005 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=right
+ local tid=005
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train005
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 005 right 0
+ local tid=005
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 005 0
+ set -e
+ local tid=005
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.783, moving = 0.62
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 115.672   GNORM= 177.809
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       -27.525     115.515       0.006
   2    3      -166.991     110.557       1.000
   3    5      -512.990      65.714       5.000
   4    8      -518.725      38.304       0.110
   5   10      -519.521      27.376       0.070
   6   11      -523.364      40.265       1.000
   7   12      -540.909      40.025       1.000
   8   14      -619.730      77.454       5.000
   9   15      -700.820      61.388       1.000
  10   17      -802.014      40.956       0.249
  11   19      -814.091      39.633       0.268
  12   20      -816.074      29.255       1.000
  13   21      -821.268      31.495       1.000
  14   23      -823.745      39.831       0.214
  15   24      -828.134      41.006       1.000
  16   25      -830.976      71.968       1.000
  17   26      -837.787      21.308       1.000
  18   27      -840.433      15.031       1.000
  19   28      -841.186      11.471       1.000
  20   29      -841.528      10.452       1.000
  21   31      -841.739       7.892       0.322
  22   32      -841.834      15.186       1.000
  23   33      -841.924       7.913       1.000
  24   34      -842.014       7.140       1.000
  25   35      -842.113       6.620       1.000
  26   36      -842.240       8.732       1.000
  27   37      -842.363       4.558       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.920987 0.168339 0.187134 -4.60363 
0.354307 0.958937 -0.0853175 9.7838 
-0.03447 -0.170755 0.75293 -11.4007 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -430.758   GNORM= 52.4443
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -444.530      30.254       0.019
   2    3      -453.530      19.277       1.000
   3    5      -454.313      10.458       0.154
   4    7      -455.547      15.818       5.000
   5    8      -457.495      15.776       1.000
   6    9      -462.506      25.762       1.000
   7   10      -466.982      20.720       1.000
   8   12      -467.139      10.953       0.232
   9   13      -467.560       5.787       1.000
  10   14      -467.769       6.193       1.000
  11   15      -468.230      16.315       1.000
  12   17      -470.067      10.993       5.000
  13   18      -471.095      10.710       1.000
  14   19      -471.611      17.294       1.000
  15   20      -472.857       7.916       1.000
  16   21      -473.090       9.888       1.000
  17   22      -473.573       6.932       1.000
  18   23      -473.997      13.334       1.000
  19   24      -475.365      11.008       1.000
  20   26      -478.943      20.229       0.466
  21   28      -480.057      29.697       0.109
  22   29      -482.960      19.727       1.000
  23   30      -485.414      15.398       1.000
  24   31      -488.867      17.796       1.000
  25   34      -497.236      21.809       0.699
  26   35      -501.680      10.280       1.000
  27   37      -501.926       9.335       0.266
  28   40      -502.052      17.973       0.043
  29   41      -502.462      20.649       1.000
  30   42      -503.582      16.565       1.000
  31   43      -509.930      21.028       1.000
  32   45      -512.020      28.384       0.186
  33   46      -515.148      16.831       1.000
  34   48      -515.817      14.183       0.404
  35   49      -516.364       9.628       1.000
  36   50      -516.914      11.326       1.000
  37   52      -518.569       6.938       0.429
  38   54      -518.962      13.532       0.221
  39   55      -519.940      26.656       1.000
  40   56      -522.311      20.129       1.000
  41   57      -523.984       7.200       1.000
  42   58      -524.603      14.269       1.000
  43   59      -525.294      13.532       1.000
  44   60      -525.851      15.517       1.000
  45   61      -526.286       5.503       1.000
Final RAS Transform: 
0.966077 0.270739 0.177417 -8.93022 
0.261908 0.825588 -0.0249856 16.2088 
0.0142007 -0.175559 0.758382 -11.9049 
0 0 0 1 

Final RAS Transform: 
0.966077 0.270739 0.177417 -8.93022 
0.261908 0.825588 -0.0249856 16.2088 
0.0142007 -0.175559 0.758382 -11.9049 
0 0 0 1 


real	0m6.551s
user	0m10.756s
sys	0m0.824s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.783, moving = 0.424015
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0203
Level     0,  Iter     1:    Energy =   0.0215
Level     0,  Iter     2:    Energy =   0.0235
Level     0,  Iter     3:    Energy =   0.0254
Level     0,  Iter     4:    Energy =   0.0270
Level     0,  Iter     5:    Energy =   0.0286
Level     0,  Iter     6:    Energy =   0.0300
Level     0,  Iter     7:    Energy =   0.0310
Level     0,  Iter     8:    Energy =   0.0321
Level     0,  Iter     9:    Energy =   0.0332
Level     0,  Iter    10:    Energy =   0.0342
Level     0,  Iter    11:    Energy =   0.0350
Level     0,  Iter    12:    Energy =   0.0359
Level     0,  Iter    13:    Energy =   0.0366
Level     0,  Iter    14:    Energy =   0.0374
Level     0,  Iter    15:    Energy =   0.0380
Level     0,  Iter    16:    Energy =   0.0384
Level     0,  Iter    17:    Energy =   0.0387
Level     0,  Iter    18:    Energy =   0.0390
Level     0,  Iter    19:    Energy =   0.0393
Level     0,  Iter    20:    Energy =   0.0395
Level     0,  Iter    21:    Energy =   0.0398
Level     0,  Iter    22:    Energy =   0.0400
Level     0,  Iter    23:    Energy =   0.0403
Level     0,  Iter    24:    Energy =   0.0405
Level     0,  Iter    25:    Energy =   0.0405
Level     0,  Iter    26:    Energy =   0.0408
Level     0,  Iter    27:    Energy =   0.0408
Level     0,  Iter    28:    Energy =   0.0410
Level     0,  Iter    29:    Energy =   0.0411
Level     0,  Iter    30:    Energy =   0.0412
Level     0,  Iter    31:    Energy =   0.0413
Level     0,  Iter    32:    Energy =   0.0415
Level     0,  Iter    33:    Energy =   0.0416
Level     0,  Iter    34:    Energy =   0.0417
Level     0,  Iter    35:    Energy =   0.0419
Level     0,  Iter    36:    Energy =   0.0420
Level     0,  Iter    37:    Energy =   0.0422
Level     0,  Iter    38:    Energy =   0.0423
Level     0,  Iter    39:    Energy =   0.0425
Level     0,  Iter    40:    Energy =   0.0426
Level     0,  Iter    41:    Energy =   0.0428
Level     0,  Iter    42:    Energy =   0.0428
Level     0,  Iter    43:    Energy =   0.0430
Level     0,  Iter    44:    Energy =   0.0430
Level     0,  Iter    45:    Energy =   0.0432
Level     0,  Iter    46:    Energy =   0.0431
Level     0,  Iter    47:    Energy =   0.0432
Level     0,  Iter    48:    Energy =   0.0432
Level     0,  Iter    49:    Energy =   0.0434
Level     0,  Iter    50:    Energy =   0.0433
Level     0,  Iter    51:    Energy =   0.0435
Level     0,  Iter    52:    Energy =   0.0434
Level     0,  Iter    53:    Energy =   0.0435
Level     0,  Iter    54:    Energy =   0.0435
Level     0,  Iter    55:    Energy =   0.0437
Level     0,  Iter    56:    Energy =   0.0436
Level     0,  Iter    57:    Energy =   0.0438
Level     0,  Iter    58:    Energy =   0.0437
Level     0,  Iter    59:    Energy =   0.0439
END OF LEVEL     0    DetJac Range:   0.0348  to   2.3520 
  Avg. Gradient Time  : 0.0078s  33.62% 
  Avg. Gaussian Time  : 0.0110s  47.69% 
  Avg. Iteration Time : 0.0231s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0268
Level     1,  Iter     1:    Energy =   0.0281
Level     1,  Iter     2:    Energy =   0.0298
Level     1,  Iter     3:    Energy =   0.0310
Level     1,  Iter     4:    Energy =   0.0321
Level     1,  Iter     5:    Energy =   0.0328
Level     1,  Iter     6:    Energy =   0.0337
Level     1,  Iter     7:    Energy =   0.0346
Level     1,  Iter     8:    Energy =   0.0354
Level     1,  Iter     9:    Energy =   0.0362
Level     1,  Iter    10:    Energy =   0.0367
Level     1,  Iter    11:    Energy =   0.0372
Level     1,  Iter    12:    Energy =   0.0376
Level     1,  Iter    13:    Energy =   0.0379
Level     1,  Iter    14:    Energy =   0.0383
Level     1,  Iter    15:    Energy =   0.0386
Level     1,  Iter    16:    Energy =   0.0390
Level     1,  Iter    17:    Energy =   0.0392
Level     1,  Iter    18:    Energy =   0.0394
Level     1,  Iter    19:    Energy =   0.0395
Level     1,  Iter    20:    Energy =   0.0396
Level     1,  Iter    21:    Energy =   0.0399
Level     1,  Iter    22:    Energy =   0.0400
Level     1,  Iter    23:    Energy =   0.0402
Level     1,  Iter    24:    Energy =   0.0403
Level     1,  Iter    25:    Energy =   0.0405
Level     1,  Iter    26:    Energy =   0.0407
Level     1,  Iter    27:    Energy =   0.0410
Level     1,  Iter    28:    Energy =   0.0412
Level     1,  Iter    29:    Energy =   0.0414
Level     1,  Iter    30:    Energy =   0.0416
Level     1,  Iter    31:    Energy =   0.0417
Level     1,  Iter    32:    Energy =   0.0419
Level     1,  Iter    33:    Energy =   0.0421
Level     1,  Iter    34:    Energy =   0.0423
Level     1,  Iter    35:    Energy =   0.0425
Level     1,  Iter    36:    Energy =   0.0427
Level     1,  Iter    37:    Energy =   0.0428
Level     1,  Iter    38:    Energy =   0.0429
Level     1,  Iter    39:    Energy =   0.0429
Level     1,  Iter    40:    Energy =   0.0430
Level     1,  Iter    41:    Energy =   0.0431
Level     1,  Iter    42:    Energy =   0.0432
Level     1,  Iter    43:    Energy =   0.0433
Level     1,  Iter    44:    Energy =   0.0434
Level     1,  Iter    45:    Energy =   0.0434
Level     1,  Iter    46:    Energy =   0.0436
Level     1,  Iter    47:    Energy =   0.0436
Level     1,  Iter    48:    Energy =   0.0436
Level     1,  Iter    49:    Energy =   0.0437
Level     1,  Iter    50:    Energy =   0.0438
Level     1,  Iter    51:    Energy =   0.0438
Level     1,  Iter    52:    Energy =   0.0438
Level     1,  Iter    53:    Energy =   0.0439
Level     1,  Iter    54:    Energy =   0.0439
Level     1,  Iter    55:    Energy =   0.0440
Level     1,  Iter    56:    Energy =   0.0440
Level     1,  Iter    57:    Energy =   0.0441
Level     1,  Iter    58:    Energy =   0.0442
Level     1,  Iter    59:    Energy =   0.0443
END OF LEVEL     1    DetJac Range:   0.0335  to   2.5515 
  Avg. Gradient Time  : 0.0308s  34.93% 
  Avg. Gaussian Time  : 0.0450s  50.98% 
  Avg. Iteration Time : 0.0882s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0225
Level     2,  Iter     1:    Energy =   0.0234
Level     2,  Iter     2:    Energy =   0.0241
Level     2,  Iter     3:    Energy =   0.0246
Level     2,  Iter     4:    Energy =   0.0250
Level     2,  Iter     5:    Energy =   0.0254
Level     2,  Iter     6:    Energy =   0.0257
Level     2,  Iter     7:    Energy =   0.0259
Level     2,  Iter     8:    Energy =   0.0261
Level     2,  Iter     9:    Energy =   0.0263
Level     2,  Iter    10:    Energy =   0.0265
Level     2,  Iter    11:    Energy =   0.0267
Level     2,  Iter    12:    Energy =   0.0268
Level     2,  Iter    13:    Energy =   0.0270
Level     2,  Iter    14:    Energy =   0.0271
Level     2,  Iter    15:    Energy =   0.0273
Level     2,  Iter    16:    Energy =   0.0275
Level     2,  Iter    17:    Energy =   0.0276
Level     2,  Iter    18:    Energy =   0.0277
Level     2,  Iter    19:    Energy =   0.0279
END OF LEVEL     2    DetJac Range:   0.0287  to   2.5716 
  Avg. Gradient Time  : 0.2058s  34.08% 
  Avg. Gaussian Time  : 0.3184s  52.72% 
  Avg. Iteration Time : 0.6040s 

real	0m21.617s
user	0m37.020s
sys	0m2.680s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train005/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train005/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train005/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train005/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train005/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=40 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=40 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.371429 0.375714
+ echo 'CHUNK 0.371429 0.375714 1'
CHUNK 0.371429 0.375714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.371429 0.375714 1
====================================
         PROGRESS: 0.371429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=006
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 006
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train006
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train006
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right 006 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train006 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=right
+ local tid=006
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train006
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 006 right 0
+ local tid=006
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 006 0
+ set -e
+ local tid=006
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.783, moving = 0.709
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 147.498   GNORM= 165.61
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2        16.268     114.320       0.006
   2    3      -275.239     147.278       1.000
   3    6      -347.425     112.049       0.082
   4    7      -385.316      84.872       1.000
   5    8      -423.967      71.513       1.000
   6   10      -496.149      61.814       5.000
   7   11      -542.276      78.092       1.000
   8   12      -574.683      29.606       1.000
   9   13      -582.344      22.275       1.000
  10   14      -604.425      59.053       1.000
  11   15      -647.802      65.683       1.000
  12   16      -660.355     121.520       1.000
  13   17      -704.432      67.749       1.000
  14   18      -733.505      62.187       1.000
  15   20      -752.158      95.705       0.344
  16   21      -763.421     102.782       1.000
  17   22      -785.197      66.027       1.000
  18   23      -797.627      75.980       1.000
  19   24      -811.110      35.044       1.000
  20   25      -814.225      36.925       1.000
  21   26      -819.884      27.878       1.000
  22   28      -830.488      33.739       0.460
  23   30      -842.599      58.746       0.417
  24   32      -851.357      67.064       0.337
  25   33      -859.037      53.876       1.000
  26   34      -879.027      82.209       1.000
  27   35      -891.565     101.092       1.000
  28   37      -907.535     119.577       0.453
  29   38      -938.049      93.375       1.000
  30   39      -980.770     129.936       1.000
  31   40     -1000.738      57.457       1.000
  32   41     -1004.618      25.383       1.000
  33   42     -1005.610      43.182       1.000
  34   43     -1007.633      33.457       1.000
  35   44     -1009.080      56.846       1.000
  36   45     -1012.820      26.101       1.000
  37   46     -1015.199      18.124       1.000
  38   48     -1015.947      27.425       0.416
  39   49     -1016.486      15.892       1.000
  40   50     -1017.184      15.722       1.000
  41   51     -1018.103      21.597       1.000
  42   52     -1018.897      23.904       1.000
  43   53     -1020.898      22.844       1.000
  44   54     -1022.315      29.268       1.000
  45   55     -1023.778      10.523       1.000
  46   56     -1024.099       9.446       1.000
  47   58     -1025.056      14.263       5.000
  48   59     -1027.505       9.073       1.000
  49   61     -1028.606      18.998       0.271
Final RAS Transform: 
1.11754 -0.213554 0.00992773 -5.38136 
0.31616 1.31879 0.522373 5.99608 
0.213585 -0.339481 0.324966 -17.3877 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -562.161   GNORM= 106.573
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -576.816      81.671       0.009
   2    3      -595.149      17.067       1.000
   3    4      -596.245      20.748       1.000
   4    5      -597.458      15.697       1.000
   5    6      -601.836      13.790       1.000
   6    7      -602.335      42.207       1.000
   7    8      -609.884      27.223       1.000
   8    9      -613.084      25.551       1.000
   9   11      -614.706      19.544       0.287
  10   12      -615.648      25.963       1.000
  11   13      -619.442       9.237       1.000
  12   14      -619.940       5.332       1.000
  13   15      -620.661       9.211       1.000
  14   16      -621.599      13.436       1.000
  15   17      -623.500       6.091       1.000
  16   18      -624.553      13.943       1.000
  17   19      -625.044      11.111       1.000
  18   20      -625.351       3.199       1.000
  19   21      -625.367       5.671       1.000
  20   22      -625.458       4.138       1.000
  21   23      -625.556       6.339       1.000
  22   24      -625.740       3.880       1.000
  23   27      -626.034      12.198       2.395
  24   29      -626.268      10.575       0.409
  25   31      -626.373      12.309       0.128
  26   33      -626.486      10.459       0.347
  27   34      -626.567      10.143       1.000
  28   35      -626.720       3.777       1.000
  29   36      -626.738       2.944       1.000
  30   37      -626.808       3.369       1.000
  31   39      -626.864       7.656       0.171
  32   40      -626.906       3.328       1.000
  33   41      -626.919       3.152       1.000
  34   42      -626.926       2.101       1.000
  35   43      -626.951       1.324       1.000
  36   44      -626.970       9.453       1.000
  37   45      -627.017       4.478       1.000
  38   46      -627.084       1.481       1.000
  39   47      -627.239       5.185       1.000
  40   48      -627.390       4.268       1.000
  41   50      -627.509       7.222       0.333
  42   52      -627.530       7.130       0.242
  43   54      -627.579       4.291       0.428
  44   55      -627.625       3.194       1.000
  45   57      -627.647       3.343       0.370
  46   58      -627.655       2.184       1.000
  47   59      -627.664       1.697       1.000
  48   60      -627.687       2.174       1.000
  49   61      -627.729       5.222       1.000
Final RAS Transform: 
1.12908 -0.167677 -0.0167074 -6.76609 
0.370804 1.35851 0.567166 4.58466 
0.240177 -0.346836 0.364098 -17.7086 
0 0 0 1 

Final RAS Transform: 
1.12908 -0.167677 -0.0167074 -6.76609 
0.370804 1.35851 0.567166 4.58466 
0.240177 -0.346836 0.364098 -17.7086 
0 0 0 1 


real	0m6.664s
user	0m10.860s
sys	0m0.952s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.783, moving = 0.499095
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0277
Level     0,  Iter     1:    Energy =   0.0306
Level     0,  Iter     2:    Energy =   0.0337
Level     0,  Iter     3:    Energy =   0.0367
Level     0,  Iter     4:    Energy =   0.0390
Level     0,  Iter     5:    Energy =   0.0412
Level     0,  Iter     6:    Energy =   0.0433
Level     0,  Iter     7:    Energy =   0.0453
Level     0,  Iter     8:    Energy =   0.0468
Level     0,  Iter     9:    Energy =   0.0479
Level     0,  Iter    10:    Energy =   0.0485
Level     0,  Iter    11:    Energy =   0.0490
Level     0,  Iter    12:    Energy =   0.0494
Level     0,  Iter    13:    Energy =   0.0500
Level     0,  Iter    14:    Energy =   0.0503
Level     0,  Iter    15:    Energy =   0.0505
Level     0,  Iter    16:    Energy =   0.0506
Level     0,  Iter    17:    Energy =   0.0506
Level     0,  Iter    18:    Energy =   0.0508
Level     0,  Iter    19:    Energy =   0.0507
Level     0,  Iter    20:    Energy =   0.0511
Level     0,  Iter    21:    Energy =   0.0510
Level     0,  Iter    22:    Energy =   0.0514
Level     0,  Iter    23:    Energy =   0.0513
Level     0,  Iter    24:    Energy =   0.0517
Level     0,  Iter    25:    Energy =   0.0516
Level     0,  Iter    26:    Energy =   0.0519
Level     0,  Iter    27:    Energy =   0.0518
Level     0,  Iter    28:    Energy =   0.0522
Level     0,  Iter    29:    Energy =   0.0521
Level     0,  Iter    30:    Energy =   0.0525
Level     0,  Iter    31:    Energy =   0.0522
Level     0,  Iter    32:    Energy =   0.0527
Level     0,  Iter    33:    Energy =   0.0526
Level     0,  Iter    34:    Energy =   0.0530
Level     0,  Iter    35:    Energy =   0.0527
Level     0,  Iter    36:    Energy =   0.0531
Level     0,  Iter    37:    Energy =   0.0530
Level     0,  Iter    38:    Energy =   0.0533
Level     0,  Iter    39:    Energy =   0.0529
Level     0,  Iter    40:    Energy =   0.0532
Level     0,  Iter    41:    Energy =   0.0530
Level     0,  Iter    42:    Energy =   0.0531
Level     0,  Iter    43:    Energy =   0.0528
Level     0,  Iter    44:    Energy =   0.0531
Level     0,  Iter    45:    Energy =   0.0529
Level     0,  Iter    46:    Energy =   0.0530
Level     0,  Iter    47:    Energy =   0.0528
Level     0,  Iter    48:    Energy =   0.0531
Level     0,  Iter    49:    Energy =   0.0530
Level     0,  Iter    50:    Energy =   0.0532
Level     0,  Iter    51:    Energy =   0.0530
Level     0,  Iter    52:    Energy =   0.0533
Level     0,  Iter    53:    Energy =   0.0531
Level     0,  Iter    54:    Energy =   0.0533
Level     0,  Iter    55:    Energy =   0.0532
Level     0,  Iter    56:    Energy =   0.0534
Level     0,  Iter    57:    Energy =   0.0534
Level     0,  Iter    58:    Energy =   0.0535
Level     0,  Iter    59:    Energy =   0.0536
END OF LEVEL     0    DetJac Range:   0.1381  to   1.8514 
  Avg. Gradient Time  : 0.0080s  33.91% 
  Avg. Gaussian Time  : 0.0113s  47.70% 
  Avg. Iteration Time : 0.0237s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0316
Level     1,  Iter     1:    Energy =   0.0346
Level     1,  Iter     2:    Energy =   0.0372
Level     1,  Iter     3:    Energy =   0.0391
Level     1,  Iter     4:    Energy =   0.0406
Level     1,  Iter     5:    Energy =   0.0419
Level     1,  Iter     6:    Energy =   0.0431
Level     1,  Iter     7:    Energy =   0.0442
Level     1,  Iter     8:    Energy =   0.0452
Level     1,  Iter     9:    Energy =   0.0462
Level     1,  Iter    10:    Energy =   0.0472
Level     1,  Iter    11:    Energy =   0.0482
Level     1,  Iter    12:    Energy =   0.0491
Level     1,  Iter    13:    Energy =   0.0498
Level     1,  Iter    14:    Energy =   0.0505
Level     1,  Iter    15:    Energy =   0.0512
Level     1,  Iter    16:    Energy =   0.0517
Level     1,  Iter    17:    Energy =   0.0522
Level     1,  Iter    18:    Energy =   0.0526
Level     1,  Iter    19:    Energy =   0.0530
Level     1,  Iter    20:    Energy =   0.0534
Level     1,  Iter    21:    Energy =   0.0537
Level     1,  Iter    22:    Energy =   0.0539
Level     1,  Iter    23:    Energy =   0.0542
Level     1,  Iter    24:    Energy =   0.0543
Level     1,  Iter    25:    Energy =   0.0545
Level     1,  Iter    26:    Energy =   0.0547
Level     1,  Iter    27:    Energy =   0.0550
Level     1,  Iter    28:    Energy =   0.0551
Level     1,  Iter    29:    Energy =   0.0553
Level     1,  Iter    30:    Energy =   0.0555
Level     1,  Iter    31:    Energy =   0.0557
Level     1,  Iter    32:    Energy =   0.0558
Level     1,  Iter    33:    Energy =   0.0560
Level     1,  Iter    34:    Energy =   0.0561
Level     1,  Iter    35:    Energy =   0.0563
Level     1,  Iter    36:    Energy =   0.0563
Level     1,  Iter    37:    Energy =   0.0564
Level     1,  Iter    38:    Energy =   0.0565
Level     1,  Iter    39:    Energy =   0.0566
Level     1,  Iter    40:    Energy =   0.0567
Level     1,  Iter    41:    Energy =   0.0568
Level     1,  Iter    42:    Energy =   0.0569
Level     1,  Iter    43:    Energy =   0.0570
Level     1,  Iter    44:    Energy =   0.0570
Level     1,  Iter    45:    Energy =   0.0570
Level     1,  Iter    46:    Energy =   0.0571
Level     1,  Iter    47:    Energy =   0.0571
Level     1,  Iter    48:    Energy =   0.0571
Level     1,  Iter    49:    Energy =   0.0572
Level     1,  Iter    50:    Energy =   0.0572
Level     1,  Iter    51:    Energy =   0.0572
Level     1,  Iter    52:    Energy =   0.0573
Level     1,  Iter    53:    Energy =   0.0573
Level     1,  Iter    54:    Energy =   0.0574
Level     1,  Iter    55:    Energy =   0.0574
Level     1,  Iter    56:    Energy =   0.0575
Level     1,  Iter    57:    Energy =   0.0575
Level     1,  Iter    58:    Energy =   0.0575
Level     1,  Iter    59:    Energy =   0.0575
END OF LEVEL     1    DetJac Range:   0.0675  to   2.6851 
  Avg. Gradient Time  : 0.0309s  34.84% 
  Avg. Gaussian Time  : 0.0454s  51.10% 
  Avg. Iteration Time : 0.0888s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0268
Level     2,  Iter     1:    Energy =   0.0276
Level     2,  Iter     2:    Energy =   0.0283
Level     2,  Iter     3:    Energy =   0.0289
Level     2,  Iter     4:    Energy =   0.0294
Level     2,  Iter     5:    Energy =   0.0300
Level     2,  Iter     6:    Energy =   0.0307
Level     2,  Iter     7:    Energy =   0.0313
Level     2,  Iter     8:    Energy =   0.0319
Level     2,  Iter     9:    Energy =   0.0323
Level     2,  Iter    10:    Energy =   0.0326
Level     2,  Iter    11:    Energy =   0.0329
Level     2,  Iter    12:    Energy =   0.0332
Level     2,  Iter    13:    Energy =   0.0335
Level     2,  Iter    14:    Energy =   0.0339
Level     2,  Iter    15:    Energy =   0.0343
Level     2,  Iter    16:    Energy =   0.0346
Level     2,  Iter    17:    Energy =   0.0350
Level     2,  Iter    18:    Energy =   0.0354
Level     2,  Iter    19:    Energy =   0.0358
END OF LEVEL     2    DetJac Range:   0.0629  to   3.1491 
  Avg. Gradient Time  : 0.1950s  33.12% 
  Avg. Gaussian Time  : 0.3158s  53.64% 
  Avg. Iteration Time : 0.5888s 

real	0m21.442s
user	0m36.488s
sys	0m2.784s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train006/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train006/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train006/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train006/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train006/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=41 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=41 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.375714 0.38
+ echo 'CHUNK 0.375714 0.38 1'
CHUNK 0.375714 0.38 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.375714 0.38 1
====================================
         PROGRESS: 0.375714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=007
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 007
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train007
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train007
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right 007 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train007 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=right
+ local tid=007
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train007
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 007 right 0
+ local tid=007
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 007 0
+ set -e
+ local tid=007
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.783, moving = 0.552
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 80.9155   GNORM= 166.189
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       -51.471     112.745       0.006
   2    3      -211.217     167.027       1.000
   3    5      -328.870     114.719       0.250
   4    7      -345.620      86.039       0.331
   5    8      -379.274      46.594       1.000
   6    9      -400.147      95.824       1.000
   7   11      -478.604      67.290       5.000
   8   12      -518.866      58.821       1.000
   9   13      -572.648      52.299       1.000
  10   14      -576.564     105.087       1.000
  11   15      -621.444      45.801       1.000
  12   18      -689.340      73.362       0.128
  13   21      -833.420      57.932       3.079
  14   22      -910.348      59.598       1.000
  15   25      -938.862      48.536       0.075
  16   27      -946.929      96.871       0.239
  17   28      -980.048      77.005       1.000
  18   30     -1026.095      71.711       0.288
  19   31     -1075.418      60.021       1.000
  20   32     -1082.405      76.655       1.000
  21   33     -1104.327      49.926       1.000
  22   34     -1105.426      51.680       1.000
  23   35     -1123.500       9.739       1.000
  24   36     -1124.182      12.585       1.000
  25   37     -1125.080      16.037       1.000
  26   38     -1126.714      11.497       1.000
  27   40     -1127.268      12.795       0.311
  28   41     -1128.040      22.749       1.000
  29   42     -1129.367      11.232       1.000
  30   43     -1130.496      13.496       1.000
  31   44     -1131.344      12.160       1.000
  32   45     -1132.656      22.550       1.000
  33   48     -1137.051      31.118       1.713
  34   50     -1137.307      33.233       0.044
  35   51     -1138.949      18.076       1.000
  36   52     -1139.433      17.897       1.000
  37   53     -1139.825      17.232       1.000
  38   54     -1140.351      12.579       1.000
  39   55     -1140.889      11.544       1.000
  40   56     -1141.274      25.514       1.000
  41   57     -1142.059      15.578       1.000
  42   59     -1142.289       6.141       0.381
  43   60     -1142.378       5.324       1.000
  44   61     -1142.415       5.611       1.000
Final RAS Transform: 
0.877323 0.216478 0.152978 -3.0974 
0.415884 1.15784 0.535005 11.0475 
-0.121057 -0.499362 0.204999 -9.34917 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -459.351   GNORM= 35.311
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -464.180      27.338       0.028
   2    3      -472.782      22.468       1.000
   3    5      -478.603      18.396       0.120
   4    7      -479.794      23.667       0.163
   5    8      -481.419      17.826       1.000
   6    9      -485.082      21.617       1.000
   7   11      -495.549      13.245       5.000
   8   13      -502.219      38.942       0.138
   9   14      -512.982      10.869       1.000
  10   15      -515.192      11.918       1.000
  11   17      -527.427      22.841       5.000
  12   19      -531.188      28.541       0.211
  13   20      -538.288      17.346       1.000
  14   23      -546.174      38.037       0.018
  15   24      -550.296      44.862       1.000
  16   25      -566.034      38.675       1.000
  17   29      -572.638      32.666       0.072
  18   30      -578.340      18.908       1.000
  19   31      -581.061       5.765       1.000
  20   32      -582.454       8.905       1.000
  21   34      -585.472      26.843       0.290
  22   36      -586.649      30.817       0.176
  23   37      -589.473      34.059       1.000
  24   39      -591.913      18.242       0.197
  25   40      -594.665      20.506       1.000
  26   42      -596.547      20.059       0.318
  27   43      -599.328      12.762       1.000
  28   44      -603.158      37.224       1.000
  29   45      -608.344      17.504       1.000
  30   46      -609.810      13.541       1.000
  31   48      -610.025      11.382       0.298
  32   51      -610.136       6.554       0.138
  33   54      -610.413       6.383       1.824
  34   56      -611.448      13.008       5.000
  35   58      -612.915      17.510       0.288
  36   60      -613.672      18.224       0.340
  37   61      -614.383      22.314       1.000
Final RAS Transform: 
0.895521 0.323837 0.0079738 -10.1357 
0.469782 1.2087 0.816335 15.034 
-0.312474 -0.495494 0.268497 -5.04137 
0 0 0 1 

Final RAS Transform: 
0.895521 0.323837 0.0079738 -10.1357 
0.469782 1.2087 0.816335 15.034 
-0.312474 -0.495494 0.268497 -5.04137 
0 0 0 1 


real	0m6.754s
user	0m11.128s
sys	0m0.860s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.783, moving = 0.407981
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0267
Level     0,  Iter     1:    Energy =   0.0293
Level     0,  Iter     2:    Energy =   0.0334
Level     0,  Iter     3:    Energy =   0.0368
Level     0,  Iter     4:    Energy =   0.0395
Level     0,  Iter     5:    Energy =   0.0417
Level     0,  Iter     6:    Energy =   0.0444
Level     0,  Iter     7:    Energy =   0.0467
Level     0,  Iter     8:    Energy =   0.0489
Level     0,  Iter     9:    Energy =   0.0506
Level     0,  Iter    10:    Energy =   0.0522
Level     0,  Iter    11:    Energy =   0.0538
Level     0,  Iter    12:    Energy =   0.0552
Level     0,  Iter    13:    Energy =   0.0565
Level     0,  Iter    14:    Energy =   0.0576
Level     0,  Iter    15:    Energy =   0.0585
Level     0,  Iter    16:    Energy =   0.0595
Level     0,  Iter    17:    Energy =   0.0603
Level     0,  Iter    18:    Energy =   0.0612
Level     0,  Iter    19:    Energy =   0.0618
Level     0,  Iter    20:    Energy =   0.0624
Level     0,  Iter    21:    Energy =   0.0627
Level     0,  Iter    22:    Energy =   0.0630
Level     0,  Iter    23:    Energy =   0.0632
Level     0,  Iter    24:    Energy =   0.0635
Level     0,  Iter    25:    Energy =   0.0638
Level     0,  Iter    26:    Energy =   0.0641
Level     0,  Iter    27:    Energy =   0.0642
Level     0,  Iter    28:    Energy =   0.0644
Level     0,  Iter    29:    Energy =   0.0645
Level     0,  Iter    30:    Energy =   0.0645
Level     0,  Iter    31:    Energy =   0.0645
Level     0,  Iter    32:    Energy =   0.0644
Level     0,  Iter    33:    Energy =   0.0644
Level     0,  Iter    34:    Energy =   0.0643
Level     0,  Iter    35:    Energy =   0.0643
Level     0,  Iter    36:    Energy =   0.0642
Level     0,  Iter    37:    Energy =   0.0642
Level     0,  Iter    38:    Energy =   0.0641
Level     0,  Iter    39:    Energy =   0.0642
Level     0,  Iter    40:    Energy =   0.0642
Level     0,  Iter    41:    Energy =   0.0642
Level     0,  Iter    42:    Energy =   0.0642
Level     0,  Iter    43:    Energy =   0.0642
Level     0,  Iter    44:    Energy =   0.0642
Level     0,  Iter    45:    Energy =   0.0642
Level     0,  Iter    46:    Energy =   0.0641
Level     0,  Iter    47:    Energy =   0.0641
Level     0,  Iter    48:    Energy =   0.0641
Level     0,  Iter    49:    Energy =   0.0641
Level     0,  Iter    50:    Energy =   0.0641
Level     0,  Iter    51:    Energy =   0.0641
Level     0,  Iter    52:    Energy =   0.0641
Level     0,  Iter    53:    Energy =   0.0642
Level     0,  Iter    54:    Energy =   0.0642
Level     0,  Iter    55:    Energy =   0.0642
Level     0,  Iter    56:    Energy =   0.0643
Level     0,  Iter    57:    Energy =   0.0643
Level     0,  Iter    58:    Energy =   0.0643
Level     0,  Iter    59:    Energy =   0.0643
END OF LEVEL     0    DetJac Range:   0.1169  to   2.6810 
  Avg. Gradient Time  : 0.0079s  33.52% 
  Avg. Gaussian Time  : 0.0111s  47.37% 
  Avg. Iteration Time : 0.0235s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0391
Level     1,  Iter     1:    Energy =   0.0409
Level     1,  Iter     2:    Energy =   0.0425
Level     1,  Iter     3:    Energy =   0.0441
Level     1,  Iter     4:    Energy =   0.0457
Level     1,  Iter     5:    Energy =   0.0468
Level     1,  Iter     6:    Energy =   0.0476
Level     1,  Iter     7:    Energy =   0.0484
Level     1,  Iter     8:    Energy =   0.0492
Level     1,  Iter     9:    Energy =   0.0499
Level     1,  Iter    10:    Energy =   0.0506
Level     1,  Iter    11:    Energy =   0.0513
Level     1,  Iter    12:    Energy =   0.0518
Level     1,  Iter    13:    Energy =   0.0523
Level     1,  Iter    14:    Energy =   0.0528
Level     1,  Iter    15:    Energy =   0.0532
Level     1,  Iter    16:    Energy =   0.0535
Level     1,  Iter    17:    Energy =   0.0538
Level     1,  Iter    18:    Energy =   0.0541
Level     1,  Iter    19:    Energy =   0.0544
Level     1,  Iter    20:    Energy =   0.0546
Level     1,  Iter    21:    Energy =   0.0549
Level     1,  Iter    22:    Energy =   0.0551
Level     1,  Iter    23:    Energy =   0.0553
Level     1,  Iter    24:    Energy =   0.0555
Level     1,  Iter    25:    Energy =   0.0556
Level     1,  Iter    26:    Energy =   0.0558
Level     1,  Iter    27:    Energy =   0.0559
Level     1,  Iter    28:    Energy =   0.0560
Level     1,  Iter    29:    Energy =   0.0560
Level     1,  Iter    30:    Energy =   0.0561
Level     1,  Iter    31:    Energy =   0.0561
Level     1,  Iter    32:    Energy =   0.0562
Level     1,  Iter    33:    Energy =   0.0562
Level     1,  Iter    34:    Energy =   0.0562
Level     1,  Iter    35:    Energy =   0.0563
Level     1,  Iter    36:    Energy =   0.0563
Level     1,  Iter    37:    Energy =   0.0563
Level     1,  Iter    38:    Energy =   0.0563
Level     1,  Iter    39:    Energy =   0.0563
Level     1,  Iter    40:    Energy =   0.0563
Level     1,  Iter    41:    Energy =   0.0563
Level     1,  Iter    42:    Energy =   0.0564
Level     1,  Iter    43:    Energy =   0.0564
Level     1,  Iter    44:    Energy =   0.0564
Level     1,  Iter    45:    Energy =   0.0564
Level     1,  Iter    46:    Energy =   0.0565
Level     1,  Iter    47:    Energy =   0.0565
Level     1,  Iter    48:    Energy =   0.0565
Level     1,  Iter    49:    Energy =   0.0565
Level     1,  Iter    50:    Energy =   0.0565
Level     1,  Iter    51:    Energy =   0.0566
Level     1,  Iter    52:    Energy =   0.0566
Level     1,  Iter    53:    Energy =   0.0566
Level     1,  Iter    54:    Energy =   0.0566
Level     1,  Iter    55:    Energy =   0.0566
Level     1,  Iter    56:    Energy =   0.0567
Level     1,  Iter    57:    Energy =   0.0567
Level     1,  Iter    58:    Energy =   0.0568
Level     1,  Iter    59:    Energy =   0.0568
END OF LEVEL     1    DetJac Range:   0.0707  to   4.5440 
  Avg. Gradient Time  : 0.0314s  34.82% 
  Avg. Gaussian Time  : 0.0462s  51.13% 
  Avg. Iteration Time : 0.0903s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0257
Level     2,  Iter     1:    Energy =   0.0264
Level     2,  Iter     2:    Energy =   0.0270
Level     2,  Iter     3:    Energy =   0.0276
Level     2,  Iter     4:    Energy =   0.0282
Level     2,  Iter     5:    Energy =   0.0287
Level     2,  Iter     6:    Energy =   0.0290
Level     2,  Iter     7:    Energy =   0.0293
Level     2,  Iter     8:    Energy =   0.0296
Level     2,  Iter     9:    Energy =   0.0291
Level     2,  Iter    10:    Energy =   0.0290
Level     2,  Iter    11:    Energy =   0.0293
Level     2,  Iter    12:    Energy =   0.0296
big value: 4284.315479
big value: -1333.167156
big value: 8947.270809
Level     2,  Iter    13:    Energy =   0.0299
Level     2,  Iter    14:    Energy =   0.0292
Level     2,  Iter    15:    Energy =   0.0287
big value: -3232.398180
Level     2,  Iter    16:    Energy =   0.0282
Level     2,  Iter    17:    Energy =   0.0276
Level     2,  Iter    18:    Energy =   0.0274
Level     2,  Iter    19:    Energy =   0.0278
END OF LEVEL     2    DetJac Range:   0.0750  to   3.6299 
  Avg. Gradient Time  : 0.1977s  33.43% 
  Avg. Gaussian Time  : 0.3152s  53.31% 
  Avg. Iteration Time : 0.5913s 

real	0m21.543s
user	0m36.400s
sys	0m3.008s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train007/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train007/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train007/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train007/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train007/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=42 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=42 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.38 0.384286
+ echo 'CHUNK 0.38 0.384286 1'
CHUNK 0.38 0.384286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.38 0.384286 1
====================================
         PROGRESS: 0.38               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=008
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 008
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train008
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train008
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right 008 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train008 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=right
+ local tid=008
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train008
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 008 right 0
+ local tid=008
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 008 0
+ set -e
+ local tid=008
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.783, moving = 0.611
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 147.176   GNORM= 227.42
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       -24.234     119.670       0.004
   2    3       -84.469     138.218       1.000
   3    5      -313.858     136.990       5.000
   4    6      -343.165      42.928       1.000
   5    8      -348.073      55.360       5.000
   6   11      -516.043      43.920       1.840
   7   13      -603.526      62.579       0.131
   8   15      -618.430      84.078       0.087
   9   16      -660.218      72.452       1.000
  10   17      -693.012      69.205       1.000
  11   19      -719.663      26.094       0.469
  12   20      -737.513      29.606       1.000
  13   22      -755.411      15.316       0.238
  14   23      -763.471      24.157       1.000
  15   25      -765.276      29.393       0.192
  16   26      -770.300      39.311       1.000
  17   28      -801.124      24.946       0.482
  18   30      -811.264      27.494       0.120
  19   31      -815.157      23.101       1.000
  20   32      -820.382      28.320       1.000
  21   33      -843.303      55.951       1.000
  22   35      -851.329      48.057       0.156
  23   36      -859.680      35.047       1.000
  24   37      -864.941      32.865       1.000
  25   38      -866.886      33.452       1.000
  26   39      -869.856      35.815       1.000
  27   40      -870.746      24.616       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.923227 0.10836 -0.025835 0.526544 
0.171025 1.14267 0.0757047 9.6966 
-0.438124 -0.346239 0.652414 -2.1808 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -461.237   GNORM= 33.1814
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -467.743      27.084       0.007
   2    6      -469.336      27.309       0.583
   3    7      -472.868      13.387       1.000
   4    9      -473.870      18.268       0.482
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.92585 0.108996 -0.0268358 0.915583 
0.173338 1.14416 0.0743467 9.9867 
-0.439149 -0.344538 0.6538 -2.37906 
0 0 0 1 

Final RAS Transform: 
0.92585 0.108996 -0.0268358 0.915583 
0.173338 1.14416 0.0743467 9.9867 
-0.439149 -0.344538 0.6538 -2.37906 
0 0 0 1 


real	0m4.379s
user	0m6.724s
sys	0m0.684s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.783, moving = 0.447251
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0213
Level     0,  Iter     1:    Energy =   0.0223
Level     0,  Iter     2:    Energy =   0.0247
Level     0,  Iter     3:    Energy =   0.0270
Level     0,  Iter     4:    Energy =   0.0291
Level     0,  Iter     5:    Energy =   0.0311
Level     0,  Iter     6:    Energy =   0.0328
Level     0,  Iter     7:    Energy =   0.0341
Level     0,  Iter     8:    Energy =   0.0352
Level     0,  Iter     9:    Energy =   0.0361
Level     0,  Iter    10:    Energy =   0.0369
Level     0,  Iter    11:    Energy =   0.0377
Level     0,  Iter    12:    Energy =   0.0382
Level     0,  Iter    13:    Energy =   0.0387
Level     0,  Iter    14:    Energy =   0.0390
Level     0,  Iter    15:    Energy =   0.0392
Level     0,  Iter    16:    Energy =   0.0395
Level     0,  Iter    17:    Energy =   0.0398
Level     0,  Iter    18:    Energy =   0.0400
Level     0,  Iter    19:    Energy =   0.0403
Level     0,  Iter    20:    Energy =   0.0405
Level     0,  Iter    21:    Energy =   0.0407
Level     0,  Iter    22:    Energy =   0.0410
Level     0,  Iter    23:    Energy =   0.0412
Level     0,  Iter    24:    Energy =   0.0414
Level     0,  Iter    25:    Energy =   0.0416
Level     0,  Iter    26:    Energy =   0.0419
Level     0,  Iter    27:    Energy =   0.0419
Level     0,  Iter    28:    Energy =   0.0421
Level     0,  Iter    29:    Energy =   0.0420
Level     0,  Iter    30:    Energy =   0.0421
Level     0,  Iter    31:    Energy =   0.0421
Level     0,  Iter    32:    Energy =   0.0422
Level     0,  Iter    33:    Energy =   0.0422
Level     0,  Iter    34:    Energy =   0.0423
Level     0,  Iter    35:    Energy =   0.0423
Level     0,  Iter    36:    Energy =   0.0424
Level     0,  Iter    37:    Energy =   0.0424
Level     0,  Iter    38:    Energy =   0.0425
Level     0,  Iter    39:    Energy =   0.0425
Level     0,  Iter    40:    Energy =   0.0425
Level     0,  Iter    41:    Energy =   0.0425
Level     0,  Iter    42:    Energy =   0.0425
Level     0,  Iter    43:    Energy =   0.0425
Level     0,  Iter    44:    Energy =   0.0425
Level     0,  Iter    45:    Energy =   0.0426
Level     0,  Iter    46:    Energy =   0.0426
Level     0,  Iter    47:    Energy =   0.0426
Level     0,  Iter    48:    Energy =   0.0427
Level     0,  Iter    49:    Energy =   0.0427
Level     0,  Iter    50:    Energy =   0.0427
Level     0,  Iter    51:    Energy =   0.0428
Level     0,  Iter    52:    Energy =   0.0428
Level     0,  Iter    53:    Energy =   0.0428
Level     0,  Iter    54:    Energy =   0.0429
Level     0,  Iter    55:    Energy =   0.0429
Level     0,  Iter    56:    Energy =   0.0429
Level     0,  Iter    57:    Energy =   0.0429
Level     0,  Iter    58:    Energy =   0.0430
Level     0,  Iter    59:    Energy =   0.0430
END OF LEVEL     0    DetJac Range:   0.1355  to   2.7830 
  Avg. Gradient Time  : 0.0084s  33.57% 
  Avg. Gaussian Time  : 0.0121s  48.27% 
  Avg. Iteration Time : 0.0250s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0231
Level     1,  Iter     1:    Energy =   0.0246
Level     1,  Iter     2:    Energy =   0.0260
Level     1,  Iter     3:    Energy =   0.0271
Level     1,  Iter     4:    Energy =   0.0282
Level     1,  Iter     5:    Energy =   0.0291
Level     1,  Iter     6:    Energy =   0.0300
Level     1,  Iter     7:    Energy =   0.0309
Level     1,  Iter     8:    Energy =   0.0316
Level     1,  Iter     9:    Energy =   0.0322
Level     1,  Iter    10:    Energy =   0.0326
Level     1,  Iter    11:    Energy =   0.0330
Level     1,  Iter    12:    Energy =   0.0334
Level     1,  Iter    13:    Energy =   0.0337
Level     1,  Iter    14:    Energy =   0.0340
Level     1,  Iter    15:    Energy =   0.0343
Level     1,  Iter    16:    Energy =   0.0346
Level     1,  Iter    17:    Energy =   0.0348
Level     1,  Iter    18:    Energy =   0.0349
Level     1,  Iter    19:    Energy =   0.0351
Level     1,  Iter    20:    Energy =   0.0353
Level     1,  Iter    21:    Energy =   0.0354
Level     1,  Iter    22:    Energy =   0.0355
Level     1,  Iter    23:    Energy =   0.0355
Level     1,  Iter    24:    Energy =   0.0355
Level     1,  Iter    25:    Energy =   0.0355
Level     1,  Iter    26:    Energy =   0.0355
Level     1,  Iter    27:    Energy =   0.0355
Level     1,  Iter    28:    Energy =   0.0355
Level     1,  Iter    29:    Energy =   0.0355
Level     1,  Iter    30:    Energy =   0.0355
Level     1,  Iter    31:    Energy =   0.0354
Level     1,  Iter    32:    Energy =   0.0354
Level     1,  Iter    33:    Energy =   0.0354
Level     1,  Iter    34:    Energy =   0.0353
Level     1,  Iter    35:    Energy =   0.0353
Level     1,  Iter    36:    Energy =   0.0353
Level     1,  Iter    37:    Energy =   0.0352
Level     1,  Iter    38:    Energy =   0.0352
Level     1,  Iter    39:    Energy =   0.0352
Level     1,  Iter    40:    Energy =   0.0351
Level     1,  Iter    41:    Energy =   0.0351
Level     1,  Iter    42:    Energy =   0.0351
Level     1,  Iter    43:    Energy =   0.0351
Level     1,  Iter    44:    Energy =   0.0350
Level     1,  Iter    45:    Energy =   0.0350
Level     1,  Iter    46:    Energy =   0.0350
Level     1,  Iter    47:    Energy =   0.0350
Level     1,  Iter    48:    Energy =   0.0349
Level     1,  Iter    49:    Energy =   0.0349
Level     1,  Iter    50:    Energy =   0.0349
Level     1,  Iter    51:    Energy =   0.0349
Level     1,  Iter    52:    Energy =   0.0348
Level     1,  Iter    53:    Energy =   0.0348
Level     1,  Iter    54:    Energy =   0.0348
Level     1,  Iter    55:    Energy =   0.0348
Level     1,  Iter    56:    Energy =   0.0348
Level     1,  Iter    57:    Energy =   0.0349
Level     1,  Iter    58:    Energy =   0.0349
Level     1,  Iter    59:    Energy =   0.0349
END OF LEVEL     1    DetJac Range:   0.0646  to   2.6656 
  Avg. Gradient Time  : 0.0313s  34.40% 
  Avg. Gaussian Time  : 0.0463s  50.93% 
  Avg. Iteration Time : 0.0909s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0163
Level     2,  Iter     1:    Energy =   0.0171
Level     2,  Iter     2:    Energy =   0.0181
Level     2,  Iter     3:    Energy =   0.0190
Level     2,  Iter     4:    Energy =   0.0197
Level     2,  Iter     5:    Energy =   0.0205
Level     2,  Iter     6:    Energy =   0.0212
Level     2,  Iter     7:    Energy =   0.0217
Level     2,  Iter     8:    Energy =   0.0221
Level     2,  Iter     9:    Energy =   0.0225
Level     2,  Iter    10:    Energy =   0.0228
Level     2,  Iter    11:    Energy =   0.0230
Level     2,  Iter    12:    Energy =   0.0233
Level     2,  Iter    13:    Energy =   0.0235
Level     2,  Iter    14:    Energy =   0.0238
Level     2,  Iter    15:    Energy =   0.0240
Level     2,  Iter    16:    Energy =   0.0242
Level     2,  Iter    17:    Energy =   0.0243
Level     2,  Iter    18:    Energy =   0.0245
Level     2,  Iter    19:    Energy =   0.0247
END OF LEVEL     2    DetJac Range:   0.0594  to   3.5859 
  Avg. Gradient Time  : 0.1984s  33.45% 
  Avg. Gaussian Time  : 0.3166s  53.38% 
  Avg. Iteration Time : 0.5932s 

real	0m21.755s
user	0m36.596s
sys	0m3.108s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train008/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train008/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train008/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train008/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train008/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=43 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=43 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.384286 0.388571
+ echo 'CHUNK 0.384286 0.388571 1'
CHUNK 0.384286 0.388571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.384286 0.388571 1
====================================
         PROGRESS: 0.384286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=009
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 009
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train009
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train009
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right 009 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train009 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=right
+ local tid=009
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train009
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 009 right 0
+ local tid=009
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 009 0
+ set -e
+ local tid=009
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.783, moving = 0.578
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 94.4136   GNORM= 174.063
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       -48.771     138.130       0.006
   2    3      -302.875      74.188       1.000
   3    4      -370.639      62.577       1.000
   4    6      -399.331      48.727       0.171
   5    8      -529.059     148.116       5.000
   6    9      -636.002      69.570       1.000
   7   10      -722.335      60.874       1.000
   8   11      -758.839      36.310       1.000
   9   12      -785.838     104.614       1.000
  10   13      -824.941      51.892       1.000
  11   14      -859.583      45.989       1.000
  12   17      -908.630      63.136       1.950
  13   19      -919.138      60.959       0.184
  14   20      -946.719      44.513       1.000
  15   21      -968.027      55.201       1.000
  16   22      -995.567      63.595       1.000
  17   24     -1033.246      74.751       0.391
  18   26     -1048.407      82.295       0.302
  19   27     -1063.883      57.618       1.000
  20   28     -1071.511      70.527       1.000
  21   29     -1084.049      27.420       1.000
  22   30     -1087.758      19.338       1.000
  23   31     -1100.338      28.448       1.000
  24   33     -1105.370      45.187       0.286
  25   35     -1109.040      30.249       0.397
  26   36     -1111.176      11.497       1.000
  27   37     -1111.836      17.920       1.000
  28   38     -1112.541      14.870       1.000
  29   39     -1113.510      19.258       1.000
  30   40     -1114.803      19.705       1.000
  31   42     -1116.538      34.811       0.189
  32   43     -1118.487       8.766       1.000
  33   44     -1118.774       5.536       1.000
  34   46     -1118.947      11.669       0.379
  35   47     -1119.225      11.995       1.000
  36   48     -1119.808      11.157       1.000
  37   49     -1120.490      29.933       1.000
  38   50     -1121.247      51.037       1.000
  39   51     -1123.965      27.202       1.000
  40   52     -1125.556      20.118       1.000
  41   54     -1126.125      11.002       0.353
  42   55     -1126.908      20.802       1.000
  43   56     -1127.976      13.800       1.000
  44   58     -1129.595      26.755       5.000
  45   59     -1130.669      17.682       1.000
  46   60     -1131.652      14.689       1.000
  47   61     -1132.216      10.242       1.000
Final RAS Transform: 
0.934375 0.318023 0.16551 -6.44368 
0.28404 1.01824 0.464475 14.549 
-0.0987232 -0.535953 0.218289 -8.73612 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -503.88   GNORM= 35.7229
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -514.144      10.844       0.028
   2    4      -514.649      10.533       0.323
   3    6      -518.701      11.934       5.000
   4    8      -522.240      18.567       0.323
   5    9      -523.615      21.018       1.000
   6   10      -525.503      11.031       1.000
   7   12      -525.857       4.316       0.369
   8   13      -525.916       6.380       1.000
   9   14      -526.175       7.140       1.000
  10   15      -526.732       8.100       1.000
  11   16      -529.370      13.381       1.000
  12   18      -530.145      18.441       0.213
  13   19      -531.691       8.483       1.000
  14   20      -532.850      10.524       1.000
  15   21      -534.684      11.437       1.000
  16   23      -534.922       8.352       0.259
  17   24      -535.094       4.167       1.000
  18   25      -535.275       6.562       1.000
  19   27      -535.305       5.356       0.125
  20   28      -535.503       6.580       1.000
  21   29      -536.804       5.875       1.000
  22   32      -537.014      10.776       0.027
  23   33      -537.342       6.401       1.000
  24   34      -537.766       3.997       1.000
  25   36      -541.652      33.305       5.000
  26   38      -541.945      36.691       0.102
  27   39      -544.702      38.285       1.000
  28   41      -545.857      21.954       0.450
  29   42      -548.116      21.494       1.000
  30   43      -549.804      16.500       1.000
  31   45      -550.411      11.496       0.398
  32   46      -550.937      12.053       1.000
  33   47      -551.612       7.653       1.000
  34   48      -552.799      22.030       1.000
  35   49      -555.480      16.184       1.000
  36   51      -556.671      14.585       0.177
  37   52      -557.215      12.922       1.000
  38   53      -557.426       6.061       1.000
  39   54      -557.491       3.918       1.000
  40   55      -557.622       5.398       1.000
  41   56      -557.710       5.915       1.000
  42   57      -557.778       4.743       1.000
  43   58      -557.951       5.515       1.000
  44   60      -558.391      11.714       5.000
  45   61      -558.753       7.989       1.000
Final RAS Transform: 
0.893794 0.294616 0.275738 -3.79667 
0.301896 1.04547 0.602191 16.4346 
-0.123863 -0.616347 0.210157 -7.2387 
0 0 0 1 

Final RAS Transform: 
0.893794 0.294616 0.275738 -3.79667 
0.301896 1.04547 0.602191 16.4346 
-0.123863 -0.616347 0.210157 -7.2387 
0 0 0 1 


real	0m6.514s
user	0m10.732s
sys	0m0.836s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.783, moving = 0.490061
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0268
Level     0,  Iter     1:    Energy =   0.0303
Level     0,  Iter     2:    Energy =   0.0347
Level     0,  Iter     3:    Energy =   0.0390
Level     0,  Iter     4:    Energy =   0.0426
Level     0,  Iter     5:    Energy =   0.0451
Level     0,  Iter     6:    Energy =   0.0476
Level     0,  Iter     7:    Energy =   0.0499
Level     0,  Iter     8:    Energy =   0.0521
Level     0,  Iter     9:    Energy =   0.0540
Level     0,  Iter    10:    Energy =   0.0559
Level     0,  Iter    11:    Energy =   0.0575
Level     0,  Iter    12:    Energy =   0.0590
Level     0,  Iter    13:    Energy =   0.0597
Level     0,  Iter    14:    Energy =   0.0602
Level     0,  Iter    15:    Energy =   0.0609
Level     0,  Iter    16:    Energy =   0.0615
Level     0,  Iter    17:    Energy =   0.0620
Level     0,  Iter    18:    Energy =   0.0620
Level     0,  Iter    19:    Energy =   0.0627
Level     0,  Iter    20:    Energy =   0.0631
Level     0,  Iter    21:    Energy =   0.0636
Level     0,  Iter    22:    Energy =   0.0635
Level     0,  Iter    23:    Energy =   0.0642
Level     0,  Iter    24:    Energy =   0.0643
Level     0,  Iter    25:    Energy =   0.0649
Level     0,  Iter    26:    Energy =   0.0647
Level     0,  Iter    27:    Energy =   0.0654
Level     0,  Iter    28:    Energy =   0.0655
Level     0,  Iter    29:    Energy =   0.0658
Level     0,  Iter    30:    Energy =   0.0657
Level     0,  Iter    31:    Energy =   0.0663
Level     0,  Iter    32:    Energy =   0.0663
Level     0,  Iter    33:    Energy =   0.0665
Level     0,  Iter    34:    Energy =   0.0664
Level     0,  Iter    35:    Energy =   0.0669
Level     0,  Iter    36:    Energy =   0.0670
Level     0,  Iter    37:    Energy =   0.0673
Level     0,  Iter    38:    Energy =   0.0671
Level     0,  Iter    39:    Energy =   0.0676
Level     0,  Iter    40:    Energy =   0.0675
Level     0,  Iter    41:    Energy =   0.0678
Level     0,  Iter    42:    Energy =   0.0675
Level     0,  Iter    43:    Energy =   0.0680
Level     0,  Iter    44:    Energy =   0.0680
Level     0,  Iter    45:    Energy =   0.0681
Level     0,  Iter    46:    Energy =   0.0677
Level     0,  Iter    47:    Energy =   0.0684
Level     0,  Iter    48:    Energy =   0.0688
Level     0,  Iter    49:    Energy =   0.0687
Level     0,  Iter    50:    Energy =   0.0683
Level     0,  Iter    51:    Energy =   0.0689
Level     0,  Iter    52:    Energy =   0.0692
Level     0,  Iter    53:    Energy =   0.0694
Level     0,  Iter    54:    Energy =   0.0691
Level     0,  Iter    55:    Energy =   0.0694
Level     0,  Iter    56:    Energy =   0.0693
Level     0,  Iter    57:    Energy =   0.0693
Level     0,  Iter    58:    Energy =   0.0688
Level     0,  Iter    59:    Energy =   0.0693
END OF LEVEL     0    DetJac Range:   0.0464  to   1.8662 
  Avg. Gradient Time  : 0.0079s  33.66% 
  Avg. Gaussian Time  : 0.0112s  48.04% 
  Avg. Iteration Time : 0.0233s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0388
Level     1,  Iter     1:    Energy =   0.0406
Level     1,  Iter     2:    Energy =   0.0420
Level     1,  Iter     3:    Energy =   0.0431
Level     1,  Iter     4:    Energy =   0.0441
Level     1,  Iter     5:    Energy =   0.0449
Level     1,  Iter     6:    Energy =   0.0456
Level     1,  Iter     7:    Energy =   0.0464
Level     1,  Iter     8:    Energy =   0.0472
Level     1,  Iter     9:    Energy =   0.0479
Level     1,  Iter    10:    Energy =   0.0485
Level     1,  Iter    11:    Energy =   0.0492
Level     1,  Iter    12:    Energy =   0.0496
Level     1,  Iter    13:    Energy =   0.0501
Level     1,  Iter    14:    Energy =   0.0504
Level     1,  Iter    15:    Energy =   0.0507
Level     1,  Iter    16:    Energy =   0.0509
Level     1,  Iter    17:    Energy =   0.0512
Level     1,  Iter    18:    Energy =   0.0516
Level     1,  Iter    19:    Energy =   0.0520
Level     1,  Iter    20:    Energy =   0.0524
Level     1,  Iter    21:    Energy =   0.0528
Level     1,  Iter    22:    Energy =   0.0531
Level     1,  Iter    23:    Energy =   0.0533
Level     1,  Iter    24:    Energy =   0.0534
Level     1,  Iter    25:    Energy =   0.0535
Level     1,  Iter    26:    Energy =   0.0536
Level     1,  Iter    27:    Energy =   0.0537
Level     1,  Iter    28:    Energy =   0.0538
Level     1,  Iter    29:    Energy =   0.0538
Level     1,  Iter    30:    Energy =   0.0539
Level     1,  Iter    31:    Energy =   0.0540
Level     1,  Iter    32:    Energy =   0.0540
Level     1,  Iter    33:    Energy =   0.0542
Level     1,  Iter    34:    Energy =   0.0543
Level     1,  Iter    35:    Energy =   0.0544
Level     1,  Iter    36:    Energy =   0.0545
Level     1,  Iter    37:    Energy =   0.0547
Level     1,  Iter    38:    Energy =   0.0548
Level     1,  Iter    39:    Energy =   0.0549
Level     1,  Iter    40:    Energy =   0.0551
Level     1,  Iter    41:    Energy =   0.0553
Level     1,  Iter    42:    Energy =   0.0555
Level     1,  Iter    43:    Energy =   0.0556
Level     1,  Iter    44:    Energy =   0.0559
Level     1,  Iter    45:    Energy =   0.0561
Level     1,  Iter    46:    Energy =   0.0564
Level     1,  Iter    47:    Energy =   0.0566
Level     1,  Iter    48:    Energy =   0.0568
Level     1,  Iter    49:    Energy =   0.0570
Level     1,  Iter    50:    Energy =   0.0572
Level     1,  Iter    51:    Energy =   0.0574
Level     1,  Iter    52:    Energy =   0.0576
Level     1,  Iter    53:    Energy =   0.0578
Level     1,  Iter    54:    Energy =   0.0580
Level     1,  Iter    55:    Energy =   0.0581
Level     1,  Iter    56:    Energy =   0.0583
Level     1,  Iter    57:    Energy =   0.0585
Level     1,  Iter    58:    Energy =   0.0586
Level     1,  Iter    59:    Energy =   0.0588
END OF LEVEL     1    DetJac Range:   0.0737  to   3.5476 
  Avg. Gradient Time  : 0.0305s  34.56% 
  Avg. Gaussian Time  : 0.0451s  51.20% 
  Avg. Iteration Time : 0.0881s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0276
Level     2,  Iter     1:    Energy =   0.0282
Level     2,  Iter     2:    Energy =   0.0288
Level     2,  Iter     3:    Energy =   0.0293
Level     2,  Iter     4:    Energy =   0.0299
Level     2,  Iter     5:    Energy =   0.0305
Level     2,  Iter     6:    Energy =   0.0312
Level     2,  Iter     7:    Energy =   0.0319
Level     2,  Iter     8:    Energy =   0.0325
Level     2,  Iter     9:    Energy =   0.0331
Level     2,  Iter    10:    Energy =   0.0336
Level     2,  Iter    11:    Energy =   0.0342
Level     2,  Iter    12:    Energy =   0.0346
Level     2,  Iter    13:    Energy =   0.0349
Level     2,  Iter    14:    Energy =   0.0351
Level     2,  Iter    15:    Energy =   0.0352
Level     2,  Iter    16:    Energy =   0.0354
Level     2,  Iter    17:    Energy =   0.0355
Level     2,  Iter    18:    Energy =   0.0357
Level     2,  Iter    19:    Energy =   0.0358
END OF LEVEL     2    DetJac Range:   0.0609  to   3.6890 
  Avg. Gradient Time  : 0.2006s  33.64% 
  Avg. Gaussian Time  : 0.3173s  53.23% 
  Avg. Iteration Time : 0.5961s 

real	0m21.505s
user	0m36.360s
sys	0m3.012s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train009/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train009/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train009/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train009/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train009/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=44 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=44 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.388571 0.392857
+ echo 'CHUNK 0.388571 0.392857 1'
CHUNK 0.388571 0.392857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.388571 0.392857 1
====================================
         PROGRESS: 0.388571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=010
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 010
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train010
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train010
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right 010 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train010 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=right
+ local tid=010
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train010
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 010 right 0
+ local tid=010
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 010 0
+ set -e
+ local tid=010
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.783, moving = 0.608
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 73.911   GNORM= 157.361
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       -58.082     144.208       0.006
   2    3      -408.214      98.983       1.000
   3    4      -471.157      63.575       1.000
   4    5      -489.486     136.324       1.000
   5    6      -527.064      77.152       1.000
   6    7      -589.260      49.417       1.000
   7    8      -681.151      88.010       1.000
   8   10      -714.358     112.622       0.251
   9   11      -822.003     115.998       1.000
  10   13      -845.235      75.285       0.253
  11   14      -882.725      46.601       1.000
  12   16      -910.047      36.489       0.159
  13   17      -926.923      76.233       1.000
  14   18      -937.618      39.597       1.000
  15   19      -951.143      31.180       1.000
  16   20      -959.197      80.516       1.000
  17   21      -984.004      34.184       1.000
  18   23     -1016.529      30.001       0.417
  19   25     -1020.548      34.113       0.338
  20   26     -1029.178      27.475       1.000
  21   27     -1048.514      60.409       1.000
  22   28     -1073.039      47.748       1.000
  23   29     -1097.820      43.978       1.000
  24   30     -1109.955      45.342       1.000
  25   32     -1118.093      49.973       0.516
  26   33     -1122.051      52.612       1.000
  27   34     -1127.298      33.894       1.000
  28   35     -1129.600      26.364       1.000
  29   36     -1130.146      10.796       1.000
  30   37     -1130.661      14.900       1.000
  31   38     -1131.826      13.097       1.000
  32   39     -1133.011       9.614       1.000
  33   40     -1134.031      11.340       1.000
  34   41     -1135.104      22.921       1.000
  35   42     -1135.572      20.331       1.000
  36   43     -1137.927      17.915       1.000
  37   45     -1138.519       9.895       0.261
  38   46     -1138.783       6.761       1.000
  39   47     -1138.889      18.874       1.000
  40   48     -1139.224       7.510       1.000
  41   49     -1139.376       5.814       1.000
  42   50     -1139.647       6.907       1.000
  43   51     -1139.852      10.628       1.000
  44   53     -1139.894      15.751       0.344
  45   54     -1140.087       9.472       1.000
  46   55     -1140.108      11.329       1.000
  47   56     -1140.308       8.751       1.000
  48   57     -1140.326       9.902       1.000
  49   58     -1140.453       5.130       1.000
  50   60     -1140.457       5.897       0.295
  51   61     -1140.545       6.049       1.000
Final RAS Transform: 
1.1846 0.158521 0.122438 -4.09766 
0.120235 1.17507 0.305219 9.24561 
-0.501987 -0.507228 0.451851 0.826326 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -620.191   GNORM= 26.1093
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -622.935      24.350       0.008
   2    4      -624.113      38.001       1.000
   3    5      -627.661      28.968       1.000
   4    7      -631.715      76.665       0.443
   5    8      -633.260      39.975       1.000
   6    9      -633.647      16.700       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.18887 0.147388 0.133859 -3.46779 
0.125051 1.17641 0.299847 9.34274 
-0.498618 -0.511856 0.452918 0.378207 
0 0 0 1 

Final RAS Transform: 
1.18887 0.147388 0.133859 -3.46779 
0.125051 1.17641 0.299847 9.34274 
-0.498618 -0.511856 0.452918 0.378207 
0 0 0 1 


real	0m4.705s
user	0m7.184s
sys	0m0.744s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.783, moving = 0.441603
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0304
Level     0,  Iter     1:    Energy =   0.0319
Level     0,  Iter     2:    Energy =   0.0363
Level     0,  Iter     3:    Energy =   0.0399
Level     0,  Iter     4:    Energy =   0.0430
Level     0,  Iter     5:    Energy =   0.0459
Level     0,  Iter     6:    Energy =   0.0483
Level     0,  Iter     7:    Energy =   0.0506
Level     0,  Iter     8:    Energy =   0.0526
Level     0,  Iter     9:    Energy =   0.0547
Level     0,  Iter    10:    Energy =   0.0560
Level     0,  Iter    11:    Energy =   0.0570
Level     0,  Iter    12:    Energy =   0.0581
Level     0,  Iter    13:    Energy =   0.0591
Level     0,  Iter    14:    Energy =   0.0598
Level     0,  Iter    15:    Energy =   0.0602
Level     0,  Iter    16:    Energy =   0.0606
Level     0,  Iter    17:    Energy =   0.0607
Level     0,  Iter    18:    Energy =   0.0610
Level     0,  Iter    19:    Energy =   0.0610
Level     0,  Iter    20:    Energy =   0.0609
Level     0,  Iter    21:    Energy =   0.0612
Level     0,  Iter    22:    Energy =   0.0613
Level     0,  Iter    23:    Energy =   0.0615
Level     0,  Iter    24:    Energy =   0.0616
Level     0,  Iter    25:    Energy =   0.0618
Level     0,  Iter    26:    Energy =   0.0619
Level     0,  Iter    27:    Energy =   0.0620
Level     0,  Iter    28:    Energy =   0.0620
Level     0,  Iter    29:    Energy =   0.0622
Level     0,  Iter    30:    Energy =   0.0623
Level     0,  Iter    31:    Energy =   0.0624
Level     0,  Iter    32:    Energy =   0.0624
Level     0,  Iter    33:    Energy =   0.0625
Level     0,  Iter    34:    Energy =   0.0626
Level     0,  Iter    35:    Energy =   0.0628
Level     0,  Iter    36:    Energy =   0.0629
Level     0,  Iter    37:    Energy =   0.0630
Level     0,  Iter    38:    Energy =   0.0631
Level     0,  Iter    39:    Energy =   0.0633
Level     0,  Iter    40:    Energy =   0.0633
Level     0,  Iter    41:    Energy =   0.0636
Level     0,  Iter    42:    Energy =   0.0637
Level     0,  Iter    43:    Energy =   0.0639
Level     0,  Iter    44:    Energy =   0.0640
Level     0,  Iter    45:    Energy =   0.0641
Level     0,  Iter    46:    Energy =   0.0641
Level     0,  Iter    47:    Energy =   0.0643
Level     0,  Iter    48:    Energy =   0.0643
Level     0,  Iter    49:    Energy =   0.0644
Level     0,  Iter    50:    Energy =   0.0644
Level     0,  Iter    51:    Energy =   0.0645
Level     0,  Iter    52:    Energy =   0.0645
Level     0,  Iter    53:    Energy =   0.0646
Level     0,  Iter    54:    Energy =   0.0647
Level     0,  Iter    55:    Energy =   0.0647
Level     0,  Iter    56:    Energy =   0.0647
Level     0,  Iter    57:    Energy =   0.0647
Level     0,  Iter    58:    Energy =   0.0646
Level     0,  Iter    59:    Energy =   0.0647
END OF LEVEL     0    DetJac Range:   0.1365  to   2.3663 
  Avg. Gradient Time  : 0.0080s  33.88% 
  Avg. Gaussian Time  : 0.0114s  48.03% 
  Avg. Iteration Time : 0.0238s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0375
Level     1,  Iter     1:    Energy =   0.0394
Level     1,  Iter     2:    Energy =   0.0411
Level     1,  Iter     3:    Energy =   0.0428
Level     1,  Iter     4:    Energy =   0.0444
Level     1,  Iter     5:    Energy =   0.0459
Level     1,  Iter     6:    Energy =   0.0471
Level     1,  Iter     7:    Energy =   0.0481
Level     1,  Iter     8:    Energy =   0.0490
Level     1,  Iter     9:    Energy =   0.0498
Level     1,  Iter    10:    Energy =   0.0505
Level     1,  Iter    11:    Energy =   0.0511
Level     1,  Iter    12:    Energy =   0.0517
Level     1,  Iter    13:    Energy =   0.0522
Level     1,  Iter    14:    Energy =   0.0527
Level     1,  Iter    15:    Energy =   0.0532
Level     1,  Iter    16:    Energy =   0.0535
Level     1,  Iter    17:    Energy =   0.0538
Level     1,  Iter    18:    Energy =   0.0540
Level     1,  Iter    19:    Energy =   0.0542
Level     1,  Iter    20:    Energy =   0.0544
Level     1,  Iter    21:    Energy =   0.0545
Level     1,  Iter    22:    Energy =   0.0547
Level     1,  Iter    23:    Energy =   0.0548
Level     1,  Iter    24:    Energy =   0.0549
Level     1,  Iter    25:    Energy =   0.0550
Level     1,  Iter    26:    Energy =   0.0551
Level     1,  Iter    27:    Energy =   0.0551
Level     1,  Iter    28:    Energy =   0.0552
Level     1,  Iter    29:    Energy =   0.0553
Level     1,  Iter    30:    Energy =   0.0554
Level     1,  Iter    31:    Energy =   0.0555
Level     1,  Iter    32:    Energy =   0.0556
Level     1,  Iter    33:    Energy =   0.0557
Level     1,  Iter    34:    Energy =   0.0557
Level     1,  Iter    35:    Energy =   0.0559
Level     1,  Iter    36:    Energy =   0.0560
Level     1,  Iter    37:    Energy =   0.0561
Level     1,  Iter    38:    Energy =   0.0561
Level     1,  Iter    39:    Energy =   0.0562
Level     1,  Iter    40:    Energy =   0.0563
Level     1,  Iter    41:    Energy =   0.0560
Level     1,  Iter    42:    Energy =   0.0561
Level     1,  Iter    43:    Energy =   0.0562
Level     1,  Iter    44:    Energy =   0.0563
Level     1,  Iter    45:    Energy =   0.0563
Level     1,  Iter    46:    Energy =   0.0563
Level     1,  Iter    47:    Energy =   0.0562
Level     1,  Iter    48:    Energy =   0.0562
Level     1,  Iter    49:    Energy =   0.0564
Level     1,  Iter    50:    Energy =   0.0565
Level     1,  Iter    51:    Energy =   0.0563
Level     1,  Iter    52:    Energy =   0.0563
Level     1,  Iter    53:    Energy =   0.0564
Level     1,  Iter    54:    Energy =   0.0565
Level     1,  Iter    55:    Energy =   0.0566
Level     1,  Iter    56:    Energy =   0.0566
Level     1,  Iter    57:    Energy =   0.0566
Level     1,  Iter    58:    Energy =   0.0566
Level     1,  Iter    59:    Energy =   0.0566
END OF LEVEL     1    DetJac Range:   0.0516  to   3.7684 
  Avg. Gradient Time  : 0.0309s  34.78% 
  Avg. Gaussian Time  : 0.0454s  51.07% 
  Avg. Iteration Time : 0.0889s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0247
Level     2,  Iter     1:    Energy =   0.0258
Level     2,  Iter     2:    Energy =   0.0267
Level     2,  Iter     3:    Energy =   0.0275
Level     2,  Iter     4:    Energy =   0.0282
Level     2,  Iter     5:    Energy =   0.0289
Level     2,  Iter     6:    Energy =   0.0294
Level     2,  Iter     7:    Energy =   0.0300
Level     2,  Iter     8:    Energy =   0.0294
Level     2,  Iter     9:    Energy =   0.0288
Level     2,  Iter    10:    Energy =   0.0295
Level     2,  Iter    11:    Energy =   0.0302
Level     2,  Iter    12:    Energy =   0.0307
Level     2,  Iter    13:    Energy =   0.0311
Level     2,  Iter    14:    Energy =   0.0316
Level     2,  Iter    15:    Energy =   0.0309
Level     2,  Iter    16:    Energy =   0.0314
Level     2,  Iter    17:    Energy =   0.0319
Level     2,  Iter    18:    Energy =   0.0325
Level     2,  Iter    19:    Energy =   0.0331
END OF LEVEL     2    DetJac Range:   0.0291  to   3.7800 
  Avg. Gradient Time  : 0.1907s  32.92% 
  Avg. Gaussian Time  : 0.3114s  53.76% 
  Avg. Iteration Time : 0.5792s 

real	0m21.335s
user	0m35.924s
sys	0m3.072s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train010/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train010/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train010/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train010/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train010/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=45 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=45 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.392857 0.397143
+ echo 'CHUNK 0.392857 0.397143 1'
CHUNK 0.392857 0.397143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.392857 0.397143 1
====================================
         PROGRESS: 0.392857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=011
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 011
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train011
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train011
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right 011 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train011 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=right
+ local tid=011
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train011
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 011 right 0
+ local tid=011
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 011 0
+ set -e
+ local tid=011
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.783, moving = 0.636
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 108.458   GNORM= 185.392
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       -52.392     153.102       0.005
   2    3      -314.248      85.608       1.000
   3    4      -400.356      70.564       1.000
   4    6      -408.846      76.252       0.309
   5    7      -436.561      53.080       1.000
   6    9      -477.319      71.063       0.234
   7   10      -502.444      46.996       1.000
   8   11      -551.242      48.352       1.000
   9   12      -573.686      67.343       1.000
  10   13      -597.833      42.860       1.000
  11   14      -641.165      63.114       1.000
  12   15      -659.314      49.640       1.000
  13   16      -720.372      52.376       1.000
  14   19      -736.611      57.644       0.037
  15   21      -740.299      48.368       0.221
  16   22      -762.829      34.038       1.000
  17   24      -786.895      55.712       0.188
  18   25      -790.382      74.651       1.000
  19   26      -818.870      42.003       1.000
  20   27      -832.537      66.008       1.000
  21   28      -858.581      70.612       1.000
  22   31      -860.899      92.315       0.025
  23   32      -883.156      73.359       1.000
  24   33      -891.870      92.616       1.000
  25   34      -907.239      42.166       1.000
  26   35      -912.356      29.372       1.000
  27   36      -930.784      46.241       1.000
  28   37      -940.822      30.363       1.000
  29   38      -952.224      26.765       1.000
  30   39      -957.766      10.684       1.000
  31   40      -963.330      18.517       1.000
  32   42      -965.174      14.759       0.073
  33   44      -965.402      16.070       0.174
  34   47      -967.095       9.592       2.441
  35   48      -967.600      27.716       1.000
  36   49      -968.802      11.979       1.000
  37   50      -969.301      11.314       1.000
  38   51      -970.123      18.145       1.000
  39   52      -970.606       8.991       1.000
  40   53      -970.767       6.118       1.000
  41   55      -971.369      34.811       5.000
  42   56      -972.091      16.035       1.000
  43   57      -972.884      16.272       1.000
  44   59      -973.877      14.119       0.443
  45   60      -974.592       5.400       1.000
Final RAS Transform: 
0.884163 0.318734 0.24632 -3.47207 
0.319935 1.32897 0.531113 10.6429 
0.0198706 -0.432961 0.239974 -13.7434 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -362.767   GNORM= 22.0037
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -395.627      12.491       0.087
   2    6      -396.946      18.273       0.268
   3    7      -398.087      23.504       1.000
   4    8      -409.257      37.223       1.000
   5   11      -422.834      40.904       0.093
   6   14      -426.396      43.620       0.046
   7   15      -440.714      50.733       1.000
   8   18      -463.690      37.955       0.102
   9   19      -471.706      42.506       1.000
  10   20      -495.830      41.176       1.000
  11   21      -511.310      15.478       1.000
  12   22      -513.708       9.988       1.000
  13   23      -515.989      14.272       1.000
  14   24      -520.533      24.380       1.000
  15   25      -528.288      36.302       1.000
  16   26      -535.229      14.369       1.000
  17   27      -536.214      10.671       1.000
  18   28      -537.799      20.956       1.000
  19   29      -541.436      12.558       1.000
  20   31      -543.427      14.375       0.431
  21   33      -544.279      21.296       0.485
  22   34      -548.051      23.293       1.000
  23   35      -552.629      17.464       1.000
  24   36      -554.593      14.119       1.000
  25   37      -555.540       7.679       1.000
  26   39      -555.881       7.011       0.460
  27   43      -555.979       6.286       0.177
  28   44      -556.110       5.252       1.000
  29   47      -556.330      11.340       0.055
Final RAS Transform: 
0.892515 0.390229 0.37196 -0.644896 
0.355989 1.34359 0.545726 11.5746 
0.0856343 -0.350723 0.171461 -20.4125 
0 0 0 1 

Final RAS Transform: 
0.892515 0.390229 0.37196 -0.644896 
0.355989 1.34359 0.545726 11.5746 
0.0856343 -0.350723 0.171461 -20.4125 
0 0 0 1 


real	0m6.699s
user	0m10.940s
sys	0m0.880s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.783, moving = 0.431206
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0243
Level     0,  Iter     1:    Energy =   0.0265
Level     0,  Iter     2:    Energy =   0.0296
Level     0,  Iter     3:    Energy =   0.0324
Level     0,  Iter     4:    Energy =   0.0352
Level     0,  Iter     5:    Energy =   0.0376
Level     0,  Iter     6:    Energy =   0.0397
Level     0,  Iter     7:    Energy =   0.0416
Level     0,  Iter     8:    Energy =   0.0428
Level     0,  Iter     9:    Energy =   0.0437
Level     0,  Iter    10:    Energy =   0.0448
Level     0,  Iter    11:    Energy =   0.0455
Level     0,  Iter    12:    Energy =   0.0461
Level     0,  Iter    13:    Energy =   0.0464
Level     0,  Iter    14:    Energy =   0.0471
Level     0,  Iter    15:    Energy =   0.0476
Level     0,  Iter    16:    Energy =   0.0476
Level     0,  Iter    17:    Energy =   0.0475
Level     0,  Iter    18:    Energy =   0.0482
Level     0,  Iter    19:    Energy =   0.0482
Level     0,  Iter    20:    Energy =   0.0481
Level     0,  Iter    21:    Energy =   0.0489
Level     0,  Iter    22:    Energy =   0.0488
Level     0,  Iter    23:    Energy =   0.0486
Level     0,  Iter    24:    Energy =   0.0490
Level     0,  Iter    25:    Energy =   0.0491
Level     0,  Iter    26:    Energy =   0.0488
Level     0,  Iter    27:    Energy =   0.0493
Level     0,  Iter    28:    Energy =   0.0492
Level     0,  Iter    29:    Energy =   0.0489
Level     0,  Iter    30:    Energy =   0.0492
Level     0,  Iter    31:    Energy =   0.0492
Level     0,  Iter    32:    Energy =   0.0489
Level     0,  Iter    33:    Energy =   0.0492
Level     0,  Iter    34:    Energy =   0.0492
Level     0,  Iter    35:    Energy =   0.0489
Level     0,  Iter    36:    Energy =   0.0491
Level     0,  Iter    37:    Energy =   0.0492
Level     0,  Iter    38:    Energy =   0.0489
Level     0,  Iter    39:    Energy =   0.0491
Level     0,  Iter    40:    Energy =   0.0490
Level     0,  Iter    41:    Energy =   0.0487
Level     0,  Iter    42:    Energy =   0.0488
Level     0,  Iter    43:    Energy =   0.0492
Level     0,  Iter    44:    Energy =   0.0489
Level     0,  Iter    45:    Energy =   0.0493
Level     0,  Iter    46:    Energy =   0.0490
Level     0,  Iter    47:    Energy =   0.0486
Level     0,  Iter    48:    Energy =   0.0487
Level     0,  Iter    49:    Energy =   0.0493
Level     0,  Iter    50:    Energy =   0.0489
Level     0,  Iter    51:    Energy =   0.0491
Level     0,  Iter    52:    Energy =   0.0487
Level     0,  Iter    53:    Energy =   0.0494
Level     0,  Iter    54:    Energy =   0.0494
Level     0,  Iter    55:    Energy =   0.0490
Level     0,  Iter    56:    Energy =   0.0489
Level     0,  Iter    57:    Energy =   0.0488
Level     0,  Iter    58:    Energy =   0.0484
Level     0,  Iter    59:    Energy =   0.0483
END OF LEVEL     0    DetJac Range:   0.1451  to   2.3773 
  Avg. Gradient Time  : 0.0085s  33.82% 
  Avg. Gaussian Time  : 0.0120s  47.96% 
  Avg. Iteration Time : 0.0251s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0284
Level     1,  Iter     1:    Energy =   0.0303
Level     1,  Iter     2:    Energy =   0.0320
Level     1,  Iter     3:    Energy =   0.0332
Level     1,  Iter     4:    Energy =   0.0342
Level     1,  Iter     5:    Energy =   0.0348
Level     1,  Iter     6:    Energy =   0.0353
Level     1,  Iter     7:    Energy =   0.0357
Level     1,  Iter     8:    Energy =   0.0360
Level     1,  Iter     9:    Energy =   0.0364
Level     1,  Iter    10:    Energy =   0.0368
Level     1,  Iter    11:    Energy =   0.0371
Level     1,  Iter    12:    Energy =   0.0376
Level     1,  Iter    13:    Energy =   0.0381
Level     1,  Iter    14:    Energy =   0.0387
Level     1,  Iter    15:    Energy =   0.0392
Level     1,  Iter    16:    Energy =   0.0395
Level     1,  Iter    17:    Energy =   0.0398
Level     1,  Iter    18:    Energy =   0.0401
Level     1,  Iter    19:    Energy =   0.0403
Level     1,  Iter    20:    Energy =   0.0404
Level     1,  Iter    21:    Energy =   0.0405
Level     1,  Iter    22:    Energy =   0.0406
Level     1,  Iter    23:    Energy =   0.0407
Level     1,  Iter    24:    Energy =   0.0407
Level     1,  Iter    25:    Energy =   0.0408
Level     1,  Iter    26:    Energy =   0.0408
Level     1,  Iter    27:    Energy =   0.0409
Level     1,  Iter    28:    Energy =   0.0409
Level     1,  Iter    29:    Energy =   0.0410
Level     1,  Iter    30:    Energy =   0.0410
Level     1,  Iter    31:    Energy =   0.0411
Level     1,  Iter    32:    Energy =   0.0411
Level     1,  Iter    33:    Energy =   0.0411
Level     1,  Iter    34:    Energy =   0.0411
Level     1,  Iter    35:    Energy =   0.0412
Level     1,  Iter    36:    Energy =   0.0412
Level     1,  Iter    37:    Energy =   0.0412
Level     1,  Iter    38:    Energy =   0.0412
Level     1,  Iter    39:    Energy =   0.0412
Level     1,  Iter    40:    Energy =   0.0413
Level     1,  Iter    41:    Energy =   0.0413
Level     1,  Iter    42:    Energy =   0.0413
Level     1,  Iter    43:    Energy =   0.0413
Level     1,  Iter    44:    Energy =   0.0413
Level     1,  Iter    45:    Energy =   0.0414
Level     1,  Iter    46:    Energy =   0.0414
Level     1,  Iter    47:    Energy =   0.0415
Level     1,  Iter    48:    Energy =   0.0415
Level     1,  Iter    49:    Energy =   0.0415
Level     1,  Iter    50:    Energy =   0.0416
Level     1,  Iter    51:    Energy =   0.0416
Level     1,  Iter    52:    Energy =   0.0417
Level     1,  Iter    53:    Energy =   0.0417
Level     1,  Iter    54:    Energy =   0.0417
Level     1,  Iter    55:    Energy =   0.0417
Level     1,  Iter    56:    Energy =   0.0418
Level     1,  Iter    57:    Energy =   0.0418
Level     1,  Iter    58:    Energy =   0.0418
Level     1,  Iter    59:    Energy =   0.0418
END OF LEVEL     1    DetJac Range:   0.0220  to   3.2945 
  Avg. Gradient Time  : 0.0310s  34.38% 
  Avg. Gaussian Time  : 0.0462s  51.17% 
  Avg. Iteration Time : 0.0903s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0195
Level     2,  Iter     1:    Energy =   0.0204
Level     2,  Iter     2:    Energy =   0.0212
Level     2,  Iter     3:    Energy =   0.0219
Level     2,  Iter     4:    Energy =   0.0224
Level     2,  Iter     5:    Energy =   0.0229
Level     2,  Iter     6:    Energy =   0.0233
Level     2,  Iter     7:    Energy =   0.0236
Level     2,  Iter     8:    Energy =   0.0239
Level     2,  Iter     9:    Energy =   0.0241
Level     2,  Iter    10:    Energy =   0.0243
Level     2,  Iter    11:    Energy =   0.0245
Level     2,  Iter    12:    Energy =   0.0246
Level     2,  Iter    13:    Energy =   0.0248
Level     2,  Iter    14:    Energy =   0.0249
Level     2,  Iter    15:    Energy =   0.0250
Level     2,  Iter    16:    Energy =   0.0251
Level     2,  Iter    17:    Energy =   0.0253
Level     2,  Iter    18:    Energy =   0.0254
Level     2,  Iter    19:    Energy =   0.0254
END OF LEVEL     2    DetJac Range:   0.0345  to   3.0881 
  Avg. Gradient Time  : 0.1995s  33.79% 
  Avg. Gaussian Time  : 0.3133s  53.05% 
  Avg. Iteration Time : 0.5905s 

real	0m21.640s
user	0m36.516s
sys	0m3.000s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train011/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train011/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train011/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train011/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train011/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=46 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=46 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.397143 0.401429
+ echo 'CHUNK 0.397143 0.401429 1'
CHUNK 0.397143 0.401429 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.397143 0.401429 1
====================================
         PROGRESS: 0.397143               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=012
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 012
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train012
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train012
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right 012 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train012 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=right
+ local tid=012
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train012
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 012 right 0
+ local tid=012
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 012 0
+ set -e
+ local tid=012
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.783, moving = 0.626
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 82.4648   GNORM= 185.66
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       -55.863     132.919       0.005
   2    3      -302.079      86.290       1.000
   3    4      -434.401      93.341       1.000
   4    5      -477.252      61.605       1.000
   5    6      -493.148      54.675       1.000
   6    7      -556.555      51.307       1.000
   7    8      -701.104      78.742       1.000
   8    9      -763.632     102.531       1.000
   9   10      -799.522      35.039       1.000
  10   12      -806.881      20.730       0.271
  11   14      -808.953      21.129       0.241
  12   16      -809.817      23.592       0.151
  13   17      -812.630      20.915       1.000
  14   18      -819.968      19.644       1.000
  15   19      -848.827      45.813       1.000
  16   21      -873.789     120.552       0.496
  17   23      -895.836      99.884       0.473
  18   24      -909.054      33.036       1.000
  19   25      -923.493      23.660       1.000
  20   27      -928.034      23.815       0.251
  21   29      -929.910      24.241       0.470
  22   31      -932.416      33.727       0.374
  23   32      -936.140      15.995       1.000
  24   33      -937.164      17.257       1.000
  25   35      -946.286      50.403       5.000
  26   36      -951.058      22.767       1.000
  27   37      -961.917      33.799       1.000
  28   39      -971.246      52.626       0.480
  29   41      -973.446      39.886       0.427
  30   42      -980.157      22.761       1.000
  31   43      -983.364      49.035       1.000
  32   44      -986.171      15.321       1.000
  33   45      -987.368      10.333       1.000
  34   47      -988.207      13.663       0.396
  35   48      -988.432      17.938       1.000
  36   49      -989.039      16.829       1.000
  37   50      -989.782      21.050       1.000
  38   51      -991.331      28.462       1.000
  39   52      -994.341      21.564       1.000
  40   54      -995.567      22.857       0.268
  41   55      -996.317      11.254       1.000
  42   56      -996.585      11.818       1.000
  43   57      -996.799       6.554       1.000
  44   58      -996.964       3.428       1.000
  45   59      -997.143      10.758       1.000
  46   60      -997.272      14.661       1.000
  47   61      -997.303      17.584       1.000
Final RAS Transform: 
0.77204 0.0837624 -0.26352 -0.460156 
0.260238 1.07531 0.170486 11.0432 
-0.368908 -0.238228 0.695957 -4.0099 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -500.257   GNORM= 22.6749
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -504.193      49.536       0.044
   2    3      -513.394      17.748       1.000
   3    4      -518.898      19.725       1.000
   4    5      -528.521      41.239       1.000
   5    6      -533.849      38.421       1.000
   6    7      -540.785      26.096       1.000
   7    8      -542.620      31.338       1.000
   8    9      -545.250       8.927       1.000
   9   10      -545.595      20.520       1.000
  10   11      -547.317      12.368       1.000
  11   14      -549.472      13.578       2.273
  12   15      -549.924      22.439       1.000
  13   16      -551.900       7.007       1.000
  14   18      -558.933      22.547       5.000
  15   19      -562.980      16.012       1.000
  16   21      -564.199      13.908       0.259
  17   22      -565.126      17.001       1.000
  18   24      -565.473      12.258       0.213
  19   25      -565.852      22.976       1.000
  20   26      -567.888      20.755       1.000
  21   27      -571.252      24.215       1.000
  22   28      -572.405      16.766       1.000
  23   29      -575.166       7.299       1.000
  24   30      -575.846      13.959       1.000
  25   31      -576.332      27.427       1.000
  26   32      -577.305       7.705       1.000
  27   33      -577.338       5.515       1.000
  28   34      -577.519       5.967       1.000
  29   35      -577.675       6.503       1.000
  30   36      -577.884      22.552       1.000
  31   37      -578.982      15.879       1.000
  32   39      -580.859      12.184       0.333
  33   40      -581.191      11.829       1.000
  34   42      -581.324      14.794       0.364
  35   43      -581.616      12.432       1.000
  36   44      -581.903       6.982       1.000
  37   45      -581.992       4.352       1.000
  38   46      -582.472       4.843       1.000
  39   48      -582.715      15.366       0.368
  40   49      -583.170      10.635       1.000
  41   51      -583.555       5.833       0.446
  42   53      -583.874      14.652       5.000
  43   54      -584.033       7.873       1.000
  44   56      -584.161       2.562       0.399
  45   59      -584.191       4.491       1.612
  46   60      -584.224       6.724       1.000
  47   61      -584.266       5.157       1.000
Final RAS Transform: 
0.776255 0.172469 -0.258714 -2.24076 
0.112621 1.03159 0.162061 14.2638 
-0.377698 -0.223951 0.645271 -5.14272 
0 0 0 1 

Final RAS Transform: 
0.776255 0.172469 -0.258714 -2.24076 
0.112621 1.03159 0.162061 14.2638 
-0.377698 -0.223951 0.645271 -5.14272 
0 0 0 1 


real	0m6.907s
user	0m11.424s
sys	0m0.836s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.783, moving = 0.403308
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0249
Level     0,  Iter     1:    Energy =   0.0256
Level     0,  Iter     2:    Energy =   0.0279
Level     0,  Iter     3:    Energy =   0.0306
Level     0,  Iter     4:    Energy =   0.0328
Level     0,  Iter     5:    Energy =   0.0349
Level     0,  Iter     6:    Energy =   0.0372
Level     0,  Iter     7:    Energy =   0.0394
Level     0,  Iter     8:    Energy =   0.0409
Level     0,  Iter     9:    Energy =   0.0420
Level     0,  Iter    10:    Energy =   0.0428
Level     0,  Iter    11:    Energy =   0.0435
Level     0,  Iter    12:    Energy =   0.0440
Level     0,  Iter    13:    Energy =   0.0444
Level     0,  Iter    14:    Energy =   0.0444
Level     0,  Iter    15:    Energy =   0.0445
Level     0,  Iter    16:    Energy =   0.0446
Level     0,  Iter    17:    Energy =   0.0446
Level     0,  Iter    18:    Energy =   0.0448
Level     0,  Iter    19:    Energy =   0.0449
Level     0,  Iter    20:    Energy =   0.0451
Level     0,  Iter    21:    Energy =   0.0452
Level     0,  Iter    22:    Energy =   0.0454
Level     0,  Iter    23:    Energy =   0.0455
Level     0,  Iter    24:    Energy =   0.0456
Level     0,  Iter    25:    Energy =   0.0457
Level     0,  Iter    26:    Energy =   0.0459
Level     0,  Iter    27:    Energy =   0.0460
Level     0,  Iter    28:    Energy =   0.0461
Level     0,  Iter    29:    Energy =   0.0461
Level     0,  Iter    30:    Energy =   0.0461
Level     0,  Iter    31:    Energy =   0.0461
Level     0,  Iter    32:    Energy =   0.0461
Level     0,  Iter    33:    Energy =   0.0460
Level     0,  Iter    34:    Energy =   0.0461
Level     0,  Iter    35:    Energy =   0.0461
Level     0,  Iter    36:    Energy =   0.0461
Level     0,  Iter    37:    Energy =   0.0461
Level     0,  Iter    38:    Energy =   0.0461
Level     0,  Iter    39:    Energy =   0.0461
Level     0,  Iter    40:    Energy =   0.0461
Level     0,  Iter    41:    Energy =   0.0461
Level     0,  Iter    42:    Energy =   0.0461
Level     0,  Iter    43:    Energy =   0.0462
Level     0,  Iter    44:    Energy =   0.0462
Level     0,  Iter    45:    Energy =   0.0462
Level     0,  Iter    46:    Energy =   0.0462
Level     0,  Iter    47:    Energy =   0.0463
Level     0,  Iter    48:    Energy =   0.0463
Level     0,  Iter    49:    Energy =   0.0463
Level     0,  Iter    50:    Energy =   0.0463
Level     0,  Iter    51:    Energy =   0.0463
Level     0,  Iter    52:    Energy =   0.0463
Level     0,  Iter    53:    Energy =   0.0463
Level     0,  Iter    54:    Energy =   0.0463
Level     0,  Iter    55:    Energy =   0.0464
Level     0,  Iter    56:    Energy =   0.0464
Level     0,  Iter    57:    Energy =   0.0464
Level     0,  Iter    58:    Energy =   0.0464
Level     0,  Iter    59:    Energy =   0.0464
END OF LEVEL     0    DetJac Range:   0.2548  to   2.3062 
  Avg. Gradient Time  : 0.0085s  33.79% 
  Avg. Gaussian Time  : 0.0120s  47.76% 
  Avg. Iteration Time : 0.0251s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0261
Level     1,  Iter     1:    Energy =   0.0279
Level     1,  Iter     2:    Energy =   0.0293
Level     1,  Iter     3:    Energy =   0.0307
Level     1,  Iter     4:    Energy =   0.0318
Level     1,  Iter     5:    Energy =   0.0326
Level     1,  Iter     6:    Energy =   0.0335
Level     1,  Iter     7:    Energy =   0.0343
Level     1,  Iter     8:    Energy =   0.0349
Level     1,  Iter     9:    Energy =   0.0356
Level     1,  Iter    10:    Energy =   0.0361
Level     1,  Iter    11:    Energy =   0.0364
Level     1,  Iter    12:    Energy =   0.0369
Level     1,  Iter    13:    Energy =   0.0373
Level     1,  Iter    14:    Energy =   0.0375
Level     1,  Iter    15:    Energy =   0.0378
Level     1,  Iter    16:    Energy =   0.0381
Level     1,  Iter    17:    Energy =   0.0384
Level     1,  Iter    18:    Energy =   0.0387
Level     1,  Iter    19:    Energy =   0.0390
Level     1,  Iter    20:    Energy =   0.0392
Level     1,  Iter    21:    Energy =   0.0395
Level     1,  Iter    22:    Energy =   0.0397
Level     1,  Iter    23:    Energy =   0.0399
Level     1,  Iter    24:    Energy =   0.0401
Level     1,  Iter    25:    Energy =   0.0403
Level     1,  Iter    26:    Energy =   0.0404
Level     1,  Iter    27:    Energy =   0.0405
Level     1,  Iter    28:    Energy =   0.0406
Level     1,  Iter    29:    Energy =   0.0407
Level     1,  Iter    30:    Energy =   0.0407
Level     1,  Iter    31:    Energy =   0.0408
Level     1,  Iter    32:    Energy =   0.0409
Level     1,  Iter    33:    Energy =   0.0410
Level     1,  Iter    34:    Energy =   0.0411
Level     1,  Iter    35:    Energy =   0.0412
Level     1,  Iter    36:    Energy =   0.0413
Level     1,  Iter    37:    Energy =   0.0414
Level     1,  Iter    38:    Energy =   0.0414
Level     1,  Iter    39:    Energy =   0.0415
Level     1,  Iter    40:    Energy =   0.0416
Level     1,  Iter    41:    Energy =   0.0416
Level     1,  Iter    42:    Energy =   0.0416
Level     1,  Iter    43:    Energy =   0.0417
Level     1,  Iter    44:    Energy =   0.0417
Level     1,  Iter    45:    Energy =   0.0417
Level     1,  Iter    46:    Energy =   0.0418
Level     1,  Iter    47:    Energy =   0.0418
Level     1,  Iter    48:    Energy =   0.0418
Level     1,  Iter    49:    Energy =   0.0418
Level     1,  Iter    50:    Energy =   0.0419
Level     1,  Iter    51:    Energy =   0.0419
Level     1,  Iter    52:    Energy =   0.0419
Level     1,  Iter    53:    Energy =   0.0419
Level     1,  Iter    54:    Energy =   0.0419
Level     1,  Iter    55:    Energy =   0.0420
Level     1,  Iter    56:    Energy =   0.0420
Level     1,  Iter    57:    Energy =   0.0420
Level     1,  Iter    58:    Energy =   0.0420
Level     1,  Iter    59:    Energy =   0.0421
END OF LEVEL     1    DetJac Range:   0.1081  to   3.0182 
  Avg. Gradient Time  : 0.0303s  34.69% 
  Avg. Gaussian Time  : 0.0447s  51.17% 
  Avg. Iteration Time : 0.0874s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0198
Level     2,  Iter     1:    Energy =   0.0209
Level     2,  Iter     2:    Energy =   0.0218
Level     2,  Iter     3:    Energy =   0.0224
Level     2,  Iter     4:    Energy =   0.0230
Level     2,  Iter     5:    Energy =   0.0237
Level     2,  Iter     6:    Energy =   0.0243
Level     2,  Iter     7:    Energy =   0.0247
Level     2,  Iter     8:    Energy =   0.0252
Level     2,  Iter     9:    Energy =   0.0256
Level     2,  Iter    10:    Energy =   0.0259
Level     2,  Iter    11:    Energy =   0.0263
Level     2,  Iter    12:    Energy =   0.0259
Level     2,  Iter    13:    Energy =   0.0263
Level     2,  Iter    14:    Energy =   0.0266
Level     2,  Iter    15:    Energy =   0.0269
Level     2,  Iter    16:    Energy =   0.0272
Level     2,  Iter    17:    Energy =   0.0274
Level     2,  Iter    18:    Energy =   0.0277
Level     2,  Iter    19:    Energy =   0.0278
END OF LEVEL     2    DetJac Range:   0.0489  to   3.8170 
  Avg. Gradient Time  : 0.2042s  34.14% 
  Avg. Gaussian Time  : 0.3145s  52.58% 
  Avg. Iteration Time : 0.5982s 

real	0m21.752s
user	0m36.820s
sys	0m3.040s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train012/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train012/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train012/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train012/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train012/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=47 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=47 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.401429 0.405714
+ echo 'CHUNK 0.401429 0.405714 1'
CHUNK 0.401429 0.405714 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.401429 0.405714 1
====================================
         PROGRESS: 0.401429               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=013
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 013
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train013
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train013
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right 013 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train013 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=right
+ local tid=013
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train013
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 013 right 0
+ local tid=013
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 013 0
+ set -e
+ local tid=013
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.783, moving = 0.515
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 264.059   GNORM= 137.582
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       156.960     123.103       0.007
   2    3        -3.205      89.675       1.000
   3    5       -69.063      45.199       0.169
   4    9      -177.703      35.631       3.068
   5   12      -178.006      78.499       0.054
   6   13      -262.840      88.879       1.000
   7   16      -298.628      55.794       0.065
   8   18      -299.620      54.584       0.490
   9   19      -312.323      49.139       1.000
  10   21      -359.162      49.381       0.502
  11   22      -388.097      66.553       1.000
  12   25      -428.578     120.335       0.098
  13   27      -503.988     104.160       0.374
  14   28      -541.444     160.714       1.000
  15   29      -590.864     148.395       1.000
  16   30      -768.823     214.826       1.000
  17   31      -862.099      71.552       1.000
  18   32      -900.626      44.277       1.000
  19   33      -916.962      46.387       1.000
  20   34      -920.915      88.185       1.000
  21   38      -935.952      60.507       1.405
  22   43      -936.045      52.646       0.000
  23   45      -942.405      33.288       0.459
  24   46      -945.975      50.636       1.000
  25   47      -958.105      24.275       1.000
  26   48      -972.473      36.627       1.000
  27   53      -987.273      15.153       1.950
  28   54      -990.100     126.005       1.000
Final RAS Transform: 
0.686319 0.145189 0.249977 0.801129 
0.399279 1.17724 0.40577 10.1502 
-0.484838 -0.505971 0.16709 0.587789 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -451.314   GNORM= 28.3229
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    4      -454.495      31.503       0.006
   2   10      -457.016      38.151       1.001
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.687417 0.144592 0.250271 0.79588 
0.400301 1.18125 0.404199 10.6396 
-0.488437 -0.507168 0.170846 0.268529 
0 0 0 1 

Final RAS Transform: 
0.687417 0.144592 0.250271 0.79588 
0.400301 1.18125 0.404199 10.6396 
-0.488437 -0.507168 0.170846 0.268529 
0 0 0 1 


real	0m4.539s
user	0m6.920s
sys	0m0.736s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.783, moving = 0.425874
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0237
Level     0,  Iter     1:    Energy =   0.0262
Level     0,  Iter     2:    Energy =   0.0298
Level     0,  Iter     3:    Energy =   0.0334
Level     0,  Iter     4:    Energy =   0.0363
Level     0,  Iter     5:    Energy =   0.0388
Level     0,  Iter     6:    Energy =   0.0415
Level     0,  Iter     7:    Energy =   0.0441
Level     0,  Iter     8:    Energy =   0.0461
Level     0,  Iter     9:    Energy =   0.0477
Level     0,  Iter    10:    Energy =   0.0490
Level     0,  Iter    11:    Energy =   0.0502
Level     0,  Iter    12:    Energy =   0.0512
Level     0,  Iter    13:    Energy =   0.0521
Level     0,  Iter    14:    Energy =   0.0528
Level     0,  Iter    15:    Energy =   0.0535
Level     0,  Iter    16:    Energy =   0.0543
Level     0,  Iter    17:    Energy =   0.0550
Level     0,  Iter    18:    Energy =   0.0559
Level     0,  Iter    19:    Energy =   0.0569
Level     0,  Iter    20:    Energy =   0.0578
Level     0,  Iter    21:    Energy =   0.0586
Level     0,  Iter    22:    Energy =   0.0593
Level     0,  Iter    23:    Energy =   0.0598
Level     0,  Iter    24:    Energy =   0.0603
Level     0,  Iter    25:    Energy =   0.0608
Level     0,  Iter    26:    Energy =   0.0611
Level     0,  Iter    27:    Energy =   0.0614
Level     0,  Iter    28:    Energy =   0.0617
Level     0,  Iter    29:    Energy =   0.0619
Level     0,  Iter    30:    Energy =   0.0622
Level     0,  Iter    31:    Energy =   0.0624
Level     0,  Iter    32:    Energy =   0.0627
Level     0,  Iter    33:    Energy =   0.0628
Level     0,  Iter    34:    Energy =   0.0631
Level     0,  Iter    35:    Energy =   0.0631
Level     0,  Iter    36:    Energy =   0.0634
Level     0,  Iter    37:    Energy =   0.0635
Level     0,  Iter    38:    Energy =   0.0638
Level     0,  Iter    39:    Energy =   0.0639
Level     0,  Iter    40:    Energy =   0.0642
Level     0,  Iter    41:    Energy =   0.0642
Level     0,  Iter    42:    Energy =   0.0645
Level     0,  Iter    43:    Energy =   0.0644
Level     0,  Iter    44:    Energy =   0.0645
Level     0,  Iter    45:    Energy =   0.0646
Level     0,  Iter    46:    Energy =   0.0648
Level     0,  Iter    47:    Energy =   0.0648
Level     0,  Iter    48:    Energy =   0.0650
Level     0,  Iter    49:    Energy =   0.0650
Level     0,  Iter    50:    Energy =   0.0650
Level     0,  Iter    51:    Energy =   0.0650
Level     0,  Iter    52:    Energy =   0.0651
Level     0,  Iter    53:    Energy =   0.0651
Level     0,  Iter    54:    Energy =   0.0652
Level     0,  Iter    55:    Energy =   0.0652
Level     0,  Iter    56:    Energy =   0.0653
Level     0,  Iter    57:    Energy =   0.0652
Level     0,  Iter    58:    Energy =   0.0654
Level     0,  Iter    59:    Energy =   0.0654
END OF LEVEL     0    DetJac Range:   0.1110  to   2.0245 
  Avg. Gradient Time  : 0.0077s  33.86% 
  Avg. Gaussian Time  : 0.0109s  47.95% 
  Avg. Iteration Time : 0.0227s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0357
Level     1,  Iter     1:    Energy =   0.0373
Level     1,  Iter     2:    Energy =   0.0387
Level     1,  Iter     3:    Energy =   0.0400
Level     1,  Iter     4:    Energy =   0.0413
Level     1,  Iter     5:    Energy =   0.0428
Level     1,  Iter     6:    Energy =   0.0440
Level     1,  Iter     7:    Energy =   0.0450
Level     1,  Iter     8:    Energy =   0.0459
Level     1,  Iter     9:    Energy =   0.0467
Level     1,  Iter    10:    Energy =   0.0473
Level     1,  Iter    11:    Energy =   0.0478
Level     1,  Iter    12:    Energy =   0.0481
Level     1,  Iter    13:    Energy =   0.0483
Level     1,  Iter    14:    Energy =   0.0486
Level     1,  Iter    15:    Energy =   0.0489
Level     1,  Iter    16:    Energy =   0.0491
Level     1,  Iter    17:    Energy =   0.0493
Level     1,  Iter    18:    Energy =   0.0495
Level     1,  Iter    19:    Energy =   0.0497
Level     1,  Iter    20:    Energy =   0.0499
Level     1,  Iter    21:    Energy =   0.0501
Level     1,  Iter    22:    Energy =   0.0502
Level     1,  Iter    23:    Energy =   0.0504
Level     1,  Iter    24:    Energy =   0.0505
Level     1,  Iter    25:    Energy =   0.0507
Level     1,  Iter    26:    Energy =   0.0508
Level     1,  Iter    27:    Energy =   0.0510
Level     1,  Iter    28:    Energy =   0.0511
Level     1,  Iter    29:    Energy =   0.0511
Level     1,  Iter    30:    Energy =   0.0512
Level     1,  Iter    31:    Energy =   0.0511
Level     1,  Iter    32:    Energy =   0.0511
Level     1,  Iter    33:    Energy =   0.0511
Level     1,  Iter    34:    Energy =   0.0511
Level     1,  Iter    35:    Energy =   0.0510
Level     1,  Iter    36:    Energy =   0.0510
Level     1,  Iter    37:    Energy =   0.0510
Level     1,  Iter    38:    Energy =   0.0511
Level     1,  Iter    39:    Energy =   0.0511
Level     1,  Iter    40:    Energy =   0.0511
Level     1,  Iter    41:    Energy =   0.0510
Level     1,  Iter    42:    Energy =   0.0511
Level     1,  Iter    43:    Energy =   0.0509
Level     1,  Iter    44:    Energy =   0.0509
Level     1,  Iter    45:    Energy =   0.0508
Level     1,  Iter    46:    Energy =   0.0507
Level     1,  Iter    47:    Energy =   0.0507
Level     1,  Iter    48:    Energy =   0.0506
Level     1,  Iter    49:    Energy =   0.0506
Level     1,  Iter    50:    Energy =   0.0505
Level     1,  Iter    51:    Energy =   0.0505
Level     1,  Iter    52:    Energy =   0.0504
Level     1,  Iter    53:    Energy =   0.0504
Level     1,  Iter    54:    Energy =   0.0504
Level     1,  Iter    55:    Energy =   0.0503
Level     1,  Iter    56:    Energy =   0.0503
Level     1,  Iter    57:    Energy =   0.0503
Level     1,  Iter    58:    Energy =   0.0503
Level     1,  Iter    59:    Energy =   0.0503
END OF LEVEL     1    DetJac Range:   0.0659  to   2.8133 
  Avg. Gradient Time  : 0.0322s  35.21% 
  Avg. Gaussian Time  : 0.0465s  50.73% 
  Avg. Iteration Time : 0.0916s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0216
Level     2,  Iter     1:    Energy =   0.0227
Level     2,  Iter     2:    Energy =   0.0237
Level     2,  Iter     3:    Energy =   0.0244
Level     2,  Iter     4:    Energy =   0.0251
Level     2,  Iter     5:    Energy =   0.0256
Level     2,  Iter     6:    Energy =   0.0255
Level     2,  Iter     7:    Energy =   0.0260
Level     2,  Iter     8:    Energy =   0.0264
Level     2,  Iter     9:    Energy =   0.0269
Level     2,  Iter    10:    Energy =   0.0272
Level     2,  Iter    11:    Energy =   0.0276
Level     2,  Iter    12:    Energy =   0.0279
Level     2,  Iter    13:    Energy =   0.0282
Level     2,  Iter    14:    Energy =   0.0285
Level     2,  Iter    15:    Energy =   0.0287
Level     2,  Iter    16:    Energy =   0.0290
Level     2,  Iter    17:    Energy =   0.0292
Level     2,  Iter    18:    Energy =   0.0294
Level     2,  Iter    19:    Energy =   0.0295
END OF LEVEL     2    DetJac Range:   0.0681  to   3.3954 
  Avg. Gradient Time  : 0.1995s  33.43% 
  Avg. Gaussian Time  : 0.3173s  53.16% 
  Avg. Iteration Time : 0.5968s 

real	0m21.721s
user	0m36.820s
sys	0m2.896s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train013/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train013/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train013/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train013/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train013/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=48 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=48 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.405714 0.41
+ echo 'CHUNK 0.405714 0.41 1'
CHUNK 0.405714 0.41 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.405714 0.41 1
====================================
         PROGRESS: 0.405714               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=014
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 014
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train014
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train014
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right 014 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train014 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=right
+ local tid=014
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train014
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 014 right 0
+ local tid=014
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 014 0
+ set -e
+ local tid=014
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.783, moving = 0.61
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 57.4936   GNORM= 145.244
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       -51.444     116.529       0.007
   2    3      -257.344     180.200       1.000
   3    4      -423.201      90.064       1.000
   4    8      -461.998      43.403       0.031
   5    9      -471.656      34.846       1.000
   6   10      -507.107      36.514       1.000
   7   11      -581.287      96.885       1.000
   8   12      -666.452      79.502       1.000
   9   13      -697.636      85.001       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.983112 0.030254 0.0261381 -3.33886 
0.331073 1.08316 -0.072308 7.6283 
-0.230907 -0.0257693 0.93338 -6.89134 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -354.348   GNORM= 18.6315
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -356.510      30.842       0.016
   2    4      -358.056      21.866       1.000
   3    8      -371.404      25.826       3.986
   4   13      -371.790      38.256       0.059
   5   14      -373.025      18.863       1.000
   6   21      -374.421      15.373       0.964
   7   22      -382.700      11.461       1.000
   8   24      -403.127      46.712       0.426
   9   26      -412.661      80.552       0.361
  10   30      -413.669      25.193       0.017
  11   33      -414.345      88.713       0.037
  12   34      -418.280      35.145       1.000
  13   35      -423.340      13.068       1.000
  14   41      -439.729      37.327      10.554
  15   44      -444.148      47.642       2.368
  16   45      -455.902      37.987       1.000
  17   47      -462.002      28.529       0.316
Final RAS Transform: 
1.05955 0.0764617 -0.0478912 -4.73628 
0.422758 1.0038 -0.015668 7.75889 
-0.159121 -0.114044 0.900194 -9.57384 
0 0 0 1 

Final RAS Transform: 
1.05955 0.0764617 -0.0478912 -4.73628 
0.422758 1.0038 -0.015668 7.75889 
-0.159121 -0.114044 0.900194 -9.57384 
0 0 0 1 


real	0m6.064s
user	0m9.932s
sys	0m0.780s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.783, moving = 0.400994
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0206
Level     0,  Iter     1:    Energy =   0.0218
Level     0,  Iter     2:    Energy =   0.0237
Level     0,  Iter     3:    Energy =   0.0252
Level     0,  Iter     4:    Energy =   0.0266
Level     0,  Iter     5:    Energy =   0.0277
Level     0,  Iter     6:    Energy =   0.0285
Level     0,  Iter     7:    Energy =   0.0293
Level     0,  Iter     8:    Energy =   0.0299
Level     0,  Iter     9:    Energy =   0.0306
Level     0,  Iter    10:    Energy =   0.0311
Level     0,  Iter    11:    Energy =   0.0316
Level     0,  Iter    12:    Energy =   0.0318
Level     0,  Iter    13:    Energy =   0.0322
Level     0,  Iter    14:    Energy =   0.0324
Level     0,  Iter    15:    Energy =   0.0329
Level     0,  Iter    16:    Energy =   0.0333
Level     0,  Iter    17:    Energy =   0.0336
Level     0,  Iter    18:    Energy =   0.0338
Level     0,  Iter    19:    Energy =   0.0340
Level     0,  Iter    20:    Energy =   0.0344
Level     0,  Iter    21:    Energy =   0.0347
Level     0,  Iter    22:    Energy =   0.0350
Level     0,  Iter    23:    Energy =   0.0353
Level     0,  Iter    24:    Energy =   0.0356
Level     0,  Iter    25:    Energy =   0.0360
Level     0,  Iter    26:    Energy =   0.0365
Level     0,  Iter    27:    Energy =   0.0370
Level     0,  Iter    28:    Energy =   0.0369
Level     0,  Iter    29:    Energy =   0.0373
Level     0,  Iter    30:    Energy =   0.0372
Level     0,  Iter    31:    Energy =   0.0375
Level     0,  Iter    32:    Energy =   0.0373
Level     0,  Iter    33:    Energy =   0.0375
Level     0,  Iter    34:    Energy =   0.0373
Level     0,  Iter    35:    Energy =   0.0375
Level     0,  Iter    36:    Energy =   0.0373
Level     0,  Iter    37:    Energy =   0.0375
Level     0,  Iter    38:    Energy =   0.0374
Level     0,  Iter    39:    Energy =   0.0376
Level     0,  Iter    40:    Energy =   0.0374
Level     0,  Iter    41:    Energy =   0.0376
Level     0,  Iter    42:    Energy =   0.0375
Level     0,  Iter    43:    Energy =   0.0377
Level     0,  Iter    44:    Energy =   0.0375
Level     0,  Iter    45:    Energy =   0.0378
Level     0,  Iter    46:    Energy =   0.0377
Level     0,  Iter    47:    Energy =   0.0379
Level     0,  Iter    48:    Energy =   0.0377
Level     0,  Iter    49:    Energy =   0.0379
Level     0,  Iter    50:    Energy =   0.0378
Level     0,  Iter    51:    Energy =   0.0380
Level     0,  Iter    52:    Energy =   0.0379
Level     0,  Iter    53:    Energy =   0.0380
Level     0,  Iter    54:    Energy =   0.0379
Level     0,  Iter    55:    Energy =   0.0381
Level     0,  Iter    56:    Energy =   0.0380
Level     0,  Iter    57:    Energy =   0.0381
Level     0,  Iter    58:    Energy =   0.0381
Level     0,  Iter    59:    Energy =   0.0381
END OF LEVEL     0    DetJac Range:   0.0717  to   2.6705 
  Avg. Gradient Time  : 0.0075s  33.37% 
  Avg. Gaussian Time  : 0.0107s  47.67% 
  Avg. Iteration Time : 0.0225s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0215
Level     1,  Iter     1:    Energy =   0.0231
Level     1,  Iter     2:    Energy =   0.0246
Level     1,  Iter     3:    Energy =   0.0257
Level     1,  Iter     4:    Energy =   0.0268
Level     1,  Iter     5:    Energy =   0.0279
Level     1,  Iter     6:    Energy =   0.0288
Level     1,  Iter     7:    Energy =   0.0296
Level     1,  Iter     8:    Energy =   0.0302
Level     1,  Iter     9:    Energy =   0.0308
Level     1,  Iter    10:    Energy =   0.0313
Level     1,  Iter    11:    Energy =   0.0317
Level     1,  Iter    12:    Energy =   0.0321
Level     1,  Iter    13:    Energy =   0.0325
Level     1,  Iter    14:    Energy =   0.0329
Level     1,  Iter    15:    Energy =   0.0333
Level     1,  Iter    16:    Energy =   0.0336
Level     1,  Iter    17:    Energy =   0.0339
Level     1,  Iter    18:    Energy =   0.0343
Level     1,  Iter    19:    Energy =   0.0346
Level     1,  Iter    20:    Energy =   0.0349
Level     1,  Iter    21:    Energy =   0.0352
Level     1,  Iter    22:    Energy =   0.0355
Level     1,  Iter    23:    Energy =   0.0357
Level     1,  Iter    24:    Energy =   0.0359
Level     1,  Iter    25:    Energy =   0.0361
Level     1,  Iter    26:    Energy =   0.0363
Level     1,  Iter    27:    Energy =   0.0364
Level     1,  Iter    28:    Energy =   0.0366
Level     1,  Iter    29:    Energy =   0.0367
Level     1,  Iter    30:    Energy =   0.0368
Level     1,  Iter    31:    Energy =   0.0369
Level     1,  Iter    32:    Energy =   0.0369
Level     1,  Iter    33:    Energy =   0.0370
Level     1,  Iter    34:    Energy =   0.0370
Level     1,  Iter    35:    Energy =   0.0370
Level     1,  Iter    36:    Energy =   0.0371
Level     1,  Iter    37:    Energy =   0.0371
Level     1,  Iter    38:    Energy =   0.0371
Level     1,  Iter    39:    Energy =   0.0372
Level     1,  Iter    40:    Energy =   0.0372
Level     1,  Iter    41:    Energy =   0.0373
Level     1,  Iter    42:    Energy =   0.0373
Level     1,  Iter    43:    Energy =   0.0373
Level     1,  Iter    44:    Energy =   0.0374
Level     1,  Iter    45:    Energy =   0.0374
Level     1,  Iter    46:    Energy =   0.0374
Level     1,  Iter    47:    Energy =   0.0375
Level     1,  Iter    48:    Energy =   0.0375
Level     1,  Iter    49:    Energy =   0.0376
Level     1,  Iter    50:    Energy =   0.0376
Level     1,  Iter    51:    Energy =   0.0376
Level     1,  Iter    52:    Energy =   0.0377
Level     1,  Iter    53:    Energy =   0.0377
Level     1,  Iter    54:    Energy =   0.0377
Level     1,  Iter    55:    Energy =   0.0378
Level     1,  Iter    56:    Energy =   0.0378
Level     1,  Iter    57:    Energy =   0.0378
Level     1,  Iter    58:    Energy =   0.0379
Level     1,  Iter    59:    Energy =   0.0379
END OF LEVEL     1    DetJac Range:   0.0289  to   4.3024 
  Avg. Gradient Time  : 0.0297s  34.48% 
  Avg. Gaussian Time  : 0.0443s  51.43% 
  Avg. Iteration Time : 0.0861s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0165
Level     2,  Iter     1:    Energy =   0.0171
Level     2,  Iter     2:    Energy =   0.0176
Level     2,  Iter     3:    Energy =   0.0180
Level     2,  Iter     4:    Energy =   0.0185
Level     2,  Iter     5:    Energy =   0.0188
Level     2,  Iter     6:    Energy =   0.0191
Level     2,  Iter     7:    Energy =   0.0193
Level     2,  Iter     8:    Energy =   0.0196
Level     2,  Iter     9:    Energy =   0.0198
Level     2,  Iter    10:    Energy =   0.0199
Level     2,  Iter    11:    Energy =   0.0201
Level     2,  Iter    12:    Energy =   0.0202
Level     2,  Iter    13:    Energy =   0.0204
Level     2,  Iter    14:    Energy =   0.0205
Level     2,  Iter    15:    Energy =   0.0207
Level     2,  Iter    16:    Energy =   0.0208
Level     2,  Iter    17:    Energy =   0.0209
Level     2,  Iter    18:    Energy =   0.0210
Level     2,  Iter    19:    Energy =   0.0211
END OF LEVEL     2    DetJac Range:   0.0182  to   3.8121 
  Avg. Gradient Time  : 0.1985s  33.63% 
  Avg. Gaussian Time  : 0.3138s  53.18% 
  Avg. Iteration Time : 0.5902s 

real	0m21.173s
user	0m36.144s
sys	0m2.708s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train014/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train014/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train014/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train014/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train014/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=49 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=49 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.41 0.414286
+ echo 'CHUNK 0.41 0.414286 1'
CHUNK 0.41 0.414286 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.41 0.414286 1
====================================
         PROGRESS: 0.41               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=015
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 015
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train015
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train015
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right 015 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train015 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=right
+ local tid=015
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train015
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 015 right 0
+ local tid=015
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 015 0
+ set -e
+ local tid=015
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.783, moving = 0.56
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 164.792   GNORM= 124.475
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2        62.500     112.653       0.008
   2    3      -282.338      82.918       1.000
   3    4      -427.173      38.228       1.000
   4    5      -482.139      50.731       1.000
   5    8      -524.016      62.300       0.063
   6    9      -549.336      56.096       1.000
   7   10      -570.177      53.123       1.000
   8   11      -629.334      70.120       1.000
   9   12      -721.180      39.649       1.000
  10   13      -756.608      72.581       1.000
  11   15      -785.276      62.612       0.248
  12   16      -800.717      34.352       1.000
  13   19      -818.687      57.028       2.037
  14   20      -823.700      80.441       1.000
  15   21      -834.336      28.604       1.000
  16   22      -840.167      32.413       1.000
  17   23      -843.806      18.712       1.000
  18   24      -852.187      30.848       1.000
  19   25      -863.604      30.206       1.000
  20   27      -867.688      37.576       0.488
  21   28      -875.550      22.929       1.000
  22   29      -894.004      57.995       1.000
  23   30      -907.640     124.004       1.000
  24   31      -939.354      59.277       1.000
  25   32      -966.119      44.513       1.000
  26   33      -991.638      18.891       1.000
  27   34     -1001.729      37.760       1.000
  28   36     -1003.671      22.612       0.090
  29   37     -1011.951      22.615       1.000
  30   39     -1016.004      32.606       0.243
  31   40     -1019.065      25.271       1.000
  32   42     -1023.697      24.562       0.390
  33   43     -1024.892      14.664       1.000
  34   44     -1026.106      18.172       1.000
  35   45     -1028.848      22.943       1.000
  36   46     -1030.186      14.324       1.000
  37   48     -1033.273      12.098       0.290
  38   50     -1033.868      18.214       0.183
  39   51     -1035.150      18.082       1.000
  40   52     -1036.189      13.908       1.000
  41   54     -1038.662      13.807       0.508
  42   56     -1039.617      15.362       0.202
  43   57     -1041.009       7.417       1.000
  44   58     -1041.822      21.129       1.000
  45   61     -1041.869      19.471       0.064
Final RAS Transform: 
1.0773 0.284284 -0.174115 -11.8593 
0.349328 1.19484 0.415681 10.3252 
-0.451334 -0.11351 0.653261 -2.20941 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -584.177   GNORM= 49.2287
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -588.108      41.301       0.005
   2    6      -588.175      29.742       0.090
   3    7      -588.203      25.511       1.000
   4   10      -590.390      24.402       2.024
   5   14      -590.924      98.023       0.000
   6   15      -591.195      29.412       1.000
   7   18      -591.784      20.707       0.913
   8   19      -592.324      28.154       1.000
   9   20      -595.782       7.178       1.000
  10   22      -599.822      13.519       5.000
  11   34      -600.156      11.544       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
1.10213 0.271758 -0.191729 -11.5243 
0.341916 1.20277 0.42597 11.5707 
-0.456742 -0.107079 0.693408 -1.77215 
0 0 0 1 

Final RAS Transform: 
1.10213 0.271758 -0.191729 -11.5243 
0.341916 1.20277 0.42597 11.5707 
-0.456742 -0.107079 0.693408 -1.77215 
0 0 0 1 


real	0m6.162s
user	0m9.856s
sys	0m0.948s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.783, moving = 0.390203
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0260
Level     0,  Iter     1:    Energy =   0.0282
Level     0,  Iter     2:    Energy =   0.0315
Level     0,  Iter     3:    Energy =   0.0340
Level     0,  Iter     4:    Energy =   0.0363
Level     0,  Iter     5:    Energy =   0.0385
Level     0,  Iter     6:    Energy =   0.0404
Level     0,  Iter     7:    Energy =   0.0419
Level     0,  Iter     8:    Energy =   0.0432
Level     0,  Iter     9:    Energy =   0.0444
Level     0,  Iter    10:    Energy =   0.0455
Level     0,  Iter    11:    Energy =   0.0461
Level     0,  Iter    12:    Energy =   0.0468
Level     0,  Iter    13:    Energy =   0.0468
Level     0,  Iter    14:    Energy =   0.0475
Level     0,  Iter    15:    Energy =   0.0474
Level     0,  Iter    16:    Energy =   0.0482
Level     0,  Iter    17:    Energy =   0.0483
Level     0,  Iter    18:    Energy =   0.0488
Level     0,  Iter    19:    Energy =   0.0487
Level     0,  Iter    20:    Energy =   0.0493
Level     0,  Iter    21:    Energy =   0.0493
Level     0,  Iter    22:    Energy =   0.0497
Level     0,  Iter    23:    Energy =   0.0496
Level     0,  Iter    24:    Energy =   0.0501
Level     0,  Iter    25:    Energy =   0.0502
Level     0,  Iter    26:    Energy =   0.0505
Level     0,  Iter    27:    Energy =   0.0503
Level     0,  Iter    28:    Energy =   0.0507
Level     0,  Iter    29:    Energy =   0.0508
Level     0,  Iter    30:    Energy =   0.0512
Level     0,  Iter    31:    Energy =   0.0512
Level     0,  Iter    32:    Energy =   0.0517
Level     0,  Iter    33:    Energy =   0.0518
Level     0,  Iter    34:    Energy =   0.0524
Level     0,  Iter    35:    Energy =   0.0523
Level     0,  Iter    36:    Energy =   0.0528
Level     0,  Iter    37:    Energy =   0.0527
Level     0,  Iter    38:    Energy =   0.0531
Level     0,  Iter    39:    Energy =   0.0530
Level     0,  Iter    40:    Energy =   0.0534
Level     0,  Iter    41:    Energy =   0.0534
Level     0,  Iter    42:    Energy =   0.0538
Level     0,  Iter    43:    Energy =   0.0538
Level     0,  Iter    44:    Energy =   0.0542
Level     0,  Iter    45:    Energy =   0.0542
Level     0,  Iter    46:    Energy =   0.0546
Level     0,  Iter    47:    Energy =   0.0546
Level     0,  Iter    48:    Energy =   0.0551
Level     0,  Iter    49:    Energy =   0.0553
Level     0,  Iter    50:    Energy =   0.0558
Level     0,  Iter    51:    Energy =   0.0559
Level     0,  Iter    52:    Energy =   0.0564
Level     0,  Iter    53:    Energy =   0.0566
Level     0,  Iter    54:    Energy =   0.0569
Level     0,  Iter    55:    Energy =   0.0569
Level     0,  Iter    56:    Energy =   0.0574
Level     0,  Iter    57:    Energy =   0.0575
Level     0,  Iter    58:    Energy =   0.0578
Level     0,  Iter    59:    Energy =   0.0577
END OF LEVEL     0    DetJac Range:   0.1805  to   3.0691 
  Avg. Gradient Time  : 0.0083s  33.84% 
  Avg. Gaussian Time  : 0.0117s  47.80% 
  Avg. Iteration Time : 0.0245s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0366
Level     1,  Iter     1:    Energy =   0.0383
Level     1,  Iter     2:    Energy =   0.0401
Level     1,  Iter     3:    Energy =   0.0419
Level     1,  Iter     4:    Energy =   0.0430
Level     1,  Iter     5:    Energy =   0.0439
Level     1,  Iter     6:    Energy =   0.0446
Level     1,  Iter     7:    Energy =   0.0453
Level     1,  Iter     8:    Energy =   0.0458
Level     1,  Iter     9:    Energy =   0.0465
Level     1,  Iter    10:    Energy =   0.0472
Level     1,  Iter    11:    Energy =   0.0480
Level     1,  Iter    12:    Energy =   0.0486
Level     1,  Iter    13:    Energy =   0.0492
Level     1,  Iter    14:    Energy =   0.0498
Level     1,  Iter    15:    Energy =   0.0504
Level     1,  Iter    16:    Energy =   0.0509
Level     1,  Iter    17:    Energy =   0.0513
Level     1,  Iter    18:    Energy =   0.0517
Level     1,  Iter    19:    Energy =   0.0520
Level     1,  Iter    20:    Energy =   0.0522
Level     1,  Iter    21:    Energy =   0.0524
Level     1,  Iter    22:    Energy =   0.0526
Level     1,  Iter    23:    Energy =   0.0528
Level     1,  Iter    24:    Energy =   0.0529
Level     1,  Iter    25:    Energy =   0.0531
Level     1,  Iter    26:    Energy =   0.0532
Level     1,  Iter    27:    Energy =   0.0532
Level     1,  Iter    28:    Energy =   0.0533
Level     1,  Iter    29:    Energy =   0.0533
Level     1,  Iter    30:    Energy =   0.0534
Level     1,  Iter    31:    Energy =   0.0534
Level     1,  Iter    32:    Energy =   0.0535
Level     1,  Iter    33:    Energy =   0.0535
Level     1,  Iter    34:    Energy =   0.0536
Level     1,  Iter    35:    Energy =   0.0537
Level     1,  Iter    36:    Energy =   0.0538
Level     1,  Iter    37:    Energy =   0.0539
Level     1,  Iter    38:    Energy =   0.0540
Level     1,  Iter    39:    Energy =   0.0541
Level     1,  Iter    40:    Energy =   0.0541
Level     1,  Iter    41:    Energy =   0.0542
Level     1,  Iter    42:    Energy =   0.0543
Level     1,  Iter    43:    Energy =   0.0543
Level     1,  Iter    44:    Energy =   0.0544
Level     1,  Iter    45:    Energy =   0.0544
Level     1,  Iter    46:    Energy =   0.0544
Level     1,  Iter    47:    Energy =   0.0544
Level     1,  Iter    48:    Energy =   0.0544
Level     1,  Iter    49:    Energy =   0.0545
Level     1,  Iter    50:    Energy =   0.0545
Level     1,  Iter    51:    Energy =   0.0545
Level     1,  Iter    52:    Energy =   0.0545
Level     1,  Iter    53:    Energy =   0.0545
Level     1,  Iter    54:    Energy =   0.0545
Level     1,  Iter    55:    Energy =   0.0545
Level     1,  Iter    56:    Energy =   0.0545
Level     1,  Iter    57:    Energy =   0.0545
Level     1,  Iter    58:    Energy =   0.0546
Level     1,  Iter    59:    Energy =   0.0546
END OF LEVEL     1    DetJac Range:   0.0442  to   4.6949 
  Avg. Gradient Time  : 0.0307s  35.02% 
  Avg. Gaussian Time  : 0.0448s  51.01% 
  Avg. Iteration Time : 0.0877s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0248
Level     2,  Iter     1:    Energy =   0.0257
Level     2,  Iter     2:    Energy =   0.0267
Level     2,  Iter     3:    Energy =   0.0275
Level     2,  Iter     4:    Energy =   0.0282
Level     2,  Iter     5:    Energy =   0.0289
Level     2,  Iter     6:    Energy =   0.0295
Level     2,  Iter     7:    Energy =   0.0300
Level     2,  Iter     8:    Energy =   0.0304
Level     2,  Iter     9:    Energy =   0.0308
Level     2,  Iter    10:    Energy =   0.0312
Level     2,  Iter    11:    Energy =   0.0310
Level     2,  Iter    12:    Energy =   0.0313
Level     2,  Iter    13:    Energy =   0.0307
Level     2,  Iter    14:    Energy =   0.0311
Level     2,  Iter    15:    Energy =   0.0308
big value: 2001.791712
Level     2,  Iter    16:    Energy =   0.0312
Level     2,  Iter    17:    Energy =   0.0305
Level     2,  Iter    18:    Energy =   0.0310
Level     2,  Iter    19:    Energy =   0.0306
END OF LEVEL     2    DetJac Range:   0.0342  to   3.7697 
  Avg. Gradient Time  : 0.1946s  33.49% 
  Avg. Gaussian Time  : 0.3090s  53.18% 
  Avg. Iteration Time : 0.5810s 

real	0m21.287s
user	0m36.168s
sys	0m2.816s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train015/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train015/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train015/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train015/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train015/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=50 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=50 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.414286 0.418571
+ echo 'CHUNK 0.414286 0.418571 1'
CHUNK 0.414286 0.418571 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.414286 0.418571 1
====================================
         PROGRESS: 0.414286               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=016
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 016
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train016
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train016
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right 016 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train016 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=right
+ local tid=016
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train016
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 016 right 0
+ local tid=016
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 016 0
+ set -e
+ local tid=016
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.783, moving = 0.626
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 184.739   GNORM= 241.738
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       -16.839     176.738       0.004
   2    3      -294.718     170.287       1.000
   3    4      -378.962      98.018       1.000
   4    7      -440.243      64.486       1.930
   5    8      -453.453      54.435       1.000
   6   10      -479.741      53.850       0.466
   7   11      -490.991     113.990       1.000
   8   12      -537.684      71.060       1.000
   9   13      -576.337     107.674       1.000
  10   14      -621.662      47.702       1.000
  11   15      -623.167      69.874       1.000
  12   16      -633.674      38.996       1.000
  13   17      -637.910      26.578       1.000
  14   18      -643.441      43.706       1.000
  15   20      -670.224      31.118       5.000
  16   23      -887.567     130.509       1.704
  17   24      -908.394      60.891       1.000
  18   26      -935.899      41.616       0.424
  19   28      -947.227      38.715       0.511
  20   30      -961.458      49.612       0.412
  21   32      -973.380      54.035       0.270
  22   33      -984.885      50.682       1.000
  23   34     -1000.949      40.520       1.000
  24   36     -1007.768      23.906       0.253
  25   37     -1019.740      23.826       1.000
  26   39     -1025.629      36.699       0.236
  27   40     -1037.752      43.379       1.000
  28   42     -1044.813      53.454       0.399
  29   43     -1048.750      59.240       1.000
  30   44     -1057.433      25.495       1.000
  31   45     -1059.892      34.198       1.000
  32   46     -1065.353      14.888       1.000
  33   47     -1074.107      33.147       1.000
  34   49     -1078.427      21.178       0.436
  35   50     -1079.926      16.329       1.000
  36   51     -1080.951      35.021       1.000
  37   52     -1084.705      31.846       1.000
  38   53     -1086.957      36.395       1.000
  39   54     -1090.768      18.374       1.000
  40   56     -1094.121      34.890       0.170
  41   57     -1101.506      25.192       1.000
  42   58     -1102.519      63.910       1.000
  43   59     -1109.927      50.141       1.000
  44   61     -1115.093      19.641       0.269
Final RAS Transform: 
0.962647 -0.0325983 0.0486375 -3.6758 
0.502858 1.41262 0.656992 5.39334 
0.0542767 -0.426858 0.290214 -14.6076 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -506.538   GNORM= 99.2292
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -550.195      43.705       0.010
   2    3      -555.495      21.106       1.000
   3    4      -557.673      18.607       1.000
   4    6      -558.757      23.701       0.216
   5    7      -560.382      14.395       1.000
   6    8      -561.858      14.261       1.000
   7    9      -565.338      24.003       1.000
   8   11      -571.489      38.745       0.483
   9   12      -576.202      17.254       1.000
  10   14      -582.624      18.180       5.000
  11   15      -596.550      32.172       1.000
  12   16      -608.525      33.737       1.000
  13   17      -616.423      53.853       1.000
  14   18      -625.037      21.892       1.000
  15   19      -628.808      32.209       1.000
  16   21      -629.236      43.798       0.065
  17   22      -631.584      34.578       1.000
  18   24      -633.475      21.638       0.283
  19   25      -634.462      24.635       1.000
  20   26      -634.934      17.416       1.000
  21   27      -636.212      14.419       1.000
  22   28      -637.493      13.499       1.000
  23   29      -639.135      13.433       1.000
  24   30      -642.600      18.196       1.000
  25   32      -643.506      11.632       0.109
  26   33      -645.164      15.043       1.000
  27   35      -645.926      17.648       0.147
  28   36      -646.657      13.616       1.000
  29   37      -646.808       8.530       1.000
  30   38      -646.950       4.953       1.000
  31   41      -647.280       8.003       2.411
  32   43      -647.365      11.973       0.391
  33   44      -647.614       9.330       1.000
  34   45      -647.826       9.827       1.000
  35   46      -647.966       8.161       1.000
  36   47      -648.033       6.204       1.000
  37   48      -648.105       4.217       1.000
  38   49      -648.392       5.213       1.000
  39   51      -648.684      14.412       5.000
  40   52      -649.146       9.523       1.000
  41   53      -649.271       4.500       1.000
  42   55      -649.318       7.528       0.202
  43   56      -649.369       3.995       1.000
  44   57      -649.414       8.658       1.000
  45   58      -649.514       5.132       1.000
  46   59      -649.658       7.104       1.000
  47   61      -649.700      10.135       0.375
Final RAS Transform: 
1.0024 -0.163787 -0.00663492 -3.63316 
0.438298 1.51588 0.822561 7.68636 
0.103123 -0.352882 0.322243 -16.6946 
0 0 0 1 

Final RAS Transform: 
1.0024 -0.163787 -0.00663492 -3.63316 
0.438298 1.51588 0.822561 7.68636 
0.103123 -0.352882 0.322243 -16.6946 
0 0 0 1 


real	0m6.587s
user	0m10.744s
sys	0m0.872s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.783, moving = 0.421614
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0285
Level     0,  Iter     1:    Energy =   0.0309
Level     0,  Iter     2:    Energy =   0.0346
Level     0,  Iter     3:    Energy =   0.0377
Level     0,  Iter     4:    Energy =   0.0409
Level     0,  Iter     5:    Energy =   0.0429
Level     0,  Iter     6:    Energy =   0.0447
Level     0,  Iter     7:    Energy =   0.0465
Level     0,  Iter     8:    Energy =   0.0483
Level     0,  Iter     9:    Energy =   0.0502
Level     0,  Iter    10:    Energy =   0.0517
Level     0,  Iter    11:    Energy =   0.0529
Level     0,  Iter    12:    Energy =   0.0540
Level     0,  Iter    13:    Energy =   0.0541
Level     0,  Iter    14:    Energy =   0.0544
Level     0,  Iter    15:    Energy =   0.0547
Level     0,  Iter    16:    Energy =   0.0549
Level     0,  Iter    17:    Energy =   0.0552
Level     0,  Iter    18:    Energy =   0.0554
Level     0,  Iter    19:    Energy =   0.0557
Level     0,  Iter    20:    Energy =   0.0557
Level     0,  Iter    21:    Energy =   0.0560
Level     0,  Iter    22:    Energy =   0.0561
Level     0,  Iter    23:    Energy =   0.0562
Level     0,  Iter    24:    Energy =   0.0566
Level     0,  Iter    25:    Energy =   0.0568
Level     0,  Iter    26:    Energy =   0.0571
Level     0,  Iter    27:    Energy =   0.0573
Level     0,  Iter    28:    Energy =   0.0577
Level     0,  Iter    29:    Energy =   0.0578
Level     0,  Iter    30:    Energy =   0.0582
Level     0,  Iter    31:    Energy =   0.0582
Level     0,  Iter    32:    Energy =   0.0586
Level     0,  Iter    33:    Energy =   0.0585
Level     0,  Iter    34:    Energy =   0.0588
Level     0,  Iter    35:    Energy =   0.0588
Level     0,  Iter    36:    Energy =   0.0591
Level     0,  Iter    37:    Energy =   0.0591
Level     0,  Iter    38:    Energy =   0.0594
Level     0,  Iter    39:    Energy =   0.0594
Level     0,  Iter    40:    Energy =   0.0597
Level     0,  Iter    41:    Energy =   0.0598
Level     0,  Iter    42:    Energy =   0.0600
Level     0,  Iter    43:    Energy =   0.0603
Level     0,  Iter    44:    Energy =   0.0604
Level     0,  Iter    45:    Energy =   0.0605
Level     0,  Iter    46:    Energy =   0.0607
Level     0,  Iter    47:    Energy =   0.0609
Level     0,  Iter    48:    Energy =   0.0610
Level     0,  Iter    49:    Energy =   0.0611
Level     0,  Iter    50:    Energy =   0.0612
Level     0,  Iter    51:    Energy =   0.0614
Level     0,  Iter    52:    Energy =   0.0615
Level     0,  Iter    53:    Energy =   0.0616
Level     0,  Iter    54:    Energy =   0.0617
Level     0,  Iter    55:    Energy =   0.0619
Level     0,  Iter    56:    Energy =   0.0621
Level     0,  Iter    57:    Energy =   0.0622
Level     0,  Iter    58:    Energy =   0.0622
Level     0,  Iter    59:    Energy =   0.0623
END OF LEVEL     0    DetJac Range:   0.0768  to   2.0576 
  Avg. Gradient Time  : 0.0080s  33.81% 
  Avg. Gaussian Time  : 0.0113s  47.89% 
  Avg. Iteration Time : 0.0237s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0342
Level     1,  Iter     1:    Energy =   0.0364
Level     1,  Iter     2:    Energy =   0.0382
Level     1,  Iter     3:    Energy =   0.0397
Level     1,  Iter     4:    Energy =   0.0410
Level     1,  Iter     5:    Energy =   0.0423
Level     1,  Iter     6:    Energy =   0.0432
Level     1,  Iter     7:    Energy =   0.0440
Level     1,  Iter     8:    Energy =   0.0448
Level     1,  Iter     9:    Energy =   0.0457
Level     1,  Iter    10:    Energy =   0.0465
Level     1,  Iter    11:    Energy =   0.0475
Level     1,  Iter    12:    Energy =   0.0484
Level     1,  Iter    13:    Energy =   0.0494
Level     1,  Iter    14:    Energy =   0.0502
Level     1,  Iter    15:    Energy =   0.0510
Level     1,  Iter    16:    Energy =   0.0517
Level     1,  Iter    17:    Energy =   0.0523
Level     1,  Iter    18:    Energy =   0.0529
Level     1,  Iter    19:    Energy =   0.0534
Level     1,  Iter    20:    Energy =   0.0538
Level     1,  Iter    21:    Energy =   0.0542
Level     1,  Iter    22:    Energy =   0.0546
Level     1,  Iter    23:    Energy =   0.0549
Level     1,  Iter    24:    Energy =   0.0551
Level     1,  Iter    25:    Energy =   0.0554
Level     1,  Iter    26:    Energy =   0.0556
Level     1,  Iter    27:    Energy =   0.0559
Level     1,  Iter    28:    Energy =   0.0561
Level     1,  Iter    29:    Energy =   0.0564
Level     1,  Iter    30:    Energy =   0.0563
Level     1,  Iter    31:    Energy =   0.0563
Level     1,  Iter    32:    Energy =   0.0563
Level     1,  Iter    33:    Energy =   0.0563
Level     1,  Iter    34:    Energy =   0.0564
Level     1,  Iter    35:    Energy =   0.0566
Level     1,  Iter    36:    Energy =   0.0567
Level     1,  Iter    37:    Energy =   0.0569
Level     1,  Iter    38:    Energy =   0.0567
Level     1,  Iter    39:    Energy =   0.0569
Level     1,  Iter    40:    Energy =   0.0569
Level     1,  Iter    41:    Energy =   0.0570
Level     1,  Iter    42:    Energy =   0.0571
Level     1,  Iter    43:    Energy =   0.0572
Level     1,  Iter    44:    Energy =   0.0572
Level     1,  Iter    45:    Energy =   0.0573
Level     1,  Iter    46:    Energy =   0.0573
Level     1,  Iter    47:    Energy =   0.0573
Level     1,  Iter    48:    Energy =   0.0574
Level     1,  Iter    49:    Energy =   0.0574
Level     1,  Iter    50:    Energy =   0.0573
Level     1,  Iter    51:    Energy =   0.0572
Level     1,  Iter    52:    Energy =   0.0572
Level     1,  Iter    53:    Energy =   0.0571
Level     1,  Iter    54:    Energy =   0.0568
Level     1,  Iter    55:    Energy =   0.0566
Level     1,  Iter    56:    Energy =   0.0565
Level     1,  Iter    57:    Energy =   0.0563
Level     1,  Iter    58:    Energy =   0.0561
Level     1,  Iter    59:    Energy =   0.0559
END OF LEVEL     1    DetJac Range:   0.0418  to   3.5381 
  Avg. Gradient Time  : 0.0311s  34.87% 
  Avg. Gaussian Time  : 0.0456s  51.05% 
  Avg. Iteration Time : 0.0893s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0241
Level     2,  Iter     1:    Energy =   0.0249
Level     2,  Iter     2:    Energy =   0.0255
Level     2,  Iter     3:    Energy =   0.0261
Level     2,  Iter     4:    Energy =   0.0267
Level     2,  Iter     5:    Energy =   0.0272
Level     2,  Iter     6:    Energy =   0.0277
Level     2,  Iter     7:    Energy =   0.0283
Level     2,  Iter     8:    Energy =   0.0289
Level     2,  Iter     9:    Energy =   0.0295
Level     2,  Iter    10:    Energy =   0.0302
Level     2,  Iter    11:    Energy =   0.0308
Level     2,  Iter    12:    Energy =   0.0314
Level     2,  Iter    13:    Energy =   0.0318
Level     2,  Iter    14:    Energy =   0.0322
Level     2,  Iter    15:    Energy =   0.0326
Level     2,  Iter    16:    Energy =   0.0329
Level     2,  Iter    17:    Energy =   0.0332
Level     2,  Iter    18:    Energy =   0.0335
Level     2,  Iter    19:    Energy =   0.0337
END OF LEVEL     2    DetJac Range:   0.0294  to   3.6768 
  Avg. Gradient Time  : 0.1964s  33.50% 
  Avg. Gaussian Time  : 0.3121s  53.23% 
  Avg. Iteration Time : 0.5864s 

real	0m21.388s
user	0m36.288s
sys	0m2.888s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train016/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train016/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train016/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train016/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train016/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=51 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=51 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.418571 0.422857
+ echo 'CHUNK 0.418571 0.422857 1'
CHUNK 0.418571 0.422857 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.418571 0.422857 1
====================================
         PROGRESS: 0.418571               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=017
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 017
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train017
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train017
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right 017 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train017 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=right
+ local tid=017
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train017
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 017 right 0
+ local tid=017
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 017 0
+ set -e
+ local tid=017
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.783, moving = 0.701
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -52.2166   GNORM= 219.788
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2      -236.309     188.065       0.005
   2    3      -262.209     136.135       1.000
   3    4      -468.835     119.757       1.000
   4    7      -539.996      43.816       0.046
   5    9      -563.636     104.409       5.000
   6   10      -620.987      59.678       1.000
   7   11      -732.541     145.743       1.000
   8   12      -797.937     154.894       1.000
   9   13      -886.620      99.814       1.000
  10   14      -890.288     158.929       1.000
  11   15      -930.266     167.632       1.000
  12   16      -941.853     114.432       1.000
  13   17      -984.718      59.139       1.000
  14   19      -991.201      25.700       0.358
  15   20      -995.333      25.868       1.000
  16   21     -1014.400      60.857       1.000
  17   22     -1026.317      90.195       1.000
  18   23     -1029.603      85.279       1.000
  19   24     -1044.621      25.162       1.000
  20   25     -1045.626      26.837       1.000
  21   26     -1047.239      26.911       1.000
  22   27     -1053.656      63.183       1.000
  23   28     -1060.216      64.918       1.000
  24   29     -1068.223      33.287       1.000
  25   31     -1070.174      16.889       0.393
  26   32     -1070.454      17.217       1.000
  27   33     -1070.975      11.396       1.000
  28   34     -1071.034      19.977       1.000
  29   35     -1071.425      14.577       1.000
  30   36     -1071.645      15.464       1.000
  31   37     -1072.045      11.007       1.000
  32   38     -1072.873      19.022       1.000
  33   40     -1073.786      15.057       0.208
  34   41     -1074.168       9.669       1.000
  35   42     -1074.657       6.961       1.000
  36   44     -1074.866      12.547       0.437
  37   46     -1074.957      16.303       0.275
  38   47     -1075.225      20.764       1.000
  39   48     -1076.068      16.436       1.000
  40   49     -1076.564       7.449       1.000
  41   50     -1076.630       5.650       1.000
  42   51     -1076.699       5.302       1.000
  43   52     -1076.723       2.955       1.000
  44   53     -1076.742       4.545       1.000
  45   54     -1076.767       2.788       1.000
  46   55     -1076.784       4.222       1.000
  47   56     -1076.808       2.165       1.000
  48   57     -1076.827       6.914       1.000
  49   58     -1076.847       2.272       1.000
  50   59     -1076.857       3.282       1.000
  51   60     -1076.873       2.883       1.000
  52   61     -1076.889       2.504       1.000
Final RAS Transform: 
1.03375 0.148677 0.114821 -2.23648 
0.11174 1.21775 0.322982 7.71051 
-0.129843 -0.316148 0.559952 -6.29363 
0 0 0 1 

*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= -650.745   GNORM= 39.7001
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    3      -654.330      23.836       0.006
   2    4      -655.665      14.750       1.000
   3    5      -657.165      23.450       1.000
   4    6      -659.040      21.239       1.000
   5    7      -668.996      57.244       1.000
   6    8      -677.369      45.888       1.000
   7    9      -687.027      24.497       1.000
   8   11      -689.505      13.170       0.468
   9   13      -690.081      13.680       0.499
  10   14      -690.288       7.046       1.000
  11   15      -690.546       6.750       1.000
  12   17      -690.713       6.475       0.324
  13   18      -691.385      19.601       1.000
  14   19      -692.204      15.086       1.000
  15   20      -692.821       7.491       1.000
  16   21      -693.041       6.909       1.000
  17   22      -693.329       7.132       1.000
  18   24      -693.508       7.261       0.243
  19   26      -695.177       8.234       5.000
  20   28      -696.172      11.713       0.495
  21   29      -696.832       4.573       1.000
  22   30      -696.857      10.780       1.000
  23   31      -697.260       5.566       1.000
  24   32      -697.269       9.475       1.000
  25   33      -697.515       3.862       1.000
  26   34      -697.680       5.049       1.000
  27   35      -697.862       8.666       1.000
  28   36      -698.115       8.982       1.000
  29   38      -698.266      13.156       0.416
  30   40      -698.306      16.612       0.166
  31   41      -698.684       6.335       1.000
  32   42      -698.792       8.313       1.000
  33   43      -698.962       5.867       1.000
  34   44      -699.300       5.421       1.000
  35   46      -699.545      16.038       0.385
  36   47      -699.777       9.523       1.000
  37   48      -700.113       7.651       1.000
  38   49      -700.590      11.309       1.000
  39   50      -700.806       3.946       1.000
  40   51      -700.896       4.903       1.000
  41   52      -700.987       4.674       1.000
  42   53      -701.055      10.647       1.000
  43   54      -701.229       6.170       1.000
  44   55      -701.266       3.725       1.000
  45   56      -701.290       2.229       1.000
  46   57      -701.318       4.288       1.000
  47   58      -701.414       4.361       1.000
  48   60      -701.460       4.516       0.369
  49   61      -701.545       5.787       1.000
Final RAS Transform: 
1.05212 0.0876443 0.0638482 -2.13658 
0.0896013 1.16154 0.3245 9.53932 
-0.0938797 -0.30535 0.54125 -8.0512 
0 0 0 1 

Final RAS Transform: 
1.05212 0.0876443 0.0638482 -2.13658 
0.0896013 1.16154 0.3245 9.53932 
-0.0938797 -0.30535 0.54125 -8.0512 
0 0 0 1 


real	0m6.608s
user	0m10.796s
sys	0m0.832s
+ greedy -d 3 -it /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_warp.nii.gz -m NCC 2x2x2 -n 60x60x20 -e 0.5 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.783, moving = 0.53826
LEVEL 1 of 3
  Smoothing sigmas: [3.24196, 3.14574, 3.2005], [1.32352, 1.28424, 1.3066]
Level     0,  Iter     0:    Energy =   0.0283
Level     0,  Iter     1:    Energy =   0.0307
Level     0,  Iter     2:    Energy =   0.0341
Level     0,  Iter     3:    Energy =   0.0373
Level     0,  Iter     4:    Energy =   0.0401
Level     0,  Iter     5:    Energy =   0.0423
Level     0,  Iter     6:    Energy =   0.0443
Level     0,  Iter     7:    Energy =   0.0454
Level     0,  Iter     8:    Energy =   0.0467
Level     0,  Iter     9:    Energy =   0.0480
Level     0,  Iter    10:    Energy =   0.0490
Level     0,  Iter    11:    Energy =   0.0502
Level     0,  Iter    12:    Energy =   0.0508
Level     0,  Iter    13:    Energy =   0.0518
Level     0,  Iter    14:    Energy =   0.0521
Level     0,  Iter    15:    Energy =   0.0525
Level     0,  Iter    16:    Energy =   0.0527
Level     0,  Iter    17:    Energy =   0.0532
Level     0,  Iter    18:    Energy =   0.0534
Level     0,  Iter    19:    Energy =   0.0537
Level     0,  Iter    20:    Energy =   0.0539
Level     0,  Iter    21:    Energy =   0.0542
Level     0,  Iter    22:    Energy =   0.0544
Level     0,  Iter    23:    Energy =   0.0547
Level     0,  Iter    24:    Energy =   0.0547
Level     0,  Iter    25:    Energy =   0.0549
Level     0,  Iter    26:    Energy =   0.0550
Level     0,  Iter    27:    Energy =   0.0551
Level     0,  Iter    28:    Energy =   0.0554
Level     0,  Iter    29:    Energy =   0.0558
Level     0,  Iter    30:    Energy =   0.0559
Level     0,  Iter    31:    Energy =   0.0563
Level     0,  Iter    32:    Energy =   0.0565
Level     0,  Iter    33:    Energy =   0.0568
Level     0,  Iter    34:    Energy =   0.0568
Level     0,  Iter    35:    Energy =   0.0571
Level     0,  Iter    36:    Energy =   0.0572
Level     0,  Iter    37:    Energy =   0.0575
Level     0,  Iter    38:    Energy =   0.0576
Level     0,  Iter    39:    Energy =   0.0578
Level     0,  Iter    40:    Energy =   0.0579
Level     0,  Iter    41:    Energy =   0.0580
Level     0,  Iter    42:    Energy =   0.0581
Level     0,  Iter    43:    Energy =   0.0581
Level     0,  Iter    44:    Energy =   0.0582
Level     0,  Iter    45:    Energy =   0.0583
Level     0,  Iter    46:    Energy =   0.0584
Level     0,  Iter    47:    Energy =   0.0584
Level     0,  Iter    48:    Energy =   0.0583
Level     0,  Iter    49:    Energy =   0.0584
Level     0,  Iter    50:    Energy =   0.0583
Level     0,  Iter    51:    Energy =   0.0583
Level     0,  Iter    52:    Energy =   0.0584
Level     0,  Iter    53:    Energy =   0.0584
Level     0,  Iter    54:    Energy =   0.0585
Level     0,  Iter    55:    Energy =   0.0585
Level     0,  Iter    56:    Energy =   0.0585
Level     0,  Iter    57:    Energy =   0.0586
Level     0,  Iter    58:    Energy =   0.0587
Level     0,  Iter    59:    Energy =   0.0586
END OF LEVEL     0    DetJac Range:   0.1068  to   4.3643 
  Avg. Gradient Time  : 0.0078s  33.85% 
  Avg. Gaussian Time  : 0.0109s  47.67% 
  Avg. Iteration Time : 0.0230s 
LEVEL 2 of 3
  Smoothing sigmas: [1.62098, 1.59866, 1.60025], [0.661762, 0.652649, 0.653299]
Level     1,  Iter     0:    Energy =   0.0347
Level     1,  Iter     1:    Energy =   0.0371
Level     1,  Iter     2:    Energy =   0.0393
Level     1,  Iter     3:    Energy =   0.0411
Level     1,  Iter     4:    Energy =   0.0430
Level     1,  Iter     5:    Energy =   0.0444
Level     1,  Iter     6:    Energy =   0.0453
Level     1,  Iter     7:    Energy =   0.0461
Level     1,  Iter     8:    Energy =   0.0469
Level     1,  Iter     9:    Energy =   0.0476
Level     1,  Iter    10:    Energy =   0.0484
Level     1,  Iter    11:    Energy =   0.0491
Level     1,  Iter    12:    Energy =   0.0497
Level     1,  Iter    13:    Energy =   0.0502
Level     1,  Iter    14:    Energy =   0.0507
Level     1,  Iter    15:    Energy =   0.0511
Level     1,  Iter    16:    Energy =   0.0514
Level     1,  Iter    17:    Energy =   0.0515
Level     1,  Iter    18:    Energy =   0.0517
Level     1,  Iter    19:    Energy =   0.0519
Level     1,  Iter    20:    Energy =   0.0520
Level     1,  Iter    21:    Energy =   0.0521
Level     1,  Iter    22:    Energy =   0.0522
Level     1,  Iter    23:    Energy =   0.0523
Level     1,  Iter    24:    Energy =   0.0524
Level     1,  Iter    25:    Energy =   0.0524
Level     1,  Iter    26:    Energy =   0.0525
Level     1,  Iter    27:    Energy =   0.0525
Level     1,  Iter    28:    Energy =   0.0525
Level     1,  Iter    29:    Energy =   0.0526
Level     1,  Iter    30:    Energy =   0.0526
Level     1,  Iter    31:    Energy =   0.0526
Level     1,  Iter    32:    Energy =   0.0526
Level     1,  Iter    33:    Energy =   0.0527
Level     1,  Iter    34:    Energy =   0.0527
Level     1,  Iter    35:    Energy =   0.0528
Level     1,  Iter    36:    Energy =   0.0528
Level     1,  Iter    37:    Energy =   0.0528
Level     1,  Iter    38:    Energy =   0.0529
Level     1,  Iter    39:    Energy =   0.0530
Level     1,  Iter    40:    Energy =   0.0530
Level     1,  Iter    41:    Energy =   0.0531
Level     1,  Iter    42:    Energy =   0.0532
Level     1,  Iter    43:    Energy =   0.0532
Level     1,  Iter    44:    Energy =   0.0533
Level     1,  Iter    45:    Energy =   0.0534
Level     1,  Iter    46:    Energy =   0.0533
Level     1,  Iter    47:    Energy =   0.0534
Level     1,  Iter    48:    Energy =   0.0533
Level     1,  Iter    49:    Energy =   0.0533
Level     1,  Iter    50:    Energy =   0.0532
Level     1,  Iter    51:    Energy =   0.0532
Level     1,  Iter    52:    Energy =   0.0531
Level     1,  Iter    53:    Energy =   0.0531
Level     1,  Iter    54:    Energy =   0.0530
Level     1,  Iter    55:    Energy =   0.0529
Level     1,  Iter    56:    Energy =   0.0528
Level     1,  Iter    57:    Energy =   0.0528
Level     1,  Iter    58:    Energy =   0.0527
Level     1,  Iter    59:    Energy =   0.0527
END OF LEVEL     1    DetJac Range:   0.0346  to   4.1745 
  Avg. Gradient Time  : 0.0309s  35.02% 
  Avg. Gaussian Time  : 0.0449s  50.83% 
  Avg. Iteration Time : 0.0883s 
LEVEL 3 of 3
  Smoothing sigmas: [0.810489, 0.805934, 0.808206], [0.330881, 0.329021, 0.329949]
Level     2,  Iter     0:    Energy =   0.0249
Level     2,  Iter     1:    Energy =   0.0260
Level     2,  Iter     2:    Energy =   0.0271
Level     2,  Iter     3:    Energy =   0.0281
Level     2,  Iter     4:    Energy =   0.0290
Level     2,  Iter     5:    Energy =   0.0298
Level     2,  Iter     6:    Energy =   0.0306
Level     2,  Iter     7:    Energy =   0.0313
Level     2,  Iter     8:    Energy =   0.0319
Level     2,  Iter     9:    Energy =   0.0325
Level     2,  Iter    10:    Energy =   0.0330
Level     2,  Iter    11:    Energy =   0.0335
Level     2,  Iter    12:    Energy =   0.0340
Level     2,  Iter    13:    Energy =   0.0344
Level     2,  Iter    14:    Energy =   0.0347
Level     2,  Iter    15:    Energy =   0.0351
Level     2,  Iter    16:    Energy =   0.0354
Level     2,  Iter    17:    Energy =   0.0356
Level     2,  Iter    18:    Energy =   0.0359
Level     2,  Iter    19:    Energy =   0.0361
END OF LEVEL     2    DetJac Range:   0.0234  to   4.8764 
  Avg. Gradient Time  : 0.1953s  33.05% 
  Avg. Gaussian Time  : 0.3179s  53.81% 
  Avg. Iteration Time : 0.5909s 

real	0m21.478s
user	0m36.232s
sys	0m3.016s
+ local ATLAS_RESLICE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train017/atlas_to_native.nii.gz
+ local ATLAS_RESLICE_SEG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz
+ [[ -n '' ]]
+ greedy -d 3 -rf /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train017/atlas_to_native.nii.gz -ri LABEL 0.24mm -rm /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/tse_native_chunk_right_seg.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train017/atlas_to_native_segvote.nii.gz -r /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train017/greedy_atlas_to_subj_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train017/flirt_t2_to_t1.mat,-1
Executing with the default number of threads: 48
+ [[ -n '' ]]
+ job_progress 1
+ local PROGRESS=1
+ local CHUNK_PSTART CHUNK_PEND
+ read CHUNK_PSTART CHUNK_PEND
++ echo 1
++ awk -v bs=0.2 -v be=0.5 -v j=52 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
+ echo 'CHUNK 0.2 0.5'
CHUNK 0.2 0.5
+ echo 1
+ awk -v bs=0.2 -v be=0.5 -v j=52 -v n=70 '{print bs + ((be - bs) * j) / n, bs + ((be - bs) * (j+1)) / n}'
0.422857 0.427143
+ echo 'CHUNK 0.422857 0.427143 1'
CHUNK 0.422857 0.427143 1
+ bash /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_default_hook.sh progress 0.422857 0.427143 1
====================================
         PROGRESS: 0.422857               
====================================
+ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_lib.sh
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_version.sh
+++ ASHS_VERSION_MAJOR=1
+++ ASHS_VERSION_MINOR=0
+++ ASHS_VERSION_PATCH=0
+++ ASHS_VERSION_NOTE=
+++ ASHS_VERSION_FULL=1.0.0
+++ ASHS_VERSION_DATE=20170915
+++ ASHS_OLDEST_COMPAT_DATE=20170810
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_common_master.sh
+++ [[ ! -n /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta ]]
++++ uname
+++ ARCH=Linux
+++ ASHS_BIN=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin
+++ ASHS_ANTS=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042
+++ ASHS_FSL=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl
++++ /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/c3d -version
++++ grep Version
+++ [[ ! -n Version 1.1.0 ]]
+++ PATH=/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
++ [[ ! /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh == /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh ]]
++ source /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/bin/ashs_config.sh
+++ ASHS_SIDES='left right'
+++ ASHS_MPRAGE_DENOISE=0
+++ ASHS_MPRAGE_SRUPSAMPLE=0
+++ ASHS_MPRAGE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_DENOISE=0
+++ ASHS_TSE_SRUPSAMPLE=0
+++ ASHS_TSE_SRUPSAMPLE_FACTOR='1 1 1'
+++ ASHS_TSE_ISO_FACTOR=100x100x500%
+++ ASHS_TSE_ISO_REGION_CROP='20x20x0% 60x60x100%'
+++ ASHS_FLIRT_MULTIMODAL_OPTS='-searchrx -5 5 -searchry -5 5 -searchrz -5 5 -coarsesearch 3 -finesearch 1 -searchcost normmi'
+++ ASHS_TEMPLATE_ANTS_ITER=60x20x0
+++ ASHS_TEMPLATE_STAGES_TOTAL=4
+++ ASHS_TEMPLATE_STAGES_RIGID=1
+++ ASHS_TEMPLATE_ROI_DILATION=10x10x10vox
+++ ASHS_TEMPLATE_ROI_MARGIN=4x4x4vox
+++ ASHS_TEMPLATE_TARGET_RESOLUTION=0.4688x0.4688x0.4688mm
+++ ASHS_TEMPLATE_MASK_THRESHOLD=0.5
+++ ASHS_TARGET_ATLAS_FOR_HISTMATCH=0
+++ ASHS_HISTMATCH_CONTROLS=5
+++ ASHS_PAIRWISE_AFFINE_ITER=60x60x0
+++ ASHS_PAIRWISE_DEFORM_ITER=60x60x20
+++ ASHS_PAIRWISE_CROSSCORR_RADIUS=2x2x2
+++ ASHS_PAIRWISE_ANTS_STEPSIZE=0.25
+++ ASHS_PAIRWISE_ANTS_T1_WEIGHT=0
+++ ASHS_LABEL_SMOOTHING=0.24mm
+++ ASHS_MALF_STRATEGY='Joint[0.1,2]'
+++ ASHS_MALF_PATCHRAD=3x3x1
+++ ASHS_MALF_SEARCHRAD=3x3x1
+++ ASHS_MALF_PADDING=0x0x2
+++ ASHS_EC_DILATION=1
+++ ASHS_EC_TARGET_SAMPLES=100000
+++ ASHS_EC_DRYRUN_SAMPLE_RATE=0.01
+++ ASHS_EC_ITERATIONS=500
+++ ASHS_EC_PATCH_RADIUS=6x6x0
+++ ASHS_EC_MINIMUM_SAMPLES=100
+++ ASHS_EC_QSUB_EXTRA_OPTIONS=
++ source /home/ccn30/ENCRYPT/atlases/magdeburgatlas/ashs_user_config.sh
+++ ASHS_TSE_ISO_FACTOR=100x100x252%
+++ ASHS_TEMPLATE_ANTS_ITER=60x60x20x0
+++ ASHS_TSE_ISO_REGION_CROP='10x10x0% 80x80x100%'
++ [[ -n '' ]]
+ side=right
+ tid=018
+ cat
Script: ashs_multiatlas_qsub.sh
Root: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta
Working directory: /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
PATH: /home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/ants_1042:/home/ccn30/privatemodules/ASHS/ashs-fastashs_beta/ext/Linux/bin/fsl:/applications/ANTS/2.2.0/bin:/applications/itksnap/3.6.0/bin-cs:/applications/fsl/fsl-5.0.10/bin:/applications/git/git-2.26.2/bin:/applications/turbovnc/2.1/bin:/applications/virtualgl/2.5.1/bin:/applications/slurm/current/sbin:/applications/slurm/current/bin:/applications/texlive/2016/bin/x86_64-linux:/applications/openmpi/openmpi-3.0.0/bin:/applications/ImageJ/1.50:/applications/spm/spm12_6906:/applications/matlab/matlab2016a/bin:/applications/hphi/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games:.
Subjob ID: 
Side: right
Training subject: 018
+ WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train018
+ mkdir -p /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train018
+ cd /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ ashs_ants_pairwise /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right 018 /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train018 0
+ local SUBJDIR=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local side=right
+ local tid=018
+ local WREG=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train018
+ local ATLAS_MODE=0
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ ashs_subj_side_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2 right
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ side=right
+ ashs_subj_vars /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WORK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2
+ local WANT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp
+ local WAFF=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template
+ local WFSL=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1
+ SUBJ_RAWMPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_raw.nii.gz
+ SUBJ_RAWTSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_raw.nii.gz
+ SUBJ_MPRAGE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage.nii.gz
+ SUBJ_TSE=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse.nii.gz
+ SUBJ_AFF_T2T1_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat
+ SUBJ_AFF_T2T1_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat
+ SUBJ_AFF_T1TEMP_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat
+ SUBJ_AFF_T1TEMP_INVMAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat
+ SUBJ_T1TEMP_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz
+ SUBJ_T1TEMP_INVWARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz
+ SUBJ_T1TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat'
+ SUBJ_T1TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_T2TEMP_TRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_warp.nii.gz /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1_inv.mat'
+ SUBJ_T2TEMP_INVTRAN='/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/flirt_t2_to_t1/flirt_t2_to_t1.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/affine_t1_to_template/t1_to_template_affine_inv.mat /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/ants_t1_to_temp/greedy_t1_to_template_invwarp.nii.gz'
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_MPRAGE_TO_CHUNKTEMP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/mprage_to_chunktemp_right.nii.gz
+ SUBJ_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz
+ SUBJ_SIDE_TSE_NATCHUNK=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_native_chunk_right.nii.gz
+ ashs_atlas_side_vars 018 right 0
+ local tid=018
+ local side=right
+ local ATLAS_MODE=0
+ local TDIR
+ ashs_atlas_vars 018 0
+ set -e
+ local tid=018
+ local ATLAS_MODE=0
+ local TDIR
+ [[ 0 -eq 1 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018
+ ATLAS_AFF_T2T1_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat
+ ATLAS_AFF_T1TEMP_MAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat
+ ATLAS_MPRAGE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/mprage.nii.gz
+ ATLAS_TSE=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse.nii.gz
+ ATLAS_AFF_T2T1_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1
+ ATLAS_AFF_T1TEMP_INVMAT=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1
+ [[ 0 -eq 0 ]]
+ TDIR=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018
+ ATLAS_T1TEMP_WARP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz
+ ATLAS_T1TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat'
+ ATLAS_T1TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_T2TEMP_TRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/greedy_t1_to_template_right_warp.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat,-1'
+ ATLAS_T2TEMP_INVTRAN='/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/flirt_t2_to_t1.mat /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/t1_to_template_affine.mat,-1 '
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_MPRAGE_TO_CHUNKTEMP=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/mprage_to_chunktemp_right.nii.gz
+ ATLAS_SIDE_TSE_TO_CHUNKTEMP_REGMASK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_right_regmask.nii.gz
+ ATLAS_SIDE_TSE_NATCHUNK=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_right.nii.gz
+ ATLAS_SEG=/home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_native_chunk_right_seg.nii.gz
+ local ATLAS_SUBJ_AFF_MAT=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat
+ local ATLAS_SUBJ_WARP=/lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_warp.nii.gz
+ [[ -n '' ]]
++ echo 0
++ awk '{print ($1 == 0.0)}'
+ [[ 1 -eq 1 ]]
+ local 'METRIC_TERM=-i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_right.nii.gz'
+ greedy -d 3 -a -gm /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right_regmask.nii.gz -i /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/tse_to_chunktemp_right.nii.gz /home/ccn30/ENCRYPT/atlases/magdeburgatlas/train/train018/tse_to_chunktemp_right.nii.gz -o /lustre/scratch/wbic-beta/ccn30/ENCRYPT/segmentation/ASHS/25773/N4T2/multiatlas/tseg_right_train018/greedy_atlas_to_subj_affine.mat -m NCC 2x2x2 -n 60x60x0 -float
Executing with the default number of threads: 48
Noise on image 0 component 0: fixed = 0.783, moving = 0.632
*************************************************
  N=12   NUMBER OF CORRECTIONS=5       INITIAL VALUES F= 103.973   GNORM= 196.778
*************************************************
   I   NFN    FUNC        GNORM       STEPLENGTH
   1    2       -56.322     124.948       0.005
   2    3      -289.715      97.792       1.000
   3    4      -326.892     114.394       1.000
   4    6      -484.069     179.865       5.000
   5    9      -519.853     115.356       0.625
   6   10      -542.301      77.043       1.000
   7   11      -681.639      73.886       1.000
   8   13      -686.345      77.578       0.139
   9   14      -708.386      45.138       1.000
  10   17      -711.134      37.760       0.059
  11   18      -715.752      52.945       1.000
  12   21      -722.905      30.420       2.542
  13   22      -729.501      22.327       1.000
  14   23      -755.240      27.782       1.000
  15   24      -780.177     100.389       1.000
 IFLAG= -1  LINE SEARCH FAILED. SEE DOCUMENTATION OF ROUTINE MCSRCH ERROR RETURN OF LINE SEARCH: INFO= 3 POSSIBLE CAUSES: FUNCTION OR GRADIENT ARE INCORRECT OR INCORRECT TOLERANCESvnl_lbfgs: Error. Netlib routine lbfgs failed.
Final RAS Transform: 
0.895776 0.180548 -0.139747 1.49153 
0.143231 1.119 -0.0286257 4.73662 
-0.178867 -0.027479 1.22888 -7.18006 
0 0 0 1 

